{"version":3,"sources":["webpack://TencentCloudMonitorGrafanaApp/webpack/bootstrap","webpack://TencentCloudMonitorGrafanaApp/../node_modules/@grafana/toolkit/node_modules/webpack/buildin/global.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/@xobotyi/scrollbar-width/dist/index.esm.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/base64-js/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/buffer/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/copy-to-clipboard/index.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/index.less","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/css/query_editor.css","webpack://TencentCloudMonitorGrafanaApp/../node_modules/css-loader/dist/runtime/api.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/eventemitter3/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/fast-deep-equal/react.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/fast-shallow-equal/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/ieee754/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/isarray/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/js-cookie/src/js.cookie.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/nano-css/addon/__dev__/warnOnMissingDependencies.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/nano-css/addon/cssom.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/nano-css/addon/vcssom.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/nano-css/addon/vcssom/cssToTree.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/nano-css/addon/vcssom/removeRule.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/nano-css/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/formats.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/parse.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/stringify.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/utils.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-universal-interface/lib/addClassDecoratorSupport.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-universal-interface/lib/createEnhancer.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-universal-interface/lib/hookToRenderProp.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-universal-interface/lib/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-universal-interface/lib/render.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-universal-interface/lib/wrapInStatefulComponent.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/factory/createBreakpoint.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/factory/createGlobalState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/factory/createHTMLMediaHook.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/factory/createMemo.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/factory/createReducer.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/factory/createReducerContext.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/factory/createStateContext.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/misc/hookState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/misc/isDeepEqual.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/misc/parseTimeRanges.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/misc/util.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useAsync.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useAsyncFn.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useAsyncRetry.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useAudio.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useBattery.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useBeforeUnload.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useBoolean.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useClickAway.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useCookie.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useCopyToClipboard.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useCounter.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useCss.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useCustomCompareEffect.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useDebounce.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useDeepCompareEffect.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useDefault.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useDrop.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useDropArea.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useEffectOnce.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useEnsuredForwardedRef.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useEvent.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useFavicon.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useFirstMountState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useFullscreen.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useGeolocation.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useGetSet.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useGetSetState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useHarmonicIntervalFn.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useHash.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useHover.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useHoverDirty.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useIdle.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useIntersection.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useInterval.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useIsomorphicLayoutEffect.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useKey.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useKeyPress.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useKeyPressEvent.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useLatest.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useLifecycles.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useList.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useLocalStorage.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useLocation.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useLockBodyScroll.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useLogger.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useLongPress.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMap.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMeasure.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMedia.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMediaDevices.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMediatedState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMethods.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMotion.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMount.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMountedState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMouse.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMouseHovered.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMouseWheel.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMultiStateValidator.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useNetworkState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useNumber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useOrientation.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/usePageLeave.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/usePermission.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/usePrevious.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/usePreviousDistinct.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/usePromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useQueue.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useRaf.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useRafLoop.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useRafState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useRendersCount.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useScratch.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useScroll.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useScrollbarWidth.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useScrolling.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useSearchParam.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useSessionStorage.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useSet.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useSetState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useShallowCompareEffect.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useSize.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useSlider.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useSpeech.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useStartTyping.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useStateList.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useStateValidator.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useStateWithHistory.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useThrottle.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useThrottleFn.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useTimeout.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useTimeoutFn.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useTitle.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useToggle.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useTween.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useUnmount.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useUnmountPromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useUpdate.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useUpdateEffect.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useUpsert.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useVibrate.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useVideo.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useWindowScroll.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useWindowSize.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/node_modules/tslib/tslib.es6.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/AsyncSubject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/BehaviorSubject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/InnerSubscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Notification.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Observable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Observer.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/OuterSubscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/ReplaySubject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Scheduler.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/SubjectSubscription.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subscription.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/config.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/innerSubscribe.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/SubscribeOnObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/combineLatest.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/concat.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/defer.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/empty.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/from.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/fromArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/merge.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/of.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/race.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/throwError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/timer.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/zip.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/audit.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/auditTime.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/buffer.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/bufferCount.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/bufferTime.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/bufferToggle.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/bufferWhen.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/catchError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/combineAll.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/combineLatest.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/concat.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/concatAll.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/concatMap.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/concatMapTo.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/count.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/debounce.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/debounceTime.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/defaultIfEmpty.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/delay.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/delayWhen.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/dematerialize.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/distinct.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/distinctUntilChanged.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/distinctUntilKeyChanged.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/elementAt.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/endWith.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/every.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/exhaust.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/exhaustMap.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/expand.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/filter.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/finalize.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/find.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/findIndex.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/first.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/groupBy.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/ignoreElements.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/isEmpty.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/last.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/map.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/mapTo.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/materialize.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/max.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/merge.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/mergeAll.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/mergeMap.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/mergeMapTo.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/mergeScan.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/min.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/multicast.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/observeOn.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/onErrorResumeNext.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/pairwise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/partition.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/pluck.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/publish.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/publishBehavior.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/publishLast.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/publishReplay.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/race.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/reduce.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/refCount.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/repeat.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/repeatWhen.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/retry.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/retryWhen.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/sample.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/sampleTime.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/scan.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/sequenceEqual.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/share.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/shareReplay.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/single.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/skip.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/skipLast.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/skipUntil.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/skipWhile.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/startWith.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/subscribeOn.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/switchAll.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/switchMap.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/switchMapTo.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/take.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/takeLast.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/takeUntil.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/takeWhile.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/tap.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/throttle.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/throttleTime.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/throwIfEmpty.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/timeInterval.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/timeout.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/timeoutWith.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/timestamp.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/toArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/window.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/windowCount.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/windowTime.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/windowToggle.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/windowWhen.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/withLatestFrom.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/zip.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/zipAll.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduled.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduler/Action.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduler/AsapAction.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduler/AsapScheduler.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduler/QueueAction.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduler/QueueScheduler.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduler/asap.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduler/async.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduler/queue.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/iterator.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/observable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/ArgumentOutOfRangeError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/EmptyError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/Immediate.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/TimeoutError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/canReportError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/hostReportError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/identity.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isArrayLike.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isDate.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isFunction.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isInteropObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isNumeric.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isObject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isPromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isScheduler.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/noop.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/not.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/pipe.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeTo.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToResult.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/toSubscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/operators/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/screenfull/dist/screenfull.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/set-harmonic-interval/lib/index.esm.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/throttle-debounce/esm/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/toggle-selection/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/ts-easing/lib/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/tslib/tslib.es6.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/DataSource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/QueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/VariableQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APMMetadataQuery.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APMServiceDataSource.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APMServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APM_query_model.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APM_series.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/partListUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/tagUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/toSelectableValue.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/unwrap.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/useShadowedState.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/useUniqueId.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/AddButton.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/FormatAsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/FromSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/InputSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/OrderBySeries.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/PartListSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/Seg.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/SegmentSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/TagsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/styles.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/queryUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/query_builder.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/query_part.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/response_parser.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/datasourceStorage.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/indexedDB.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/react-loader.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/sign.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/signV2.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/utils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/config-editor/ConfigEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/LogServiceDataSource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/LogServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/constants.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/ConvertLogContextToDataFrame.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/ConvertSearchResultsToDataFrame.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/formatSearchLog.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/index.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/prepareTimeSeries.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/prestoType.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/model/api.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/model/index.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/utils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/utils/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/components/TopicSelector.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/index.less?44dc","webpack://TencentCloudMonitorGrafanaApp/./datasource/module.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/QueryCtrlRender.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/cascader.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/custom_select_dropdown.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/multi_condition.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/css/query_editor.css?c63a","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/partials/query.editor.html","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/partials/queryEditorTemplate.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/query.ctrl.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMMetadataQuery.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMServiceDataSource.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUM_query_model.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUM_series.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/partListUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/tagUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/toSelectableValue.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/unwrap.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/useShadowedState.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/useUniqueId.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/AddButton.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/FormatAsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/FromSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/InputSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/OrderByTimeSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/PartListSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/Seg.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/SegmentSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/TagsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/styles.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/queryUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/query_builder.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/query_part.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/response_parser.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor sync ^.*$","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor sync ^\\.\\/[a-zA-Z]\\w+\\/(datasource)|(query(_def)","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/MonitorDatasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/query_filter.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cos/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cos/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/index.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/types.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/en_US.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/index.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/zh_CN.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/data\"","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/runtime\"","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/ui\"","webpack://TencentCloudMonitorGrafanaApp/external \"angular\"","webpack://TencentCloudMonitorGrafanaApp/external \"emotion\"","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/core_module\"","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/table_model\"","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/utils/kbn\"","webpack://TencentCloudMonitorGrafanaApp/external \"app/plugins/sdk\"","webpack://TencentCloudMonitorGrafanaApp/external \"lodash\"","webpack://TencentCloudMonitorGrafanaApp/external \"moment\"","webpack://TencentCloudMonitorGrafanaApp/external \"react\"","webpack://TencentCloudMonitorGrafanaApp/external \"react-dom\"","webpack://TencentCloudMonitorGrafanaApp/external \"rxjs\""],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;ACnBA;AAAA;AAAA,kBAAkB,yCAAyC,2EAA2E,uDAAuD,8CAA8C,+JAA+J,oBAAoB,uEAAuE,+BAA2D;;;;;;;;;;;;;ACAphB;;AAEZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,UAAU;AACpD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEY;;AAEZ,aAAa,mBAAO,CAAC,qDAAW;AAChC,cAAc,mBAAO,CAAC,iDAAS;AAC/B,cAAc,mBAAO,CAAC,iDAAS;;AAE/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;AC5vDa;;AAEb,sBAAsB,mBAAO,CAAC,mEAAkB;;AAEhD;AACA;AACA;AACA;AACA;;AAEA,2CAA2C,IAAI;;AAE/C;AACA;AACA,4BAA4B,UAAU;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AChHA;AACA,kCAAkC,mBAAO,CAAC,4GAAsD;AAChG;AACA;AACA,cAAc,QAAS,wCAAwC,mEAAmE,GAAG,sLAAsL,mEAAmE,GAAG,SAAS,i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,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yDAAyD,OAAO;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;;;;;;;;;;;;;AC/Ua;;AAEb;;;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB,WAAW;AACjC;AACA;AACA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oBAAoB,WAAW;AAC/B;;AAEA,oBAAoB,WAAW;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACpDA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,QAAQ,WAAW;;AAEnB;AACA;AACA,QAAQ,UAAU;;AAElB;AACA;;;;;;;;;;;;ACpFA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,KAAK,IAA0C;AAC/C,EAAE,oCAAO,OAAO;AAAA;AAAA;AAAA;AAAA,oGAAC;AACjB;AACA;AACA,KAAK,IAA2B;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,QAAQ,sBAAsB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,EAAE;AACjC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;;AAEA;AACA;AACA,mEAAmE;AACnE;AACA;AACA,wCAAwC;AACxC;AACA,qEAAqE;AACrE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2DAA2D;AAC3D;;AAEA,SAAS,oBAAoB;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;;AAEA;;AAEA;AACA;;AAEA,2BAA2B;AAC3B,CAAC;;;;;;;;;;;;;AClKY;;AAEb;;AAEA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB,oBAAoB;AAC3C,uFAAuF;AACvF;;AAEA;AACA;AACA;;;;;;;;;;;;;ACxBa;;AAEb;AACA;AACA;;AAEA,QAAQ,IAAqC;AAC7C,QAAQ,mBAAO,CAAC,gHAAqC;AACrD;;AAEA;AACA;;AAEA;AACA,mCAAmC;AACnC,0CAA0C,eAAe;AACzD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACnCa;;AAEb,iBAAiB,mBAAO,CAAC,gFAAqB;;AAE9C;AACA;AACA;;AAEA,QAAQ,IAAqC;AAC7C,QAAQ,mBAAO,CAAC,gHAAqC,qCAAqC;AAC1F;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AChGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,mCAAmC,0BAA0B;AAC7D;AACA;AACA,iBAAiB;AACjB,mCAAmC,0BAA0B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACda;;AAEb;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,yCAAyC;AACzC,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA,YAAY,IAAqC;AACjD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,KAAqC,EAAE,cAQ1C;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,aAAa;AACb,qBAAqB,KAAqC;AAC1D;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,KAAqC;AACtD,2CAA2C,cAAc;AACzD,aAAa;AACb,mCAAmC,YAAY;AAC/C;AACA,gDAAgD,YAAY;AAC5D;;AAEA,uBAAuB,sBAAsB;AAC7C;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;;ACzIa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;ACjBa;;AAEb,gBAAgB,mBAAO,CAAC,wDAAa;AACrC,YAAY,mBAAO,CAAC,gDAAS;AAC7B,cAAc,mBAAO,CAAC,oDAAW;;AAEjC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVa;;AAEb,YAAY,mBAAO,CAAC,gDAAS;;AAE7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wCAAwC;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7Ka;;AAEb,YAAY,mBAAO,CAAC,gDAAS;AAC7B,cAAc,mBAAO,CAAC,oDAAW;;AAEjC;AACA,yCAAyC;AACzC;AACA,KAAK;AACL,4CAA4C;AAC5C;AACA,KAAK;AACL,qCAAqC;AACrC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wCAAwC;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACjNa;;AAEb;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AA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B;AACjC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACe,gFAAiB,EAAC;;;;;;;;;;;;;AC1BjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiC;AACF;AACW;AACD;AACa;AACvC;AACf;AACA;AACA;AACA,YAAY,oDAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4DAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,kBAAkB,oDAAM;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kBAAkB,gBAAgB,EAAE;AACtE,qCAAqC,kBAAkB,gBAAgB,EAAE;AACzE,qCAAqC,kBAAkB,iBAAiB,EAAE;AAC1E,mCAAmC,kBAAkB,+BAA+B,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,qEAAe;AACzC,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,uBAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,WAAW,qEAAe,eAAe;AAC/D;AACA;AACA,sBAAsB,kDAAkB,UAAU,sDAAQ,CAAC,sDAAQ,EAAE,kBAAkB,WAAW,4bAA4b;AAC9hB;AACA;AACA,sBAAsB,mDAAmB,MAAM,sDAAQ,CAAC,sDAAQ,EAAE,kBAAkB,WAAW,4bAA4b,GAAG;AAC9hB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AAC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AAY,EAAC;;;;;;;;;;;;;AC1B5B;AAAA;AAAA;AAAA;AAAA;AAA8C;AACd;AAChC;AACA,aAAa,sDAAQ,cAAc,QAAQ,gDAAO,yBAAyB,EAAE;AAC7E,uBAAuB,yDAAW;AAClC,QAAQ,gDAAO;AACf;AACA,KAAK;AACL,uBAAuB,yDAAW;AAClC,QAAQ,gDAAO;AACf;AACA,KAAK;AACL;AACA;AACe,wEAAS,EAAC;;;;;;;;;;;;;ACdzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0C;AACN;AACY;AACR;AACxC;AACA,oBAAoB,gEAAe;AACnC,aAAa,4DAAW;AACxB;AACA;AACA;AACA,KAAK;AACL,0BAA0B,yDAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,IAAsC;AAC1D;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,oBAAoB,IAAsC;AAC1D;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,gCAAgC,wDAAS;AACzC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACe,iFAAkB,EAAC;;;;;;;;;;;;;AC5DlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgC;AACI;AACgB;AACrC;AACf,kCAAkC,kBAAkB;AACpD,yBAAyB,YAAY;AACrC,yBAAyB,YAAY;AACrC,eAAe,wEAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,0DAAS;AACtB;AACA;AACA,QAAQ,qDAAO;AACf;AACA;AACA,6BAA6B,wEAAgB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,WAAW;AACtD,iCAAiC,wEAAgB;AACjD;AACA;AACA;AACA,wCAAwC,qBAAqB,EAAE;AAC/D,iBAAiB;AACjB;AACA,2CAA2C,WAAW;AACtD,iCAAiC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;AACjB,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA,4BAA4B,wEAAgB;AAC5C,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACe,sEAAO,EAAC;;;;;;;;;;;;;ACzEvB;AAAA;AAAA;AAAA;AAAuE;AACzB;AAC9C;AACA,SAAS,oDAAS;AAClB,8BAA8B,+CAAI,EAAE,+CAAI;AACxC;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,cAAc;AAC9C;AACA;AACA;AACA,sBAAsB,oDAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,aAAa,sDAAQ,cAAc,iCAAiC,EAAE;AACtE;AACA,IAAI,6DAAe,cAAc,2CAA2C,EAAE;AAC9E;AACA,cAAc,yDAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,iBAAiB,yDAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACe,8EAAe,EAAC;;;;;;;;;;;;;AC9E/B;AAAA;AAAA;AAAA;AAA4C;AACK;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,oDAAS;AACb;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,CAAC,EAAE;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,sDAAQ;AACrB,IAAI,uDAAS;AACb,sCAAsC,yCAAyC;AAC/E,uCAAuC,0CAA0C;AACjF,0CAA0C,6CAA6C;AACvF,QAAQ,qDAAE;AACV,QAAQ,qDAAE;AACV,QAAQ,qDAAE;AACV;AACA,YAAY,sDAAG;AACf,YAAY,sDAAG;AACf,YAAY,sDAAG;AACf;AACA,KAAK;AACL;AACA;AACA;AACe,mHAAS,gEAAgE,EAAC;;;;;;;;;;;;;ACzDzF;AAAA;AAAA;AAAA;AAAA;AAA0C;AACO;AAC1C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,oDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACe;AACf;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA,gCAAgC,eAAe;AAC/C,sBAAsB,oDAAM;AAC5B;AACA;AACA;AACA;AACA,kCAAkC,mDAAmD;AACrF;AACA;AACA,wBAAwB,qDAAE,yCAAyC,iBAAiB;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,sDAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,QAAQ,uDAAS;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,QAAQ,uDAAS;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,EAAC;;;;;;;;;;;;;AC7GN;AAAA;AAAA;AAAA;AAAuC;AACK;AACI;AAChD;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA,IAAI,8DAAa;AACjB,mCAAmC,4DAAc;AACjD,4BAA4B,kDAAkD;AAC9E,KAAK;AACL,IAAI,gEAAe;AACnB,mCAAmC,4DAAc;AACjD,KAAK;AACL;AACe,wEAAS,EAAC;;;;;;;;;;;;;AChBzB;AAAA;AAAA;AAAA;AAA4C;AACN;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B,kBAAkB,oDAAM;AACxB,iBAAiB,oDAAM;AACvB,gBAAgB,yDAAW;AAC3B;AACA;AACA,YAAY,qDAAE,4CAA4C,iBAAiB;AAC3E;AACA;AACA,kDAAkD,wBAAwB,EAAE;AAC5E,KAAK;AACL,gBAAgB,yDAAW;AAC3B;AACA;AACA;AACA,YAAY,sDAAG;AACf;AACA,KAAK;AACL;AACA,mCAAmC,iBAAiB,EAAE;AACtD,oCAAoC,iBAAiB,EAAE;AACvD;AACA;AACA;AACA;AACA;AACe,2EAAY,EAAC;;;;;;;;;;;;;ACvC5B;AAAA;AAAA;AAAA;AAAyC;AACc;AACvD;AACA,gCAAgC,iBAAiB;AACjD,aAAa,sDAAQ;AACrB,wBAAwB,qDAAO,cAAc;AAC7C;AACA;AACA;AACA,wBAAwB,sDAAQ,CAAC,sDAAQ,GAAG,oBAAoB;AAChE,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,kEAAkE,oDAAM;AACxE;AACA,aAAa;AACb,SAAS;AACT,4BAA4B,wBAAwB,EAAE;AACtD,KAAK,EAAE,EAAE;AACT,gBAAgB,sDAAQ,EAAE,MAAM,yDAAW,iBAAiB,iBAAiB,EAAE,UAAU;AACzF;AACA;AACe,qEAAM,EAAC;;;;;;;;;;;;;AC1BtB;AAAA;AAAA;AAAA;AAAA;AAA0C;AAC0B;AACtB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,sDAAQ;AACrB,aAAa,sDAAQ;AACrB,mBAAmB,qDAAO;AAC1B;AACA;AACA;AACA,yBAAyB,iGAAiG;AAC1H;AACA,SAAS;AACT,KAAK;AACL,IAAI,0EAAyB;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACe,mHAAS;AACxB;AACA,oBAAoB,SAAS,+CAAI,gBAAgB,EAAE,CAAC,EAAC;;;;;;;;;;;;;ACpCrD;AAAA;AAAA;AAAA;AAA4C;AACJ;AACxC;AACA;AACA;AACA;AACA;AACA,QAAQ,oDAAS;AACjB;AACA;AACA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA,aAAa,sDAAQ;AACrB,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACe,uEAAQ,EAAC;;;;;;;;;;;;;ACpCxB;AAAA;AAAA;AAAA;AAA4C;AACa;AACzD;AACA,aAAa,sDAAQ,GAAG;AACxB,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB,qBAAqB;AACrB;AACA,aAAa;AACb,uBAAuB,+CAAI;AAC3B;AACA,QAAQ,qDAAE;AACV;AACA;AACA;AACA,YAAY,sDAAG;AACf;AACA,KAAK;AACL;AACA;AACA,uCAAuC,WAAW,EAAE;AACrC,qHAAW,oEAAoE,EAAC;;;;;;;;;;;;;ACpC/F;AAAA;AAAA;AAAA;AAAsD;AAC/C;AACP,qBAAqB,oDAAM;AAC3B,aAAa,sDAAQ;AACrB,mBAAmB,yDAAW;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAA4C;AAC5C;AACA,kBAAkB,qDAAO,cAAc;AACvC;AACA;AACA,MAAM,EAAE;AACR,aAAa,wDAAU;AACvB,yBAAyB,qDAAO;AAChC;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;AACA,iCAAiC,+BAA+B;AAChE;AACA;AACA,SAAS,IAAI;AACb,KAAK;AACL;AACA;AACe,yEAAU,EAAC;;;;;;;;;;;;;ACtB1B;AAAA;AAAA;AAAA;AAA4C;AACN;AACtC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,kCAAkC,6BAA6B;AAC/D,aAAa,sDAAQ;AACrB,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA,QA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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,sDAAQ,CAAC,sDAAQ,GAAG,sBAAsB,sBAAsB;AAC/F,+CAA+C,+CAAI;AACnD,sBAAsB,sBAAsB;AAC5C,YAAY,sDAAG;AACf,YAAY,sDAAG;AACf,YAAY,sDAAG;AACf,YAAY,sDAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,+CAAI;AACrD;AACA,YAAY,qDAAE;AACd,YAAY,qDAAE;AACd,YAAY,qDAAE;AACd,YAAY,qDAAE;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qDAAE;AACV,QAAQ,qDAAE;AACV;AACA,YAAY,sDAAG;AACf,YAAY,sDAAG;AACf,YAAY,sDAAG;AACf,YAAY,sDAAG;AACf,YAAY,sDAAG;AACf,YAAY,sDAAG;AACf;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA,KAAK;AACL;AACA;AACO;AACP,4CAA4C,oDAAM;AAClD;AACA,kBAAkB,wEAAM;AACxB,WAAW,0DAAY,UAAU,sDAAQ,CAAC,sDAAQ,GAAG,mBAAmB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,EAAE;AACX;AACe,yEAAU,EAAC;;;;;;;;;;;;;AClI1B;AAAA;AAAA;AAAA;AAAA;AAAkC;AACM;AACF;AACtC;AACA,QAAQ,IAAsC;AAC9C;AACA;AACA;AACA;AACA,aAAa,4DAAW;AACxB;AACA;AACA,KAAK;AACL,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,YAAY,qDAAE;AACd;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,gBAAgB,sDAAG;AACnB;AACA;AACA,KAAK;AACL;AACA;AACe,wEAAS,EAAC;;;;;;;;;;;;;ACpCzB;AAAA;AAAA;AAAA;AAAA;AAA0D;AAC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AC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,OAAO,8CAAc;AACrB;AACA;AACe,sEAAO,EAAC;;;;;;;;;;;;;AC/EvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0C;AACa;AACP;AACR;AACxC;AACA,6BAA6B,cAAc;AAC3C,oBAAoB,gEAAe;AACnC,oBAAoB,oDAAM;AAC1B,mBAAmB,oDAAM;AACzB,gBAAgB,oDAAM;AACtB,aAAa,4DAAW;AACxB;AACA;AACA,KAAK;AACL;AACA,IAAI,uDAAS;AACb,YAAY,oDAAS;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,+CAAI;AACjD;AACA,8BAA8B,kBAAkB;AAChD;AACA;AACA;AACA;AACA;AACA,4CAA4C,+CAAI;AAChD;AACA,8BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,iCAAiC;AACrE,oCAAoC,iCAAiC;AACrE;AACA;AACA;AACA;AACA;AACA,oCAAoC,mDAAmD;AACvF,oCAAoC,mDAAmD;AACvF;AACA,gBAAgB,qDAAE;AAClB,gBAAgB,qDAAE;AAClB,gBAAgB,qDAAE;AAClB,gBAAgB,qDAAE;AAClB;AACA;AACA,gBAAgB,sDAAG;AACnB,gBAAgB,sDAAG;AACnB,gBAAgB,sDAAG;AACnB,gBAAgB,sDAAG;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,4CAA4C,+CAAI;AAChD;AACA,iBAAiB;AACjB;AACA,YAAY,qDAAE;AACd,YAAY,qDAAE;AACd;AACA,gBAAgB,sDAAG;AACnB,gBAAgB,sDAAG;AACnB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACe,wEAAS,EAAC;;;;;;;;;;;;;ACzGzB;AAAA;AAAA;AAAA;AAAiC;AACgC;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wBAAwB;AACzB;AACA,kBAAkB,oDAAM;AACxB,aAAa,sDAAQ;AACrB,oCAAoC;AACpC;AACA;AACA;AACA;AACA,wBAAwB,yBAAyB;AACjD;AACA;AACA;AACA;AACA,KAAK;AACL,qBAAqB,yDAAW;AAChC;AACA;AACA;AACA;AACA,mBAAmB,sDAAQ,CAAC,sDAAQ,GAAG,cAAc,+CAA+C;AACpG,SAAS;AACT,KAAK;AACL,sBAAsB,yDAAW;AACjC;AACA;AACA;AACA;AACA,mBAAmB,sDAAQ,CAAC,sDAAQ,GAAG,cAAc,iDAAiD;AACtG,SAAS;AACT,KAAK;AACL,oBAAoB,yDAAW;AAC/B;AACA;AACA;AACA;AACA,mBAAmB,sDAAQ,CAAC,sDAAQ,GAAG,cAAc,+CAA+C;AACpG,SAAS;AACT,KAAK;AACL,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACe,wEAAS,EAAC;;;;;;;;;;;;;AClEzB;AAAA;AAAA;AAAoE;AAC9B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,0EAAyB;AAC7B;AACA;AACA;AACA,QAAQ,qDAAE;AACV;AACA,YAAY,sDAAG;AACf;AACA,KAAK;AACL;AACe,6EAAc,EAAC;;;;;;;;;;;;;AC/C9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiC;AACO;AACQ;AACZ;AACY;AACjC;AACf,8BAA8B,eAAe;AAC7C,oBAAoB,gEAAe;AACnC,iBAAiB,0DAAS;AAC1B,gBAAgB,oDAAM;AACtB;AACA,IAAI,gEAAe;AACnB;AACA;AACA;AACA;AACA,KAAK;AACL,kBAAkB,qDAAO,cAAc;AACvC,2BAA2B,8CAA8C,EAAE;AAC3E,2BAA2B,8CAA8C,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,EAAE,EAAE;AACT,WAAW,sDAAQ,EAAE,8DAA8D;AACnF;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAiE;AAClD;AACf,kCAAkC,4BAA4B;AAC9D,yBAAyB,oDAAM;AAC/B,qBAAqB,oDAAM;AAC3B;AACA;AACA,aAAa,sDAAQ;AACrB,mBAAmB,yDAAW;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,uDAAS;AACb;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+D;AACL;AACN;AAC7C;AACP,8BAA8B,eAAe;AAC7C;AACA;AACA;AACA,uBAAuB,8EAAkB;AACzC,aAAa,sDAAQ;AACrB,kBAAkB,oDAAM;AACxB,0BAA0B,oDAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yDAAW;AAC9B;AACA,uBAAuB,wEAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,uBAAuB,qDAAO,cAAc;AAC5C;AACA;AACA;AACA;AACA,oCAAoC,YAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,oCAAoC,YAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK,EAAE,EAAE;AACT;AACA;;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAoD;AACd;AACtC;AACA,wBAAwB,UAAU;AAClC,aAAa,sDAAQ;AACrB,kBAAkB,oDAAM;AACxB,oBAAoB,oDAAM;AAC1B,uBAAuB,oDAAM;AAC7B,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,2DAAU;AACd;AACA,KAAK;AACL;AACA;AACe,0EAAW,EAAC;;;;;;;;;;;;;ACjC3B;AAAA;AAAA;AAAA;AAAoD;AACd;AACtC;AACA,wBAAwB,UAAU;AAClC,aAAa,sDAAQ;AACrB,kBAAkB,oDAAM;AACxB,mBAAmB,oDAAM;AACzB,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI,2DAAU;AACd;AACA,KAAK;AACL;AACA;AACe,4EAAa,EAAC;;;;;;;;;;;;;AC/B7B;AAAA;AAAA;AAAA;AAA0C;AACN;AACrB;AACf,wBAAwB,QAAQ;AAChC,iBAAiB,0DAAS;AAC1B,WAAW,6DAAY;AACvB;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAuD;AACxC;AACf,wBAAwB,QAAQ;AAChC,gBAAgB,oDAAM;AACtB,kBAAkB,oDAAM;AACxB,mBAAmB,oDAAM;AACzB,kBAAkB,yDAAW,cAAc,sBAAsB,EAAE;AACnE,cAAc,yDAAW;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,gBAAgB,yDAAW;AAC3B;AACA;AACA,KAAK;AACL;AACA,IAAI,uDAAS;AACb;AACA,KAAK;AACL;AACA,IAAI,uDAAS;AACb;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAA0C;AAC1C;AACA;AACA;AACA;AACA,6BAA6B,qCAAqC;AAClE,uBAAuB,oDAAM;AAC7B;AACA;AACA,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACe,+HAAgE,EAAE,EAAC;;;;;;;;;;;;;ACpBlF;AAAA;AAAA;AAAmC;AACnC;AACA;AACA;AACA;AACA,WAAW,wDAAU;AACrB;AACe,wEAAS,EAAC;;;;;;;;;;;;;ACPzB;AAAA;AAAA;AAAA;AAAmC;AACL;AAC9B;AACA,gCAAgC,uBAAuB;AACvD,wBAAwB,UAAU;AAClC,2BAA2B,WAAW;AACtC,aAAa,gDAAM;AACnB,YAAY,uDAAM;AAClB,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA,4BAA4B,gDAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACe,uEAAQ,EAAC;;;;;;;;;;;;;ACpBxB;AAAA;AAAA;AAAA;AAA+B;AACa;AAC5C;AACA,gBAAgB,oDAAM;AACtB;AACA;AACA,IAAI,8DAAa,cAAc,qBAAqB,wBAAwB,GAAG,EAAE;AACjF;AACe,yEAAU,EAAC;;;;;;;;;;;;;ACR1B;AAAA;AAAA;AAAA;AAAwC;AACI;AAC5C;AACA,uBAAuB,oDAAM;AAC7B,IAAI,8DAAa,cAAc;AAC/B;AACA,MAAM,EAAE;AACR,kBAAkB,qDAAO;AACzB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACe,gFAAiB,EAAC;;;;;;;;;;;;;AC5BjC;AAAA;AAAA;AAAA;AAAmC;AACnC,oCAAoC,4BAA4B;AACjD;AACf,aAAa,wDAAU;AACvB;AACA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAkC;AACwB;AAC1D;AACA,uBAAuB,8EAAkB;AACzC,IAAI,uDAAS;AACb;AACA;AACA;AACA,KAAK;AACL;AACe,8EAAe,EAAC;;;;;;;;;;;;;ACV/B;AAAA;AAAA;AAAA;AAAiC;AACD;AAChC;AACA;AACA;AACe;AACf,iCAAiC,kBAAkB;AACnD,aAAa,wDAAO;AACpB;AACA;AACA,QAAQ,sDAAQ,CAAC,sDAAQ,GAAG,iBAAiB;AAC7C;AACA,aAAa,EAAE;AACf;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAkC;AACc;AAChD,8BAA8B,sDAAW;AACzC;AACA,6BAA6B,gBAAgB;AAC7C,6BAA6B,wBAAwB;AACrD,0BAA0B,aAAa;AACvC,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA,0FAA0F,cAAc,EAAE;AAC1G;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACe,sGAAuC,+CAAI,EAAC;;;;;;;;;;;;;AC5B3D;AAAA;AAAgE;AAChE,eAAe,4EAAmB;AACnB,uEAAQ,EAAC;;;;;;;;;;;;;ACFxB;AAAA;AAAA;AAAA;AAAA;AAAkC;AACe;AACT;AACxC;AACA,aAAa,4DAAW,cAAc;AACtC,WAAW,oDAAS;AACpB,WAAW,oDAAS;AACpB,KAAK,EAAE,EAAE;AACT,IAAI,uDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,QAAQ,qDAAE;AACV;AACA;AACA,SAAS;AACT;AACA,YAAY,sDAAG;AACf;AACA,KAAK;AACL;AACA;AACe,8EAAe,EAAC;;;;;;;;;;;;;ACnC/B;AAAA;AAAA;AAAA;AAAA;AAAkC;AACM;AACS;AACjD;AACA,kCAAkC,yBAAyB;AAC3D,mCAAmC,0BAA0B;AAC7D,aAAa,4DAAW;AACxB,eAAe,oDAAS;AACxB,gBAAgB,oDAAS;AACzB,KAAK;AACL,IAAI,uDAAS;AACb,YAAY,oDAAS;AACrB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,YAAY,qDAAE;AACd;AACA,gBAAgB,sDAAG;AACnB;AACA;AACA,KAAK;AACL;AACA;AACe,4EAAa,EAAC;;;;;;;;;;;;;AC1B7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,8EAA8E;AACvG;AACA;;AAEO;AACP;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;;AAEO;AACP;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;;AAEO;AACP,mCAAmC,oCAAoC;AACvE;;AAEO;AACP;AACA;;AAEO;AACP,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;;AAEO;AACP,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;;AAEO;AACP;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;;AAEM;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,MAAM,gBAAgB;AACzC;AACA;AACA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;;AAEA;AACO;AACP,4BAA4B,sBAAsB;AAClD;AACA;AACA;;AAEA;AACO;AACP,iDAAiD,QAAQ;AACzD,wCAAwC,QAAQ;AAChD,wDAAwD,QAAQ;AAChE;AACA;AACA;;AAEO;AACP,4EAA4E,OAAO;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA,iBAAiB,sFAAsF,aAAa,EAAE;AACtH,sBAAsB,gCAAgC,qCAAqC,0CAA0C,EAAE,EAAE,GAAG;AAC5I,2BAA2B,MAAM,eAAe,EAAE,YAAY,oBAAoB,EAAE;AACpF,sBAAsB,oGAAoG;AAC1H,6BAA6B,uBAAuB;AACpD,4BAA4B,wBAAwB;AACpD,2BAA2B,yDAAyD;AACpF;;AAEO;AACP;AACA,iBAAiB,4CAA4C,SAAS,EAAE,qDAAqD,aAAa,EAAE;AAC5I,yBAAyB,6BAA6B,oBAAoB,gDAAgD,gBAAgB,EAAE,KAAK;AACjJ;;AAEO;AACP;AACA;AACA,2GAA2G,sFAAsF,aAAa,EAAE;AAChN,sBAAsB,8BAA8B,gDAAgD,uDAAuD,EAAE,EAAE,GAAG;AAClK,4CAA4C,sCAAsC,UAAU,oBAAoB,EAAE,EAAE,UAAU;AAC9H;;AAEO;AACP,gCAAgC,uCAAuC,aAAa,EAAE,EAAE,OAAO,kBAAkB;AACjH;AACA;;AAEA;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP,4CAA4C;AAC5C;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9OA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACG;AACU;AAC9C;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0DAAY;AAC/B;AACA;AACA;AACA;AACA,mBAAmB,0DAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,gDAAO;AACe;AACxB;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACG;AACqC;AACzE;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qFAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,gDAAO;AACkB;AAC3B;;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AAAA;AACiC;AACS;AAC1C;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACe;AAC3B;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACN;AACgB;AAC9C;AACP;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yDAAE;AACzB;AACA,uBAAuB,yEAAU;AACjC;AACA,uBAAuB,+DAAK;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACuB;AACxB;;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACuD;AACJ;AACmB;AAC1B;AACV;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uEAAY;AAC/B;AACA;AACA;AACA;AACA,qCAAqC,8CAAM;AAC3C;AACA;AACA;AACA,YAAY,8CAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAM;AACtB;AACA;AACA;AACA,gBAAgB,2EAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,yBAAyB,6DAAiB;AAC1C;AACA;AACA;AACA;AACA,wBAAwB,uBAAuB;AAC/C;AACA;AACA;AACA;AACA;AACA,eAAe,gEAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,kBAAkB,EAAE,kBAAkB,oBAAoB,EAAE,eAAe,uBAAuB,EAAE;AAC9I,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACqB;AACtB;AACA;AACA,sBAAsB,8CAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnHA;AAAA;AAAA;AAAA;AAAA;AACkC;AACuB;AAClD;AACP;AACA,4BAA4B,EAAE;AAC9B;AACA,YAAY,8CAAM;AAClB;AACA;AACA;AACA,YAAY,6EAAe;AAC3B;AACA,KAAK;AACL,2BAA2B;AAC3B;AACA;;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAA;AACiC;AACS;AAC1C;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACe;AAC3B;;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACG;AACM;AACI;AACc;AACa;AACb;AAC5D;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qFAAuB;AAC7C;AACA;AACA,2BAA2B,0DAAY;AACvC;AACA;AACA;AACA,+BAA+B,wEAAmB;AAClD;AACA;AACA,4CAA4C,wEAAmB;AAC/D;AACA;AACA,2BAA2B,+BAA+B;AAC1D;AACA;AACA;AACA;AACA,2BAA2B,+BAA+B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,sDAAK;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,gDAAO;AACgB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACxHA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,mBAAmB;AACpD;AACA,CAAC;AACoB;AACrB;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACS;AACA;AACI;AAC2B;AACb;AACyB;AACrF;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACiB;AAC7B;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,0EAAkB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qFAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qFAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qFAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qFAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qFAAuB;AAC7C;AACA;AACA;AACA,mBAAmB,0DAAY;AAC/B;AACA;AACA;AACA,mBAAmB,0DAAY;AAC/B;AACA;AACA;AACA,uBAAuB,wEAAmB;AAC1C;AACA;AACA;AACA,6BAA6B,sDAAU;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACO;AACnB;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,0DAAY;AAC/B;AACA;AACA;AACA,CAAC;AAC2B;AAC5B;;;;;;;;;;;;;AC7JA;AAAA;AAAA;AAAA;AAAA;AACiC;AACa;AAC9C;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,0DAAY;AACiB;AAC/B;;;;;;;;;;;;;AC/BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACc;AACK;AACN;AACuC;AACnD;AACuB;AACzD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,+CAAa;AACjD;AACA;AACA;AACA,wCAAwC,+CAAa;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0EAAkB,iBAAiB,aAAa;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,0DAAY;AACQ;AACtB;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA,YAAY,mEAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,+CAAa;AAChD;AACA,oBAAoB,mEAAU;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,8CAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,8CAAM;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,6EAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,6EAAe;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,6CAA6C;AAChG,qBAAqB,8CAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAM;AACtB;AACA;AACA;AACA,gBAAgB,6EAAe;AAC/B;AACA;AACA;AACA;AACA,aAAa,8CAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,8CAAM;AACtB;AACA;AACA;AACA;AACA;AACA,gBAAgB,6EAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACyB;AAC1B;;;;;;;;;;;;;ACxOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACyC;AACE;AACI;AACkB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iCAAiC;AAChE;AACA;AACA;AACA;AACA,YAAY,mEAAU;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,6EAAmB;AACzD;AACA;AACA,YAAY,6DAAO;AACnB;AACA;AACA;AACA;AACA,oBAAoB,+DAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA,yCAAyC,6EAAmB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,6EAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACuB;AACxB;AACA,+CAA+C,oCAAoC,6EAAmB,sBAAsB,EAAE;AAC9H;AACA;;;;;;;;;;;;;AC3IA;AAAA;AAAA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACS;AACA;AACO;AACjD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACqB;AACjC;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACsB;AAClC;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACqB;AACjC;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACsB;AAC3B;AACP;AACA;AACA;AACA,0BAA0B,sDAAU;AACpC;AACA;AACA,WAAW,qEAAW;AACtB;AACA;;;;;;;;;;;;;AC5FA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACc;AACJ;AACA;AACI;AACyB;AACxE;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,0DAAY;AAC5D;AACA;AACA;AACA;AACA,6BAA6B,0DAAY;AACzC;AACA;AACA;AACA;AACA;AACA,eAAe,oEAAmB;AAClC;AACA;AACA,CAAC,CAAC,sDAAU;AACqB;AAC1B;AACP;AACA;AACA,mBAAmB,cAAc;AACjC,oBAAoB,2BAA2B;AAC/C,mBAAmB,8BAA8B;AACjD,sBAAsB,8BAA8B;AACpD,qBAAqB,qCAAqC;AAC1D,sBAAsB,sDAAsD;AAC5E,qBAAqB,qCAAqC;AAC1D,kBAAkB,kCAAkC;AACpD,mBAAmB;AACnB;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,0DAAiB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC7IA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACF;AACK;AAC9C;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA,wBAAwB,oDAAI;AAC5B;AACA;AACA;AACA;AACA;AACA,aAAa,iEAAS;AACtB;AACA;AACA;AACA,8BAA8B,oDAAI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,oDAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC,CAAC,sDAAU;AACqB;AACjC;;;;;;;;;;;;;AClDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACiB;AACR;AACW;AACS;AACtB;AACxC;AACO;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA,QAAQ,qEAAW;AACnB;AACA;AACA;AACA;AACA;AACA,oCAAoC,6DAAO;AAC3C;AACA;AACA,WAAW,4DAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACgC;AACjC;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA,yBAAyB,iFAAiB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,gEAAe;AACkB;AACnC;;;;;;;;;;;;;ACpGA;AAAA;AAAA;AAAA;AAAA;AAC0B;AACyB;AAC5C;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA,WAAW,sEAAS,GAAG,sCAAE;AACzB;AACA;;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACb;AACE;AACzB;AACP,eAAe,sDAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,kDAAI,UAAU,oDAAK;AAChD;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACpC,8BAA8B,sDAAU,wBAAwB,8BAA8B,EAAE;AAChG;AACP;AACA;AACA;AACA,eAAe,sDAAU,wBAAwB,wCAAwC,8BAA8B,EAAE,EAAE,EAAE;AAC7H;AACA;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACO;AACC;AAC5C;AACP;AACA,6BAA6B,sDAAU;AACvC;AACA;AACA,mBAAmB,sDAAU,CAAC,qEAAW;AACzC;AACA;AACA,eAAe,sEAAS;AACxB;AACA;AACA;;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACiB;AACD;AACpD;AACP;AACA,mBAAmB,sDAAU,CAAC,+EAAgB;AAC9C;AACA;AACA,eAAe,8EAAa;AAC5B;AACA;AACA;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACO;AACD;AACT;AACjC;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,QAAQ,qEAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF,sDAAU;AAC9F;AACA;AACA,WAAW,oEAAQ,aAAa,4DAAS;AACzC;AACA;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACkD;AACV;AACmB;AACpD;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA,QAAQ,qEAAW;AACnB;AACA,eAAe,8EAAa;AAC5B;AACA;AACA,eAAe,4DAAS;AACxB;AACA;AACA;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACS;AACF;AACa;AACS;AACvD;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA,YAAY,6DAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,4DAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACuB;AACxB;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,2BAA2B;AACtD;AACA,mCAAmC,iFAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,+BAA+B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,gEAAe;AACS;AAC1B;;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAA;AAC2C;AACpC;AACP;AACA,mBAAmB,sDAAU,wBAAwB,gCAAgC,EAAE;AACvF;AACA;AACA,mBAAmB,sDAAU,wBAAwB,yCAAyC,uCAAuC,EAAE,EAAE;AACzI;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACA;AACG;AACI;AAC3C;AACP;AACA;AACA;AACA;AACA,QAAQ,iEAAS;AACjB;AACA;AACA,aAAa,qEAAW;AACxB;AACA;AACA,SAAS,qEAAW;AACpB,oBAAoB,sDAAK;AACzB;AACA,eAAe,sDAAU;AACzB,kBAAkB,iEAAS;AAC3B;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACO;AACE;AACC;AACkC;AACoB;AAC1F;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,4DAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACsB;AACvB;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,6DAAO;AACnB;AACA;AACA,8BAA8B,kEAAe;AAC7C,oDAAoD,kEAAe;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kEAAe;AACjD;AACA;AACA;AACA;AACA;AACA,kCAAkC,+BAA+B,IAAI;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,kEAAe;AAC/C;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,sEAAc,sBAAsB,qEAAqB;AACxE;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;ACxNA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,sEAAc,eAAe,qEAAqB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACX;AACY;AACrC;AACP;AACA,oBAAoB,sDAAK;AACzB;AACA,WAAW,oDAAK,cAAc,QAAQ,+DAAK,sBAAsB,EAAE;AACnE;AACA;;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA,kBAAkB,sEAAc,sBAAsB,qEAAqB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;ACnCA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,KAAK;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACzFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACA;AACO;AAC3C;AACP;AACA,oBAAoB,sDAAK;AACzB,QAAQ,qEAAW;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,8BAA8B;AAC9B,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sGAAsG,2CAA2C;AACjJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACc;AACe;AACT;AAC9C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA,kBAAkB,iFAAiB;AACnC;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,0DAAY;AAC3C,uBAAuB;AACvB;AACA,gCAAgC,iFAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,gEAAe;AACjB;;;;;;;;;;;;;ACzGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACc;AACkD;AAC1F;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,0DAAY;AAC9C;AACA;AACA;AACA,gCAAgC,sEAAc,sBAAsB,qEAAqB;AACzF;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,qEAAqB;AAC3D;AACA,oCAAoC,sEAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AACoE;AAC7D;AACP,8BAA8B,wBAAwB,+EAAqB,WAAW;AACtF;AACA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC0C;AAC0B;AAC1B;AAC1C;AACO;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,6DAAO;AAC3C;AACA;AACA,8BAA8B,yBAAyB,6DAAI,oCAAoC,+EAAqB,WAAW;AAC/H;AACA;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAC8D;AACvD;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA,8BAA8B,yBAAyB,yDAAY,8CAA8C;AACjH;AACA;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AACsC;AAC/B;AACP,WAAW,0DAAQ;AACnB;AACA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AACsC;AAC/B;AACP,WAAW,0DAAQ;AACnB;AACA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AACwC;AACjC;AACP,WAAW,4DAAS,cAAc,wBAAwB,EAAE;AAC5D;AACA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP,8BAA8B,0DAA0D;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP,8BAA8B,4DAA4D;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sEAAc,eAAe,qEAAqB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACA;AACpC;AACP;AACA,oBAAoB,sDAAK;AACzB;AACA,8BAA8B,kEAAkE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA;AACA;AACA;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA,8BAA8B,8DAA8D;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACH;AACG;AACI;AACxC;AACP;AACA,oBAAoB,sDAAK;AACzB;AACA,wBAAwB,2DAAM;AAC9B;AACA,8BAA8B,4DAA4D;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,0DAAY;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,0DAAY;AAC9C;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC5FA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACA;AACU;AACS;AACvD;AACP;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,kEAAkE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,iFAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,gEAAe;AACjB;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACnIA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP,8BAA8B,gEAAgE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA,sBAAsB,sEAAc,cAAc,qEAAqB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACO;AAC9B;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP,8BAA8B,4EAA4E;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC3DA;AAAA;AAAA;AAAA;AAC8D;AACvD;AACP,WAAW,kFAAoB,kBAAkB,8DAA8D,EAAE;AACjH;AACA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC0E;AACxC;AACY;AACI;AACpB;AACvB;AACP;AACA,kBAAkB,qFAAuB;AACzC;AACA;AACA;AACA,2BAA2B,sDAAM,kBAAkB,oBAAoB,EAAE,GAAG,kDAAI;AAChF,cAAc,sEAAc;AAC5B,cAAc,kEAAY,cAAc,YAAY,qFAAuB,GAAG,EAAE;AAChF;AACA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AAC8C;AACR;AAC/B;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA,8BAA8B,QAAQ,iEAAM,SAAS,iDAAE,uBAAuB;AAC9E;AACA;;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP,8BAA8B,mEAAmE;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AClDA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP,8BAA8B,+CAA+C;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sEAAc,YAAY,qEAAqB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACL;AACc;AACuD;AAC1F;AACP;AACA,kCAAkC,gDAAgD,QAAQ,6DAAI,qBAAqB,gDAAG,mBAAmB,oCAAoC,EAAE,GAAG,EAAE,GAAG;AACvL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qEAAqB;AACvD;AACA;AACA,gCAAgC,sEAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP;AACA;AACA;AACA;AACA,8BAA8B,wEAAwE;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACyB;AAC1B;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,sEAAc,aAAa,qEAAqB;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACK;AAC5B;;;;;;;;;;;;;AClGA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACI;AACxC;AACP,8BAA8B,mDAAmD;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA,sBAAsB,0DAAY;AAClC;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA,8BAA8B,8EAA8E;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC4B;AAC7B;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACmB;AAC/B;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AACsD;AAC/C;AACP,8BAA8B,wBAAwB,iEAAiB,oCAAoC;AAC3G;AACA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACgD;AACd;AACJ;AACoB;AACJ;AACF;AACrC;AACP;AACA,8BAA8B,gCAAgC,sDAAM,kBAAkB,gCAAgC,EAAE,IAAI,uDAAQ,EAAE,kDAAI,uBAAuB,sEAAc,iBAAiB,kEAAY,cAAc,YAAY,2DAAU,GAAG,EAAE,GAAG;AACxP;AACA;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACI;AACJ;AACN;AAC9B;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,gDAAO;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,0DAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACiB;AAC7B;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,0DAAY;AACd;;;;;;;;;;;;;ACrLA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP,8BAA8B,2CAA2C;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACgD;AACd;AACI;AACQ;AACI;AACN;AACrC;AACP;AACA,8BAA8B,gCAAgC,sDAAM,kBAAkB,gCAAgC,EAAE,IAAI,uDAAQ,EAAE,0DAAQ,uBAAuB,sEAAc,iBAAiB,kEAAY,cAAc,YAAY,2DAAU,GAAG,EAAE,GAAG;AAC5P;AACA;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACsB;AACvB;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP,8BAA8B,8CAA8C;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACI;AACxC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA,8BAA8B,0DAAY;AAC1C;AACA;AACA;AACA,yBAAyB,0DAAY;AACrC;AACA;AACA;AACA;AACA,yBAAyB,0DAAY;AACrC;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AACkC;AAC3B;AACP;AACA,2BAA2B,mCAAmC;AAC9D,2BAA2B,sBAAsB;AACjD,WAAW,sDAAM;AACjB;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAC2D;AACpD;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA,8BAA8B,yBAAyB,uDAAW,8CAA8C;AAChH;AACA;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AACsC;AACM;AACrC;AACP;AACA;AACA;AACA,WAAW,0DAAQ,CAAC,uDAAQ;AAC5B;AACA;;;;;;;;;;;;;ACTA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACL;AACc;AACuD;AAC1F;AACP;AACA;AACA;AACA;AACA,kCAAkC,8CAA8C,QAAQ,6DAAI,qBAAqB,gDAAG,mBAAmB,oCAAoC,EAAE,GAAG,EAAE,eAAe;AACjM;AACA;AACA;AACA;AACA,8BAA8B,+DAA+D;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC2B;AAC5B;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qEAAqB;AACvD;AACA;AACA,gCAAgC,sEAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACO;AACvB;AACP;;;;;;;;;;;;;ACpGA;AAAA;AAAA;AAAA;AACsC;AAC/B;AACP;AACA;AACA;AACA;AACA,eAAe,0DAAQ,cAAc,wBAAwB,EAAE;AAC/D;AACA;AACA;AACA;AACA,WAAW,0DAAQ,cAAc,wBAAwB,EAAE;AAC3D;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP;AACA;AACA;AACA,8BAA8B,0EAA0E;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC4B;AAC7B;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qEAAqB;AACvD;AACA;AACA,gCAAgC,sEAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACQ;AAC/B;;;;;;;;;;;;;AC/FA;AAAA;AAAA;AAAA;AACkC;AAC3B;AACP;AACA,2BAA2B,mCAAmC;AAC9D,2BAA2B,sBAAsB;AACjD,WAAW,sDAAM;AACjB;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AACsF;AAC/E;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,iGAA+B;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC4B;AAC7B;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACI;AACxC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC4B;AAC7B;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,0DAAY;AACzC;AACA;AACA,6BAA6B,0DAAY;AACzC;AACA;AACA;AACA,6BAA6B,0DAAY;AACzC;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACmB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAC2B;AAC5B;;;;;;;;;;;;;ACpEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACS;AACA;AACuD;AAC1F;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA,oCAAoC,6DAAO;AAC3C;AACA;AACA,8BAA8B,gEAAgE;AAC9F;AACO;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA,oCAAoC,6DAAO;AAC3C;AACA;AACA;AACA,WAAW,6DAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,qEAAqB;AAC3D;AACA;AACA,oCAAoC,sEAAc;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP,8BAA8B,4CAA4C;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAA;AAAA;AACkC;AACA;AAC3B;AACP;AACA;AACA,YAAY,sDAAM;AAClB,YAAY,sDAAM,CAAC,qDAAG;AACtB;AACA;AACA;AACA;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAC4B;AACrB;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,QAAQ,gDAAG,sCAAsC;AAC/E;AACA;AACA;AACA;AACA,uBAAuB,YAAY;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAAA;AACqC;AACG;AACjC;AACP;AACA,QAAQ,4DAAS,cAAc,YAAY,gDAAO,GAAG,EAAE;AACvD,QAAQ,4DAAS,KAAK,gDAAO;AAC7B;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AACqD;AACb;AACjC;AACP,8BAA8B,QAAQ,4DAAS,KAAK,gEAAe,iBAAiB;AACpF;AACA;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAC+C;AACP;AACjC;AACP,8BAA8B,QAAQ,4DAAS,KAAK,0DAAY,YAAY;AAC5E;AACA;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AACiD;AACT;AACjC;AACP;AACA;AACA;AACA;AACA,sBAAsB,4DAAa;AACnC,8BAA8B,QAAQ,4DAAS,cAAc,gBAAgB,EAAE,oBAAoB;AACnG;AACA;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAC0C;AACc;AACjD;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA,wCAAwC,6DAAO;AAC/C;AACA;AACA,gCAAgC,qDAAU;AAC1C;AACA;AACA;;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC8B;AACQ;AACY;AACd;AAC7B;AACP;AACA;AACA,mBAAmB,uDAAI,CAAC,kDAAI,qBAAqB,0DAAQ,KAAK,sEAAc;AAC5E;AACA;AACA;AACA,eAAe,uDAAI,CAAC,kDAAI,+BAA+B,2CAA2C,EAAE,GAAG,0DAAQ;AAC/G;AACA;AACA;;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACC;AACrC;AACP;AACA;AACA;AACA;AACA;AACA,mBAAmB,+DAAK;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACI;AAC4D;AAC1F;AACP,8BAA8B,sDAAsD;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,gDAAO;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,sEAAc,cAAc,qEAAqB;AACpF;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;ACjFA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA,8BAA8B,sDAAsD;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACI;AAC4D;AAC1F;AACP,8BAA8B,6DAA6D;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,gDAAO;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,sEAAc,cAAc,qEAAqB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP,8BAA8B,kDAAkD;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,sEAAc,oBAAoB,qEAAqB;AAChF;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACA;AACpC;AACP;AACA,oBAAoB,sDAAK;AACzB;AACA,8BAA8B,+DAA+D;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA,oEAAoE,oCAAoC;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACtEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP,8BAA8B,sEAAsE;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACgC;AACjC;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACuB;AACnC;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC7GA;AAAA;AAAA;AAAA;AAAA;AAAA;AACwC;AACF;AACD;AACrC;AACA,eAAe,gDAAO;AACtB;AACO;AACP,8BAA8B,QAAQ,0DAAQ,GAAG,4DAAS,+BAA+B;AACzF;AACA;;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AACiD;AAC1C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,iDAAiD;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,4DAAa;AACvC;AACA;AACA,wCAAwC,qBAAqB,EAAE;AAC/D;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACK;AACzC;AACP,8BAA8B,2DAA2D;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2DAAU;AAC5C;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP,8BAA8B,6CAA6C;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AAC+B;AACnE;AACP,8BAA8B,iDAAiD;AAC/E;AACA;AACA;AACA;AACA;AACA,sBAAsB,qFAAuB;AAC7C;AACA;AACA;AACA;AACA,wCAAwC,sDAAU;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP,8BAA8B,qDAAqD;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA,kCAAkC,qEAAqB;AACvD;AACA;AACA,gCAAgC,sEAAc;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP,8BAA8B,sDAAsD;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAAA;AAC8C;AACI;AAC3C;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA,QAAQ,qEAAW;AACnB;AACA,kCAAkC,QAAQ,iEAAM,2BAA2B;AAC3E;AACA;AACA,kCAAkC,QAAQ,iEAAM,gBAAgB;AAChE;AACA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAC4E;AACrE;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uFAAqB;AACxC;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAA;AACwC;AACI;AACrC;AACP,WAAW,4DAAS,CAAC,uDAAQ;AAC7B;AACA;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACL;AACc;AACuD;AAC1F;AACP;AACA,kCAAkC,+CAA+C,QAAQ,6DAAI,qBAAqB,gDAAG,mBAAmB,oCAAoC,EAAE,GAAG,EAAE,GAAG;AACtL;AACA,8BAA8B,oDAAoD;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,qEAAqB;AACvD;AACA;AACA,iCAAiC,sEAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AACwC;AACjC;AACP,4BAA4B,4DAAS,cAAc,wBAAwB,EAAE,oBAAoB,4DAAS,cAAc,wBAAwB,EAAE;AAClJ;AACA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AAC+B;AAC9B;AACrC;AACP;AACA;AACA,mBAAmB,+DAAK;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qFAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AAC+B;AAC9B;AACrC;AACP;AACA;AACA,mBAAmB,+DAAK;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qFAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,WAAW;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP,8BAA8B,qDAAqD;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,sEAAc,oBAAoB,qEAAqB;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACP;AACY;AACzC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA,yBAAyB,+CAAI;AAC7B,0BAA0B,+CAAI;AAC9B,6BAA6B,+CAAI;AACjC,mCAAmC,+CAAI;AACvC,yCAAyC,+CAAI;AAC7C,YAAY,mEAAU;AACtB;AACA;AACA;AACA;AACA;AACA,oDAAoD,+CAAI;AACxD,sDAAsD,+CAAI;AAC1D,4DAA4D,+CAAI;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACgE;AAC1F;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA,8BAA8B,iGAAiG;AAC/H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,sEAAc,eAAe,qEAAqB;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;ACzFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACA;AACQ;AAC5C;AACP;AACA,oBAAoB,sDAAK;AACzB;AACA;AACA,iBAAiB,+DAAqB;AACtC;AACA,8BAA8B,oGAAoG;AAClI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4FAA4F,mBAAmB;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACe;AACL;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA,eAAe,2DAAU;AACzB;AACA;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACb;AACc;AAChB;AACrB;AACP;AACA,oBAAoB,sDAAK;AACzB;AACA;AACA,eAAe,+DAAK;AACpB,+BAA+B,kDAAI;AACnC;AACA,yBAAyB,wDAAwD;AACjF,aAAa,GAAG,8DAA8D,GAAG,gDAAG;AACpF;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACuB;AACxB;;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACS;AACR;AACU;AAC/C;AACP;AACA,oBAAoB,sDAAK;AACzB;AACA,WAAW,gEAAW,MAAM,yEAAU,KAAK,+DAAY;AACvD;AACA;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACH;AACyD;AAC1F;AACP;AACA,oBAAoB,sDAAK;AACzB;AACA;AACA,8BAA8B,2DAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sEAAc,qBAAqB,qEAAqB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACf;AACrB;AACP;AACA,oBAAoB,sDAAK;AACzB;AACA,WAAW,gDAAG,mBAAmB,8CAA8C,EAAE;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACoB;AACrB;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AACkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,WAAW,sDAAM;AACjB;AACA;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACI;AAC4D;AAC1F;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,sEAAc,4BAA4B,qEAAqB;AAChG;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA,2BAA2B,gDAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,gDAAO;AACjD;AACA;AACA;AACA,CAAC,CAAC,qEAAqB;AACvB;;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACU;AACN;AAC9B;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA,6BAA6B,gDAAO;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yBAAyB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,gDAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACI;AACM;AACA;AACG;AACI;AAC3C;AACP,oBAAoB,sDAAK;AACzB;AACA;AACA,QAAQ,qEAAW;AACnB;AACA;AACA,QAAQ,qEAAW;AACnB;AACA;AACA,aAAa,iEAAS;AACtB;AACA;AACA,QAAQ,qEAAW;AACnB;AACA;AACA,aAAa,iEAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC,CAAC,gDAAO;AACT;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,iCAAiC;AACjC;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,sDAAU;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1JA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACI;AACU;AACM;AACS;AACvD;AACP,8BAA8B,yEAAyE;AACvG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA,2CAA2C,iFAAiB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,gDAAO;AACtC,mCAAmC,0DAAY;AAC/C,6BAA6B;AAC7B;AACA,oCAAoC,iFAAiB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,gEAAe;AACjB;;;;;;;;;;;;;AChIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACI;AACgB;AACS;AACvD;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,gDAAO;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,iFAAiB;AAC7D;AACA;AACA,CAAC,CAAC,gEAAe;AACjB;;;;;;;;;;;;;ACnFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACoB;AACS;AACvD;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA,uBAAuB,SAAS;AAChC;AACA,sBAAsB,iFAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,gEAAe;AACjB;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AACqD;AAC9C;AACP;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA,gCAAgC,mDAAS;AACzC;AACA;AACA;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AACgD;AACzC;AACP,8BAA8B,wBAAwB,2DAAW,WAAW;AAC5E;AACA;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACI;AACxC;AACP,eAAe,sDAAU;AACzB,sBAAsB,0DAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACI;AACkB;AAC1D;AACP;AACA;AACA;AACA,eAAe,sDAAU;AACzB,sBAAsB,0DAAY;AAClC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,6BAA6B,yDAAe;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACI;AACwB;AAChE;AACP,eAAe,sDAAU;AACzB,sBAAsB,0DAAY;AAClC;AACA,mCAAmC,6DAAiB;AACpD;AACA,wCAAwC,yCAAyC,+BAA+B,EAAE,GAAG,EAAE;AACvH,uCAAuC,yCAAyC,8BAA8B,EAAE,GAAG,EAAE;AACrH,uCAAuC,yCAAyC,8BAA8B,EAAE,GAAG,EAAE;AACrH,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAC2C;AACI;AACxC;AACP,eAAe,sDAAU;AACzB,sBAAsB,0DAAY;AAClC;AACA;AACA;AACA;AACA,4DAA4D,8BAA8B,EAAE;AAC5F,iBAAiB;AACjB,aAAa;AACb,wDAAwD,8BAA8B,EAAE;AACxF,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC0D;AACN;AACJ;AACM;AACY;AACpB;AACI;AACF;AACzC;AACP;AACA,YAAY,qFAAmB;AAC/B,mBAAmB,8EAAkB;AACrC;AACA,iBAAiB,iEAAS;AAC1B,mBAAmB,wEAAe;AAClC;AACA,iBAAiB,qEAAW;AAC5B,mBAAmB,oEAAa;AAChC;AACA,iBAAiB,mEAAU;AAC3B,mBAAmB,0EAAgB;AACnC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAAA;AACiC;AACc;AAC/C;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,0DAAY;AACI;AAClB;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACiC;AACa;AACF;AAC5C;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,yDAAS;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yDAAS;AACrB;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,wDAAW;AACS;AACtB;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AACiC;AACiB;AAClD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,8DAAc;AACS;AACzB;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAAA;AACiC;AACC;AAClC;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,8CAAM;AACe;AACvB;;;;;;;;;;;;;AC9FA;AAAA;AAAA;AAAA;AAAA;AACiC;AACQ;AACzC;AACA,IAAI,+CAAiB;AACrB;AACA;AACA,kBAAkB,oDAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,oDAAS;AACe;AAC1B;;;;;;;;;;;;;ACzDA;AAAA;AAAA;AAAA;AAAA;AACiC;AACW;AAC5C;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,wDAAW;AACU;AACvB;;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAA;AAAA;AACiC;AACiB;AAClD;AACA,IAAI,+CAAiB;AACrB;AACA;AACA;AACA;AACA,CAAC,CAAC,8DAAc;AACU;AAC1B;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC0C;AACM;AACzC,sCAAsC,4DAAa,CAAC,sDAAU;AAC9D;AACP;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC4C;AACM;AAC3C,uCAAuC,8DAAc,CAAC,wDAAW;AACjE;AACP;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC4C;AACM;AAC3C,uCAAuC,8DAAc,CAAC,wDAAW;AACjE;AACP;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AACO;AACP;AACA;AACA;AACA;AACA;AACO;AACA;AACP;;;;;;;;;;;;;ACTA;AAAA;AAAA;AACO,6CAA6C,4EAA4E,EAAE;AAClI;;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AACO;AACP;AACA;AACA;AACA,CAAC;AACM;AACP;;;;;;;;;;;;;ACPA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;;;;;;;;;;;;;ACZA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AACA;AACA,2CAA2C,wCAAwC,EAAE;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,mCAAmC,2CAA2C,EAAE;AAChF;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;;;;;;;;;;;;;ACZA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;;;;;;;;;;;;;ACZA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,wGAAwG,sCAAsC,EAAE;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACM;AACP;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAC2C;AACpC;AACP;AACA;AACA;AACA;AACA;AACA,uDAAuD,sDAAU;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AA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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACoD;AACQ;AACN;AACU;AACF;AACI;AACJ;AACA;AACA;AACM;AACd;AACM;AACA;AACI;AACZ;AACM;AACQ;AACI;AAClB;AACQ;AACQ;AACV;AACwB;AACM;AAC5B;AACJ;AACJ;AACI;AACM;AACR;AACA;AACI;AACR;AACU;AACR;AACI;AACc;AACd;AACN;AACF;AACI;AACY;AAChB;AACI;AACM;AACS;AACL;AACF;AACZ;AACY;AACA;AACgB;AAClB;AACE;AACR;AACI;AACgB;AACR;AACI;AAClB;AACI;AACA;AACQ;AACV;AACQ;AACF;AACJ;AACQ;AACZ;AACkB;AAChB;AACY;AACV;AACJ;AACQ;AACE;AACA;AACA;AACI;AACJ;AACA;AACI;AACd;AACQ;AACE;AACA;AACZ;AACU;AACQ;AACA;AACA;AACV;AACQ;AACJ;AACJ;AACF;AACU;AACF;AACI;AACJ;AACQ;AACtB;AACM;AACtD;;;;;;;;;;;;ACxGA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;;AAEA;AACA,kBAAkB,KAA6B;;AAE/C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,QAAQ,OAAO;AACf;AACA;AACA,eAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB,GAAG;AACH,wBAAwB;AACxB;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;AACF;AACA;AACA,CAAC;;;;;;;;;;;;;ACvLD;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,gBAAgB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEsD;;;;;;;;;;;;;ACrDzC;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,qEAAqE,qBAAqB,aAAa;;AAEvG;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,yDAAyD;AACzD,GAAG;;AAEH;;;AAGA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;;AAEA,oBAAoB,6BAA6B;AACjD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;;;;;;;AC5QA;AAAA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACA,YAAY,QAAQ;AACpB;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;;AAExB,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,6EAA6E,aAAa;AAC1F;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B;;AAE1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB;AACA;AACA,YAAY,SAAS;AACrB;AACA;AACA,aAAa,SAAS;AACtB;;AAEA;AACA;AACA;;AAE8B;AAC9B;;;;;;;;;;;;;AC1IA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,0BAA0B;AAC3C;AACA;;AAEA,yCAAyC;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACtCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA,0BAA0B,UAAU,EAAE;AACtC;AACA,6BAA6B,mDAAmD,EAAE;AAClF;AACA,yBAAyB,oCAAoC,EAAE;AAC/D;AACA,2BAA2B,+EAA+E,EAAE;AAC5G;AACA,0BAA0B,cAAc,EAAE;AAC1C;AACA,2BAA2B,oBAAoB,EAAE;AACjD;AACA,6BAA6B,kDAAkD,EAAE;AACjF;AACA,2BAA2B,kBAAkB,EAAE;AAC/C;AACA,4BAA4B,0BAA0B,EAAE;AACxD;AACA,8BAA8B,yEAAyE,EAAE;AACzG;AACA,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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kE;;;;;;;;;;;AC3WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qH;;;;;;;;;;;;ACjPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAeA;AAAA;AAAA;AAAA;;AAKE;AACA,+BAAY,gBAAZ,EAA8B,UAA9B,EAA0C,WAA1C,EAAqD;AAArD;;AACE,SAAK,gBAAL,GAAwB,gBAAxB;AACA,SAAK,UAAL,GAAkB,UAAlB;AACA,SAAK,WAAL,GAAmB,WAAnB;;AACA,iDAAC,CAAC,OAAF,CAAU,kDAAV,EAAuB,UAAC,MAAD,EAAc,GAAd,EAAiB;AACtC,WAAI,CAAC,GAAD,CAAJ,GAAY,IAAI,MAAJ,CAAW,KAAI,CAAC,gBAAhB,EAAkC,KAAI,CAAC,UAAvC,EAAmD,KAAI,CAAC,WAAxD,CAAZ;AACD,KAFD;AAGD,GAbH,CAeE;;;AACA;AAAA;;AACE,QAAM,UAAU,GAAU,EAA1B;;AACA,iDAAC,CAAC,OAAF,CAAU,+CAAV,EAAoB,UAAC,OAAD,EAAQ;AAC1B,UAAI,KAAI,CAAC,gBAAL,CAAsB,QAAtB,CAA+B,OAAO,CAAC,OAAvC,MAAoD,IAAxD,EAA8D;AAC5D;AACA,kBAAU,C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","file":"datasource/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./datasource/module.ts\");\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var e=function(t){if(\"undefined\"==typeof document)return 0;if(document.body&&(!document.readyState||\"loading\"!==document.readyState)){if(!0!==t&&\"number\"==typeof e.__cache)return e.__cache;var o=document.createElement(\"div\"),d=o.style;d.display=\"block\",d.position=\"absolute\",d.width=\"100px\",d.height=\"100px\",d.left=\"-999px\",d.top=\"-999px\",d.overflow=\"scroll\",document.body.insertBefore(o,null);var n=o.clientWidth;if(0!==n)return e.__cache=100-n,document.body.removeChild(o),e.__cache;document.body.removeChild(o)}};export{e as scrollbarWidth};\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"⌘\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".log-service-monospaced-font-family {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n.log-service-monospaced-font-family button,\\n.log-service-monospaced-font-family input,\\n.log-service-monospaced-font-family select,\\n.log-service-monospaced-font-family textarea {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,8DAA8D;AAChE;AACA;;;;EAIE,8DAA8D;AAChE\",\"file\":\"index.less\",\"sourcesContent\":[\".log-service-monospaced-font-family {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n.log-service-monospaced-font-family button,\\n.log-service-monospaced-font-family input,\\n.log-service-monospaced-font-family select,\\n.log-service-monospaced-font-family textarea {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".tc-sub-params {\\n  margin-top: 4px;\\n  margin-left: 125px;\\n}\\n\\n.tc-sub-params .gf-form-inline {\\n  min-height: 42px;\\n}\\n\\n.tc-sub-params .gf-form-inline .gf-form-label {\\n  margin-bottom: 2px;\\n}\\n\\n.tc-sub-params .tc-info-label {\\n  margin-bottom: 6px;\\n}\\n\\n.tc-sub-params .tc-info-label > a {\\n  margin-left: 10px;\\n}\\n\\n.tc-switch {\\n  border-left: 1px solid #262628;\\n  margin-bottom: 0 !important;\\n}\\n\\n.tc-condition-block {\\n  margin-right: 10px;\\n  display: inline-block;\\n}\\n\\n.tc-condition-block .tc-condition-input {\\n  border-radius: 0;\\n}\\n\\n.tc-condition-block .tc-condition-minus {\\n  vertical-align: top;\\n  border-radius: 0 3px 3px 0;\\n}\\n\\n.tc-condition-block .tc-condition-dropdown {\\n  display: inline-block;\\n}\\n\\n.tc-condition-block > input {\\n  display: inline-block;\\n  margin-right: 0;\\n}\\n\\n.tc-condition-block > label {\\n  display: inline-block;\\n}\\n\\n.tc-condition-add {\\n  display: inline-block;\\n  vertical-align: top;\\n}\\n\\n.tc-condition-add > label {\\n  border-radius: 3px;\\n}\\n\\n.filtered-color {\\n  color: #ff851b;\\n}\\n\\n.secret-tips {\\n  position: absolute;\\n  right: -25px;\\n  border-radius: 2px;\\n  background: #1b1b1b;\\n  padding: 10px;\\n  top: -35px;\\n  width: 300px;\\n  border: 1px solid #2c3235;\\n}\\n\\n.secret-tips-tri {\\n  position: absolute;\\n  width: 15px;\\n  height: 15px;\\n  left: -8px;\\n  top: 60px;\\n  background: #1b1b1b;\\n  border: 1px solid #2c3235;\\n  border-top: 0;\\n  border-right: 0;\\n  transform: rotate(45deg);\\n}\\n\\n.rc-cascader-menu-item {\\n  min-width: 160px;\\n  font-size: 14px;\\n}\", \"\",{\"version\":3,\"sources\":[\"query_editor.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,8BAA8B;EAC9B,2BAA2B;AAC7B;;AAEA;EACE,kBAAkB;EAClB,qBAAqB;AACvB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,0BAA0B;AAC5B;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;EACrB,eAAe;AACjB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,mBAAmB;EACnB,aAAa;EACb,UAAU;EACV,YAAY;EACZ,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,UAAU;EACV,SAAS;EACT,mBAAmB;EACnB,yBAAyB;EACzB,aAAa;EACb,eAAe;EACf,wBAAwB;AAC1B;;AAEA;EACE,gBAAgB;EAChB,eAAe;AACjB\",\"file\":\"query_editor.css\",\"sourcesContent\":[\".tc-sub-params {\\n  margin-top: 4px;\\n  margin-left: 125px;\\n}\\n\\n.tc-sub-params .gf-form-inline {\\n  min-height: 42px;\\n}\\n\\n.tc-sub-params .gf-form-inline .gf-form-label {\\n  margin-bottom: 2px;\\n}\\n\\n.tc-sub-params .tc-info-label {\\n  margin-bottom: 6px;\\n}\\n\\n.tc-sub-params .tc-info-label > a {\\n  margin-left: 10px;\\n}\\n\\n.tc-switch {\\n  border-left: 1px solid #262628;\\n  margin-bottom: 0 !important;\\n}\\n\\n.tc-condition-block {\\n  margin-right: 10px;\\n  display: inline-block;\\n}\\n\\n.tc-condition-block .tc-condition-input {\\n  border-radius: 0;\\n}\\n\\n.tc-condition-block .tc-condition-minus {\\n  vertical-align: top;\\n  border-radius: 0 3px 3px 0;\\n}\\n\\n.tc-condition-block .tc-condition-dropdown {\\n  display: inline-block;\\n}\\n\\n.tc-condition-block > input {\\n  display: inline-block;\\n  margin-right: 0;\\n}\\n\\n.tc-condition-block > label {\\n  display: inline-block;\\n}\\n\\n.tc-condition-add {\\n  display: inline-block;\\n  vertical-align: top;\\n}\\n\\n.tc-condition-add > label {\\n  border-radius: 3px;\\n}\\n\\n.filtered-color {\\n  color: #ff851b;\\n}\\n\\n.secret-tips {\\n  position: absolute;\\n  right: -25px;\\n  border-radius: 2px;\\n  background: #1b1b1b;\\n  padding: 10px;\\n  top: -35px;\\n  width: 300px;\\n  border: 1px solid #2c3235;\\n}\\n\\n.secret-tips-tri {\\n  position: absolute;\\n  width: 15px;\\n  height: 15px;\\n  left: -8px;\\n  top: 60px;\\n  background: #1b1b1b;\\n  border: 1px solid #2c3235;\\n  border-top: 0;\\n  border-right: 0;\\n  transform: rotate(45deg);\\n}\\n\\n.rc-cascader-menu-item {\\n  min-width: 160px;\\n  font-size: 14px;\\n}\"]}]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        continue;\n      }\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","var keyList = Object.keys;\n\nexports.equal = function equal (a, b) {\n  if (a === b) return true;\n  if (!(a instanceof Object) || !(b instanceof Object)) return false;\n\n  var keys = keyList(a);\n  var length = keys.length;\n\n  for (var i = 0; i < length; i++)\n    if (!(keys[i] in b)) return false;\n\n  for (var i = 0; i < length; i++)\n    if (a[keys[i]] !== b[keys[i]]) return false;\n\n  return length === keyList(b).length;\n};\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n","'use strict';\n\nvar pkgName = 'nano-css';\n\nmodule.exports = function warnOnMissingDependencies (addon, renderer, deps) {\n    var missing = [];\n\n    for (var i = 0; i < deps.length; i++) {\n        var name = deps[i];\n\n        if (!renderer[name]) {\n            missing.push(name);\n        }\n    }\n\n    if (missing.length) {\n        var str = 'Addon \"' + addon + '\" is missing the following dependencies:';\n\n        for (var j = 0; j < missing.length; j++) {\n            str += '\\n require(\"' + pkgName + '/addon/' + missing[j] + '\").addon(nano);';\n        }\n\n        throw new Error(str);\n    }\n};\n","'use strict';\n\nexports.addon = function (renderer) {\n    // CSSOM support only browser environment.\n    if (!renderer.client) return;\n\n    if (process.env.NODE_ENV !== 'production') {\n        require('./__dev__/warnOnMissingDependencies')('cssom', renderer, ['sh']);\n    }\n\n    // Style sheet for media queries.\n    document.head.appendChild(renderer.msh = document.createElement('style'));\n\n    renderer.createRule = function (selector, prelude) {\n        var rawCss = selector + '{}';\n        if (prelude) rawCss = prelude + '{' + rawCss + '}';\n        var sheet = prelude ? renderer.msh.sheet : renderer.sh.sheet;\n        var index = sheet.insertRule(rawCss, sheet.cssRules.length);\n        var rule = (sheet.cssRules || sheet.rules)[index];\n\n        // Keep track of `index` where rule was inserted in the sheet. This is\n        // needed for rule deletion.\n        rule.index = index;\n\n        if (prelude) {\n            // If rule has media query (it has prelude), move style (CSSStyleDeclaration)\n            // object to the \"top\" to normalize it with a rule without the media\n            // query, so that both rules have `.style` property available.\n            var selectorRule = (rule.cssRules || rule.rules)[0];\n            rule.style = selectorRule.style;\n            rule.styleMap = selectorRule.styleMap;\n        }\n\n        return rule;\n    };\n};\n","'use strict';\n\nvar removeRule = require('./vcssom/removeRule').removeRule;\n\nexports.addon = function (renderer) {\n    // VCSSOM support only browser environment.\n    if (!renderer.client) return;\n\n    if (process.env.NODE_ENV !== 'production') {\n        require('./__dev__/warnOnMissingDependencies')('cssom', renderer, ['createRule']); // cssom\n    }\n\n    var kebab = renderer.kebab;\n\n    function VRule (selector, prelude) {\n        this.rule = renderer.createRule(selector, prelude);\n        this.decl = {};\n    }\n    VRule.prototype.diff = function (newDecl) {\n        var oldDecl = this.decl;\n        var style = this.rule.style;\n        var property;\n        for (property in oldDecl)\n            if (newDecl[property] === undefined)\n                style.removeProperty(property);\n        for (property in newDecl)\n            if (newDecl[property] !== oldDecl[property])\n                style.setProperty(kebab(property), newDecl[property]);\n        this.decl = newDecl;\n    };\n    VRule.prototype.del = function () {\n        removeRule(this.rule);\n    };\n\n    function VSheet () {\n        /**\n         * {\n         *   '<at-rule-prelude>': {\n         *     '<selector>': {\n         *       color: 'red\n         *     }\n         *   }\n         * }\n         */\n        this.tree = {};\n    }\n    VSheet.prototype.diff = function (newTree) {\n        var oldTree = this.tree;\n\n        // Remove media queries not present in new tree.\n        for (var prelude in oldTree) {\n            if (newTree[prelude] === undefined) {\n                var rules = oldTree[prelude];\n                for (var selector in rules)\n                    rules[selector].del();\n            }\n        }\n\n        for (var prelude in newTree) {\n            if (oldTree[prelude] === undefined) {\n                // Whole media query is new.\n                for (var selector in newTree[prelude]) {\n                    var rule = new VRule(selector, prelude);\n                    rule.diff(newTree[prelude][selector]);\n                    newTree[prelude][selector] = rule;\n                }\n            } else {\n                // Old tree already has rules with this media query.\n                var oldRules = oldTree[prelude];\n                var newRules = newTree[prelude];\n\n                // Remove rules not present in new tree.\n                for (var selector in oldRules)\n                    if (!newRules[selector])\n                        oldRules[selector].del();\n\n                // Apply new rules.\n                for (var selector in newRules) {\n                    var rule = oldRules[selector];\n                    if (rule) {\n                        rule.diff(newRules[selector]);\n                        newRules[selector] = rule;\n                    } else {\n                        rule = new VRule(selector, prelude);\n                        rule.diff(newRules[selector]);\n                        newRules[selector] = rule;\n                    }\n                }\n            }\n        }\n\n        this.tree = newTree;\n    };\n\n    renderer.VRule = VRule;\n    renderer.VSheet = VSheet;\n};\n","function cssToTree (tree, css, selector, prelude) {\n    var declarations = {};\n    var hasDeclarations = false;\n    var key, value;\n\n    for (key in css) {\n        value = css[key];\n        if (typeof value !== 'object') {\n            hasDeclarations = true;\n            declarations[key] = value;\n        }\n    }\n\n    if (hasDeclarations) {\n        if (!tree[prelude]) tree[prelude] = {};\n        tree[prelude][selector] = declarations;\n    }\n\n    for (key in css) {\n        value = css[key];\n        if (typeof value === 'object') {\n            if (key[0] === '@') {\n                cssToTree(tree, value, selector, key);\n            } else {\n                var hasCurrentSymbol = key.indexOf('&') > -1;\n                var selectorParts = selector.split(',');\n                if (hasCurrentSymbol) {\n                    for (var i = 0; i < selectorParts.length; i++) {\n                        selectorParts[i] = key.replace(/&/g, selectorParts[i]);\n                    }\n                } else {\n                    for (var i = 0; i < selectorParts.length; i++) {\n                        selectorParts[i] = selectorParts[i] + ' ' + key;\n                    }\n                }\n                cssToTree(tree, value, selectorParts.join(','), prelude);\n            }\n        }\n    }\n};\n\nexports.cssToTree = cssToTree;\n","function removeRule (rule) {\n    var maxIndex = rule.index;\n    var sh = rule.parentStyleSheet;\n    var rules = sh.cssRules || sh.rules;\n    maxIndex = Math.max(maxIndex, rules.length - 1);\n    while (maxIndex >= 0) {\n        if (rules[maxIndex] === rule) {\n            sh.deleteRule(maxIndex);\n            break;\n        }\n        maxIndex--;\n    }\n}\n\nexports.removeRule = removeRule;\n","'use strict';\n\nvar KEBAB_REGEX = /[A-Z]/g;\n\nvar hash = function (str) {\n    var h = 5381, i = str.length;\n\n    while (i) h = (h * 33) ^ str.charCodeAt(--i);\n\n    return '_' + (h >>> 0).toString(36);\n};\n\nexports.create = function (config) {\n    config = config || {};\n    var assign = config.assign || Object.assign;\n    var client = typeof window === 'object';\n\n    // Check if we are really in browser environment.\n    if (process.env.NODE_ENV !== 'production') {\n        if (client) {\n            if ((typeof document !== 'object') || !document.getElementsByTagName('HTML')) {\n                console.error(\n                    'nano-css detected browser environment because of \"window\" global, but ' +\n                    '\"document\" global seems to be defective.'\n                );\n            }\n        }\n    }\n\n    var renderer = assign({\n        raw: '',\n        pfx: '_',\n        client: client,\n        assign: assign,\n        stringify: JSON.stringify,\n        kebab: function (prop) {\n            return prop.replace(KEBAB_REGEX, '-$&').toLowerCase();\n        },\n        decl: function (key, value) {\n            key = renderer.kebab(key);\n            return key + ':' + value + ';';\n        },\n        hash: function (obj) {\n            return hash(renderer.stringify(obj));\n        },\n        selector: function (parent, selector) {\n            return parent + (selector[0] === ':' ? ''  : ' ') + selector;\n        },\n        putRaw: function (rawCssRule) {\n            renderer.raw += rawCssRule;\n        }\n    }, config);\n\n    if (renderer.client) {\n        if (!renderer.sh)\n            document.head.appendChild(renderer.sh = document.createElement('style'));\n\n        if (process.env.NODE_ENV !== 'production') {\n            renderer.sh.setAttribute('data-nano-css-dev', '');\n\n            // Test style sheet used in DEV mode to test if .insetRule() would throw.\n            renderer.shTest = document.createElement('style');\n            renderer.shTest.setAttribute('data-nano-css-dev-tests', '');\n            document.head.appendChild(renderer.shTest);\n        }\n\n        renderer.putRaw = function (rawCssRule) {\n            // .insertRule() is faster than .appendChild(), that's why we use it in PROD.\n            // But CSS injected using .insertRule() is not displayed in Chrome Devtools,\n            // that's why we use .appendChild in DEV.\n            if (process.env.NODE_ENV === 'production') {\n                var sheet = renderer.sh.sheet;\n\n                // Unknown pseudo-selectors will throw, this try/catch swallows all errors.\n                try {\n                    sheet.insertRule(rawCssRule, sheet.cssRules.length);\n                // eslint-disable-next-line no-empty\n                } catch (error) {}\n            } else {\n                // Test if .insertRule() works in dev mode. Unknown pseudo-selectors will throw when\n                // .insertRule() is used, but .appendChild() will not throw.\n                try {\n                    renderer.shTest.sheet.insertRule(rawCssRule, renderer.shTest.sheet.cssRules.length);\n                } catch (error) {\n                    if (config.verbose) {\n                        console.error(error);\n                    }\n                }\n\n                // Insert pretty-printed CSS for dev mode.\n                renderer.sh.appendChild(document.createTextNode(rawCssRule));\n            }\n        };\n    }\n\n    renderer.put = function (selector, decls, atrule) {\n        var str = '';\n        var prop, value;\n        var postponed = [];\n\n        for (prop in decls) {\n            value = decls[prop];\n\n            if ((value instanceof Object) && !(value instanceof Array)) {\n                postponed.push(prop);\n            } else {\n                if ((process.env.NODE_ENV !== 'production') && !renderer.sourcemaps) {\n                    str += '    ' + renderer.decl(prop, value, selector, atrule) + '\\n';\n                } else {\n                    str += renderer.decl(prop, value, selector, atrule);\n                }\n            }\n        }\n\n        if (str) {\n            if ((process.env.NODE_ENV !== 'production') && !renderer.sourcemaps) {\n                str = '\\n' + selector + ' {\\n' + str + '}\\n';\n            } else {\n                str = selector + '{' + str + '}';\n            }\n            renderer.putRaw(atrule ? atrule + '{' + str + '}' : str);\n        }\n\n        for (var i = 0; i < postponed.length; i++) {\n            prop = postponed[i];\n\n            if (prop[0] === '@' && prop !== '@font-face') {\n                renderer.putAt(selector, decls[prop], prop);\n            } else {\n                renderer.put(renderer.selector(selector, prop), decls[prop], atrule);\n            }\n        }\n    };\n\n    renderer.putAt = renderer.put;\n\n    return renderer;\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar wrapInStatefulComponent_1 = tslib_1.__importDefault(require(\"./wrapInStatefulComponent\"));\nvar addClassDecoratorSupport = function (Comp) {\n    var isSFC = !Comp.prototype;\n    return !isSFC ? Comp : wrapInStatefulComponent_1.default(Comp);\n};\nexports.default = addClassDecoratorSupport;\n//# sourceMappingURL=addClassDecoratorSupport.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.divWrapper = void 0;\nvar tslib_1 = require(\"tslib\");\nvar React = tslib_1.__importStar(require(\"react\"));\nvar addClassDecoratorSupport_1 = tslib_1.__importDefault(require(\"./addClassDecoratorSupport\"));\nvar h = React.createElement;\nvar noWrap = function (Comp, propName, props, state) {\n    var _a;\n    return h(Comp, propName ? tslib_1.__assign((_a = {}, _a[propName] = state, _a), props) : tslib_1.__assign(tslib_1.__assign({}, state), props));\n};\nexports.divWrapper = function (Comp, propName, props, state) {\n    return h('div', null, noWrap(Comp, propName, props, state));\n};\nvar createEnhancer = function (Facc, prop, wrapper) {\n    if (wrapper === void 0) { wrapper = noWrap; }\n    var enhancer = function (Comp, propName, faccProps) {\n        if (propName === void 0) { propName = prop; }\n        if (faccProps === void 0) { faccProps = null; }\n        var isClassDecoratorMethodCall = typeof Comp === 'string';\n        if (isClassDecoratorMethodCall) {\n            return function (Klass) { return enhancer(Klass, Comp || prop, propName); };\n        }\n        var Enhanced = function (props) {\n            return h(Facc, faccProps, function (state) { return wrapper(Comp, propName, props, state); });\n        };\n        if (process.env.NODE_ENV !== 'production') {\n            Enhanced.displayName = (Facc.displayName || Facc.name) + \"(\" + (Comp.displayName || Comp.name) + \")\";\n        }\n        return isClassDecoratorMethodCall ? addClassDecoratorSupport_1.default(Enhanced) : Enhanced;\n    };\n    return enhancer;\n};\nexports.default = createEnhancer;\n//# sourceMappingURL=createEnhancer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar render_1 = tslib_1.__importDefault(require(\"./render\"));\nvar defaultMapPropsToArgs = function (props) { return [props]; };\nvar hookToRenderProp = function (hook, mapPropsToArgs) {\n    if (mapPropsToArgs === void 0) { mapPropsToArgs = defaultMapPropsToArgs; }\n    return function (props) { return render_1.default(props, hook.apply(void 0, mapPropsToArgs(props))); };\n};\nexports.default = hookToRenderProp;\n//# sourceMappingURL=hookToRenderProp.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hookToRenderProp = exports.createEnhancer = exports.render = void 0;\nvar tslib_1 = require(\"tslib\");\nvar render_1 = tslib_1.__importDefault(require(\"./render\"));\nexports.render = render_1.default;\nvar createEnhancer_1 = tslib_1.__importDefault(require(\"./createEnhancer\"));\nexports.createEnhancer = createEnhancer_1.default;\nvar hookToRenderProp_1 = tslib_1.__importDefault(require(\"./hookToRenderProp\"));\nexports.hookToRenderProp = hookToRenderProp_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = require(\"react\");\nvar isReact16Plus = parseInt(react_1.version.substr(0, react_1.version.indexOf('.'))) > 15;\nvar isFn = function (fn) { return typeof fn === 'function'; };\nvar render = function (props, data) {\n    var more = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        more[_i - 2] = arguments[_i];\n    }\n    if (process.env.NODE_ENV !== 'production') {\n        if (typeof props !== 'object') {\n            throw new TypeError('renderChildren(props, data) first argument must be a props object.');\n        }\n        var children_1 = props.children, render_1 = props.render;\n        if (isFn(children_1) && isFn(render_1)) {\n            console.warn('Both \"render\" and \"children\" are specified for in a universal interface component. ' +\n                'Children will be used.');\n            console.trace();\n        }\n        if (typeof data !== 'object') {\n            console.warn('Universal component interface normally expects data to be an object, ' +\n                (\"\\\"\" + typeof data + \"\\\" received.\"));\n            console.trace();\n        }\n    }\n    var render = props.render, _a = props.children, children = _a === void 0 ? render : _a, component = props.component, _b = props.comp, comp = _b === void 0 ? component : _b;\n    if (isFn(children))\n        return children.apply(void 0, tslib_1.__spreadArrays([data], more));\n    if (comp) {\n        return react_1.createElement(comp, data);\n    }\n    if (children instanceof Array)\n        return isReact16Plus ? children : react_1.createElement.apply(void 0, tslib_1.__spreadArrays(['div', null], children));\n    if (children && (children instanceof Object)) {\n        if (process.env.NODE_ENV !== 'production') {\n            if (!children.type || ((typeof children.type !== 'string') && (typeof children.type !== 'function') && (typeof children.type !== 'symbol'))) {\n                console.warn('Universal component interface received object as children, ' +\n                    'expected React element, but received unexpected React \"type\".');\n                console.trace();\n            }\n            if (typeof children.type === 'string')\n                return children;\n            return react_1.cloneElement(children, Object.assign({}, children.props, data));\n        }\n        else {\n            if (typeof children.type === 'string')\n                return children;\n            return react_1.cloneElement(children, Object.assign({}, children.props, data));\n        }\n    }\n    return children || null;\n};\nexports.default = render;\n//# sourceMappingURL=render.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar React = tslib_1.__importStar(require(\"react\"));\nvar wrapInStatefulComponent = function (Comp) {\n    var Decorated = (function (_super) {\n        tslib_1.__extends(class_1, _super);\n        function class_1() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.render = function () {\n            return Comp(this.props, this.context);\n        };\n        return class_1;\n    }(React.Component));\n    if (process.env.NODE_ENV !== 'production') {\n        Decorated.displayName = \"Decorated(\" + (Comp.displayName || Comp.name) + \")\";\n    }\n    return Decorated;\n};\nexports.default = wrapInStatefulComponent;\n//# sourceMappingURL=wrapInStatefulComponent.js.map","import { useEffect, useMemo, useState } from 'react';\nimport { isBrowser, off, on } from '../misc/util';\nvar createBreakpoint = function (breakpoints) {\n    if (breakpoints === void 0) { breakpoints = { laptopL: 1440, laptop: 1024, tablet: 768 }; }\n    return function () {\n        var _a = useState(isBrowser ? window.innerWidth : 0), screen = _a[0], setScreen = _a[1];\n        useEffect(function () {\n            var setSideScreen = function () {\n                setScreen(window.innerWidth);\n            };\n            setSideScreen();\n            on(window, 'resize', setSideScreen);\n            return function () {\n                off(window, 'resize', setSideScreen);\n            };\n        });\n        var sortedBreakpoints = useMemo(function () { return Object.entries(breakpoints).sort(function (a, b) { return (a[1] >= b[1] ? 1 : -1); }); }, [breakpoints]);\n        var result = sortedBreakpoints.reduce(function (acc, _a) {\n            var name = _a[0], width = _a[1];\n            if (screen >= width) {\n                return name;\n            }\n            else {\n                return acc;\n            }\n        }, sortedBreakpoints[0][0]);\n        return result;\n    };\n};\nexport default createBreakpoint;\n","import { useState } from 'react';\nimport { resolveHookState } from '../misc/hookState';\nimport useEffectOnce from '../useEffectOnce';\nimport useIsomorphicLayoutEffect from '../useIsomorphicLayoutEffect';\nexport function createGlobalState(initialState) {\n    var store = {\n        state: initialState instanceof Function ? initialState() : initialState,\n        setState: function (nextState) {\n            store.state = resolveHookState(nextState, store.state);\n            store.setters.forEach(function (setter) { return setter(store.state); });\n        },\n        setters: [],\n    };\n    return function () {\n        var _a = useState(store.state), globalState = _a[0], stateSetter = _a[1];\n        useEffectOnce(function () { return function () {\n            store.setters = store.setters.filter(function (setter) { return setter !== stateSetter; });\n        }; });\n        useIsomorphicLayoutEffect(function () {\n            if (!store.setters.includes(stateSetter)) {\n                store.setters.push(stateSetter);\n            }\n        });\n        return [globalState, store.setState];\n    };\n}\nexport default createGlobalState;\n","import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { useEffect, useRef } from 'react';\nimport useSetState from '../useSetState';\nimport parseTimeRanges from '../misc/parseTimeRanges';\nexport default function createHTMLMediaHook(tag) {\n    return function (elOrProps) {\n        var element;\n        var props;\n        if (React.isValidElement(elOrProps)) {\n            element = elOrProps;\n            props = element.props;\n        }\n        else {\n            props = elOrProps;\n        }\n        var _a = useSetState({\n            buffered: [],\n            time: 0,\n            duration: 0,\n            paused: true,\n            muted: false,\n            volume: 1,\n            playing: false,\n        }), state = _a[0], setState = _a[1];\n        var ref = useRef(null);\n        var wrapEvent = function (userEvent, proxyEvent) {\n            return function (event) {\n                try {\n                    proxyEvent && proxyEvent(event);\n                }\n                finally {\n                    userEvent && userEvent(event);\n                }\n            };\n        };\n        var onPlay = function () { return setState({ paused: false }); };\n        var onPlaying = function () { return setState({ playing: true }); };\n        var onWaiting = function () { return setState({ playing: false }); };\n        var onPause = function () { return setState({ paused: true, playing: false }); };\n        var onVolumeChange = function () {\n            var el = ref.current;\n            if (!el) {\n                return;\n            }\n            setState({\n                muted: el.muted,\n                volume: el.volume,\n            });\n        };\n        var onDurationChange = function () {\n            var el = ref.current;\n            if (!el) {\n                return;\n            }\n            var duration = el.duration, buffered = el.buffered;\n            setState({\n                duration: duration,\n                buffered: parseTimeRanges(buffered),\n            });\n        };\n        var onTimeUpdate = function () {\n            var el = ref.current;\n            if (!el) {\n                return;\n            }\n            setState({ time: el.currentTime });\n        };\n        var onProgress = function () {\n            var el = ref.current;\n            if (!el) {\n                return;\n            }\n            setState({ buffered: parseTimeRanges(el.buffered) });\n        };\n        if (element) {\n            element = React.cloneElement(element, __assign(__assign({ controls: false }, props), { ref: ref, onPlay: wrapEvent(props.onPlay, onPlay), onPlaying: wrapEvent(props.onPlaying, onPlaying), onWaiting: wrapEvent(props.onWaiting, onWaiting), onPause: wrapEvent(props.onPause, onPause), onVolumeChange: wrapEvent(props.onVolumeChange, onVolumeChange), onDurationChange: wrapEvent(props.onDurationChange, onDurationChange), onTimeUpdate: wrapEvent(props.onTimeUpdate, onTimeUpdate), onProgress: wrapEvent(props.onProgress, onProgress) }));\n        }\n        else {\n            element = React.createElement(tag, __assign(__assign({ controls: false }, props), { ref: ref, onPlay: wrapEvent(props.onPlay, onPlay), onPlaying: wrapEvent(props.onPlaying, onPlaying), onWaiting: wrapEvent(props.onWaiting, onWaiting), onPause: wrapEvent(props.onPause, onPause), onVolumeChange: wrapEvent(props.onVolumeChange, onVolumeChange), onDurationChange: wrapEvent(props.onDurationChange, onDurationChange), onTimeUpdate: wrapEvent(props.onTimeUpdate, onTimeUpdate), onProgress: wrapEvent(props.onProgress, onProgress) })); // TODO: fix this typing.\n        }\n        // Some browsers return `Promise` on `.play()` and may throw errors\n        // if one tries to execute another `.play()` or `.pause()` while that\n        // promise is resolving. So we prevent that with this lock.\n        // See: https://bugs.chromium.org/p/chromium/issues/detail?id=593273\n        var lockPlay = false;\n        var controls = {\n            play: function () {\n                var el = ref.current;\n                if (!el) {\n                    return undefined;\n                }\n                if (!lockPlay) {\n                    var promise = el.play();\n                    var isPromise = typeof promise === 'object';\n                    if (isPromise) {\n                        lockPlay = true;\n                        var resetLock = function () {\n                            lockPlay = false;\n                        };\n                        promise.then(resetLock, resetLock);\n                    }\n                    return promise;\n                }\n                return undefined;\n            },\n            pause: function () {\n                var el = ref.current;\n                if (el && !lockPlay) {\n                    return el.pause();\n                }\n            },\n            seek: function (time) {\n                var el = ref.current;\n                if (!el || state.duration === undefined) {\n                    return;\n                }\n                time = Math.min(state.duration, Math.max(0, time));\n                el.currentTime = time;\n            },\n            volume: function (volume) {\n                var el = ref.current;\n                if (!el) {\n                    return;\n                }\n                volume = Math.min(1, Math.max(0, volume));\n                el.volume = volume;\n                setState({ volume: volume });\n            },\n            mute: function () {\n                var el = ref.current;\n                if (!el) {\n                    return;\n                }\n                el.muted = true;\n            },\n            unmute: function () {\n                var el = ref.current;\n                if (!el) {\n                    return;\n                }\n                el.muted = false;\n            },\n        };\n        useEffect(function () {\n            var el = ref.current;\n            if (!el) {\n                if (process.env.NODE_ENV !== 'production') {\n                    if (tag === 'audio') {\n                        console.error('useAudio() ref to <audio> element is empty at mount. ' +\n                            'It seem you have not rendered the audio element, which it ' +\n                            'returns as the first argument const [audio] = useAudio(...).');\n                    }\n                    else if (tag === 'video') {\n                        console.error('useVideo() ref to <video> element is empty at mount. ' +\n                            'It seem you have not rendered the video element, which it ' +\n                            'returns as the first argument const [video] = useVideo(...).');\n                    }\n                }\n                return;\n            }\n            setState({\n                volume: el.volume,\n                muted: el.muted,\n                paused: el.paused,\n            });\n            // Start media, if autoPlay requested.\n            if (props.autoPlay && el.paused) {\n                controls.play();\n            }\n        }, [props.src]);\n        return [element, state, controls, ref];\n    };\n}\n","import { useMemo } from 'react';\nvar createMemo = function (fn) {\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return useMemo(function () { return fn.apply(void 0, args); }, args);\n    };\n};\nexport default createMemo;\n","import { useCallback, useRef, useState } from 'react';\nimport useUpdateEffect from '../useUpdateEffect';\nfunction composeMiddleware(chain) {\n    return function (context, dispatch) {\n        return chain.reduceRight(function (res, middleware) {\n            return middleware(context)(res);\n        }, dispatch);\n    };\n}\nvar createReducer = function () {\n    var middlewares = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        middlewares[_i] = arguments[_i];\n    }\n    var composedMiddleware = composeMiddleware(middlewares);\n    return function (reducer, initialState, initializer) {\n        if (initializer === void 0) { initializer = function (value) { return value; }; }\n        var ref = useRef(initializer(initialState));\n        var _a = useState(ref.current), setState = _a[1];\n        var dispatch = useCallback(function (action) {\n            ref.current = reducer(ref.current, action);\n            setState(ref.current);\n            return action;\n        }, [reducer]);\n        var dispatchRef = useRef(composedMiddleware({\n            getState: function () { return ref.current; },\n            dispatch: function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return dispatchRef.current.apply(dispatchRef, args);\n            },\n        }, dispatch));\n        useUpdateEffect(function () {\n            dispatchRef.current = composedMiddleware({\n                getState: function () { return ref.current; },\n                dispatch: function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    return dispatchRef.current.apply(dispatchRef, args);\n                },\n            }, dispatch);\n        }, [dispatch]);\n        return [ref.current, dispatchRef.current];\n    };\n};\nexport default createReducer;\n","import { createContext, createElement, useContext, useReducer } from 'react';\nvar createReducerContext = function (reducer, defaultInitialState) {\n    var context = createContext(undefined);\n    var providerFactory = function (props, children) { return createElement(context.Provider, props, children); };\n    var ReducerProvider = function (_a) {\n        var children = _a.children, initialState = _a.initialState;\n        var state = useReducer(reducer, initialState !== undefined ? initialState : defaultInitialState);\n        return providerFactory({ value: state }, children);\n    };\n    var useReducerContext = function () {\n        var state = useContext(context);\n        if (state == null) {\n            throw new Error(\"useReducerContext must be used inside a ReducerProvider.\");\n        }\n        return state;\n    };\n    return [useReducerContext, ReducerProvider, context];\n};\nexport default createReducerContext;\n","import { createContext, createElement, useContext, useState } from 'react';\nvar createStateContext = function (defaultInitialValue) {\n    var context = createContext(undefined);\n    var providerFactory = function (props, children) { return createElement(context.Provider, props, children); };\n    var StateProvider = function (_a) {\n        var children = _a.children, initialValue = _a.initialValue;\n        var state = useState(initialValue !== undefined ? initialValue : defaultInitialValue);\n        return providerFactory({ value: state }, children);\n    };\n    var useStateContext = function () {\n        var state = useContext(context);\n        if (state == null) {\n            throw new Error(\"useStateContext must be used inside a StateProvider.\");\n        }\n        return state;\n    };\n    return [useStateContext, StateProvider, context];\n};\nexport default createStateContext;\n","export { default as createMemo } from './factory/createMemo';\nexport { default as createReducerContext } from './factory/createReducerContext';\nexport { default as createReducer } from './factory/createReducer';\nexport { default as createStateContext } from './factory/createStateContext';\nexport { default as useAsync } from './useAsync';\nexport { default as useAsyncFn } from './useAsyncFn';\nexport { default as useAsyncRetry } from './useAsyncRetry';\nexport { default as useAudio } from './useAudio';\nexport { default as useBattery } from './useBattery';\nexport { default as useBeforeUnload } from './useBeforeUnload';\nexport { default as useBoolean } from './useBoolean';\nexport { default as useClickAway } from './useClickAway';\nexport { default as useCookie } from './useCookie';\nexport { default as useCopyToClipboard } from './useCopyToClipboard';\nexport { default as useCounter } from './useCounter';\nexport { default as useCss } from './useCss';\nexport { default as useCustomCompareEffect } from './useCustomCompareEffect';\nexport { default as useDebounce } from './useDebounce';\nexport { default as useDeepCompareEffect } from './useDeepCompareEffect';\nexport { default as useDefault } from './useDefault';\nexport { default as useDrop } from './useDrop';\nexport { default as useDropArea } from './useDropArea';\nexport { default as useEffectOnce } from './useEffectOnce';\nexport { default as useEnsuredForwardedRef, ensuredForwardRef } from './useEnsuredForwardedRef';\nexport { default as useEvent } from './useEvent';\nexport { default as useError } from './useError';\nexport { default as useFavicon } from './useFavicon';\nexport { default as useFullscreen } from './useFullscreen';\nexport { default as useGeolocation } from './useGeolocation';\nexport { default as useGetSet } from './useGetSet';\nexport { default as useGetSetState } from './useGetSetState';\nexport { default as useHarmonicIntervalFn } from './useHarmonicIntervalFn';\nexport { default as useHover } from './useHover';\nexport { default as useHoverDirty } from './useHoverDirty';\nexport { default as useIdle } from './useIdle';\nexport { default as useIntersection } from './useIntersection';\nexport { default as useInterval } from './useInterval';\nexport { default as useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport { default as useKey } from './useKey';\nexport { default as createBreakpoint } from './factory/createBreakpoint';\n// not exported because of peer dependency\n// export { default as useKeyboardJs } from './useKeyboardJs';\nexport { default as useKeyPress } from './useKeyPress';\nexport { default as useKeyPressEvent } from './useKeyPressEvent';\nexport { default as useLatest } from './useLatest';\nexport { default as useLifecycles } from './useLifecycles';\nexport { default as useList } from './useList';\nexport { default as useLocalStorage } from './useLocalStorage';\nexport { default as useLocation } from './useLocation';\nexport { default as useLockBodyScroll } from './useLockBodyScroll';\nexport { default as useLogger } from './useLogger';\nexport { default as useLongPress } from './useLongPress';\nexport { default as useMap } from './useMap';\nexport { default as useMedia } from './useMedia';\nexport { default as useMediaDevices } from './useMediaDevices';\nexport { useMediatedState } from './useMediatedState';\nexport { default as useMethods } from './useMethods';\nexport { default as useMotion } from './useMotion';\nexport { default as useMount } from './useMount';\nexport { default as useMountedState } from './useMountedState';\nexport { default as useMouse } from './useMouse';\nexport { default as useMouseHovered } from './useMouseHovered';\nexport { default as useMouseWheel } from './useMouseWheel';\nexport { default as useNetworkState } from './useNetworkState';\nexport { default as useNumber } from './useNumber';\nexport { default as useObservable } from './useObservable';\nexport { default as useOrientation } from './useOrientation';\nexport { default as usePageLeave } from './usePageLeave';\nexport { default as usePermission } from './usePermission';\nexport { default as usePrevious } from './usePrevious';\nexport { default as usePreviousDistinct } from './usePreviousDistinct';\nexport { default as usePromise } from './usePromise';\nexport { default as useQueue } from './useQueue';\nexport { default as useRaf } from './useRaf';\nexport { default as useRafLoop } from './useRafLoop';\nexport { default as useRafState } from './useRafState';\nexport { default as useSearchParam } from './useSearchParam';\nexport { default as useScratch } from './useScratch';\nexport { default as useScroll } from './useScroll';\nexport { default as useScrolling } from './useScrolling';\nexport { default as useSessionStorage } from './useSessionStorage';\nexport { default as useSetState } from './useSetState';\nexport { default as useShallowCompareEffect } from './useShallowCompareEffect';\nexport { default as useSize } from './useSize';\nexport { default as useSlider } from './useSlider';\nexport { default as useSpeech } from './useSpeech';\n// not exported because of peer dependency\n// export { default as useSpring } from './useSpring';\nexport { default as useStartTyping } from './useStartTyping';\nexport { useStateWithHistory } from './useStateWithHistory';\nexport { default as useStateList } from './useStateList';\nexport { default as useThrottle } from './useThrottle';\nexport { default as useThrottleFn } from './useThrottleFn';\nexport { default as useTimeout } from './useTimeout';\nexport { default as useTimeoutFn } from './useTimeoutFn';\nexport { default as useTitle } from './useTitle';\nexport { default as useToggle } from './useToggle';\nexport { default as useTween } from './useTween';\nexport { default as useUnmount } from './useUnmount';\nexport { default as useUnmountPromise } from './useUnmountPromise';\nexport { default as useUpdate } from './useUpdate';\nexport { default as useUpdateEffect } from './useUpdateEffect';\nexport { default as useUpsert } from './useUpsert';\nexport { default as useVibrate } from './useVibrate';\nexport { default as useVideo } from './useVideo';\nexport { default as useStateValidator } from './useStateValidator';\nexport { useScrollbarWidth } from './useScrollbarWidth';\nexport { useMultiStateValidator } from './useMultiStateValidator';\nexport { default as useWindowScroll } from './useWindowScroll';\nexport { default as useWindowSize } from './useWindowSize';\nexport { default as useMeasure } from './useMeasure';\nexport { useRendersCount } from './useRendersCount';\nexport { useFirstMountState } from './useFirstMountState';\nexport { default as useSet } from './useSet';\nexport { createGlobalState } from './factory/createGlobalState';\nexport { useHash } from './useHash';\n","export function resolveHookState(nextState, currentState) {\n    if (typeof nextState === 'function') {\n        return nextState.length ? nextState(currentState) : nextState();\n    }\n    return nextState;\n}\n","import isDeepEqualReact from 'fast-deep-equal/react';\nexport default isDeepEqualReact;\n","export default function parseTimeRanges(ranges) {\n    var result = [];\n    for (var i = 0; i < ranges.length; i++) {\n        result.push({\n            start: ranges.start(i),\n            end: ranges.end(i),\n        });\n    }\n    return result;\n}\n","export var noop = function () { };\nexport function on(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.addEventListener) {\n        obj.addEventListener.apply(obj, args);\n    }\n}\nexport function off(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.removeEventListener) {\n        obj.removeEventListener.apply(obj, args);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined';\nexport var isNavigator = typeof navigator !== 'undefined';\n","import { useEffect } from 'react';\nimport useAsyncFn from './useAsyncFn';\nexport default function useAsync(fn, deps) {\n    if (deps === void 0) { deps = []; }\n    var _a = useAsyncFn(fn, deps, {\n        loading: true,\n    }), state = _a[0], callback = _a[1];\n    useEffect(function () {\n        callback();\n    }, [callback]);\n    return state;\n}\n","import { __assign } from \"tslib\";\nimport { useCallback, useRef, useState } from 'react';\nimport useMountedState from './useMountedState';\nexport default function useAsyncFn(fn, deps, initialState) {\n    if (deps === void 0) { deps = []; }\n    if (initialState === void 0) { initialState = { loading: false }; }\n    var lastCallId = useRef(0);\n    var isMounted = useMountedState();\n    var _a = useState(initialState), state = _a[0], set = _a[1];\n    var callback = useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callId = ++lastCallId.current;\n        if (!state.loading) {\n            set(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });\n        }\n        return fn.apply(void 0, args).then(function (value) {\n            isMounted() && callId === lastCallId.current && set({ value: value, loading: false });\n            return value;\n        }, function (error) {\n            isMounted() && callId === lastCallId.current && set({ error: error, loading: false });\n            return error;\n        });\n    }, deps);\n    return [state, callback];\n}\n","import { __assign, __spreadArrays } from \"tslib\";\nimport { useCallback, useState } from 'react';\nimport useAsync from './useAsync';\nvar useAsyncRetry = function (fn, deps) {\n    if (deps === void 0) { deps = []; }\n    var _a = useState(0), attempt = _a[0], setAttempt = _a[1];\n    var state = useAsync(fn, __spreadArrays(deps, [attempt]));\n    var stateLoading = state.loading;\n    var retry = useCallback(function () {\n        if (stateLoading) {\n            if (process.env.NODE_ENV === 'development') {\n                console.log('You are calling useAsyncRetry hook retry() method while loading in progress, this is a no-op.');\n            }\n            return;\n        }\n        setAttempt(function (currentAttempt) { return currentAttempt + 1; });\n    }, __spreadArrays(deps, [stateLoading]));\n    return __assign(__assign({}, state), { retry: retry });\n};\nexport default useAsyncRetry;\n","import createHTMLMediaHook from './factory/createHTMLMediaHook';\nvar useAudio = createHTMLMediaHook('audio');\nexport default useAudio;\n","import { useEffect, useState } from 'react';\nimport { isNavigator, off, on } from './misc/util';\nimport isDeepEqual from './misc/isDeepEqual';\nvar nav = isNavigator ? navigator : undefined;\nvar isBatteryApiSupported = nav && typeof nav.getBattery === 'function';\nfunction useBatteryMock() {\n    return { isSupported: false };\n}\nfunction useBattery() {\n    var _a = useState({ isSupported: true, fetched: false }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var isMounted = true;\n        var battery = null;\n        var handleChange = function () {\n            if (!isMounted || !battery) {\n                return;\n            }\n            var newState = {\n                isSupported: true,\n                fetched: true,\n                level: battery.level,\n                charging: battery.charging,\n                dischargingTime: battery.dischargingTime,\n                chargingTime: battery.chargingTime,\n            };\n            !isDeepEqual(state, newState) && setState(newState);\n        };\n        nav.getBattery().then(function (bat) {\n            if (!isMounted) {\n                return;\n            }\n            battery = bat;\n            on(battery, 'chargingchange', handleChange);\n            on(battery, 'chargingtimechange', handleChange);\n            on(battery, 'dischargingtimechange', handleChange);\n            on(battery, 'levelchange', handleChange);\n            handleChange();\n        });\n        return function () {\n            isMounted = false;\n            if (battery) {\n                off(battery, 'chargingchange', handleChange);\n                off(battery, 'chargingtimechange', handleChange);\n                off(battery, 'dischargingtimechange', handleChange);\n                off(battery, 'levelchange', handleChange);\n            }\n        };\n    }, []);\n    return state;\n}\nexport default isBatteryApiSupported ? useBattery : useBatteryMock;\n","import { useCallback, useEffect } from 'react';\nimport { off, on } from './misc/util';\nvar useBeforeUnload = function (enabled, message) {\n    if (enabled === void 0) { enabled = true; }\n    var handler = useCallback(function (event) {\n        var finalEnabled = typeof enabled === 'function' ? enabled() : true;\n        if (!finalEnabled) {\n            return;\n        }\n        event.preventDefault();\n        if (message) {\n            event.returnValue = message;\n        }\n        return message;\n    }, [enabled, message]);\n    useEffect(function () {\n        if (!enabled) {\n            return;\n        }\n        on(window, 'beforeunload', handler);\n        return function () { return off(window, 'beforeunload', handler); };\n    }, [enabled, handler]);\n};\nexport default useBeforeUnload;\n","import useBoolean from './useToggle';\nexport default useBoolean;\n","import { useEffect, useRef } from 'react';\nimport { off, on } from './misc/util';\nvar defaultEvents = ['mousedown', 'touchstart'];\nvar useClickAway = function (ref, onClickAway, events) {\n    if (events === void 0) { events = defaultEvents; }\n    var savedCallback = useRef(onClickAway);\n    useEffect(function () {\n        savedCallback.current = onClickAway;\n    }, [onClickAway]);\n    useEffect(function () {\n        var handler = function (event) {\n            var el = ref.current;\n            el && !el.contains(event.target) && savedCallback.current(event);\n        };\n        for (var _i = 0, events_1 = events; _i < events_1.length; _i++) {\n            var eventName = events_1[_i];\n            on(document, eventName, handler);\n        }\n        return function () {\n            for (var _i = 0, events_2 = events; _i < events_2.length; _i++) {\n                var eventName = events_2[_i];\n                off(document, eventName, handler);\n            }\n        };\n    }, [events, ref]);\n};\nexport default useClickAway;\n","import { useCallback, useState } from 'react';\nimport Cookies from 'js-cookie';\nvar useCookie = function (cookieName) {\n    var _a = useState(function () { return Cookies.get(cookieName) || null; }), value = _a[0], setValue = _a[1];\n    var updateCookie = useCallback(function (newValue, options) {\n        Cookies.set(cookieName, newValue, options);\n        setValue(newValue);\n    }, [cookieName]);\n    var deleteCookie = useCallback(function () {\n        Cookies.remove(cookieName);\n        setValue(null);\n    }, [cookieName]);\n    return [value, updateCookie, deleteCookie];\n};\nexport default useCookie;\n","import writeText from 'copy-to-clipboard';\nimport { useCallback } from 'react';\nimport useMountedState from './useMountedState';\nimport useSetState from './useSetState';\nvar useCopyToClipboard = function () {\n    var isMounted = useMountedState();\n    var _a = useSetState({\n        value: undefined,\n        error: undefined,\n        noUserInteraction: true,\n    }), state = _a[0], setState = _a[1];\n    var copyToClipboard = useCallback(function (value) {\n        if (!isMounted()) {\n            return;\n        }\n        var noUserInteraction;\n        var normalizedValue;\n        try {\n            // only strings and numbers casted to strings can be copied to clipboard\n            if (typeof value !== 'string' && typeof value !== 'number') {\n                var error = new Error(\"Cannot copy typeof \" + typeof value + \" to clipboard, must be a string\");\n                if (process.env.NODE_ENV === 'development')\n                    console.error(error);\n                setState({\n                    value: value,\n                    error: error,\n                    noUserInteraction: true,\n                });\n                return;\n            }\n            // empty strings are also considered invalid\n            else if (value === '') {\n                var error = new Error(\"Cannot copy empty string to clipboard.\");\n                if (process.env.NODE_ENV === 'development')\n                    console.error(error);\n                setState({\n                    value: value,\n                    error: error,\n                    noUserInteraction: true,\n                });\n                return;\n            }\n            normalizedValue = value.toString();\n            noUserInteraction = writeText(normalizedValue);\n            setState({\n                value: normalizedValue,\n                error: undefined,\n                noUserInteraction: noUserInteraction,\n            });\n        }\n        catch (error) {\n            setState({\n                value: normalizedValue,\n                error: error,\n                noUserInteraction: noUserInteraction,\n            });\n        }\n    }, []);\n    return [state, copyToClipboard];\n};\nexport default useCopyToClipboard;\n","import { useMemo } from 'react';\nimport useGetSet from './useGetSet';\nimport { resolveHookState } from './misc/hookState';\nexport default function useCounter(initialValue, max, min) {\n    if (initialValue === void 0) { initialValue = 0; }\n    if (max === void 0) { max = null; }\n    if (min === void 0) { min = null; }\n    var init = resolveHookState(initialValue);\n    typeof init !== 'number' &&\n        console.error('initialValue has to be a number, got ' + typeof initialValue);\n    if (typeof min === 'number') {\n        init = Math.max(init, min);\n    }\n    else if (min !== null) {\n        console.error('min has to be a number, got ' + typeof min);\n    }\n    if (typeof max === 'number') {\n        init = Math.min(init, max);\n    }\n    else if (max !== null) {\n        console.error('max has to be a number, got ' + typeof max);\n    }\n    var _a = useGetSet(init), get = _a[0], setInternal = _a[1];\n    return [\n        get(),\n        useMemo(function () {\n            var set = function (newState) {\n                var prevState = get();\n                var rState = resolveHookState(newState, prevState);\n                if (prevState !== rState) {\n                    if (typeof min === 'number') {\n                        rState = Math.max(rState, min);\n                    }\n                    if (typeof max === 'number') {\n                        rState = Math.min(rState, max);\n                    }\n                    prevState !== rState && setInternal(rState);\n                }\n            };\n            return {\n                get: get,\n                set: set,\n                inc: function (delta) {\n                    if (delta === void 0) { delta = 1; }\n                    var rDelta = resolveHookState(delta, get());\n                    if (typeof rDelta !== 'number') {\n                        console.error('delta has to be a number or function returning a number, got ' + typeof rDelta);\n                    }\n                    set(function (num) { return num + rDelta; });\n                },\n                dec: function (delta) {\n                    if (delta === void 0) { delta = 1; }\n                    var rDelta = resolveHookState(delta, get());\n                    if (typeof rDelta !== 'number') {\n                        console.error('delta has to be a number or function returning a number, got ' + typeof rDelta);\n                    }\n                    set(function (num) { return num - rDelta; });\n                },\n                reset: function (value) {\n                    if (value === void 0) { value = init; }\n                    var rValue = resolveHookState(value, get());\n                    if (typeof rValue !== 'number') {\n                        console.error('value has to be a number or function returning a number, got ' + typeof rValue);\n                    }\n                    // eslint-disable-next-line react-hooks/exhaustive-deps\n                    init = rValue;\n                    set(rValue);\n                },\n            };\n        }, [init, min, max]),\n    ];\n}\n","import { create } from 'nano-css';\nimport { addon as addonCSSOM } from 'nano-css/addon/cssom';\nimport { addon as addonVCSSOM } from 'nano-css/addon/vcssom';\nimport { cssToTree } from 'nano-css/addon/vcssom/cssToTree';\nimport { useMemo } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nvar nano = create();\naddonCSSOM(nano);\naddonVCSSOM(nano);\nvar counter = 0;\nvar useCss = function (css) {\n    var className = useMemo(function () { return 'react-use-css-' + (counter++).toString(36); }, []);\n    var sheet = useMemo(function () { return new nano.VSheet(); }, []);\n    useIsomorphicLayoutEffect(function () {\n        var tree = {};\n        cssToTree(tree, css, '.' + className, '');\n        sheet.diff(tree);\n        return function () {\n            sheet.diff({});\n        };\n    });\n    return className;\n};\nexport default useCss;\n","import { useEffect, useRef } from 'react';\nvar isPrimitive = function (val) { return val !== Object(val); };\nvar useCustomCompareEffect = function (effect, deps, depsEqual) {\n    if (process.env.NODE_ENV !== 'production') {\n        if (!(deps instanceof Array) || !deps.length) {\n            console.warn('`useCustomCompareEffect` should not be used with no dependencies. Use React.useEffect instead.');\n        }\n        if (deps.every(isPrimitive)) {\n            console.warn('`useCustomCompareEffect` should not be used with dependencies that are all primitive values. Use React.useEffect instead.');\n        }\n        if (typeof depsEqual !== 'function') {\n            console.warn('`useCustomCompareEffect` should be used with depsEqual callback for comparing deps list');\n        }\n    }\n    var ref = useRef(undefined);\n    if (!ref.current || !depsEqual(deps, ref.current)) {\n        ref.current = deps;\n    }\n    useEffect(effect, ref.current);\n};\nexport default useCustomCompareEffect;\n","import { useEffect } from 'react';\nimport useTimeoutFn from './useTimeoutFn';\nexport default function useDebounce(fn, ms, deps) {\n    if (ms === void 0) { ms = 0; }\n    if (deps === void 0) { deps = []; }\n    var _a = useTimeoutFn(fn, ms), isReady = _a[0], cancel = _a[1], reset = _a[2];\n    useEffect(reset, deps);\n    return [isReady, cancel];\n}\n","import useCustomCompareEffect from './useCustomCompareEffect';\nimport isDeepEqual from './misc/isDeepEqual';\nvar isPrimitive = function (val) { return val !== Object(val); };\nvar useDeepCompareEffect = function (effect, deps) {\n    if (process.env.NODE_ENV !== 'production') {\n        if (!(deps instanceof Array) || !deps.length) {\n            console.warn('`useDeepCompareEffect` should not be used with no dependencies. Use React.useEffect instead.');\n        }\n        if (deps.every(isPrimitive)) {\n            console.warn('`useDeepCompareEffect` should not be used with dependencies that are all primitive values. Use React.useEffect instead.');\n        }\n    }\n    useCustomCompareEffect(effect, deps, isDeepEqual);\n};\nexport default useDeepCompareEffect;\n","import { useState } from 'react';\nvar useDefault = function (defaultValue, initialValue) {\n    var _a = useState(initialValue), value = _a[0], setValue = _a[1];\n    if (value === undefined || value === null) {\n        return [defaultValue, setValue];\n    }\n    return [value, setValue];\n};\nexport default useDefault;\n","import { __spreadArrays } from \"tslib\";\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport { noop, off, on } from './misc/util';\nvar createProcess = function (options) { return function (dataTransfer, event) {\n    var uri = dataTransfer.getData('text/uri-list');\n    if (uri) {\n        (options.onUri || noop)(uri, event);\n        return;\n    }\n    if (dataTransfer.files && dataTransfer.files.length) {\n        (options.onFiles || noop)(Array.from(dataTransfer.files), event);\n        return;\n    }\n    if (event.clipboardData) {\n        var text = event.clipboardData.getData('text');\n        (options.onText || noop)(text, event);\n        return;\n    }\n}; };\nvar useDrop = function (options, args) {\n    if (options === void 0) { options = {}; }\n    if (args === void 0) { args = []; }\n    var onFiles = options.onFiles, onText = options.onText, onUri = options.onUri;\n    var _a = useState(false), over = _a[0], setOverRaw = _a[1];\n    var setOver = useCallback(setOverRaw, []);\n    var process = useMemo(function () { return createProcess(options); }, [onFiles, onText, onUri]);\n    useEffect(function () {\n        var onDragOver = function (event) {\n            event.preventDefault();\n            setOver(true);\n        };\n        var onDragEnter = function (event) {\n            event.preventDefault();\n            setOver(true);\n        };\n        var onDragLeave = function () {\n            setOver(false);\n        };\n        var onDragExit = function () {\n            setOver(false);\n        };\n        var onDrop = function (event) {\n            event.preventDefault();\n            setOver(false);\n            process(event.dataTransfer, event);\n        };\n        var onPaste = function (event) {\n            process(event.clipboardData, event);\n        };\n        on(document, 'dragover', onDragOver);\n        on(document, 'dragenter', onDragEnter);\n        on(document, 'dragleave', onDragLeave);\n        on(document, 'dragexit', onDragExit);\n        on(document, 'drop', onDrop);\n        if (onText) {\n            on(document, 'paste', onPaste);\n        }\n        return function () {\n            off(document, 'dragover', onDragOver);\n            off(document, 'dragenter', onDragEnter);\n            off(document, 'dragleave', onDragLeave);\n            off(document, 'dragexit', onDragExit);\n            off(document, 'drop', onDrop);\n            off(document, 'paste', onPaste);\n        };\n    }, __spreadArrays([process], args));\n    return { over: over };\n};\nexport default useDrop;\n","import { useMemo, useState } from 'react';\nimport useMountedState from './useMountedState';\nimport { noop } from './misc/util';\n/*\nconst defaultState: DropAreaState = {\n  over: false,\n};\n*/\nvar createProcess = function (options, mounted) { return function (dataTransfer, event) {\n    var uri = dataTransfer.getData('text/uri-list');\n    if (uri) {\n        (options.onUri || noop)(uri, event);\n        return;\n    }\n    if (dataTransfer.files && dataTransfer.files.length) {\n        (options.onFiles || noop)(Array.from(dataTransfer.files), event);\n        return;\n    }\n    if (dataTransfer.items && dataTransfer.items.length) {\n        dataTransfer.items[0].getAsString(function (text) {\n            if (mounted) {\n                (options.onText || noop)(text, event);\n            }\n        });\n    }\n}; };\nvar createBond = function (process, setOver) { return ({\n    onDragOver: function (event) {\n        event.preventDefault();\n    },\n    onDragEnter: function (event) {\n        event.preventDefault();\n        setOver(true);\n    },\n    onDragLeave: function () {\n        setOver(false);\n    },\n    onDrop: function (event) {\n        event.preventDefault();\n        event.persist();\n        setOver(false);\n        process(event.dataTransfer, event);\n    },\n    onPaste: function (event) {\n        event.persist();\n        process(event.clipboardData, event);\n    },\n}); };\nvar useDropArea = function (options) {\n    if (options === void 0) { options = {}; }\n    var onFiles = options.onFiles, onText = options.onText, onUri = options.onUri;\n    var isMounted = useMountedState();\n    var _a = useState(false), over = _a[0], setOver = _a[1];\n    var process = useMemo(function () { return createProcess(options, isMounted()); }, [onFiles, onText, onUri]);\n    var bond = useMemo(function () { return createBond(process, setOver); }, [process, setOver]);\n    return [bond, { over: over }];\n};\nexport default useDropArea;\n","import { useEffect } from 'react';\nvar useEffectOnce = function (effect) {\n    useEffect(effect, []);\n};\nexport default useEffectOnce;\n","import { forwardRef, useEffect, useRef, } from 'react';\nexport default function useEnsuredForwardedRef(forwardedRef) {\n    var ensuredRef = useRef(forwardedRef && forwardedRef.current);\n    useEffect(function () {\n        if (!forwardedRef) {\n            return;\n        }\n        forwardedRef.current = ensuredRef.current;\n    }, [forwardedRef]);\n    return ensuredRef;\n}\nexport function ensuredForwardRef(Component) {\n    return forwardRef(function (props, ref) {\n        var ensuredRef = useEnsuredForwardedRef(ref);\n        return Component(props, ensuredRef);\n    });\n}\n","import { useCallback, useEffect, useState } from 'react';\nvar useError = function () {\n    var _a = useState(null), error = _a[0], setError = _a[1];\n    useEffect(function () {\n        if (error) {\n            throw error;\n        }\n    }, [error]);\n    var dispatchError = useCallback(function (err) {\n        setError(err);\n    }, []);\n    return dispatchError;\n};\nexport default useError;\n","import { useEffect } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nvar defaultTarget = isBrowser ? window : null;\nvar isListenerType1 = function (target) {\n    return !!target.addEventListener;\n};\nvar isListenerType2 = function (target) {\n    return !!target.on;\n};\nvar useEvent = function (name, handler, target, options) {\n    if (target === void 0) { target = defaultTarget; }\n    useEffect(function () {\n        if (!handler) {\n            return;\n        }\n        if (!target) {\n            return;\n        }\n        if (isListenerType1(target)) {\n            on(target, name, handler, options);\n        }\n        else if (isListenerType2(target)) {\n            target.on(name, handler, options);\n        }\n        return function () {\n            if (isListenerType1(target)) {\n                off(target, name, handler, options);\n            }\n            else if (isListenerType2(target)) {\n                target.off(name, handler, options);\n            }\n        };\n    }, [name, handler, target, JSON.stringify(options)]);\n};\nexport default useEvent;\n","import { useEffect } from 'react';\nvar useFavicon = function (href) {\n    useEffect(function () {\n        var link = document.querySelector(\"link[rel*='icon']\") || document.createElement('link');\n        link.type = 'image/x-icon';\n        link.rel = 'shortcut icon';\n        link.href = href;\n        document.getElementsByTagName('head')[0].appendChild(link);\n    }, [href]);\n};\nexport default useFavicon;\n","import { useRef } from 'react';\nexport function useFirstMountState() {\n    var isFirst = useRef(true);\n    if (isFirst.current) {\n        isFirst.current = false;\n        return true;\n    }\n    return isFirst.current;\n}\n","import { useState } from 'react';\nimport screenfull from 'screenfull';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { noop, off, on } from './misc/util';\nvar useFullscreen = function (ref, enabled, options) {\n    if (options === void 0) { options = {}; }\n    var video = options.video, _a = options.onClose, onClose = _a === void 0 ? noop : _a;\n    var _b = useState(enabled), isFullscreen = _b[0], setIsFullscreen = _b[1];\n    useIsomorphicLayoutEffect(function () {\n        if (!enabled) {\n            return;\n        }\n        if (!ref.current) {\n            return;\n        }\n        var onWebkitEndFullscreen = function () {\n            if (video === null || video === void 0 ? void 0 : video.current) {\n                off(video.current, 'webkitendfullscreen', onWebkitEndFullscreen);\n            }\n            onClose();\n        };\n        var onChange = function () {\n            if (screenfull.isEnabled) {\n                var isScreenfullFullscreen = screenfull.isFullscreen;\n                setIsFullscreen(isScreenfullFullscreen);\n                if (!isScreenfullFullscreen) {\n                    onClose();\n                }\n            }\n        };\n        if (screenfull.isEnabled) {\n            try {\n                screenfull.request(ref.current);\n                setIsFullscreen(true);\n            }\n            catch (error) {\n                onClose(error);\n                setIsFullscreen(false);\n            }\n            screenfull.on('change', onChange);\n        }\n        else if (video && video.current && video.current.webkitEnterFullscreen) {\n            video.current.webkitEnterFullscreen();\n            on(video.current, 'webkitendfullscreen', onWebkitEndFullscreen);\n            setIsFullscreen(true);\n        }\n        else {\n            onClose();\n            setIsFullscreen(false);\n        }\n        return function () {\n            setIsFullscreen(false);\n            if (screenfull.isEnabled) {\n                try {\n                    screenfull.off('change', onChange);\n                    screenfull.exit();\n                }\n                catch (_a) { }\n            }\n            else if (video && video.current && video.current.webkitExitFullscreen) {\n                off(video.current, 'webkitendfullscreen', onWebkitEndFullscreen);\n                video.current.webkitExitFullscreen();\n            }\n        };\n    }, [enabled, video, ref]);\n    return isFullscreen;\n};\nexport default useFullscreen;\n","import { __assign } from \"tslib\";\nimport { useEffect, useState } from 'react';\nvar useGeolocation = function (options) {\n    var _a = useState({\n        loading: true,\n        accuracy: null,\n        altitude: null,\n        altitudeAccuracy: null,\n        heading: null,\n        latitude: null,\n        longitude: null,\n        speed: null,\n        timestamp: Date.now(),\n    }), state = _a[0], setState = _a[1];\n    var mounted = true;\n    var watchId;\n    var onEvent = function (event) {\n        if (mounted) {\n            setState({\n                loading: false,\n                accuracy: event.coords.accuracy,\n                altitude: event.coords.altitude,\n                altitudeAccuracy: event.coords.altitudeAccuracy,\n                heading: event.coords.heading,\n                latitude: event.coords.latitude,\n                longitude: event.coords.longitude,\n                speed: event.coords.speed,\n                timestamp: event.timestamp,\n            });\n        }\n    };\n    var onEventError = function (error) {\n        return mounted && setState(function (oldState) { return (__assign(__assign({}, oldState), { loading: false, error: error })); });\n    };\n    useEffect(function () {\n        navigator.geolocation.getCurrentPosition(onEvent, onEventError, options);\n        watchId = navigator.geolocation.watchPosition(onEvent, onEventError, options);\n        return function () {\n            mounted = false;\n            navigator.geolocation.clearWatch(watchId);\n        };\n    }, []);\n    return state;\n};\nexport default useGeolocation;\n","import { useMemo, useRef } from 'react';\nimport useUpdate from './useUpdate';\nimport { resolveHookState } from './misc/hookState';\nexport default function useGetSet(initialState) {\n    var state = useRef(resolveHookState(initialState));\n    var update = useUpdate();\n    return useMemo(function () { return [\n        function () { return state.current; },\n        function (newState) {\n            state.current = resolveHookState(newState, state.current);\n            update();\n        },\n    ]; }, []);\n}\n","import { __assign } from \"tslib\";\nimport { useCallback, useRef } from 'react';\nimport useUpdate from './useUpdate';\nvar useGetSetState = function (initialState) {\n    if (initialState === void 0) { initialState = {}; }\n    if (process.env.NODE_ENV !== 'production') {\n        if (typeof initialState !== 'object') {\n            console.error('useGetSetState initial state must be an object.');\n        }\n    }\n    var update = useUpdate();\n    var state = useRef(__assign({}, initialState));\n    var get = useCallback(function () { return state.current; }, []);\n    var set = useCallback(function (patch) {\n        if (!patch) {\n            return;\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (typeof patch !== 'object') {\n                console.error('useGetSetState setter patch must be an object.');\n            }\n        }\n        Object.assign(state.current, patch);\n        update();\n    }, []);\n    return [get, set];\n};\nexport default useGetSetState;\n","import { useEffect, useRef } from 'react';\nimport { clearHarmonicInterval, setHarmonicInterval } from 'set-harmonic-interval';\nvar useHarmonicIntervalFn = function (fn, delay) {\n    if (delay === void 0) { delay = 0; }\n    var latestCallback = useRef(function () { });\n    useEffect(function () {\n        latestCallback.current = fn;\n    });\n    useEffect(function () {\n        if (delay !== null) {\n            var interval_1 = setHarmonicInterval(function () { return latestCallback.current(); }, delay);\n            return function () { return clearHarmonicInterval(interval_1); };\n        }\n        return undefined;\n    }, [delay]);\n};\nexport default useHarmonicIntervalFn;\n","import { useCallback, useState } from 'react';\nimport useLifecycles from './useLifecycles';\nimport { off, on } from './misc/util';\n/**\n * read and write url hash, response to url hash change\n */\nexport var useHash = function () {\n    var _a = useState(function () { return window.location.hash; }), hash = _a[0], setHash = _a[1];\n    var onHashChange = useCallback(function () {\n        setHash(window.location.hash);\n    }, []);\n    useLifecycles(function () {\n        on(window, 'hashchange', onHashChange);\n    }, function () {\n        off(window, 'hashchange', onHashChange);\n    });\n    var _setHash = useCallback(function (newHash) {\n        if (newHash !== hash) {\n            window.location.hash = newHash;\n        }\n    }, [hash]);\n    return [hash, _setHash];\n};\n","import * as React from 'react';\nimport { noop } from './misc/util';\nvar useState = React.useState;\nvar useHover = function (element) {\n    var _a = useState(false), state = _a[0], setState = _a[1];\n    var onMouseEnter = function (originalOnMouseEnter) { return function (event) {\n        (originalOnMouseEnter || noop)(event);\n        setState(true);\n    }; };\n    var onMouseLeave = function (originalOnMouseLeave) { return function (event) {\n        (originalOnMouseLeave || noop)(event);\n        setState(false);\n    }; };\n    if (typeof element === 'function') {\n        element = element(state);\n    }\n    var el = React.cloneElement(element, {\n        onMouseEnter: onMouseEnter(element.props.onMouseEnter),\n        onMouseLeave: onMouseLeave(element.props.onMouseLeave),\n    });\n    return [el, state];\n};\nexport default useHover;\n","import { useEffect, useState } from 'react';\nimport { off, on } from './misc/util';\n// kudos: https://usehooks.com/\nvar useHoverDirty = function (ref, enabled) {\n    if (enabled === void 0) { enabled = true; }\n    if (process.env.NODE_ENV === 'development') {\n        if (typeof ref !== 'object' || typeof ref.current === 'undefined') {\n            console.error('useHoverDirty expects a single ref argument.');\n        }\n    }\n    var _a = useState(false), value = _a[0], setValue = _a[1];\n    useEffect(function () {\n        var onMouseOver = function () { return setValue(true); };\n        var onMouseOut = function () { return setValue(false); };\n        if (enabled && ref && ref.current) {\n            on(ref.current, 'mouseover', onMouseOver);\n            on(ref.current, 'mouseout', onMouseOut);\n        }\n        // fixes react-hooks/exhaustive-deps warning about stale ref elements\n        var current = ref.current;\n        return function () {\n            if (enabled && current) {\n                off(current, 'mouseover', onMouseOver);\n                off(current, 'mouseout', onMouseOut);\n            }\n        };\n    }, [enabled, ref]);\n    return value;\n};\nexport default useHoverDirty;\n","import { useEffect, useState } from 'react';\nimport { throttle } from 'throttle-debounce';\nimport { off, on } from './misc/util';\nvar defaultEvents = ['mousemove', 'mousedown', 'resize', 'keydown', 'touchstart', 'wheel'];\nvar oneMinute = 60e3;\nvar useIdle = function (ms, initialState, events) {\n    if (ms === void 0) { ms = oneMinute; }\n    if (initialState === void 0) { initialState = false; }\n    if (events === void 0) { events = defaultEvents; }\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var mounted = true;\n        var timeout;\n        var localState = state;\n        var set = function (newState) {\n            if (mounted) {\n                localState = newState;\n                setState(newState);\n            }\n        };\n        var onEvent = throttle(50, function () {\n            if (localState) {\n                set(false);\n            }\n            clearTimeout(timeout);\n            timeout = setTimeout(function () { return set(true); }, ms);\n        });\n        var onVisibility = function () {\n            if (!document.hidden) {\n                onEvent();\n            }\n        };\n        for (var i = 0; i < events.length; i++) {\n            on(window, events[i], onEvent);\n        }\n        on(document, 'visibilitychange', onVisibility);\n        timeout = setTimeout(function () { return set(true); }, ms);\n        return function () {\n            mounted = false;\n            for (var i = 0; i < events.length; i++) {\n                off(window, events[i], onEvent);\n            }\n            off(document, 'visibilitychange', onVisibility);\n        };\n    }, [ms, events]);\n    return state;\n};\nexport default useIdle;\n","import { useEffect, useState } from 'react';\nvar useIntersection = function (ref, options) {\n    var _a = useState(null), intersectionObserverEntry = _a[0], setIntersectionObserverEntry = _a[1];\n    useEffect(function () {\n        if (ref.current && typeof IntersectionObserver === 'function') {\n            var handler = function (entries) {\n                setIntersectionObserverEntry(entries[0]);\n            };\n            var observer_1 = new IntersectionObserver(handler, options);\n            observer_1.observe(ref.current);\n            return function () {\n                setIntersectionObserverEntry(null);\n                observer_1.disconnect();\n            };\n        }\n        return function () { };\n    }, [ref.current, options.threshold, options.root, options.rootMargin]);\n    return intersectionObserverEntry;\n};\nexport default useIntersection;\n","import { useEffect, useRef } from 'react';\nvar useInterval = function (callback, delay) {\n    var savedCallback = useRef(function () { });\n    useEffect(function () {\n        savedCallback.current = callback;\n    });\n    useEffect(function () {\n        if (delay !== null) {\n            var interval_1 = setInterval(function () { return savedCallback.current(); }, delay || 0);\n            return function () { return clearInterval(interval_1); };\n        }\n        return undefined;\n    }, [delay]);\n};\nexport default useInterval;\n","import { useEffect, useLayoutEffect } from 'react';\nimport { isBrowser } from './misc/util';\nvar useIsomorphicLayoutEffect = isBrowser ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;\n","import { useMemo } from 'react';\nimport useEvent from './useEvent';\nimport { noop } from './misc/util';\nvar createKeyPredicate = function (keyFilter) {\n    return typeof keyFilter === 'function'\n        ? keyFilter\n        : typeof keyFilter === 'string'\n            ? function (event) { return event.key === keyFilter; }\n            : keyFilter\n                ? function () { return true; }\n                : function () { return false; };\n};\nvar useKey = function (key, fn, opts, deps) {\n    if (fn === void 0) { fn = noop; }\n    if (opts === void 0) { opts = {}; }\n    if (deps === void 0) { deps = [key]; }\n    var _a = opts.event, event = _a === void 0 ? 'keydown' : _a, target = opts.target, options = opts.options;\n    var useMemoHandler = useMemo(function () {\n        var predicate = createKeyPredicate(key);\n        var handler = function (handlerEvent) {\n            if (predicate(handlerEvent)) {\n                return fn(handlerEvent);\n            }\n        };\n        return handler;\n    }, deps);\n    useEvent(event, useMemoHandler, target, options);\n};\nexport default useKey;\n","import { useState } from 'react';\nimport useKey from './useKey';\nvar useKeyPress = function (keyFilter) {\n    var _a = useState([false, null]), state = _a[0], set = _a[1];\n    useKey(keyFilter, function (event) { return set([true, event]); }, { event: 'keydown' }, [state]);\n    useKey(keyFilter, function (event) { return set([false, event]); }, { event: 'keyup' }, [state]);\n    return state;\n};\nexport default useKeyPress;\n","import useKeyPressDefault from './useKeyPress';\nimport useUpdateEffect from './useUpdateEffect';\nvar useKeyPressEvent = function (key, keydown, keyup, useKeyPress) {\n    if (useKeyPress === void 0) { useKeyPress = useKeyPressDefault; }\n    var _a = useKeyPress(key), pressed = _a[0], event = _a[1];\n    useUpdateEffect(function () {\n        if (!pressed && keyup) {\n            keyup(event);\n        }\n        else if (pressed && keydown) {\n            keydown(event);\n        }\n    }, [pressed]);\n};\nexport default useKeyPressEvent;\n","import { useRef } from 'react';\nvar useLatest = function (value) {\n    var ref = useRef(value);\n    ref.current = value;\n    return ref;\n};\nexport default useLatest;\n","import { useEffect } from 'react';\nvar useLifecycles = function (mount, unmount) {\n    useEffect(function () {\n        if (mount) {\n            mount();\n        }\n        return function () {\n            if (unmount) {\n                unmount();\n            }\n        };\n    }, []);\n};\nexport default useLifecycles;\n","import { useMemo, useRef } from 'react';\nimport useUpdate from './useUpdate';\nimport { resolveHookState } from './misc/hookState';\nfunction useList(initialList) {\n    if (initialList === void 0) { initialList = []; }\n    var list = useRef(resolveHookState(initialList));\n    var update = useUpdate();\n    var actions = useMemo(function () {\n        var a = {\n            set: function (newList) {\n                list.current = resolveHookState(newList, list.current);\n                update();\n            },\n            push: function () {\n                var items = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    items[_i] = arguments[_i];\n                }\n                items.length && actions.set(function (curr) { return curr.concat(items); });\n            },\n            updateAt: function (index, item) {\n                actions.set(function (curr) {\n                    var arr = curr.slice();\n                    arr[index] = item;\n                    return arr;\n                });\n            },\n            insertAt: function (index, item) {\n                actions.set(function (curr) {\n                    var arr = curr.slice();\n                    index > arr.length ? (arr[index] = item) : arr.splice(index, 0, item);\n                    return arr;\n                });\n            },\n            update: function (predicate, newItem) {\n                actions.set(function (curr) { return curr.map(function (item) { return (predicate(item, newItem) ? newItem : item); }); });\n            },\n            updateFirst: function (predicate, newItem) {\n                var index = list.current.findIndex(function (item) { return predicate(item, newItem); });\n                index >= 0 && actions.updateAt(index, newItem);\n            },\n            upsert: function (predicate, newItem) {\n                var index = list.current.findIndex(function (item) { return predicate(item, newItem); });\n                index >= 0 ? actions.updateAt(index, newItem) : actions.push(newItem);\n            },\n            sort: function (compareFn) {\n                actions.set(function (curr) { return curr.slice().sort(compareFn); });\n            },\n            filter: function (callbackFn, thisArg) {\n                actions.set(function (curr) { return curr.slice().filter(callbackFn, thisArg); });\n            },\n            removeAt: function (index) {\n                actions.set(function (curr) {\n                    var arr = curr.slice();\n                    arr.splice(index, 1);\n                    return arr;\n                });\n            },\n            clear: function () {\n                actions.set([]);\n            },\n            reset: function () {\n                actions.set(resolveHookState(initialList).slice());\n            },\n        };\n        /**\n         * @deprecated Use removeAt method instead\n         */\n        a.remove = a.removeAt;\n        return a;\n    }, []);\n    return [list.current, actions];\n}\nexport default useList;\n","import { useCallback, useState, useRef, useLayoutEffect } from 'react';\nimport { isBrowser, noop } from './misc/util';\nvar useLocalStorage = function (key, initialValue, options) {\n    if (!isBrowser) {\n        return [initialValue, noop, noop];\n    }\n    if (!key) {\n        throw new Error('useLocalStorage key may not be falsy');\n    }\n    var deserializer = options\n        ? options.raw\n            ? function (value) { return value; }\n            : options.deserializer\n        : JSON.parse;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var initializer = useRef(function (key) {\n        try {\n            var serializer = options ? (options.raw ? String : options.serializer) : JSON.stringify;\n            var localStorageValue = localStorage.getItem(key);\n            if (localStorageValue !== null) {\n                return deserializer(localStorageValue);\n            }\n            else {\n                initialValue && localStorage.setItem(key, serializer(initialValue));\n                return initialValue;\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    });\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () { return initializer.current(key); }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useLayoutEffect(function () { return setState(initializer.current(key)); }, [key]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var set = useCallback(function (valOrFunc) {\n        try {\n            var newState = typeof valOrFunc === 'function' ? valOrFunc(state) : valOrFunc;\n            if (typeof newState === 'undefined')\n                return;\n            var value = void 0;\n            if (options)\n                if (options.raw)\n                    if (typeof newState === 'string')\n                        value = newState;\n                    else\n                        value = JSON.stringify(newState);\n                else if (options.serializer)\n                    value = options.serializer(newState);\n                else\n                    value = JSON.stringify(newState);\n            else\n                value = JSON.stringify(newState);\n            localStorage.setItem(key, value);\n            setState(deserializer(value));\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw. Also JSON.stringify can throw.\n        }\n    }, [key, setState]);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var remove = useCallback(function () {\n        try {\n            localStorage.removeItem(key);\n            setState(undefined);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // localStorage can throw.\n        }\n    }, [key, setState]);\n    return [state, set, remove];\n};\nexport default useLocalStorage;\n","import { useEffect, useState } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nvar patchHistoryMethod = function (method) {\n    var history = window.history;\n    var original = history[method];\n    history[method] = function (state) {\n        var result = original.apply(this, arguments);\n        var event = new Event(method.toLowerCase());\n        event.state = state;\n        window.dispatchEvent(event);\n        return result;\n    };\n};\nif (isBrowser) {\n    patchHistoryMethod('pushState');\n    patchHistoryMethod('replaceState');\n}\nvar useLocationServer = function () { return ({\n    trigger: 'load',\n    length: 1,\n}); };\nvar buildState = function (trigger) {\n    var _a = window.history, state = _a.state, length = _a.length;\n    var _b = window.location, hash = _b.hash, host = _b.host, hostname = _b.hostname, href = _b.href, origin = _b.origin, pathname = _b.pathname, port = _b.port, protocol = _b.protocol, search = _b.search;\n    return {\n        trigger: trigger,\n        state: state,\n        length: length,\n        hash: hash,\n        host: host,\n        hostname: hostname,\n        href: href,\n        origin: origin,\n        pathname: pathname,\n        port: port,\n        protocol: protocol,\n        search: search,\n    };\n};\nvar useLocationBrowser = function () {\n    var _a = useState(buildState('load')), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var onPopstate = function () { return setState(buildState('popstate')); };\n        var onPushstate = function () { return setState(buildState('pushstate')); };\n        var onReplacestate = function () { return setState(buildState('replacestate')); };\n        on(window, 'popstate', onPopstate);\n        on(window, 'pushstate', onPushstate);\n        on(window, 'replacestate', onReplacestate);\n        return function () {\n            off(window, 'popstate', onPopstate);\n            off(window, 'pushstate', onPushstate);\n            off(window, 'replacestate', onReplacestate);\n        };\n    }, []);\n    return state;\n};\nvar hasEventConstructor = typeof Event === 'function';\nexport default isBrowser && hasEventConstructor ? useLocationBrowser : useLocationServer;\n","import { useEffect, useRef } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nexport function getClosestBody(el) {\n    if (!el) {\n        return null;\n    }\n    else if (el.tagName === 'BODY') {\n        return el;\n    }\n    else if (el.tagName === 'IFRAME') {\n        var document_1 = el.contentDocument;\n        return document_1 ? document_1.body : null;\n    }\n    else if (!el.offsetParent) {\n        return null;\n    }\n    return getClosestBody(el.offsetParent);\n}\nfunction preventDefault(rawEvent) {\n    var e = rawEvent || window.event;\n    // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n    if (e.touches.length > 1)\n        return true;\n    if (e.preventDefault)\n        e.preventDefault();\n    return false;\n}\nvar isIosDevice = isBrowser &&\n    window.navigator &&\n    window.navigator.platform &&\n    /iP(ad|hone|od)/.test(window.navigator.platform);\nvar bodies = new Map();\nvar doc = typeof document === 'object' ? document : undefined;\nvar documentListenerAdded = false;\nexport default !doc\n    ? function useLockBodyMock(_locked, _elementRef) {\n        if (_locked === void 0) { _locked = true; }\n    }\n    : function useLockBody(locked, elementRef) {\n        if (locked === void 0) { locked = true; }\n        var bodyRef = useRef(doc.body);\n        elementRef = elementRef || bodyRef;\n        var lock = function (body) {\n            var bodyInfo = bodies.get(body);\n            if (!bodyInfo) {\n                bodies.set(body, { counter: 1, initialOverflow: body.style.overflow });\n                if (isIosDevice) {\n                    if (!documentListenerAdded) {\n                        on(document, 'touchmove', preventDefault, { passive: false });\n                        documentListenerAdded = true;\n                    }\n                }\n                else {\n                    body.style.overflow = 'hidden';\n                }\n            }\n            else {\n                bodies.set(body, {\n                    counter: bodyInfo.counter + 1,\n                    initialOverflow: bodyInfo.initialOverflow,\n                });\n            }\n        };\n        var unlock = function (body) {\n            var bodyInfo = bodies.get(body);\n            if (bodyInfo) {\n                if (bodyInfo.counter === 1) {\n                    bodies.delete(body);\n                    if (isIosDevice) {\n                        body.ontouchmove = null;\n                        if (documentListenerAdded) {\n                            off(document, 'touchmove', preventDefault);\n                            documentListenerAdded = false;\n                        }\n                    }\n                    else {\n                        body.style.overflow = bodyInfo.initialOverflow;\n                    }\n                }\n                else {\n                    bodies.set(body, {\n                        counter: bodyInfo.counter - 1,\n                        initialOverflow: bodyInfo.initialOverflow,\n                    });\n                }\n            }\n        };\n        useEffect(function () {\n            var body = getClosestBody(elementRef.current);\n            if (!body) {\n                return;\n            }\n            if (locked) {\n                lock(body);\n            }\n            else {\n                unlock(body);\n            }\n        }, [locked, elementRef.current]);\n        // clean up, on un-mount\n        useEffect(function () {\n            var body = getClosestBody(elementRef.current);\n            if (!body) {\n                return;\n            }\n            return function () {\n                unlock(body);\n            };\n        }, []);\n    };\n","import { __spreadArrays } from \"tslib\";\nimport useEffectOnce from './useEffectOnce';\nimport useUpdateEffect from './useUpdateEffect';\nvar useLogger = function (componentName) {\n    var rest = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        rest[_i - 1] = arguments[_i];\n    }\n    useEffectOnce(function () {\n        console.log.apply(console, __spreadArrays([componentName + \" mounted\"], rest));\n        return function () { return console.log(componentName + \" unmounted\"); };\n    });\n    useUpdateEffect(function () {\n        console.log.apply(console, __spreadArrays([componentName + \" updated\"], rest));\n    });\n};\nexport default useLogger;\n","import { useCallback, useRef } from 'react';\nimport { off, on } from './misc/util';\nvar isTouchEvent = function (ev) {\n    return 'touches' in ev;\n};\nvar preventDefault = function (ev) {\n    if (!isTouchEvent(ev))\n        return;\n    if (ev.touches.length < 2 && ev.preventDefault) {\n        ev.preventDefault();\n    }\n};\nvar useLongPress = function (callback, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.isPreventDefault, isPreventDefault = _c === void 0 ? true : _c, _d = _b.delay, delay = _d === void 0 ? 300 : _d;\n    var timeout = useRef();\n    var target = useRef();\n    var start = useCallback(function (event) {\n        // prevent ghost click on mobile devices\n        if (isPreventDefault && event.target) {\n            on(event.target, 'touchend', preventDefault, { passive: false });\n            target.current = event.target;\n        }\n        timeout.current = setTimeout(function () { return callback(event); }, delay);\n    }, [callback, delay, isPreventDefault]);\n    var clear = useCallback(function () {\n        // clearTimeout and removeEventListener\n        timeout.current && clearTimeout(timeout.current);\n        if (isPreventDefault && target.current) {\n            off(target.current, 'touchend', preventDefault);\n        }\n    }, [isPreventDefault]);\n    return {\n        onMouseDown: function (e) { return start(e); },\n        onTouchStart: function (e) { return start(e); },\n        onMouseUp: clear,\n        onMouseLeave: clear,\n        onTouchEnd: clear,\n    };\n};\nexport default useLongPress;\n","import { __assign, __rest } from \"tslib\";\nimport { useCallback, useMemo, useState } from 'react';\nvar useMap = function (initialMap) {\n    if (initialMap === void 0) { initialMap = {}; }\n    var _a = useState(initialMap), map = _a[0], set = _a[1];\n    var stableActions = useMemo(function () { return ({\n        set: function (key, entry) {\n            set(function (prevMap) {\n                var _a;\n                return (__assign(__assign({}, prevMap), (_a = {}, _a[key] = entry, _a)));\n            });\n        },\n        setAll: function (newMap) {\n            set(newMap);\n        },\n        remove: function (key) {\n            set(function (prevMap) {\n                var _a = prevMap, _b = key, omit = _a[_b], rest = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n                return rest;\n            });\n        },\n        reset: function () { return set(initialMap); },\n    }); }, [set]);\n    var utils = __assign({ get: useCallback(function (key) { return map[key]; }, [map]) }, stableActions);\n    return [map, utils];\n};\nexport default useMap;\n","import { useMemo, useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { isBrowser, noop } from './misc/util';\nvar defaultState = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0,\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n};\nfunction useMeasure() {\n    var _a = useState(null), element = _a[0], ref = _a[1];\n    var _b = useState(defaultState), rect = _b[0], setRect = _b[1];\n    var observer = useMemo(function () {\n        return new window.ResizeObserver(function (entries) {\n            if (entries[0]) {\n                var _a = entries[0].contentRect, x = _a.x, y = _a.y, width = _a.width, height = _a.height, top_1 = _a.top, left = _a.left, bottom = _a.bottom, right = _a.right;\n                setRect({ x: x, y: y, width: width, height: height, top: top_1, left: left, bottom: bottom, right: right });\n            }\n        });\n    }, []);\n    useIsomorphicLayoutEffect(function () {\n        if (!element)\n            return;\n        observer.observe(element);\n        return function () {\n            observer.disconnect();\n        };\n    }, [element]);\n    return [ref, rect];\n}\nexport default isBrowser && typeof window.ResizeObserver !== 'undefined'\n    ? useMeasure\n    : (function () { return [noop, defaultState]; });\n","import { useEffect, useState } from 'react';\nimport { isBrowser } from './misc/util';\nvar getInitialState = function (query, defaultState) {\n    // Prevent a React hydration mismatch when a default value is provided by not defaulting to window.matchMedia(query).matches.\n    if (defaultState !== undefined) {\n        return defaultState;\n    }\n    if (isBrowser) {\n        return window.matchMedia(query).matches;\n    }\n    // A default value has not been provided, and you are rendering on the server, warn of a possible hydration mismatch when defaulting to false.\n    if (process.env.NODE_ENV !== 'production') {\n        console.warn('`useMedia` When server side rendering, defaultState should be defined to prevent a hydration mismatches.');\n    }\n    return false;\n};\nvar useMedia = function (query, defaultState) {\n    var _a = useState(getInitialState(query, defaultState)), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var mounted = true;\n        var mql = window.matchMedia(query);\n        var onChange = function () {\n            if (!mounted) {\n                return;\n            }\n            setState(!!mql.matches);\n        };\n        mql.addListener(onChange);\n        setState(mql.matches);\n        return function () {\n            mounted = false;\n            mql.removeListener(onChange);\n        };\n    }, [query]);\n    return state;\n};\nexport default useMedia;\n","import { useEffect, useState } from 'react';\nimport { isNavigator, noop, off, on } from './misc/util';\nvar useMediaDevices = function () {\n    var _a = useState({}), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var mounted = true;\n        var onChange = function () {\n            navigator.mediaDevices\n                .enumerateDevices()\n                .then(function (devices) {\n                if (mounted) {\n                    setState({\n                        devices: devices.map(function (_a) {\n                            var deviceId = _a.deviceId, groupId = _a.groupId, kind = _a.kind, label = _a.label;\n                            return ({\n                                deviceId: deviceId,\n                                groupId: groupId,\n                                kind: kind,\n                                label: label,\n                            });\n                        }),\n                    });\n                }\n            })\n                .catch(noop);\n        };\n        on(navigator.mediaDevices, 'devicechange', onChange);\n        onChange();\n        return function () {\n            mounted = false;\n            off(navigator.mediaDevices, 'devicechange', onChange);\n        };\n    }, []);\n    return state;\n};\nvar useMediaDevicesMock = function () { return ({}); };\nexport default isNavigator && !!navigator.mediaDevices ? useMediaDevices : useMediaDevicesMock;\n","import { useCallback, useRef, useState } from 'react';\nexport function useMediatedState(mediator, initialState) {\n    var mediatorFn = useRef(mediator);\n    var _a = useState(initialState), state = _a[0], setMediatedState = _a[1];\n    var setState = useCallback(function (newState) {\n        if (mediatorFn.current.length === 2) {\n            mediatorFn.current(newState, setMediatedState);\n        }\n        else {\n            setMediatedState(mediatorFn.current(newState));\n        }\n    }, [state]);\n    return [state, setState];\n}\n","import { useMemo, useReducer } from 'react';\nvar useMethods = function (createMethods, initialState) {\n    var reducer = useMemo(function () { return function (reducerState, action) {\n        var _a;\n        return (_a = createMethods(reducerState))[action.type].apply(_a, action.payload);\n    }; }, [createMethods]);\n    var _a = useReducer(reducer, initialState), state = _a[0], dispatch = _a[1];\n    var wrappedMethods = useMemo(function () {\n        var actionTypes = Object.keys(createMethods(initialState));\n        return actionTypes.reduce(function (acc, type) {\n            acc[type] = function () {\n                var payload = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    payload[_i] = arguments[_i];\n                }\n                return dispatch({ type: type, payload: payload });\n            };\n            return acc;\n        }, {});\n    }, [createMethods, initialState]);\n    return [state, wrappedMethods];\n};\nexport default useMethods;\n","import { useEffect, useState } from 'react';\nimport { off, on } from './misc/util';\nvar defaultState = {\n    acceleration: {\n        x: null,\n        y: null,\n        z: null,\n    },\n    accelerationIncludingGravity: {\n        x: null,\n        y: null,\n        z: null,\n    },\n    rotationRate: {\n        alpha: null,\n        beta: null,\n        gamma: null,\n    },\n    interval: 16,\n};\nvar useMotion = function (initialState) {\n    if (initialState === void 0) { initialState = defaultState; }\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var handler = function (event) {\n            var acceleration = event.acceleration, accelerationIncludingGravity = event.accelerationIncludingGravity, rotationRate = event.rotationRate, interval = event.interval;\n            setState({\n                acceleration: {\n                    x: acceleration.x,\n                    y: acceleration.y,\n                    z: acceleration.z,\n                },\n                accelerationIncludingGravity: {\n                    x: accelerationIncludingGravity.x,\n                    y: accelerationIncludingGravity.y,\n                    z: accelerationIncludingGravity.z,\n                },\n                rotationRate: {\n                    alpha: rotationRate.alpha,\n                    beta: rotationRate.beta,\n                    gamma: rotationRate.gamma,\n                },\n                interval: interval,\n            });\n        };\n        on(window, 'devicemotion', handler);\n        return function () {\n            off(window, 'devicemotion', handler);\n        };\n    }, []);\n    return state;\n};\nexport default useMotion;\n","import useEffectOnce from './useEffectOnce';\nvar useMount = function (fn) {\n    useEffectOnce(function () {\n        fn();\n    });\n};\nexport default useMount;\n","import { useCallback, useEffect, useRef } from 'react';\nexport default function useMountedState() {\n    var mountedRef = useRef(false);\n    var get = useCallback(function () { return mountedRef.current; }, []);\n    useEffect(function () {\n        mountedRef.current = true;\n        return function () {\n            mountedRef.current = false;\n        };\n    }, []);\n    return get;\n}\n","import { useEffect } from 'react';\nimport useRafState from './useRafState';\nimport { off, on } from './misc/util';\nvar useMouse = function (ref) {\n    if (process.env.NODE_ENV === 'development') {\n        if (typeof ref !== 'object' || typeof ref.current === 'undefined') {\n            console.error('useMouse expects a single ref argument.');\n        }\n    }\n    var _a = useRafState({\n        docX: 0,\n        docY: 0,\n        posX: 0,\n        posY: 0,\n        elX: 0,\n        elY: 0,\n        elH: 0,\n        elW: 0,\n    }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var moveHandler = function (event) {\n            if (ref && ref.current) {\n                var _a = ref.current.getBoundingClientRect(), left = _a.left, top_1 = _a.top, elW = _a.width, elH = _a.height;\n                var posX = left + window.pageXOffset;\n                var posY = top_1 + window.pageYOffset;\n                var elX = event.pageX - posX;\n                var elY = event.pageY - posY;\n                setState({\n                    docX: event.pageX,\n                    docY: event.pageY,\n                    posX: posX,\n                    posY: posY,\n                    elX: elX,\n                    elY: elY,\n                    elH: elH,\n                    elW: elW,\n                });\n            }\n        };\n        on(document, 'mousemove', moveHandler);\n        return function () {\n            off(document, 'mousemove', moveHandler);\n        };\n    }, [ref]);\n    return state;\n};\nexport default useMouse;\n","import useHoverDirty from './useHoverDirty';\nimport useMouse from './useMouse';\nvar nullRef = { current: null };\nvar useMouseHovered = function (ref, options) {\n    if (options === void 0) { options = {}; }\n    var whenHovered = !!options.whenHovered;\n    var bound = !!options.bound;\n    var isHovered = useHoverDirty(ref, whenHovered);\n    var state = useMouse(whenHovered && !isHovered ? nullRef : ref);\n    if (bound) {\n        state.elX = Math.max(0, Math.min(state.elX, state.elW));\n        state.elY = Math.max(0, Math.min(state.elY, state.elH));\n    }\n    return state;\n};\nexport default useMouseHovered;\n","import { useEffect, useState } from 'react';\nimport { off, on } from './misc/util';\nexport default (function () {\n    var _a = useState(0), mouseWheelScrolled = _a[0], setMouseWheelScrolled = _a[1];\n    useEffect(function () {\n        var updateScroll = function (e) {\n            setMouseWheelScrolled(e.deltaY + mouseWheelScrolled);\n        };\n        on(window, 'wheel', updateScroll, false);\n        return function () { return off(window, 'wheel', updateScroll); };\n    });\n    return mouseWheelScrolled;\n});\n","import { useCallback, useEffect, useRef, useState } from 'react';\nexport function useMultiStateValidator(states, validator, initialValidity) {\n    if (initialValidity === void 0) { initialValidity = [undefined]; }\n    if (typeof states !== 'object') {\n        throw new Error('states expected to be an object or array, got ' + typeof states);\n    }\n    var validatorInner = useRef(validator);\n    var statesInner = useRef(states);\n    validatorInner.current = validator;\n    statesInner.current = states;\n    var _a = useState(initialValidity), validity = _a[0], setValidity = _a[1];\n    var validate = useCallback(function () {\n        if (validatorInner.current.length >= 2) {\n            validatorInner.current(statesInner.current, setValidity);\n        }\n        else {\n            setValidity(validatorInner.current(statesInner.current));\n        }\n    }, [setValidity]);\n    useEffect(function () {\n        validate();\n    }, Object.values(states));\n    return [validity, validate];\n}\n","import { useEffect, useState } from 'react';\nimport { isNavigator, off, on } from './misc/util';\nvar nav = isNavigator ? navigator : undefined;\nvar conn = nav && (nav.connection || nav.mozConnection || nav.webkitConnection);\nfunction getConnectionState(previousState) {\n    var online = nav === null || nav === void 0 ? void 0 : nav.onLine;\n    var previousOnline = previousState === null || previousState === void 0 ? void 0 : previousState.online;\n    return {\n        online: online,\n        previous: previousOnline,\n        since: online !== previousOnline ? new Date() : previousState === null || previousState === void 0 ? void 0 : previousState.since,\n        downlink: conn === null || conn === void 0 ? void 0 : conn.downlink,\n        downlinkMax: conn === null || conn === void 0 ? void 0 : conn.downlinkMax,\n        effectiveType: conn === null || conn === void 0 ? void 0 : conn.effectiveType,\n        rtt: conn === null || conn === void 0 ? void 0 : conn.rtt,\n        saveData: conn === null || conn === void 0 ? void 0 : conn.saveData,\n        type: conn === null || conn === void 0 ? void 0 : conn.type,\n    };\n}\nexport default function useNetworkState(initialState) {\n    var _a = useState(initialState !== null && initialState !== void 0 ? initialState : getConnectionState), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var handleStateChange = function () {\n            setState(getConnectionState);\n        };\n        on(window, 'online', handleStateChange, { passive: true });\n        on(window, 'offline', handleStateChange, { passive: true });\n        if (conn) {\n            on(conn, 'change', handleStateChange, { passive: true });\n        }\n        return function () {\n            off(window, 'online', handleStateChange);\n            off(window, 'offline', handleStateChange);\n            if (conn) {\n                off(conn, 'change', handleStateChange);\n            }\n        };\n    }, []);\n    return state;\n}\n","import useNumber from './useCounter';\nexport default useNumber;\n","import { useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nfunction useObservable(observable$, initialValue) {\n    var _a = useState(initialValue), value = _a[0], update = _a[1];\n    useIsomorphicLayoutEffect(function () {\n        var s = observable$.subscribe(update);\n        return function () { return s.unsubscribe(); };\n    }, [observable$]);\n    return value;\n}\nexport default useObservable;\n","import { useEffect, useState } from 'react';\nimport { off, on } from './misc/util';\nvar defaultState = {\n    angle: 0,\n    type: 'landscape-primary',\n};\nvar useOrientation = function (initialState) {\n    if (initialState === void 0) { initialState = defaultState; }\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var screen = window.screen;\n        var mounted = true;\n        var onChange = function () {\n            if (mounted) {\n                var orientation_1 = screen.orientation;\n                if (orientation_1) {\n                    var angle = orientation_1.angle, type = orientation_1.type;\n                    setState({ angle: angle, type: type });\n                }\n                else if (window.orientation !== undefined) {\n                    setState({\n                        angle: typeof window.orientation === 'number' ? window.orientation : 0,\n                        type: '',\n                    });\n                }\n                else {\n                    setState(initialState);\n                }\n            }\n        };\n        on(window, 'orientationchange', onChange);\n        onChange();\n        return function () {\n            mounted = false;\n            off(window, 'orientationchange', onChange);\n        };\n    }, []);\n    return state;\n};\nexport default useOrientation;\n","import { useEffect } from 'react';\nimport { off, on } from './misc/util';\nvar usePageLeave = function (onPageLeave, args) {\n    if (args === void 0) { args = []; }\n    useEffect(function () {\n        if (!onPageLeave) {\n            return;\n        }\n        var handler = function (event) {\n            event = event ? event : window.event;\n            var from = event.relatedTarget || event.toElement;\n            if (!from || from.nodeName === 'HTML') {\n                onPageLeave();\n            }\n        };\n        on(document, 'mouseout', handler);\n        return function () {\n            off(document, 'mouseout', handler);\n        };\n    }, args);\n};\nexport default usePageLeave;\n","import { useEffect, useState } from 'react';\nimport { noop, off, on } from './misc/util';\n// const usePermission = <T extends PermissionDescriptor>(permissionDesc: T): IState => {\nvar usePermission = function (permissionDesc) {\n    var _a = useState(''), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var mounted = true;\n        var permissionStatus = null;\n        var onChange = function () {\n            if (!mounted) {\n                return;\n            }\n            setState(function () { var _a; return (_a = permissionStatus === null || permissionStatus === void 0 ? void 0 : permissionStatus.state) !== null && _a !== void 0 ? _a : ''; });\n        };\n        navigator.permissions\n            .query(permissionDesc)\n            .then(function (status) {\n            permissionStatus = status;\n            on(permissionStatus, 'change', onChange);\n            onChange();\n        })\n            .catch(noop);\n        return function () {\n            permissionStatus && off(permissionStatus, 'change', onChange);\n            mounted = false;\n            permissionStatus = null;\n        };\n    }, [permissionDesc]);\n    return state;\n};\nexport default usePermission;\n","import { useEffect, useRef } from 'react';\nexport default function usePrevious(state) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = state;\n    });\n    return ref.current;\n}\n","import { useRef } from 'react';\nimport { useFirstMountState } from './useFirstMountState';\nvar strictEquals = function (prev, next) { return prev === next; };\nexport default function usePreviousDistinct(value, compare) {\n    if (compare === void 0) { compare = strictEquals; }\n    var prevRef = useRef();\n    var curRef = useRef(value);\n    var isFirstMount = useFirstMountState();\n    if (!isFirstMount && !compare(curRef.current, value)) {\n        prevRef.current = curRef.current;\n        curRef.current = value;\n    }\n    return prevRef.current;\n}\n","import { useCallback } from 'react';\nimport useMountedState from './useMountedState';\nvar usePromise = function () {\n    var isMounted = useMountedState();\n    return useCallback(function (promise) {\n        return new Promise(function (resolve, reject) {\n            var onValue = function (value) {\n                isMounted() && resolve(value);\n            };\n            var onError = function (error) {\n                isMounted() && reject(error);\n            };\n            promise.then(onValue, onError);\n        });\n    }, []);\n};\nexport default usePromise;\n","import { __spreadArrays } from \"tslib\";\nimport { useState } from 'react';\nvar useQueue = function (initialValue) {\n    if (initialValue === void 0) { initialValue = []; }\n    var _a = useState(initialValue), state = _a[0], set = _a[1];\n    return {\n        add: function (value) {\n            set(function (queue) { return __spreadArrays(queue, [value]); });\n        },\n        remove: function () {\n            var result;\n            set(function (_a) {\n                var first = _a[0], rest = _a.slice(1);\n                result = first;\n                return rest;\n            });\n            return result;\n        },\n        get first() {\n            return state[0];\n        },\n        get last() {\n            return state[state.length - 1];\n        },\n        get size() {\n            return state.length;\n        },\n    };\n};\nexport default useQueue;\n","import { useState } from 'react';\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nvar useRaf = function (ms, delay) {\n    if (ms === void 0) { ms = 1e12; }\n    if (delay === void 0) { delay = 0; }\n    var _a = useState(0), elapsed = _a[0], set = _a[1];\n    useIsomorphicLayoutEffect(function () {\n        var raf;\n        var timerStop;\n        var start;\n        var onFrame = function () {\n            var time = Math.min(1, (Date.now() - start) / ms);\n            set(time);\n            loop();\n        };\n        var loop = function () {\n            raf = requestAnimationFrame(onFrame);\n        };\n        var onStart = function () {\n            timerStop = setTimeout(function () {\n                cancelAnimationFrame(raf);\n                set(1);\n            }, ms);\n            start = Date.now();\n            loop();\n        };\n        var timerDelay = setTimeout(onStart, delay);\n        return function () {\n            clearTimeout(timerStop);\n            clearTimeout(timerDelay);\n            cancelAnimationFrame(raf);\n        };\n    }, [ms, delay]);\n    return elapsed;\n};\nexport default useRaf;\n","import { useCallback, useEffect, useMemo, useRef } from 'react';\nexport default function useRafLoop(callback, initiallyActive) {\n    if (initiallyActive === void 0) { initiallyActive = true; }\n    var raf = useRef(null);\n    var rafActivity = useRef(false);\n    var rafCallback = useRef(callback);\n    rafCallback.current = callback;\n    var step = useCallback(function (time) {\n        if (rafActivity.current) {\n            rafCallback.current(time);\n            raf.current = requestAnimationFrame(step);\n        }\n    }, []);\n    var result = useMemo(function () {\n        return [\n            function () {\n                // stop\n                if (rafActivity.current) {\n                    rafActivity.current = false;\n                    raf.current && cancelAnimationFrame(raf.current);\n                }\n            },\n            function () {\n                // start\n                if (!rafActivity.current) {\n                    rafActivity.current = true;\n                    raf.current = requestAnimationFrame(step);\n                }\n            },\n            function () { return rafActivity.current; },\n        ];\n    }, []);\n    useEffect(function () {\n        if (initiallyActive) {\n            result[1]();\n        }\n        return result[0];\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return result;\n}\n","import { useCallback, useRef, useState } from 'react';\nimport useUnmount from './useUnmount';\nvar useRafState = function (initialState) {\n    var frame = useRef(0);\n    var _a = useState(initialState), state = _a[0], setState = _a[1];\n    var setRafState = useCallback(function (value) {\n        cancelAnimationFrame(frame.current);\n        frame.current = requestAnimationFrame(function () {\n            setState(value);\n        });\n    }, []);\n    useUnmount(function () {\n        cancelAnimationFrame(frame.current);\n    });\n    return [state, setRafState];\n};\nexport default useRafState;\n","import { useRef } from 'react';\nexport function useRendersCount() {\n    return ++useRef(0).current;\n}\n","import { __assign, __rest } from \"tslib\";\nimport { cloneElement, useEffect, useRef, useState } from 'react';\nimport { render } from 'react-universal-interface';\nimport useLatest from './useLatest';\nimport { noop, off, on } from './misc/util';\nvar useScratch = function (params) {\n    if (params === void 0) { params = {}; }\n    var disabled = params.disabled;\n    var paramsRef = useLatest(params);\n    var _a = useState({ isScratching: false }), state = _a[0], setState = _a[1];\n    var refState = useRef(state);\n    var refScratching = useRef(false);\n    var refAnimationFrame = useRef(null);\n    var _b = useState(null), el = _b[0], setEl = _b[1];\n    useEffect(function () {\n        if (disabled)\n            return;\n        if (!el)\n            return;\n        var onMoveEvent = function (docX, docY) {\n            cancelAnimationFrame(refAnimationFrame.current);\n            refAnimationFrame.current = requestAnimationFrame(function () {\n                var _a = el.getBoundingClientRect(), left = _a.left, top = _a.top;\n                var elX = left + window.scrollX;\n                var elY = top + window.scrollY;\n                var x = docX - elX;\n                var y = docY - elY;\n                setState(function (oldState) {\n                    var newState = __assign(__assign({}, oldState), { dx: x - (oldState.x || 0), dy: y - (oldState.y || 0), end: Date.now(), isScratching: true });\n                    refState.current = newState;\n                    (paramsRef.current.onScratch || noop)(newState);\n                    return newState;\n                });\n            });\n        };\n        var onMouseMove = function (event) {\n            onMoveEvent(event.pageX, event.pageY);\n        };\n        var onTouchMove = function (event) {\n            onMoveEvent(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n        };\n        var onMouseUp;\n        var onTouchEnd;\n        var stopScratching = function () {\n            if (!refScratching.current)\n                return;\n            refScratching.current = false;\n            refState.current = __assign(__assign({}, refState.current), { isScratching: false });\n            (paramsRef.current.onScratchEnd || noop)(refState.current);\n            setState({ isScratching: false });\n            off(window, 'mousemove', onMouseMove);\n            off(window, 'touchmove', onTouchMove);\n            off(window, 'mouseup', onMouseUp);\n            off(window, 'touchend', onTouchEnd);\n        };\n        onMouseUp = stopScratching;\n        onTouchEnd = stopScratching;\n        var startScratching = function (docX, docY) {\n            if (!refScratching.current)\n                return;\n            var _a = el.getBoundingClientRect(), left = _a.left, top = _a.top;\n            var elX = left + window.scrollX;\n            var elY = top + window.scrollY;\n            var x = docX - elX;\n            var y = docY - elY;\n            var time = Date.now();\n            var newState = {\n                isScratching: true,\n                start: time,\n                end: time,\n                docX: docX,\n                docY: docY,\n                x: x,\n                y: y,\n                dx: 0,\n                dy: 0,\n                elH: el.offsetHeight,\n                elW: el.offsetWidth,\n                elX: elX,\n                elY: elY,\n            };\n            refState.current = newState;\n            (paramsRef.current.onScratchStart || noop)(newState);\n            setState(newState);\n            on(window, 'mousemove', onMouseMove);\n            on(window, 'touchmove', onTouchMove);\n            on(window, 'mouseup', onMouseUp);\n            on(window, 'touchend', onTouchEnd);\n        };\n        var onMouseDown = function (event) {\n            refScratching.current = true;\n            startScratching(event.pageX, event.pageY);\n        };\n        var onTouchStart = function (event) {\n            refScratching.current = true;\n            startScratching(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n        };\n        on(el, 'mousedown', onMouseDown);\n        on(el, 'touchstart', onTouchStart);\n        return function () {\n            off(el, 'mousedown', onMouseDown);\n            off(el, 'touchstart', onTouchStart);\n            off(window, 'mousemove', onMouseMove);\n            off(window, 'touchmove', onTouchMove);\n            off(window, 'mouseup', onMouseUp);\n            off(window, 'touchend', onTouchEnd);\n            if (refAnimationFrame.current)\n                cancelAnimationFrame(refAnimationFrame.current);\n            refAnimationFrame.current = null;\n            refScratching.current = false;\n            refState.current = { isScratching: false };\n            setState(refState.current);\n        };\n    }, [el, disabled, paramsRef]);\n    return [setEl, state];\n};\nexport var ScratchSensor = function (props) {\n    var children = props.children, params = __rest(props, [\"children\"]);\n    var _a = useScratch(params), ref = _a[0], state = _a[1];\n    var element = render(props, state);\n    return cloneElement(element, __assign(__assign({}, element.props), { ref: function (el) {\n            if (element.props.ref) {\n                if (typeof element.props.ref === 'object')\n                    element.props.ref.current = el;\n                if (typeof element.props.ref === 'function')\n                    element.props.ref(el);\n            }\n            ref(el);\n        } }));\n};\nexport default useScratch;\n","import { useEffect } from 'react';\nimport useRafState from './useRafState';\nimport { off, on } from './misc/util';\nvar useScroll = function (ref) {\n    if (process.env.NODE_ENV === 'development') {\n        if (typeof ref !== 'object' || typeof ref.current === 'undefined') {\n            console.error('`useScroll` expects a single ref argument.');\n        }\n    }\n    var _a = useRafState({\n        x: 0,\n        y: 0,\n    }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var handler = function () {\n            if (ref.current) {\n                setState({\n                    x: ref.current.scrollLeft,\n                    y: ref.current.scrollTop,\n                });\n            }\n        };\n        if (ref.current) {\n            on(ref.current, 'scroll', handler, {\n                capture: false,\n                passive: true,\n            });\n        }\n        return function () {\n            if (ref.current) {\n                off(ref.current, 'scroll', handler);\n            }\n        };\n    }, [ref]);\n    return state;\n};\nexport default useScroll;\n","import { scrollbarWidth } from '@xobotyi/scrollbar-width';\nimport { useEffect, useState } from 'react';\nexport function useScrollbarWidth() {\n    var _a = useState(scrollbarWidth()), sbw = _a[0], setSbw = _a[1];\n    // this needed to ensure the scrollbar width in case hook called before the DOM is ready\n    useEffect(function () {\n        if (typeof sbw !== 'undefined') {\n            return;\n        }\n        var raf = requestAnimationFrame(function () {\n            setSbw(scrollbarWidth());\n        });\n        return function () { return cancelAnimationFrame(raf); };\n    }, []);\n    return sbw;\n}\n","import { useEffect, useState } from 'react';\nimport { off, on } from './misc/util';\nvar useScrolling = function (ref) {\n    var _a = useState(false), scrolling = _a[0], setScrolling = _a[1];\n    useEffect(function () {\n        if (ref.current) {\n            var scrollingTimeout_1;\n            var handleScrollEnd_1 = function () {\n                setScrolling(false);\n            };\n            var handleScroll_1 = function () {\n                setScrolling(true);\n                clearTimeout(scrollingTimeout_1);\n                scrollingTimeout_1 = setTimeout(function () { return handleScrollEnd_1(); }, 150);\n            };\n            on(ref.current, 'scroll', handleScroll_1, false);\n            return function () {\n                if (ref.current) {\n                    off(ref.current, 'scroll', handleScroll_1, false);\n                }\n            };\n        }\n        return function () { };\n    }, [ref]);\n    return scrolling;\n};\nexport default useScrolling;\n","import { useEffect, useState } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nvar getValue = function (search, param) { return new URLSearchParams(search).get(param); };\nvar useSearchParam = function (param) {\n    var location = window.location;\n    var _a = useState(function () { return getValue(location.search, param); }), value = _a[0], setValue = _a[1];\n    useEffect(function () {\n        var onChange = function () {\n            setValue(getValue(location.search, param));\n        };\n        on(window, 'popstate', onChange);\n        on(window, 'pushstate', onChange);\n        on(window, 'replacestate', onChange);\n        return function () {\n            off(window, 'popstate', onChange);\n            off(window, 'pushstate', onChange);\n            off(window, 'replacestate', onChange);\n        };\n    }, []);\n    return value;\n};\nvar useSearchParamServer = function () { return null; };\nexport default isBrowser ? useSearchParam : useSearchParamServer;\n","import { useEffect, useState } from 'react';\nimport { isBrowser } from './misc/util';\nvar useSessionStorage = function (key, initialValue, raw) {\n    if (!isBrowser) {\n        return [initialValue, function () { }];\n    }\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _a = useState(function () {\n        try {\n            var sessionStorageValue = sessionStorage.getItem(key);\n            if (typeof sessionStorageValue !== 'string') {\n                sessionStorage.setItem(key, raw ? String(initialValue) : JSON.stringify(initialValue));\n                return initialValue;\n            }\n            else {\n                return raw ? sessionStorageValue : JSON.parse(sessionStorageValue || 'null');\n            }\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // sessionStorage can throw. JSON.parse and JSON.stringify\n            // can throw, too.\n            return initialValue;\n        }\n    }), state = _a[0], setState = _a[1];\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n        try {\n            var serializedState = raw ? String(state) : JSON.stringify(state);\n            sessionStorage.setItem(key, serializedState);\n        }\n        catch (_a) {\n            // If user is in private mode or has storage restriction\n            // sessionStorage can throw. Also JSON.stringify can throw.\n        }\n    });\n    return [state, setState];\n};\nexport default useSessionStorage;\n","import { __assign, __spreadArrays } from \"tslib\";\nimport { useCallback, useMemo, useState } from 'react';\nvar useSet = function (initialSet) {\n    if (initialSet === void 0) { initialSet = new Set(); }\n    var _a = useState(initialSet), set = _a[0], setSet = _a[1];\n    var stableActions = useMemo(function () {\n        var add = function (item) { return setSet(function (prevSet) { return new Set(__spreadArrays(Array.from(prevSet), [item])); }); };\n        var remove = function (item) {\n            return setSet(function (prevSet) { return new Set(Array.from(prevSet).filter(function (i) { return i !== item; })); });\n        };\n        var toggle = function (item) {\n            return setSet(function (prevSet) {\n                return prevSet.has(item)\n                    ? new Set(Array.from(prevSet).filter(function (i) { return i !== item; }))\n                    : new Set(__spreadArrays(Array.from(prevSet), [item]));\n            });\n        };\n        return { add: add, remove: remove, toggle: toggle, reset: function () { return setSet(initialSet); } };\n    }, [setSet]);\n    var utils = __assign({ has: useCallback(function (item) { return set.has(item); }, [set]) }, stableActions);\n    return [set, utils];\n};\nexport default useSet;\n","import { useCallback, useState } from 'react';\nvar useSetState = function (initialState) {\n    if (initialState === void 0) { initialState = {}; }\n    var _a = useState(initialState), state = _a[0], set = _a[1];\n    var setState = useCallback(function (patch) {\n        set(function (prevState) {\n            return Object.assign({}, prevState, patch instanceof Function ? patch(prevState) : patch);\n        });\n    }, []);\n    return [state, setState];\n};\nexport default useSetState;\n","import { equal as isShallowEqual } from 'fast-shallow-equal';\nimport useCustomCompareEffect from './useCustomCompareEffect';\nvar isPrimitive = function (val) { return val !== Object(val); };\nvar shallowEqualDepsList = function (prevDeps, nextDeps) {\n    return prevDeps.every(function (dep, index) { return isShallowEqual(dep, nextDeps[index]); });\n};\nvar useShallowCompareEffect = function (effect, deps) {\n    if (process.env.NODE_ENV !== 'production') {\n        if (!(deps instanceof Array) || !deps.length) {\n            console.warn('`useShallowCompareEffect` should not be used with no dependencies. Use React.useEffect instead.');\n        }\n        if (deps.every(isPrimitive)) {\n            console.warn('`useShallowCompareEffect` should not be used with dependencies that are all primitive values. Use React.useEffect instead.');\n        }\n    }\n    useCustomCompareEffect(effect, deps, shallowEqualDepsList);\n};\nexport default useShallowCompareEffect;\n","import { __spreadArrays } from \"tslib\";\nimport * as React from 'react';\nimport { isBrowser, off, on } from './misc/util';\nvar useState = React.useState, useEffect = React.useEffect, useRef = React.useRef;\nvar DRAF = function (callback) { return setTimeout(callback, 35); };\nvar useSize = function (element, _a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.width, width = _c === void 0 ? Infinity : _c, _d = _b.height, height = _d === void 0 ? Infinity : _d;\n    if (!isBrowser) {\n        return [\n            typeof element === 'function' ? element({ width: width, height: height }) : element,\n            { width: width, height: height },\n        ];\n    }\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var _e = useState({ width: width, height: height }), state = _e[0], setState = _e[1];\n    if (typeof element === 'function') {\n        element = element(state);\n    }\n    var style = element.props.style || {};\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var ref = useRef(null);\n    var window = null;\n    var setSize = function () {\n        var iframe = ref.current;\n        var size = iframe\n            ? {\n                width: iframe.offsetWidth,\n                height: iframe.offsetHeight,\n            }\n            : { width: width, height: height };\n        setState(size);\n    };\n    var onWindow = function (windowToListenOn) {\n        on(windowToListenOn, 'resize', setSize);\n        DRAF(setSize);\n    };\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(function () {\n        var iframe = ref.current;\n        if (!iframe) {\n            // iframe will be undefined if component is already unmounted\n            return;\n        }\n        if (iframe.contentWindow) {\n            window = iframe.contentWindow;\n            onWindow(window);\n        }\n        else {\n            var onLoad_1 = function () {\n                on(iframe, 'load', onLoad_1);\n                window = iframe.contentWindow;\n                onWindow(window);\n            };\n            off(iframe, 'load', onLoad_1);\n        }\n        return function () {\n            if (window && window.removeEventListener) {\n                off(window, 'resize', setSize);\n            }\n        };\n    }, []);\n    style.position = 'relative';\n    var sized = React.cloneElement.apply(React, __spreadArrays([element, { style: style }], __spreadArrays([\n        React.createElement('iframe', {\n            ref: ref,\n            style: {\n                background: 'transparent',\n                border: 'none',\n                height: '100%',\n                left: 0,\n                position: 'absolute',\n                top: 0,\n                width: '100%',\n                zIndex: -1,\n            },\n        })\n    ], React.Children.toArray(element.props.children))));\n    return [sized, state];\n};\nexport default useSize;\n","import { useEffect, useRef } from 'react';\nimport { isBrowser, noop, off, on } from './misc/util';\nimport useMountedState from './useMountedState';\nimport useSetState from './useSetState';\nvar useSlider = function (ref, options) {\n    if (options === void 0) { options = {}; }\n    var isMounted = useMountedState();\n    var isSliding = useRef(false);\n    var valueRef = useRef(0);\n    var frame = useRef(0);\n    var _a = useSetState({\n        isSliding: false,\n        value: 0,\n    }), state = _a[0], setState = _a[1];\n    valueRef.current = state.value;\n    useEffect(function () {\n        if (isBrowser) {\n            var styles = options.styles === undefined ? true : options.styles;\n            var reverse_1 = options.reverse === undefined ? false : options.reverse;\n            if (ref.current && styles) {\n                ref.current.style.userSelect = 'none';\n            }\n            var startScrubbing_1 = function () {\n                if (!isSliding.current && isMounted()) {\n                    (options.onScrubStart || noop)();\n                    isSliding.current = true;\n                    setState({ isSliding: true });\n                    bindEvents_1();\n                }\n            };\n            var stopScrubbing_1 = function () {\n                if (isSliding.current && isMounted()) {\n                    (options.onScrubStop || noop)(valueRef.current);\n                    isSliding.current = false;\n                    setState({ isSliding: false });\n                    unbindEvents_1();\n                }\n            };\n            var onMouseDown_1 = function (event) {\n                startScrubbing_1();\n                onMouseMove_1(event);\n            };\n            var onMouseMove_1 = options.vertical\n                ? function (event) { return onScrub_1(event.clientY); }\n                : function (event) { return onScrub_1(event.clientX); };\n            var onTouchStart_1 = function (event) {\n                startScrubbing_1();\n                onTouchMove_1(event);\n            };\n            var onTouchMove_1 = options.vertical\n                ? function (event) { return onScrub_1(event.changedTouches[0].clientY); }\n                : function (event) { return onScrub_1(event.changedTouches[0].clientX); };\n            var bindEvents_1 = function () {\n                on(document, 'mousemove', onMouseMove_1);\n                on(document, 'mouseup', stopScrubbing_1);\n                on(document, 'touchmove', onTouchMove_1);\n                on(document, 'touchend', stopScrubbing_1);\n            };\n            var unbindEvents_1 = function () {\n                off(document, 'mousemove', onMouseMove_1);\n                off(document, 'mouseup', stopScrubbing_1);\n                off(document, 'touchmove', onTouchMove_1);\n                off(document, 'touchend', stopScrubbing_1);\n            };\n            var onScrub_1 = function (clientXY) {\n                cancelAnimationFrame(frame.current);\n                frame.current = requestAnimationFrame(function () {\n                    if (isMounted() && ref.current) {\n                        var rect = ref.current.getBoundingClientRect();\n                        var pos = options.vertical ? rect.top : rect.left;\n                        var length_1 = options.vertical ? rect.height : rect.width;\n                        // Prevent returning 0 when element is hidden by CSS\n                        if (!length_1) {\n                            return;\n                        }\n                        var value = (clientXY - pos) / length_1;\n                        if (value > 1) {\n                            value = 1;\n                        }\n                        else if (value < 0) {\n                            value = 0;\n                        }\n                        if (reverse_1) {\n                            value = 1 - value;\n                        }\n                        setState({\n                            value: value,\n                        });\n                        (options.onScrub || noop)(value);\n                    }\n                });\n            };\n            on(ref.current, 'mousedown', onMouseDown_1);\n            on(ref.current, 'touchstart', onTouchStart_1);\n            return function () {\n                off(ref.current, 'mousedown', onMouseDown_1);\n                off(ref.current, 'touchstart', onTouchStart_1);\n            };\n        }\n        else {\n            return undefined;\n        }\n    }, [ref, options.vertical]);\n    return state;\n};\nexport default useSlider;\n","import { __assign } from \"tslib\";\nimport { useCallback, useEffect, useRef, useState } from 'react';\nvar Status;\n(function (Status) {\n    Status[Status[\"init\"] = 0] = \"init\";\n    Status[Status[\"play\"] = 1] = \"play\";\n    Status[Status[\"pause\"] = 2] = \"pause\";\n    Status[Status[\"end\"] = 3] = \"end\";\n})(Status || (Status = {}));\nvar useSpeech = function (text, options) {\n    var mounted = useRef(false);\n    var _a = useState(function () {\n        var _a = options.voice || {}, _b = _a.lang, lang = _b === void 0 ? 'default' : _b, _c = _a.name, name = _c === void 0 ? '' : _c;\n        return {\n            isPlaying: false,\n            status: Status[Status.init],\n            lang: options.lang || 'default',\n            voiceInfo: { lang: lang, name: name },\n            rate: options.rate || 1,\n            pitch: options.pitch || 1,\n            volume: options.volume || 1,\n        };\n    }), state = _a[0], setState = _a[1];\n    var handlePlay = useCallback(function () {\n        if (!mounted.current) {\n            return;\n        }\n        setState(function (preState) {\n            return __assign(__assign({}, preState), { isPlaying: true, status: Status[Status.play] });\n        });\n    }, []);\n    var handlePause = useCallback(function () {\n        if (!mounted.current) {\n            return;\n        }\n        setState(function (preState) {\n            return __assign(__assign({}, preState), { isPlaying: false, status: Status[Status.pause] });\n        });\n    }, []);\n    var handleEnd = useCallback(function () {\n        if (!mounted.current) {\n            return;\n        }\n        setState(function (preState) {\n            return __assign(__assign({}, preState), { isPlaying: false, status: Status[Status.end] });\n        });\n    }, []);\n    useEffect(function () {\n        mounted.current = true;\n        var utterance = new SpeechSynthesisUtterance(text);\n        options.lang && (utterance.lang = options.lang);\n        options.voice && (utterance.voice = options.voice);\n        utterance.rate = options.rate || 1;\n        utterance.pitch = options.pitch || 1;\n        utterance.volume = options.volume || 1;\n        utterance.onstart = handlePlay;\n        utterance.onpause = handlePause;\n        utterance.onresume = handlePlay;\n        utterance.onend = handleEnd;\n        window.speechSynthesis.speak(utterance);\n        return function () {\n            mounted.current = false;\n        };\n    }, []);\n    return state;\n};\nexport default useSpeech;\n","import useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect';\nimport { off, on } from './misc/util';\nvar isFocusedElementEditable = function () {\n    var activeElement = document.activeElement, body = document.body;\n    if (!activeElement) {\n        return false;\n    }\n    // If not element has focus, we assume it is not editable, too.\n    if (activeElement === body) {\n        return false;\n    }\n    // Assume <input> and <textarea> elements are editable.\n    switch (activeElement.tagName) {\n        case 'INPUT':\n        case 'TEXTAREA':\n            return true;\n    }\n    // Check if any other focused element id editable.\n    return activeElement.hasAttribute('contenteditable');\n};\nvar isTypedCharGood = function (_a) {\n    var keyCode = _a.keyCode, metaKey = _a.metaKey, ctrlKey = _a.ctrlKey, altKey = _a.altKey;\n    if (metaKey || ctrlKey || altKey) {\n        return false;\n    }\n    // 0...9\n    if (keyCode >= 48 && keyCode <= 57) {\n        return true;\n    }\n    // a...z\n    if (keyCode >= 65 && keyCode <= 90) {\n        return true;\n    }\n    // All other keys.\n    return false;\n};\nvar useStartTyping = function (onStartTyping) {\n    useIsomorphicLayoutEffect(function () {\n        var keydown = function (event) {\n            !isFocusedElementEditable() && isTypedCharGood(event) && onStartTyping(event);\n        };\n        on(document, 'keydown', keydown);\n        return function () {\n            off(document, 'keydown', keydown);\n        };\n    }, []);\n};\nexport default useStartTyping;\n","import { __assign } from \"tslib\";\nimport { useMemo, useRef } from 'react';\nimport useMountedState from './useMountedState';\nimport useUpdate from './useUpdate';\nimport useUpdateEffect from './useUpdateEffect';\nexport default function useStateList(stateSet) {\n    if (stateSet === void 0) { stateSet = []; }\n    var isMounted = useMountedState();\n    var update = useUpdate();\n    var index = useRef(0);\n    // If new state list is shorter that before - switch to the last element\n    useUpdateEffect(function () {\n        if (stateSet.length <= index.current) {\n            index.current = stateSet.length - 1;\n            update();\n        }\n    }, [stateSet.length]);\n    var actions = useMemo(function () { return ({\n        next: function () { return actions.setStateAt(index.current + 1); },\n        prev: function () { return actions.setStateAt(index.current - 1); },\n        setStateAt: function (newIndex) {\n            // do nothing on unmounted component\n            if (!isMounted())\n                return;\n            // do nothing on empty states list\n            if (!stateSet.length)\n                return;\n            // in case new index is equal current - do nothing\n            if (newIndex === index.current)\n                return;\n            // it gives the ability to travel through the left and right borders.\n            // 4ex: if list contains 5 elements, attempt to set index 9 will bring use to 5th element\n            // in case of negative index it will start counting from the right, so -17 will bring us to 4th element\n            index.current =\n                newIndex >= 0\n                    ? newIndex % stateSet.length\n                    : stateSet.length + (newIndex % stateSet.length);\n            update();\n        },\n        setState: function (state) {\n            // do nothing on unmounted component\n            if (!isMounted())\n                return;\n            var newIndex = stateSet.length ? stateSet.indexOf(state) : -1;\n            if (newIndex === -1) {\n                throw new Error(\"State '\" + state + \"' is not a valid state (does not exist in state list)\");\n            }\n            index.current = newIndex;\n            update();\n        },\n    }); }, [stateSet]);\n    return __assign({ state: stateSet[index.current], currentIndex: index.current }, actions);\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\nexport default function useStateValidator(state, validator, initialState) {\n    if (initialState === void 0) { initialState = [undefined]; }\n    var validatorInner = useRef(validator);\n    var stateInner = useRef(state);\n    validatorInner.current = validator;\n    stateInner.current = state;\n    var _a = useState(initialState), validity = _a[0], setValidity = _a[1];\n    var validate = useCallback(function () {\n        if (validatorInner.current.length >= 2) {\n            validatorInner.current(stateInner.current, setValidity);\n        }\n        else {\n            setValidity(validatorInner.current(stateInner.current));\n        }\n    }, [setValidity]);\n    useEffect(function () {\n        validate();\n    }, [state]);\n    return [validity, validate];\n}\n","import { useCallback, useMemo, useRef, useState } from 'react';\nimport { useFirstMountState } from './useFirstMountState';\nimport { resolveHookState } from './misc/hookState';\nexport function useStateWithHistory(initialState, capacity, initialHistory) {\n    if (capacity === void 0) { capacity = 10; }\n    if (capacity < 1) {\n        throw new Error(\"Capacity has to be greater than 1, got '\" + capacity + \"'\");\n    }\n    var isFirstMount = useFirstMountState();\n    var _a = useState(initialState), state = _a[0], innerSetState = _a[1];\n    var history = useRef((initialHistory !== null && initialHistory !== void 0 ? initialHistory : []));\n    var historyPosition = useRef(0);\n    // do the states manipulation only on first mount, no sense to load re-renders with useless calculations\n    if (isFirstMount) {\n        if (history.current.length) {\n            // if last element of history !== initial - push initial to history\n            if (history.current[history.current.length - 1] !== initialState) {\n                history.current.push(initialState);\n            }\n            // if initial history bigger that capacity - crop the first elements out\n            if (history.current.length > capacity) {\n                history.current = history.current.slice(history.current.length - capacity);\n            }\n        }\n        else {\n            // initiate the history with initial state\n            history.current.push(initialState);\n        }\n        historyPosition.current = history.current.length && history.current.length - 1;\n    }\n    var setState = useCallback(function (newState) {\n        innerSetState(function (currentState) {\n            newState = resolveHookState(newState, currentState);\n            // is state has changed\n            if (newState !== currentState) {\n                // if current position is not the last - pop element to the right\n                if (historyPosition.current < history.current.length - 1) {\n                    history.current = history.current.slice(0, historyPosition.current + 1);\n                }\n                historyPosition.current = history.current.push(newState) - 1;\n                // if capacity is reached - shift first elements\n                if (history.current.length > capacity) {\n                    history.current = history.current.slice(history.current.length - capacity);\n                }\n            }\n            return newState;\n        });\n    }, [state, capacity]);\n    var historyState = useMemo(function () { return ({\n        history: history.current,\n        position: historyPosition.current,\n        capacity: capacity,\n        back: function (amount) {\n            if (amount === void 0) { amount = 1; }\n            // don't do anything if we already at the left border\n            if (!historyPosition.current) {\n                return;\n            }\n            innerSetState(function () {\n                historyPosition.current -= Math.min(amount, historyPosition.current);\n                return history.current[historyPosition.current];\n            });\n        },\n        forward: function (amount) {\n            if (amount === void 0) { amount = 1; }\n            // don't do anything if we already at the right border\n            if (historyPosition.current === history.current.length - 1) {\n                return;\n            }\n            innerSetState(function () {\n                historyPosition.current = Math.min(historyPosition.current + amount, history.current.length - 1);\n                return history.current[historyPosition.current];\n            });\n        },\n        go: function (position) {\n            if (position === historyPosition.current) {\n                return;\n            }\n            innerSetState(function () {\n                historyPosition.current =\n                    position < 0\n                        ? Math.max(history.current.length + position, 0)\n                        : Math.min(history.current.length - 1, position);\n                return history.current[historyPosition.current];\n            });\n        },\n    }); }, [state]);\n    return [state, setState, historyState];\n}\n","import { useEffect, useRef, useState } from 'react';\nimport useUnmount from './useUnmount';\nvar useThrottle = function (value, ms) {\n    if (ms === void 0) { ms = 200; }\n    var _a = useState(value), state = _a[0], setState = _a[1];\n    var timeout = useRef();\n    var nextValue = useRef(null);\n    var hasNextValue = useRef(0);\n    useEffect(function () {\n        if (!timeout.current) {\n            setState(value);\n            var timeoutCallback_1 = function () {\n                if (hasNextValue.current) {\n                    hasNextValue.current = false;\n                    setState(nextValue.current);\n                    timeout.current = setTimeout(timeoutCallback_1, ms);\n                }\n                else {\n                    timeout.current = undefined;\n                }\n            };\n            timeout.current = setTimeout(timeoutCallback_1, ms);\n        }\n        else {\n            nextValue.current = value;\n            hasNextValue.current = true;\n        }\n    }, [value]);\n    useUnmount(function () {\n        timeout.current && clearTimeout(timeout.current);\n    });\n    return state;\n};\nexport default useThrottle;\n","import { useEffect, useRef, useState } from 'react';\nimport useUnmount from './useUnmount';\nvar useThrottleFn = function (fn, ms, args) {\n    if (ms === void 0) { ms = 200; }\n    var _a = useState(null), state = _a[0], setState = _a[1];\n    var timeout = useRef();\n    var nextArgs = useRef();\n    useEffect(function () {\n        if (!timeout.current) {\n            setState(fn.apply(void 0, args));\n            var timeoutCallback_1 = function () {\n                if (nextArgs.current) {\n                    setState(fn.apply(void 0, nextArgs.current));\n                    nextArgs.current = undefined;\n                    timeout.current = setTimeout(timeoutCallback_1, ms);\n                }\n                else {\n                    timeout.current = undefined;\n                }\n            };\n            timeout.current = setTimeout(timeoutCallback_1, ms);\n        }\n        else {\n            nextArgs.current = args;\n        }\n    }, args);\n    useUnmount(function () {\n        timeout.current && clearTimeout(timeout.current);\n    });\n    return state;\n};\nexport default useThrottleFn;\n","import useTimeoutFn from './useTimeoutFn';\nimport useUpdate from './useUpdate';\nexport default function useTimeout(ms) {\n    if (ms === void 0) { ms = 0; }\n    var update = useUpdate();\n    return useTimeoutFn(update, ms);\n}\n","import { useCallback, useEffect, useRef } from 'react';\nexport default function useTimeoutFn(fn, ms) {\n    if (ms === void 0) { ms = 0; }\n    var ready = useRef(false);\n    var timeout = useRef();\n    var callback = useRef(fn);\n    var isReady = useCallback(function () { return ready.current; }, []);\n    var set = useCallback(function () {\n        ready.current = false;\n        timeout.current && clearTimeout(timeout.current);\n        timeout.current = setTimeout(function () {\n            ready.current = true;\n            callback.current();\n        }, ms);\n    }, [ms]);\n    var clear = useCallback(function () {\n        ready.current = null;\n        timeout.current && clearTimeout(timeout.current);\n    }, []);\n    // update ref when function changes\n    useEffect(function () {\n        callback.current = fn;\n    }, [fn]);\n    // set on mount, clear on unmount\n    useEffect(function () {\n        set();\n        return clear;\n    }, [ms]);\n    return [isReady, clear, set];\n}\n","import { useEffect, useRef } from 'react';\nvar DEFAULT_USE_TITLE_OPTIONS = {\n    restoreOnUnmount: false,\n};\nfunction useTitle(title, options) {\n    if (options === void 0) { options = DEFAULT_USE_TITLE_OPTIONS; }\n    var prevTitleRef = useRef(document.title);\n    if (document.title !== title)\n        document.title = title;\n    useEffect(function () {\n        if (options && options.restoreOnUnmount) {\n            return function () {\n                document.title = prevTitleRef.current;\n            };\n        }\n        else {\n            return;\n        }\n    }, []);\n}\nexport default typeof document !== 'undefined' ? useTitle : function (_title) { };\n","import { useReducer } from 'react';\nvar toggleReducer = function (state, nextValue) {\n    return typeof nextValue === 'boolean' ? nextValue : !state;\n};\nvar useToggle = function (initialValue) {\n    return useReducer(toggleReducer, initialValue);\n};\nexport default useToggle;\n","import { easing } from 'ts-easing';\nimport useRaf from './useRaf';\nvar useTween = function (easingName, ms, delay) {\n    if (easingName === void 0) { easingName = 'inCirc'; }\n    if (ms === void 0) { ms = 200; }\n    if (delay === void 0) { delay = 0; }\n    var fn = easing[easingName];\n    var t = useRaf(ms, delay);\n    if (process.env.NODE_ENV !== 'production') {\n        if (typeof fn !== 'function') {\n            console.error('useTween() expected \"easingName\" property to be a valid easing function name, like:' +\n                '\"' +\n                Object.keys(easing).join('\", \"') +\n                '\".');\n            console.trace();\n            return 0;\n        }\n    }\n    return fn(t);\n};\nexport default useTween;\n","import { useRef } from 'react';\nimport useEffectOnce from './useEffectOnce';\nvar useUnmount = function (fn) {\n    var fnRef = useRef(fn);\n    // update the ref each render so if it change the newest callback will be invoked\n    fnRef.current = fn;\n    useEffectOnce(function () { return function () { return fnRef.current(); }; });\n};\nexport default useUnmount;\n","import { useMemo, useRef } from 'react';\nimport useEffectOnce from './useEffectOnce';\nvar useUnmountPromise = function () {\n    var refUnmounted = useRef(false);\n    useEffectOnce(function () { return function () {\n        refUnmounted.current = true;\n    }; });\n    var wrapper = useMemo(function () {\n        var race = function (promise, onError) {\n            var newPromise = new Promise(function (resolve, reject) {\n                promise.then(function (result) {\n                    if (!refUnmounted.current)\n                        resolve(result);\n                }, function (error) {\n                    if (!refUnmounted.current)\n                        reject(error);\n                    else if (onError)\n                        onError(error);\n                    else\n                        console.error('useUnmountPromise', error);\n                });\n            });\n            return newPromise;\n        };\n        return race;\n    }, []);\n    return wrapper;\n};\nexport default useUnmountPromise;\n","import { useReducer } from 'react';\nvar updateReducer = function (num) { return (num + 1) % 1000000; };\nexport default function useUpdate() {\n    var _a = useReducer(updateReducer, 0), update = _a[1];\n    return update;\n}\n","import { useEffect } from 'react';\nimport { useFirstMountState } from './useFirstMountState';\nvar useUpdateEffect = function (effect, deps) {\n    var isFirstMount = useFirstMountState();\n    useEffect(function () {\n        if (!isFirstMount) {\n            return effect();\n        }\n    }, deps);\n};\nexport default useUpdateEffect;\n","import { __assign } from \"tslib\";\nimport useList from './useList';\n/**\n * @deprecated Use `useList` hook's upsert action instead\n */\nexport default function useUpsert(predicate, initialList) {\n    if (initialList === void 0) { initialList = []; }\n    var _a = useList(initialList), list = _a[0], listActions = _a[1];\n    return [\n        list,\n        __assign(__assign({}, listActions), { upsert: function (newItem) {\n                listActions.upsert(predicate, newItem);\n            } }),\n    ];\n}\n","import { useEffect } from 'react';\nimport { isNavigator, noop } from './misc/util';\nvar isVibrationApiSupported = isNavigator && 'vibrate' in navigator;\nfunction useVibrate(enabled, pattern, loop) {\n    if (enabled === void 0) { enabled = true; }\n    if (pattern === void 0) { pattern = [1000, 1000]; }\n    if (loop === void 0) { loop = true; }\n    useEffect(function () {\n        var interval;\n        if (enabled) {\n            navigator.vibrate(pattern);\n            if (loop) {\n                var duration = pattern instanceof Array ? pattern.reduce(function (a, b) { return a + b; }) : pattern;\n                interval = setInterval(function () {\n                    navigator.vibrate(pattern);\n                }, duration);\n            }\n        }\n        return function () {\n            if (enabled) {\n                navigator.vibrate(0);\n                if (loop) {\n                    clearInterval(interval);\n                }\n            }\n        };\n    }, [enabled]);\n}\nexport default isVibrationApiSupported ? useVibrate : noop;\n","import createHTMLMediaHook from './factory/createHTMLMediaHook';\nvar useVideo = createHTMLMediaHook('video');\nexport default useVideo;\n","import { useEffect } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nimport useRafState from './useRafState';\nvar useWindowScroll = function () {\n    var _a = useRafState(function () { return ({\n        x: isBrowser ? window.pageXOffset : 0,\n        y: isBrowser ? window.pageYOffset : 0,\n    }); }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var handler = function () {\n            setState(function (state) {\n                var pageXOffset = window.pageXOffset, pageYOffset = window.pageYOffset;\n                //Check state for change, return same state if no change happened to prevent rerender\n                //(see useState/setState documentation). useState/setState is used internally in useRafState/setState.\n                return state.x !== pageXOffset || state.y !== pageYOffset\n                    ? {\n                        x: pageXOffset,\n                        y: pageYOffset,\n                    }\n                    : state;\n            });\n        };\n        //We have to update window scroll at mount, before subscription.\n        //Window scroll may be changed between render and effect handler.\n        handler();\n        on(window, 'scroll', handler, {\n            capture: false,\n            passive: true,\n        });\n        return function () {\n            off(window, 'scroll', handler);\n        };\n    }, []);\n    return state;\n};\nexport default useWindowScroll;\n","import { useEffect } from 'react';\nimport useRafState from './useRafState';\nimport { isBrowser, off, on } from './misc/util';\nvar useWindowSize = function (initialWidth, initialHeight) {\n    if (initialWidth === void 0) { initialWidth = Infinity; }\n    if (initialHeight === void 0) { initialHeight = Infinity; }\n    var _a = useRafState({\n        width: isBrowser ? window.innerWidth : initialWidth,\n        height: isBrowser ? window.innerHeight : initialHeight,\n    }), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        if (isBrowser) {\n            var handler_1 = function () {\n                setState({\n                    width: window.innerWidth,\n                    height: window.innerHeight,\n                });\n            };\n            on(window, 'resize', handler_1);\n            return function () {\n                off(window, 'resize', handler_1);\n            };\n        }\n    }, []);\n    return state;\n};\nexport default useWindowSize;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","/** PURE_IMPORTS_START tslib,_Subject,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { Subscription } from './Subscription';\nvar AsyncSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncSubject, _super);\n    function AsyncSubject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.value = null;\n        _this.hasNext = false;\n        _this.hasCompleted = false;\n        return _this;\n    }\n    AsyncSubject.prototype._subscribe = function (subscriber) {\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.hasCompleted && this.hasNext) {\n            subscriber.next(this.value);\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        return _super.prototype._subscribe.call(this, subscriber);\n    };\n    AsyncSubject.prototype.next = function (value) {\n        if (!this.hasCompleted) {\n            this.value = value;\n            this.hasNext = true;\n        }\n    };\n    AsyncSubject.prototype.error = function (error) {\n        if (!this.hasCompleted) {\n            _super.prototype.error.call(this, error);\n        }\n    };\n    AsyncSubject.prototype.complete = function () {\n        this.hasCompleted = true;\n        if (this.hasNext) {\n            _super.prototype.next.call(this, this.value);\n        }\n        _super.prototype.complete.call(this);\n    };\n    return AsyncSubject;\n}(Subject));\nexport { AsyncSubject };\n//# sourceMappingURL=AsyncSubject.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_util_ObjectUnsubscribedError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nvar BehaviorSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject));\nexport { BehaviorSubject };\n//# sourceMappingURL=BehaviorSubject.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nvar InnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(InnerSubscriber, _super);\n    function InnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        _this.index = 0;\n        return _this;\n    }\n    InnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this.index++, this);\n    };\n    InnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error, this);\n        this.unsubscribe();\n    };\n    InnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return InnerSubscriber;\n}(Subscriber));\nexport { InnerSubscriber };\n//# sourceMappingURL=InnerSubscriber.js.map\n","/** PURE_IMPORTS_START _observable_empty,_observable_of,_observable_throwError PURE_IMPORTS_END */\nimport { empty } from './observable/empty';\nimport { of } from './observable/of';\nimport { throwError } from './observable/throwError';\nexport var NotificationKind;\n/*@__PURE__*/ (function (NotificationKind) {\n    NotificationKind[\"NEXT\"] = \"N\";\n    NotificationKind[\"ERROR\"] = \"E\";\n    NotificationKind[\"COMPLETE\"] = \"C\";\n})(NotificationKind || (NotificationKind = {}));\nvar Notification = /*@__PURE__*/ (function () {\n    function Notification(kind, value, error) {\n        this.kind = kind;\n        this.value = value;\n        this.error = error;\n        this.hasValue = kind === 'N';\n    }\n    Notification.prototype.observe = function (observer) {\n        switch (this.kind) {\n            case 'N':\n                return observer.next && observer.next(this.value);\n            case 'E':\n                return observer.error && observer.error(this.error);\n            case 'C':\n                return observer.complete && observer.complete();\n        }\n    };\n    Notification.prototype.do = function (next, error, complete) {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return next && next(this.value);\n            case 'E':\n                return error && error(this.error);\n            case 'C':\n                return complete && complete();\n        }\n    };\n    Notification.prototype.accept = function (nextOrObserver, error, complete) {\n        if (nextOrObserver && typeof nextOrObserver.next === 'function') {\n            return this.observe(nextOrObserver);\n        }\n        else {\n            return this.do(nextOrObserver, error, complete);\n        }\n    };\n    Notification.prototype.toObservable = function () {\n        var kind = this.kind;\n        switch (kind) {\n            case 'N':\n                return of(this.value);\n            case 'E':\n                return throwError(this.error);\n            case 'C':\n                return empty();\n        }\n        throw new Error('unexpected notification kind value');\n    };\n    Notification.createNext = function (value) {\n        if (typeof value !== 'undefined') {\n            return new Notification('N', value);\n        }\n        return Notification.undefinedValueNotification;\n    };\n    Notification.createError = function (err) {\n        return new Notification('E', undefined, err);\n    };\n    Notification.createComplete = function () {\n        return Notification.completeNotification;\n    };\n    Notification.completeNotification = new Notification('C');\n    Notification.undefinedValueNotification = new Notification('N', undefined);\n    return Notification;\n}());\nexport { Notification };\n//# sourceMappingURL=Notification.js.map\n","/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nvar Observable = /*@__PURE__*/ (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n","/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nexport var empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nvar OuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(OuterSubscriber, _super);\n    function OuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OuterSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        this.destination.next(innerValue);\n    };\n    OuterSubscriber.prototype.notifyError = function (error, innerSub) {\n        this.destination.error(error);\n    };\n    OuterSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.destination.complete();\n    };\n    return OuterSubscriber;\n}(Subscriber));\nexport { OuterSubscriber };\n//# sourceMappingURL=OuterSubscriber.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_scheduler_queue,_Subscription,_operators_observeOn,_util_ObjectUnsubscribedError,_SubjectSubscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { queue } from './scheduler/queue';\nimport { Subscription } from './Subscription';\nimport { ObserveOnSubscriber } from './operators/observeOn';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nvar ReplaySubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ReplaySubject, _super);\n    function ReplaySubject(bufferSize, windowTime, scheduler) {\n        if (bufferSize === void 0) {\n            bufferSize = Number.POSITIVE_INFINITY;\n        }\n        if (windowTime === void 0) {\n            windowTime = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this) || this;\n        _this.scheduler = scheduler;\n        _this._events = [];\n        _this._infiniteTimeWindow = false;\n        _this._bufferSize = bufferSize < 1 ? 1 : bufferSize;\n        _this._windowTime = windowTime < 1 ? 1 : windowTime;\n        if (windowTime === Number.POSITIVE_INFINITY) {\n            _this._infiniteTimeWindow = true;\n            _this.next = _this.nextInfiniteTimeWindow;\n        }\n        else {\n            _this.next = _this.nextTimeWindow;\n        }\n        return _this;\n    }\n    ReplaySubject.prototype.nextInfiniteTimeWindow = function (value) {\n        if (!this.isStopped) {\n            var _events = this._events;\n            _events.push(value);\n            if (_events.length > this._bufferSize) {\n                _events.shift();\n            }\n        }\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype.nextTimeWindow = function (value) {\n        if (!this.isStopped) {\n            this._events.push(new ReplayEvent(this._getNow(), value));\n            this._trimBufferThenGetEvents();\n        }\n        _super.prototype.next.call(this, value);\n    };\n    ReplaySubject.prototype._subscribe = function (subscriber) {\n        var _infiniteTimeWindow = this._infiniteTimeWindow;\n        var _events = _infiniteTimeWindow ? this._events : this._trimBufferThenGetEvents();\n        var scheduler = this.scheduler;\n        var len = _events.length;\n        var subscription;\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.isStopped || this.hasError) {\n            subscription = Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            subscription = new SubjectSubscription(this, subscriber);\n        }\n        if (scheduler) {\n            subscriber.add(subscriber = new ObserveOnSubscriber(subscriber, scheduler));\n        }\n        if (_infiniteTimeWindow) {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len && !subscriber.closed; i++) {\n                subscriber.next(_events[i].value);\n            }\n        }\n        if (this.hasError) {\n            subscriber.error(this.thrownError);\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n        }\n        return subscription;\n    };\n    ReplaySubject.prototype._getNow = function () {\n        return (this.scheduler || queue).now();\n    };\n    ReplaySubject.prototype._trimBufferThenGetEvents = function () {\n        var now = this._getNow();\n        var _bufferSize = this._bufferSize;\n        var _windowTime = this._windowTime;\n        var _events = this._events;\n        var eventsCount = _events.length;\n        var spliceCount = 0;\n        while (spliceCount < eventsCount) {\n            if ((now - _events[spliceCount].time) < _windowTime) {\n                break;\n            }\n            spliceCount++;\n        }\n        if (eventsCount > _bufferSize) {\n            spliceCount = Math.max(spliceCount, eventsCount - _bufferSize);\n        }\n        if (spliceCount > 0) {\n            _events.splice(0, spliceCount);\n        }\n        return _events;\n    };\n    return ReplaySubject;\n}(Subject));\nexport { ReplaySubject };\nvar ReplayEvent = /*@__PURE__*/ (function () {\n    function ReplayEvent(time, value) {\n        this.time = time;\n        this.value = value;\n    }\n    return ReplayEvent;\n}());\n//# sourceMappingURL=ReplaySubject.js.map\n","var Scheduler = /*@__PURE__*/ (function () {\n    function Scheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        this.SchedulerAction = SchedulerAction;\n        this.now = now;\n    }\n    Scheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return new this.SchedulerAction(this, work).schedule(state, delay);\n    };\n    Scheduler.now = function () { return Date.now(); };\n    return Scheduler;\n}());\nexport { Scheduler };\n//# sourceMappingURL=Scheduler.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nvar SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\nvar Subject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\nvar SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map\n","/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\n//# sourceMappingURL=Subscriber.js.map\n","/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\nimport { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nvar Subscription = /*@__PURE__*/ (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._ctorUnsubscribe = true;\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction(_unsubscribe)) {\n            if (_ctorUnsubscribe) {\n                this._unsubscribe = undefined;\n            }\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexport var config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = /*@__PURE__*/ new Error();\n            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_util_subscribeTo PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nimport { Observable } from './Observable';\nimport { subscribeTo } from './util/subscribeTo';\nvar SimpleInnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SimpleInnerSubscriber, _super);\n    function SimpleInnerSubscriber(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        return _this;\n    }\n    SimpleInnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(value);\n    };\n    SimpleInnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error);\n        this.unsubscribe();\n    };\n    SimpleInnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete();\n        this.unsubscribe();\n    };\n    return SimpleInnerSubscriber;\n}(Subscriber));\nexport { SimpleInnerSubscriber };\nvar ComplexInnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ComplexInnerSubscriber, _super);\n    function ComplexInnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        return _this;\n    }\n    ComplexInnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this);\n    };\n    ComplexInnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error);\n        this.unsubscribe();\n    };\n    ComplexInnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return ComplexInnerSubscriber;\n}(Subscriber));\nexport { ComplexInnerSubscriber };\nvar SimpleOuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SimpleOuterSubscriber, _super);\n    function SimpleOuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SimpleOuterSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    SimpleOuterSubscriber.prototype.notifyError = function (err) {\n        this.destination.error(err);\n    };\n    SimpleOuterSubscriber.prototype.notifyComplete = function () {\n        this.destination.complete();\n    };\n    return SimpleOuterSubscriber;\n}(Subscriber));\nexport { SimpleOuterSubscriber };\nvar ComplexOuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ComplexOuterSubscriber, _super);\n    function ComplexOuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ComplexOuterSubscriber.prototype.notifyNext = function (_outerValue, innerValue, _outerIndex, _innerSub) {\n        this.destination.next(innerValue);\n    };\n    ComplexOuterSubscriber.prototype.notifyError = function (error) {\n        this.destination.error(error);\n    };\n    ComplexOuterSubscriber.prototype.notifyComplete = function (_innerSub) {\n        this.destination.complete();\n    };\n    return ComplexOuterSubscriber;\n}(Subscriber));\nexport { ComplexOuterSubscriber };\nexport function innerSubscribe(result, innerSubscriber) {\n    if (innerSubscriber.closed) {\n        return undefined;\n    }\n    if (result instanceof Observable) {\n        return result.subscribe(innerSubscriber);\n    }\n    return subscribeTo(result)(innerSubscriber);\n}\n//# sourceMappingURL=innerSubscribe.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_Observable,_Subscriber,_Subscription,_operators_refCount PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SubjectSubscriber } from '../Subject';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { refCount as higherOrderRefCount } from '../operators/refCount';\nvar ConnectableObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ConnectableObservable, _super);\n    function ConnectableObservable(source, subjectFactory) {\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.subjectFactory = subjectFactory;\n        _this._refCount = 0;\n        _this._isComplete = false;\n        return _this;\n    }\n    ConnectableObservable.prototype._subscribe = function (subscriber) {\n        return this.getSubject().subscribe(subscriber);\n    };\n    ConnectableObservable.prototype.getSubject = function () {\n        var subject = this._subject;\n        if (!subject || subject.isStopped) {\n            this._subject = this.subjectFactory();\n        }\n        return this._subject;\n    };\n    ConnectableObservable.prototype.connect = function () {\n        var connection = this._connection;\n        if (!connection) {\n            this._isComplete = false;\n            connection = this._connection = new Subscription();\n            connection.add(this.source\n                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n            if (connection.closed) {\n                this._connection = null;\n                connection = Subscription.EMPTY;\n            }\n        }\n        return connection;\n    };\n    ConnectableObservable.prototype.refCount = function () {\n        return higherOrderRefCount()(this);\n    };\n    return ConnectableObservable;\n}(Observable));\nexport { ConnectableObservable };\nexport var connectableObservableDescriptor = /*@__PURE__*/ (function () {\n    var connectableProto = ConnectableObservable.prototype;\n    return {\n        operator: { value: null },\n        _refCount: { value: 0, writable: true },\n        _subject: { value: null, writable: true },\n        _connection: { value: null, writable: true },\n        _subscribe: { value: connectableProto._subscribe },\n        _isComplete: { value: connectableProto._isComplete, writable: true },\n        getSubject: { value: connectableProto.getSubject },\n        connect: { value: connectableProto.connect },\n        refCount: { value: connectableProto.refCount }\n    };\n})();\nvar ConnectableSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ConnectableSubscriber, _super);\n    function ConnectableSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    ConnectableSubscriber.prototype._error = function (err) {\n        this._unsubscribe();\n        _super.prototype._error.call(this, err);\n    };\n    ConnectableSubscriber.prototype._complete = function () {\n        this.connectable._isComplete = true;\n        this._unsubscribe();\n        _super.prototype._complete.call(this);\n    };\n    ConnectableSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (connectable) {\n            this.connectable = null;\n            var connection = connectable._connection;\n            connectable._refCount = 0;\n            connectable._subject = null;\n            connectable._connection = null;\n            if (connection) {\n                connection.unsubscribe();\n            }\n        }\n    };\n    return ConnectableSubscriber;\n}(SubjectSubscriber));\nvar RefCountOperator = /*@__PURE__*/ (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=ConnectableObservable.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_scheduler_asap,_util_isNumeric PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from '../Observable';\nimport { asap } from '../scheduler/asap';\nimport { isNumeric } from '../util/isNumeric';\nvar SubscribeOnObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubscribeOnObservable, _super);\n    function SubscribeOnObservable(source, delayTime, scheduler) {\n        if (delayTime === void 0) {\n            delayTime = 0;\n        }\n        if (scheduler === void 0) {\n            scheduler = asap;\n        }\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.delayTime = delayTime;\n        _this.scheduler = scheduler;\n        if (!isNumeric(delayTime) || delayTime < 0) {\n            _this.delayTime = 0;\n        }\n        if (!scheduler || typeof scheduler.schedule !== 'function') {\n            _this.scheduler = asap;\n        }\n        return _this;\n    }\n    SubscribeOnObservable.create = function (source, delay, scheduler) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (scheduler === void 0) {\n            scheduler = asap;\n        }\n        return new SubscribeOnObservable(source, delay, scheduler);\n    };\n    SubscribeOnObservable.dispatch = function (arg) {\n        var source = arg.source, subscriber = arg.subscriber;\n        return this.add(source.subscribe(subscriber));\n    };\n    SubscribeOnObservable.prototype._subscribe = function (subscriber) {\n        var delay = this.delayTime;\n        var source = this.source;\n        var scheduler = this.scheduler;\n        return scheduler.schedule(SubscribeOnObservable.dispatch, delay, {\n            source: source, subscriber: subscriber\n        });\n    };\n    return SubscribeOnObservable;\n}(Observable));\nexport { SubscribeOnObservable };\n//# sourceMappingURL=SubscribeOnObservable.js.map\n","/** PURE_IMPORTS_START tslib,_util_isScheduler,_util_isArray,_OuterSubscriber,_util_subscribeToResult,_fromArray PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isScheduler } from '../util/isScheduler';\nimport { isArray } from '../util/isArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { fromArray } from './fromArray';\nvar NONE = {};\nexport function combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var resultSelector = undefined;\n    var scheduler = undefined;\n    if (isScheduler(observables[observables.length - 1])) {\n        scheduler = observables.pop();\n    }\n    if (typeof observables[observables.length - 1] === 'function') {\n        resultSelector = observables.pop();\n    }\n    if (observables.length === 1 && isArray(observables[0])) {\n        observables = observables[0];\n    }\n    return fromArray(observables, scheduler).lift(new CombineLatestOperator(resultSelector));\n}\nvar CombineLatestOperator = /*@__PURE__*/ (function () {\n    function CombineLatestOperator(resultSelector) {\n        this.resultSelector = resultSelector;\n    }\n    CombineLatestOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CombineLatestSubscriber(subscriber, this.resultSelector));\n    };\n    return CombineLatestOperator;\n}());\nexport { CombineLatestOperator };\nvar CombineLatestSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CombineLatestSubscriber, _super);\n    function CombineLatestSubscriber(destination, resultSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.resultSelector = resultSelector;\n        _this.active = 0;\n        _this.values = [];\n        _this.observables = [];\n        return _this;\n    }\n    CombineLatestSubscriber.prototype._next = function (observable) {\n        this.values.push(NONE);\n        this.observables.push(observable);\n    };\n    CombineLatestSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            this.active = len;\n            this.toRespond = len;\n            for (var i = 0; i < len; i++) {\n                var observable = observables[i];\n                this.add(subscribeToResult(this, observable, undefined, i));\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyComplete = function (unused) {\n        if ((this.active -= 1) === 0) {\n            this.destination.complete();\n        }\n    };\n    CombineLatestSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {\n        var values = this.values;\n        var oldVal = values[outerIndex];\n        var toRespond = !this.toRespond\n            ? 0\n            : oldVal === NONE ? --this.toRespond : this.toRespond;\n        values[outerIndex] = innerValue;\n        if (toRespond === 0) {\n            if (this.resultSelector) {\n                this._tryResultSelector(values);\n            }\n            else {\n                this.destination.next(values.slice());\n            }\n        }\n    };\n    CombineLatestSubscriber.prototype._tryResultSelector = function (values) {\n        var result;\n        try {\n            result = this.resultSelector.apply(this, values);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return CombineLatestSubscriber;\n}(OuterSubscriber));\nexport { CombineLatestSubscriber };\n//# sourceMappingURL=combineLatest.js.map\n","/** PURE_IMPORTS_START _of,_operators_concatAll PURE_IMPORTS_END */\nimport { of } from './of';\nimport { concatAll } from '../operators/concatAll';\nexport function concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return concatAll()(of.apply(void 0, observables));\n}\n//# sourceMappingURL=concat.js.map\n","/** PURE_IMPORTS_START _Observable,_from,_empty PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { from } from './from';\nimport { empty } from './empty';\nexport function defer(observableFactory) {\n    return new Observable(function (subscriber) {\n        var input;\n        try {\n            input = observableFactory();\n        }\n        catch (err) {\n            subscriber.error(err);\n            return undefined;\n        }\n        var source = input ? from(input) : empty();\n        return source.subscribe(subscriber);\n    });\n}\n//# sourceMappingURL=defer.js.map\n","/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nexport var EMPTY = /*@__PURE__*/ new Observable(function (subscriber) { return subscriber.complete(); });\nexport function empty(scheduler) {\n    return scheduler ? emptyScheduled(scheduler) : EMPTY;\n}\nfunction emptyScheduled(scheduler) {\n    return new Observable(function (subscriber) { return scheduler.schedule(function () { return subscriber.complete(); }); });\n}\n//# sourceMappingURL=empty.js.map\n","/** PURE_IMPORTS_START _Observable,_util_subscribeTo,_scheduled_scheduled PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { scheduled } from '../scheduled/scheduled';\nexport function from(input, scheduler) {\n    if (!scheduler) {\n        if (input instanceof Observable) {\n            return input;\n        }\n        return new Observable(subscribeTo(input));\n    }\n    else {\n        return scheduled(input, scheduler);\n    }\n}\n//# sourceMappingURL=from.js.map\n","/** PURE_IMPORTS_START _Observable,_util_subscribeToArray,_scheduled_scheduleArray PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeToArray } from '../util/subscribeToArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nexport function fromArray(input, scheduler) {\n    if (!scheduler) {\n        return new Observable(subscribeToArray(input));\n    }\n    else {\n        return scheduleArray(input, scheduler);\n    }\n}\n//# sourceMappingURL=fromArray.js.map\n","/** PURE_IMPORTS_START _Observable,_util_isScheduler,_operators_mergeAll,_fromArray PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { isScheduler } from '../util/isScheduler';\nimport { mergeAll } from '../operators/mergeAll';\nimport { fromArray } from './fromArray';\nexport function merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var concurrent = Number.POSITIVE_INFINITY;\n    var scheduler = null;\n    var last = observables[observables.length - 1];\n    if (isScheduler(last)) {\n        scheduler = observables.pop();\n        if (observables.length > 1 && typeof observables[observables.length - 1] === 'number') {\n            concurrent = observables.pop();\n        }\n    }\n    else if (typeof last === 'number') {\n        concurrent = observables.pop();\n    }\n    if (scheduler === null && observables.length === 1 && observables[0] instanceof Observable) {\n        return observables[0];\n    }\n    return mergeAll(concurrent)(fromArray(observables, scheduler));\n}\n//# sourceMappingURL=merge.js.map\n","/** PURE_IMPORTS_START _util_isScheduler,_fromArray,_scheduled_scheduleArray PURE_IMPORTS_END */\nimport { isScheduler } from '../util/isScheduler';\nimport { fromArray } from './fromArray';\nimport { scheduleArray } from '../scheduled/scheduleArray';\nexport function of() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    var scheduler = args[args.length - 1];\n    if (isScheduler(scheduler)) {\n        args.pop();\n        return scheduleArray(args, scheduler);\n    }\n    else {\n        return fromArray(args);\n    }\n}\n//# sourceMappingURL=of.js.map\n","/** PURE_IMPORTS_START tslib,_util_isArray,_fromArray,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isArray } from '../util/isArray';\nimport { fromArray } from './fromArray';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function race() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    if (observables.length === 1) {\n        if (isArray(observables[0])) {\n            observables = observables[0];\n        }\n        else {\n            return observables[0];\n        }\n    }\n    return fromArray(observables, undefined).lift(new RaceOperator());\n}\nvar RaceOperator = /*@__PURE__*/ (function () {\n    function RaceOperator() {\n    }\n    RaceOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RaceSubscriber(subscriber));\n    };\n    return RaceOperator;\n}());\nexport { RaceOperator };\nvar RaceSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RaceSubscriber, _super);\n    function RaceSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasFirst = false;\n        _this.observables = [];\n        _this.subscriptions = [];\n        return _this;\n    }\n    RaceSubscriber.prototype._next = function (observable) {\n        this.observables.push(observable);\n    };\n    RaceSubscriber.prototype._complete = function () {\n        var observables = this.observables;\n        var len = observables.length;\n        if (len === 0) {\n            this.destination.complete();\n        }\n        else {\n            for (var i = 0; i < len && !this.hasFirst; i++) {\n                var observable = observables[i];\n                var subscription = subscribeToResult(this, observable, undefined, i);\n                if (this.subscriptions) {\n                    this.subscriptions.push(subscription);\n                }\n                this.add(subscription);\n            }\n            this.observables = null;\n        }\n    };\n    RaceSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {\n        if (!this.hasFirst) {\n            this.hasFirst = true;\n            for (var i = 0; i < this.subscriptions.length; i++) {\n                if (i !== outerIndex) {\n                    var subscription = this.subscriptions[i];\n                    subscription.unsubscribe();\n                    this.remove(subscription);\n                }\n            }\n            this.subscriptions = null;\n        }\n        this.destination.next(innerValue);\n    };\n    return RaceSubscriber;\n}(OuterSubscriber));\nexport { RaceSubscriber };\n//# sourceMappingURL=race.js.map\n","/** PURE_IMPORTS_START _Observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nexport function throwError(error, scheduler) {\n    if (!scheduler) {\n        return new Observable(function (subscriber) { return subscriber.error(error); });\n    }\n    else {\n        return new Observable(function (subscriber) { return scheduler.schedule(dispatch, 0, { error: error, subscriber: subscriber }); });\n    }\n}\nfunction dispatch(_a) {\n    var error = _a.error, subscriber = _a.subscriber;\n    subscriber.error(error);\n}\n//# sourceMappingURL=throwError.js.map\n","/** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nexport function timer(dueTime, periodOrScheduler, scheduler) {\n    if (dueTime === void 0) {\n        dueTime = 0;\n    }\n    var period = -1;\n    if (isNumeric(periodOrScheduler)) {\n        period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n    }\n    else if (isScheduler(periodOrScheduler)) {\n        scheduler = periodOrScheduler;\n    }\n    if (!isScheduler(scheduler)) {\n        scheduler = async;\n    }\n    return new Observable(function (subscriber) {\n        var due = isNumeric(dueTime)\n            ? dueTime\n            : (+dueTime - scheduler.now());\n        return scheduler.schedule(dispatch, due, {\n            index: 0, period: period, subscriber: subscriber\n        });\n    });\n}\nfunction dispatch(state) {\n    var index = state.index, period = state.period, subscriber = state.subscriber;\n    subscriber.next(index);\n    if (subscriber.closed) {\n        return;\n    }\n    else if (period === -1) {\n        return subscriber.complete();\n    }\n    state.index = index + 1;\n    this.schedule(state, period);\n}\n//# sourceMappingURL=timer.js.map\n","/** PURE_IMPORTS_START tslib,_fromArray,_util_isArray,_Subscriber,_.._internal_symbol_iterator,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { fromArray } from './fromArray';\nimport { isArray } from '../util/isArray';\nimport { Subscriber } from '../Subscriber';\nimport { iterator as Symbol_iterator } from '../../internal/symbol/iterator';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function zip() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var resultSelector = observables[observables.length - 1];\n    if (typeof resultSelector === 'function') {\n        observables.pop();\n    }\n    return fromArray(observables, undefined).lift(new ZipOperator(resultSelector));\n}\nvar ZipOperator = /*@__PURE__*/ (function () {\n    function ZipOperator(resultSelector) {\n        this.resultSelector = resultSelector;\n    }\n    ZipOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ZipSubscriber(subscriber, this.resultSelector));\n    };\n    return ZipOperator;\n}());\nexport { ZipOperator };\nvar ZipSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ZipSubscriber, _super);\n    function ZipSubscriber(destination, resultSelector, values) {\n        if (values === void 0) {\n            values = Object.create(null);\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.resultSelector = resultSelector;\n        _this.iterators = [];\n        _this.active = 0;\n        _this.resultSelector = (typeof resultSelector === 'function') ? resultSelector : undefined;\n        return _this;\n    }\n    ZipSubscriber.prototype._next = function (value) {\n        var iterators = this.iterators;\n        if (isArray(value)) {\n            iterators.push(new StaticArrayIterator(value));\n        }\n        else if (typeof value[Symbol_iterator] === 'function') {\n            iterators.push(new StaticIterator(value[Symbol_iterator]()));\n        }\n        else {\n            iterators.push(new ZipBufferIterator(this.destination, this, value));\n        }\n    };\n    ZipSubscriber.prototype._complete = function () {\n        var iterators = this.iterators;\n        var len = iterators.length;\n        this.unsubscribe();\n        if (len === 0) {\n            this.destination.complete();\n            return;\n        }\n        this.active = len;\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            if (iterator.stillUnsubscribed) {\n                var destination = this.destination;\n                destination.add(iterator.subscribe());\n            }\n            else {\n                this.active--;\n            }\n        }\n    };\n    ZipSubscriber.prototype.notifyInactive = function () {\n        this.active--;\n        if (this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    ZipSubscriber.prototype.checkIterators = function () {\n        var iterators = this.iterators;\n        var len = iterators.length;\n        var destination = this.destination;\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            if (typeof iterator.hasValue === 'function' && !iterator.hasValue()) {\n                return;\n            }\n        }\n        var shouldComplete = false;\n        var args = [];\n        for (var i = 0; i < len; i++) {\n            var iterator = iterators[i];\n            var result = iterator.next();\n            if (iterator.hasCompleted()) {\n                shouldComplete = true;\n            }\n            if (result.done) {\n                destination.complete();\n                return;\n            }\n            args.push(result.value);\n        }\n        if (this.resultSelector) {\n            this._tryresultSelector(args);\n        }\n        else {\n            destination.next(args);\n        }\n        if (shouldComplete) {\n            destination.complete();\n        }\n    };\n    ZipSubscriber.prototype._tryresultSelector = function (args) {\n        var result;\n        try {\n            result = this.resultSelector.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return ZipSubscriber;\n}(Subscriber));\nexport { ZipSubscriber };\nvar StaticIterator = /*@__PURE__*/ (function () {\n    function StaticIterator(iterator) {\n        this.iterator = iterator;\n        this.nextResult = iterator.next();\n    }\n    StaticIterator.prototype.hasValue = function () {\n        return true;\n    };\n    StaticIterator.prototype.next = function () {\n        var result = this.nextResult;\n        this.nextResult = this.iterator.next();\n        return result;\n    };\n    StaticIterator.prototype.hasCompleted = function () {\n        var nextResult = this.nextResult;\n        return Boolean(nextResult && nextResult.done);\n    };\n    return StaticIterator;\n}());\nvar StaticArrayIterator = /*@__PURE__*/ (function () {\n    function StaticArrayIterator(array) {\n        this.array = array;\n        this.index = 0;\n        this.length = 0;\n        this.length = array.length;\n    }\n    StaticArrayIterator.prototype[Symbol_iterator] = function () {\n        return this;\n    };\n    StaticArrayIterator.prototype.next = function (value) {\n        var i = this.index++;\n        var array = this.array;\n        return i < this.length ? { value: array[i], done: false } : { value: null, done: true };\n    };\n    StaticArrayIterator.prototype.hasValue = function () {\n        return this.array.length > this.index;\n    };\n    StaticArrayIterator.prototype.hasCompleted = function () {\n        return this.array.length === this.index;\n    };\n    return StaticArrayIterator;\n}());\nvar ZipBufferIterator = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ZipBufferIterator, _super);\n    function ZipBufferIterator(destination, parent, observable) {\n        var _this = _super.call(this, destination) || this;\n        _this.parent = parent;\n        _this.observable = observable;\n        _this.stillUnsubscribed = true;\n        _this.buffer = [];\n        _this.isComplete = false;\n        return _this;\n    }\n    ZipBufferIterator.prototype[Symbol_iterator] = function () {\n        return this;\n    };\n    ZipBufferIterator.prototype.next = function () {\n        var buffer = this.buffer;\n        if (buffer.length === 0 && this.isComplete) {\n            return { value: null, done: true };\n        }\n        else {\n            return { value: buffer.shift(), done: false };\n        }\n    };\n    ZipBufferIterator.prototype.hasValue = function () {\n        return this.buffer.length > 0;\n    };\n    ZipBufferIterator.prototype.hasCompleted = function () {\n        return this.buffer.length === 0 && this.isComplete;\n    };\n    ZipBufferIterator.prototype.notifyComplete = function () {\n        if (this.buffer.length > 0) {\n            this.isComplete = true;\n            this.parent.notifyInactive();\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    ZipBufferIterator.prototype.notifyNext = function (innerValue) {\n        this.buffer.push(innerValue);\n        this.parent.checkIterators();\n    };\n    ZipBufferIterator.prototype.subscribe = function () {\n        return innerSubscribe(this.observable, new SimpleInnerSubscriber(this));\n    };\n    return ZipBufferIterator;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=zip.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function audit(durationSelector) {\n    return function auditOperatorFunction(source) {\n        return source.lift(new AuditOperator(durationSelector));\n    };\n}\nvar AuditOperator = /*@__PURE__*/ (function () {\n    function AuditOperator(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    AuditOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));\n    };\n    return AuditOperator;\n}());\nvar AuditSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AuditSubscriber, _super);\n    function AuditSubscriber(destination, durationSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.durationSelector = durationSelector;\n        _this.hasValue = false;\n        return _this;\n    }\n    AuditSubscriber.prototype._next = function (value) {\n        this.value = value;\n        this.hasValue = true;\n        if (!this.throttled) {\n            var duration = void 0;\n            try {\n                var durationSelector = this.durationSelector;\n                duration = durationSelector(value);\n            }\n            catch (err) {\n                return this.destination.error(err);\n            }\n            var innerSubscription = innerSubscribe(duration, new SimpleInnerSubscriber(this));\n            if (!innerSubscription || innerSubscription.closed) {\n                this.clearThrottle();\n            }\n            else {\n                this.add(this.throttled = innerSubscription);\n            }\n        }\n    };\n    AuditSubscriber.prototype.clearThrottle = function () {\n        var _a = this, value = _a.value, hasValue = _a.hasValue, throttled = _a.throttled;\n        if (throttled) {\n            this.remove(throttled);\n            this.throttled = undefined;\n            throttled.unsubscribe();\n        }\n        if (hasValue) {\n            this.value = undefined;\n            this.hasValue = false;\n            this.destination.next(value);\n        }\n    };\n    AuditSubscriber.prototype.notifyNext = function () {\n        this.clearThrottle();\n    };\n    AuditSubscriber.prototype.notifyComplete = function () {\n        this.clearThrottle();\n    };\n    return AuditSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=audit.js.map\n","/** PURE_IMPORTS_START _scheduler_async,_audit,_observable_timer PURE_IMPORTS_END */\nimport { async } from '../scheduler/async';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\nexport function auditTime(duration, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return audit(function () { return timer(duration, scheduler); });\n}\n//# sourceMappingURL=auditTime.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function buffer(closingNotifier) {\n    return function bufferOperatorFunction(source) {\n        return source.lift(new BufferOperator(closingNotifier));\n    };\n}\nvar BufferOperator = /*@__PURE__*/ (function () {\n    function BufferOperator(closingNotifier) {\n        this.closingNotifier = closingNotifier;\n    }\n    BufferOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferSubscriber(subscriber, this.closingNotifier));\n    };\n    return BufferOperator;\n}());\nvar BufferSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferSubscriber, _super);\n    function BufferSubscriber(destination, closingNotifier) {\n        var _this = _super.call(this, destination) || this;\n        _this.buffer = [];\n        _this.add(innerSubscribe(closingNotifier, new SimpleInnerSubscriber(_this)));\n        return _this;\n    }\n    BufferSubscriber.prototype._next = function (value) {\n        this.buffer.push(value);\n    };\n    BufferSubscriber.prototype.notifyNext = function () {\n        var buffer = this.buffer;\n        this.buffer = [];\n        this.destination.next(buffer);\n    };\n    return BufferSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=buffer.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function bufferCount(bufferSize, startBufferEvery) {\n    if (startBufferEvery === void 0) {\n        startBufferEvery = null;\n    }\n    return function bufferCountOperatorFunction(source) {\n        return source.lift(new BufferCountOperator(bufferSize, startBufferEvery));\n    };\n}\nvar BufferCountOperator = /*@__PURE__*/ (function () {\n    function BufferCountOperator(bufferSize, startBufferEvery) {\n        this.bufferSize = bufferSize;\n        this.startBufferEvery = startBufferEvery;\n        if (!startBufferEvery || bufferSize === startBufferEvery) {\n            this.subscriberClass = BufferCountSubscriber;\n        }\n        else {\n            this.subscriberClass = BufferSkipCountSubscriber;\n        }\n    }\n    BufferCountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new this.subscriberClass(subscriber, this.bufferSize, this.startBufferEvery));\n    };\n    return BufferCountOperator;\n}());\nvar BufferCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferCountSubscriber, _super);\n    function BufferCountSubscriber(destination, bufferSize) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferSize = bufferSize;\n        _this.buffer = [];\n        return _this;\n    }\n    BufferCountSubscriber.prototype._next = function (value) {\n        var buffer = this.buffer;\n        buffer.push(value);\n        if (buffer.length == this.bufferSize) {\n            this.destination.next(buffer);\n            this.buffer = [];\n        }\n    };\n    BufferCountSubscriber.prototype._complete = function () {\n        var buffer = this.buffer;\n        if (buffer.length > 0) {\n            this.destination.next(buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    return BufferCountSubscriber;\n}(Subscriber));\nvar BufferSkipCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferSkipCountSubscriber, _super);\n    function BufferSkipCountSubscriber(destination, bufferSize, startBufferEvery) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferSize = bufferSize;\n        _this.startBufferEvery = startBufferEvery;\n        _this.buffers = [];\n        _this.count = 0;\n        return _this;\n    }\n    BufferSkipCountSubscriber.prototype._next = function (value) {\n        var _a = this, bufferSize = _a.bufferSize, startBufferEvery = _a.startBufferEvery, buffers = _a.buffers, count = _a.count;\n        this.count++;\n        if (count % startBufferEvery === 0) {\n            buffers.push([]);\n        }\n        for (var i = buffers.length; i--;) {\n            var buffer = buffers[i];\n            buffer.push(value);\n            if (buffer.length === bufferSize) {\n                buffers.splice(i, 1);\n                this.destination.next(buffer);\n            }\n        }\n    };\n    BufferSkipCountSubscriber.prototype._complete = function () {\n        var _a = this, buffers = _a.buffers, destination = _a.destination;\n        while (buffers.length > 0) {\n            var buffer = buffers.shift();\n            if (buffer.length > 0) {\n                destination.next(buffer);\n            }\n        }\n        _super.prototype._complete.call(this);\n    };\n    return BufferSkipCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=bufferCount.js.map\n","/** PURE_IMPORTS_START tslib,_scheduler_async,_Subscriber,_util_isScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { async } from '../scheduler/async';\nimport { Subscriber } from '../Subscriber';\nimport { isScheduler } from '../util/isScheduler';\nexport function bufferTime(bufferTimeSpan) {\n    var length = arguments.length;\n    var scheduler = async;\n    if (isScheduler(arguments[arguments.length - 1])) {\n        scheduler = arguments[arguments.length - 1];\n        length--;\n    }\n    var bufferCreationInterval = null;\n    if (length >= 2) {\n        bufferCreationInterval = arguments[1];\n    }\n    var maxBufferSize = Number.POSITIVE_INFINITY;\n    if (length >= 3) {\n        maxBufferSize = arguments[2];\n    }\n    return function bufferTimeOperatorFunction(source) {\n        return source.lift(new BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler));\n    };\n}\nvar BufferTimeOperator = /*@__PURE__*/ (function () {\n    function BufferTimeOperator(bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        this.bufferTimeSpan = bufferTimeSpan;\n        this.bufferCreationInterval = bufferCreationInterval;\n        this.maxBufferSize = maxBufferSize;\n        this.scheduler = scheduler;\n    }\n    BufferTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferTimeSubscriber(subscriber, this.bufferTimeSpan, this.bufferCreationInterval, this.maxBufferSize, this.scheduler));\n    };\n    return BufferTimeOperator;\n}());\nvar Context = /*@__PURE__*/ (function () {\n    function Context() {\n        this.buffer = [];\n    }\n    return Context;\n}());\nvar BufferTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferTimeSubscriber, _super);\n    function BufferTimeSubscriber(destination, bufferTimeSpan, bufferCreationInterval, maxBufferSize, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.bufferTimeSpan = bufferTimeSpan;\n        _this.bufferCreationInterval = bufferCreationInterval;\n        _this.maxBufferSize = maxBufferSize;\n        _this.scheduler = scheduler;\n        _this.contexts = [];\n        var context = _this.openContext();\n        _this.timespanOnly = bufferCreationInterval == null || bufferCreationInterval < 0;\n        if (_this.timespanOnly) {\n            var timeSpanOnlyState = { subscriber: _this, context: context, bufferTimeSpan: bufferTimeSpan };\n            _this.add(context.closeAction = scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n        else {\n            var closeState = { subscriber: _this, context: context };\n            var creationState = { bufferTimeSpan: bufferTimeSpan, bufferCreationInterval: bufferCreationInterval, subscriber: _this, scheduler: scheduler };\n            _this.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, closeState));\n            _this.add(scheduler.schedule(dispatchBufferCreation, bufferCreationInterval, creationState));\n        }\n        return _this;\n    }\n    BufferTimeSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        var filledBufferContext;\n        for (var i = 0; i < len; i++) {\n            var context_1 = contexts[i];\n            var buffer = context_1.buffer;\n            buffer.push(value);\n            if (buffer.length == this.maxBufferSize) {\n                filledBufferContext = context_1;\n            }\n        }\n        if (filledBufferContext) {\n            this.onBufferFull(filledBufferContext);\n        }\n    };\n    BufferTimeSubscriber.prototype._error = function (err) {\n        this.contexts.length = 0;\n        _super.prototype._error.call(this, err);\n    };\n    BufferTimeSubscriber.prototype._complete = function () {\n        var _a = this, contexts = _a.contexts, destination = _a.destination;\n        while (contexts.length > 0) {\n            var context_2 = contexts.shift();\n            destination.next(context_2.buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    BufferTimeSubscriber.prototype._unsubscribe = function () {\n        this.contexts = null;\n    };\n    BufferTimeSubscriber.prototype.onBufferFull = function (context) {\n        this.closeContext(context);\n        var closeAction = context.closeAction;\n        closeAction.unsubscribe();\n        this.remove(closeAction);\n        if (!this.closed && this.timespanOnly) {\n            context = this.openContext();\n            var bufferTimeSpan = this.bufferTimeSpan;\n            var timeSpanOnlyState = { subscriber: this, context: context, bufferTimeSpan: bufferTimeSpan };\n            this.add(context.closeAction = this.scheduler.schedule(dispatchBufferTimeSpanOnly, bufferTimeSpan, timeSpanOnlyState));\n        }\n    };\n    BufferTimeSubscriber.prototype.openContext = function () {\n        var context = new Context();\n        this.contexts.push(context);\n        return context;\n    };\n    BufferTimeSubscriber.prototype.closeContext = function (context) {\n        this.destination.next(context.buffer);\n        var contexts = this.contexts;\n        var spliceIndex = contexts ? contexts.indexOf(context) : -1;\n        if (spliceIndex >= 0) {\n            contexts.splice(contexts.indexOf(context), 1);\n        }\n    };\n    return BufferTimeSubscriber;\n}(Subscriber));\nfunction dispatchBufferTimeSpanOnly(state) {\n    var subscriber = state.subscriber;\n    var prevContext = state.context;\n    if (prevContext) {\n        subscriber.closeContext(prevContext);\n    }\n    if (!subscriber.closed) {\n        state.context = subscriber.openContext();\n        state.context.closeAction = this.schedule(state, state.bufferTimeSpan);\n    }\n}\nfunction dispatchBufferCreation(state) {\n    var bufferCreationInterval = state.bufferCreationInterval, bufferTimeSpan = state.bufferTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler;\n    var context = subscriber.openContext();\n    var action = this;\n    if (!subscriber.closed) {\n        subscriber.add(context.closeAction = scheduler.schedule(dispatchBufferClose, bufferTimeSpan, { subscriber: subscriber, context: context }));\n        action.schedule(state, bufferCreationInterval);\n    }\n}\nfunction dispatchBufferClose(arg) {\n    var subscriber = arg.subscriber, context = arg.context;\n    subscriber.closeContext(context);\n}\n//# sourceMappingURL=bufferTime.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription,_util_subscribeToResult,_OuterSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nimport { subscribeToResult } from '../util/subscribeToResult';\nimport { OuterSubscriber } from '../OuterSubscriber';\nexport function bufferToggle(openings, closingSelector) {\n    return function bufferToggleOperatorFunction(source) {\n        return source.lift(new BufferToggleOperator(openings, closingSelector));\n    };\n}\nvar BufferToggleOperator = /*@__PURE__*/ (function () {\n    function BufferToggleOperator(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    BufferToggleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n    return BufferToggleOperator;\n}());\nvar BufferToggleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferToggleSubscriber, _super);\n    function BufferToggleSubscriber(destination, openings, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.closingSelector = closingSelector;\n        _this.contexts = [];\n        _this.add(subscribeToResult(_this, openings));\n        return _this;\n    }\n    BufferToggleSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        var len = contexts.length;\n        for (var i = 0; i < len; i++) {\n            contexts[i].buffer.push(value);\n        }\n    };\n    BufferToggleSubscriber.prototype._error = function (err) {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context_1 = contexts.shift();\n            context_1.subscription.unsubscribe();\n            context_1.buffer = null;\n            context_1.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._error.call(this, err);\n    };\n    BufferToggleSubscriber.prototype._complete = function () {\n        var contexts = this.contexts;\n        while (contexts.length > 0) {\n            var context_2 = contexts.shift();\n            this.destination.next(context_2.buffer);\n            context_2.subscription.unsubscribe();\n            context_2.buffer = null;\n            context_2.subscription = null;\n        }\n        this.contexts = null;\n        _super.prototype._complete.call(this);\n    };\n    BufferToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue) {\n        outerValue ? this.closeBuffer(outerValue) : this.openBuffer(innerValue);\n    };\n    BufferToggleSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.closeBuffer(innerSub.context);\n    };\n    BufferToggleSubscriber.prototype.openBuffer = function (value) {\n        try {\n            var closingSelector = this.closingSelector;\n            var closingNotifier = closingSelector.call(this, value);\n            if (closingNotifier) {\n                this.trySubscribe(closingNotifier);\n            }\n        }\n        catch (err) {\n            this._error(err);\n        }\n    };\n    BufferToggleSubscriber.prototype.closeBuffer = function (context) {\n        var contexts = this.contexts;\n        if (contexts && context) {\n            var buffer = context.buffer, subscription = context.subscription;\n            this.destination.next(buffer);\n            contexts.splice(contexts.indexOf(context), 1);\n            this.remove(subscription);\n            subscription.unsubscribe();\n        }\n    };\n    BufferToggleSubscriber.prototype.trySubscribe = function (closingNotifier) {\n        var contexts = this.contexts;\n        var buffer = [];\n        var subscription = new Subscription();\n        var context = { buffer: buffer, subscription: subscription };\n        contexts.push(context);\n        var innerSubscription = subscribeToResult(this, closingNotifier, context);\n        if (!innerSubscription || innerSubscription.closed) {\n            this.closeBuffer(context);\n        }\n        else {\n            innerSubscription.context = context;\n            this.add(innerSubscription);\n            subscription.add(innerSubscription);\n        }\n    };\n    return BufferToggleSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=bufferToggle.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function bufferWhen(closingSelector) {\n    return function (source) {\n        return source.lift(new BufferWhenOperator(closingSelector));\n    };\n}\nvar BufferWhenOperator = /*@__PURE__*/ (function () {\n    function BufferWhenOperator(closingSelector) {\n        this.closingSelector = closingSelector;\n    }\n    BufferWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new BufferWhenSubscriber(subscriber, this.closingSelector));\n    };\n    return BufferWhenOperator;\n}());\nvar BufferWhenSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BufferWhenSubscriber, _super);\n    function BufferWhenSubscriber(destination, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.closingSelector = closingSelector;\n        _this.subscribing = false;\n        _this.openBuffer();\n        return _this;\n    }\n    BufferWhenSubscriber.prototype._next = function (value) {\n        this.buffer.push(value);\n    };\n    BufferWhenSubscriber.prototype._complete = function () {\n        var buffer = this.buffer;\n        if (buffer) {\n            this.destination.next(buffer);\n        }\n        _super.prototype._complete.call(this);\n    };\n    BufferWhenSubscriber.prototype._unsubscribe = function () {\n        this.buffer = undefined;\n        this.subscribing = false;\n    };\n    BufferWhenSubscriber.prototype.notifyNext = function () {\n        this.openBuffer();\n    };\n    BufferWhenSubscriber.prototype.notifyComplete = function () {\n        if (this.subscribing) {\n            this.complete();\n        }\n        else {\n            this.openBuffer();\n        }\n    };\n    BufferWhenSubscriber.prototype.openBuffer = function () {\n        var closingSubscription = this.closingSubscription;\n        if (closingSubscription) {\n            this.remove(closingSubscription);\n            closingSubscription.unsubscribe();\n        }\n        var buffer = this.buffer;\n        if (this.buffer) {\n            this.destination.next(buffer);\n        }\n        this.buffer = [];\n        var closingNotifier;\n        try {\n            var closingSelector = this.closingSelector;\n            closingNotifier = closingSelector();\n        }\n        catch (err) {\n            return this.error(err);\n        }\n        closingSubscription = new Subscription();\n        this.closingSubscription = closingSubscription;\n        this.add(closingSubscription);\n        this.subscribing = true;\n        closingSubscription.add(innerSubscribe(closingNotifier, new SimpleInnerSubscriber(this)));\n        this.subscribing = false;\n    };\n    return BufferWhenSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=bufferWhen.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function catchError(selector) {\n    return function catchErrorOperatorFunction(source) {\n        var operator = new CatchOperator(selector);\n        var caught = source.lift(operator);\n        return (operator.caught = caught);\n    };\n}\nvar CatchOperator = /*@__PURE__*/ (function () {\n    function CatchOperator(selector) {\n        this.selector = selector;\n    }\n    CatchOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n    };\n    return CatchOperator;\n}());\nvar CatchSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CatchSubscriber, _super);\n    function CatchSubscriber(destination, selector, caught) {\n        var _this = _super.call(this, destination) || this;\n        _this.selector = selector;\n        _this.caught = caught;\n        return _this;\n    }\n    CatchSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var result = void 0;\n            try {\n                result = this.selector(err, this.caught);\n            }\n            catch (err2) {\n                _super.prototype.error.call(this, err2);\n                return;\n            }\n            this._unsubscribeAndRecycle();\n            var innerSubscriber = new SimpleInnerSubscriber(this);\n            this.add(innerSubscriber);\n            var innerSubscription = innerSubscribe(result, innerSubscriber);\n            if (innerSubscription !== innerSubscriber) {\n                this.add(innerSubscription);\n            }\n        }\n    };\n    return CatchSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=catchError.js.map\n","/** PURE_IMPORTS_START _observable_combineLatest PURE_IMPORTS_END */\nimport { CombineLatestOperator } from '../observable/combineLatest';\nexport function combineAll(project) {\n    return function (source) { return source.lift(new CombineLatestOperator(project)); };\n}\n//# sourceMappingURL=combineAll.js.map\n","/** PURE_IMPORTS_START _util_isArray,_observable_combineLatest,_observable_from PURE_IMPORTS_END */\nimport { isArray } from '../util/isArray';\nimport { CombineLatestOperator } from '../observable/combineLatest';\nimport { from } from '../observable/from';\nvar none = {};\nexport function combineLatest() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    var project = null;\n    if (typeof observables[observables.length - 1] === 'function') {\n        project = observables.pop();\n    }\n    if (observables.length === 1 && isArray(observables[0])) {\n        observables = observables[0].slice();\n    }\n    return function (source) { return source.lift.call(from([source].concat(observables)), new CombineLatestOperator(project)); };\n}\n//# sourceMappingURL=combineLatest.js.map\n","/** PURE_IMPORTS_START _observable_concat PURE_IMPORTS_END */\nimport { concat as concatStatic } from '../observable/concat';\nexport function concat() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return function (source) { return source.lift.call(concatStatic.apply(void 0, [source].concat(observables))); };\n}\n//# sourceMappingURL=concat.js.map\n","/** PURE_IMPORTS_START _mergeAll PURE_IMPORTS_END */\nimport { mergeAll } from './mergeAll';\nexport function concatAll() {\n    return mergeAll(1);\n}\n//# sourceMappingURL=concatAll.js.map\n","/** PURE_IMPORTS_START _mergeMap PURE_IMPORTS_END */\nimport { mergeMap } from './mergeMap';\nexport function concatMap(project, resultSelector) {\n    return mergeMap(project, resultSelector, 1);\n}\n//# sourceMappingURL=concatMap.js.map\n","/** PURE_IMPORTS_START _concatMap PURE_IMPORTS_END */\nimport { concatMap } from './concatMap';\nexport function concatMapTo(innerObservable, resultSelector) {\n    return concatMap(function () { return innerObservable; }, resultSelector);\n}\n//# sourceMappingURL=concatMapTo.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function count(predicate) {\n    return function (source) { return source.lift(new CountOperator(predicate, source)); };\n}\nvar CountOperator = /*@__PURE__*/ (function () {\n    function CountOperator(predicate, source) {\n        this.predicate = predicate;\n        this.source = source;\n    }\n    CountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CountSubscriber(subscriber, this.predicate, this.source));\n    };\n    return CountOperator;\n}());\nvar CountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CountSubscriber, _super);\n    function CountSubscriber(destination, predicate, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.source = source;\n        _this.count = 0;\n        _this.index = 0;\n        return _this;\n    }\n    CountSubscriber.prototype._next = function (value) {\n        if (this.predicate) {\n            this._tryPredicate(value);\n        }\n        else {\n            this.count++;\n        }\n    };\n    CountSubscriber.prototype._tryPredicate = function (value) {\n        var result;\n        try {\n            result = this.predicate(value, this.index++, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.count++;\n        }\n    };\n    CountSubscriber.prototype._complete = function () {\n        this.destination.next(this.count);\n        this.destination.complete();\n    };\n    return CountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=count.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function debounce(durationSelector) {\n    return function (source) { return source.lift(new DebounceOperator(durationSelector)); };\n}\nvar DebounceOperator = /*@__PURE__*/ (function () {\n    function DebounceOperator(durationSelector) {\n        this.durationSelector = durationSelector;\n    }\n    DebounceOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DebounceSubscriber(subscriber, this.durationSelector));\n    };\n    return DebounceOperator;\n}());\nvar DebounceSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DebounceSubscriber, _super);\n    function DebounceSubscriber(destination, durationSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.durationSelector = durationSelector;\n        _this.hasValue = false;\n        return _this;\n    }\n    DebounceSubscriber.prototype._next = function (value) {\n        try {\n            var result = this.durationSelector.call(this, value);\n            if (result) {\n                this._tryNext(value, result);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    DebounceSubscriber.prototype._complete = function () {\n        this.emitValue();\n        this.destination.complete();\n    };\n    DebounceSubscriber.prototype._tryNext = function (value, duration) {\n        var subscription = this.durationSubscription;\n        this.value = value;\n        this.hasValue = true;\n        if (subscription) {\n            subscription.unsubscribe();\n            this.remove(subscription);\n        }\n        subscription = innerSubscribe(duration, new SimpleInnerSubscriber(this));\n        if (subscription && !subscription.closed) {\n            this.add(this.durationSubscription = subscription);\n        }\n    };\n    DebounceSubscriber.prototype.notifyNext = function () {\n        this.emitValue();\n    };\n    DebounceSubscriber.prototype.notifyComplete = function () {\n        this.emitValue();\n    };\n    DebounceSubscriber.prototype.emitValue = function () {\n        if (this.hasValue) {\n            var value = this.value;\n            var subscription = this.durationSubscription;\n            if (subscription) {\n                this.durationSubscription = undefined;\n                subscription.unsubscribe();\n                this.remove(subscription);\n            }\n            this.value = undefined;\n            this.hasValue = false;\n            _super.prototype._next.call(this, value);\n        }\n    };\n    return DebounceSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=debounce.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nexport function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return function (source) { return source.lift(new DebounceTimeOperator(dueTime, scheduler)); };\n}\nvar DebounceTimeOperator = /*@__PURE__*/ (function () {\n    function DebounceTimeOperator(dueTime, scheduler) {\n        this.dueTime = dueTime;\n        this.scheduler = scheduler;\n    }\n    DebounceTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DebounceTimeSubscriber(subscriber, this.dueTime, this.scheduler));\n    };\n    return DebounceTimeOperator;\n}());\nvar DebounceTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DebounceTimeSubscriber, _super);\n    function DebounceTimeSubscriber(destination, dueTime, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.dueTime = dueTime;\n        _this.scheduler = scheduler;\n        _this.debouncedSubscription = null;\n        _this.lastValue = null;\n        _this.hasValue = false;\n        return _this;\n    }\n    DebounceTimeSubscriber.prototype._next = function (value) {\n        this.clearDebounce();\n        this.lastValue = value;\n        this.hasValue = true;\n        this.add(this.debouncedSubscription = this.scheduler.schedule(dispatchNext, this.dueTime, this));\n    };\n    DebounceTimeSubscriber.prototype._complete = function () {\n        this.debouncedNext();\n        this.destination.complete();\n    };\n    DebounceTimeSubscriber.prototype.debouncedNext = function () {\n        this.clearDebounce();\n        if (this.hasValue) {\n            var lastValue = this.lastValue;\n            this.lastValue = null;\n            this.hasValue = false;\n            this.destination.next(lastValue);\n        }\n    };\n    DebounceTimeSubscriber.prototype.clearDebounce = function () {\n        var debouncedSubscription = this.debouncedSubscription;\n        if (debouncedSubscription !== null) {\n            this.remove(debouncedSubscription);\n            debouncedSubscription.unsubscribe();\n            this.debouncedSubscription = null;\n        }\n    };\n    return DebounceTimeSubscriber;\n}(Subscriber));\nfunction dispatchNext(subscriber) {\n    subscriber.debouncedNext();\n}\n//# sourceMappingURL=debounceTime.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function defaultIfEmpty(defaultValue) {\n    if (defaultValue === void 0) {\n        defaultValue = null;\n    }\n    return function (source) { return source.lift(new DefaultIfEmptyOperator(defaultValue)); };\n}\nvar DefaultIfEmptyOperator = /*@__PURE__*/ (function () {\n    function DefaultIfEmptyOperator(defaultValue) {\n        this.defaultValue = defaultValue;\n    }\n    DefaultIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DefaultIfEmptySubscriber(subscriber, this.defaultValue));\n    };\n    return DefaultIfEmptyOperator;\n}());\nvar DefaultIfEmptySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DefaultIfEmptySubscriber, _super);\n    function DefaultIfEmptySubscriber(destination, defaultValue) {\n        var _this = _super.call(this, destination) || this;\n        _this.defaultValue = defaultValue;\n        _this.isEmpty = true;\n        return _this;\n    }\n    DefaultIfEmptySubscriber.prototype._next = function (value) {\n        this.isEmpty = false;\n        this.destination.next(value);\n    };\n    DefaultIfEmptySubscriber.prototype._complete = function () {\n        if (this.isEmpty) {\n            this.destination.next(this.defaultValue);\n        }\n        this.destination.complete();\n    };\n    return DefaultIfEmptySubscriber;\n}(Subscriber));\n//# sourceMappingURL=defaultIfEmpty.js.map\n","/** PURE_IMPORTS_START tslib,_scheduler_async,_util_isDate,_Subscriber,_Notification PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function delay(delay, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    var absoluteDelay = isDate(delay);\n    var delayFor = absoluteDelay ? (+delay - scheduler.now()) : Math.abs(delay);\n    return function (source) { return source.lift(new DelayOperator(delayFor, scheduler)); };\n}\nvar DelayOperator = /*@__PURE__*/ (function () {\n    function DelayOperator(delay, scheduler) {\n        this.delay = delay;\n        this.scheduler = scheduler;\n    }\n    DelayOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DelaySubscriber(subscriber, this.delay, this.scheduler));\n    };\n    return DelayOperator;\n}());\nvar DelaySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DelaySubscriber, _super);\n    function DelaySubscriber(destination, delay, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.delay = delay;\n        _this.scheduler = scheduler;\n        _this.queue = [];\n        _this.active = false;\n        _this.errored = false;\n        return _this;\n    }\n    DelaySubscriber.dispatch = function (state) {\n        var source = state.source;\n        var queue = source.queue;\n        var scheduler = state.scheduler;\n        var destination = state.destination;\n        while (queue.length > 0 && (queue[0].time - scheduler.now()) <= 0) {\n            queue.shift().notification.observe(destination);\n        }\n        if (queue.length > 0) {\n            var delay_1 = Math.max(0, queue[0].time - scheduler.now());\n            this.schedule(state, delay_1);\n        }\n        else {\n            this.unsubscribe();\n            source.active = false;\n        }\n    };\n    DelaySubscriber.prototype._schedule = function (scheduler) {\n        this.active = true;\n        var destination = this.destination;\n        destination.add(scheduler.schedule(DelaySubscriber.dispatch, this.delay, {\n            source: this, destination: this.destination, scheduler: scheduler\n        }));\n    };\n    DelaySubscriber.prototype.scheduleNotification = function (notification) {\n        if (this.errored === true) {\n            return;\n        }\n        var scheduler = this.scheduler;\n        var message = new DelayMessage(scheduler.now() + this.delay, notification);\n        this.queue.push(message);\n        if (this.active === false) {\n            this._schedule(scheduler);\n        }\n    };\n    DelaySubscriber.prototype._next = function (value) {\n        this.scheduleNotification(Notification.createNext(value));\n    };\n    DelaySubscriber.prototype._error = function (err) {\n        this.errored = true;\n        this.queue = [];\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    DelaySubscriber.prototype._complete = function () {\n        this.scheduleNotification(Notification.createComplete());\n        this.unsubscribe();\n    };\n    return DelaySubscriber;\n}(Subscriber));\nvar DelayMessage = /*@__PURE__*/ (function () {\n    function DelayMessage(time, notification) {\n        this.time = time;\n        this.notification = notification;\n    }\n    return DelayMessage;\n}());\n//# sourceMappingURL=delay.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Observable } from '../Observable';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function delayWhen(delayDurationSelector, subscriptionDelay) {\n    if (subscriptionDelay) {\n        return function (source) {\n            return new SubscriptionDelayObservable(source, subscriptionDelay)\n                .lift(new DelayWhenOperator(delayDurationSelector));\n        };\n    }\n    return function (source) { return source.lift(new DelayWhenOperator(delayDurationSelector)); };\n}\nvar DelayWhenOperator = /*@__PURE__*/ (function () {\n    function DelayWhenOperator(delayDurationSelector) {\n        this.delayDurationSelector = delayDurationSelector;\n    }\n    DelayWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DelayWhenSubscriber(subscriber, this.delayDurationSelector));\n    };\n    return DelayWhenOperator;\n}());\nvar DelayWhenSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DelayWhenSubscriber, _super);\n    function DelayWhenSubscriber(destination, delayDurationSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.delayDurationSelector = delayDurationSelector;\n        _this.completed = false;\n        _this.delayNotifierSubscriptions = [];\n        _this.index = 0;\n        return _this;\n    }\n    DelayWhenSubscriber.prototype.notifyNext = function (outerValue, _innerValue, _outerIndex, _innerIndex, innerSub) {\n        this.destination.next(outerValue);\n        this.removeSubscription(innerSub);\n        this.tryComplete();\n    };\n    DelayWhenSubscriber.prototype.notifyError = function (error, innerSub) {\n        this._error(error);\n    };\n    DelayWhenSubscriber.prototype.notifyComplete = function (innerSub) {\n        var value = this.removeSubscription(innerSub);\n        if (value) {\n            this.destination.next(value);\n        }\n        this.tryComplete();\n    };\n    DelayWhenSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        try {\n            var delayNotifier = this.delayDurationSelector(value, index);\n            if (delayNotifier) {\n                this.tryDelay(delayNotifier, value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    DelayWhenSubscriber.prototype._complete = function () {\n        this.completed = true;\n        this.tryComplete();\n        this.unsubscribe();\n    };\n    DelayWhenSubscriber.prototype.removeSubscription = function (subscription) {\n        subscription.unsubscribe();\n        var subscriptionIdx = this.delayNotifierSubscriptions.indexOf(subscription);\n        if (subscriptionIdx !== -1) {\n            this.delayNotifierSubscriptions.splice(subscriptionIdx, 1);\n        }\n        return subscription.outerValue;\n    };\n    DelayWhenSubscriber.prototype.tryDelay = function (delayNotifier, value) {\n        var notifierSubscription = subscribeToResult(this, delayNotifier, value);\n        if (notifierSubscription && !notifierSubscription.closed) {\n            var destination = this.destination;\n            destination.add(notifierSubscription);\n            this.delayNotifierSubscriptions.push(notifierSubscription);\n        }\n    };\n    DelayWhenSubscriber.prototype.tryComplete = function () {\n        if (this.completed && this.delayNotifierSubscriptions.length === 0) {\n            this.destination.complete();\n        }\n    };\n    return DelayWhenSubscriber;\n}(OuterSubscriber));\nvar SubscriptionDelayObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubscriptionDelayObservable, _super);\n    function SubscriptionDelayObservable(source, subscriptionDelay) {\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.subscriptionDelay = subscriptionDelay;\n        return _this;\n    }\n    SubscriptionDelayObservable.prototype._subscribe = function (subscriber) {\n        this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(subscriber, this.source));\n    };\n    return SubscriptionDelayObservable;\n}(Observable));\nvar SubscriptionDelaySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubscriptionDelaySubscriber, _super);\n    function SubscriptionDelaySubscriber(parent, source) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.source = source;\n        _this.sourceSubscribed = false;\n        return _this;\n    }\n    SubscriptionDelaySubscriber.prototype._next = function (unused) {\n        this.subscribeToSource();\n    };\n    SubscriptionDelaySubscriber.prototype._error = function (err) {\n        this.unsubscribe();\n        this.parent.error(err);\n    };\n    SubscriptionDelaySubscriber.prototype._complete = function () {\n        this.unsubscribe();\n        this.subscribeToSource();\n    };\n    SubscriptionDelaySubscriber.prototype.subscribeToSource = function () {\n        if (!this.sourceSubscribed) {\n            this.sourceSubscribed = true;\n            this.unsubscribe();\n            this.source.subscribe(this.parent);\n        }\n    };\n    return SubscriptionDelaySubscriber;\n}(Subscriber));\n//# sourceMappingURL=delayWhen.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function dematerialize() {\n    return function dematerializeOperatorFunction(source) {\n        return source.lift(new DeMaterializeOperator());\n    };\n}\nvar DeMaterializeOperator = /*@__PURE__*/ (function () {\n    function DeMaterializeOperator() {\n    }\n    DeMaterializeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DeMaterializeSubscriber(subscriber));\n    };\n    return DeMaterializeOperator;\n}());\nvar DeMaterializeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DeMaterializeSubscriber, _super);\n    function DeMaterializeSubscriber(destination) {\n        return _super.call(this, destination) || this;\n    }\n    DeMaterializeSubscriber.prototype._next = function (value) {\n        value.observe(this.destination);\n    };\n    return DeMaterializeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=dematerialize.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function distinct(keySelector, flushes) {\n    return function (source) { return source.lift(new DistinctOperator(keySelector, flushes)); };\n}\nvar DistinctOperator = /*@__PURE__*/ (function () {\n    function DistinctOperator(keySelector, flushes) {\n        this.keySelector = keySelector;\n        this.flushes = flushes;\n    }\n    DistinctOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctSubscriber(subscriber, this.keySelector, this.flushes));\n    };\n    return DistinctOperator;\n}());\nvar DistinctSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DistinctSubscriber, _super);\n    function DistinctSubscriber(destination, keySelector, flushes) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.values = new Set();\n        if (flushes) {\n            _this.add(innerSubscribe(flushes, new SimpleInnerSubscriber(_this)));\n        }\n        return _this;\n    }\n    DistinctSubscriber.prototype.notifyNext = function () {\n        this.values.clear();\n    };\n    DistinctSubscriber.prototype.notifyError = function (error) {\n        this._error(error);\n    };\n    DistinctSubscriber.prototype._next = function (value) {\n        if (this.keySelector) {\n            this._useKeySelector(value);\n        }\n        else {\n            this._finalizeNext(value, value);\n        }\n    };\n    DistinctSubscriber.prototype._useKeySelector = function (value) {\n        var key;\n        var destination = this.destination;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        this._finalizeNext(key, value);\n    };\n    DistinctSubscriber.prototype._finalizeNext = function (key, value) {\n        var values = this.values;\n        if (!values.has(key)) {\n            values.add(key);\n            this.destination.next(value);\n        }\n    };\n    return DistinctSubscriber;\n}(SimpleOuterSubscriber));\nexport { DistinctSubscriber };\n//# sourceMappingURL=distinct.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function distinctUntilChanged(compare, keySelector) {\n    return function (source) { return source.lift(new DistinctUntilChangedOperator(compare, keySelector)); };\n}\nvar DistinctUntilChangedOperator = /*@__PURE__*/ (function () {\n    function DistinctUntilChangedOperator(compare, keySelector) {\n        this.compare = compare;\n        this.keySelector = keySelector;\n    }\n    DistinctUntilChangedOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DistinctUntilChangedSubscriber(subscriber, this.compare, this.keySelector));\n    };\n    return DistinctUntilChangedOperator;\n}());\nvar DistinctUntilChangedSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(DistinctUntilChangedSubscriber, _super);\n    function DistinctUntilChangedSubscriber(destination, compare, keySelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.hasKey = false;\n        if (typeof compare === 'function') {\n            _this.compare = compare;\n        }\n        return _this;\n    }\n    DistinctUntilChangedSubscriber.prototype.compare = function (x, y) {\n        return x === y;\n    };\n    DistinctUntilChangedSubscriber.prototype._next = function (value) {\n        var key;\n        try {\n            var keySelector = this.keySelector;\n            key = keySelector ? keySelector(value) : value;\n        }\n        catch (err) {\n            return this.destination.error(err);\n        }\n        var result = false;\n        if (this.hasKey) {\n            try {\n                var compare = this.compare;\n                result = compare(this.key, key);\n            }\n            catch (err) {\n                return this.destination.error(err);\n            }\n        }\n        else {\n            this.hasKey = true;\n        }\n        if (!result) {\n            this.key = key;\n            this.destination.next(value);\n        }\n    };\n    return DistinctUntilChangedSubscriber;\n}(Subscriber));\n//# sourceMappingURL=distinctUntilChanged.js.map\n","/** PURE_IMPORTS_START _distinctUntilChanged PURE_IMPORTS_END */\nimport { distinctUntilChanged } from './distinctUntilChanged';\nexport function distinctUntilKeyChanged(key, compare) {\n    return distinctUntilChanged(function (x, y) { return compare ? compare(x[key], y[key]) : x[key] === y[key]; });\n}\n//# sourceMappingURL=distinctUntilKeyChanged.js.map\n","/** PURE_IMPORTS_START _util_ArgumentOutOfRangeError,_filter,_throwIfEmpty,_defaultIfEmpty,_take PURE_IMPORTS_END */\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { filter } from './filter';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { take } from './take';\nexport function elementAt(index, defaultValue) {\n    if (index < 0) {\n        throw new ArgumentOutOfRangeError();\n    }\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) {\n        return source.pipe(filter(function (v, i) { return i === index; }), take(1), hasDefaultValue\n            ? defaultIfEmpty(defaultValue)\n            : throwIfEmpty(function () { return new ArgumentOutOfRangeError(); }));\n    };\n}\n//# sourceMappingURL=elementAt.js.map\n","/** PURE_IMPORTS_START _observable_concat,_observable_of PURE_IMPORTS_END */\nimport { concat } from '../observable/concat';\nimport { of } from '../observable/of';\nexport function endWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i] = arguments[_i];\n    }\n    return function (source) { return concat(source, of.apply(void 0, array)); };\n}\n//# sourceMappingURL=endWith.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function every(predicate, thisArg) {\n    return function (source) { return source.lift(new EveryOperator(predicate, thisArg, source)); };\n}\nvar EveryOperator = /*@__PURE__*/ (function () {\n    function EveryOperator(predicate, thisArg, source) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n        this.source = source;\n    }\n    EveryOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new EverySubscriber(observer, this.predicate, this.thisArg, this.source));\n    };\n    return EveryOperator;\n}());\nvar EverySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(EverySubscriber, _super);\n    function EverySubscriber(destination, predicate, thisArg, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.source = source;\n        _this.index = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    EverySubscriber.prototype.notifyComplete = function (everyValueMatch) {\n        this.destination.next(everyValueMatch);\n        this.destination.complete();\n    };\n    EverySubscriber.prototype._next = function (value) {\n        var result = false;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.index++, this.source);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (!result) {\n            this.notifyComplete(false);\n        }\n    };\n    EverySubscriber.prototype._complete = function () {\n        this.notifyComplete(true);\n    };\n    return EverySubscriber;\n}(Subscriber));\n//# sourceMappingURL=every.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function exhaust() {\n    return function (source) { return source.lift(new SwitchFirstOperator()); };\n}\nvar SwitchFirstOperator = /*@__PURE__*/ (function () {\n    function SwitchFirstOperator() {\n    }\n    SwitchFirstOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchFirstSubscriber(subscriber));\n    };\n    return SwitchFirstOperator;\n}());\nvar SwitchFirstSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SwitchFirstSubscriber, _super);\n    function SwitchFirstSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasCompleted = false;\n        _this.hasSubscription = false;\n        return _this;\n    }\n    SwitchFirstSubscriber.prototype._next = function (value) {\n        if (!this.hasSubscription) {\n            this.hasSubscription = true;\n            this.add(innerSubscribe(value, new SimpleInnerSubscriber(this)));\n        }\n    };\n    SwitchFirstSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (!this.hasSubscription) {\n            this.destination.complete();\n        }\n    };\n    SwitchFirstSubscriber.prototype.notifyComplete = function () {\n        this.hasSubscription = false;\n        if (this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return SwitchFirstSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=exhaust.js.map\n","/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function exhaustMap(project, resultSelector) {\n    if (resultSelector) {\n        return function (source) { return source.pipe(exhaustMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); })); };\n    }\n    return function (source) {\n        return source.lift(new ExhaustMapOperator(project));\n    };\n}\nvar ExhaustMapOperator = /*@__PURE__*/ (function () {\n    function ExhaustMapOperator(project) {\n        this.project = project;\n    }\n    ExhaustMapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ExhaustMapSubscriber(subscriber, this.project));\n    };\n    return ExhaustMapOperator;\n}());\nvar ExhaustMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ExhaustMapSubscriber, _super);\n    function ExhaustMapSubscriber(destination, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.hasSubscription = false;\n        _this.hasCompleted = false;\n        _this.index = 0;\n        return _this;\n    }\n    ExhaustMapSubscriber.prototype._next = function (value) {\n        if (!this.hasSubscription) {\n            this.tryNext(value);\n        }\n    };\n    ExhaustMapSubscriber.prototype.tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.hasSubscription = true;\n        this._innerSub(result);\n    };\n    ExhaustMapSubscriber.prototype._innerSub = function (result) {\n        var innerSubscriber = new SimpleInnerSubscriber(this);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = innerSubscribe(result, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    ExhaustMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (!this.hasSubscription) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    ExhaustMapSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    ExhaustMapSubscriber.prototype.notifyError = function (err) {\n        this.destination.error(err);\n    };\n    ExhaustMapSubscriber.prototype.notifyComplete = function () {\n        this.hasSubscription = false;\n        if (this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return ExhaustMapSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=exhaustMap.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function expand(project, concurrent, scheduler) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    concurrent = (concurrent || 0) < 1 ? Number.POSITIVE_INFINITY : concurrent;\n    return function (source) { return source.lift(new ExpandOperator(project, concurrent, scheduler)); };\n}\nvar ExpandOperator = /*@__PURE__*/ (function () {\n    function ExpandOperator(project, concurrent, scheduler) {\n        this.project = project;\n        this.concurrent = concurrent;\n        this.scheduler = scheduler;\n    }\n    ExpandOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ExpandSubscriber(subscriber, this.project, this.concurrent, this.scheduler));\n    };\n    return ExpandOperator;\n}());\nexport { ExpandOperator };\nvar ExpandSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ExpandSubscriber, _super);\n    function ExpandSubscriber(destination, project, concurrent, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.scheduler = scheduler;\n        _this.index = 0;\n        _this.active = 0;\n        _this.hasCompleted = false;\n        if (concurrent < Number.POSITIVE_INFINITY) {\n            _this.buffer = [];\n        }\n        return _this;\n    }\n    ExpandSubscriber.dispatch = function (arg) {\n        var subscriber = arg.subscriber, result = arg.result, value = arg.value, index = arg.index;\n        subscriber.subscribeToProjection(result, value, index);\n    };\n    ExpandSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        if (destination.closed) {\n            this._complete();\n            return;\n        }\n        var index = this.index++;\n        if (this.active < this.concurrent) {\n            destination.next(value);\n            try {\n                var project = this.project;\n                var result = project(value, index);\n                if (!this.scheduler) {\n                    this.subscribeToProjection(result, value, index);\n                }\n                else {\n                    var state = { subscriber: this, result: result, value: value, index: index };\n                    var destination_1 = this.destination;\n                    destination_1.add(this.scheduler.schedule(ExpandSubscriber.dispatch, 0, state));\n                }\n            }\n            catch (e) {\n                destination.error(e);\n            }\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    ExpandSubscriber.prototype.subscribeToProjection = function (result, value, index) {\n        this.active++;\n        var destination = this.destination;\n        destination.add(innerSubscribe(result, new SimpleInnerSubscriber(this)));\n    };\n    ExpandSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.hasCompleted && this.active === 0) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    ExpandSubscriber.prototype.notifyNext = function (innerValue) {\n        this._next(innerValue);\n    };\n    ExpandSubscriber.prototype.notifyComplete = function () {\n        var buffer = this.buffer;\n        this.active--;\n        if (buffer && buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        if (this.hasCompleted && this.active === 0) {\n            this.destination.complete();\n        }\n    };\n    return ExpandSubscriber;\n}(SimpleOuterSubscriber));\nexport { ExpandSubscriber };\n//# sourceMappingURL=expand.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function filter(predicate, thisArg) {\n    return function filterOperatorFunction(source) {\n        return source.lift(new FilterOperator(predicate, thisArg));\n    };\n}\nvar FilterOperator = /*@__PURE__*/ (function () {\n    function FilterOperator(predicate, thisArg) {\n        this.predicate = predicate;\n        this.thisArg = thisArg;\n    }\n    FilterOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FilterSubscriber(subscriber, this.predicate, this.thisArg));\n    };\n    return FilterOperator;\n}());\nvar FilterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FilterSubscriber, _super);\n    function FilterSubscriber(destination, predicate, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.thisArg = thisArg;\n        _this.count = 0;\n        return _this;\n    }\n    FilterSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.predicate.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        if (result) {\n            this.destination.next(value);\n        }\n    };\n    return FilterSubscriber;\n}(Subscriber));\n//# sourceMappingURL=filter.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nexport function finalize(callback) {\n    return function (source) { return source.lift(new FinallyOperator(callback)); };\n}\nvar FinallyOperator = /*@__PURE__*/ (function () {\n    function FinallyOperator(callback) {\n        this.callback = callback;\n    }\n    FinallyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new FinallySubscriber(subscriber, this.callback));\n    };\n    return FinallyOperator;\n}());\nvar FinallySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FinallySubscriber, _super);\n    function FinallySubscriber(destination, callback) {\n        var _this = _super.call(this, destination) || this;\n        _this.add(new Subscription(callback));\n        return _this;\n    }\n    return FinallySubscriber;\n}(Subscriber));\n//# sourceMappingURL=finalize.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function find(predicate, thisArg) {\n    if (typeof predicate !== 'function') {\n        throw new TypeError('predicate is not a function');\n    }\n    return function (source) { return source.lift(new FindValueOperator(predicate, source, false, thisArg)); };\n}\nvar FindValueOperator = /*@__PURE__*/ (function () {\n    function FindValueOperator(predicate, source, yieldIndex, thisArg) {\n        this.predicate = predicate;\n        this.source = source;\n        this.yieldIndex = yieldIndex;\n        this.thisArg = thisArg;\n    }\n    FindValueOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new FindValueSubscriber(observer, this.predicate, this.source, this.yieldIndex, this.thisArg));\n    };\n    return FindValueOperator;\n}());\nexport { FindValueOperator };\nvar FindValueSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(FindValueSubscriber, _super);\n    function FindValueSubscriber(destination, predicate, source, yieldIndex, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.source = source;\n        _this.yieldIndex = yieldIndex;\n        _this.thisArg = thisArg;\n        _this.index = 0;\n        return _this;\n    }\n    FindValueSubscriber.prototype.notifyComplete = function (value) {\n        var destination = this.destination;\n        destination.next(value);\n        destination.complete();\n        this.unsubscribe();\n    };\n    FindValueSubscriber.prototype._next = function (value) {\n        var _a = this, predicate = _a.predicate, thisArg = _a.thisArg;\n        var index = this.index++;\n        try {\n            var result = predicate.call(thisArg || this, value, index, this.source);\n            if (result) {\n                this.notifyComplete(this.yieldIndex ? index : value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    FindValueSubscriber.prototype._complete = function () {\n        this.notifyComplete(this.yieldIndex ? -1 : undefined);\n    };\n    return FindValueSubscriber;\n}(Subscriber));\nexport { FindValueSubscriber };\n//# sourceMappingURL=find.js.map\n","/** PURE_IMPORTS_START _operators_find PURE_IMPORTS_END */\nimport { FindValueOperator } from '../operators/find';\nexport function findIndex(predicate, thisArg) {\n    return function (source) { return source.lift(new FindValueOperator(predicate, source, true, thisArg)); };\n}\n//# sourceMappingURL=findIndex.js.map\n","/** PURE_IMPORTS_START _util_EmptyError,_filter,_take,_defaultIfEmpty,_throwIfEmpty,_util_identity PURE_IMPORTS_END */\nimport { EmptyError } from '../util/EmptyError';\nimport { filter } from './filter';\nimport { take } from './take';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { identity } from '../util/identity';\nexport function first(predicate, defaultValue) {\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) { return source.pipe(predicate ? filter(function (v, i) { return predicate(v, i, source); }) : identity, take(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function () { return new EmptyError(); })); };\n}\n//# sourceMappingURL=first.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Subscription,_Observable,_Subject PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { Observable } from '../Observable';\nimport { Subject } from '../Subject';\nexport function groupBy(keySelector, elementSelector, durationSelector, subjectSelector) {\n    return function (source) {\n        return source.lift(new GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector));\n    };\n}\nvar GroupByOperator = /*@__PURE__*/ (function () {\n    function GroupByOperator(keySelector, elementSelector, durationSelector, subjectSelector) {\n        this.keySelector = keySelector;\n        this.elementSelector = elementSelector;\n        this.durationSelector = durationSelector;\n        this.subjectSelector = subjectSelector;\n    }\n    GroupByOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new GroupBySubscriber(subscriber, this.keySelector, this.elementSelector, this.durationSelector, this.subjectSelector));\n    };\n    return GroupByOperator;\n}());\nvar GroupBySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(GroupBySubscriber, _super);\n    function GroupBySubscriber(destination, keySelector, elementSelector, durationSelector, subjectSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.keySelector = keySelector;\n        _this.elementSelector = elementSelector;\n        _this.durationSelector = durationSelector;\n        _this.subjectSelector = subjectSelector;\n        _this.groups = null;\n        _this.attemptedToUnsubscribe = false;\n        _this.count = 0;\n        return _this;\n    }\n    GroupBySubscriber.prototype._next = function (value) {\n        var key;\n        try {\n            key = this.keySelector(value);\n        }\n        catch (err) {\n            this.error(err);\n            return;\n        }\n        this._group(value, key);\n    };\n    GroupBySubscriber.prototype._group = function (value, key) {\n        var groups = this.groups;\n        if (!groups) {\n            groups = this.groups = new Map();\n        }\n        var group = groups.get(key);\n        var element;\n        if (this.elementSelector) {\n            try {\n                element = this.elementSelector(value);\n            }\n            catch (err) {\n                this.error(err);\n            }\n        }\n        else {\n            element = value;\n        }\n        if (!group) {\n            group = (this.subjectSelector ? this.subjectSelector() : new Subject());\n            groups.set(key, group);\n            var groupedObservable = new GroupedObservable(key, group, this);\n            this.destination.next(groupedObservable);\n            if (this.durationSelector) {\n                var duration = void 0;\n                try {\n                    duration = this.durationSelector(new GroupedObservable(key, group));\n                }\n                catch (err) {\n                    this.error(err);\n                    return;\n                }\n                this.add(duration.subscribe(new GroupDurationSubscriber(key, group, this)));\n            }\n        }\n        if (!group.closed) {\n            group.next(element);\n        }\n    };\n    GroupBySubscriber.prototype._error = function (err) {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.error(err);\n            });\n            groups.clear();\n        }\n        this.destination.error(err);\n    };\n    GroupBySubscriber.prototype._complete = function () {\n        var groups = this.groups;\n        if (groups) {\n            groups.forEach(function (group, key) {\n                group.complete();\n            });\n            groups.clear();\n        }\n        this.destination.complete();\n    };\n    GroupBySubscriber.prototype.removeGroup = function (key) {\n        this.groups.delete(key);\n    };\n    GroupBySubscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.attemptedToUnsubscribe = true;\n            if (this.count === 0) {\n                _super.prototype.unsubscribe.call(this);\n            }\n        }\n    };\n    return GroupBySubscriber;\n}(Subscriber));\nvar GroupDurationSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(GroupDurationSubscriber, _super);\n    function GroupDurationSubscriber(key, group, parent) {\n        var _this = _super.call(this, group) || this;\n        _this.key = key;\n        _this.group = group;\n        _this.parent = parent;\n        return _this;\n    }\n    GroupDurationSubscriber.prototype._next = function (value) {\n        this.complete();\n    };\n    GroupDurationSubscriber.prototype._unsubscribe = function () {\n        var _a = this, parent = _a.parent, key = _a.key;\n        this.key = this.parent = null;\n        if (parent) {\n            parent.removeGroup(key);\n        }\n    };\n    return GroupDurationSubscriber;\n}(Subscriber));\nvar GroupedObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(GroupedObservable, _super);\n    function GroupedObservable(key, groupSubject, refCountSubscription) {\n        var _this = _super.call(this) || this;\n        _this.key = key;\n        _this.groupSubject = groupSubject;\n        _this.refCountSubscription = refCountSubscription;\n        return _this;\n    }\n    GroupedObservable.prototype._subscribe = function (subscriber) {\n        var subscription = new Subscription();\n        var _a = this, refCountSubscription = _a.refCountSubscription, groupSubject = _a.groupSubject;\n        if (refCountSubscription && !refCountSubscription.closed) {\n            subscription.add(new InnerRefCountSubscription(refCountSubscription));\n        }\n        subscription.add(groupSubject.subscribe(subscriber));\n        return subscription;\n    };\n    return GroupedObservable;\n}(Observable));\nexport { GroupedObservable };\nvar InnerRefCountSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(InnerRefCountSubscription, _super);\n    function InnerRefCountSubscription(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        parent.count++;\n        return _this;\n    }\n    InnerRefCountSubscription.prototype.unsubscribe = function () {\n        var parent = this.parent;\n        if (!parent.closed && !this.closed) {\n            _super.prototype.unsubscribe.call(this);\n            parent.count -= 1;\n            if (parent.count === 0 && parent.attemptedToUnsubscribe) {\n                parent.unsubscribe();\n            }\n        }\n    };\n    return InnerRefCountSubscription;\n}(Subscription));\n//# sourceMappingURL=groupBy.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function ignoreElements() {\n    return function ignoreElementsOperatorFunction(source) {\n        return source.lift(new IgnoreElementsOperator());\n    };\n}\nvar IgnoreElementsOperator = /*@__PURE__*/ (function () {\n    function IgnoreElementsOperator() {\n    }\n    IgnoreElementsOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new IgnoreElementsSubscriber(subscriber));\n    };\n    return IgnoreElementsOperator;\n}());\nvar IgnoreElementsSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(IgnoreElementsSubscriber, _super);\n    function IgnoreElementsSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    IgnoreElementsSubscriber.prototype._next = function (unused) {\n    };\n    return IgnoreElementsSubscriber;\n}(Subscriber));\n//# sourceMappingURL=ignoreElements.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function isEmpty() {\n    return function (source) { return source.lift(new IsEmptyOperator()); };\n}\nvar IsEmptyOperator = /*@__PURE__*/ (function () {\n    function IsEmptyOperator() {\n    }\n    IsEmptyOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new IsEmptySubscriber(observer));\n    };\n    return IsEmptyOperator;\n}());\nvar IsEmptySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(IsEmptySubscriber, _super);\n    function IsEmptySubscriber(destination) {\n        return _super.call(this, destination) || this;\n    }\n    IsEmptySubscriber.prototype.notifyComplete = function (isEmpty) {\n        var destination = this.destination;\n        destination.next(isEmpty);\n        destination.complete();\n    };\n    IsEmptySubscriber.prototype._next = function (value) {\n        this.notifyComplete(false);\n    };\n    IsEmptySubscriber.prototype._complete = function () {\n        this.notifyComplete(true);\n    };\n    return IsEmptySubscriber;\n}(Subscriber));\n//# sourceMappingURL=isEmpty.js.map\n","/** PURE_IMPORTS_START _util_EmptyError,_filter,_takeLast,_throwIfEmpty,_defaultIfEmpty,_util_identity PURE_IMPORTS_END */\nimport { EmptyError } from '../util/EmptyError';\nimport { filter } from './filter';\nimport { takeLast } from './takeLast';\nimport { throwIfEmpty } from './throwIfEmpty';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { identity } from '../util/identity';\nexport function last(predicate, defaultValue) {\n    var hasDefaultValue = arguments.length >= 2;\n    return function (source) { return source.pipe(predicate ? filter(function (v, i) { return predicate(v, i, source); }) : identity, takeLast(1), hasDefaultValue ? defaultIfEmpty(defaultValue) : throwIfEmpty(function () { return new EmptyError(); })); };\n}\n//# sourceMappingURL=last.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nvar MapOperator = /*@__PURE__*/ (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexport { MapOperator };\nvar MapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=map.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function mapTo(value) {\n    return function (source) { return source.lift(new MapToOperator(value)); };\n}\nvar MapToOperator = /*@__PURE__*/ (function () {\n    function MapToOperator(value) {\n        this.value = value;\n    }\n    MapToOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapToSubscriber(subscriber, this.value));\n    };\n    return MapToOperator;\n}());\nvar MapToSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MapToSubscriber, _super);\n    function MapToSubscriber(destination, value) {\n        var _this = _super.call(this, destination) || this;\n        _this.value = value;\n        return _this;\n    }\n    MapToSubscriber.prototype._next = function (x) {\n        this.destination.next(this.value);\n    };\n    return MapToSubscriber;\n}(Subscriber));\n//# sourceMappingURL=mapTo.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function materialize() {\n    return function materializeOperatorFunction(source) {\n        return source.lift(new MaterializeOperator());\n    };\n}\nvar MaterializeOperator = /*@__PURE__*/ (function () {\n    function MaterializeOperator() {\n    }\n    MaterializeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MaterializeSubscriber(subscriber));\n    };\n    return MaterializeOperator;\n}());\nvar MaterializeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MaterializeSubscriber, _super);\n    function MaterializeSubscriber(destination) {\n        return _super.call(this, destination) || this;\n    }\n    MaterializeSubscriber.prototype._next = function (value) {\n        this.destination.next(Notification.createNext(value));\n    };\n    MaterializeSubscriber.prototype._error = function (err) {\n        var destination = this.destination;\n        destination.next(Notification.createError(err));\n        destination.complete();\n    };\n    MaterializeSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        destination.next(Notification.createComplete());\n        destination.complete();\n    };\n    return MaterializeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=materialize.js.map\n","/** PURE_IMPORTS_START _reduce PURE_IMPORTS_END */\nimport { reduce } from './reduce';\nexport function max(comparer) {\n    var max = (typeof comparer === 'function')\n        ? function (x, y) { return comparer(x, y) > 0 ? x : y; }\n        : function (x, y) { return x > y ? x : y; };\n    return reduce(max);\n}\n//# sourceMappingURL=max.js.map\n","/** PURE_IMPORTS_START _observable_merge PURE_IMPORTS_END */\nimport { merge as mergeStatic } from '../observable/merge';\nexport function merge() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return function (source) { return source.lift.call(mergeStatic.apply(void 0, [source].concat(observables))); };\n}\n//# sourceMappingURL=merge.js.map\n","/** PURE_IMPORTS_START _mergeMap,_util_identity PURE_IMPORTS_END */\nimport { mergeMap } from './mergeMap';\nimport { identity } from '../util/identity';\nexport function mergeAll(concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    return mergeMap(identity, concurrent);\n}\n//# sourceMappingURL=mergeAll.js.map\n","/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(mergeMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); }, concurrent)); };\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return function (source) { return source.lift(new MergeMapOperator(project, concurrent)); };\n}\nvar MergeMapOperator = /*@__PURE__*/ (function () {\n    function MergeMapOperator(project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        this.project = project;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexport { MergeMapOperator };\nvar MergeMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish) {\n        var innerSubscriber = new SimpleInnerSubscriber(this);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = innerSubscribe(ish, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function () {\n        var buffer = this.buffer;\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(SimpleOuterSubscriber));\nexport { MergeMapSubscriber };\nexport var flatMap = mergeMap;\n//# sourceMappingURL=mergeMap.js.map\n","/** PURE_IMPORTS_START _mergeMap PURE_IMPORTS_END */\nimport { mergeMap } from './mergeMap';\nexport function mergeMapTo(innerObservable, resultSelector, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    if (typeof resultSelector === 'function') {\n        return mergeMap(function () { return innerObservable; }, resultSelector, concurrent);\n    }\n    if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return mergeMap(function () { return innerObservable; }, concurrent);\n}\n//# sourceMappingURL=mergeMapTo.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function mergeScan(accumulator, seed, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    return function (source) { return source.lift(new MergeScanOperator(accumulator, seed, concurrent)); };\n}\nvar MergeScanOperator = /*@__PURE__*/ (function () {\n    function MergeScanOperator(accumulator, seed, concurrent) {\n        this.accumulator = accumulator;\n        this.seed = seed;\n        this.concurrent = concurrent;\n    }\n    MergeScanOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MergeScanSubscriber(subscriber, this.accumulator, this.seed, this.concurrent));\n    };\n    return MergeScanOperator;\n}());\nexport { MergeScanOperator };\nvar MergeScanSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MergeScanSubscriber, _super);\n    function MergeScanSubscriber(destination, accumulator, acc, concurrent) {\n        var _this = _super.call(this, destination) || this;\n        _this.accumulator = accumulator;\n        _this.acc = acc;\n        _this.concurrent = concurrent;\n        _this.hasValue = false;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeScanSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            var index = this.index++;\n            var destination = this.destination;\n            var ish = void 0;\n            try {\n                var accumulator = this.accumulator;\n                ish = accumulator(this.acc, value, index);\n            }\n            catch (e) {\n                return destination.error(e);\n            }\n            this.active++;\n            this._innerSub(ish);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeScanSubscriber.prototype._innerSub = function (ish) {\n        var innerSubscriber = new SimpleInnerSubscriber(this);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = innerSubscribe(ish, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    MergeScanSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            if (this.hasValue === false) {\n                this.destination.next(this.acc);\n            }\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    MergeScanSubscriber.prototype.notifyNext = function (innerValue) {\n        var destination = this.destination;\n        this.acc = innerValue;\n        this.hasValue = true;\n        destination.next(innerValue);\n    };\n    MergeScanSubscriber.prototype.notifyComplete = function () {\n        var buffer = this.buffer;\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            if (this.hasValue === false) {\n                this.destination.next(this.acc);\n            }\n            this.destination.complete();\n        }\n    };\n    return MergeScanSubscriber;\n}(SimpleOuterSubscriber));\nexport { MergeScanSubscriber };\n//# sourceMappingURL=mergeScan.js.map\n","/** PURE_IMPORTS_START _reduce PURE_IMPORTS_END */\nimport { reduce } from './reduce';\nexport function min(comparer) {\n    var min = (typeof comparer === 'function')\n        ? function (x, y) { return comparer(x, y) < 0 ? x : y; }\n        : function (x, y) { return x < y ? x : y; };\n    return reduce(min);\n}\n//# sourceMappingURL=min.js.map\n","/** PURE_IMPORTS_START _observable_ConnectableObservable PURE_IMPORTS_END */\nimport { connectableObservableDescriptor } from '../observable/ConnectableObservable';\nexport function multicast(subjectOrSubjectFactory, selector) {\n    return function multicastOperatorFunction(source) {\n        var subjectFactory;\n        if (typeof subjectOrSubjectFactory === 'function') {\n            subjectFactory = subjectOrSubjectFactory;\n        }\n        else {\n            subjectFactory = function subjectFactory() {\n                return subjectOrSubjectFactory;\n            };\n        }\n        if (typeof selector === 'function') {\n            return source.lift(new MulticastOperator(subjectFactory, selector));\n        }\n        var connectable = Object.create(source, connectableObservableDescriptor);\n        connectable.source = source;\n        connectable.subjectFactory = subjectFactory;\n        return connectable;\n    };\n}\nvar MulticastOperator = /*@__PURE__*/ (function () {\n    function MulticastOperator(subjectFactory, selector) {\n        this.subjectFactory = subjectFactory;\n        this.selector = selector;\n    }\n    MulticastOperator.prototype.call = function (subscriber, source) {\n        var selector = this.selector;\n        var subject = this.subjectFactory();\n        var subscription = selector(subject).subscribe(subscriber);\n        subscription.add(source.subscribe(subject));\n        return subscription;\n    };\n    return MulticastOperator;\n}());\nexport { MulticastOperator };\n//# sourceMappingURL=multicast.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Notification PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Notification } from '../Notification';\nexport function observeOn(scheduler, delay) {\n    if (delay === void 0) {\n        delay = 0;\n    }\n    return function observeOnOperatorFunction(source) {\n        return source.lift(new ObserveOnOperator(scheduler, delay));\n    };\n}\nvar ObserveOnOperator = /*@__PURE__*/ (function () {\n    function ObserveOnOperator(scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    ObserveOnOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ObserveOnSubscriber(subscriber, this.scheduler, this.delay));\n    };\n    return ObserveOnOperator;\n}());\nexport { ObserveOnOperator };\nvar ObserveOnSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ObserveOnSubscriber, _super);\n    function ObserveOnSubscriber(destination, scheduler, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.scheduler = scheduler;\n        _this.delay = delay;\n        return _this;\n    }\n    ObserveOnSubscriber.dispatch = function (arg) {\n        var notification = arg.notification, destination = arg.destination;\n        notification.observe(destination);\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype.scheduleMessage = function (notification) {\n        var destination = this.destination;\n        destination.add(this.scheduler.schedule(ObserveOnSubscriber.dispatch, this.delay, new ObserveOnMessage(notification, this.destination)));\n    };\n    ObserveOnSubscriber.prototype._next = function (value) {\n        this.scheduleMessage(Notification.createNext(value));\n    };\n    ObserveOnSubscriber.prototype._error = function (err) {\n        this.scheduleMessage(Notification.createError(err));\n        this.unsubscribe();\n    };\n    ObserveOnSubscriber.prototype._complete = function () {\n        this.scheduleMessage(Notification.createComplete());\n        this.unsubscribe();\n    };\n    return ObserveOnSubscriber;\n}(Subscriber));\nexport { ObserveOnSubscriber };\nvar ObserveOnMessage = /*@__PURE__*/ (function () {\n    function ObserveOnMessage(notification, destination) {\n        this.notification = notification;\n        this.destination = destination;\n    }\n    return ObserveOnMessage;\n}());\nexport { ObserveOnMessage };\n//# sourceMappingURL=observeOn.js.map\n","/** PURE_IMPORTS_START tslib,_observable_from,_util_isArray,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { from } from '../observable/from';\nimport { isArray } from '../util/isArray';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function onErrorResumeNext() {\n    var nextSources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        nextSources[_i] = arguments[_i];\n    }\n    if (nextSources.length === 1 && isArray(nextSources[0])) {\n        nextSources = nextSources[0];\n    }\n    return function (source) { return source.lift(new OnErrorResumeNextOperator(nextSources)); };\n}\nexport function onErrorResumeNextStatic() {\n    var nextSources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        nextSources[_i] = arguments[_i];\n    }\n    var source = undefined;\n    if (nextSources.length === 1 && isArray(nextSources[0])) {\n        nextSources = nextSources[0];\n    }\n    source = nextSources.shift();\n    return from(source).lift(new OnErrorResumeNextOperator(nextSources));\n}\nvar OnErrorResumeNextOperator = /*@__PURE__*/ (function () {\n    function OnErrorResumeNextOperator(nextSources) {\n        this.nextSources = nextSources;\n    }\n    OnErrorResumeNextOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new OnErrorResumeNextSubscriber(subscriber, this.nextSources));\n    };\n    return OnErrorResumeNextOperator;\n}());\nvar OnErrorResumeNextSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(OnErrorResumeNextSubscriber, _super);\n    function OnErrorResumeNextSubscriber(destination, nextSources) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.nextSources = nextSources;\n        return _this;\n    }\n    OnErrorResumeNextSubscriber.prototype.notifyError = function () {\n        this.subscribeToNextSource();\n    };\n    OnErrorResumeNextSubscriber.prototype.notifyComplete = function () {\n        this.subscribeToNextSource();\n    };\n    OnErrorResumeNextSubscriber.prototype._error = function (err) {\n        this.subscribeToNextSource();\n        this.unsubscribe();\n    };\n    OnErrorResumeNextSubscriber.prototype._complete = function () {\n        this.subscribeToNextSource();\n        this.unsubscribe();\n    };\n    OnErrorResumeNextSubscriber.prototype.subscribeToNextSource = function () {\n        var next = this.nextSources.shift();\n        if (!!next) {\n            var innerSubscriber = new SimpleInnerSubscriber(this);\n            var destination = this.destination;\n            destination.add(innerSubscriber);\n            var innerSubscription = innerSubscribe(next, innerSubscriber);\n            if (innerSubscription !== innerSubscriber) {\n                destination.add(innerSubscription);\n            }\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    return OnErrorResumeNextSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=onErrorResumeNext.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function pairwise() {\n    return function (source) { return source.lift(new PairwiseOperator()); };\n}\nvar PairwiseOperator = /*@__PURE__*/ (function () {\n    function PairwiseOperator() {\n    }\n    PairwiseOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new PairwiseSubscriber(subscriber));\n    };\n    return PairwiseOperator;\n}());\nvar PairwiseSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(PairwiseSubscriber, _super);\n    function PairwiseSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasPrev = false;\n        return _this;\n    }\n    PairwiseSubscriber.prototype._next = function (value) {\n        var pair;\n        if (this.hasPrev) {\n            pair = [this.prev, value];\n        }\n        else {\n            this.hasPrev = true;\n        }\n        this.prev = value;\n        if (pair) {\n            this.destination.next(pair);\n        }\n    };\n    return PairwiseSubscriber;\n}(Subscriber));\n//# sourceMappingURL=pairwise.js.map\n","/** PURE_IMPORTS_START _util_not,_filter PURE_IMPORTS_END */\nimport { not } from '../util/not';\nimport { filter } from './filter';\nexport function partition(predicate, thisArg) {\n    return function (source) {\n        return [\n            filter(predicate, thisArg)(source),\n            filter(not(predicate, thisArg))(source)\n        ];\n    };\n}\n//# sourceMappingURL=partition.js.map\n","/** PURE_IMPORTS_START _map PURE_IMPORTS_END */\nimport { map } from './map';\nexport function pluck() {\n    var properties = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        properties[_i] = arguments[_i];\n    }\n    var length = properties.length;\n    if (length === 0) {\n        throw new Error('list of properties cannot be empty.');\n    }\n    return function (source) { return map(plucker(properties, length))(source); };\n}\nfunction plucker(props, length) {\n    var mapper = function (x) {\n        var currentProp = x;\n        for (var i = 0; i < length; i++) {\n            var p = currentProp != null ? currentProp[props[i]] : undefined;\n            if (p !== void 0) {\n                currentProp = p;\n            }\n            else {\n                return undefined;\n            }\n        }\n        return currentProp;\n    };\n    return mapper;\n}\n//# sourceMappingURL=pluck.js.map\n","/** PURE_IMPORTS_START _Subject,_multicast PURE_IMPORTS_END */\nimport { Subject } from '../Subject';\nimport { multicast } from './multicast';\nexport function publish(selector) {\n    return selector ?\n        multicast(function () { return new Subject(); }, selector) :\n        multicast(new Subject());\n}\n//# sourceMappingURL=publish.js.map\n","/** PURE_IMPORTS_START _BehaviorSubject,_multicast PURE_IMPORTS_END */\nimport { BehaviorSubject } from '../BehaviorSubject';\nimport { multicast } from './multicast';\nexport function publishBehavior(value) {\n    return function (source) { return multicast(new BehaviorSubject(value))(source); };\n}\n//# sourceMappingURL=publishBehavior.js.map\n","/** PURE_IMPORTS_START _AsyncSubject,_multicast PURE_IMPORTS_END */\nimport { AsyncSubject } from '../AsyncSubject';\nimport { multicast } from './multicast';\nexport function publishLast() {\n    return function (source) { return multicast(new AsyncSubject())(source); };\n}\n//# sourceMappingURL=publishLast.js.map\n","/** PURE_IMPORTS_START _ReplaySubject,_multicast PURE_IMPORTS_END */\nimport { ReplaySubject } from '../ReplaySubject';\nimport { multicast } from './multicast';\nexport function publishReplay(bufferSize, windowTime, selectorOrScheduler, scheduler) {\n    if (selectorOrScheduler && typeof selectorOrScheduler !== 'function') {\n        scheduler = selectorOrScheduler;\n    }\n    var selector = typeof selectorOrScheduler === 'function' ? selectorOrScheduler : undefined;\n    var subject = new ReplaySubject(bufferSize, windowTime, scheduler);\n    return function (source) { return multicast(function () { return subject; }, selector)(source); };\n}\n//# sourceMappingURL=publishReplay.js.map\n","/** PURE_IMPORTS_START _util_isArray,_observable_race PURE_IMPORTS_END */\nimport { isArray } from '../util/isArray';\nimport { race as raceStatic } from '../observable/race';\nexport function race() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return function raceOperatorFunction(source) {\n        if (observables.length === 1 && isArray(observables[0])) {\n            observables = observables[0];\n        }\n        return source.lift.call(raceStatic.apply(void 0, [source].concat(observables)));\n    };\n}\n//# sourceMappingURL=race.js.map\n","/** PURE_IMPORTS_START _scan,_takeLast,_defaultIfEmpty,_util_pipe PURE_IMPORTS_END */\nimport { scan } from './scan';\nimport { takeLast } from './takeLast';\nimport { defaultIfEmpty } from './defaultIfEmpty';\nimport { pipe } from '../util/pipe';\nexport function reduce(accumulator, seed) {\n    if (arguments.length >= 2) {\n        return function reduceOperatorFunctionWithSeed(source) {\n            return pipe(scan(accumulator, seed), takeLast(1), defaultIfEmpty(seed))(source);\n        };\n    }\n    return function reduceOperatorFunction(source) {\n        return pipe(scan(function (acc, value, index) { return accumulator(acc, value, index + 1); }), takeLast(1))(source);\n    };\n}\n//# sourceMappingURL=reduce.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function refCount() {\n    return function refCountOperatorFunction(source) {\n        return source.lift(new RefCountOperator(source));\n    };\n}\nvar RefCountOperator = /*@__PURE__*/ (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=refCount.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_observable_empty PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { empty } from '../observable/empty';\nexport function repeat(count) {\n    if (count === void 0) {\n        count = -1;\n    }\n    return function (source) {\n        if (count === 0) {\n            return empty();\n        }\n        else if (count < 0) {\n            return source.lift(new RepeatOperator(-1, source));\n        }\n        else {\n            return source.lift(new RepeatOperator(count - 1, source));\n        }\n    };\n}\nvar RepeatOperator = /*@__PURE__*/ (function () {\n    function RepeatOperator(count, source) {\n        this.count = count;\n        this.source = source;\n    }\n    RepeatOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RepeatSubscriber(subscriber, this.count, this.source));\n    };\n    return RepeatOperator;\n}());\nvar RepeatSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RepeatSubscriber, _super);\n    function RepeatSubscriber(destination, count, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.count = count;\n        _this.source = source;\n        return _this;\n    }\n    RepeatSubscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            var _a = this, source = _a.source, count = _a.count;\n            if (count === 0) {\n                return _super.prototype.complete.call(this);\n            }\n            else if (count > -1) {\n                this.count = count - 1;\n            }\n            source.subscribe(this._unsubscribeAndRecycle());\n        }\n    };\n    return RepeatSubscriber;\n}(Subscriber));\n//# sourceMappingURL=repeat.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function repeatWhen(notifier) {\n    return function (source) { return source.lift(new RepeatWhenOperator(notifier)); };\n}\nvar RepeatWhenOperator = /*@__PURE__*/ (function () {\n    function RepeatWhenOperator(notifier) {\n        this.notifier = notifier;\n    }\n    RepeatWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RepeatWhenSubscriber(subscriber, this.notifier, source));\n    };\n    return RepeatWhenOperator;\n}());\nvar RepeatWhenSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RepeatWhenSubscriber, _super);\n    function RepeatWhenSubscriber(destination, notifier, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.notifier = notifier;\n        _this.source = source;\n        _this.sourceIsBeingSubscribedTo = true;\n        return _this;\n    }\n    RepeatWhenSubscriber.prototype.notifyNext = function () {\n        this.sourceIsBeingSubscribedTo = true;\n        this.source.subscribe(this);\n    };\n    RepeatWhenSubscriber.prototype.notifyComplete = function () {\n        if (this.sourceIsBeingSubscribedTo === false) {\n            return _super.prototype.complete.call(this);\n        }\n    };\n    RepeatWhenSubscriber.prototype.complete = function () {\n        this.sourceIsBeingSubscribedTo = false;\n        if (!this.isStopped) {\n            if (!this.retries) {\n                this.subscribeToRetries();\n            }\n            if (!this.retriesSubscription || this.retriesSubscription.closed) {\n                return _super.prototype.complete.call(this);\n            }\n            this._unsubscribeAndRecycle();\n            this.notifications.next(undefined);\n        }\n    };\n    RepeatWhenSubscriber.prototype._unsubscribe = function () {\n        var _a = this, notifications = _a.notifications, retriesSubscription = _a.retriesSubscription;\n        if (notifications) {\n            notifications.unsubscribe();\n            this.notifications = undefined;\n        }\n        if (retriesSubscription) {\n            retriesSubscription.unsubscribe();\n            this.retriesSubscription = undefined;\n        }\n        this.retries = undefined;\n    };\n    RepeatWhenSubscriber.prototype._unsubscribeAndRecycle = function () {\n        var _unsubscribe = this._unsubscribe;\n        this._unsubscribe = null;\n        _super.prototype._unsubscribeAndRecycle.call(this);\n        this._unsubscribe = _unsubscribe;\n        return this;\n    };\n    RepeatWhenSubscriber.prototype.subscribeToRetries = function () {\n        this.notifications = new Subject();\n        var retries;\n        try {\n            var notifier = this.notifier;\n            retries = notifier(this.notifications);\n        }\n        catch (e) {\n            return _super.prototype.complete.call(this);\n        }\n        this.retries = retries;\n        this.retriesSubscription = innerSubscribe(retries, new SimpleInnerSubscriber(this));\n    };\n    return RepeatWhenSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=repeatWhen.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function retry(count) {\n    if (count === void 0) {\n        count = -1;\n    }\n    return function (source) { return source.lift(new RetryOperator(count, source)); };\n}\nvar RetryOperator = /*@__PURE__*/ (function () {\n    function RetryOperator(count, source) {\n        this.count = count;\n        this.source = source;\n    }\n    RetryOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RetrySubscriber(subscriber, this.count, this.source));\n    };\n    return RetryOperator;\n}());\nvar RetrySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RetrySubscriber, _super);\n    function RetrySubscriber(destination, count, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.count = count;\n        _this.source = source;\n        return _this;\n    }\n    RetrySubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _a = this, source = _a.source, count = _a.count;\n            if (count === 0) {\n                return _super.prototype.error.call(this, err);\n            }\n            else if (count > -1) {\n                this.count = count - 1;\n            }\n            source.subscribe(this._unsubscribeAndRecycle());\n        }\n    };\n    return RetrySubscriber;\n}(Subscriber));\n//# sourceMappingURL=retry.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function retryWhen(notifier) {\n    return function (source) { return source.lift(new RetryWhenOperator(notifier, source)); };\n}\nvar RetryWhenOperator = /*@__PURE__*/ (function () {\n    function RetryWhenOperator(notifier, source) {\n        this.notifier = notifier;\n        this.source = source;\n    }\n    RetryWhenOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new RetryWhenSubscriber(subscriber, this.notifier, this.source));\n    };\n    return RetryWhenOperator;\n}());\nvar RetryWhenSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RetryWhenSubscriber, _super);\n    function RetryWhenSubscriber(destination, notifier, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.notifier = notifier;\n        _this.source = source;\n        return _this;\n    }\n    RetryWhenSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var errors = this.errors;\n            var retries = this.retries;\n            var retriesSubscription = this.retriesSubscription;\n            if (!retries) {\n                errors = new Subject();\n                try {\n                    var notifier = this.notifier;\n                    retries = notifier(errors);\n                }\n                catch (e) {\n                    return _super.prototype.error.call(this, e);\n                }\n                retriesSubscription = innerSubscribe(retries, new SimpleInnerSubscriber(this));\n            }\n            else {\n                this.errors = undefined;\n                this.retriesSubscription = undefined;\n            }\n            this._unsubscribeAndRecycle();\n            this.errors = errors;\n            this.retries = retries;\n            this.retriesSubscription = retriesSubscription;\n            errors.next(err);\n        }\n    };\n    RetryWhenSubscriber.prototype._unsubscribe = function () {\n        var _a = this, errors = _a.errors, retriesSubscription = _a.retriesSubscription;\n        if (errors) {\n            errors.unsubscribe();\n            this.errors = undefined;\n        }\n        if (retriesSubscription) {\n            retriesSubscription.unsubscribe();\n            this.retriesSubscription = undefined;\n        }\n        this.retries = undefined;\n    };\n    RetryWhenSubscriber.prototype.notifyNext = function () {\n        var _unsubscribe = this._unsubscribe;\n        this._unsubscribe = null;\n        this._unsubscribeAndRecycle();\n        this._unsubscribe = _unsubscribe;\n        this.source.subscribe(this);\n    };\n    return RetryWhenSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=retryWhen.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function sample(notifier) {\n    return function (source) { return source.lift(new SampleOperator(notifier)); };\n}\nvar SampleOperator = /*@__PURE__*/ (function () {\n    function SampleOperator(notifier) {\n        this.notifier = notifier;\n    }\n    SampleOperator.prototype.call = function (subscriber, source) {\n        var sampleSubscriber = new SampleSubscriber(subscriber);\n        var subscription = source.subscribe(sampleSubscriber);\n        subscription.add(innerSubscribe(this.notifier, new SimpleInnerSubscriber(sampleSubscriber)));\n        return subscription;\n    };\n    return SampleOperator;\n}());\nvar SampleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SampleSubscriber, _super);\n    function SampleSubscriber() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.hasValue = false;\n        return _this;\n    }\n    SampleSubscriber.prototype._next = function (value) {\n        this.value = value;\n        this.hasValue = true;\n    };\n    SampleSubscriber.prototype.notifyNext = function () {\n        this.emitValue();\n    };\n    SampleSubscriber.prototype.notifyComplete = function () {\n        this.emitValue();\n    };\n    SampleSubscriber.prototype.emitValue = function () {\n        if (this.hasValue) {\n            this.hasValue = false;\n            this.destination.next(this.value);\n        }\n    };\n    return SampleSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=sample.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nexport function sampleTime(period, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return function (source) { return source.lift(new SampleTimeOperator(period, scheduler)); };\n}\nvar SampleTimeOperator = /*@__PURE__*/ (function () {\n    function SampleTimeOperator(period, scheduler) {\n        this.period = period;\n        this.scheduler = scheduler;\n    }\n    SampleTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SampleTimeSubscriber(subscriber, this.period, this.scheduler));\n    };\n    return SampleTimeOperator;\n}());\nvar SampleTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SampleTimeSubscriber, _super);\n    function SampleTimeSubscriber(destination, period, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.period = period;\n        _this.scheduler = scheduler;\n        _this.hasValue = false;\n        _this.add(scheduler.schedule(dispatchNotification, period, { subscriber: _this, period: period }));\n        return _this;\n    }\n    SampleTimeSubscriber.prototype._next = function (value) {\n        this.lastValue = value;\n        this.hasValue = true;\n    };\n    SampleTimeSubscriber.prototype.notifyNext = function () {\n        if (this.hasValue) {\n            this.hasValue = false;\n            this.destination.next(this.lastValue);\n        }\n    };\n    return SampleTimeSubscriber;\n}(Subscriber));\nfunction dispatchNotification(state) {\n    var subscriber = state.subscriber, period = state.period;\n    subscriber.notifyNext();\n    this.schedule(state, period);\n}\n//# sourceMappingURL=sampleTime.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function scan(accumulator, seed) {\n    var hasSeed = false;\n    if (arguments.length >= 2) {\n        hasSeed = true;\n    }\n    return function scanOperatorFunction(source) {\n        return source.lift(new ScanOperator(accumulator, seed, hasSeed));\n    };\n}\nvar ScanOperator = /*@__PURE__*/ (function () {\n    function ScanOperator(accumulator, seed, hasSeed) {\n        if (hasSeed === void 0) {\n            hasSeed = false;\n        }\n        this.accumulator = accumulator;\n        this.seed = seed;\n        this.hasSeed = hasSeed;\n    }\n    ScanOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ScanSubscriber(subscriber, this.accumulator, this.seed, this.hasSeed));\n    };\n    return ScanOperator;\n}());\nvar ScanSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ScanSubscriber, _super);\n    function ScanSubscriber(destination, accumulator, _seed, hasSeed) {\n        var _this = _super.call(this, destination) || this;\n        _this.accumulator = accumulator;\n        _this._seed = _seed;\n        _this.hasSeed = hasSeed;\n        _this.index = 0;\n        return _this;\n    }\n    Object.defineProperty(ScanSubscriber.prototype, \"seed\", {\n        get: function () {\n            return this._seed;\n        },\n        set: function (value) {\n            this.hasSeed = true;\n            this._seed = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ScanSubscriber.prototype._next = function (value) {\n        if (!this.hasSeed) {\n            this.seed = value;\n            this.destination.next(value);\n        }\n        else {\n            return this._tryNext(value);\n        }\n    };\n    ScanSubscriber.prototype._tryNext = function (value) {\n        var index = this.index++;\n        var result;\n        try {\n            result = this.accumulator(this.seed, value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n        this.seed = result;\n        this.destination.next(result);\n    };\n    return ScanSubscriber;\n}(Subscriber));\n//# sourceMappingURL=scan.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function sequenceEqual(compareTo, comparator) {\n    return function (source) { return source.lift(new SequenceEqualOperator(compareTo, comparator)); };\n}\nvar SequenceEqualOperator = /*@__PURE__*/ (function () {\n    function SequenceEqualOperator(compareTo, comparator) {\n        this.compareTo = compareTo;\n        this.comparator = comparator;\n    }\n    SequenceEqualOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SequenceEqualSubscriber(subscriber, this.compareTo, this.comparator));\n    };\n    return SequenceEqualOperator;\n}());\nexport { SequenceEqualOperator };\nvar SequenceEqualSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SequenceEqualSubscriber, _super);\n    function SequenceEqualSubscriber(destination, compareTo, comparator) {\n        var _this = _super.call(this, destination) || this;\n        _this.compareTo = compareTo;\n        _this.comparator = comparator;\n        _this._a = [];\n        _this._b = [];\n        _this._oneComplete = false;\n        _this.destination.add(compareTo.subscribe(new SequenceEqualCompareToSubscriber(destination, _this)));\n        return _this;\n    }\n    SequenceEqualSubscriber.prototype._next = function (value) {\n        if (this._oneComplete && this._b.length === 0) {\n            this.emit(false);\n        }\n        else {\n            this._a.push(value);\n            this.checkValues();\n        }\n    };\n    SequenceEqualSubscriber.prototype._complete = function () {\n        if (this._oneComplete) {\n            this.emit(this._a.length === 0 && this._b.length === 0);\n        }\n        else {\n            this._oneComplete = true;\n        }\n        this.unsubscribe();\n    };\n    SequenceEqualSubscriber.prototype.checkValues = function () {\n        var _c = this, _a = _c._a, _b = _c._b, comparator = _c.comparator;\n        while (_a.length > 0 && _b.length > 0) {\n            var a = _a.shift();\n            var b = _b.shift();\n            var areEqual = false;\n            try {\n                areEqual = comparator ? comparator(a, b) : a === b;\n            }\n            catch (e) {\n                this.destination.error(e);\n            }\n            if (!areEqual) {\n                this.emit(false);\n            }\n        }\n    };\n    SequenceEqualSubscriber.prototype.emit = function (value) {\n        var destination = this.destination;\n        destination.next(value);\n        destination.complete();\n    };\n    SequenceEqualSubscriber.prototype.nextB = function (value) {\n        if (this._oneComplete && this._a.length === 0) {\n            this.emit(false);\n        }\n        else {\n            this._b.push(value);\n            this.checkValues();\n        }\n    };\n    SequenceEqualSubscriber.prototype.completeB = function () {\n        if (this._oneComplete) {\n            this.emit(this._a.length === 0 && this._b.length === 0);\n        }\n        else {\n            this._oneComplete = true;\n        }\n    };\n    return SequenceEqualSubscriber;\n}(Subscriber));\nexport { SequenceEqualSubscriber };\nvar SequenceEqualCompareToSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SequenceEqualCompareToSubscriber, _super);\n    function SequenceEqualCompareToSubscriber(destination, parent) {\n        var _this = _super.call(this, destination) || this;\n        _this.parent = parent;\n        return _this;\n    }\n    SequenceEqualCompareToSubscriber.prototype._next = function (value) {\n        this.parent.nextB(value);\n    };\n    SequenceEqualCompareToSubscriber.prototype._error = function (err) {\n        this.parent.error(err);\n        this.unsubscribe();\n    };\n    SequenceEqualCompareToSubscriber.prototype._complete = function () {\n        this.parent.completeB();\n        this.unsubscribe();\n    };\n    return SequenceEqualCompareToSubscriber;\n}(Subscriber));\n//# sourceMappingURL=sequenceEqual.js.map\n","/** PURE_IMPORTS_START _multicast,_refCount,_Subject PURE_IMPORTS_END */\nimport { multicast } from './multicast';\nimport { refCount } from './refCount';\nimport { Subject } from '../Subject';\nfunction shareSubjectFactory() {\n    return new Subject();\n}\nexport function share() {\n    return function (source) { return refCount()(multicast(shareSubjectFactory)(source)); };\n}\n//# sourceMappingURL=share.js.map\n","/** PURE_IMPORTS_START _ReplaySubject PURE_IMPORTS_END */\nimport { ReplaySubject } from '../ReplaySubject';\nexport function shareReplay(configOrBufferSize, windowTime, scheduler) {\n    var config;\n    if (configOrBufferSize && typeof configOrBufferSize === 'object') {\n        config = configOrBufferSize;\n    }\n    else {\n        config = {\n            bufferSize: configOrBufferSize,\n            windowTime: windowTime,\n            refCount: false,\n            scheduler: scheduler\n        };\n    }\n    return function (source) { return source.lift(shareReplayOperator(config)); };\n}\nfunction shareReplayOperator(_a) {\n    var _b = _a.bufferSize, bufferSize = _b === void 0 ? Number.POSITIVE_INFINITY : _b, _c = _a.windowTime, windowTime = _c === void 0 ? Number.POSITIVE_INFINITY : _c, useRefCount = _a.refCount, scheduler = _a.scheduler;\n    var subject;\n    var refCount = 0;\n    var subscription;\n    var hasError = false;\n    var isComplete = false;\n    return function shareReplayOperation(source) {\n        refCount++;\n        var innerSub;\n        if (!subject || hasError) {\n            hasError = false;\n            subject = new ReplaySubject(bufferSize, windowTime, scheduler);\n            innerSub = subject.subscribe(this);\n            subscription = source.subscribe({\n                next: function (value) { subject.next(value); },\n                error: function (err) {\n                    hasError = true;\n                    subject.error(err);\n                },\n                complete: function () {\n                    isComplete = true;\n                    subscription = undefined;\n                    subject.complete();\n                },\n            });\n        }\n        else {\n            innerSub = subject.subscribe(this);\n        }\n        this.add(function () {\n            refCount--;\n            innerSub.unsubscribe();\n            if (subscription && !isComplete && useRefCount && refCount === 0) {\n                subscription.unsubscribe();\n                subscription = undefined;\n                subject = undefined;\n            }\n        });\n    };\n}\n//# sourceMappingURL=shareReplay.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_util_EmptyError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { EmptyError } from '../util/EmptyError';\nexport function single(predicate) {\n    return function (source) { return source.lift(new SingleOperator(predicate, source)); };\n}\nvar SingleOperator = /*@__PURE__*/ (function () {\n    function SingleOperator(predicate, source) {\n        this.predicate = predicate;\n        this.source = source;\n    }\n    SingleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SingleSubscriber(subscriber, this.predicate, this.source));\n    };\n    return SingleOperator;\n}());\nvar SingleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SingleSubscriber, _super);\n    function SingleSubscriber(destination, predicate, source) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.source = source;\n        _this.seenValue = false;\n        _this.index = 0;\n        return _this;\n    }\n    SingleSubscriber.prototype.applySingleValue = function (value) {\n        if (this.seenValue) {\n            this.destination.error('Sequence contains more than one element');\n        }\n        else {\n            this.seenValue = true;\n            this.singleValue = value;\n        }\n    };\n    SingleSubscriber.prototype._next = function (value) {\n        var index = this.index++;\n        if (this.predicate) {\n            this.tryNext(value, index);\n        }\n        else {\n            this.applySingleValue(value);\n        }\n    };\n    SingleSubscriber.prototype.tryNext = function (value, index) {\n        try {\n            if (this.predicate(value, index, this.source)) {\n                this.applySingleValue(value);\n            }\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    SingleSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        if (this.index > 0) {\n            destination.next(this.seenValue ? this.singleValue : undefined);\n            destination.complete();\n        }\n        else {\n            destination.error(new EmptyError);\n        }\n    };\n    return SingleSubscriber;\n}(Subscriber));\n//# sourceMappingURL=single.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function skip(count) {\n    return function (source) { return source.lift(new SkipOperator(count)); };\n}\nvar SkipOperator = /*@__PURE__*/ (function () {\n    function SkipOperator(total) {\n        this.total = total;\n    }\n    SkipOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SkipSubscriber(subscriber, this.total));\n    };\n    return SkipOperator;\n}());\nvar SkipSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SkipSubscriber, _super);\n    function SkipSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.count = 0;\n        return _this;\n    }\n    SkipSubscriber.prototype._next = function (x) {\n        if (++this.count > this.total) {\n            this.destination.next(x);\n        }\n    };\n    return SkipSubscriber;\n}(Subscriber));\n//# sourceMappingURL=skip.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nexport function skipLast(count) {\n    return function (source) { return source.lift(new SkipLastOperator(count)); };\n}\nvar SkipLastOperator = /*@__PURE__*/ (function () {\n    function SkipLastOperator(_skipCount) {\n        this._skipCount = _skipCount;\n        if (this._skipCount < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    SkipLastOperator.prototype.call = function (subscriber, source) {\n        if (this._skipCount === 0) {\n            return source.subscribe(new Subscriber(subscriber));\n        }\n        else {\n            return source.subscribe(new SkipLastSubscriber(subscriber, this._skipCount));\n        }\n    };\n    return SkipLastOperator;\n}());\nvar SkipLastSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SkipLastSubscriber, _super);\n    function SkipLastSubscriber(destination, _skipCount) {\n        var _this = _super.call(this, destination) || this;\n        _this._skipCount = _skipCount;\n        _this._count = 0;\n        _this._ring = new Array(_skipCount);\n        return _this;\n    }\n    SkipLastSubscriber.prototype._next = function (value) {\n        var skipCount = this._skipCount;\n        var count = this._count++;\n        if (count < skipCount) {\n            this._ring[count] = value;\n        }\n        else {\n            var currentIndex = count % skipCount;\n            var ring = this._ring;\n            var oldValue = ring[currentIndex];\n            ring[currentIndex] = value;\n            this.destination.next(oldValue);\n        }\n    };\n    return SkipLastSubscriber;\n}(Subscriber));\n//# sourceMappingURL=skipLast.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function skipUntil(notifier) {\n    return function (source) { return source.lift(new SkipUntilOperator(notifier)); };\n}\nvar SkipUntilOperator = /*@__PURE__*/ (function () {\n    function SkipUntilOperator(notifier) {\n        this.notifier = notifier;\n    }\n    SkipUntilOperator.prototype.call = function (destination, source) {\n        return source.subscribe(new SkipUntilSubscriber(destination, this.notifier));\n    };\n    return SkipUntilOperator;\n}());\nvar SkipUntilSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SkipUntilSubscriber, _super);\n    function SkipUntilSubscriber(destination, notifier) {\n        var _this = _super.call(this, destination) || this;\n        _this.hasValue = false;\n        var innerSubscriber = new SimpleInnerSubscriber(_this);\n        _this.add(innerSubscriber);\n        _this.innerSubscription = innerSubscriber;\n        var innerSubscription = innerSubscribe(notifier, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            _this.add(innerSubscription);\n            _this.innerSubscription = innerSubscription;\n        }\n        return _this;\n    }\n    SkipUntilSubscriber.prototype._next = function (value) {\n        if (this.hasValue) {\n            _super.prototype._next.call(this, value);\n        }\n    };\n    SkipUntilSubscriber.prototype.notifyNext = function () {\n        this.hasValue = true;\n        if (this.innerSubscription) {\n            this.innerSubscription.unsubscribe();\n        }\n    };\n    SkipUntilSubscriber.prototype.notifyComplete = function () {\n    };\n    return SkipUntilSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=skipUntil.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function skipWhile(predicate) {\n    return function (source) { return source.lift(new SkipWhileOperator(predicate)); };\n}\nvar SkipWhileOperator = /*@__PURE__*/ (function () {\n    function SkipWhileOperator(predicate) {\n        this.predicate = predicate;\n    }\n    SkipWhileOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SkipWhileSubscriber(subscriber, this.predicate));\n    };\n    return SkipWhileOperator;\n}());\nvar SkipWhileSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SkipWhileSubscriber, _super);\n    function SkipWhileSubscriber(destination, predicate) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.skipping = true;\n        _this.index = 0;\n        return _this;\n    }\n    SkipWhileSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        if (this.skipping) {\n            this.tryCallPredicate(value);\n        }\n        if (!this.skipping) {\n            destination.next(value);\n        }\n    };\n    SkipWhileSubscriber.prototype.tryCallPredicate = function (value) {\n        try {\n            var result = this.predicate(value, this.index++);\n            this.skipping = Boolean(result);\n        }\n        catch (err) {\n            this.destination.error(err);\n        }\n    };\n    return SkipWhileSubscriber;\n}(Subscriber));\n//# sourceMappingURL=skipWhile.js.map\n","/** PURE_IMPORTS_START _observable_concat,_util_isScheduler PURE_IMPORTS_END */\nimport { concat } from '../observable/concat';\nimport { isScheduler } from '../util/isScheduler';\nexport function startWith() {\n    var array = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        array[_i] = arguments[_i];\n    }\n    var scheduler = array[array.length - 1];\n    if (isScheduler(scheduler)) {\n        array.pop();\n        return function (source) { return concat(array, source, scheduler); };\n    }\n    else {\n        return function (source) { return concat(array, source); };\n    }\n}\n//# sourceMappingURL=startWith.js.map\n","/** PURE_IMPORTS_START _observable_SubscribeOnObservable PURE_IMPORTS_END */\nimport { SubscribeOnObservable } from '../observable/SubscribeOnObservable';\nexport function subscribeOn(scheduler, delay) {\n    if (delay === void 0) {\n        delay = 0;\n    }\n    return function subscribeOnOperatorFunction(source) {\n        return source.lift(new SubscribeOnOperator(scheduler, delay));\n    };\n}\nvar SubscribeOnOperator = /*@__PURE__*/ (function () {\n    function SubscribeOnOperator(scheduler, delay) {\n        this.scheduler = scheduler;\n        this.delay = delay;\n    }\n    SubscribeOnOperator.prototype.call = function (subscriber, source) {\n        return new SubscribeOnObservable(source, this.delay, this.scheduler).subscribe(subscriber);\n    };\n    return SubscribeOnOperator;\n}());\n//# sourceMappingURL=subscribeOn.js.map\n","/** PURE_IMPORTS_START _switchMap,_util_identity PURE_IMPORTS_END */\nimport { switchMap } from './switchMap';\nimport { identity } from '../util/identity';\nexport function switchAll() {\n    return switchMap(identity);\n}\n//# sourceMappingURL=switchAll.js.map\n","/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function switchMap(project, resultSelector) {\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(switchMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); })); };\n    }\n    return function (source) { return source.lift(new SwitchMapOperator(project)); };\n}\nvar SwitchMapOperator = /*@__PURE__*/ (function () {\n    function SwitchMapOperator(project) {\n        this.project = project;\n    }\n    SwitchMapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new SwitchMapSubscriber(subscriber, this.project));\n    };\n    return SwitchMapOperator;\n}());\nvar SwitchMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SwitchMapSubscriber, _super);\n    function SwitchMapSubscriber(destination, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.index = 0;\n        return _this;\n    }\n    SwitchMapSubscriber.prototype._next = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (error) {\n            this.destination.error(error);\n            return;\n        }\n        this._innerSub(result);\n    };\n    SwitchMapSubscriber.prototype._innerSub = function (result) {\n        var innerSubscription = this.innerSubscription;\n        if (innerSubscription) {\n            innerSubscription.unsubscribe();\n        }\n        var innerSubscriber = new SimpleInnerSubscriber(this);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        this.innerSubscription = innerSubscribe(result, innerSubscriber);\n        if (this.innerSubscription !== innerSubscriber) {\n            destination.add(this.innerSubscription);\n        }\n    };\n    SwitchMapSubscriber.prototype._complete = function () {\n        var innerSubscription = this.innerSubscription;\n        if (!innerSubscription || innerSubscription.closed) {\n            _super.prototype._complete.call(this);\n        }\n        this.unsubscribe();\n    };\n    SwitchMapSubscriber.prototype._unsubscribe = function () {\n        this.innerSubscription = undefined;\n    };\n    SwitchMapSubscriber.prototype.notifyComplete = function () {\n        this.innerSubscription = undefined;\n        if (this.isStopped) {\n            _super.prototype._complete.call(this);\n        }\n    };\n    SwitchMapSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    return SwitchMapSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=switchMap.js.map\n","/** PURE_IMPORTS_START _switchMap PURE_IMPORTS_END */\nimport { switchMap } from './switchMap';\nexport function switchMapTo(innerObservable, resultSelector) {\n    return resultSelector ? switchMap(function () { return innerObservable; }, resultSelector) : switchMap(function () { return innerObservable; });\n}\n//# sourceMappingURL=switchMapTo.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError,_observable_empty PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nexport function take(count) {\n    return function (source) {\n        if (count === 0) {\n            return empty();\n        }\n        else {\n            return source.lift(new TakeOperator(count));\n        }\n    };\n}\nvar TakeOperator = /*@__PURE__*/ (function () {\n    function TakeOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    TakeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeSubscriber(subscriber, this.total));\n    };\n    return TakeOperator;\n}());\nvar TakeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TakeSubscriber, _super);\n    function TakeSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.count = 0;\n        return _this;\n    }\n    TakeSubscriber.prototype._next = function (value) {\n        var total = this.total;\n        var count = ++this.count;\n        if (count <= total) {\n            this.destination.next(value);\n            if (count === total) {\n                this.destination.complete();\n                this.unsubscribe();\n            }\n        }\n    };\n    return TakeSubscriber;\n}(Subscriber));\n//# sourceMappingURL=take.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_util_ArgumentOutOfRangeError,_observable_empty PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { ArgumentOutOfRangeError } from '../util/ArgumentOutOfRangeError';\nimport { empty } from '../observable/empty';\nexport function takeLast(count) {\n    return function takeLastOperatorFunction(source) {\n        if (count === 0) {\n            return empty();\n        }\n        else {\n            return source.lift(new TakeLastOperator(count));\n        }\n    };\n}\nvar TakeLastOperator = /*@__PURE__*/ (function () {\n    function TakeLastOperator(total) {\n        this.total = total;\n        if (this.total < 0) {\n            throw new ArgumentOutOfRangeError;\n        }\n    }\n    TakeLastOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeLastSubscriber(subscriber, this.total));\n    };\n    return TakeLastOperator;\n}());\nvar TakeLastSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TakeLastSubscriber, _super);\n    function TakeLastSubscriber(destination, total) {\n        var _this = _super.call(this, destination) || this;\n        _this.total = total;\n        _this.ring = new Array();\n        _this.count = 0;\n        return _this;\n    }\n    TakeLastSubscriber.prototype._next = function (value) {\n        var ring = this.ring;\n        var total = this.total;\n        var count = this.count++;\n        if (ring.length < total) {\n            ring.push(value);\n        }\n        else {\n            var index = count % total;\n            ring[index] = value;\n        }\n    };\n    TakeLastSubscriber.prototype._complete = function () {\n        var destination = this.destination;\n        var count = this.count;\n        if (count > 0) {\n            var total = this.count >= this.total ? this.total : this.count;\n            var ring = this.ring;\n            for (var i = 0; i < total; i++) {\n                var idx = (count++) % total;\n                destination.next(ring[idx]);\n            }\n        }\n        destination.complete();\n    };\n    return TakeLastSubscriber;\n}(Subscriber));\n//# sourceMappingURL=takeLast.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { innerSubscribe, SimpleInnerSubscriber, SimpleOuterSubscriber } from '../innerSubscribe';\nexport function takeUntil(notifier) {\n    return function (source) { return source.lift(new TakeUntilOperator(notifier)); };\n}\nvar TakeUntilOperator = /*@__PURE__*/ (function () {\n    function TakeUntilOperator(notifier) {\n        this.notifier = notifier;\n    }\n    TakeUntilOperator.prototype.call = function (subscriber, source) {\n        var takeUntilSubscriber = new TakeUntilSubscriber(subscriber);\n        var notifierSubscription = innerSubscribe(this.notifier, new SimpleInnerSubscriber(takeUntilSubscriber));\n        if (notifierSubscription && !takeUntilSubscriber.seenValue) {\n            takeUntilSubscriber.add(notifierSubscription);\n            return source.subscribe(takeUntilSubscriber);\n        }\n        return takeUntilSubscriber;\n    };\n    return TakeUntilOperator;\n}());\nvar TakeUntilSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TakeUntilSubscriber, _super);\n    function TakeUntilSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.seenValue = false;\n        return _this;\n    }\n    TakeUntilSubscriber.prototype.notifyNext = function () {\n        this.seenValue = true;\n        this.complete();\n    };\n    TakeUntilSubscriber.prototype.notifyComplete = function () {\n    };\n    return TakeUntilSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=takeUntil.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function takeWhile(predicate, inclusive) {\n    if (inclusive === void 0) {\n        inclusive = false;\n    }\n    return function (source) {\n        return source.lift(new TakeWhileOperator(predicate, inclusive));\n    };\n}\nvar TakeWhileOperator = /*@__PURE__*/ (function () {\n    function TakeWhileOperator(predicate, inclusive) {\n        this.predicate = predicate;\n        this.inclusive = inclusive;\n    }\n    TakeWhileOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TakeWhileSubscriber(subscriber, this.predicate, this.inclusive));\n    };\n    return TakeWhileOperator;\n}());\nvar TakeWhileSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TakeWhileSubscriber, _super);\n    function TakeWhileSubscriber(destination, predicate, inclusive) {\n        var _this = _super.call(this, destination) || this;\n        _this.predicate = predicate;\n        _this.inclusive = inclusive;\n        _this.index = 0;\n        return _this;\n    }\n    TakeWhileSubscriber.prototype._next = function (value) {\n        var destination = this.destination;\n        var result;\n        try {\n            result = this.predicate(value, this.index++);\n        }\n        catch (err) {\n            destination.error(err);\n            return;\n        }\n        this.nextOrComplete(value, result);\n    };\n    TakeWhileSubscriber.prototype.nextOrComplete = function (value, predicateResult) {\n        var destination = this.destination;\n        if (Boolean(predicateResult)) {\n            destination.next(value);\n        }\n        else {\n            if (this.inclusive) {\n                destination.next(value);\n            }\n            destination.complete();\n        }\n    };\n    return TakeWhileSubscriber;\n}(Subscriber));\n//# sourceMappingURL=takeWhile.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_util_noop,_util_isFunction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { noop } from '../util/noop';\nimport { isFunction } from '../util/isFunction';\nexport function tap(nextOrObserver, error, complete) {\n    return function tapOperatorFunction(source) {\n        return source.lift(new DoOperator(nextOrObserver, error, complete));\n    };\n}\nvar DoOperator = /*@__PURE__*/ (function () {\n    function DoOperator(nextOrObserver, error, complete) {\n        this.nextOrObserver = nextOrObserver;\n        this.error = error;\n        this.complete = complete;\n    }\n    DoOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));\n    };\n    return DoOperator;\n}());\nvar TapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TapSubscriber, _super);\n    function TapSubscriber(destination, observerOrNext, error, complete) {\n        var _this = _super.call(this, destination) || this;\n        _this._tapNext = noop;\n        _this._tapError = noop;\n        _this._tapComplete = noop;\n        _this._tapError = error || noop;\n        _this._tapComplete = complete || noop;\n        if (isFunction(observerOrNext)) {\n            _this._context = _this;\n            _this._tapNext = observerOrNext;\n        }\n        else if (observerOrNext) {\n            _this._context = observerOrNext;\n            _this._tapNext = observerOrNext.next || noop;\n            _this._tapError = observerOrNext.error || noop;\n            _this._tapComplete = observerOrNext.complete || noop;\n        }\n        return _this;\n    }\n    TapSubscriber.prototype._next = function (value) {\n        try {\n            this._tapNext.call(this._context, value);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(value);\n    };\n    TapSubscriber.prototype._error = function (err) {\n        try {\n            this._tapError.call(this._context, err);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.error(err);\n    };\n    TapSubscriber.prototype._complete = function () {\n        try {\n            this._tapComplete.call(this._context);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        return this.destination.complete();\n    };\n    return TapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=tap.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport var defaultThrottleConfig = {\n    leading: true,\n    trailing: false\n};\nexport function throttle(durationSelector, config) {\n    if (config === void 0) {\n        config = defaultThrottleConfig;\n    }\n    return function (source) { return source.lift(new ThrottleOperator(durationSelector, !!config.leading, !!config.trailing)); };\n}\nvar ThrottleOperator = /*@__PURE__*/ (function () {\n    function ThrottleOperator(durationSelector, leading, trailing) {\n        this.durationSelector = durationSelector;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleSubscriber(subscriber, this.durationSelector, this.leading, this.trailing));\n    };\n    return ThrottleOperator;\n}());\nvar ThrottleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ThrottleSubscriber, _super);\n    function ThrottleSubscriber(destination, durationSelector, _leading, _trailing) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.durationSelector = durationSelector;\n        _this._leading = _leading;\n        _this._trailing = _trailing;\n        _this._hasValue = false;\n        return _this;\n    }\n    ThrottleSubscriber.prototype._next = function (value) {\n        this._hasValue = true;\n        this._sendValue = value;\n        if (!this._throttled) {\n            if (this._leading) {\n                this.send();\n            }\n            else {\n                this.throttle(value);\n            }\n        }\n    };\n    ThrottleSubscriber.prototype.send = function () {\n        var _a = this, _hasValue = _a._hasValue, _sendValue = _a._sendValue;\n        if (_hasValue) {\n            this.destination.next(_sendValue);\n            this.throttle(_sendValue);\n        }\n        this._hasValue = false;\n        this._sendValue = undefined;\n    };\n    ThrottleSubscriber.prototype.throttle = function (value) {\n        var duration = this.tryDurationSelector(value);\n        if (!!duration) {\n            this.add(this._throttled = innerSubscribe(duration, new SimpleInnerSubscriber(this)));\n        }\n    };\n    ThrottleSubscriber.prototype.tryDurationSelector = function (value) {\n        try {\n            return this.durationSelector(value);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return null;\n        }\n    };\n    ThrottleSubscriber.prototype.throttlingDone = function () {\n        var _a = this, _throttled = _a._throttled, _trailing = _a._trailing;\n        if (_throttled) {\n            _throttled.unsubscribe();\n        }\n        this._throttled = undefined;\n        if (_trailing) {\n            this.send();\n        }\n    };\n    ThrottleSubscriber.prototype.notifyNext = function () {\n        this.throttlingDone();\n    };\n    ThrottleSubscriber.prototype.notifyComplete = function () {\n        this.throttlingDone();\n    };\n    return ThrottleSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=throttle.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_scheduler_async,_throttle PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { async } from '../scheduler/async';\nimport { defaultThrottleConfig } from './throttle';\nexport function throttleTime(duration, scheduler, config) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    if (config === void 0) {\n        config = defaultThrottleConfig;\n    }\n    return function (source) { return source.lift(new ThrottleTimeOperator(duration, scheduler, config.leading, config.trailing)); };\n}\nvar ThrottleTimeOperator = /*@__PURE__*/ (function () {\n    function ThrottleTimeOperator(duration, scheduler, leading, trailing) {\n        this.duration = duration;\n        this.scheduler = scheduler;\n        this.leading = leading;\n        this.trailing = trailing;\n    }\n    ThrottleTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrottleTimeSubscriber(subscriber, this.duration, this.scheduler, this.leading, this.trailing));\n    };\n    return ThrottleTimeOperator;\n}());\nvar ThrottleTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ThrottleTimeSubscriber, _super);\n    function ThrottleTimeSubscriber(destination, duration, scheduler, leading, trailing) {\n        var _this = _super.call(this, destination) || this;\n        _this.duration = duration;\n        _this.scheduler = scheduler;\n        _this.leading = leading;\n        _this.trailing = trailing;\n        _this._hasTrailingValue = false;\n        _this._trailingValue = null;\n        return _this;\n    }\n    ThrottleTimeSubscriber.prototype._next = function (value) {\n        if (this.throttled) {\n            if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n        else {\n            this.add(this.throttled = this.scheduler.schedule(dispatchNext, this.duration, { subscriber: this }));\n            if (this.leading) {\n                this.destination.next(value);\n            }\n            else if (this.trailing) {\n                this._trailingValue = value;\n                this._hasTrailingValue = true;\n            }\n        }\n    };\n    ThrottleTimeSubscriber.prototype._complete = function () {\n        if (this._hasTrailingValue) {\n            this.destination.next(this._trailingValue);\n            this.destination.complete();\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    ThrottleTimeSubscriber.prototype.clearThrottle = function () {\n        var throttled = this.throttled;\n        if (throttled) {\n            if (this.trailing && this._hasTrailingValue) {\n                this.destination.next(this._trailingValue);\n                this._trailingValue = null;\n                this._hasTrailingValue = false;\n            }\n            throttled.unsubscribe();\n            this.remove(throttled);\n            this.throttled = null;\n        }\n    };\n    return ThrottleTimeSubscriber;\n}(Subscriber));\nfunction dispatchNext(arg) {\n    var subscriber = arg.subscriber;\n    subscriber.clearThrottle();\n}\n//# sourceMappingURL=throttleTime.js.map\n","/** PURE_IMPORTS_START tslib,_util_EmptyError,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { EmptyError } from '../util/EmptyError';\nimport { Subscriber } from '../Subscriber';\nexport function throwIfEmpty(errorFactory) {\n    if (errorFactory === void 0) {\n        errorFactory = defaultErrorFactory;\n    }\n    return function (source) {\n        return source.lift(new ThrowIfEmptyOperator(errorFactory));\n    };\n}\nvar ThrowIfEmptyOperator = /*@__PURE__*/ (function () {\n    function ThrowIfEmptyOperator(errorFactory) {\n        this.errorFactory = errorFactory;\n    }\n    ThrowIfEmptyOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new ThrowIfEmptySubscriber(subscriber, this.errorFactory));\n    };\n    return ThrowIfEmptyOperator;\n}());\nvar ThrowIfEmptySubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ThrowIfEmptySubscriber, _super);\n    function ThrowIfEmptySubscriber(destination, errorFactory) {\n        var _this = _super.call(this, destination) || this;\n        _this.errorFactory = errorFactory;\n        _this.hasValue = false;\n        return _this;\n    }\n    ThrowIfEmptySubscriber.prototype._next = function (value) {\n        this.hasValue = true;\n        this.destination.next(value);\n    };\n    ThrowIfEmptySubscriber.prototype._complete = function () {\n        if (!this.hasValue) {\n            var err = void 0;\n            try {\n                err = this.errorFactory();\n            }\n            catch (e) {\n                err = e;\n            }\n            this.destination.error(err);\n        }\n        else {\n            return this.destination.complete();\n        }\n    };\n    return ThrowIfEmptySubscriber;\n}(Subscriber));\nfunction defaultErrorFactory() {\n    return new EmptyError();\n}\n//# sourceMappingURL=throwIfEmpty.js.map\n","/** PURE_IMPORTS_START _scheduler_async,_scan,_observable_defer,_map PURE_IMPORTS_END */\nimport { async } from '../scheduler/async';\nimport { scan } from './scan';\nimport { defer } from '../observable/defer';\nimport { map } from './map';\nexport function timeInterval(scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return function (source) {\n        return defer(function () {\n            return source.pipe(scan(function (_a, value) {\n                var current = _a.current;\n                return ({ value: value, current: scheduler.now(), last: current });\n            }, { current: scheduler.now(), value: undefined, last: undefined }), map(function (_a) {\n                var current = _a.current, last = _a.last, value = _a.value;\n                return new TimeInterval(value, current - last);\n            }));\n        });\n    };\n}\nvar TimeInterval = /*@__PURE__*/ (function () {\n    function TimeInterval(value, interval) {\n        this.value = value;\n        this.interval = interval;\n    }\n    return TimeInterval;\n}());\nexport { TimeInterval };\n//# sourceMappingURL=timeInterval.js.map\n","/** PURE_IMPORTS_START _scheduler_async,_util_TimeoutError,_timeoutWith,_observable_throwError PURE_IMPORTS_END */\nimport { async } from '../scheduler/async';\nimport { TimeoutError } from '../util/TimeoutError';\nimport { timeoutWith } from './timeoutWith';\nimport { throwError } from '../observable/throwError';\nexport function timeout(due, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return timeoutWith(due, throwError(new TimeoutError()), scheduler);\n}\n//# sourceMappingURL=timeout.js.map\n","/** PURE_IMPORTS_START tslib,_scheduler_async,_util_isDate,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { async } from '../scheduler/async';\nimport { isDate } from '../util/isDate';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function timeoutWith(due, withObservable, scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return function (source) {\n        var absoluteTimeout = isDate(due);\n        var waitFor = absoluteTimeout ? (+due - scheduler.now()) : Math.abs(due);\n        return source.lift(new TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler));\n    };\n}\nvar TimeoutWithOperator = /*@__PURE__*/ (function () {\n    function TimeoutWithOperator(waitFor, absoluteTimeout, withObservable, scheduler) {\n        this.waitFor = waitFor;\n        this.absoluteTimeout = absoluteTimeout;\n        this.withObservable = withObservable;\n        this.scheduler = scheduler;\n    }\n    TimeoutWithOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new TimeoutWithSubscriber(subscriber, this.absoluteTimeout, this.waitFor, this.withObservable, this.scheduler));\n    };\n    return TimeoutWithOperator;\n}());\nvar TimeoutWithSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(TimeoutWithSubscriber, _super);\n    function TimeoutWithSubscriber(destination, absoluteTimeout, waitFor, withObservable, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.absoluteTimeout = absoluteTimeout;\n        _this.waitFor = waitFor;\n        _this.withObservable = withObservable;\n        _this.scheduler = scheduler;\n        _this.scheduleTimeout();\n        return _this;\n    }\n    TimeoutWithSubscriber.dispatchTimeout = function (subscriber) {\n        var withObservable = subscriber.withObservable;\n        subscriber._unsubscribeAndRecycle();\n        subscriber.add(innerSubscribe(withObservable, new SimpleInnerSubscriber(subscriber)));\n    };\n    TimeoutWithSubscriber.prototype.scheduleTimeout = function () {\n        var action = this.action;\n        if (action) {\n            this.action = action.schedule(this, this.waitFor);\n        }\n        else {\n            this.add(this.action = this.scheduler.schedule(TimeoutWithSubscriber.dispatchTimeout, this.waitFor, this));\n        }\n    };\n    TimeoutWithSubscriber.prototype._next = function (value) {\n        if (!this.absoluteTimeout) {\n            this.scheduleTimeout();\n        }\n        _super.prototype._next.call(this, value);\n    };\n    TimeoutWithSubscriber.prototype._unsubscribe = function () {\n        this.action = undefined;\n        this.scheduler = null;\n        this.withObservable = null;\n    };\n    return TimeoutWithSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=timeoutWith.js.map\n","/** PURE_IMPORTS_START _scheduler_async,_map PURE_IMPORTS_END */\nimport { async } from '../scheduler/async';\nimport { map } from './map';\nexport function timestamp(scheduler) {\n    if (scheduler === void 0) {\n        scheduler = async;\n    }\n    return map(function (value) { return new Timestamp(value, scheduler.now()); });\n}\nvar Timestamp = /*@__PURE__*/ (function () {\n    function Timestamp(value, timestamp) {\n        this.value = value;\n        this.timestamp = timestamp;\n    }\n    return Timestamp;\n}());\nexport { Timestamp };\n//# sourceMappingURL=timestamp.js.map\n","/** PURE_IMPORTS_START _reduce PURE_IMPORTS_END */\nimport { reduce } from './reduce';\nfunction toArrayReducer(arr, item, index) {\n    if (index === 0) {\n        return [item];\n    }\n    arr.push(item);\n    return arr;\n}\nexport function toArray() {\n    return reduce(toArrayReducer, []);\n}\n//# sourceMappingURL=toArray.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function window(windowBoundaries) {\n    return function windowOperatorFunction(source) {\n        return source.lift(new WindowOperator(windowBoundaries));\n    };\n}\nvar WindowOperator = /*@__PURE__*/ (function () {\n    function WindowOperator(windowBoundaries) {\n        this.windowBoundaries = windowBoundaries;\n    }\n    WindowOperator.prototype.call = function (subscriber, source) {\n        var windowSubscriber = new WindowSubscriber(subscriber);\n        var sourceSubscription = source.subscribe(windowSubscriber);\n        if (!sourceSubscription.closed) {\n            windowSubscriber.add(innerSubscribe(this.windowBoundaries, new SimpleInnerSubscriber(windowSubscriber)));\n        }\n        return sourceSubscription;\n    };\n    return WindowOperator;\n}());\nvar WindowSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowSubscriber, _super);\n    function WindowSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.window = new Subject();\n        destination.next(_this.window);\n        return _this;\n    }\n    WindowSubscriber.prototype.notifyNext = function () {\n        this.openWindow();\n    };\n    WindowSubscriber.prototype.notifyError = function (error) {\n        this._error(error);\n    };\n    WindowSubscriber.prototype.notifyComplete = function () {\n        this._complete();\n    };\n    WindowSubscriber.prototype._next = function (value) {\n        this.window.next(value);\n    };\n    WindowSubscriber.prototype._error = function (err) {\n        this.window.error(err);\n        this.destination.error(err);\n    };\n    WindowSubscriber.prototype._complete = function () {\n        this.window.complete();\n        this.destination.complete();\n    };\n    WindowSubscriber.prototype._unsubscribe = function () {\n        this.window = null;\n    };\n    WindowSubscriber.prototype.openWindow = function () {\n        var prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        var destination = this.destination;\n        var newWindow = this.window = new Subject();\n        destination.next(newWindow);\n    };\n    return WindowSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=window.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Subject PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { Subject } from '../Subject';\nexport function windowCount(windowSize, startWindowEvery) {\n    if (startWindowEvery === void 0) {\n        startWindowEvery = 0;\n    }\n    return function windowCountOperatorFunction(source) {\n        return source.lift(new WindowCountOperator(windowSize, startWindowEvery));\n    };\n}\nvar WindowCountOperator = /*@__PURE__*/ (function () {\n    function WindowCountOperator(windowSize, startWindowEvery) {\n        this.windowSize = windowSize;\n        this.startWindowEvery = startWindowEvery;\n    }\n    WindowCountOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowCountSubscriber(subscriber, this.windowSize, this.startWindowEvery));\n    };\n    return WindowCountOperator;\n}());\nvar WindowCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowCountSubscriber, _super);\n    function WindowCountSubscriber(destination, windowSize, startWindowEvery) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.windowSize = windowSize;\n        _this.startWindowEvery = startWindowEvery;\n        _this.windows = [new Subject()];\n        _this.count = 0;\n        destination.next(_this.windows[0]);\n        return _this;\n    }\n    WindowCountSubscriber.prototype._next = function (value) {\n        var startWindowEvery = (this.startWindowEvery > 0) ? this.startWindowEvery : this.windowSize;\n        var destination = this.destination;\n        var windowSize = this.windowSize;\n        var windows = this.windows;\n        var len = windows.length;\n        for (var i = 0; i < len && !this.closed; i++) {\n            windows[i].next(value);\n        }\n        var c = this.count - windowSize + 1;\n        if (c >= 0 && c % startWindowEvery === 0 && !this.closed) {\n            windows.shift().complete();\n        }\n        if (++this.count % startWindowEvery === 0 && !this.closed) {\n            var window_1 = new Subject();\n            windows.push(window_1);\n            destination.next(window_1);\n        }\n    };\n    WindowCountSubscriber.prototype._error = function (err) {\n        var windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().error(err);\n            }\n        }\n        this.destination.error(err);\n    };\n    WindowCountSubscriber.prototype._complete = function () {\n        var windows = this.windows;\n        if (windows) {\n            while (windows.length > 0 && !this.closed) {\n                windows.shift().complete();\n            }\n        }\n        this.destination.complete();\n    };\n    WindowCountSubscriber.prototype._unsubscribe = function () {\n        this.count = 0;\n        this.windows = null;\n    };\n    return WindowCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=windowCount.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_scheduler_async,_Subscriber,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { async } from '../scheduler/async';\nimport { Subscriber } from '../Subscriber';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nexport function windowTime(windowTimeSpan) {\n    var scheduler = async;\n    var windowCreationInterval = null;\n    var maxWindowSize = Number.POSITIVE_INFINITY;\n    if (isScheduler(arguments[3])) {\n        scheduler = arguments[3];\n    }\n    if (isScheduler(arguments[2])) {\n        scheduler = arguments[2];\n    }\n    else if (isNumeric(arguments[2])) {\n        maxWindowSize = Number(arguments[2]);\n    }\n    if (isScheduler(arguments[1])) {\n        scheduler = arguments[1];\n    }\n    else if (isNumeric(arguments[1])) {\n        windowCreationInterval = Number(arguments[1]);\n    }\n    return function windowTimeOperatorFunction(source) {\n        return source.lift(new WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler));\n    };\n}\nvar WindowTimeOperator = /*@__PURE__*/ (function () {\n    function WindowTimeOperator(windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        this.windowTimeSpan = windowTimeSpan;\n        this.windowCreationInterval = windowCreationInterval;\n        this.maxWindowSize = maxWindowSize;\n        this.scheduler = scheduler;\n    }\n    WindowTimeOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowTimeSubscriber(subscriber, this.windowTimeSpan, this.windowCreationInterval, this.maxWindowSize, this.scheduler));\n    };\n    return WindowTimeOperator;\n}());\nvar CountedSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CountedSubject, _super);\n    function CountedSubject() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._numberOfNextedValues = 0;\n        return _this;\n    }\n    CountedSubject.prototype.next = function (value) {\n        this._numberOfNextedValues++;\n        _super.prototype.next.call(this, value);\n    };\n    Object.defineProperty(CountedSubject.prototype, \"numberOfNextedValues\", {\n        get: function () {\n            return this._numberOfNextedValues;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return CountedSubject;\n}(Subject));\nvar WindowTimeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowTimeSubscriber, _super);\n    function WindowTimeSubscriber(destination, windowTimeSpan, windowCreationInterval, maxWindowSize, scheduler) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.windowTimeSpan = windowTimeSpan;\n        _this.windowCreationInterval = windowCreationInterval;\n        _this.maxWindowSize = maxWindowSize;\n        _this.scheduler = scheduler;\n        _this.windows = [];\n        var window = _this.openWindow();\n        if (windowCreationInterval !== null && windowCreationInterval >= 0) {\n            var closeState = { subscriber: _this, window: window, context: null };\n            var creationState = { windowTimeSpan: windowTimeSpan, windowCreationInterval: windowCreationInterval, subscriber: _this, scheduler: scheduler };\n            _this.add(scheduler.schedule(dispatchWindowClose, windowTimeSpan, closeState));\n            _this.add(scheduler.schedule(dispatchWindowCreation, windowCreationInterval, creationState));\n        }\n        else {\n            var timeSpanOnlyState = { subscriber: _this, window: window, windowTimeSpan: windowTimeSpan };\n            _this.add(scheduler.schedule(dispatchWindowTimeSpanOnly, windowTimeSpan, timeSpanOnlyState));\n        }\n        return _this;\n    }\n    WindowTimeSubscriber.prototype._next = function (value) {\n        var windows = this.windows;\n        var len = windows.length;\n        for (var i = 0; i < len; i++) {\n            var window_1 = windows[i];\n            if (!window_1.closed) {\n                window_1.next(value);\n                if (window_1.numberOfNextedValues >= this.maxWindowSize) {\n                    this.closeWindow(window_1);\n                }\n            }\n        }\n    };\n    WindowTimeSubscriber.prototype._error = function (err) {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            windows.shift().error(err);\n        }\n        this.destination.error(err);\n    };\n    WindowTimeSubscriber.prototype._complete = function () {\n        var windows = this.windows;\n        while (windows.length > 0) {\n            var window_2 = windows.shift();\n            if (!window_2.closed) {\n                window_2.complete();\n            }\n        }\n        this.destination.complete();\n    };\n    WindowTimeSubscriber.prototype.openWindow = function () {\n        var window = new CountedSubject();\n        this.windows.push(window);\n        var destination = this.destination;\n        destination.next(window);\n        return window;\n    };\n    WindowTimeSubscriber.prototype.closeWindow = function (window) {\n        window.complete();\n        var windows = this.windows;\n        windows.splice(windows.indexOf(window), 1);\n    };\n    return WindowTimeSubscriber;\n}(Subscriber));\nfunction dispatchWindowTimeSpanOnly(state) {\n    var subscriber = state.subscriber, windowTimeSpan = state.windowTimeSpan, window = state.window;\n    if (window) {\n        subscriber.closeWindow(window);\n    }\n    state.window = subscriber.openWindow();\n    this.schedule(state, windowTimeSpan);\n}\nfunction dispatchWindowCreation(state) {\n    var windowTimeSpan = state.windowTimeSpan, subscriber = state.subscriber, scheduler = state.scheduler, windowCreationInterval = state.windowCreationInterval;\n    var window = subscriber.openWindow();\n    var action = this;\n    var context = { action: action, subscription: null };\n    var timeSpanState = { subscriber: subscriber, window: window, context: context };\n    context.subscription = scheduler.schedule(dispatchWindowClose, windowTimeSpan, timeSpanState);\n    action.add(context.subscription);\n    action.schedule(state, windowCreationInterval);\n}\nfunction dispatchWindowClose(state) {\n    var subscriber = state.subscriber, window = state.window, context = state.context;\n    if (context && context.action && context.subscription) {\n        context.action.remove(context.subscription);\n    }\n    subscriber.closeWindow(window);\n}\n//# sourceMappingURL=windowTime.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_Subscription,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { Subscription } from '../Subscription';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function windowToggle(openings, closingSelector) {\n    return function (source) { return source.lift(new WindowToggleOperator(openings, closingSelector)); };\n}\nvar WindowToggleOperator = /*@__PURE__*/ (function () {\n    function WindowToggleOperator(openings, closingSelector) {\n        this.openings = openings;\n        this.closingSelector = closingSelector;\n    }\n    WindowToggleOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowToggleSubscriber(subscriber, this.openings, this.closingSelector));\n    };\n    return WindowToggleOperator;\n}());\nvar WindowToggleSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowToggleSubscriber, _super);\n    function WindowToggleSubscriber(destination, openings, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.openings = openings;\n        _this.closingSelector = closingSelector;\n        _this.contexts = [];\n        _this.add(_this.openSubscription = subscribeToResult(_this, openings, openings));\n        return _this;\n    }\n    WindowToggleSubscriber.prototype._next = function (value) {\n        var contexts = this.contexts;\n        if (contexts) {\n            var len = contexts.length;\n            for (var i = 0; i < len; i++) {\n                contexts[i].window.next(value);\n            }\n        }\n    };\n    WindowToggleSubscriber.prototype._error = function (err) {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context_1 = contexts[index];\n                context_1.window.error(err);\n                context_1.subscription.unsubscribe();\n            }\n        }\n        _super.prototype._error.call(this, err);\n    };\n    WindowToggleSubscriber.prototype._complete = function () {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context_2 = contexts[index];\n                context_2.window.complete();\n                context_2.subscription.unsubscribe();\n            }\n        }\n        _super.prototype._complete.call(this);\n    };\n    WindowToggleSubscriber.prototype._unsubscribe = function () {\n        var contexts = this.contexts;\n        this.contexts = null;\n        if (contexts) {\n            var len = contexts.length;\n            var index = -1;\n            while (++index < len) {\n                var context_3 = contexts[index];\n                context_3.window.unsubscribe();\n                context_3.subscription.unsubscribe();\n            }\n        }\n    };\n    WindowToggleSubscriber.prototype.notifyNext = function (outerValue, innerValue, outerIndex, innerIndex, innerSub) {\n        if (outerValue === this.openings) {\n            var closingNotifier = void 0;\n            try {\n                var closingSelector = this.closingSelector;\n                closingNotifier = closingSelector(innerValue);\n            }\n            catch (e) {\n                return this.error(e);\n            }\n            var window_1 = new Subject();\n            var subscription = new Subscription();\n            var context_4 = { window: window_1, subscription: subscription };\n            this.contexts.push(context_4);\n            var innerSubscription = subscribeToResult(this, closingNotifier, context_4);\n            if (innerSubscription.closed) {\n                this.closeWindow(this.contexts.length - 1);\n            }\n            else {\n                innerSubscription.context = context_4;\n                subscription.add(innerSubscription);\n            }\n            this.destination.next(window_1);\n        }\n        else {\n            this.closeWindow(this.contexts.indexOf(outerValue));\n        }\n    };\n    WindowToggleSubscriber.prototype.notifyError = function (err) {\n        this.error(err);\n    };\n    WindowToggleSubscriber.prototype.notifyComplete = function (inner) {\n        if (inner !== this.openSubscription) {\n            this.closeWindow(this.contexts.indexOf(inner.context));\n        }\n    };\n    WindowToggleSubscriber.prototype.closeWindow = function (index) {\n        if (index === -1) {\n            return;\n        }\n        var contexts = this.contexts;\n        var context = contexts[index];\n        var window = context.window, subscription = context.subscription;\n        contexts.splice(index, 1);\n        window.complete();\n        subscription.unsubscribe();\n    };\n    return WindowToggleSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=windowToggle.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from '../Subject';\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function windowWhen(closingSelector) {\n    return function windowWhenOperatorFunction(source) {\n        return source.lift(new WindowOperator(closingSelector));\n    };\n}\nvar WindowOperator = /*@__PURE__*/ (function () {\n    function WindowOperator(closingSelector) {\n        this.closingSelector = closingSelector;\n    }\n    WindowOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WindowSubscriber(subscriber, this.closingSelector));\n    };\n    return WindowOperator;\n}());\nvar WindowSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WindowSubscriber, _super);\n    function WindowSubscriber(destination, closingSelector) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        _this.closingSelector = closingSelector;\n        _this.openWindow();\n        return _this;\n    }\n    WindowSubscriber.prototype.notifyNext = function (_outerValue, _innerValue, _outerIndex, _innerIndex, innerSub) {\n        this.openWindow(innerSub);\n    };\n    WindowSubscriber.prototype.notifyError = function (error) {\n        this._error(error);\n    };\n    WindowSubscriber.prototype.notifyComplete = function (innerSub) {\n        this.openWindow(innerSub);\n    };\n    WindowSubscriber.prototype._next = function (value) {\n        this.window.next(value);\n    };\n    WindowSubscriber.prototype._error = function (err) {\n        this.window.error(err);\n        this.destination.error(err);\n        this.unsubscribeClosingNotification();\n    };\n    WindowSubscriber.prototype._complete = function () {\n        this.window.complete();\n        this.destination.complete();\n        this.unsubscribeClosingNotification();\n    };\n    WindowSubscriber.prototype.unsubscribeClosingNotification = function () {\n        if (this.closingNotification) {\n            this.closingNotification.unsubscribe();\n        }\n    };\n    WindowSubscriber.prototype.openWindow = function (innerSub) {\n        if (innerSub === void 0) {\n            innerSub = null;\n        }\n        if (innerSub) {\n            this.remove(innerSub);\n            innerSub.unsubscribe();\n        }\n        var prevWindow = this.window;\n        if (prevWindow) {\n            prevWindow.complete();\n        }\n        var window = this.window = new Subject();\n        this.destination.next(window);\n        var closingNotifier;\n        try {\n            var closingSelector = this.closingSelector;\n            closingNotifier = closingSelector();\n        }\n        catch (e) {\n            this.destination.error(e);\n            this.window.error(e);\n            return;\n        }\n        this.add(this.closingNotification = subscribeToResult(this, closingNotifier));\n    };\n    return WindowSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=windowWhen.js.map\n","/** PURE_IMPORTS_START tslib,_OuterSubscriber,_util_subscribeToResult PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { OuterSubscriber } from '../OuterSubscriber';\nimport { subscribeToResult } from '../util/subscribeToResult';\nexport function withLatestFrom() {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    return function (source) {\n        var project;\n        if (typeof args[args.length - 1] === 'function') {\n            project = args.pop();\n        }\n        var observables = args;\n        return source.lift(new WithLatestFromOperator(observables, project));\n    };\n}\nvar WithLatestFromOperator = /*@__PURE__*/ (function () {\n    function WithLatestFromOperator(observables, project) {\n        this.observables = observables;\n        this.project = project;\n    }\n    WithLatestFromOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new WithLatestFromSubscriber(subscriber, this.observables, this.project));\n    };\n    return WithLatestFromOperator;\n}());\nvar WithLatestFromSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(WithLatestFromSubscriber, _super);\n    function WithLatestFromSubscriber(destination, observables, project) {\n        var _this = _super.call(this, destination) || this;\n        _this.observables = observables;\n        _this.project = project;\n        _this.toRespond = [];\n        var len = observables.length;\n        _this.values = new Array(len);\n        for (var i = 0; i < len; i++) {\n            _this.toRespond.push(i);\n        }\n        for (var i = 0; i < len; i++) {\n            var observable = observables[i];\n            _this.add(subscribeToResult(_this, observable, undefined, i));\n        }\n        return _this;\n    }\n    WithLatestFromSubscriber.prototype.notifyNext = function (_outerValue, innerValue, outerIndex) {\n        this.values[outerIndex] = innerValue;\n        var toRespond = this.toRespond;\n        if (toRespond.length > 0) {\n            var found = toRespond.indexOf(outerIndex);\n            if (found !== -1) {\n                toRespond.splice(found, 1);\n            }\n        }\n    };\n    WithLatestFromSubscriber.prototype.notifyComplete = function () {\n    };\n    WithLatestFromSubscriber.prototype._next = function (value) {\n        if (this.toRespond.length === 0) {\n            var args = [value].concat(this.values);\n            if (this.project) {\n                this._tryProject(args);\n            }\n            else {\n                this.destination.next(args);\n            }\n        }\n    };\n    WithLatestFromSubscriber.prototype._tryProject = function (args) {\n        var result;\n        try {\n            result = this.project.apply(this, args);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return WithLatestFromSubscriber;\n}(OuterSubscriber));\n//# sourceMappingURL=withLatestFrom.js.map\n","/** PURE_IMPORTS_START _observable_zip PURE_IMPORTS_END */\nimport { zip as zipStatic } from '../observable/zip';\nexport function zip() {\n    var observables = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        observables[_i] = arguments[_i];\n    }\n    return function zipOperatorFunction(source) {\n        return source.lift.call(zipStatic.apply(void 0, [source].concat(observables)));\n    };\n}\n//# sourceMappingURL=zip.js.map\n","/** PURE_IMPORTS_START _observable_zip PURE_IMPORTS_END */\nimport { ZipOperator } from '../observable/zip';\nexport function zipAll(project) {\n    return function (source) { return source.lift(new ZipOperator(project)); };\n}\n//# sourceMappingURL=zipAll.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var i = 0;\n        sub.add(scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n                return;\n            }\n            subscriber.next(input[i++]);\n            if (!subscriber.closed) {\n                sub.add(this.schedule());\n            }\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function scheduleIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var iterator;\n        sub.add(function () {\n            if (iterator && typeof iterator.return === 'function') {\n                iterator.return();\n            }\n        });\n        sub.add(scheduler.schedule(function () {\n            iterator = input[Symbol_iterator]();\n            sub.add(scheduler.schedule(function () {\n                if (subscriber.closed) {\n                    return;\n                }\n                var value;\n                var done;\n                try {\n                    var result = iterator.next();\n                    value = result.value;\n                    done = result.done;\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                    this.schedule();\n                }\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function scheduleObservable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            var observable = input[Symbol_observable]();\n            sub.add(observable.subscribe({\n                next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function schedulePromise(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            return input.then(function (value) {\n                sub.add(scheduler.schedule(function () {\n                    subscriber.next(value);\n                    sub.add(scheduler.schedule(function () { return subscriber.complete(); }));\n                }));\n            }, function (err) {\n                sub.add(scheduler.schedule(function () { return subscriber.error(err); }));\n            });\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=schedulePromise.js.map\n","/** PURE_IMPORTS_START _scheduleObservable,_schedulePromise,_scheduleArray,_scheduleIterable,_util_isInteropObservable,_util_isPromise,_util_isArrayLike,_util_isIterable PURE_IMPORTS_END */\nimport { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        else if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        else if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        else if (isIterable(input) || typeof input === 'string') {\n            return scheduleIterable(input, scheduler);\n        }\n    }\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n//# sourceMappingURL=scheduled.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\nvar Action = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Action, _super);\n    function Action(scheduler, work) {\n        return _super.call(this) || this;\n    }\n    Action.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return this;\n    };\n    return Action;\n}(Subscription));\nexport { Action };\n//# sourceMappingURL=Action.js.map\n","/** PURE_IMPORTS_START tslib,_util_Immediate,_AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Immediate } from '../util/Immediate';\nimport { AsyncAction } from './AsyncAction';\nvar AsapAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsapAction, _super);\n    function AsapAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    AsapAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay !== null && delay > 0) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        scheduler.actions.push(this);\n        return scheduler.scheduled || (scheduler.scheduled = Immediate.setImmediate(scheduler.flush.bind(scheduler, null)));\n    };\n    AsapAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.recycleAsyncId.call(this, scheduler, id, delay);\n        }\n        if (scheduler.actions.length === 0) {\n            Immediate.clearImmediate(id);\n            scheduler.scheduled = undefined;\n        }\n        return undefined;\n    };\n    return AsapAction;\n}(AsyncAction));\nexport { AsapAction };\n//# sourceMappingURL=AsapAction.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar AsapScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsapScheduler, _super);\n    function AsapScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AsapScheduler.prototype.flush = function (action) {\n        this.active = true;\n        this.scheduled = undefined;\n        var actions = this.actions;\n        var error;\n        var index = -1;\n        var count = actions.length;\n        action = action || actions.shift();\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (++index < count && (action = actions.shift()));\n        this.active = false;\n        if (error) {\n            while (++index < count && (action = actions.shift())) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsapScheduler;\n}(AsyncScheduler));\nexport { AsapScheduler };\n//# sourceMappingURL=AsapScheduler.js.map\n","/** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Action } from './Action';\nvar AsyncAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncAction, _super);\n    function AsyncAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        _this.pending = false;\n        return _this;\n    }\n    AsyncAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (this.closed) {\n            return this;\n        }\n        this.state = state;\n        var id = this.id;\n        var scheduler = this.scheduler;\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, delay);\n        }\n        this.pending = true;\n        this.delay = delay;\n        this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n        return this;\n    };\n    AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        return setInterval(scheduler.flush.bind(scheduler, this), delay);\n    };\n    AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay !== null && this.delay === delay && this.pending === false) {\n            return id;\n        }\n        clearInterval(id);\n        return undefined;\n    };\n    AsyncAction.prototype.execute = function (state, delay) {\n        if (this.closed) {\n            return new Error('executing a cancelled action');\n        }\n        this.pending = false;\n        var error = this._execute(state, delay);\n        if (error) {\n            return error;\n        }\n        else if (this.pending === false && this.id != null) {\n            this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n        }\n    };\n    AsyncAction.prototype._execute = function (state, delay) {\n        var errored = false;\n        var errorValue = undefined;\n        try {\n            this.work(state);\n        }\n        catch (e) {\n            errored = true;\n            errorValue = !!e && e || new Error(e);\n        }\n        if (errored) {\n            this.unsubscribe();\n            return errorValue;\n        }\n    };\n    AsyncAction.prototype._unsubscribe = function () {\n        var id = this.id;\n        var scheduler = this.scheduler;\n        var actions = scheduler.actions;\n        var index = actions.indexOf(this);\n        this.work = null;\n        this.state = null;\n        this.pending = false;\n        this.scheduler = null;\n        if (index !== -1) {\n            actions.splice(index, 1);\n        }\n        if (id != null) {\n            this.id = this.recycleAsyncId(scheduler, id, null);\n        }\n        this.delay = null;\n    };\n    return AsyncAction;\n}(Action));\nexport { AsyncAction };\n//# sourceMappingURL=AsyncAction.js.map\n","/** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Scheduler } from '../Scheduler';\nvar AsyncScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AsyncScheduler, _super);\n    function AsyncScheduler(SchedulerAction, now) {\n        if (now === void 0) {\n            now = Scheduler.now;\n        }\n        var _this = _super.call(this, SchedulerAction, function () {\n            if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n                return AsyncScheduler.delegate.now();\n            }\n            else {\n                return now();\n            }\n        }) || this;\n        _this.actions = [];\n        _this.active = false;\n        _this.scheduled = undefined;\n        return _this;\n    }\n    AsyncScheduler.prototype.schedule = function (work, delay, state) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n            return AsyncScheduler.delegate.schedule(work, delay, state);\n        }\n        else {\n            return _super.prototype.schedule.call(this, work, delay, state);\n        }\n    };\n    AsyncScheduler.prototype.flush = function (action) {\n        var actions = this.actions;\n        if (this.active) {\n            actions.push(action);\n            return;\n        }\n        var error;\n        this.active = true;\n        do {\n            if (error = action.execute(action.state, action.delay)) {\n                break;\n            }\n        } while (action = actions.shift());\n        this.active = false;\n        if (error) {\n            while (action = actions.shift()) {\n                action.unsubscribe();\n            }\n            throw error;\n        }\n    };\n    return AsyncScheduler;\n}(Scheduler));\nexport { AsyncScheduler };\n//# sourceMappingURL=AsyncScheduler.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncAction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncAction } from './AsyncAction';\nvar QueueAction = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueAction, _super);\n    function QueueAction(scheduler, work) {\n        var _this = _super.call(this, scheduler, work) || this;\n        _this.scheduler = scheduler;\n        _this.work = work;\n        return _this;\n    }\n    QueueAction.prototype.schedule = function (state, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if (delay > 0) {\n            return _super.prototype.schedule.call(this, state, delay);\n        }\n        this.delay = delay;\n        this.state = state;\n        this.scheduler.flush(this);\n        return this;\n    };\n    QueueAction.prototype.execute = function (state, delay) {\n        return (delay > 0 || this.closed) ?\n            _super.prototype.execute.call(this, state, delay) :\n            this._execute(state, delay);\n    };\n    QueueAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n        if (delay === void 0) {\n            delay = 0;\n        }\n        if ((delay !== null && delay > 0) || (delay === null && this.delay > 0)) {\n            return _super.prototype.requestAsyncId.call(this, scheduler, id, delay);\n        }\n        return scheduler.flush(this);\n    };\n    return QueueAction;\n}(AsyncAction));\nexport { QueueAction };\n//# sourceMappingURL=QueueAction.js.map\n","/** PURE_IMPORTS_START tslib,_AsyncScheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { AsyncScheduler } from './AsyncScheduler';\nvar QueueScheduler = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(QueueScheduler, _super);\n    function QueueScheduler() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return QueueScheduler;\n}(AsyncScheduler));\nexport { QueueScheduler };\n//# sourceMappingURL=QueueScheduler.js.map\n","/** PURE_IMPORTS_START _AsapAction,_AsapScheduler PURE_IMPORTS_END */\nimport { AsapAction } from './AsapAction';\nimport { AsapScheduler } from './AsapScheduler';\nexport var asapScheduler = /*@__PURE__*/ new AsapScheduler(AsapAction);\nexport var asap = asapScheduler;\n//# sourceMappingURL=asap.js.map\n","/** PURE_IMPORTS_START _AsyncAction,_AsyncScheduler PURE_IMPORTS_END */\nimport { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport var asyncScheduler = /*@__PURE__*/ new AsyncScheduler(AsyncAction);\nexport var async = asyncScheduler;\n//# sourceMappingURL=async.js.map\n","/** PURE_IMPORTS_START _QueueAction,_QueueScheduler PURE_IMPORTS_END */\nimport { QueueAction } from './QueueAction';\nimport { QueueScheduler } from './QueueScheduler';\nexport var queueScheduler = /*@__PURE__*/ new QueueScheduler(QueueAction);\nexport var queue = queueScheduler;\n//# sourceMappingURL=queue.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = /*@__PURE__*/ getSymbolIterator();\nexport var $$iterator = iterator;\n//# sourceMappingURL=iterator.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var rxSubscriber = /*@__PURE__*/ (function () {\n    return typeof Symbol === 'function'\n        ? /*@__PURE__*/ Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n})();\nexport var $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ArgumentOutOfRangeErrorImpl = /*@__PURE__*/ (function () {\n    function ArgumentOutOfRangeErrorImpl() {\n        Error.call(this);\n        this.message = 'argument out of range';\n        this.name = 'ArgumentOutOfRangeError';\n        return this;\n    }\n    ArgumentOutOfRangeErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ArgumentOutOfRangeErrorImpl;\n})();\nexport var ArgumentOutOfRangeError = ArgumentOutOfRangeErrorImpl;\n//# sourceMappingURL=ArgumentOutOfRangeError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar EmptyErrorImpl = /*@__PURE__*/ (function () {\n    function EmptyErrorImpl() {\n        Error.call(this);\n        this.message = 'no elements in sequence';\n        this.name = 'EmptyError';\n        return this;\n    }\n    EmptyErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return EmptyErrorImpl;\n})();\nexport var EmptyError = EmptyErrorImpl;\n//# sourceMappingURL=EmptyError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar nextHandle = 1;\nvar RESOLVED = /*@__PURE__*/ (function () { return /*@__PURE__*/ Promise.resolve(); })();\nvar activeHandles = {};\nfunction findAndClearHandle(handle) {\n    if (handle in activeHandles) {\n        delete activeHandles[handle];\n        return true;\n    }\n    return false;\n}\nexport var Immediate = {\n    setImmediate: function (cb) {\n        var handle = nextHandle++;\n        activeHandles[handle] = true;\n        RESOLVED.then(function () { return findAndClearHandle(handle) && cb(); });\n        return handle;\n    },\n    clearImmediate: function (handle) {\n        findAndClearHandle(handle);\n    },\n};\nexport var TestTools = {\n    pending: function () {\n        return Object.keys(activeHandles).length;\n    }\n};\n//# sourceMappingURL=Immediate.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n    function ObjectUnsubscribedErrorImpl() {\n        Error.call(this);\n        this.message = 'object unsubscribed';\n        this.name = 'ObjectUnsubscribedError';\n        return this;\n    }\n    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n})();\nexport var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar TimeoutErrorImpl = /*@__PURE__*/ (function () {\n    function TimeoutErrorImpl() {\n        Error.call(this);\n        this.message = 'Timeout has occurred';\n        this.name = 'TimeoutError';\n        return this;\n    }\n    TimeoutErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return TimeoutErrorImpl;\n})();\nexport var TimeoutError = TimeoutErrorImpl;\n//# sourceMappingURL=TimeoutError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexport var UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map\n","/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nexport function canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=canReportError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\n//# sourceMappingURL=hostReportError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isDate(value) {\n    return value instanceof Date && !isNaN(+value);\n}\n//# sourceMappingURL=isDate.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function isInteropObservable(input) {\n    return input && typeof input[Symbol_observable] === 'function';\n}\n//# sourceMappingURL=isInteropObservable.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function isIterable(input) {\n    return input && typeof input[Symbol_iterator] === 'function';\n}\n//# sourceMappingURL=isIterable.js.map\n","/** PURE_IMPORTS_START _isArray PURE_IMPORTS_END */\nimport { isArray } from './isArray';\nexport function isNumeric(val) {\n    return !isArray(val) && (val - parseFloat(val) + 1) >= 0;\n}\n//# sourceMappingURL=isNumeric.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isObject(x) {\n    return x !== null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isPromise(value) {\n    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\n//# sourceMappingURL=isPromise.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isScheduler(value) {\n    return value && typeof value.schedule === 'function';\n}\n//# sourceMappingURL=isScheduler.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function noop() { }\n//# sourceMappingURL=noop.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function not(pred, thisArg) {\n    function notPred() {\n        return !(notPred.pred.apply(notPred.thisArg, arguments));\n    }\n    notPred.pred = pred;\n    notPred.thisArg = thisArg;\n    return notPred;\n}\n//# sourceMappingURL=not.js.map\n","/** PURE_IMPORTS_START _identity PURE_IMPORTS_END */\nimport { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n","/** PURE_IMPORTS_START _subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeTo = function (result) {\n    if (!!result && typeof result[Symbol_observable] === 'function') {\n        return subscribeToObservable(result);\n    }\n    else if (isArrayLike(result)) {\n        return subscribeToArray(result);\n    }\n    else if (isPromise(result)) {\n        return subscribeToPromise(result);\n    }\n    else if (!!result && typeof result[Symbol_iterator] === 'function') {\n        return subscribeToIterable(result);\n    }\n    else {\n        var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n//# sourceMappingURL=subscribeTo.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToArray = function (array) {\n    return function (subscriber) {\n        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    };\n};\n//# sourceMappingURL=subscribeToArray.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport var subscribeToIterable = function (iterable) {\n    return function (subscriber) {\n        var iterator = iterable[Symbol_iterator]();\n        do {\n            var item = void 0;\n            try {\n                item = iterator.next();\n            }\n            catch (err) {\n                subscriber.error(err);\n                return subscriber;\n            }\n            if (item.done) {\n                subscriber.complete();\n                break;\n            }\n            subscriber.next(item.value);\n            if (subscriber.closed) {\n                break;\n            }\n        } while (true);\n        if (typeof iterator.return === 'function') {\n            subscriber.add(function () {\n                if (iterator.return) {\n                    iterator.return();\n                }\n            });\n        }\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToIterable.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeToObservable = function (obj) {\n    return function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (typeof obs.subscribe !== 'function') {\n            throw new TypeError('Provided object does not correctly implement Symbol.observable');\n        }\n        else {\n            return obs.subscribe(subscriber);\n        }\n    };\n};\n//# sourceMappingURL=subscribeToObservable.js.map\n","/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */\nimport { hostReportError } from './hostReportError';\nexport var subscribeToPromise = function (promise) {\n    return function (subscriber) {\n        promise.then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, hostReportError);\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToPromise.js.map\n","/** PURE_IMPORTS_START _InnerSubscriber,_subscribeTo,_Observable PURE_IMPORTS_END */\nimport { InnerSubscriber } from '../InnerSubscriber';\nimport { subscribeTo } from './subscribeTo';\nimport { Observable } from '../Observable';\nexport function subscribeToResult(outerSubscriber, result, outerValue, outerIndex, innerSubscriber) {\n    if (innerSubscriber === void 0) {\n        innerSubscriber = new InnerSubscriber(outerSubscriber, outerValue, outerIndex);\n    }\n    if (innerSubscriber.closed) {\n        return undefined;\n    }\n    if (result instanceof Observable) {\n        return result.subscribe(innerSubscriber);\n    }\n    return subscribeTo(result)(innerSubscriber);\n}\n//# sourceMappingURL=subscribeToResult.js.map\n","/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport { audit } from '../internal/operators/audit';\nexport { auditTime } from '../internal/operators/auditTime';\nexport { buffer } from '../internal/operators/buffer';\nexport { bufferCount } from '../internal/operators/bufferCount';\nexport { bufferTime } from '../internal/operators/bufferTime';\nexport { bufferToggle } from '../internal/operators/bufferToggle';\nexport { bufferWhen } from '../internal/operators/bufferWhen';\nexport { catchError } from '../internal/operators/catchError';\nexport { combineAll } from '../internal/operators/combineAll';\nexport { combineLatest } from '../internal/operators/combineLatest';\nexport { concat } from '../internal/operators/concat';\nexport { concatAll } from '../internal/operators/concatAll';\nexport { concatMap } from '../internal/operators/concatMap';\nexport { concatMapTo } from '../internal/operators/concatMapTo';\nexport { count } from '../internal/operators/count';\nexport { debounce } from '../internal/operators/debounce';\nexport { debounceTime } from '../internal/operators/debounceTime';\nexport { defaultIfEmpty } from '../internal/operators/defaultIfEmpty';\nexport { delay } from '../internal/operators/delay';\nexport { delayWhen } from '../internal/operators/delayWhen';\nexport { dematerialize } from '../internal/operators/dematerialize';\nexport { distinct } from '../internal/operators/distinct';\nexport { distinctUntilChanged } from '../internal/operators/distinctUntilChanged';\nexport { distinctUntilKeyChanged } from '../internal/operators/distinctUntilKeyChanged';\nexport { elementAt } from '../internal/operators/elementAt';\nexport { endWith } from '../internal/operators/endWith';\nexport { every } from '../internal/operators/every';\nexport { exhaust } from '../internal/operators/exhaust';\nexport { exhaustMap } from '../internal/operators/exhaustMap';\nexport { expand } from '../internal/operators/expand';\nexport { filter } from '../internal/operators/filter';\nexport { finalize } from '../internal/operators/finalize';\nexport { find } from '../internal/operators/find';\nexport { findIndex } from '../internal/operators/findIndex';\nexport { first } from '../internal/operators/first';\nexport { groupBy } from '../internal/operators/groupBy';\nexport { ignoreElements } from '../internal/operators/ignoreElements';\nexport { isEmpty } from '../internal/operators/isEmpty';\nexport { last } from '../internal/operators/last';\nexport { map } from '../internal/operators/map';\nexport { mapTo } from '../internal/operators/mapTo';\nexport { materialize } from '../internal/operators/materialize';\nexport { max } from '../internal/operators/max';\nexport { merge } from '../internal/operators/merge';\nexport { mergeAll } from '../internal/operators/mergeAll';\nexport { mergeMap, flatMap } from '../internal/operators/mergeMap';\nexport { mergeMapTo } from '../internal/operators/mergeMapTo';\nexport { mergeScan } from '../internal/operators/mergeScan';\nexport { min } from '../internal/operators/min';\nexport { multicast } from '../internal/operators/multicast';\nexport { observeOn } from '../internal/operators/observeOn';\nexport { onErrorResumeNext } from '../internal/operators/onErrorResumeNext';\nexport { pairwise } from '../internal/operators/pairwise';\nexport { partition } from '../internal/operators/partition';\nexport { pluck } from '../internal/operators/pluck';\nexport { publish } from '../internal/operators/publish';\nexport { publishBehavior } from '../internal/operators/publishBehavior';\nexport { publishLast } from '../internal/operators/publishLast';\nexport { publishReplay } from '../internal/operators/publishReplay';\nexport { race } from '../internal/operators/race';\nexport { reduce } from '../internal/operators/reduce';\nexport { repeat } from '../internal/operators/repeat';\nexport { repeatWhen } from '../internal/operators/repeatWhen';\nexport { retry } from '../internal/operators/retry';\nexport { retryWhen } from '../internal/operators/retryWhen';\nexport { refCount } from '../internal/operators/refCount';\nexport { sample } from '../internal/operators/sample';\nexport { sampleTime } from '../internal/operators/sampleTime';\nexport { scan } from '../internal/operators/scan';\nexport { sequenceEqual } from '../internal/operators/sequenceEqual';\nexport { share } from '../internal/operators/share';\nexport { shareReplay } from '../internal/operators/shareReplay';\nexport { single } from '../internal/operators/single';\nexport { skip } from '../internal/operators/skip';\nexport { skipLast } from '../internal/operators/skipLast';\nexport { skipUntil } from '../internal/operators/skipUntil';\nexport { skipWhile } from '../internal/operators/skipWhile';\nexport { startWith } from '../internal/operators/startWith';\nexport { subscribeOn } from '../internal/operators/subscribeOn';\nexport { switchAll } from '../internal/operators/switchAll';\nexport { switchMap } from '../internal/operators/switchMap';\nexport { switchMapTo } from '../internal/operators/switchMapTo';\nexport { take } from '../internal/operators/take';\nexport { takeLast } from '../internal/operators/takeLast';\nexport { takeUntil } from '../internal/operators/takeUntil';\nexport { takeWhile } from '../internal/operators/takeWhile';\nexport { tap } from '../internal/operators/tap';\nexport { throttle } from '../internal/operators/throttle';\nexport { throttleTime } from '../internal/operators/throttleTime';\nexport { throwIfEmpty } from '../internal/operators/throwIfEmpty';\nexport { timeInterval } from '../internal/operators/timeInterval';\nexport { timeout } from '../internal/operators/timeout';\nexport { timeoutWith } from '../internal/operators/timeoutWith';\nexport { timestamp } from '../internal/operators/timestamp';\nexport { toArray } from '../internal/operators/toArray';\nexport { window } from '../internal/operators/window';\nexport { windowCount } from '../internal/operators/windowCount';\nexport { windowTime } from '../internal/operators/windowTime';\nexport { windowToggle } from '../internal/operators/windowToggle';\nexport { windowWhen } from '../internal/operators/windowWhen';\nexport { withLatestFrom } from '../internal/operators/withLatestFrom';\nexport { zip } from '../internal/operators/zip';\nexport { zipAll } from '../internal/operators/zipAll';\n//# sourceMappingURL=index.js.map\n","/*!\n* screenfull\n* v5.2.0 - 2021-11-03\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\n\tvar fn = (function () {\n\t\tvar val;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// New WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// Old WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar eventNameMap = {\n\t\tchange: fn.fullscreenchange,\n\t\terror: fn.fullscreenerror\n\t};\n\n\tvar screenfull = {\n\t\trequest: function (element, options) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar onFullScreenEntered = function () {\n\t\t\t\t\tthis.off('change', onFullScreenEntered);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenEntered);\n\n\t\t\t\telement = element || document.documentElement;\n\n\t\t\t\tvar returnPromise = element[fn.requestFullscreen](options);\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenEntered).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\texit: function () {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tif (!this.isFullscreen) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar onFullScreenExit = function () {\n\t\t\t\t\tthis.off('change', onFullScreenExit);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenExit);\n\n\t\t\t\tvar returnPromise = document[fn.exitFullscreen]();\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenExit).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\ttoggle: function (element, options) {\n\t\t\treturn this.isFullscreen ? this.exit() : this.request(element, options);\n\t\t},\n\t\tonchange: function (callback) {\n\t\t\tthis.on('change', callback);\n\t\t},\n\t\tonerror: function (callback) {\n\t\t\tthis.on('error', callback);\n\t\t},\n\t\ton: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\toff: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = {isEnabled: false};\n\t\t} else {\n\t\t\twindow.screenfull = {isEnabled: false};\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tisEnabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n","var counter = 0;\r\nvar buckets = {};\r\nvar setHarmonicInterval = function (fn, ms) {\r\n    var _a;\r\n    var id = counter++;\r\n    if (buckets[ms]) {\r\n        buckets[ms].listeners[id] = fn;\r\n    }\r\n    else {\r\n        var timer = setInterval(function () {\r\n            var listeners = buckets[ms].listeners;\r\n            var didThrow = false;\r\n            var lastError;\r\n            for (var _i = 0, _a = Object.values(listeners); _i < _a.length; _i++) {\r\n                var listener = _a[_i];\r\n                try {\r\n                    listener();\r\n                }\r\n                catch (error) {\r\n                    didThrow = true;\r\n                    lastError = error;\r\n                }\r\n            }\r\n            if (didThrow)\r\n                throw lastError;\r\n        }, ms);\r\n        buckets[ms] = {\r\n            ms: ms,\r\n            timer: timer,\r\n            listeners: (_a = {},\r\n                _a[id] = fn,\r\n                _a),\r\n        };\r\n    }\r\n    return {\r\n        bucket: buckets[ms],\r\n        id: id,\r\n    };\r\n};\r\nvar clearHarmonicInterval = function (_a) {\r\n    var bucket = _a.bucket, id = _a.id;\r\n    delete bucket.listeners[id];\r\n    var hasListeners = false;\r\n    for (var listener in bucket.listeners) {\r\n        hasListeners = true;\r\n        break;\r\n    }\r\n    if (!hasListeners) {\r\n        clearInterval(bucket.timer);\r\n        delete buckets[bucket.ms];\r\n    }\r\n};\n\nexport { clearHarmonicInterval, setHarmonicInterval };\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {number}    delay -          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}   [noTrailing] -   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset).\n * @param  {Function}  callback -       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {boolean}   [debounceMode] - If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @returns {Function}  A new, throttled, function.\n */\nfunction throttle (delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    for (var _len = arguments.length, arguments_ = new Array(_len), _key = 0; _key < _len; _key++) {\n      arguments_[_key] = arguments[_key];\n    }\n\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, arguments_);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {number}   delay -         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}  [atBegin] -     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback -      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @returns {Function} A new, debounced function.\n */\n\nfunction debounce (delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { debounce, throttle };\n//# sourceMappingURL=index.js.map\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.easing = {\n    // No easing, no acceleration\n    linear: function (t) { return t; },\n    // Accelerates fast, then slows quickly towards end.\n    quadratic: function (t) { return t * (-(t * t) * t + 4 * t * t - 6 * t + 4); },\n    // Overshoots over 1 and then returns to 1 towards end.\n    cubic: function (t) { return t * (4 * t * t - 9 * t + 6); },\n    // Overshoots over 1 multiple times - wiggles around 1.\n    elastic: function (t) { return t * (33 * t * t * t * t - 106 * t * t * t + 126 * t * t - 67 * t + 15); },\n    // Accelerating from zero velocity\n    inQuad: function (t) { return t * t; },\n    // Decelerating to zero velocity\n    outQuad: function (t) { return t * (2 - t); },\n    // Acceleration until halfway, then deceleration\n    inOutQuad: function (t) { return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t; },\n    // Accelerating from zero velocity\n    inCubic: function (t) { return t * t * t; },\n    // Decelerating to zero velocity\n    outCubic: function (t) { return (--t) * t * t + 1; },\n    // Acceleration until halfway, then deceleration\n    inOutCubic: function (t) { return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1; },\n    // Accelerating from zero velocity\n    inQuart: function (t) { return t * t * t * t; },\n    // Decelerating to zero velocity\n    outQuart: function (t) { return 1 - (--t) * t * t * t; },\n    // Acceleration until halfway, then deceleration\n    inOutQuart: function (t) { return t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t; },\n    // Accelerating from zero velocity\n    inQuint: function (t) { return t * t * t * t * t; },\n    // Decelerating to zero velocity\n    outQuint: function (t) { return 1 + (--t) * t * t * t * t; },\n    // Acceleration until halfway, then deceleration\n    inOutQuint: function (t) { return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t; },\n    // Accelerating from zero velocity\n    inSine: function (t) { return -Math.cos(t * (Math.PI / 2)) + 1; },\n    // Decelerating to zero velocity\n    outSine: function (t) { return Math.sin(t * (Math.PI / 2)); },\n    // Accelerating until halfway, then decelerating\n    inOutSine: function (t) { return -(Math.cos(Math.PI * t) - 1) / 2; },\n    // Exponential accelerating from zero velocity\n    inExpo: function (t) { return Math.pow(2, 10 * (t - 1)); },\n    // Exponential decelerating to zero velocity\n    outExpo: function (t) { return -Math.pow(2, -10 * t) + 1; },\n    // Exponential accelerating until halfway, then decelerating\n    inOutExpo: function (t) {\n        t /= .5;\n        if (t < 1)\n            return Math.pow(2, 10 * (t - 1)) / 2;\n        t--;\n        return (-Math.pow(2, -10 * t) + 2) / 2;\n    },\n    // Circular accelerating from zero velocity\n    inCirc: function (t) { return -Math.sqrt(1 - t * t) + 1; },\n    // Circular decelerating to zero velocity Moves VERY fast at the beginning and\n    // then quickly slows down in the middle. This tween can actually be used\n    // in continuous transitions where target value changes all the time,\n    // because of the very quick start, it hides the jitter between target value changes.\n    outCirc: function (t) { return Math.sqrt(1 - (t = t - 1) * t); },\n    // Circular acceleration until halfway, then deceleration\n    inOutCirc: function (t) {\n        t /= .5;\n        if (t < 1)\n            return -(Math.sqrt(1 - t * t) - 1) / 2;\n        t -= 2;\n        return (Math.sqrt(1 - t * t) + 1) / 2;\n    }\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import * as _ from 'lodash';\nimport {\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  LoadingState,\n  LogRowModel,\n  MetricFindValue,\n} from '@grafana/data';\nimport { combineLatest, Observable, of, from } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { DataSourceWithBackend, getBackendSrv, getTemplateSrv } from '@grafana/runtime';\nimport { TCMonitorDatasource } from './tc_monitor/MonitorDatasource';\nimport { MyDataSourceOptions, QueryInfo, ServiceType, VariableQuery } from './types';\nimport { LogServiceDataSource } from './log-service/LogServiceDataSource';\nimport RUMServiceDataSource from './rum-service/RUMServiceDataSource';\nimport APMServiceDataSource from './apm-service/APMServiceDataSource';\nimport { IS_DEVELOPMENT_ENVIRONMENT } from './common/constants';\n\n/** 顶层数据源，内部根据配置与请求情况，请求具体的业务（monitor or logService） */\nexport class DataSource extends DataSourceWithBackend<QueryInfo, MyDataSourceOptions> {\n  readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  readonly monitorDataSource: TCMonitorDatasource;\n  readonly logServiceDataSource: LogServiceDataSource;\n  readonly RUMServiceDataSource: RUMServiceDataSource;\n  readonly APMServiceDataSource: APMServiceDataSource;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\n    super(instanceSettings);\n    this.instanceSettings = instanceSettings;\n    if (IS_DEVELOPMENT_ENVIRONMENT) {\n      (window as any).tcDatasource = this;\n    }\n\n    this.monitorDataSource = new TCMonitorDatasource(this.instanceSettings, getBackendSrv(), getTemplateSrv()) as any;\n    (this.monitorDataSource as any).meta = this.meta;\n    this.logServiceDataSource = new LogServiceDataSource(this.instanceSettings);\n    (this.logServiceDataSource as any).meta = this.meta;\n    this.RUMServiceDataSource = new RUMServiceDataSource(this.instanceSettings);\n    (this.RUMServiceDataSource as any).meta = this.meta;\n    this.APMServiceDataSource = new APMServiceDataSource(this.instanceSettings);\n    (this.APMServiceDataSource as any).meta = this.meta;\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Observable<DataQueryResponse> {\n    const monitorTargets: QueryInfo[] = [];\n    const logServiceTargets: QueryInfo[] = [];\n    const RUMServiceTargets: QueryInfo[] = [];\n    const APMServiceTargets: QueryInfo[] = [];\n    for (const target of request.targets) {\n      if (target.serviceType === ServiceType.logService) {\n        logServiceTargets.push(target);\n      } else if (target.serviceType === ServiceType.RUMService) {\n        RUMServiceTargets.push(target);\n      } else if (target.serviceType === ServiceType.APMService) {\n        APMServiceTargets.push(target);\n      } else {\n        monitorTargets.push(target);\n      }\n    }\n\n    const EmptyDataQueryResponse: DataQueryResponse = { data: [], state: LoadingState.Done };\n    return combineLatest<DataQueryResponse[]>([\n      monitorTargets.length\n        ? from(\n            this.monitorDataSource.query({\n              ..._.clone(_.omit(request, 'targets')),\n              targets: monitorTargets,\n            })\n          )\n        : of(EmptyDataQueryResponse),\n      logServiceTargets.length\n        ? this.logServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: logServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n      RUMServiceTargets.length\n        ? this.RUMServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: RUMServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n      APMServiceTargets.length\n        ? this.APMServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: APMServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n    ]).pipe(\n      map((responses: DataQueryResponse[]): DataQueryResponse => {\n        const errResponse = responses.find((item) => item.state === LoadingState.Error);\n        if (errResponse) {\n          return errResponse;\n        }\n        if (!responses.every((item) => item.state === LoadingState.Done)) {\n          return { data: [], state: LoadingState.Loading };\n        }\n        return {\n          data: responses.map((item) => item.data).flat(1),\n          state: LoadingState.Done,\n        };\n      })\n    );\n  }\n\n  async testDatasource() {\n    // 如果子服务没有开启，则返回null\n    const serviceTestResults = (\n      await Promise.all([\n        this.monitorDataSource.testDatasource(),\n        this.logServiceDataSource.testDatasource(),\n        this.RUMServiceDataSource.testDatasource(),\n        this.APMServiceDataSource.testDatasource(),\n      ])\n    ).filter(Boolean);\n\n    if (serviceTestResults.length === 0) {\n      return {\n        status: 'error',\n        message: \"Nothing configured. At least one of the API's services must be configured.\",\n      };\n    }\n\n    const failedResult = serviceTestResults.find((item) => item?.status !== 'success');\n    if (failedResult) {\n      return failedResult;\n    } else {\n      return serviceTestResults[0];\n    }\n  }\n\n  async metricFindQuery(query: string | VariableQuery, options): Promise<MetricFindValue[]> {\n    if (_.isString(query) || query.serviceType === ServiceType.monitor) {\n      return this.monitorDataSource.metricFindQuery(_.isString(query) ? query : query.queryString, options);\n    }\n    if (query.serviceType === ServiceType.logService) {\n      return this.logServiceDataSource.metricFindQuery(query.logServiceParams, options);\n    }\n    if (query.serviceType === ServiceType.RUMService) {\n      return this.RUMServiceDataSource.metricFindQuery(query.queryString, options);\n    }\n    if (query.serviceType === ServiceType.APMService) {\n      return this.APMServiceDataSource.metricFindQuery(query.queryString, options);\n    }\n    return [];\n  }\n\n  getLogRowContext = (row: LogRowModel, options) => {\n    return this.logServiceDataSource.getLogRowContext(row, options);\n  };\n\n  showContextToggle = (row: LogRowModel) => {\n    return false;\n    // return this.logServiceDataSource.showContextToggle(row);\n  };\n}\n","import React, { PureComponent } from 'react';\nimport { DataSourceApi, QueryEditorProps } from '@grafana/data';\nimport { TCMonitorDatasourceQueryCtrl } from './query-ctrl/query.ctrl';\nimport { QueryCtrlRender } from './query-ctrl/QueryCtrlRender';\nimport { MyDataSourceOptions, QueryInfo, ServiceType, ServiceTypeOptions } from './types';\nimport { Alert, Tab, TabContent, TabsBar } from '@grafana/ui';\nimport { LogServiceQueryEditor } from './log-service/LogServiceQueryEditor';\nimport { RUMServiceQueryEditor } from './rum-service/RUMServiceQueryEditor';\nimport { APMServiceQueryEditor } from './apm-service/APMServiceQueryEditor';\nimport { DataSource } from './DataSource';\nimport { setLanguage, Language } from '../locale';\nimport { CoreApp } from './common/constants';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\nexport class QueryEditor extends PureComponent<Props> {\n  state = {\n    isAlertVisiable: false,\n  };\n\n  constructor(props) {\n    super(props);\n    setLanguage(props.datasource.instanceSettings.jsonData.language || Language.Chinese);\n  }\n\n  componentDidMount() {\n    const { query } = this.props;\n    // @ts-ignore\n    const app = this.props.app as CoreApp;\n    if (app === CoreApp.UnifiedAlerting) {\n      //  告警页面\n      this.partialOnChange({ serviceType: ServiceType.logService });\n      return;\n    }\n    const firstEnabledService = this.enabledServices[0];\n    if (!query.serviceType && firstEnabledService) {\n      this.partialOnChange({ serviceType: firstEnabledService });\n    }\n  }\n\n  partialOnChange = (queryInfo: Partial<QueryInfo>) => {\n    const { onChange, query: oldQuery } = this.props;\n    // @ts-ignore\n    const app = this.props.app as CoreApp;\n    const newQuery = { ...oldQuery, ...queryInfo } as unknown as QueryInfo;\n    if (app === CoreApp.UnifiedAlerting) {\n      //  告警页面\n      if (newQuery.serviceType === ServiceType.logService) {\n        onChange(newQuery);\n        this.setState({\n          isAlertVisiable: false,\n        });\n      } else {\n        this.setState({\n          isAlertVisiable: true,\n        });\n      }\n    } else {\n      onChange(newQuery);\n    }\n  };\n\n  get enabledServices() {\n    const { datasource } = this.props;\n    const monitorEnabled = datasource?.monitorDataSource.getNamespaces().length > 0;\n    const logServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['logServiceEnabled']);\n    const RUMServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['RUMServiceEnabled']);\n    const APMServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['APMServiceEnabled']);\n    return [\n      monitorEnabled && ServiceType.monitor,\n      logServiceEnabled && ServiceType.logService,\n      RUMServiceEnabled && ServiceType.RUMService,\n      APMServiceEnabled && ServiceType.APMService,\n    ].filter(Boolean);\n  }\n\n  render() {\n    const { datasource, query: queryInfo } = this.props;\n    const { isAlertVisiable } = this.state;\n    if (!datasource) {\n      return <div>loading</div>;\n    }\n    return (\n      <div>\n        {this.enabledServices.length > 1 && (\n          <TabsBar>\n            {ServiceTypeOptions.filter((item) => this.enabledServices.includes(item.value)).map((item) => (\n              <Tab\n                key={item.value}\n                label={item.label}\n                active={queryInfo.serviceType === item.value}\n                onChangeTab={() => {\n                  this.partialOnChange({ serviceType: item.value });\n                }}\n              />\n            ))}\n          </TabsBar>\n        )}\n        <TabContent>\n          {queryInfo.serviceType === ServiceType.monitor && this.renderMonitorQueryEditor()}\n          {queryInfo.serviceType === ServiceType.logService && this.renderLogServiceQueryEditor()}\n          {queryInfo.serviceType === ServiceType.RUMService && this.renderRUMServiceQueryEditor()}\n          {queryInfo.serviceType === ServiceType.APMService && this.renderAPMServiceQueryEditor()}\n        </TabContent>\n        {isAlertVisiable && <Alert title=\"目前仅 CLS日志服务 数据源支持告警\" />}\n      </div>\n    );\n  }\n\n  renderMonitorQueryEditor() {\n    const monitorDataSource: DataSourceApi = (this.props.datasource as any).monitorDataSource;\n    return (\n      monitorDataSource && (\n        <QueryCtrlRender {...this.props} queryCtrl={TCMonitorDatasourceQueryCtrl} datasource={monitorDataSource} />\n      )\n    );\n  }\n\n  renderLogServiceQueryEditor() {\n    return <LogServiceQueryEditor {...this.props} />;\n  }\n\n  renderRUMServiceQueryEditor() {\n    const { query, onChange, onRunQuery, datasource } = this.props;\n    return (\n      <RUMServiceQueryEditor query={query} onChange={onChange} onRunQuery={onRunQuery} datasource={datasource as any} />\n    );\n  }\n  renderAPMServiceQueryEditor() {\n    const { query, onChange, onRunQuery, datasource } = this.props;\n    return (\n      <APMServiceQueryEditor query={query} onChange={onChange} onRunQuery={onRunQuery} datasource={datasource as any} />\n    );\n  }\n}\n","import { InlineField, InlineFieldRow, Input, RadioButtonGroup } from '@grafana/ui';\nimport React, { useCallback } from 'react';\nimport { defaultQueryInfo, ServiceType, ServiceTypeOptions, VariableQuery } from './types';\nimport { DataSource } from './DataSource';\nimport { LogServiceQueryEditor } from './log-service/LogServiceQueryEditor';\nimport { useLatest } from 'react-use';\nimport { clone, isString } from 'lodash';\n\ninterface VariableQueryProps {\n  query: VariableQuery;\n  onChange: (v: VariableQuery, definition: string) => void;\n  datasource: DataSource;\n}\n\nconst InfoPopver: React.FC<any> = () => {\n  return (\n    <a target=\"_blank\" href=\"https://cloud.tencent.com/document/product/248/54510\">\n      Click here for more information of query\n    </a>\n  );\n};\nexport const VariableQueryEditor: React.FC<VariableQueryProps> = (props) => {\n  const propsRef = useLatest(props);\n  const { query, datasource } = props;\n\n  const onQueryChange = useCallback(\n    (newQuery: VariableQuery) => {\n      const { onChange } = propsRef.current;\n      let definition;\n      if (newQuery.serviceType === ServiceType.logService) {\n        definition = `SQL:  ${newQuery.logServiceParams?.Query}`;\n      } else {\n        definition = newQuery.queryString;\n      }\n      onChange?.(newQuery, definition);\n    },\n    [propsRef]\n  );\n  return (\n    <>\n      <InlineFieldRow>\n        <InlineField label=\"服务类型\" labelWidth={20}>\n          <RadioButtonGroup\n            options={ServiceTypeOptions}\n            value={isString(query) ? ServiceType.monitor : query.serviceType}\n            onChange={(type) => {\n              if (type === ServiceType.monitor) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n              if (type === ServiceType.logService) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                  logServiceParams: clone(defaultQueryInfo.logServiceParams),\n                });\n              }\n              if (type === ServiceType.RUMService) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n              if (type === ServiceType.APMService) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n            }}\n          />\n        </InlineField>\n      </InlineFieldRow>\n      {query.serviceType === ServiceType.logService && (\n        <>\n          {/* 复用编辑模式的日志主题输入组件 */}\n          <LogServiceQueryEditor\n            datasource={datasource}\n            query={query as unknown as any}\n            onRunQuery={() => {}}\n            onChange={(v) => {\n              onQueryChange({\n                serviceType: ServiceType.logService,\n                queryString: '',\n                logServiceParams: v.logServiceParams,\n              });\n            }}\n          />\n        </>\n      )}\n      {query.serviceType === ServiceType.RUMService && (\n        <InlineFieldRow>\n          <InlineField label=\"查询语句\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              placeholder=\"metric name or tags query\"\n              onChange={(e) =>\n                onQueryChange({\n                  serviceType: ServiceType.RUMService,\n                  queryString: e.currentTarget.value,\n                })\n              }\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {query.serviceType === ServiceType.APMService && (\n        <InlineFieldRow>\n          <InlineField label=\"查询语句\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              placeholder=\"metric name or tags query\"\n              onChange={(e) =>\n                onQueryChange({\n                  serviceType: ServiceType.APMService,\n                  queryString: e.currentTarget.value,\n                })\n              }\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {(isString(query) || query.serviceType === ServiceType.monitor) && (\n        <InlineFieldRow>\n          <InlineField label=\"查询语句\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              onChange={(e) =>\n                onQueryChange({\n                  serviceType: ServiceType.monitor,\n                  queryString: e.currentTarget.value,\n                })\n              }\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n    </>\n  );\n};\nVariableQueryEditor.displayName = 'VariableQueryEditor';\n","import { APMQueryTag } from './types';\nimport { APMQueryBuilder } from './query_builder';\nimport { ServiceType } from '../types';\nimport { DataSource } from '../DataSource';\n\nconst runExploreQuery = (\n  type: string,\n  withKey: string | undefined,\n  withMeasurementFilter: string | undefined,\n  target: { measurement: string | undefined; tags: APMQueryTag[]; policy: string | undefined },\n  datasource: DataSource\n): Promise<Array<{ text: string }>> => {\n  const builder = new APMQueryBuilder(target);\n  const q = builder.buildExploreQuery(type, withKey, withMeasurementFilter);\n  return datasource.metricFindQuery(\n    {\n      serviceType: ServiceType.APMService,\n      queryString: q,\n    },\n    undefined\n  );\n};\n\nexport async function getAllPolicies(datasource: DataSource): Promise<string[]> {\n  const target = { tags: [], measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('RETENTION POLICIES', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getAllMeasurementsForTags(\n  measurementFilter: string | undefined,\n  tags: APMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('MEASUREMENTS', undefined, measurementFilter, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagKeysForMeasurementAndTags(\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: APMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_KEYS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagValues(\n  tagKey: string,\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: APMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_VALUES', tagKey, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getFieldKeysForMeasurement(\n  measurement: string,\n  policy: string | undefined,\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags: [], measurement, policy };\n  const data = await runExploreQuery('FIELDS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n","import { cloneDeep, isString, map as _map, get } from 'lodash';\nimport { Observable, of, throwError, from } from 'rxjs';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { getBackendSrv, getTemplateSrv, TemplateSrv } from '@grafana/runtime';\nimport {\n  ArrayVector,\n  DataFrame,\n  DataQueryError,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  MetricFindValue,\n  dateMath,\n  DataSourceApi,\n  FieldType,\n  QueryResultMeta,\n  TIME_SERIES_TIME_FIELD_NAME,\n  TIME_SERIES_VALUE_FIELD_NAME,\n  TimeSeries,\n  LoadingState,\n  RawTimeRange,\n} from '@grafana/data';\nimport APMQueryModel from './APM_query_model';\nimport APMSeries from './APM_series';\nimport ResponseParser from './response_parser';\nimport { GetRequestParams, GetServiceAPIInfo } from '../common/constants';\nimport { MyDataSourceOptions, QueryInfo } from '../types';\nimport { APMOptions, APMQuery } from './types';\nimport { APMQueryBuilder } from './query_builder';\n\n// we detect the field type based on the value-array\nfunction getFieldType(values: unknown[]): FieldType {\n  // the values-array may contain a lot of nulls.\n  // we need the first not-null item\n  const firstNotNull = values.find((v) => v !== null);\n\n  if (firstNotNull === undefined) {\n    // we could not find any not-null values\n    return FieldType.number;\n  }\n\n  const valueType = typeof firstNotNull;\n\n  switch (valueType) {\n    case 'string':\n      return FieldType.string;\n    case 'boolean':\n      return FieldType.boolean;\n    case 'number':\n      return FieldType.number;\n    default:\n      throw new Error(`APM: invalid value type ${valueType}`);\n  }\n}\n\n// this conversion function is specialized to work with the timeseries\n// data returned by getTimeSeries()\nfunction timeSeriesToDataFrame(timeSeries: TimeSeries): DataFrame {\n  const times: number[] = [];\n  const values: unknown[] = [];\n\n  // the data we process here is not correctly typed.\n  // the typescript types say every data-point is number|null,\n  // but in fact it can be string or boolean too.\n\n  const points = timeSeries.datapoints;\n  for (const point of points) {\n    values.push(point[0]);\n    times.push(Number(`${point[1]}000`));\n  }\n\n  const timeField = {\n    name: TIME_SERIES_TIME_FIELD_NAME,\n    type: FieldType.time,\n    config: {},\n    values: new ArrayVector<number>(times),\n  };\n\n  const valueField = {\n    name: TIME_SERIES_VALUE_FIELD_NAME,\n    type: getFieldType(values),\n    config: {\n      displayNameFromDS: timeSeries.title,\n    },\n    values: new ArrayVector<unknown>(values),\n    labels: timeSeries.tags,\n  };\n\n  const fields = [timeField, valueField];\n\n  return {\n    name: timeSeries.target,\n    refId: timeSeries.refId,\n    meta: timeSeries.meta,\n    fields,\n    length: values.length,\n  };\n}\n\nexport default class APMServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  type: string;\n  url: string;\n  responseParser: any;\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  private readonly templateSrv: TemplateSrv;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<APMOptions>) {\n    super(instanceSettings);\n\n    this.instanceSettings = instanceSettings;\n    this.templateSrv = getTemplateSrv();\n    this.responseParser = new ResponseParser();\n    this.type = 'APMService';\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Promise<DataQueryResponse> | Observable<DataQueryResponse> {\n    return this.classicQuery(request);\n  }\n\n  classicQuery(options: any): Observable<DataQueryResponse> {\n    let timeFilter = this.getTimeFilter(options);\n    const scopedVars = options.scopedVars;\n    const targets = cloneDeep(options.targets);\n    const queryTargets: any[] = [];\n\n    let i;\n    let y;\n\n    let allQueries = _map(targets, (target) => {\n      if (target.hide) {\n        return '';\n      }\n      if (target.APMServiceParams.custom) {\n        return target.APMServiceParams.custom;\n      }\n      target.APMServiceParams = this.fixTimePeriod(target.APMServiceParams, options);\n      queryTargets.push(target);\n\n      // backward compatibility\n      scopedVars.interval = scopedVars.__interval;\n\n      return new APMQueryModel(target.APMServiceParams, this.templateSrv, scopedVars).render(true);\n    }).reduce((acc, current) => {\n      if (current !== '') {\n        acc += ';' + current;\n      }\n      return acc;\n    });\n\n    if (allQueries === '') {\n      return of({ data: [] });\n    }\n\n    // add global adhoc filters to timeFilter\n    // @ts-ignore\n    const adhocFilters = this.templateSrv.getAdhocFilters(this.name);\n    if (adhocFilters.length > 0) {\n      const tmpQuery = new APMQueryModel({}, this.templateSrv, scopedVars);\n      timeFilter += ' AND ' + tmpQuery.renderAdhocFilters(adhocFilters);\n    }\n\n    // replace grafana variables\n    scopedVars.timeFilter = { value: timeFilter };\n\n    // replace templated variables\n    allQueries = this.templateSrv.replace(allQueries, scopedVars);\n\n    return this._seriesQuery(allQueries, options).pipe(\n      map((data: any) => {\n        if (!data || !data.results) {\n          return { data: [] };\n        }\n\n        const seriesList = [];\n        for (i = 0; i < data.results.length; i++) {\n          const result = data.results[i];\n          if (!result || !result.series) {\n            continue;\n          }\n\n          const target = queryTargets[i];\n          let alias = target.APMServiceParams.alias;\n          if (alias) {\n            alias = this.templateSrv.replace(target.APMServiceParams.alias, options.scopedVars);\n          }\n\n          const meta: QueryResultMeta = {\n            executedQueryString: data.executedQueryString,\n          };\n\n          const apmSeries = new APMSeries({\n            refId: target.refId,\n            series: data.results[i].series,\n            alias: alias,\n            meta,\n          });\n\n          switch (target.APMServiceParams.resultFormat) {\n            case 'logs':\n              meta.preferredVisualisationType = 'logs';\n            // eslint-disable-next-line no-fallthrough\n            case 'table': {\n              seriesList.push(apmSeries.getTable());\n              break;\n            }\n            default: {\n              const timeSeries = apmSeries.getTimeSeries();\n              for (y = 0; y < timeSeries.length; y++) {\n                seriesList.push(timeSeriesToDataFrame(timeSeries[y]));\n              }\n              break;\n            }\n          }\n        }\n\n        return { data: seriesList, state: LoadingState.Done };\n      })\n    );\n  }\n\n  async metricFindQuery(query: string, options?: any): Promise<MetricFindValue[]> {\n    const interpolated = this.templateSrv.replace(query, undefined, 'regex');\n\n    return this._seriesQuery(interpolated, options)\n      .toPromise()\n      .then((resp) => {\n        return this.responseParser.parse(query, resp);\n      });\n  }\n\n  _seriesQuery(query: string, options?: any) {\n    if (!query) {\n      return of({ results: [] });\n    }\n\n    if (options?.range) {\n      const timeFilter = this.getTimeFilter({ rangeRaw: options.range, timezone: options.timezone });\n      query = query.replace('$timeFilter', timeFilter);\n    }\n\n    return this._APMRequest(query);\n  }\n\n  _APMRequest(query) {\n    const serviceType = 'apm';\n    const serviceInfo = GetServiceAPIInfo('', serviceType);\n\n    return from(\n      GetRequestParams(\n        { url: this.instanceSettings.url + serviceInfo.path, data: { Query: btoa(query) } },\n        serviceType,\n        { action: 'DescribeGrafanaMetricData' },\n        '',\n        this.instanceSettings.id,\n        getBackendSrv()\n      )\n    ).pipe(\n      mergeMap((requestOptions) => {\n        return getBackendSrv()\n          .fetch(requestOptions)\n          .pipe(\n            map((result: any) => {\n              if (get(result, 'data.Response.Error')) {\n                // eslint-disable-next-line no-throw-literal\n                throw {\n                  message: 'APM Error: ' + get(result, 'data.Response.Error.Message'),\n                  data: result.data,\n                  cancelled: true,\n                };\n              }\n              const res = get(result, 'data.Response.Result');\n              const buf = Buffer.from(res, 'base64').toString();\n              const data = JSON.parse(buf);\n              data.executedQueryString = query;\n\n              if (data) {\n                if (data.Response.Error) {\n                  // eslint-disable-next-line no-throw-literal\n                  throw {\n                    message: 'APM Error: ' + data.Response.Error.Code + ': ' + data.Response.Error.Message,\n                    data,\n                  };\n                }\n                if (data.Response.Result) {\n                  const errors = data.Response.Result.results.filter((elem: any) => elem.error);\n\n                  if (errors.length > 0) {\n                    // eslint-disable-next-line no-throw-literal\n                    throw {\n                      message: 'APM Error: ' + errors[0].error,\n                      data,\n                    };\n                  }\n                }\n              }\n              return data.Response.Result;\n            }),\n            catchError((err) => {\n              if (err.cancelled) {\n                return of(err);\n              }\n\n              return throwError(this.handleErrors(err));\n            })\n          );\n      })\n    );\n  }\n\n  handleErrors(err: any) {\n    const error: DataQueryError = {\n      message: err?.status || err?.message || 'Unknown error during query transaction. Please check JS console logs.',\n    };\n\n    if ((Number.isInteger(err.status) && err.status !== 0) || err.status >= 300) {\n      if (err.data?.error) {\n        error.message = 'APM Error: ' + err.data.error;\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      } else {\n        error.message = 'Network Error: ' + err.statusText + '(' + err.status + ')';\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      }\n    }\n\n    return error;\n  }\n\n  getTimeFilter(options: any) {\n    const from = this.getAPMTime(options.rangeRaw.from, false, options.timezone);\n    const until = this.getAPMTime(options.rangeRaw.to, true, options.timezone);\n\n    return 'time >= ' + from + ' and time <= ' + until;\n  }\n\n  getAPMTime(date: any, roundUp: any, timezone: any) {\n    if (isString(date)) {\n      if (date === 'now') {\n        return 'now()';\n      }\n\n      const parts = /^now-(\\d+)([dhms])$/.exec(date);\n      if (parts) {\n        const amount = parseInt(parts[1], 10);\n        const unit = parts[2];\n        return 'now() - ' + amount + unit;\n      }\n      date = dateMath.parse(date, roundUp, timezone);\n    }\n\n    return date.valueOf() + 'ms';\n  }\n\n  fixTimePeriod(target: any, options: any) {\n    const period = this.getTimePeriod(options.rangeRaw, options.timezone);\n\n    target.groupBy?.forEach((groupBy: any) => {\n      if (groupBy.type === 'time' && groupBy.params[0] !== '1d') {\n        target = this.modifyTime(target, period);\n      }\n    });\n    return target;\n  }\n\n  getTimePeriod(rangeRaw: RawTimeRange, timezone: string): string {\n    const from = dateMath.parse(rangeRaw.from, false, timezone)?.valueOf();\n    const until = dateMath.parse(rangeRaw.to, true, timezone)?.valueOf();\n    const oneHour = 1000 * 60 * 60;\n    let range = 0;\n    let period = '1m';\n    if (from && until) {\n      range = until - from;\n    }\n    // 12h\n    if (range <= oneHour * 12) {\n      period = '1m';\n    }\n    // 3d\n    else if (range <= oneHour * 24 * 2) {\n      period = '5m';\n    }\n    // 7d\n    else if (range <= oneHour * 24 * 7) {\n      period = '1h';\n    } else {\n      period = '1d';\n    }\n    return period;\n  }\n\n  // 修改查询聚合周期\n  modifyTime(query: APMQuery, period: string): APMQuery {\n    if (!query.groupBy) {\n      return query;\n    }\n    for (const item of query.groupBy) {\n      if (item.type === 'time') {\n        const compareResult = this.periodCompare(String(item.params?.[0]) || '', period);\n        const isPeriodInparamsSmaller = compareResult && compareResult < 0;\n        // !compareResult代表输入的时间粒度无效\n        if (!compareResult || isPeriodInparamsSmaller) {\n          item.params = [period];\n        }\n        return query;\n      }\n    }\n    return query;\n  }\n  /**\n   * @param pre_period 粒度\n   * @param period 粒度\n   * @return 负数代表小于；0代表=；正数代表大于; null代表无效\n   */\n  periodCompare(pre_period: string, period: string): number | null {\n    const units = ['s', 'm', 'h', 'd'];\n    const reg = new RegExp(`(^\\\\d+)([${units.join('')}]$)`);\n    const pre = reg.exec(pre_period);\n    const per = reg.exec(period);\n    if (!pre || !per) {\n      return null;\n    }\n    if (units.indexOf(pre[2]) - units.indexOf(per[2])) {\n      return units.indexOf(pre[2]) - units.indexOf(per[2]);\n    }\n    return Number(pre[1]) - Number(per[1]);\n  }\n\n  testDatasource(): Promise<any> {\n    if (!this.instanceSettings.jsonData['APMServiceEnabled']) {\n      return null;\n    }\n    const queryBuilder = new APMQueryBuilder({ measurement: '', tags: [] }, '');\n    const query = queryBuilder.buildExploreQuery('MEASUREMENTS');\n\n    return this._seriesQuery(query)\n      .toPromise()\n      .then((res: any) => {\n        const error = get(res, 'data.Response.Error');\n        if (error) {\n          return { status: 'error', message: error?.Message };\n        }\n        return { status: 'success', message: 'Data source is working' };\n      })\n      .catch((err: any) => {\n        return { status: 'error', message: err.message };\n      });\n  }\n}\n","import React, { useMemo, FC, useEffect } from 'react';\nimport { css } from 'emotion';\nimport { QueryEditorProps, GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles } from '@grafana/ui';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport {\n  getAllMeasurementsForTags,\n  getAllPolicies,\n  getFieldKeysForMeasurement,\n  getTagKeysForMeasurementAndTags,\n  getTagValues,\n} from './APMMetadataQuery';\nimport {\n  normalizeQuery,\n  addNewSelectPart,\n  removeSelectPart,\n  addNewGroupByPart,\n  removeGroupByPart,\n  changeSelectPart,\n  changeGroupByPart,\n} from './queryUtils';\nimport { getNewSelectPartOptions, getNewGroupByPartOptions, makePartList } from './common/partListUtils';\nimport { SegmentSection } from './components/SegmentSection';\nimport { FromSection } from './components/FromSection';\nimport { TagsSection } from './components/TagsSection';\nimport { PartListSection } from './components/PartListSection';\nimport { InputSection } from './components/InputSection';\nimport { FormatAsSection } from './components/FormatAsSection';\nimport { useUniqueId } from './common/useUniqueId';\nimport { DEFAULT_RESULT_FORMAT } from './common/constants';\nimport { APMQuery, APMQueryTag } from './types';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo } from '../types';\nimport { clone } from 'lodash';\nimport { DataSource } from '../DataSource';\n// import { TextareaSection } from './components/TextareaSection';\n// import { useShadowedState } from './common/useShadowedState';\nimport { OrderBySeries } from './components/OrderBySeries';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\n\nfunction getTemplateVariableOptions() {\n  return (\n    getTemplateSrv()\n      .getVariables()\n      // we make them regex-params, i'm not 100% sure why.\n      // probably because this way multi-value variables work ok too.\n      .map((v) => `/^$${v.name}$/`)\n  );\n}\n\n// helper function to make it easy to call this from the widget-render-code\nfunction withTemplateVariableOptions(optionsPromise: Promise<string[]>): Promise<string[]> {\n  return optionsPromise.then((options) => [...getTemplateVariableOptions(), ...options]);\n}\n\nfunction filterTags(parts: APMQueryTag[], allTagKeys: Set<string>): APMQueryTag[] {\n  return parts.filter((t) => allTagKeys.has(t.key));\n}\n\nexport const APMServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const uniqueId = useUniqueId();\n  const formatAsId = `apm-qe-format-as-${uniqueId}`;\n  const orderByTimeId = `apm-qe-order-by${uniqueId}`;\n  const orderBySeriesId = `apm-qe-order-by${uniqueId}`;\n\n  const styles = useStyles(getStyles);\n  // const [self] = useShadowedState(true);\n\n  const { datasource, onChange, query: queryInfo } = props;\n  const query = normalizeQuery(queryInfo.APMServiceParams || clone(defaultQueryInfo.APMServiceParams));\n  const { measurement, policy } = query;\n\n  useEffect(() => {\n    if (!queryInfo.APMServiceParams) {\n      onChange({ ...queryInfo, APMServiceParams: clone(defaultQueryInfo.APMServiceParams) });\n    }\n  }, [onChange, queryInfo]);\n\n  const allTagKeys = useMemo(() => {\n    return getTagKeysForMeasurementAndTags(measurement, policy, [], datasource)\n      .then((tags) => {\n        return new Set(tags);\n      })\n      .catch((err) => {\n        console.error('getTagKeysForMeasurementAndTags', err);\n        return new Set('');\n      });\n  }, [measurement, policy, datasource]);\n\n  const selectLists = useMemo(() => {\n    const dynamicSelectPartOptions = new Map([\n      [\n        'field_0',\n        () => {\n          return measurement !== undefined\n            ? getFieldKeysForMeasurement(measurement, policy, datasource)\n            : Promise.resolve([]);\n        },\n      ],\n    ]);\n    return (query.select ?? []).map((sel) => makePartList(sel, dynamicSelectPartOptions));\n  }, [measurement, policy, query.select, datasource]);\n\n  // the following function is not complicated enough to memoize, but it's result\n  // is used in both memoized and un-memoized parts, so we have no choice\n  const getTagKeys = useMemo(() => {\n    return () =>\n      allTagKeys.then((keys) =>\n        getTagKeysForMeasurementAndTags(measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n      );\n  }, [measurement, policy, query.tags, datasource, allTagKeys]);\n\n  const groupByList = useMemo(() => {\n    const dynamicGroupByPartOptions = new Map([['tag_0', getTagKeys]]);\n\n    return makePartList(query.groupBy ?? [], dynamicGroupByPartOptions);\n  }, [getTagKeys, query.groupBy]);\n\n  const onAppliedChange = (newQuery: APMQuery) => {\n    props.onChange({\n      ...props.query,\n      APMServiceParams: newQuery,\n    });\n    props.onRunQuery();\n  };\n  const handleFromSectionChange = (p: string | undefined, m: string | undefined) => {\n    onAppliedChange({\n      ...query,\n      policy: p,\n      measurement: m,\n    });\n  };\n\n  const handleTagsSectionChange = (tags: APMQueryTag[]) => {\n    // we set empty-arrays to undefined\n    onAppliedChange({\n      ...query,\n      tags: tags.length === 0 ? undefined : tags,\n    });\n  };\n\n  return (\n    <div>\n      {/* <SegmentSection label=\"Method\" fill={true}>\n        <Switch\n          value={self}\n          onChange={(e) => {\n            setSelf(e.currentTarget.value === 'true');\n          }}\n        >\n          {self ? 'default' : 'query'}\n        </Switch>\n      </SegmentSection> */}\n      {/* {!self ? ( */}\n      {\n        <>\n          <SegmentSection label=\"FROM\" fill={true}>\n            <FromSection\n              policy={policy}\n              measurement={measurement}\n              getPolicyOptions={() => getAllPolicies(datasource)}\n              getMeasurementOptions={(filter) =>\n                withTemplateVariableOptions(\n                  allTagKeys.then((keys) =>\n                    getAllMeasurementsForTags(\n                      filter === '' ? undefined : filter,\n                      filterTags(query.tags ?? [], keys),\n                      datasource\n                    )\n                  )\n                )\n              }\n              onChange={handleFromSectionChange}\n            />\n            <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n              WHERE\n            </InlineLabel>\n            <TagsSection\n              tags={query.tags ?? []}\n              onChange={handleTagsSectionChange}\n              getTagKeyOptions={getTagKeys}\n              getTagValueOptions={(key: string) =>\n                withTemplateVariableOptions(\n                  allTagKeys.then((keys) =>\n                    getTagValues(key, measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n                  )\n                )\n              }\n            />\n          </SegmentSection>\n          {selectLists.map((sel, index) => (\n            <SegmentSection key={index} label={index === 0 ? 'SELECT' : ''} fill={true}>\n              <PartListSection\n                parts={sel}\n                getNewPartOptions={() => Promise.resolve(getNewSelectPartOptions())}\n                onChange={(partIndex, newParams) => {\n                  const newQuery = changeSelectPart(query, index, partIndex, newParams);\n                  onAppliedChange(newQuery);\n                }}\n                onAddNewPart={(type) => {\n                  onAppliedChange(addNewSelectPart(query, type, index));\n                }}\n                onRemovePart={(partIndex) => {\n                  onAppliedChange(removeSelectPart(query, partIndex, index));\n                }}\n              />\n            </SegmentSection>\n          ))}\n          <SegmentSection label=\"GROUP BY\" fill={true}>\n            <PartListSection\n              parts={groupByList}\n              getNewPartOptions={() => getNewGroupByPartOptions(query, getTagKeys)}\n              onChange={(partIndex, newParams) => {\n                const newQuery = changeGroupByPart(query, partIndex, newParams);\n                onAppliedChange(newQuery);\n              }}\n              onAddNewPart={(type) => {\n                onAppliedChange(addNewGroupByPart(query, type));\n              }}\n              onRemovePart={(partIndex) => {\n                onAppliedChange(removeGroupByPart(query, partIndex));\n              }}\n            />\n          </SegmentSection>\n          <SegmentSection label=\"TIMEZONE\" fill={true}>\n            <InputSection\n              placeholder=\"(optional)\"\n              value={query.tz}\n              onChange={(tz) => {\n                onAppliedChange({ ...query, tz });\n              }}\n            />\n            <InlineLabel htmlFor={orderByTimeId} width=\"auto\" className={styles.inlineLabel}>\n              ORDER BY\n            </InlineLabel>\n            <InputSection\n              placeholder=\"time\"\n              value={query.orderType}\n              onChange={(v) => {\n                onAppliedChange({ ...query, orderType: v });\n              }}\n            />\n            <OrderBySeries\n              inputId={orderBySeriesId}\n              value={query.orderBy}\n              onChange={(v) => {\n                onAppliedChange({ ...query, orderBy: v });\n              }}\n            />\n          </SegmentSection>\n          <SegmentSection htmlFor={formatAsId} label=\"FORMAT AS\" fill={true}>\n            <FormatAsSection\n              inputId={formatAsId}\n              format={query.resultFormat ?? DEFAULT_RESULT_FORMAT}\n              onChange={(format) => {\n                onAppliedChange({ ...query, resultFormat: format });\n              }}\n            />\n            {query.resultFormat !== 'table' && (\n              <>\n                <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n                  ALIAS\n                </InlineLabel>\n                <InputSection\n                  isWide\n                  placeholder=\"Naming pattern\"\n                  value={query.alias}\n                  onChange={(alias) => {\n                    onAppliedChange({ ...query, alias });\n                  }}\n                />\n              </>\n            )}\n          </SegmentSection>\n        </>\n        // ) : (\n        //   <TextareaSection\n        //     value={query.custom}\n        //     placeholder=\"Query\"\n        //     onChange={(custom) => {\n        //       onAppliedChange({ ...query, custom });\n        //     }}\n        //   />\n        // )\n      }\n    </div>\n  );\n});\n\nfunction getStyles(theme: GrafanaTheme) {\n  return {\n    inlineLabel: css`\n      color: #33a2e5;\n    `,\n  };\n}\n\nAPMServiceQueryEditor.displayName = 'APMServiceQueryEditor';\n","import { map, find, filter, indexOf, cloneDeep } from 'lodash';\nimport queryPart from './query_part';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport { APMQuery, APMQueryTag } from './types';\nimport { ScopedVars } from '@grafana/data';\nimport { TemplateSrv } from '@grafana/runtime';\nimport { defaultQueryInfo } from '../types';\n\nexport default class APMQueryModel {\n  target: APMQuery;\n  selectModels: any[] = [];\n  queryBuilder: any;\n  groupByParts: any;\n  templateSrv: any;\n  scopedVars: any;\n  refId?: string;\n\n  /** @ngInject */\n  constructor(target: APMQuery, templateSrv?: TemplateSrv, scopedVars?: ScopedVars) {\n    this.target = target;\n    this.templateSrv = templateSrv;\n    this.scopedVars = scopedVars;\n\n    target.policy = target.policy || defaultQueryInfo.APMServiceParams.policy;\n    target.resultFormat = target.resultFormat || defaultQueryInfo.APMServiceParams.resultFormat;\n    target.orderBy = target.orderBy || defaultQueryInfo.APMServiceParams.orderBy;\n    target.orderType = target.orderType || defaultQueryInfo.APMServiceParams.orderType;\n    target.tags = target.tags || cloneDeep(defaultQueryInfo.APMServiceParams.tags);\n    target.groupBy = target.groupBy || cloneDeep(defaultQueryInfo.APMServiceParams.groupBy);\n    target.select = target.select || cloneDeep(defaultQueryInfo.APMServiceParams.select);\n\n    this.updateProjection();\n  }\n\n  updateProjection() {\n    this.selectModels = map(this.target.select, (parts: any) => {\n      return map(parts, queryPart.create);\n    });\n    this.groupByParts = map(this.target.groupBy, queryPart.create);\n  }\n\n  updatePersistedParts() {\n    this.target.select = map(this.selectModels, (selectParts) => {\n      return map(selectParts, (part: any) => {\n        return { type: part.def.type, params: part.params };\n      });\n    });\n  }\n\n  hasGroupByTime() {\n    return find(this.target.groupBy, (g: any) => g.type === 'time');\n  }\n\n  hasFill() {\n    return find(this.target.groupBy, (g: any) => g.type === 'fill');\n  }\n\n  addGroupBy(value: string) {\n    let stringParts = value.match(/^(\\w+)\\((.*)\\)$/);\n\n    if (!stringParts || !this.target.groupBy) {\n      return;\n    }\n\n    const typePart = stringParts[1];\n    const arg = stringParts[2];\n    const partModel = queryPart.create({ type: typePart, params: [arg] });\n    const partCount = this.target.groupBy.length;\n\n    if (partCount === 0) {\n      this.target.groupBy.push(partModel.part);\n    } else if (typePart === 'time') {\n      this.target.groupBy.splice(0, 0, partModel.part);\n    } else if (typePart === 'tag') {\n      if (this.target.groupBy[partCount - 1].type === 'fill') {\n        this.target.groupBy.splice(partCount - 1, 0, partModel.part);\n      } else {\n        this.target.groupBy.push(partModel.part);\n      }\n    } else {\n      this.target.groupBy.push(partModel.part);\n    }\n\n    this.updateProjection();\n  }\n\n  removeGroupByPart(part: { def: { type: string } }, index: number) {\n    const categories = queryPart.getCategories();\n\n    if (part.def.type === 'time') {\n      // remove fill\n      this.target.groupBy = filter(this.target.groupBy, (g: any) => g.type !== 'fill');\n      // remove aggregations\n      this.target.select = map(this.target.select, (s: any) => {\n        return filter(s, (part: any) => {\n          const partModel = queryPart.create(part);\n          if (partModel.def.category === categories.Aggregations) {\n            return false;\n          }\n          if (partModel.def.category === categories.Selectors) {\n            return false;\n          }\n          return true;\n        });\n      });\n    }\n\n    this.target.groupBy!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelect(index: number) {\n    this.target.select!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelectPart(selectParts: any[], part: any) {\n    // if we remove the field remove the whole statement\n    if (part.def.type === 'field') {\n      if (this.selectModels.length > 1) {\n        const modelsIndex = indexOf(this.selectModels, selectParts);\n        this.selectModels.splice(modelsIndex, 1);\n      }\n    } else {\n      const partIndex = indexOf(selectParts, part);\n      selectParts.splice(partIndex, 1);\n    }\n\n    this.updatePersistedParts();\n  }\n\n  addSelectPart(selectParts: any[], type: string) {\n    const partModel = queryPart.create({ type: type });\n    partModel.def.addStrategy(selectParts, partModel, this);\n    this.updatePersistedParts();\n  }\n\n  getMeasurementAndPolicy(interpolate: any) {\n    let policy = this.target.policy;\n    let measurement = this.target.measurement || 'measurement';\n\n    if (!measurement.match('^/.*/$')) {\n      measurement = '\"' + measurement + '\"';\n    } else if (interpolate) {\n      measurement = this.templateSrv.replace(measurement, this.scopedVars, 'regex');\n    }\n\n    if (policy !== 'default') {\n      policy = '\"' + this.target.policy + '\".';\n    } else {\n      policy = '';\n    }\n\n    return policy + measurement;\n  }\n\n  interpolateQueryStr(value: any[], variable: { multi: any; includeAll: any }, defaultFormatFn: any) {\n    // if no multi or include all do not regexEscape\n    if (!variable.multi && !variable.includeAll) {\n      return value;\n    }\n\n    if (typeof value === 'string') {\n      return kbn.regexEscape(value);\n    }\n\n    const escapedValues = map(value, kbn.regexEscape);\n    return '(' + escapedValues.join('|') + ')';\n  }\n\n  render(interpolate?: boolean) {\n    const target = this.target;\n\n    if (target.rawQuery) {\n      if (interpolate) {\n        return this.templateSrv.replace(target.query, this.scopedVars, this.interpolateQueryStr);\n      } else {\n        return target.query;\n      }\n    }\n\n    let query = 'select ';\n    let i;\n    let y;\n    // 自定义特殊处理\n    if (this.selectModels[0][1]?.part.type === 'custom') {\n      query += this.selectModels[0][0].params[0];\n    } else {\n      for (i = 0; i < this.selectModels?.length; i++) {\n        const parts = this.selectModels[i];\n        let selectText = '';\n        for (y = 0; y < parts.length; y++) {\n          const part = parts[y];\n          selectText = part.render(selectText);\n        }\n\n        if (i > 0) {\n          query += ', ';\n        }\n        query += selectText;\n      }\n    }\n\n    query += ' from ' + this.getMeasurementAndPolicy(interpolate) + ' where ';\n    const conditions = map(target.tags, (tag, index) => {\n      return this.renderTagCondition(tag, index, interpolate);\n    });\n\n    if (conditions.length > 0) {\n      query += '(' + conditions.join(' ') + ') and ';\n    }\n\n    query += '$timeFilter';\n\n    let groupBySection = '';\n    const len = this.groupByParts.length;\n    let groupByParts = this.groupByParts;\n    if (len > 2) {\n      groupByParts = this.groupByParts.filter((item) => item.def.type !== 'time');\n    }\n    for (i = 0; i < groupByParts.length; i++) {\n      const part = groupByParts[i];\n      if (i > 0) {\n        // for some reason fill has no separator\n        groupBySection += part.def.type === 'fill' ? ' ' : ', ';\n      }\n      groupBySection += part.render('');\n    }\n\n    if (groupBySection.length) {\n      query += ' group by ' + groupBySection;\n    }\n\n    if (target.fill) {\n      query += ' fill(' + target.fill + ')';\n    }\n    if (target.orderType) {\n      query += ' order by ' + target.orderType;\n    }\n    if (target.orderBy) {\n      query += ' ' + target.orderBy;\n    }\n\n    if (target.limit) {\n      query += ' limit ' + target.limit;\n    }\n\n    if (target.slimit) {\n      query += ' slimit ' + target.slimit;\n    }\n\n    if (target.tz) {\n      query += \" tz('\" + target.tz + \"')\";\n    }\n\n    return query;\n  }\n\n  renderAdhocFilters(filters: any[]) {\n    const conditions = map(filters, (tag, index) => {\n      return this.renderTagCondition(tag, index, true);\n    });\n    return conditions.join(' ');\n  }\n\n  private renderTagCondition(tag: APMQueryTag, index: number, interpolate?: boolean) {\n    // FIXME: merge this function with query_builder/renderTagCondition\n    let str = '';\n    let operator = tag.operator;\n    let value = tag.value;\n    if (index > 0) {\n      str = (tag.condition.toLowerCase() || 'and') + ' ';\n    }\n\n    if (!operator) {\n      if (/^\\/.*\\/$/.test(value)) {\n        operator = '=~';\n      } else {\n        operator = '=';\n      }\n    }\n\n    // quote value unless regex\n    if (operator !== '=~' && operator !== '!~') {\n      if (interpolate) {\n        value = this.templateSrv.replace(value, this.scopedVars);\n      }\n      if (operator !== '>' && operator !== '<') {\n        value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n      }\n      if (operator === 'in') {\n        value = '(' + value + ')';\n      }\n    } else if (interpolate) {\n      value = this.templateSrv.replace(value, this.scopedVars, 'regex');\n    }\n\n    return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n  }\n}\n","import { each, map, includes, flatten, keys } from 'lodash';\nimport TableModel from 'grafana/app/core/table_model';\nimport { FieldType, QueryResultMeta, TimeSeries, TableData } from '@grafana/data';\n\nexport default class APMSeries {\n  refId?: string;\n  series: any;\n  alias: any;\n  annotation: any;\n  meta?: QueryResultMeta;\n\n  constructor(options: { series: any; alias?: any; annotation?: any; meta?: QueryResultMeta; refId?: string }) {\n    this.series = options.series;\n    this.alias = options.alias;\n    this.annotation = options.annotation;\n    this.meta = options.meta;\n    this.refId = options.refId;\n  }\n\n  getTimeSeries(): TimeSeries[] {\n    const output: TimeSeries[] = [];\n    let i;\n    let j;\n\n    if (this.series.length === 0) {\n      return output;\n    }\n\n    each(this.series, (series) => {\n      const columns = series.columns.length;\n      const tags = map(series.tags, (value, key) => {\n        return key + ': ' + value;\n      });\n\n      for (j = 1; j < columns; j++) {\n        let seriesName = series.name;\n        const columnName = series.columns[j];\n        if (columnName !== 'value') {\n          seriesName = seriesName + '.' + columnName;\n        }\n\n        if (this.alias) {\n          seriesName = this._getSeriesName(series, j);\n        } else if (series.tags) {\n          seriesName = seriesName + ' {' + tags.join(', ') + '}';\n        }\n\n        const datapoints = [];\n        if (series.values) {\n          for (i = 0; i < series.values.length; i++) {\n            datapoints[i] = [series.values[i][j], series.values[i][0]];\n          }\n        }\n\n        output.push({\n          title: seriesName,\n          target: seriesName,\n          datapoints: datapoints,\n          tags: series.tags,\n          meta: this.meta,\n          refId: this.refId,\n        });\n      }\n    });\n\n    return output;\n  }\n\n  _getSeriesName(series: any, index: number) {\n    const regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\n    const segments = series.name.split('.');\n\n    return this.alias.replace(regex, (match: any, g1: any, g2: any) => {\n      const group = g1 || g2;\n      const segIndex = parseInt(group, 10);\n\n      if (group === 'm' || group === 'measurement') {\n        return series.name;\n      }\n      if (group === 'col') {\n        return series.columns[index];\n      }\n      if (!isNaN(segIndex)) {\n        return segments[segIndex] ?? match;\n      }\n      if (group.indexOf('tag_') !== 0) {\n        return match;\n      }\n\n      const tag = group.replace('tag_', '');\n      if (!series.tags) {\n        return match;\n      }\n      return series.tags[tag];\n    });\n  }\n\n  getAnnotations() {\n    const list: any[] = [];\n\n    each(this.series, (series) => {\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(series.columns, (column, index) => {\n        if (column === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column === 'sequence_number') {\n          return;\n        }\n        if (column === this.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (includes((this.annotation.tagsColumn || '').replace(' ', '').split(','), column)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column === this.annotation.textColumn) {\n          textCol = index;\n          return;\n        }\n        if (column === this.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(series.values, (value) => {\n        const data = {\n          annotation: this.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n    });\n\n    return list;\n  }\n\n  getTable(): TableData {\n    const table = new TableModel();\n    let i;\n    let j;\n\n    // @ts-ignore\n    table.refId = this.refId;\n    // @ts-ignore\n    table.meta = this.meta;\n\n    if (this.series.length === 0) {\n      return table;\n    }\n\n    // the order is:\n    // - first the first item from the value-array (this is often (always?) the timestamp)\n    // - then all the tag-values\n    // - then the rest of the value-array\n    //\n    // we have to keep this order both in table.columns and table.rows\n\n    each(this.series, (series: any, seriesIndex: number) => {\n      if (seriesIndex === 0) {\n        const firstCol = series.columns[0];\n        // Check the first column's name, if it is `time`, we\n        // mark it as having the type time\n        const firstTableCol = firstCol === 'time' ? { text: 'Time', type: FieldType.time } : { text: firstCol };\n        table.columns.push(firstTableCol);\n        each(keys(series.tags), (key) => {\n          table.columns.push({ text: key });\n        });\n        for (j = 1; j < series.columns.length; j++) {\n          table.columns.push({ text: series.columns[j] });\n        }\n      }\n\n      if (series.values) {\n        for (i = 0; i < series.values.length; i++) {\n          const values = series.values[i];\n          const reordered = [values[0]];\n          if (series.tags) {\n            for (const key in series.tags) {\n              if (series.tags.hasOwnProperty(key)) {\n                reordered.push(series.tags[key]);\n              }\n            }\n          }\n          for (j = 1; j < values.length; j++) {\n            reordered.push(values[j]);\n          }\n          table.rows.push(reordered);\n        }\n      }\n    });\n\n    return table;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\nimport { ResultFormat } from '../types';\n\nexport const RESULT_FORMATS: Array<SelectableValue<ResultFormat>> = [\n  { label: 'Time series', value: 'time_series' },\n  { label: 'Table', value: 'table' },\n  { label: 'Logs', value: 'logs' },\n];\n\nexport const DEFAULT_RESULT_FORMAT: ResultFormat = 'time_series';\n\nexport const ENABLE_MEASUREMENTS: Array<string> = [\n  'sql_metric',\n  'service_metric',\n  'error_metric',\n  'runtime_metric',\n  'mq_metric',\n];\n","import { APMQuery, APMQueryPart } from '../types';\nimport { SelectableValue } from '@grafana/data';\nimport { PartParams } from '../components/PartListSection';\nimport APMQueryModel from '../APM_query_model';\nimport { unwrap } from './unwrap';\nimport queryPart, { QueryPartDef } from '../query_part';\nimport { toSelectableValue } from './toSelectableValue';\n\ntype Categories = Record<string, QueryPartDef[]>;\n\nexport function getNewSelectPartOptions(): SelectableValue[] {\n  const categories: Categories = queryPart.getCategories();\n  const options: SelectableValue[] = [];\n\n  const keys = Object.keys(categories);\n\n  keys.forEach((key) => {\n    const children: SelectableValue[] = categories[key].map((x) => toSelectableValue(x.type));\n\n    options.push({\n      label: key,\n      options: children,\n    });\n  });\n\n  return options;\n}\n\nexport async function getNewGroupByPartOptions(\n  query: APMQuery,\n  getTagKeys: () => Promise<string[]>\n): Promise<Array<SelectableValue<string>>> {\n  const tagKeys = await getTagKeys();\n  const queryCopy = { ...query }; // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  const options: Array<SelectableValue<string>> = [];\n  if (!model.hasFill()) {\n    options.push(toSelectableValue('fill(null)'));\n  }\n  if (!model.hasGroupByTime()) {\n    options.push(toSelectableValue('time($interval)'));\n  }\n  tagKeys.forEach((key) => {\n    options.push(toSelectableValue(`tag(${key})`));\n  });\n  return options;\n}\n\ninterface Part {\n  name: string;\n  params: PartParams;\n}\n\nfunction getPartParams(part: APMQueryPart, dynamicParamOptions: Map<string, () => Promise<string[]>>): PartParams {\n  // NOTE: the way the system is constructed,\n  // there always can only be one possible dynamic-lookup\n  // field. in case of select it is the field,\n  // in case of group-by it is the tag\n  const def = queryPart.create(part).def;\n\n  // we switch the numbers to strings, it will work that way too,\n  // and it makes the code simpler\n  const paramValues = (part.params ?? []).map((p) => p.toString());\n\n  if (paramValues.length !== def.params.length) {\n    throw new Error('Invalid query-segment');\n  }\n\n  return paramValues.map((val, index) => {\n    const defParam = def.params[index];\n    if (defParam.dynamicLookup) {\n      return {\n        value: val,\n        options: unwrap(dynamicParamOptions.get(`${def.type}_${index}`)),\n      };\n    }\n\n    if (defParam.options !== null || defParam.options !== undefined) {\n      return {\n        value: val,\n        options: () => Promise.resolve(defParam.options),\n      };\n    }\n\n    return {\n      value: val,\n      options: null,\n    };\n  });\n}\n\nexport function makePartList(\n  queryParts: APMQueryPart[],\n  dynamicParamOptions: Map<string, () => Promise<string[]>>\n): Part[] {\n  return queryParts.map((qp) => {\n    return {\n      name: qp.type,\n      params: getPartParams(qp, dynamicParamOptions),\n    };\n  });\n}\n","import { APMQueryTag } from '../types';\n\nfunction isRegex(text: string): boolean {\n  return /^\\/.*\\/$/.test(text);\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in apm_query_model.ts\nexport function getOperator(tag: APMQueryTag): string {\n  return tag.operator ?? (isRegex(tag.value) ? '=~' : '=');\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in apm_query_model.ts\nexport function getCondition(tag: APMQueryTag, isFirst: boolean): string | undefined {\n  return isFirst ? undefined : tag.condition ?? 'AND';\n}\n\nexport function adjustOperatorIfNeeded(currentOperator: string, newTagValue: string): string {\n  const isCurrentOperatorRegex = currentOperator === '=~' || currentOperator === '!~';\n  const isNewTagValueRegex = isRegex(newTagValue);\n\n  if (isNewTagValueRegex) {\n    return isCurrentOperatorRegex ? currentOperator : '=~';\n  } else {\n    return isCurrentOperatorRegex ? '=' : currentOperator;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\n\nexport function toSelectableValue<T extends string>(t: T): SelectableValue<T> {\n  return { label: t, value: t };\n}\n","export function unwrap<T>(value: T | null | undefined): T {\n  if (value === null) {\n    throw new Error('value must not be nullish');\n  }\n  return value;\n}\n","import { useState, useEffect } from 'react';\nimport { usePrevious } from 'react-use';\n\nexport function useShadowedState<T>(outsideVal: T): [T, (newVal: T) => void] {\n  const [currentVal, setCurrentVal] = useState(outsideVal);\n  const prevOutsideVal = usePrevious(outsideVal);\n\n  useEffect(() => {\n    const isOutsideValChanged = prevOutsideVal !== outsideVal;\n    // if the value changes from the outside, we accept it into the state\n    // (we only set it if it is different from the current value)\n    if (isOutsideValChanged && currentVal !== outsideVal) {\n      setCurrentVal(outsideVal);\n    }\n  }, [outsideVal, currentVal, prevOutsideVal]);\n\n  return [currentVal, setCurrentVal];\n}\n","import { useRef } from 'react';\nimport { uniqueId } from 'lodash';\n\nexport function useUniqueId(): string {\n  // we need to lazy-init this ref.\n  // otherwise we would call `uniqueId`\n  // on every render. unfortunately\n  // useRef does not have lazy-init builtin,\n  // like useState does. we do it manually.\n  const idRefLazy = useRef<string | null>(null);\n\n  if (idRefLazy.current === null) {\n    idRefLazy.current = uniqueId();\n  }\n\n  return idRefLazy.current;\n}\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\n\ninterface Props {\n  loadOptions: () => Promise<SelectableValue[]>;\n  allowCustomValue?: boolean;\n  onAdd: (v: string) => void;\n}\n\nexport const AddButton = ({ loadOptions, allowCustomValue, onAdd }: Props): JSX.Element => {\n  return (\n    <Seg\n      value=\"+\"\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={(v) => {\n        onAdd(unwrap(v.value));\n      }}\n    />\n  );\n};\n","import { Select } from '@grafana/ui';\nimport { cx } from 'emotion';\nimport { ResultFormat } from '../types';\nimport React from 'react';\nimport { unwrap } from '../common/unwrap';\nimport { RESULT_FORMATS } from '../common/constants';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  inputId?: string;\n  format: ResultFormat;\n  onChange: (newFormat: ResultFormat) => void;\n}\n\nconst className = cx('width-8', paddingRightClass);\n\nexport const FormatAsSection = ({ format, inputId, onChange }: Props): JSX.Element => {\n  return (\n    <Select<ResultFormat>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={format}\n      options={RESULT_FORMATS}\n    />\n  );\n};\n","import React from 'react';\nimport { Seg } from './Seg';\nimport { toSelectableValue } from '../common/toSelectableValue';\n\nconst DEFAULT_POLICY = 'default';\n\ninterface Props {\n  onChange: (policy: string | undefined, measurement: string | undefined) => void;\n  policy: string | undefined;\n  measurement: string | undefined;\n  getPolicyOptions: () => Promise<string[]>;\n  getMeasurementOptions: (filter: string) => Promise<string[]>;\n}\n\nexport const FromSection = ({\n  policy,\n  measurement,\n  onChange,\n  getPolicyOptions,\n  getMeasurementOptions,\n}: Props): JSX.Element => {\n  const handlePolicyLoadOptions = async () => {\n    const allPolicies = await getPolicyOptions();\n    // if `default` does not exist in the list of policies, we add it\n    const allPoliciesWithDefault = allPolicies.some((p) => p === 'default')\n      ? allPolicies\n      : [DEFAULT_POLICY, ...allPolicies];\n\n    return allPoliciesWithDefault.map(toSelectableValue);\n  };\n\n  const handleMeasurementLoadOptions = async (filter: string) => {\n    const allMeasurements = await getMeasurementOptions(filter);\n    return allMeasurements.map(toSelectableValue);\n  };\n\n  return (\n    <>\n      <Seg\n        allowCustomValue\n        value={policy ?? 'using default policy'}\n        loadOptions={handlePolicyLoadOptions}\n        onChange={(v) => {\n          onChange(v.value, measurement);\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={measurement ?? 'select measurement'}\n        loadOptions={handleMeasurementLoadOptions}\n        filterByLoadOptions\n        onChange={(v) => {\n          onChange(policy, v.value);\n        }}\n      />\n    </>\n  );\n};\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  value: string | undefined;\n  onChange: (value: string | undefined) => void;\n  isWide?: boolean;\n  placeholder?: string;\n}\n\nexport const InputSection = ({ value, onChange, isWide, placeholder }: Props): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(value);\n\n  const onBlur = () => {\n    // we send empty-string as undefined\n    const newValue = currentValue === '' ? undefined : currentValue;\n    onChange(newValue);\n  };\n\n  return (\n    <Input\n      placeholder={placeholder}\n      className={cx(isWide ?? false ? 'width-14' : 'width-8', paddingRightClass)}\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onBlur}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue ?? ''}\n    />\n  );\n};\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { unwrap } from '../common/unwrap';\nimport { Select } from '@grafana/ui';\nimport { paddingRightClass } from './styles';\n\n// type Mode = 'string';\n\nconst OPTIONS: Array<SelectableValue<string>> = [\n  { label: 'ascending', value: 'ASC' },\n  { label: 'descending', value: 'DESC' },\n];\n\nconst className = cx('width-9', paddingRightClass);\n\ninterface Props {\n  value: string;\n  onChange: (value: string) => void;\n  inputId?: string;\n}\n\nexport const OrderBySeries = ({ value, onChange, inputId }: Props): JSX.Element => {\n  return (\n    <Select<string>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={value}\n      options={OPTIONS}\n    />\n  );\n};\n","import React, { useMemo } from 'react';\nimport { cx, css } from 'emotion';\nimport { WithContextMenu, useTheme } from '@grafana/ui';\nimport { SelectableValue, GrafanaTheme } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { AddButton } from './AddButton';\n\nexport type PartParams = Array<{\n  value: string;\n  options: (() => Promise<string[]>) | null;\n}>;\n\ninterface Props {\n  parts: Array<{\n    name: string;\n    params: PartParams;\n  }>;\n  getNewPartOptions: () => Promise<SelectableValue[]>;\n  onChange: (partIndex: number, paramValues: string[]) => void;\n  onRemovePart: (index: number) => void;\n  onAddNewPart: (type: string) => void;\n}\n\nconst renderRemovableNameMenuItems = (onClick: () => void) => {\n  return [{ items: [{ label: 'remove', onClick }] }];\n};\n\nconst noRightMarginPaddingClass = css({\n  paddingRight: '0',\n  marginRight: '0',\n});\n\nconst RemovableName = ({ name, onRemove }: { name: string; onRemove: () => void }) => {\n  return (\n    <WithContextMenu getContextMenuItems={() => renderRemovableNameMenuItems(onRemove)}>\n      {({ openMenu }) => (\n        <button className={cx('gf-form-label', noRightMarginPaddingClass)} onClick={openMenu}>\n          {name}\n        </button>\n      )}\n    </WithContextMenu>\n  );\n};\n\ninterface PartProps {\n  name: string;\n  params: PartParams;\n  onRemove: () => void;\n  onChange: (paramValues: string[]) => void;\n}\n\nconst noHorizMarginPaddingClass = css({\n  paddingLeft: '0',\n  paddingRight: '0',\n  marginLeft: '0',\n  marginRight: '0',\n});\n\nconst getPartClass = (theme: GrafanaTheme) => {\n  return cx(\n    'gf-form-label',\n    css({\n      paddingLeft: '0',\n      // gf-form-label class makes certain css attributes incorrect\n      // for the selectbox-dropdown, so we have to \"reset\" them back\n      lineHeight: theme.typography.lineHeight.md,\n      fontSize: theme.typography.size.base,\n    })\n  );\n};\n\nconst Part = ({ name, params, onChange, onRemove }: PartProps): JSX.Element => {\n  const theme = useTheme();\n  const partClass = useMemo(() => getPartClass(theme), [theme]);\n\n  const onParamChange = (par: string, i: number) => {\n    const newParams = params.map((p) => p.value);\n    newParams[i] = par;\n    onChange(newParams);\n  };\n\n  return (\n    <div className={partClass}>\n      <RemovableName name={name} onRemove={onRemove} />(\n      {params.map((p, i) => {\n        const { value, options } = p;\n        const isLast = i === params.length - 1;\n        const loadOptions =\n          options !== null ? () => options().then((items) => items.map(toSelectableValue)) : undefined;\n        return (\n          <React.Fragment key={i}>\n            <Seg\n              allowCustomValue\n              value={value}\n              buttonClassName={noHorizMarginPaddingClass}\n              loadOptions={loadOptions}\n              onChange={(v) => {\n                onParamChange(unwrap(v.value), i);\n              }}\n            />\n            {!isLast && ','}\n          </React.Fragment>\n        );\n      })}\n      )\n    </div>\n  );\n};\n\nexport const PartListSection = ({\n  parts,\n  getNewPartOptions,\n  onAddNewPart,\n  onRemovePart,\n  onChange,\n}: Props): JSX.Element => {\n  return (\n    <>\n      {parts.map((part, index) => (\n        <Part\n          key={index}\n          name={part.name}\n          params={part.params}\n          onRemove={() => {\n            onRemovePart(index);\n          }}\n          onChange={(pars) => {\n            onChange(index, pars);\n          }}\n        />\n      ))}\n      <AddButton loadOptions={getNewPartOptions} onAdd={onAddNewPart} />\n    </>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { cx, css } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { useAsyncFn } from 'react-use';\nimport { InlineLabel, Select, AsyncSelect, Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\n\n// this file is a simpler version of `grafana-ui / SegmentAsync.tsx`\n// with some changes:\n// 1. click-outside does not select the value. i think it's better to be explicit here.\n// 2. we set a min-width on the select-element to handle cases where the `value`\n//    is very short, like \"x\", and then you click on it and the select opens,\n//    and it tries to be as short as \"x\" and it does not work well.\n\n// NOTE: maybe these changes could be migrated into the SegmentAsync later\n\ntype SelVal = SelectableValue<string>;\n\n// when allowCustomValue is true, there is no way to enforce the selectableValue\n// enum-type, so i just go with `string`\n\ntype LoadOptions = (filter: string) => Promise<SelVal[]>;\n\ninterface Props {\n  value: string;\n  buttonClassName?: string;\n  loadOptions?: LoadOptions;\n  // if filterByLoadOptions is false,\n  // loadOptions is only executed once,\n  // when the select-box opens,\n  // and as you write, the list gets filtered\n  // by the select-box.\n  // if filterByLoadOptions is true,\n  // as you write the loadOptions is executed again and again,\n  // and it is relied on to filter the results.\n  filterByLoadOptions?: boolean;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n  disabled?: boolean;\n}\n\nconst selectClass = css({\n  minWidth: '160px',\n});\n\ninterface SelProps {\n  loadOptions: LoadOptions;\n  filterByLoadOptions?: boolean;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\ninterface SelReloadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\n// when a custom value is written into a select-box,\n// by default the new value is prefixed with \"Create:\",\n// and that sounds confusing because here we do not create\n// anything. we change this to just be the entered string.\nconst formatCreateLabel = (v: string) => v;\n\nconst SelReload = ({ loadOptions, allowCustomValue, onChange, onClose }: SelReloadProps): JSX.Element => {\n  // here we rely on the fact that writing text into the <AsyncSelect/>\n  // does not cause a re-render of the current react component.\n  // this way there is only a single render-call,\n  // so there is only a single `debouncedLoadOptions`.\n  // if we want ot make this \"re-render safe,\n  // we will have to put the debounced call into an useRef,\n  // and probably have an useEffect\n  // const debouncedLoadOptions = debouncePromise(loadOptions, 1000, { leading: true });\n  return (\n    <div className={selectClass}>\n      <AsyncSelect\n        formatCreateLabel={formatCreateLabel}\n        defaultOptions\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        loadOptions={loadOptions}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\ninterface SelSingleLoadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\nconst SelSingleLoad = ({ loadOptions, allowCustomValue, onChange, onClose }: SelSingleLoadProps): JSX.Element => {\n  const [loadState, doLoad] = useAsyncFn(loadOptions, [loadOptions]);\n\n  useEffect(() => {\n    doLoad('');\n  }, [doLoad, loadOptions]);\n\n  return (\n    <div className={selectClass}>\n      <Select\n        isLoading={loadState.loading}\n        formatCreateLabel={formatCreateLabel}\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        options={loadState.value ?? []}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nconst Sel = ({ loadOptions, filterByLoadOptions, allowCustomValue, onChange, onClose }: SelProps): JSX.Element => {\n  // unfortunately <Segment/> and <SegmentAsync/> have somewhat different behavior,\n  // so the simplest approach was to just create two separate wrapper-components\n  return filterByLoadOptions ? (\n    <SelReload loadOptions={loadOptions} allowCustomValue={allowCustomValue} onChange={onChange} onClose={onClose} />\n  ) : (\n    <SelSingleLoad\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={onChange}\n      onClose={onClose}\n    />\n  );\n};\n\ninterface InpProps {\n  initialValue: string;\n  onChange: (newVal: string) => void;\n  onClose: () => void;\n}\n\nconst Inp = ({ initialValue, onChange, onClose }: InpProps): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(initialValue);\n\n  return (\n    <Input\n      autoFocus\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onClose}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          onChange(currentValue);\n        }\n      }}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue}\n    />\n  );\n};\n\nconst defaultButtonClass = css({\n  width: 'auto',\n  cursor: 'pointer',\n});\n\nexport const Seg = ({\n  value,\n  buttonClassName,\n  loadOptions,\n  filterByLoadOptions,\n  allowCustomValue,\n  onChange,\n  disabled,\n}: Props): JSX.Element => {\n  const [isOpen, setOpen] = useState(false);\n  if (!isOpen) {\n    const className = cx(defaultButtonClass, buttonClassName);\n    return (\n      <InlineLabel\n        as=\"button\"\n        className={className}\n        onClick={() => {\n          setOpen(!disabled);\n        }}\n      >\n        {value}\n      </InlineLabel>\n    );\n  } else {\n    if (loadOptions !== undefined) {\n      return (\n        <Sel\n          loadOptions={loadOptions}\n          filterByLoadOptions={filterByLoadOptions ?? false}\n          allowCustomValue={allowCustomValue}\n          onChange={(v) => {\n            setOpen(false);\n            onChange(v);\n          }}\n          onClose={() => {\n            setOpen(false);\n          }}\n        />\n      );\n    } else {\n      return (\n        <Inp\n          initialValue={value}\n          onClose={() => {\n            setOpen(false);\n          }}\n          onChange={(v) => {\n            setOpen(false);\n            onChange({ value: v, label: v });\n          }}\n        />\n      );\n    }\n  }\n};\n","import React from 'react';\nimport { css } from 'emotion';\nimport { GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles, InlineFieldRow } from '@grafana/ui';\n\n/**\n * Horizontal section for editor components.\n *\n * @alpha\n */\nexport const SegmentSection = ({\n  label,\n  htmlFor,\n  children,\n  fill,\n}: {\n  // Name of the section\n  label: string;\n  // htmlFor for the label\n  htmlFor?: string;\n  // List of components in the section\n  children: React.ReactNode;\n  // Fill the space at the end\n  fill?: boolean;\n}) => {\n  const styles = useStyles(getStyles);\n  return (\n    <InlineFieldRow>\n      <InlineLabel htmlFor={htmlFor} width={12} className={styles.label}>\n        {label}\n      </InlineLabel>\n      {children}\n      {fill && (\n        <div className={styles.fill}>\n          <InlineLabel> </InlineLabel>\n        </div>\n      )}\n    </InlineFieldRow>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme) => ({\n  label: css`\n    color: #33a2e5;\n  `,\n  fill: css`\n    flex-grow: 1;\n    margin-bottom: ${theme.spacing.inlineFormMargin};\n  `,\n});\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { APMQueryTag } from '../types';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { adjustOperatorIfNeeded, getCondition, getOperator } from '../common/tagUtils';\nimport { AddButton } from './AddButton';\n\ntype KnownOperator = '=' | '!=' | '<>' | '<' | '>' | '=~' | '!~' | 'in';\nconst knownOperators: KnownOperator[] = ['=', '!=', '<>', '<', '>', '=~', '!~', 'in'];\n\ntype KnownCondition = 'AND' | 'OR';\nconst knownConditions: KnownCondition[] = ['AND', 'OR'];\n\nconst operatorOptions: Array<SelectableValue<KnownOperator>> = knownOperators.map(toSelectableValue);\nconst condititonOptions: Array<SelectableValue<KnownCondition>> = knownConditions.map(toSelectableValue);\n\ninterface Props {\n  tags: APMQueryTag[];\n  onChange: (tags: APMQueryTag[]) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\ninterface TagProps {\n  tag: APMQueryTag;\n  isFirst: boolean;\n  onRemove: () => void;\n  onChange: (tag: APMQueryTag) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\nconst loadConditionOptions = () => Promise.resolve(condititonOptions);\n\nconst loadOperatorOptions = () => Promise.resolve(operatorOptions);\n\nconst Tag = ({ tag, isFirst, onRemove, onChange, getTagKeyOptions, getTagValueOptions }: TagProps): JSX.Element => {\n  const operator = getOperator(tag);\n  const condition = getCondition(tag, isFirst);\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions()\n      .catch((err) => {\n        // in this UI element we add a special item to the list of options,\n        // that is used to remove the element.\n        // this causes a problem: if `getTagKeyOptions` fails with an error,\n        // the remove-filter option is never added to the list,\n        // and the UI element can not be removed.\n        // to avoid it, we catch any potential errors coming from `getTagKeyOptions`,\n        // log the error, and pretend that the list of options is an empty list.\n        // this way the remove-item option can always be added to the list.\n        console.error(err);\n        return [];\n      })\n      .then((tags) => [{ label: '-- remove filter --', value: undefined }, ...tags.map(toSelectableValue)]);\n  };\n\n  const getTagValueSegmentOptions = () => {\n    return getTagValueOptions(tag.key).then((tags) => tags.map(toSelectableValue));\n  };\n\n  return (\n    <div className=\"gf-form\">\n      {condition !== undefined && (\n        <Seg\n          value={condition}\n          loadOptions={loadConditionOptions}\n          disabled\n          onChange={(v) => {\n            onChange({ ...tag, condition: v.value });\n          }}\n        />\n      )}\n      <Seg\n        allowCustomValue\n        value={tag.key}\n        loadOptions={getTagKeySegmentOptions}\n        onChange={(v) => {\n          const { value } = v;\n          if (value === undefined) {\n            onRemove();\n          } else {\n            onChange({ ...tag, key: value ?? '' });\n          }\n        }}\n      />\n      <Seg\n        value={operator}\n        loadOptions={loadOperatorOptions}\n        onChange={(op) => {\n          onChange({ ...tag, operator: op.value });\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={tag.value}\n        loadOptions={getTagValueSegmentOptions}\n        onChange={(v) => {\n          const value = v.value ?? '';\n          onChange({ ...tag, value, operator: adjustOperatorIfNeeded(operator, value) });\n        }}\n      />\n    </div>\n  );\n};\n\nexport const TagsSection = ({ tags, onChange, getTagKeyOptions, getTagValueOptions }: Props): JSX.Element => {\n  const onTagChange = (newTag: APMQueryTag, index: number) => {\n    const newTags = tags.map((tag, i) => {\n      return index === i ? newTag : tag;\n    });\n    onChange(newTags);\n  };\n\n  const onTagRemove = (index: number) => {\n    const newTags = tags.filter((t, i) => i !== index);\n    onChange(newTags);\n  };\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions().then((tags) => tags.map(toSelectableValue));\n  };\n\n  const addNewTag = (tagKey: string, isFirst: boolean) => {\n    const minimalTag: APMQueryTag = {\n      key: tagKey,\n      value: 'select tag value',\n    };\n\n    const newTag: APMQueryTag = {\n      key: minimalTag.key,\n      value: minimalTag.value,\n      operator: getOperator(minimalTag),\n      condition: getCondition(minimalTag, isFirst),\n    };\n\n    onChange([...tags, newTag]);\n  };\n\n  return (\n    <>\n      {tags.map((t, i) => (\n        <Tag\n          tag={t}\n          isFirst={i === 0}\n          key={i}\n          onChange={(newT) => {\n            onTagChange(newT, i);\n          }}\n          onRemove={() => {\n            onTagRemove(i);\n          }}\n          getTagKeyOptions={getTagKeyOptions}\n          getTagValueOptions={getTagValueOptions}\n        />\n      ))}\n      <AddButton\n        allowCustomValue\n        loadOptions={getTagKeySegmentOptions}\n        onAdd={(v) => {\n          addNewTag(v, tags.length === 0);\n        }}\n      />\n    </>\n  );\n};\n","import { css } from 'emotion';\n\nexport const paddingRightClass = css({\n  paddingRight: '4px',\n});\n","import { cloneDeep } from 'lodash';\nimport APMQueryModel from './APM_query_model';\nimport { APMQuery } from './types';\n\nexport function normalizeQuery(query: APMQuery): APMQuery {\n  // we return the original query if there is no need to update it\n  if (\n    query.policy !== undefined &&\n    query.resultFormat !== undefined &&\n    query.orderBy !== undefined &&\n    query.tags !== undefined &&\n    query.groupBy !== undefined &&\n    query.select !== undefined\n  ) {\n    return query;\n  }\n\n  // FIXME: we should move the whole normalizeQuery logic here,\n  // and then have APMQueryModel call this function,\n  // to concentrate the whole logic here\n\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  return new APMQueryModel(queryCopy).target;\n}\n\nexport function addNewSelectPart(query: APMQuery, type: string, index: number): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  model.addSelectPart(model.selectModels[index], type);\n  return model.target;\n}\n\nexport function removeSelectPart(query: APMQuery, partIndex: number, index: number): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  const selectModel = model.selectModels[index];\n  model.removeSelectPart(selectModel, selectModel[partIndex]);\n  return model.target;\n}\n\nexport function changeSelectPart(query: APMQuery, listIndex: number, partIndex: number, newParams: string[]): APMQuery {\n  // we need to make shallow copy of `query.select` down to `query.select[listIndex][partIndex]`\n  const newSel = [...(query.select ?? [])];\n  newSel[listIndex] = [...newSel[listIndex]];\n  newSel[listIndex][partIndex] = {\n    ...newSel[listIndex][partIndex],\n    params: newParams,\n  };\n  return { ...query, select: newSel };\n}\n\nexport function addNewGroupByPart(query: APMQuery, type: string): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  model.addGroupBy(type);\n  return model.target;\n}\n\nexport function removeGroupByPart(query: APMQuery, partIndex: number): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  model.removeGroupByPart(model.groupByParts[partIndex], partIndex);\n  return model.target;\n}\n\nexport function changeGroupByPart(query: APMQuery, partIndex: number, newParams: string[]): APMQuery {\n  // we need to make shallow copy of `query.groupBy` down to `query.groupBy[partIndex]`\n  const newGroupBy = [...(query.groupBy ?? [])];\n  newGroupBy[partIndex] = {\n    ...newGroupBy[partIndex],\n    params: newParams,\n  };\n  return { ...query, groupBy: newGroupBy };\n}\n","import { reduce } from 'lodash';\nimport kbn from 'grafana/app/core/utils/kbn';\n\nfunction renderTagCondition(tag: { operator: any; value: string; condition: any; key: string }, index: number) {\n  // FIXME: merge this function with APM_query_model/renderTagCondition\n  let str = '';\n  let operator = tag.operator;\n  let value = tag.value;\n  if (index > 0) {\n    str = (tag.condition.toLowerCase() || 'AND') + ' ';\n  }\n\n  if (!operator) {\n    if (/^\\/.*\\/$/.test(tag.value)) {\n      operator = '=~';\n    } else {\n      operator = '=';\n    }\n  }\n\n  // quote value unless regex or number, or if empty-string\n  if (value === '' || (operator !== '=~' && operator !== '!~')) {\n    value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n  }\n\n  return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n}\n\nexport class APMQueryBuilder {\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor(private target: { measurement: any; tags: any; policy?: any }, private database?: string) {}\n\n  buildExploreQuery(type: string, withKey?: string, withMeasurementFilter?: string): string {\n    let query = '';\n    let measurement;\n    let policy;\n\n    if (type === 'TAG_KEYS') {\n      query = 'show tag keys';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'TAG_VALUES') {\n      query = 'show tag values';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'MEASUREMENTS') {\n      query = 'show measurements';\n      if (withMeasurementFilter) {\n        // we do a case-insensitive regex-based lookup\n        query += ' with measurement =~ /(?i)' + kbn.regexEscape(withMeasurementFilter) + '/';\n      }\n    } else if (type === 'FIELDS') {\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n\n      if (!measurement.match('^/.*/')) {\n        measurement = '\"' + measurement + '\"';\n\n        if (policy && policy !== 'default') {\n          policy = '\"' + policy + '\"';\n          measurement = policy + '.' + measurement;\n        }\n      }\n\n      return 'show field keys from ' + measurement;\n    } else if (type === 'RETENTION POLICIES') {\n      query = 'show retention policies on \"' + this.database + '\"';\n      return query;\n    }\n\n    if (measurement) {\n      if (!measurement.match('^/.*/') && !measurement.match(/^merge\\(.*\\)/)) {\n        measurement = '\"' + measurement + '\"';\n      }\n\n      if (policy && policy !== 'default') {\n        policy = '\"' + policy + '\"';\n        measurement = policy + '.' + measurement;\n      }\n\n      query += ' from ' + measurement;\n    }\n\n    if (withKey) {\n      query += ' with key = \"' + withKey + '\"';\n    }\n\n    if (this.target.tags && this.target.tags.length > 0) {\n      const whereConditions = reduce(\n        this.target.tags,\n        (memo, tag) => {\n          if (type === 'MEASUREMENTS' && tag.key === 'id') {\n            return memo;\n          }\n          // do not add a condition for the key we want to explore for\n          if (tag.key === withKey) {\n            return memo;\n          }\n\n          // value operators not supported in these types of queries\n          if (tag.operator === '>' || tag.operator === '<') {\n            return memo;\n          }\n\n          memo.push(renderTagCondition(tag, memo.length));\n          return memo;\n        },\n        [] as string[]\n      );\n\n      if (whereConditions.length > 0) {\n        query += ' where ' + whereConditions.join(' ');\n      }\n    }\n\n    if (type === 'MEASUREMENTS') {\n      query += ' limit 100';\n      // Solve issue #2524 by limiting the number of measurements returned\n      // LIMIT must be after WITH MEASUREMENT and WHERE clauses\n      // This also could be used for TAG KEYS and TAG VALUES, if desired\n    }\n\n    return query;\n  }\n}\n","import { clone, each, map } from 'lodash';\n\nexport class QueryPartDef {\n  type: string;\n  params: any[];\n  defaultParams: any[];\n  renderer: any;\n  category: any;\n  addStrategy: any;\n\n  constructor(options: any) {\n    this.type = options.type;\n    this.params = options.params;\n    this.defaultParams = options.defaultParams;\n    this.renderer = options.renderer;\n    this.category = options.category;\n    this.addStrategy = options.addStrategy;\n  }\n}\n\nexport class QueryPart {\n  part: any;\n  def: QueryPartDef;\n  params: any[];\n  text: string;\n\n  constructor(part: any, def: any) {\n    this.part = part;\n    this.def = def;\n    if (!this.def) {\n      // eslint-disable-next-line no-throw-literal\n      throw { message: 'Could not find query part ' + part.type };\n    }\n\n    part.params = part.params || clone(this.def.defaultParams);\n    this.params = part.params;\n    this.text = '';\n    this.updateText();\n  }\n\n  render(innerExpr: string) {\n    return this.def.renderer(this, innerExpr);\n  }\n\n  hasMultipleParamsInString(strValue: string, index: number) {\n    if (strValue.indexOf(',') === -1) {\n      return false;\n    }\n\n    return this.def.params[index + 1] && this.def.params[index + 1].optional;\n  }\n\n  updateParam(strValue: string, index: number) {\n    // handle optional parameters\n    // if string contains ',' and next param is optional, split and update both\n    if (this.hasMultipleParamsInString(strValue, index)) {\n      each(strValue.split(','), (partVal, idx) => {\n        this.updateParam(partVal.trim(), idx);\n      });\n      return;\n    }\n\n    if (strValue === '' && this.def.params[index].optional) {\n      this.params.splice(index, 1);\n    } else {\n      this.params[index] = strValue;\n    }\n\n    this.part.params = this.params;\n    this.updateText();\n  }\n\n  updateText() {\n    if (this.params.length === 0) {\n      this.text = this.def.type + '()';\n      return;\n    }\n\n    let text = this.def.type + '(';\n    text += this.params.join(', ');\n    text += ')';\n    this.text = text;\n  }\n}\n\nexport function functionRenderer(part: any, innerExpr: string) {\n  const str = part.def.type + '(';\n  const parameters = map(part.params, (value, index) => {\n    const paramType = part.def.params[index];\n    if (paramType.type === 'time') {\n      if (value === 'auto') {\n        value = '$__interval';\n      }\n    }\n    if (paramType.quote === 'single') {\n      return \"'\" + value + \"'\";\n    } else if (paramType.quote === 'double') {\n      return '\"' + value + '\"';\n    }\n\n    return value;\n  });\n\n  if (innerExpr) {\n    parameters.unshift(innerExpr);\n  }\n  return str + parameters.join(', ') + ')';\n}\n\nexport function suffixRenderer(part: QueryPart, innerExpr: string) {\n  return innerExpr + ' ' + part.params[0];\n}\n\nexport function identityRenderer(part: QueryPart, innerExpr: string) {\n  return part.params[0];\n}\n\nexport function quotedIdentityRenderer(part: QueryPart, innerExpr: string) {\n  return '\"' + part.params[0] + '\"';\n}\n\nconst index: any[] = [];\nconst categories: any = {\n  Aggregations: [],\n  Selectors: [],\n  Transformations: [],\n  Predictors: [],\n  Math: [],\n  Aliasing: [],\n  Fields: [],\n};\n\nfunction createPart(part: any): any {\n  const def = index[part.type];\n  if (!def) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: 'Could not find query part ' + part.type };\n  }\n\n  return new QueryPart(part, def);\n}\n\nfunction register(options: any) {\n  index[options.type] = new QueryPartDef(options);\n  options.category.push(index[options.type]);\n}\n\nconst groupByTimeFunctions: any[] = [];\n\nfunction aliasRenderer(part: { params: string[] }, innerExpr: string) {\n  // eslint-disable-next-line no-useless-concat\n  return innerExpr + ' AS ' + '\"' + part.params[0] + '\"';\n}\n\nfunction fieldRenderer(part: { params: string[] }, innerExpr: any) {\n  if (part.params[0] === '*') {\n    return '*';\n  }\n  return '\"' + part.params[0] + '\"';\n}\n\nfunction replaceAggregationAddStrategy(selectParts: any[], partModel: { def: { type: string } }) {\n  // look for existing aggregation\n  for (let i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Aggregations) {\n      if (part.def.type === partModel.def.type) {\n        return;\n      }\n      // count distinct is allowed\n      if (part.def.type === 'count' && partModel.def.type === 'distinct') {\n        break;\n      }\n      // remove next aggregation if distinct was replaced\n      if (part.def.type === 'distinct') {\n        const morePartsAvailable = selectParts.length >= i + 2;\n        if (partModel.def.type !== 'count' && morePartsAvailable) {\n          const nextPart = selectParts[i + 1];\n          if (nextPart.def.category === categories.Aggregations) {\n            selectParts.splice(i + 1, 1);\n          }\n        } else if (partModel.def.type === 'count') {\n          if (!morePartsAvailable || selectParts[i + 1].def.type !== 'count') {\n            selectParts.splice(i + 1, 0, partModel);\n          }\n          return;\n        }\n      }\n      selectParts[i] = partModel;\n      return;\n    }\n    if (part.def.category === categories.Selectors) {\n      selectParts[i] = partModel;\n      return;\n    }\n  }\n\n  selectParts.splice(1, 0, partModel);\n}\n\nfunction addTransformationStrategy(selectParts: any[], partModel: any) {\n  let i;\n  // look for index to add transformation\n  for (i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Math || part.def.category === categories.Aliasing) {\n      break;\n    }\n  }\n\n  selectParts.splice(i, 0, partModel);\n}\n\nfunction addCustomStrategy(selectParts: any[], partModel: { def: { type: string } }) {\n  // look for existing aggregation\n  selectParts.splice(1, 1, partModel);\n}\n\nfunction addMathStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is math, replace it\n    if (selectParts[partCount - 1].def.type === 'math') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n    // if next to last is math, replace it\n    if (partCount > 1 && selectParts[partCount - 2].def.type === 'math') {\n      selectParts[partCount - 2] = partModel;\n      return;\n    } else if (selectParts[partCount - 1].def.type === 'alias') {\n      // if last is alias add it before\n      selectParts.splice(partCount - 1, 0, partModel);\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addAliasStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is alias, replace it\n    if (selectParts[partCount - 1].def.type === 'alias') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addFieldStrategy(selectParts: any, partModel: any, query: { selectModels: any[][] }) {\n  // copy all parts\n  const parts = map(selectParts, (part: any) => {\n    return createPart({ type: part.def.type, params: clone(part.params) });\n  });\n\n  query.selectModels.push(parts);\n}\n\nregister({\n  type: 'field',\n  addStrategy: addFieldStrategy,\n  category: categories.Fields,\n  params: [{ type: 'field', dynamicLookup: true }],\n  defaultParams: ['value'],\n  renderer: fieldRenderer,\n});\n\n// Aggregations\nregister({\n  type: 'count',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'distinct',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'custom',\n  addStrategy: addCustomStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'integral',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mean',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'median',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mode',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'sum',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\n// transformations\n\nregister({\n  type: 'derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'spread',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'moving_average',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: 'window', type: 'int', options: [5, 10, 20, 30, 40] }],\n  defaultParams: [10],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'cumulative_sum',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'stddev',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'time',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'interval',\n      type: 'time',\n      options: ['$__interval', '1m', '5m', '30m', '1h', '1d'],\n    },\n  ],\n  defaultParams: ['$__interval'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'fill',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'fill',\n      type: 'string',\n      options: ['none', 'null', '0', 'previous', 'linear'],\n    },\n  ],\n  defaultParams: ['null'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'elapsed',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\n// predictions\nregister({\n  type: 'holt_winters',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'holt_winters_with_fit',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\n// Selectors\nregister({\n  type: 'bottom',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'first',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'last',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'max',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'min',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'percentile',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'nth', type: 'int' }],\n  defaultParams: [95],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'top',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'tag',\n  category: groupByTimeFunctions,\n  params: [{ name: 'tag', type: 'string', dynamicLookup: true }],\n  defaultParams: ['tag'],\n  renderer: fieldRenderer,\n});\n\nregister({\n  type: 'math',\n  addStrategy: addMathStrategy,\n  category: categories.Math,\n  params: [{ name: 'expr', type: 'string' }],\n  defaultParams: [' / 100'],\n  renderer: suffixRenderer,\n});\n\nregister({\n  type: 'alias',\n  addStrategy: addAliasStrategy,\n  category: categories.Aliasing,\n  params: [{ name: 'name', type: 'string', quote: 'double' }],\n  defaultParams: ['alias'],\n  renderMode: 'suffix',\n  renderer: aliasRenderer,\n});\n\nexport default {\n  create: createPart,\n  getCategories: () => {\n    return categories;\n  },\n  replaceAggregationAdd: replaceAggregationAddStrategy,\n};\n","import { AnnotationEvent, DataFrame, DataQuery, FieldType, QueryResultMeta } from '@grafana/data';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport TableModel from 'grafana/app/core/table_model';\nimport { each, flatten, groupBy, isArray } from 'lodash';\nimport { ENABLE_MEASUREMENTS } from './common/constants';\nimport { APMQuery } from './types';\n\nexport default class ResponseParser {\n  parse(query: string, results: { results: any }) {\n    if (!results?.results || results.results.length === 0) {\n      return [];\n    }\n\n    const APMResults = results.results[0];\n    if (!APMResults.series) {\n      return [];\n    }\n\n    const normalizedQuery = query.toLowerCase();\n    const isValueFirst =\n      normalizedQuery.indexOf('show field keys') >= 0 || normalizedQuery.indexOf('show retention policies') >= 0;\n    const isShowMeasurements = normalizedQuery.indexOf('show measurements') >= 0;\n\n    const res = new Set<string>();\n    each(APMResults.series, (serie) => {\n      each(serie.values, (value) => {\n        if (isArray(value)) {\n          // In general, there are 2 possible shapes for the returned value.\n          // The first one is a two-element array,\n          // where the first element is somewhat a metadata value:\n          // the tag name for SHOW TAG VALUES queries,\n          // the time field for SELECT queries, etc.\n          // The second shape is an one-element array,\n          // that is containing an immediate value.\n          // For example, SHOW FIELD KEYS queries return such shape.\n          // Note, pre-0.11 versions return\n          // the second shape for SHOW TAG VALUES queries\n          // (while the newer versions—first).\n\n          if (isValueFirst) {\n            addUnique(res, value[0]);\n          } else if (value[1] !== undefined) {\n            addUnique(res, value[1]);\n          } else {\n            addUnique(res, value[0]);\n          }\n        } else {\n          addUnique(res, value);\n        }\n      });\n    });\n\n    if (isShowMeasurements) {\n      return Array.from(res)\n        .filter((item) => ENABLE_MEASUREMENTS.includes(item))\n        .map((v) => ({ text: v }));\n    }\n\n    return Array.from(res).map((v) => ({ text: v }));\n  }\n\n  getTable(dfs: DataFrame[], target: APMQuery, meta: QueryResultMeta): TableModel {\n    let table = new TableModel();\n\n    if (dfs.length > 0) {\n      // @ts-ignore\n      table.meta = {\n        ...meta,\n        executedQueryString: dfs[0].meta?.executedQueryString,\n      };\n      // @ts-ignore\n      table.refId = target.refId;\n      table = getTableCols(dfs, table, target);\n\n      // if group by tag(s) added\n      if (dfs[0].fields[1]?.labels) {\n        let dfsByLabels: any = groupBy(dfs, (df: DataFrame) =>\n          df.fields[1].labels ? Object.values(df.fields[1].labels!) : null\n        );\n        const labels = Object.keys(dfsByLabels);\n        dfsByLabels = Object.values(dfsByLabels);\n\n        for (let i = 0; i < dfsByLabels.length; i++) {\n          table = getTableRows(dfsByLabels[i], table, [...labels[i].split(',')]);\n        }\n      } else {\n        table = getTableRows(dfs, table, []);\n      }\n    }\n\n    return table;\n  }\n\n  async transformAnnotationResponse(options: any, data: any, target: APMQuery): Promise<AnnotationEvent[]> {\n    const rsp = toDataQueryResponse(data, [target] as DataQuery[]);\n\n    if (rsp) {\n      const table = this.getTable(rsp.data, target, {});\n      const list: any[] = [];\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(table.columns, (column, index) => {\n        if (column.text.toLowerCase() === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column.text === options.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (colContainsTag(column.text, options.annotation.tagsColumn)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column.text.includes(options.annotation.textColumn)) {\n          textCol = index;\n          return;\n        }\n        if (column.text === options.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(table.rows, (value) => {\n        const data = {\n          annotation: options.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n\n      return list;\n    }\n    return [];\n  }\n}\n\nfunction colContainsTag(colText: string, tagsColumn: string): boolean {\n  const tags = (tagsColumn || '').replace(' ', '').split(',');\n  for (let tag of tags) {\n    if (colText.includes(tag)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getTableCols(dfs: DataFrame[], table: TableModel, target: APMQuery): TableModel {\n  const selectedParams = getSelectedParams(target);\n\n  dfs[0].fields.forEach((field) => {\n    // Time col\n    if (field.name === 'time') {\n      table.columns.push({ text: 'Time', type: FieldType.time });\n    }\n\n    // Group by (label) column(s)\n    else if (field.name === 'value') {\n      if (field.labels) {\n        Object.keys(field.labels).forEach((key) => {\n          table.columns.push({ text: key });\n        });\n      }\n    }\n  });\n\n  // Get cols for annotationQuery\n  if (dfs[0].refId === 'metricFindQuery') {\n    dfs.forEach((field) => {\n      if (field.name) {\n        table.columns.push({ text: field.name });\n      }\n    });\n  }\n\n  // Select (metric) column(s)\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < selectedParams.length; i++) {\n    table.columns.push({ text: selectedParams[i] });\n  }\n\n  return table;\n}\n\nfunction getTableRows(dfs: DataFrame[], table: TableModel, labels: string[]): TableModel {\n  const values = dfs[0].fields[0].values.toArray();\n\n  for (let i = 0; i < values.length; i++) {\n    const time = values[i];\n    const metrics = dfs.map((df: DataFrame) => {\n      return df.fields[1] ? df.fields[1].values.toArray()[i] : null;\n    });\n    if (metrics.indexOf(null) < 0) {\n      table.rows.push([time, ...labels, ...metrics]);\n    }\n  }\n  return table;\n}\n\nexport function getSelectedParams(target: APMQuery): string[] {\n  let allParams: string[] = [];\n  target.select?.forEach((select) => {\n    const selector = select.filter((x) => x.type !== 'field');\n    if (selector.length > 0) {\n      allParams.push(selector[0].type);\n    } else {\n      if (select[0]?.params?.[0]) {\n        allParams.push(select[0].params[0].toString());\n      }\n    }\n  });\n\n  let uniqueParams: string[] = [];\n  allParams.forEach((param) => {\n    uniqueParams.push(incrementName(param, param, uniqueParams, 0));\n  });\n\n  return uniqueParams;\n}\n\nfunction incrementName(name: string, nameIncremenet: string, params: string[], index: number): string {\n  if (params.indexOf(nameIncremenet) > -1) {\n    index++;\n    return incrementName(name, name + '_' + index, params, index);\n  }\n  return nameIncremenet;\n}\n\nfunction addUnique(s: Set<string>, value: string | number) {\n  s.add(value.toString());\n}\n","import _ from 'lodash';\nimport qs from 'qs';\nimport { SERVICES } from '../tc_monitor';\nimport Sign from './sign';\nimport SignV2 from './signV2';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport { getLanguage } from '../../locale';\n\nimport packageInfo from '../plugin.json';\nexport const TcDataSourceId = packageInfo.id;\n\n// the services of tencentcloud monitor api\nconst FINACE_REGIONS = ['ap-shanghai-fsi', 'ap-shenzhen-fsi'];\nconst SERVICES_API_INFO = {\n  api: {\n    service: 'api',\n    version: '2020-11-06',\n    path: '/api',\n    host: 'api.tencentcloudapi.com',\n  },\n  // monitor api info\n  monitor: {\n    service: 'monitor',\n    version: '2018-07-24',\n    path: '/monitor',\n    host: 'monitor.tencentcloudapi.com',\n  },\n  // cls api info\n  cls: {\n    service: 'cls',\n    version: '2020-10-16',\n    path: '/cls',\n    host: 'cls.tencentcloudapi.com',\n  },\n  // cvm api info\n  cvm: {\n    service: 'cvm',\n    version: '2017-03-12',\n    path: '/cvm',\n    host: 'cvm.tencentcloudapi.com',\n  },\n  // cdb api info\n  cdb: {\n    service: 'cdb',\n    version: '2017-03-20',\n    path: '/cdb',\n    host: 'cdb.tencentcloudapi.com',\n  },\n  // pcx api info\n  pcx: {\n    service: 'pcx',\n    version: '',\n    path: '/pcx',\n    host: 'vpc.api.qcloud.com',\n  },\n  // vpc api info\n  vpc: {\n    service: 'vpc',\n    version: '2017-03-12',\n    path: '/vpc',\n    host: 'vpc.tencentcloudapi.com',\n  },\n  // mongodb api info\n  mongodb: {\n    service: 'mongodb',\n    version: '2019-07-25',\n    path: '/mongodb',\n    host: 'mongodb.tencentcloudapi.com',\n  },\n  // 负载均衡 clb\n  clb: {\n    service: 'clb',\n    version: '2018-03-17',\n    path: '/clb',\n    host: 'clb.tencentcloudapi.com',\n  },\n  // postgresql api info\n  postgres: {\n    service: 'postgres',\n    version: '2017-03-12',\n    path: '/postgres',\n    host: 'postgres.tencentcloudapi.com',\n  },\n  // cdn info\n  cdn: {\n    service: 'cdn',\n    version: '2018-06-06',\n    path: '/cdn',\n    host: 'cdn.tencentcloudapi.com',\n  },\n  // redis info\n  redis: {\n    service: 'redis',\n    version: '2018-04-12',\n    path: '/redis',\n    host: 'redis.tencentcloudapi.com',\n  },\n  scf: {\n    service: 'scf',\n    version: '2018-04-16',\n    path: '/scf',\n    host: 'scf.tencentcloudapi.com',\n  },\n  cfs: {\n    service: 'cfs',\n    version: '2019-07-19',\n    path: '/cfs',\n    host: 'cfs.tencentcloudapi.com',\n  },\n  ckafka: {\n    service: 'ckafka',\n    version: '2019-08-19',\n    path: '/ckafka',\n    host: 'ckafka.tencentcloudapi.com',\n  },\n  // 专线接入实例列表\n  dc: {\n    service: 'dc',\n    version: '2018-04-10',\n    path: '/dc',\n    host: 'dc.tencentcloudapi.com',\n  },\n  // cynosdb实例列表\n  cynosdb: {\n    service: 'cynosdb',\n    version: '2019-01-07',\n    path: '/cynosdb',\n    host: 'cynosdb.tencentcloudapi.com',\n  },\n  // sqlserver实例列表\n  sqlserver: {\n    service: 'sqlserver',\n    version: '2018-03-28',\n    path: '/sqlserver',\n    host: 'sqlserver.tencentcloudapi.com',\n  },\n  // bm实例列表\n  bm: {\n    service: 'bm',\n    version: '2018-04-23',\n    path: '/bm',\n    host: 'bm.tencentcloudapi.com',\n  },\n  bmeip: {\n    service: 'bmeip',\n    version: '2018-06-25',\n    path: '/bmeip',\n    host: 'bmeip.tencentcloudapi.com',\n  },\n  bmvpc: {\n    service: 'bmvpc',\n    version: '2018-06-25',\n    path: '/bmvpc',\n    host: 'bmvpc.tencentcloudapi.com',\n  },\n  bmlb: {\n    service: 'bmlb',\n    version: '2018-06-25',\n    path: '/bmlb',\n    host: 'bmlb.tencentcloudapi.com',\n  },\n  // ES集群实例\n  es: {\n    service: 'es',\n    version: '2018-04-16',\n    path: '/es',\n    host: 'es.tencentcloudapi.com',\n  },\n  // MapReduce\n  emr: {\n    service: 'emr',\n    version: '2019-01-03',\n    path: '/emr',\n    host: 'emr.tencentcloudapi.com',\n  },\n  // CMQ消息队列\n  cmq: {\n    service: 'cmq',\n    version: '2019-03-04',\n    path: '/cmq',\n    host: 'cmq.tencentcloudapi.com',\n  },\n  cbs: {\n    service: 'cbs',\n    version: '2017-03-12',\n    path: '/cbs',\n    host: 'cbs.tencentcloudapi.com',\n  },\n  // tcaplus实例\n  tcaplusdb: {\n    service: 'tcaplusdb',\n    version: '2019-08-23',\n    path: '/tcaplusdb',\n    host: 'tcaplusdb.tencentcloudapi.com',\n  },\n  // tcaplus实例\n  dcdb: {\n    service: 'dcdb',\n    version: '2018-04-11',\n    path: '/dcdb',\n    host: 'dcdb.tencentcloudapi.com',\n  },\n  // apigateway实例\n  apigateway: {\n    service: 'apigateway',\n    version: '2018-08-08',\n    path: '/apigateway',\n    host: 'apigateway.tencentcloudapi.com',\n  },\n  tdmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  tdmq_rabbitmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  tdmq_rocketmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  gaap: {\n    service: 'gaap',\n    version: '2018-05-29',\n    path: '/gaap',\n    host: 'gaap.tencentcloudapi.com',\n  },\n  ecm: {\n    service: 'ecm',\n    version: '2019-07-19',\n    path: '/ecm',\n    host: 'ecm.tencentcloudapi.com',\n  },\n  gse: {\n    service: 'gse',\n    version: '2019-11-12',\n    path: '/gse',\n    host: 'gse.tencentcloudapi.com',\n  },\n  lighthouse: {\n    service: 'lighthouse',\n    version: '2020-03-24',\n    path: '/lighthouse',\n    host: 'lighthouse.tencentcloudapi.com',\n  },\n  tsf: {\n    service: 'tsf',\n    version: '2018-03-26',\n    path: '/tsf',\n    host: 'tsf.tencentcloudapi.com',\n  },\n  rum: {\n    service: 'rum',\n    version: '2021-06-22',\n    path: '/rum',\n    host: 'rum.tencentcloudapi.com',\n  },\n  tke: {\n    service: 'tke',\n    version: '2018-05-25',\n    path: '/tke',\n    host: 'tke.tencentcloudapi.com',\n  },\n  ecdn: {\n    service: 'ecdn',\n    version: '2019-10-12',\n    path: '/ecdn',\n    host: 'ecdn.tencentcloudapi.com',\n  },\n  waf: {\n    service: 'waf',\n    version: '2018-01-25',\n    path: '/waf',\n    host: 'waf.tencentcloudapi.com',\n  },\n  region: {\n    service: 'region',\n    version: '2022-06-27',\n    path: '/region',\n    host: 'region.tencentcloudapi.com',\n  },\n  apm: {\n    service: 'apm',\n    version: '2021-06-22',\n    path: '/apm',\n    host: 'apm.tencentcloudapi.com',\n  },\n  // 不单独定义lb，因为lb同样用的是vpc的配置，同上\n  // lb: {\n  //   service: 'lb',\n  //   version: '2017-03-12',\n  //   path: '/lb',\n  //   host: 'vpc.tencentcloudapi.com'\n  // }\n  // 负载均衡四层协议 lbPrivate\n  // lbPrivate: {\n  //   service: 'lbPrivate',\n  //   version: '2018-03-17',\n  //   path: '/clb',\n  //   host: 'clb.tencentcloudapi.com',\n  // },\n};\n\nconst FINACE_HOST = {\n  scf: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/scf/shanghai',\n      host: 'scf.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/scf/shenzhen',\n      host: 'scf.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cfs: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cfs/shanghai',\n      host: 'cfs.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cfs/shenzhen',\n      host: 'cfs.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  ckafka: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/ckafka/shanghai',\n      host: 'ckafka.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/ckafka/shenzhen',\n      host: 'ckafka.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  clb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/clb/shanghai',\n      host: 'clb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/clb/shenzhen',\n      host: 'clb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  mongodb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/mongodb/shanghai',\n      host: 'mongodb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/mongodb/shenzhen',\n      host: 'mongodb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  vpc: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/vpc/shanghai',\n      host: 'vpc.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/vpc/shenzhen',\n      host: 'vpc.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cvm: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cvm/shanghai',\n      host: 'cvm.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cvm/shenzhen',\n      host: 'cvm.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cdb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cdb/shanghai',\n      host: 'cdb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cdb/shenzhen',\n      host: 'cdb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  monitor: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/monitor/shanghai',\n      host: 'monitor.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/monitor/shenzhen',\n      host: 'monitor.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  postgres: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/postgres/shanghai',\n      host: 'postgres.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/postgres/shenzhen',\n      host: 'postgres.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  emr: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/emr/shanghai',\n      host: 'emr.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/emr/shenzhen',\n      host: 'emr.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cmq: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cmq/shanghai',\n      host: 'cmq.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cmq/shenzhen',\n      host: 'cmq.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cls: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cls/shanghai',\n      host: 'cls.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cls/shenzhen',\n      host: 'cls.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n};\n\n// 获取对应业务的 API 接口信息\nexport function GetServiceAPIInfo(region, service) {\n  return { ...(SERVICES_API_INFO[service] || {}), ...getHostAndPath(region, service) };\n}\n\n// get host and path for finance regions\nfunction getHostAndPath(region, service) {\n  if (_.indexOf(FINACE_REGIONS, region) === -1) {\n    return {};\n  }\n  return (\n    _.find(\n      _.find(FINACE_HOST, (__, key) => key === service),\n      (__, key) => key === region\n    ) || {}\n  );\n}\n\n// 变量替换指定实例按照那个字段展示\nexport const VARIABLE_ALIAS = 'instancealias';\n\nexport function GetServiceFromNamespace(namespace) {\n  return _.get(\n    _.find(SERVICES, (service) => service.namespace === namespace),\n    'service'\n  );\n}\n// 处理存量target中保存的qce/cvm\nexport function GetLabelFromNamespace(namespace) {\n  return _.get(\n    _.find(SERVICES, (service) => service.namespace === namespace || service.label === namespace),\n    'label'\n  );\n}\n// parse template variable query params\nexport function ParseMetricQuery(query = '') {\n  if (!query) {\n    return {};\n  }\n  const result = {};\n  const queries = _.split(query, '&');\n  _.forEach(queries, (item) => {\n    const str = _.split(item, '=');\n    if (_.trim(_.get(str, '0', ''))) {\n      let val = _.trim(_.get(str, '1', ''));\n      try {\n        val = JSON.parse(val);\n      } catch (e) {\n        // console.log({ val });\n      }\n      result[_.toLower(_.trim(_.get(str, '0', '')))] = val;\n    }\n  });\n  return result;\n}\n\n// parse template variable regex params\nexport function ParseMetricRegex(regex = '') {\n  if (!regex) {\n    return [];\n  }\n  regex = regex.replace(/：/g, ':');\n  regex = regex.replace(/，/g, ',');\n  const regexParams = ParseMetricQuery(regex);\n  const result: any[] = [];\n  _.forEach(regexParams, (value, key) => {\n    if (key === 'tag:tag-key') {\n      const valuesArr = _.split(value, ',');\n      _.forEach(valuesArr, (item) => {\n        const temp = _.split(item, ':');\n        if (temp.length === 2) {\n          result.push({ Name: `tag:${temp[0]}`, Values: temp.slice(1) });\n        }\n      });\n    } else {\n      result.push({ Name: key, Values: _.split(value, ',') });\n    }\n  });\n  return result;\n}\n\n// get the actual value of template variable\nfunction parseVariableFormat(varname: string) {\n  varname = String(varname || '');\n  // $varname\n  let varFlag = false;\n  const regResult1 = varname.match(/^\\${?(\\w+)}?/);\n  if (regResult1) {\n    varFlag = true;\n    varname = `\\$\\{${regResult1[1]}\\:json\\}`;\n  }\n  // [[varname]]\n  const regResult2 = varname.match(/^\\[\\[(\\w+)(\\:\\w+)?\\]\\]/);\n  if (regResult2) {\n    varFlag = true;\n    varname = `\\$\\{${regResult2[1]}\\:json\\}`;\n  }\n  return { varname, varFlag };\n}\n\nexport function ReplaceVariable(templateSrv, scopedVars, field, multiple = false) {\n  const { varname, varFlag } = parseVariableFormat(field);\n  let replaceVar = templateSrv.replace(varname, scopedVars);\n  if (varFlag) {\n    try {\n      replaceVar = JSON.parse(replaceVar);\n    } catch (error) {}\n  }\n  if (!multiple && _.isArray(replaceVar)) {\n    replaceVar = _.get(replaceVar, '0', '');\n  }\n  return replaceVar;\n}\n\n// get dimensions for instance query param\nexport function GetDimensions(obj) {\n  if (_.isEmpty(obj)) {\n    return [];\n  }\n  const dimensions: any[] = [];\n  _.forEach(obj, (item) => {\n    if (item.Value !== null && item.Value !== undefined && item.Value !== '') {\n      dimensions.push({ Name: item.Name, Value: typeof item.Value === 'string' ? item.Value : `${item.Value}` });\n    }\n  });\n  return dimensions;\n}\n\n// parse query data result for panel\nexport function ParseQueryResult(response, instances: any[] = [], timeshift = 0) {\n  const instanceList = _.cloneDeep(instances);\n\n  const dataPoints = _.get(response, 'DataPoints', []);\n  return _.map(dataPoints, (dataPoint) => {\n    let instanceAliasValue = _.get(dataPoint, 'Dimensions[0].Value');\n    for (let i = 0; i < instanceList.length; i++) {\n      if (isInstanceMatch(instanceList[i], _.get(dataPoint, 'Dimensions', []))) {\n        instanceAliasValue = instanceList[i]._InstanceAliasValue;\n        instanceList.splice(i, 1);\n        break;\n      }\n    }\n    return {\n      target: `${response.MetricName} - ${instanceAliasValue}`,\n      datapoints: parseDataPoint(dataPoint, timeshift),\n    };\n  });\n}\n\n// parse tencent cloud monitor response data to grafana panel data\nfunction parseDataPoint(dataPoint, timeshift = 0) {\n  const timestamps = _.get(dataPoint, 'Timestamps', []);\n  const values = _.get(dataPoint, 'Values', []);\n  const result = timestamps.map((timestamp, index) => {\n    return [values[index], timestamp * 1000 + timeshift];\n  });\n\n  return result;\n}\n\n// check whether instance is match or not\nfunction isInstanceMatch(instance, dimensions) {\n  let match = true;\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < dimensions.length; i++) {\n    if (_.get(instance, dimensions[i].Name, '').toString() !== dimensions[i].Value.toString()) {\n      match = false;\n      break;\n    }\n  }\n  return match;\n}\n\n/**\n * 检查某个变量是否模板变量，即是否匹配 ${varnam} 或 [[varname]]\n *\n * @param field 变量字段名\n */\nexport function isVariable(value) {\n  if (value && (value.match(/^\\${?(\\w+)}?/) || value.match(/^\\[\\[(\\w+)(\\:\\w+)?\\]\\]/))) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * 腾讯云 API 3.0 接口协议\n * @param options 接口请求对象 { url: string, data?: object }\n * @param service 产品名字 'cvm'\n * @param signObj 接口请求相关信息 { region?: string, action: string }\n * @param secretId\n * @param secretKey\n */\nexport async function GetRequestParams(options, service, signObj: any = {}, secretId, datasourceId, backendSrv) {\n  const signParams = {\n    secretId,\n    payload: options.data || '',\n    ...signObj,\n    ...(_.pick(GetServiceAPIInfo(signObj.region || '', service), ['service', 'host', 'version']) || {}),\n    backendSrv,\n    datasourceId,\n    region: 'ap-guangzhou',\n  };\n  const sign = new Sign(signParams);\n  const { intranet, ...headerSigned } = await sign.getHeader();\n  // 传入x-tc-language实现国际化\n  // zh-CN en-US ko-KR ja-JP\n  options.headers = Object.assign(options.headers || {}, { ...headerSigned }, { 'x-tc-language': getLanguage() });\n  options.method = 'POST';\n  if (intranet) {\n    options.url += '-internal';\n  }\n  return options;\n}\n\n/**\n *  腾讯云 API 2.0 接口协议\n * @param options 接口请求对象 { url: string, data?: object }\n * @param service 产品名字 'cvm'\n * @param signObj 接口请求相关信息 { region?: string, action: string }\n * @param secretId\n * @param secretKey\n */\nexport async function GetRequestParamsV2(\n  options: any = {},\n  service,\n  signObj: any = {},\n  secretId,\n  datasourceId,\n  backendSrv\n) {\n  const data = options.data || {};\n  const signParams = {\n    secretId,\n    data,\n    ...signObj,\n    ...(_.pick(GetServiceAPIInfo(signObj.region || '', service), ['host', 'version']) || {}),\n    backendSrv,\n    datasourceId,\n  };\n  options.method = 'POST';\n  const sign = new SignV2(signParams);\n  options.headers = Object.assign(options.headers || {}, { 'Content-Type': 'application/x-www-form-urlencoded' });\n  const { queryString, path, host, intranet } = await sign.generateQueryString();\n  options.data = qs.stringify({\n    ...options.data,\n    ...queryString,\n    ...(host && { host: host }),\n  });\n  if (intranet) {\n    // TODO: qcloud.com intranet host\n    console.log('got intranet for sign v2');\n  }\n  options.url += path;\n  return options;\n}\n\nexport function SliceLength(total = 0, len = 1) {\n  const result: any[] = [];\n  const num = Math.ceil(total / len);\n  for (let i = 1; i < num; i++) {\n    result.push({ Offset: len * i });\n  }\n  return result;\n}\n\nexport const FilterKeys = ['Namespace', 'Offset', 'Limit', 'SearchKey', 'Description', 'OrderBy', 'Order'];\n\nexport function parseDataFromBackendPlugin(res) {\n  const { data } = toDataQueryResponse(res);\n  return {\n    authorization: _.get(data, '[0].meta.custom', ''),\n  };\n}\n\n/** 当前环境是否为非生产环境 */\nexport const IS_DEVELOPMENT_ENVIRONMENT = !(process.env.NODE_ENV === 'production');\n\n/**\n * @link https://github.com/grafana/grafana/blob/3c6e0e8ef85048af952367751e478c08342e17b4/packages/grafana-data/src/types/app.ts#L12\n */\nexport enum CoreApp {\n  CloudAlerting = 'cloud-alerting',\n  UnifiedAlerting = 'unified-alerting',\n  Dashboard = 'dashboard',\n  Explore = 'explore',\n  Unknown = 'unknown',\n  PanelEditor = 'panel-editor',\n  PanelViewer = 'panel-viewer',\n}\n","import indexedDB from './indexedDB';\nclass InstanceStorage {\n  // prefix = 'Datasource';\n  // storageKey = 'grafanaInstanceCache';\n  insKey = 'Instances';\n  cacheWay = '';\n  constructor() {}\n  setInstance(service: string, value: Record<string, any>) {\n    return this.setStorage(service, this.insKey, value, true);\n  }\n  async getInstance(service: string) {\n    return this.getStorage(service, this.insKey);\n  }\n  setExtraStorage(service: string, Ekey: string, EValue: Record<string, any>) {\n    return this.setStorage(service, Ekey, EValue, false);\n  }\n  async getExtraStorage(service: string, Ekey: string) {\n    return this.getStorage(service, Ekey);\n  }\n  private setStorage(serviceKey: string, key: string, value: Record<string, any>, isCover = false) {\n    // console.log('set', serviceKey, key, value);\n    return indexedDB.addData(\n      {\n        service: serviceKey,\n        [key]: value,\n      },\n      isCover\n    );\n  }\n  // 获取到模版变量信息\n  private async getStorage(service: string, key?: string) {\n    const storage = await indexedDB.getData(service);\n    // console.log('get', key, storage);\n    return key ? storage?.[key] : storage;\n  }\n}\nexport default new InstanceStorage();\n","interface DBEvent {\n  target: { result: any; error: any };\n}\n// 数据库结构\ninterface DBTypes {\n  store: StoreType;\n  name?: string;\n  version?: number;\n}\n// store表结构\ninterface StoreType {\n  name: string; // 表名\n  key: string; // 主键名\n  cursorIndex?: { name: string; unique: boolean }[]; // 索引列表\n}\n\n// 数据结构\n// {service: 'cvm', instance: [{ins: 23}]}\ninterface DataType {\n  service: string;\n  [x: string]: any; // 有产品需缓存其他列表\n}\n\n// interface UpdateProps {\n//   storeName: string;\n//   cursorKey: string;\n//   cursorValue?: any;\n//   data: any;\n// }\n\nconst store: StoreType = {\n  name: 'grafanaInstanceList',\n  key: 'service',\n};\nconst promisify = (request: any, type?: string) => {\n  return new Promise<any>((resolve, reject) => {\n    request.onsuccess = (event: DBEvent) => {\n      const returnMap: any = {\n        event: event.target.result,\n        request: request.result,\n        msg: '操作成功',\n      };\n      resolve(returnMap[type || 'msg']);\n    };\n    request.onerror = (event: DBEvent) => reject(event.target.error || '操作失败');\n  });\n};\n// 固定表名和数据库名\nclass IndexedDB {\n  name = 'grafanaDatabase';\n  version = 1;\n\n  constructor(props: DBTypes) {\n    const { name = 'database', version = 1, store } = props;\n    this.name = name;\n    this.version = version;\n\n    this.initDB(store);\n  }\n\n  /**\n   * 初始化数据库\n   * @param store 库表的结构\n   */\n  initDB(store: StoreType) {\n    const indexeddb = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;\n    const request = indexeddb.open(this.name, this.version);\n\n    request.onupgradeneeded = (event: IDBVersionChangeEvent) => {\n      const db = (event.target as IDBOpenDBRequest).result;\n      if (db.objectStoreNames.contains(store.name)) {\n        // 存在表store\n      }\n\n      //  遍历store，设置数据表结构\n      db.createObjectStore(store.name, {\n        keyPath: store.key,\n      });\n    };\n    request.onerror = () => Promise.reject(new Error('初始化数据库失败'));\n    request.onsuccess = () => Promise.resolve('初始化数据库成功');\n  }\n\n  openDB() {\n    const indexeddb = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;\n    const request = indexeddb.open(this.name, this.version);\n\n    return promisify(request, 'event');\n  }\n\n  /**\n   * 新增数据\n   * @param storeName 表名\n   * @param data 添加的数据\n   */\n  async insertData(storeName: string, data: any) {\n    try {\n      // console.time('insertData');\n      const db = await this.openDB();\n      const transaction = db.transaction(storeName, 'readwrite');\n      const objectStore = transaction.objectStore(storeName);\n\n      objectStore.add(data);\n      // console.timeEnd('insertData');\n\n      return new Promise((resolve, reject) => {\n        transaction.oncomplete = function () {\n          // console.timeEnd('insertData');\n          resolve('所有数据插入成功');\n        };\n\n        transaction.onerror = function (event) {\n          reject(event);\n        };\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  /**\n   * 更新数据\n   * @param props 查询数据的参数以及要修改的值的参数\n   */\n  async addData(data: DataType, isCover?: boolean) {\n    try {\n      // console.log('addData');\n      const storeName = store.name; // 表名\n      const oldData = await this.getData(data.service);\n      const objectStore = await this.getObjectStore(storeName, 'readwrite');\n\n      if (!oldData) {\n        // 不存在则新建\n        this.insertData(storeName, data);\n      }\n      // 存在则更新\n      let newData: any = { ...oldData, ...data };\n      if (isCover) newData = data; // 需要覆盖之前内容\n      // 把更新过的对象放回数据库\n      const requestUpdate = objectStore.put(newData);\n      // console.timeEnd('updateData');\n      return promisify(requestUpdate);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  /**\n   * 获取数据库的值，返回查询到的第一项\n   * @param storeName 表名/存储对象的键\n   * @param cursorKey key\n   * @param cursorValue 要查询索引的值\n   */\n  async getData(seviceName: string) {\n    try {\n      // console.time('getData');\n      const storeName = store.name;\n      const objectStore = await this.getObjectStore(storeName);\n      const request = objectStore.get(seviceName);\n      // console.timeEnd('getData');\n      return promisify(request, 'request');\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  async getAllData(storeName: string) {\n    try {\n      // console.time('getAllData');\n      const objectStore = await this.getObjectStore(storeName);\n      const request = objectStore.getAll();\n      const result = await promisify(request, 'request');\n      // console.timeEnd('getAllData');\n      return result ? result : [];\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * 获取对象仓库\n   * @param storeName 表名\n   * @param type readonly 或者 readwrite等\n   */\n  private async getObjectStore(storeName: string, type?: any): Promise<IDBObjectStore> {\n    try {\n      const db = await this.openDB();\n      return db.transaction(storeName, type).objectStore(storeName);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n}\n// console.log('testDDB')\n// const indexDB = new IndexedDB({store});\n// indexDB.addData({service: 'cvm', instance: [{ins: 23}]}).then(e=>{\n//   indexDB.getData('cvm').then(dd=>{console.log({dd})})\n// })\nexport default new IndexedDB({ store });\n","import coreModule from 'grafana/app/core/core_module';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst genController = (component) =>\n  class Controller {\n    _$scope: any;\n    _$element: any;\n\n    /** @ngInject */\n    constructor($scope, $element) {\n      this._$scope = $scope;\n      this._$element = $element;\n    }\n\n    $onInit() {\n      // extract porps\n      const props = Object.entries(this._$scope).reduce((acc, [key, value]) => {\n        if (!key.startsWith('$')) {\n          if (typeof value === 'function') {\n            acc[key] = (...args) => value({ _query: args.length === 1 ? args[0] : args });\n          } else {\n            acc[key] = value;\n          }\n        }\n        return acc;\n      }, {} as any);\n\n      // wating dom mounted\n      setTimeout(() => {\n        ReactDOM.render(React.createElement(component, props), this._$element[0]);\n      });\n    }\n  };\n\nexport function loadReactComponent(\n  RectCompo: React.ComponentType,\n  componentName: string,\n  propTypes: Record<string, string>\n) {\n  coreModule.directive(componentName, () => ({\n    template: `<div class=\"${componentName}\"></div>`,\n    controller: genController(RectCompo),\n    restrict: 'E',\n    scope: propTypes,\n    replace: true,\n  }));\n}\n","import moment from 'moment';\n\nconst HttpRequestMethod = 'POST';\nconst CanonicalUri = '/';\nconst CanonicalQueryString = '';\nconst ContentType = 'application/json';\n\nexport default class Sign {\n  /**\n   * Tencent Cloud API Signature v3 reference: https://cloud.tencent.com/document/api/213/30654\n   * secretId: SecretId for identifying identity that is applied for on Cloud API Key.\n   * A SecretId corresponds to a unique SecretKey, which is used to generate the request Signature.\n   * secretKey: SecretKey is used to encrypt the signature string and verify the signature string on the server\n   * service: the name of service, which must be consistent with the request domain, such as cvm\n   * action: The name of the API for the desired operation\n   * host: the domain of service，which must be consistent with the request domain, such as cvm.tencentcloudapi.com\n   * version:  PI version, such as 2017-03-12\n   * payload: The request parameters\n   */\n\n  secretId: string;\n\n  service: string;\n  action: string;\n  host: string;\n  version: string;\n  payload: Record<string, any> | string;\n  region: string;\n  timestamp: number;\n  date: string;\n  backendSrv: any;\n  datasourceId: Number;\n  constructor(options) {\n    const { secretId, service, action, host, version, payload = '', region, backendSrv, datasourceId } = options;\n    this.secretId = secretId;\n    // this.secretKey = secretKey;\n    this.service = service;\n    this.action = action;\n    this.host = host;\n    this.version = version;\n    this.payload = typeof payload === 'string' ? payload : JSON.stringify(payload);\n    this.region = region;\n    const nowDate = moment().utc();\n    this.timestamp = nowDate.unix();\n    this.date = nowDate.format('YYYY-MM-DD');\n    this.backendSrv = backendSrv;\n    this.datasourceId = datasourceId;\n  }\n\n  async getHeader() {\n    return this.getResourceHeader();\n  }\n\n  async getResourceHeader() {\n    let res: { authorization?: string; token?: string; intranet?: boolean } = {};\n    try {\n      const resp = await this.backendSrv.datasourceRequest({\n        url: `/api/datasources/${this.datasourceId}/resources/sign_v3`,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        data: {\n          Host: this.host,\n          Service: this.service,\n          Version: this.version,\n          Action: this.action,\n          Region: this.region,\n          Timestamp: this.timestamp,\n          Method: HttpRequestMethod,\n          Uri: CanonicalUri,\n          Query: CanonicalQueryString,\n          Body: this.payload,\n          Headers: {\n            'content-type': ContentType,\n            host: this.host,\n          },\n        },\n      });\n      res = resp.data;\n    } catch (err) {}\n    const { authorization, token, intranet } = res;\n    const grafanaVersion = (window as any).grafanaBootData?.settings?.buildInfo?.version || '0.0.0';\n    const headers = {\n      Authorization: authorization,\n      'Content-Type': ContentType,\n      'X-TC-Action': this.action,\n      'X-TC-Timestamp': this.timestamp.toString(),\n      'X-TC-Version': this.version,\n      'X-TC-RequestClient': `GF_${grafanaVersion}_PL_CM_${process.env.TENCENT_CLOUD_MONITOR_GRAFANA_PLUGIN_VERSION}`,\n      ...(this.region && {\n        'X-TC-Region': this.region,\n      }),\n      ...(token && {\n        'X-TC-Token': token,\n      }),\n      intranet: intranet,\n    };\n    return headers;\n  }\n}\n","/**\n *\n * @param defaults 为对象\n * secretId\n * secretKey\n * action\n * region\n * host\n */\n\nexport default class SignV2 {\n  defaults: any = {\n    path: '/v2/index.php',\n    method: 'POST',\n  };\n  backendSrv: any;\n  datasourceId: Number;\n  constructor(defaults: any = {}) {\n    this.defaults = Object.assign(this.defaults, defaults);\n    this.defaults.secretKey = '';\n    this.backendSrv = defaults.backendSrv;\n    this.datasourceId = defaults.datasourceId;\n  }\n\n  generateQueryString = async () => {\n    return this.getResourceQueryString();\n  };\n\n  async getResourceQueryString() {\n    let res: { path?: string; querystring?: any; host?: string; intranet?: boolean } = {};\n    try {\n      const { data } = this.defaults;\n      const payload = typeof data === 'string' ? data : JSON.stringify(data);\n      const resp = await this.backendSrv.datasourceRequest({\n        url: `/api/datasources/${this.datasourceId}/resources/sign_v2`,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        data: {\n          Host: this.defaults.host,\n          Action: this.defaults.action,\n          Version: this.defaults.version,\n          Region: this.defaults.region,\n          Method: this.defaults.method,\n          Uri: this.defaults.path,\n          Query: '',\n          Body: payload,\n        },\n      });\n      res = resp.data;\n    } catch (err) {}\n    const { path, querystring, host, intranet } = res;\n    return { queryString: querystring, path: path, host: host, intranet: intranet };\n  }\n}\n","import _ from 'lodash';\nimport { SERVICES } from '../tc_monitor';\n\n/* 从分页数据获取全量数据 */\nconst PageSize = 50;\nfunction getFieldsValue(value, fields) {\n  return fields.map((item) => _.get(value, item, _.get(value, `Result.${item}`, [])));\n}\n\nexport async function fetchAllFactory(fetcher: (args: any) => Promise<any>, _params: any, field: string | string[]) {\n  const params = { ..._.omit(_params, ['isOffsetPage']) };\n  params.Limit = params.Limit || PageSize; // 默认给个Limit大小为50\n  params.Offset = params.Offset ?? 0; // 默认给个Offset为0\n\n  // 第一次请求，获取总数\n  const rs = (await fetcher(params)) ?? {};\n  const fields = Array.isArray(field) ? field : [field];\n\n  // rs.TotalCount = rs.TotalCount ?? rs.Result.TotalCount ?? [];\n  // const { TotalCount } = rs;\n  const TotalCount = rs.TotalCount ?? rs.Result?.TotalCount ?? rs.TotalCnt ?? rs.Result?.TotalCnt ?? 0;\n  const firstLists = getFieldsValue(rs, fields);\n\n  if (TotalCount === 0 || firstLists[0].length === TotalCount) {\n    // 只有一页，结束\n    return firstLists;\n  }\n\n  // 批量请求\n  const delta = TotalCount - firstLists[0].length;\n  const batchCount = Math.ceil(delta / PageSize);\n  const pmList = new Array(batchCount).fill(0).map((_, index) => {\n    params.Offset = _params.isOffsetPage ? 1 + index : (1 + index) * params.Limit;\n    return fetcher(params);\n  });\n\n  // 合并\n  const resultList = await Promise.all(pmList); // [ {a: [], b[] }, { a: [], b:[] }]\n\n  return resultList.reduce((acc, cur) => {\n    const lists = getFieldsValue(cur, fields);\n    // [[], [], []] + [[], [], []]\n    acc.forEach((list, index) => list.push(...lists[index]));\n    return acc;\n  }, firstLists);\n}\n\n/**\n * 实例列表接口入参处理\n *\n * @param queries 表单键入内容\n * @param isFilter 是否需要设置为Filters格式\n */\nexport function instanceQueryParamsBaseParse(queries: any, isFilter: boolean) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    const Filters: any[] = [];\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          if (isFilter) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          } else {\n            params[key] = _.uniq(item);\n          }\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          if (isFilter) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          } else {\n            params[key] = _.get(item, 'value');\n          }\n        }\n      } else if (item !== null && item !== undefined && item !== '') {\n        if (isFilter) {\n          Filters.push({ Name: key, Values: item });\n        } else {\n          params[key] = item;\n        }\n      }\n    });\n    if (isFilter && Filters.length > 0) {\n      params.Filters = Filters;\n      return params;\n    }\n  }\n  return params;\n}\n\nexport function getNamesapceFromService(serviceName: string) {\n  return _.get(\n    _.find(SERVICES, (service) => service.service === serviceName),\n    'namespace'\n  );\n}\n\nexport function serviceGroupBy(\n  services: { service: string; label: string; namespace: string; href: string; groupName?: string }[]\n) {\n  const result = services.reduce((acc, cur) => {\n    const { namespace, label, groupName = label } = cur;\n\n    const existedGroup = acc.find((item) => item.label === groupName);\n    if (!existedGroup) {\n      acc.push({ label: groupName, value: groupName, items: [{ label, value: namespace }] });\n      return acc;\n    }\n\n    existedGroup.items.push({ label, value: namespace });\n    return acc;\n  }, [] as any[]);\n\n  // 将只有一个子元素的项目进行特殊处理\n  const rs = result.map((item) =>\n    item.items.length === 1 ? { label: item.items[0].label, value: item.items[0].value } : item\n  );\n  return rs;\n}\n\nexport const isTargetEqual = (newTargetString: string, oldTargetString: string, key: string) => {\n  try {\n    const newTarget = JSON.parse(newTargetString);\n    const oldTarget = JSON.parse(oldTargetString);\n    return newTarget[key] === oldTarget[key];\n  } catch (e) {\n    return newTargetString === oldTargetString;\n  }\n};\n\nexport const getTimeShiftInMs = (timeShift: any) => {\n  const parts = /^(\\d+)([d|h|m|s])$/.exec(timeShift);\n  if (!parts) {\n    return 0;\n  }\n  const amount = parseInt(parts[1], 10);\n  const unit = parts[2];\n  switch (unit) {\n    case 'd':\n      return amount * 86400 * 1000;\n    case 'h':\n      return amount * 3600 * 1000;\n    case 'm':\n      return amount * 60 * 1000;\n    case 's':\n      return amount * 1000;\n  }\n  return 0;\n};\n","import React, { FormEvent, PureComponent } from 'react';\nimport { LegacyForms, InlineFieldRow, InlineField, Input, Switch, Select, Alert } from '@grafana/ui';\nimport { DataSourcePluginOptionsEditorProps, SelectableValue } from '@grafana/data';\nimport { MyDataSourceOptions, MySecureJsonData } from '../types';\nimport { SERVICES } from '../tc_monitor';\nimport { t, setLanguage, Language } from '../../locale';\nconst { SecretFormField } = LegacyForms;\n\ntype Props = DataSourcePluginOptionsEditorProps<MyDataSourceOptions, MySecureJsonData>;\n\ninterface State {\n  monitorFilter: string;\n  isClsAlertVisiable: boolean;\n}\n\nexport class ConfigEditor extends PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      monitorFilter: '',\n      isClsAlertVisiable: false,\n    };\n    setLanguage(props.options.jsonData.language || Language.Chinese);\n  }\n\n  patchJsonData = (kv: Record<string, any>) => {\n    const { onOptionsChange, options } = this.props;\n    if (kv) {\n      const jsonData = {\n        ...options.jsonData,\n        ...kv,\n      };\n      onOptionsChange({ ...options, jsonData });\n    }\n  };\n\n  onJsonDataChange = (event: FormEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const targetName = event?.currentTarget?.name;\n    const targetValue = (event?.currentTarget?.value || '').trim();\n    if (targetName) {\n      const jsonData = {\n        ...options.jsonData,\n        [targetName]: targetValue,\n      };\n      onOptionsChange({ ...options, jsonData });\n    }\n  };\n\n  // Secure field (only sent to the backend)\n  onSecureJsonChange = (event: FormEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const targetName = event?.currentTarget?.name;\n    const targetValue = (event?.currentTarget?.value || '').trim();\n    if (targetName) {\n      onOptionsChange({\n        ...options,\n        secureJsonData: {\n          ...options.secureJsonData,\n          [targetName]: targetValue,\n        },\n      });\n    }\n  };\n\n  onResetSecureJson = (key: string) => {\n    const { onOptionsChange, options } = this.props;\n    if (key) {\n      onOptionsChange({\n        ...options,\n        secureJsonFields: {\n          ...options.secureJsonFields,\n          [key]: false,\n        },\n        secureJsonData: {\n          ...options.secureJsonData,\n          [key]: '',\n        },\n      });\n    }\n  };\n\n  render() {\n    const { options } = this.props;\n    const { jsonData, secureJsonFields, secureJsonData } = options;\n    return (\n      <>\n        <div>\n          <h3 className=\"page-heading\">Security Credentials</h3>\n          <div\n            className=\"card-item\"\n            style={{\n              position: 'relative',\n              marginTop: '16px',\n              padding: '16px',\n              WebkitBoxFlex: 1,\n              flexGrow: 1,\n              borderTop: '3px solid rgb(50, 115, 217)',\n            }}\n          >\n            <div>\n              <h4>Initialize Tencent Cloud Monitor Grafana App</h4>\n              <p>\n                To initialize the App and connect it to your Tencent Cloud service you will need a SecretId and a\n                SecretKey for you Tencent Cloud account.\n                <br />\n                <b>SecretId</b> is used to identify the identity of the API caller.\n                <br />\n                <b>SecretKey</b> is used to encrypt the signature and validate the signature of the server-side.\n              </p>\n            </div>\n            <div>\n              <h5>User Permission</h5>\n              <p>\n                If you are using a\n                <a\n                  className=\"highlight-word\"\n                  href=\"https://intl.cloud.tencent.com/document/product/598/13674\"\n                  target=\"_blank\"\n                  style={{ margin: '0 4px' }}\n                >\n                  sub-user\n                </a>\n                account, you should at least own read permission to the cloud products you wish to monitor.\n              </p>\n              <a className=\"highlight-word\" href=\"https://console.cloud.tencent.com/cam/capi\" target=\"_blank\">\n                Generate a new Tencent Cloud API key\n              </a>\n            </div>\n          </div>\n        </div>\n\n        <div style={{ marginTop: 20 }}>\n          <InlineFieldRow>\n            <InlineField label=\"SecretId\" labelWidth={20} required={true}>\n              <Input\n                width={50}\n                required={true}\n                value={jsonData.secretId}\n                name=\"secretId\"\n                onChange={this.onJsonDataChange}\n              />\n            </InlineField>\n          </InlineFieldRow>\n          <InlineFieldRow>\n            <SecretFormField\n              label=\"SecretKey\"\n              labelWidth={10}\n              inputWidth={25}\n              type=\"password\"\n              name=\"secretKey\"\n              value={secureJsonData?.secretKey || ''}\n              isConfigured={secureJsonFields?.secretKey}\n              onChange={this.onSecureJsonChange}\n              onReset={() => {\n                this.onResetSecureJson('secretKey');\n              }}\n            />\n          </InlineFieldRow>\n          <InlineFieldRow style={{ marginTop: '10px' }}>\n            <InlineField label={t('language')} labelWidth={20}>\n              <Select\n                value={jsonData.language || Language.Chinese}\n                className=\"width-10\"\n                options={[\n                  { value: Language.English, label: 'English' },\n                  { value: Language.Chinese, label: '简体中文' },\n                ]}\n                onChange={(option: SelectableValue<Language>) => {\n                  setLanguage(option.value);\n                  this.patchJsonData({\n                    language: option.value,\n                  });\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n          <InlineFieldRow style={{ marginTop: '10px' }}>\n            <InlineField label={t('enable_intranet_API_mode')} labelWidth={20}>\n              <InlineSwitch\n                value={jsonData.intranet}\n                onChange={(e) => {\n                  // onIntranetChange\n                  this.patchJsonData({\n                    intranet: e.currentTarget.checked,\n                  });\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n        </div>\n\n        {this.renderRUMConfig()}\n        {this.renderAPMConfig()}\n        {this.renderLogServiceConfig()}\n        {this.renderMonitorConfig()}\n      </>\n    );\n  }\n\n  renderRUMConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Real User Monitoring</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('RUM')}>\n            <InlineSwitch\n              value={jsonData.RUMServiceEnabled}\n              onChange={(e) => {\n                this.patchJsonData({\n                  RUMServiceEnabled: e.currentTarget.checked,\n                });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      </div>\n    );\n  }\n\n  renderAPMConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">APM Monitoring</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('APM')}>\n            <InlineSwitch\n              value={jsonData.APMServiceEnabled}\n              onChange={(e) => {\n                this.patchJsonData({\n                  APMServiceEnabled: e.currentTarget.checked,\n                });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      </div>\n    );\n  }\n\n  renderLogServiceConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    const { isClsAlertVisiable } = this.state;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Log Service</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('CLS')}>\n            <InlineSwitch\n              value={jsonData.logServiceEnabled}\n              onChange={(e) => {\n                const logServiceEnabled = e.currentTarget.checked;\n                this.patchJsonData({\n                  logServiceEnabled,\n                });\n                if (logServiceEnabled)\n                  this.setState({\n                    isClsAlertVisiable: true,\n                  });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        {isClsAlertVisiable && <Alert severity=\"info\" title=\"如果是第一次开启 CLS 数据源，请保存后重启 Grafana\" />}\n      </div>\n    );\n  }\n\n  renderMonitorConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    const { monitorFilter } = this.state;\n    // 使用 product 表示云监控业务下的云产品\n    const filteredProducts = SERVICES.filter((item) => item.label.toLowerCase().includes(monitorFilter.toLowerCase()));\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Monitor Services</h3>\n        <InlineFieldRow style={{ marginBottom: 10 }}>\n          <InlineField>\n            <Input\n              placeholder=\"Input keyword to filter...\"\n              width={40}\n              value={monitorFilter}\n              onChange={(e) => {\n                this.setState({\n                  monitorFilter: e.currentTarget.value,\n                });\n              }}\n            />\n          </InlineField>\n          <InlineField label=\"Select All\" style={{ marginLeft: 20 }}>\n            <InlineSwitch\n              value={filteredProducts.every((product) => jsonData[product.service])}\n              onChange={(e) => {\n                const toChecked = e.currentTarget.checked;\n                const allCheckObject = {};\n                filteredProducts.forEach((product) => {\n                  allCheckObject[product.service] = toChecked;\n                });\n                this.patchJsonData(allCheckObject);\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        {filteredProducts.map((product) => {\n          return (\n            <InlineFieldRow key={product.service}>\n              <InlineField\n                labelWidth={55}\n                label={product.label}\n                tooltip={\n                  <a target=\"_blank\" href={product.href}>\n                    {`Click here for more information of ${product.label}.`}\n                  </a>\n                }\n              >\n                <InlineSwitch\n                  value={Boolean(jsonData[product.service])}\n                  onChange={(e) => {\n                    this.patchJsonData({\n                      [product.service]: e.currentTarget.checked,\n                    });\n                  }}\n                />\n              </InlineField>\n            </InlineFieldRow>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\n// @grafana/ui 7.3.6版本不含 InlineSwitch 组件，这里打个补丁。提升最小支持版本后，可移除\nfunction InlineSwitch(props) {\n  return (\n    <div\n      style={{\n        padding: '0px 8px',\n        height: 32,\n        display: 'inline-flex',\n        WebkitBoxAlign: 'center',\n        alignItems: 'center',\n        // background: '#F4F5F5',\n        border: '1px solid rgba(204, 204, 220, 0.15)',\n        borderRadius: 2,\n      }}\n    >\n      <Switch {...props} />\n    </div>\n  );\n}\n","import { MyDataSourceOptions, QueryInfo } from '../types';\nimport {\n  DataFrame,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceApi,\n  DataSourceInstanceSettings,\n  FieldType,\n  LoadingState,\n  LogRowModel,\n  MetricFindValue,\n} from '@grafana/data';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport { DescribeLogContext, LogInfo, SearchLog } from './common/model';\nimport {\n  ConvertLogContextToDataFrame,\n  ConvertSearchResultsToDataFrame,\n  formatSearchLog,\n  LogFieldReservedName,\n} from './common/format';\nimport { RowContextOptions } from '@grafana/ui/components/Logs/LogRowContextProvider';\nimport moment from 'moment';\nimport { toTimeSeriesMany } from './common/format/prepareTimeSeries';\nimport { addQueryResultLimit, replaceClsQueryWithTemplateSrv } from './common/utils/query';\n\nexport class LogServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\n    super(instanceSettings);\n    this.instanceSettings = instanceSettings;\n  }\n\n  query(request: DataQueryRequest<QueryInfo>) {\n    const { range, targets, scopedVars } = request;\n    const [from, to] = [range.from, range.to].map((item) => item.valueOf()) as number[];\n    const requestTargets = targets.map<QueryInfo>((target) => {\n      const region = target.logServiceParams?.region ? getTemplateSrv().replace(target.logServiceParams.region) : '';\n      const TopicId = target.logServiceParams?.TopicId ? getTemplateSrv().replace(target.logServiceParams.TopicId) : '';\n      const Query = addQueryResultLimit(\n        replaceClsQueryWithTemplateSrv(target.logServiceParams?.Query || '', scopedVars),\n        target.logServiceParams\n      );\n\n      return {\n        ...target,\n        logServiceParams: {\n          ...target.logServiceParams,\n          region,\n          TopicId,\n          Query,\n        },\n      };\n    });\n\n    const dataFramePromise: Promise<DataFrame>[] = requestTargets\n      .filter((target) => !target.hide && target.logServiceParams.region && target.logServiceParams.TopicId)\n      .map((target) => {\n        return SearchLog(\n          {\n            TopicId: target.logServiceParams.TopicId,\n            Query: target.logServiceParams.Query,\n            From: from,\n            To: to,\n            SyntaxRule: target.logServiceParams.SyntaxRule,\n            Limit: target.logServiceParams.MaxResultNum,\n          },\n          target.logServiceParams.region,\n          { instanceSettings: this.instanceSettings }\n        ).then((result) => {\n          return ConvertSearchResultsToDataFrame(formatSearchLog(result), {\n            region: target.logServiceParams.region,\n            TopicId: target.logServiceParams.TopicId,\n          });\n        });\n      });\n\n    const output$ = new Observable<DataQueryResponse>((subscriber) => {\n      subscriber.next({ data: [], state: LoadingState.Loading });\n\n      Promise.all(dataFramePromise)\n        .then((frames) => {\n          const processedFrames = [];\n          for (const frame of frames) {\n            // 如果是 Analysis 场景，且返回内容可转化为 TimeSeriesMany, 则进行处理以绘制时序图\n            if (!frame?.meta?.preferredVisualisationType) {\n              const fieldTypeSet = new Set();\n              frame.fields.forEach((field) => fieldTypeSet.add(field.type));\n              if (\n                fieldTypeSet.has(FieldType.time) &&\n                fieldTypeSet.has(FieldType.string) &&\n                fieldTypeSet.has(FieldType.number)\n              ) {\n                const timeSeriesMany = toTimeSeriesMany([frame]);\n                if (frame.fields.filter((item) => item.type === 'number')?.length === 1) {\n                  timeSeriesMany.forEach((item) => {\n                    item.fields.forEach((field) => {\n                      if (field.type === FieldType.number) {\n                        field.name = '';\n                      }\n                    });\n                  });\n                }\n                processedFrames.splice(frame.fields.length, 0, ...timeSeriesMany);\n                continue;\n              }\n            }\n            processedFrames.push(frame);\n          }\n          subscriber.next({ data: processedFrames, state: LoadingState.Done });\n        })\n        .catch((e) => {\n          subscriber.next({\n            data: [],\n            state: LoadingState.Error,\n            error: {\n              ...e,\n              message: e?.message || e?.data?.message,\n            },\n          });\n        });\n    }).pipe(share());\n    return output$;\n  }\n\n  async metricFindQuery(query: QueryInfo['logServiceParams'], options): Promise<MetricFindValue[]> {\n    const logServiceParams = query;\n    const region = logServiceParams?.region ? getTemplateSrv().replace(logServiceParams.region) : '';\n    const TopicId = logServiceParams?.TopicId ? getTemplateSrv().replace(logServiceParams.TopicId) : '';\n    const Query = addQueryResultLimit(replaceClsQueryWithTemplateSrv(logServiceParams.Query), logServiceParams);\n\n    if (!options.range) {\n      return [];\n    }\n    if (region && TopicId && Query) {\n      const { analysisColumns, analysisRecords } = formatSearchLog(\n        await SearchLog(\n          {\n            TopicId: TopicId,\n            Query: Query,\n            From: options.range!.from.valueOf(),\n            To: options.range!.to.valueOf(),\n            Limit: logServiceParams?.MaxResultNum,\n          },\n          region,\n          {\n            instanceSettings: this.instanceSettings,\n          }\n        )\n      );\n      if (analysisColumns.length > 0 && analysisRecords.length > 0) {\n        const firstColumn = analysisColumns[0];\n        return analysisRecords.map((record) => {\n          return {\n            text: record[firstColumn.Name],\n            value: record[firstColumn.Name],\n          };\n        });\n      }\n    }\n    return [];\n  }\n\n  async testDatasource() {\n    if (!this.instanceSettings.jsonData['logServiceEnabled']) {\n      return null;\n    }\n    try {\n      // 使用SearchLog接口直接查询日志，根据是否遇到鉴权错误，判断秘钥合法性\n      await SearchLog(\n        {\n          TopicId: '',\n          Query: '',\n          From: moment().subtract(1, 'h').valueOf(),\n          To: moment().valueOf(),\n        },\n        'ap-shanghai',\n        {\n          instanceSettings: this.instanceSettings,\n        }\n      );\n      return {\n        status: 'success',\n        message: 'DatSource Connection OK',\n      };\n    } catch (e) {\n      if (e?.code && e.code !== 'AuthFailure.SignatureFailure') {\n        return {\n          status: 'success',\n          message: 'DatSource Connection OK',\n        };\n      } else {\n        return {\n          status: 'error',\n          title: e.code,\n          message: e.message,\n        };\n      }\n    }\n  }\n\n  /** histogram support\n   * @link https://github.com/grafana/grafana/blob/942be4215afaea27757fb3a034126452aaf3fab2/public/app/plugins/datasource/loki/datasource.ts#L115-L115\n   */\n  getLogsVolumeDataProvider(request: DataQueryRequest<QueryInfo>): Observable<DataQueryResponse> | undefined {\n    return undefined;\n  }\n\n  /** context disabled */\n  showContextToggle = (row: LogRowModel) => {\n    /** ConvertLogJsonToDataFrameDTO 函数中，将上下文相关值处理为 LogFieldReservedName.META field */\n    const metaField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.META);\n    try {\n      if (metaField?.labels?.region && metaField?.labels.TopicId) {\n        const metaValue: Pick<LogInfo, 'PkgId' | 'PkgLogId'> = JSON.parse(metaField.values.get(row.rowIndex));\n        if (metaValue?.PkgId && metaValue?.PkgLogId) {\n          return true;\n        }\n      }\n      return false;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  getLogRowContext = async (row: LogRowModel, options: RowContextOptions) => {\n    const { limit = 10, direction = 'BACKWARD' } = options;\n    const timeField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.TIMESTAMP);\n    const metaField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.META);\n    if (!timeField || !metaField?.labels || !limit) {\n      return { data: [], state: LoadingState.Done };\n    }\n\n    try {\n      const metaValue: Pick<LogInfo, 'PkgId' | 'PkgLogId'> = JSON.parse(metaField.values.get(row.rowIndex));\n      const bTime = moment(timeField.values.get(row.rowIndex)).format('YYYY-MM-DD HH:MM:SS.SSS');\n      const logContext = await DescribeLogContext(\n        {\n          TopicId: metaField?.labels.TopicId,\n          BTime: bTime,\n          PkgId: metaValue.PkgId,\n          PkgLogId: Number(metaValue.PkgLogId),\n          PrevLogs: direction === 'BACKWARD' ? limit : 0,\n          NextLogs: direction !== 'BACKWARD' ? limit : 0,\n        },\n        metaField?.labels.region,\n        { instanceSettings: this.instanceSettings }\n      );\n      const frame = ConvertLogContextToDataFrame(logContext);\n      return {\n        data: [frame],\n        state: LoadingState.Done,\n      };\n    } catch (e) {\n      return {\n        data: [],\n        state: LoadingState.Error,\n        error: e,\n      };\n    }\n  };\n}\n","import { DataSourceApi, QueryEditorProps } from '@grafana/data';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo, queryInfoRuntime } from '../types';\nimport React, { FC, useCallback } from 'react';\nimport { useLatest } from 'react-use';\nimport { InlineField, InlineLabel, QueryField, Select, InlineFieldRow, Input } from '@grafana/ui';\nimport { TopicSelector } from './components/TopicSelector';\nimport { TcDataSourceId } from '../common/constants';\nimport { t } from '../../locale';\nimport _ from 'lodash';\nimport './index.less';\nimport { SearchSyntaxRule } from './common/constants';\n\ntype Props = QueryEditorProps<DataSourceApi<any>, QueryInfo, MyDataSourceOptions>;\n\nexport const LogServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const propsRef = useLatest(props);\n  const { query, datasource } = props;\n  const logServiceParams = query.logServiceParams || _.clone(defaultQueryInfo.logServiceParams)!;\n\n  const partialOnChange = useCallback(\n    (queryInfo: Partial<QueryInfo>) => {\n      const { onChange, query } = propsRef.current;\n      // 使用queryInfoRuntime作为配置模板，清除其他不存在的配置字段。\n      const oldQuery = _.pick(query, Object.keys(queryInfoRuntime));\n      onChange({ ...oldQuery, ...queryInfo } as unknown as QueryInfo);\n    },\n    [propsRef]\n  );\n\n  return (\n    <div>\n      <InlineFieldRow>\n        <TopicSelector\n          value={{ region: logServiceParams.region, TopicId: logServiceParams.TopicId }}\n          onChange={(v) => {\n            partialOnChange({\n              logServiceParams: {\n                ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                ...v,\n              },\n            });\n          }}\n          datasource={datasource}\n        />\n        <InlineField label={t('syntax_rule')} labelWidth={20}>\n          <Select\n            value={logServiceParams.SyntaxRule}\n            onChange={(v) => {\n              partialOnChange({\n                logServiceParams: {\n                  ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                  SyntaxRule: v.value,\n                },\n              });\n            }}\n            menuPlacement=\"bottom\"\n            options={[\n              {\n                label: 'Lucene',\n                value: SearchSyntaxRule.LUCENE,\n              },\n              {\n                label: 'CQL',\n                value: SearchSyntaxRule.CQL,\n              },\n            ]}\n            width={25}\n            className=\"log-service-monospaced-font-family\"\n          />\n        </InlineField>\n      </InlineFieldRow>\n\n      <MaxResultNumInput\n        value={logServiceParams.MaxResultNum}\n        onChange={(val) => {\n          partialOnChange({\n            logServiceParams: {\n              ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n              MaxResultNum: val,\n            },\n          });\n        }}\n      />\n\n      <div style={{ display: 'flex' }}>\n        <InlineLabel width={20}>{t('search_statement')}</InlineLabel>\n        <div style={{ flexGrow: 1 }}>\n          <QueryField\n            portalOrigin={TcDataSourceId}\n            placeholder={`e.g. _SOURCE__: 127.0.0.1 AND \"http/1.0\"`}\n            query={logServiceParams.Query}\n            onChange={(v) => {\n              partialOnChange({\n                logServiceParams: {\n                  ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                  Query: v,\n                },\n              });\n            }}\n            // By default QueryField calls onChange if onBlur is not defined, this will trigger a rerender\n            // And slate will claim the focus, making it impossible to leave the field.\n            onBlur={() => {}}\n          />\n        </div>\n      </div>\n    </div>\n  );\n});\n\nLogServiceQueryEditor.displayName = 'LogServiceQueryEditor';\n\ninterface MaxResultNumInputProps {\n  value: string | number;\n  onChange: (value: number | undefined) => void;\n}\n\nconst MaxResultNumInput: FC<MaxResultNumInputProps> = React.memo((props) => {\n  const min = 1;\n  const max = 1000;\n  const { value, onChange: onChangeFromProps } = props;\n\n  const onInputChange = useCallback(\n    (e) => {\n      const currVal = Number(e.currentTarget.value) || undefined;\n      onChangeFromProps(currVal);\n    },\n    [onChangeFromProps]\n  );\n\n  return (\n    <InlineField\n      label={t('max_result_num')}\n      labelWidth={20}\n      invalid={value < min || value > max}\n      // @ts-ignore  这里报error属性不存在，但应该是存在的。\n      error=\"仅支持返回1～1000条日志\"\n    >\n      <Input\n        type=\"number\"\n        min={min}\n        max={max}\n        value={value}\n        onChange={onInputChange}\n        width={25}\n        className=\"log-service-monospaced-font-family\"\n      />\n    </InlineField>\n  );\n});\n","export const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n\nexport enum SearchSyntaxRule {\n  LUCENE = 0,\n  CQL = 1,\n}\n","import { DescribeLogContextResult } from '../model';\nimport { DataFrameDTO, FieldType, toDataFrame, DataFrame, FieldDTO } from '@grafana/data';\nimport { parseLogJsonStr } from './formatSearchLog';\n\nexport function ConvertLogContextToDataFrame(logContext: DescribeLogContextResult): DataFrame {\n  const { LogContextInfos = [] } = logContext;\n\n  const timeField: FieldDTO<number> = {\n    name: 'ts',\n    type: FieldType.time,\n    config: { displayName: 'Time' },\n    values: [],\n  };\n  const idField: FieldDTO<string | number> = {\n    name: 'id',\n    type: FieldType.string,\n    values: [],\n  };\n  const lineField: FieldDTO<string> = {\n    name: 'line',\n    type: FieldType.string,\n    values: [],\n  };\n\n  LogContextInfos.forEach((item) => {\n    (timeField.values as number[]).unshift(item.BTime);\n    (idField.values as (string | number)[]).unshift(item.PkgLogId);\n    let contextLog;\n    try {\n      contextLog = JSON.stringify(parseLogJsonStr(item.Content) as any);\n    } catch (e) {\n      contextLog = item.Content;\n    }\n    (lineField.values as string[]).unshift(contextLog);\n  });\n\n  const frameDTO: DataFrameDTO = {\n    name: '',\n    meta: {\n      custom: {\n        RequestId: (logContext as any).RequestId,\n      },\n    },\n    fields: [timeField, lineField, idField],\n  };\n  return toDataFrame(frameDTO);\n}\n","import { ISearchLogResult, ITopicInfo } from '../model';\nimport { DataFrame, DataFrameDTO, FieldDTO, FieldType, toDataFrame } from '@grafana/data';\nimport _ from 'lodash';\nimport { parseLogJsonStr } from './formatSearchLog';\n\n/** 将SearchResults结果，处理为DataFrame */\nexport function ConvertSearchResultsToDataFrame(\n  searchLogResult: ISearchLogResult,\n  topic: Partial<ITopicInfo>\n): DataFrame {\n  const frameDTO = searchLogResult.Analysis\n    ? ConvertAnalysisJsonToDataFrameDTO(searchLogResult)\n    : ConvertLogJsonToDataFrameDTO(searchLogResult, topic);\n  return toDataFrame(frameDTO);\n}\n\nfunction ConvertAnalysisJsonToDataFrameDTO(searchLogResult: ISearchLogResult): DataFrameDTO {\n  const { analysisRecords = [], analysisColumns = [] } = searchLogResult ?? {};\n\n  const fields: FieldDTO[] = analysisColumns.map((column) => {\n    const values = analysisRecords.map((r) => r?.[column.Name!]);\n    return {\n      name: column.Name,\n      type: column.fieldType as any,\n      values,\n    };\n  });\n  return {\n    name: '',\n    fields,\n  };\n}\n\nexport const enum LogFieldReservedName {\n  TIMESTAMP = '__TIMESTAMP__',\n  LogJson = '__LogJson__',\n  SOURCE = '__SOURCE__',\n  Filename = '__FILENAME__',\n  HostName = '__HOSTNAME__',\n  META = '__META__',\n}\n\nfunction ConvertLogJsonToDataFrameDTO(searchLogResult: ISearchLogResult, topic: Partial<ITopicInfo>): DataFrameDTO {\n  const { Results = [] } = searchLogResult;\n  // Log场景的处理方式，参考文档\n  // Grafana logSeriesToLogsModel方法（https://github.com/grafana/grafana/blob/faca526c169a9a61f119b6fc2819f5a8dfff7ed7/public/app/core/logs_model.ts#L315）\n  // Grafana testData数据源 runLogsStream方法（https://github.com/grafana/grafana/blob/faca526c169a9a61f119b6fc2819f5a8dfff7ed7/public/app/plugins/datasource/testdata/runStreams.ts#L131）\n\n  const timeField: FieldDTO<number> = {\n    name: LogFieldReservedName.TIMESTAMP,\n    type: FieldType.time,\n    values: [],\n  };\n  const logField: FieldDTO<string> = {\n    name: LogFieldReservedName.LogJson,\n    // 这里使用字符串类型，标识此内容为 核心日志内容\n    type: FieldType.string,\n    config: {\n      custom: { displayMode: 'json-view' },\n    },\n    values: [],\n  };\n  const sourceField: FieldDTO<string> = {\n    name: LogFieldReservedName.SOURCE,\n    type: FieldType.string,\n    values: [],\n  };\n  const filenameField: FieldDTO<string> = {\n    name: LogFieldReservedName.Filename,\n    type: FieldType.string,\n    values: [],\n  };\n  const hostnameField: FieldDTO<string> = {\n    name: LogFieldReservedName.HostName,\n    type: FieldType.string,\n    values: [],\n  };\n  const metaField: FieldDTO<any> = {\n    // 用于支持 Explore 功能上下文能力\n    name: LogFieldReservedName.META,\n    type: FieldType.other,\n    config: {\n      custom: {\n        hidden: true,\n      },\n    },\n    labels: { region: topic.region, TopicId: topic.TopicId },\n    values: [],\n  };\n\n  Results.forEach((logItem) => {\n    (timeField.values as number[]).push(logItem['Time']);\n    (sourceField.values as string[]).push(logItem['Source']);\n    (filenameField.values as string[]).push(logItem['FileName']);\n    (hostnameField.values as string[]).push(logItem['HostName']);\n    (metaField.values as any[]).push(JSON.stringify(_.pick(logItem, ['PkgId', 'PkgLogId'])));\n    try {\n      const logJson = parseLogJsonStr(logItem.LogJson);\n\n      /** 使用 LogsParsers.JSON 进行自动解析\n       * 展示问题优化跟踪：https://github.com/grafana/grafana/issues/54959\n       */\n      // 这里的值可以是 string | object, Grafana内部自动进行序列化处理。\n      (logField.values as string[]).push(JSON.stringify(logJson));\n\n      /** 使用 LogsParsers.logfmt 进行自动解析，缩略展示上更友好，但是LogDetail提取会有问题 */\n      // let logStr = '';\n      // Object.entries(logJson).forEach(([k, v])=>{\n      //   logStr += `${k}=${_.isObject(v) ? JSON.stringify(v) : `${v}` } `\n      // });\n      // (logField.values as string[]).push(logStr);\n    } catch (e) {}\n  });\n\n  const frameDTO: DataFrameDTO = {\n    name: '',\n    meta: {\n      preferredVisualisationType: 'logs',\n      custom: {\n        RequestId: (searchLogResult as any).RequestId,\n        SamplingRate: searchLogResult.SamplingRate,\n      },\n      executedQueryString: searchLogResult.Query,\n    },\n    fields: [timeField, logField, sourceField, filenameField, hostnameField, metaField],\n  };\n  return frameDTO;\n}\n","import { IAnalysisColumn, ISearchLogResult, TYPES } from '../model';\n\nimport { getFieldTypeByPrestoType } from './prestoType';\n\nexport function formatSearchLog(param: TYPES.SearchLogResult): ISearchLogResult {\n  const { Analysis, AnalysisRecords = [], Columns = [] } = param;\n  const analysisColumns: IAnalysisColumn[] = [];\n  const analysisRecords: Object[] = [];\n  if (Analysis) {\n    Columns.forEach((column) => {\n      const analysisColumn = getFieldTypeByPrestoType(column.Type);\n      analysisColumns.push({\n        ...column,\n        ...analysisColumn,\n      });\n    });\n    AnalysisRecords.forEach((record) => {\n      try {\n        analysisRecords.push(JSON.parse(record));\n      } catch (e) {\n        analysisRecords.push({});\n      }\n    });\n\n    for (const column of analysisColumns) {\n      if (column.processor) {\n        analysisRecords.forEach((record) => {\n          // eslint-disable-next-line no-param-reassign\n          record[column.Name] = column.processor(record[column.Name]);\n        });\n      }\n    }\n  }\n  return {\n    ...param,\n    analysisRecords,\n    analysisColumns,\n  };\n}\n\n/** 解析stringify的日志，并处理 __TAG__字段 */\nexport function parseLogJsonStr(logJsonStr: string): Record<string, any> {\n  try {\n    const logJson = JSON.parse(logJsonStr);\n    const tagContent = logJson['__TAG__'];\n    delete logJson.__TAG__;\n    if (tagContent) {\n      Object.entries(tagContent).forEach(([tagKey, tagValue]) => {\n        logJson[`__TAG__.${tagKey}`] = tagValue;\n      });\n    }\n    return logJson;\n  } catch (e) {\n    console.error('parseLogJsonStr', e);\n    return {};\n  }\n}\n","export * from './formatSearchLog';\nexport * from './ConvertSearchResultsToDataFrame';\nexport * from './ConvertLogContextToDataFrame';\n","/* eslint-disable eqeqeq,no-eq-null,max-depth,guard-for-in,no-fallthrough */\n// @link: https://github.com/grafana/grafana/blob/b4faee786f3c3c1e09543ef768f2e2daee429ec7/public/app/core/components/TransformersUI/prepareTimeSeries/prepareTimeSeries.ts\nimport { DataFrame, FieldType, Field, MutableDataFrame, ArrayVector } from '@grafana/data';\n\nexport enum DataFrameType {\n  TimeSeriesWide = 'timeseries-wide',\n  TimeSeriesLong = 'timeseries-long',\n  TimeSeriesMany = 'timeseries-many',\n}\n\ntype Labels = Record<string, string>;\n/**\n * There is currently an effort to figure out consistent names\n * for the various formats/types we produce and use.\n *\n * This transformer will eventually include the required metadata that can assert\n * a DataFrame[] is of a given type\n *\n * @internal -- TBD\n */\nexport enum timeSeriesFormat {\n  TimeSeriesWide = 'wide', // [time,...values]\n  TimeSeriesMany = 'many', // All frames have [time,number]\n  TimeSeriesLong = 'long',\n}\n\n/**\n * Convert to [][time,number]\n */\nexport function toTimeSeriesMany(data: DataFrame[]): DataFrame[] {\n  if (!Array.isArray(data) || data.length === 0) {\n    return data;\n  }\n\n  const result: DataFrame[] = [];\n  for (const frame of toTimeSeriesLong(data)) {\n    const timeField = frame.fields[0];\n    if (!timeField || timeField.type !== FieldType.time) {\n      continue;\n    }\n    const valueFields: Field[] = [];\n    const labelFields: Field[] = [];\n    for (const field of frame.fields) {\n      switch (field.type) {\n        case FieldType.number:\n        case FieldType.boolean:\n          valueFields.push(field);\n          break;\n        case FieldType.string:\n          labelFields.push(field);\n          break;\n      }\n    }\n\n    for (const field of valueFields) {\n      if (labelFields.length) {\n        // new frame for each label key\n        interface frameBuilder {\n          time: number[];\n          value: number[];\n          key: string;\n          labels: Labels;\n        }\n        const builders = new Map<string, frameBuilder>();\n        for (let i = 0; i < frame.length; i++) {\n          const time = timeField.values.get(i);\n          const value = field.values.get(i);\n          if (value === undefined || time == null) {\n            continue; // skip values left over from join\n          }\n\n          const key = labelFields.map((f) => f.values.get(i)).join('/');\n          let builder = builders.get(key);\n          if (!builder) {\n            builder = {\n              key,\n              time: [],\n              value: [],\n              labels: {},\n            };\n            for (const label of labelFields) {\n              builder.labels[label.name] = label.values.get(i);\n            }\n            builders.set(key, builder);\n          }\n          builder.time.push(time);\n          builder.value.push(value);\n        }\n\n        // Add a frame for each distinct value\n        builders.forEach((b) => {\n          result.push({\n            name: frame.name,\n            refId: frame.refId,\n            meta: {\n              ...frame.meta,\n              type: DataFrameType.TimeSeriesMany,\n            } as any,\n            fields: [\n              {\n                ...timeField,\n                values: new ArrayVector(b.time),\n              },\n              {\n                ...field,\n                values: new ArrayVector(b.value),\n                labels: b.labels,\n              },\n            ],\n            length: b.time.length,\n          });\n        });\n      } else {\n        result.push({\n          name: frame.name,\n          refId: frame.refId,\n          meta: {\n            ...frame.meta,\n            type: DataFrameType.TimeSeriesMany,\n          } as any,\n          fields: [timeField, field],\n          length: frame.length,\n        });\n      }\n    }\n  }\n  return result;\n}\n\nfunction toTimeSeriesLong(data: DataFrame[]): DataFrame[] {\n  if (!Array.isArray(data) || data.length === 0) {\n    return data;\n  }\n\n  const result: DataFrame[] = [];\n  for (const frame of data) {\n    let timeField: Field | undefined;\n    const uniqueValueNames: string[] = [];\n    const uniqueValueNamesToType: Record<string, FieldType> = {};\n    const uniqueLabelKeys: Record<string, boolean> = {};\n    const labelKeyToWideIndices: Record<string, number[]> = {};\n    const uniqueFactorNamesToWideIndex: Record<string, number> = {};\n\n    for (let fieldIndex = 0; fieldIndex < frame.fields.length; fieldIndex++) {\n      const field = frame.fields[fieldIndex];\n\n      switch (field.type) {\n        case FieldType.string:\n        case FieldType.boolean:\n          if (field.name in uniqueFactorNamesToWideIndex) {\n            // TODO error?\n          } else {\n            uniqueFactorNamesToWideIndex[field.name] = fieldIndex;\n            uniqueLabelKeys[field.name] = true;\n          }\n          break;\n        case FieldType.time:\n          if (!timeField) {\n            timeField = field;\n            break;\n          }\n        default: {\n          if (field.name in uniqueValueNamesToType) {\n            const type = uniqueValueNamesToType[field.name];\n\n            if (field.type !== type) {\n              // TODO error?\n              continue;\n            }\n          } else {\n            uniqueValueNamesToType[field.name] = field.type;\n            uniqueValueNames.push(field.name);\n          }\n\n          const tKey = JSON.stringify(field.labels);\n          const wideIndices = labelKeyToWideIndices[tKey];\n\n          if (wideIndices !== undefined) {\n            wideIndices.push(fieldIndex);\n          } else {\n            labelKeyToWideIndices[tKey] = [fieldIndex];\n          }\n\n          if (field.labels != null) {\n            for (const labelKey in field.labels) {\n              uniqueLabelKeys[labelKey] = true;\n            }\n          }\n        }\n      }\n    }\n\n    if (!timeField) {\n      continue;\n    }\n\n    interface TimeWideRowIndex {\n      time: any;\n      wideRowIndex: number;\n    }\n    const sortedTimeRowIndices: TimeWideRowIndex[] = [];\n    const sortedUniqueLabelKeys: string[] = [];\n    const uniqueFactorNames: string[] = [];\n    const uniqueFactorNamesWithWideIndices: string[] = [];\n\n    for (let wideRowIndex = 0; wideRowIndex < frame.length; wideRowIndex++) {\n      sortedTimeRowIndices.push({ time: timeField.values.get(wideRowIndex), wideRowIndex });\n    }\n\n    for (const labelKeys in labelKeyToWideIndices) {\n      sortedUniqueLabelKeys.push(labelKeys);\n    }\n    for (const labelKey in uniqueLabelKeys) {\n      uniqueFactorNames.push(labelKey);\n    }\n    for (const name in uniqueFactorNamesToWideIndex) {\n      uniqueFactorNamesWithWideIndices.push(name);\n    }\n\n    sortedTimeRowIndices.sort((a, b) => a.time - b.time);\n    sortedUniqueLabelKeys.sort();\n    uniqueFactorNames.sort();\n    uniqueValueNames.sort();\n\n    const longFrame = new MutableDataFrame({\n      ...frame,\n      meta: { ...frame.meta, type: DataFrameType.TimeSeriesLong } as any,\n      fields: [{ name: timeField.name, type: timeField.type }],\n    });\n\n    for (const name of uniqueValueNames) {\n      longFrame.addField({ name, type: uniqueValueNamesToType[name] });\n    }\n\n    for (const name of uniqueFactorNames) {\n      longFrame.addField({ name, type: FieldType.string });\n    }\n\n    for (const timeWideRowIndex of sortedTimeRowIndices) {\n      const { time, wideRowIndex } = timeWideRowIndex;\n\n      for (const labelKeys of sortedUniqueLabelKeys) {\n        const rowValues: Record<string, any> = {};\n\n        for (const name of uniqueFactorNamesWithWideIndices) {\n          rowValues[name] = frame.fields[uniqueFactorNamesToWideIndex[name]].values.get(wideRowIndex);\n        }\n\n        let index = 0;\n\n        for (const wideFieldIndex of labelKeyToWideIndices[labelKeys]) {\n          const wideField = frame.fields[wideFieldIndex];\n\n          if (index === 0 && wideField.labels != null) {\n            for (const labelKey in wideField.labels) {\n              rowValues[labelKey] = wideField.labels[labelKey];\n            }\n          }\n          index += 1;\n\n          rowValues[wideField.name] = wideField.values.get(wideRowIndex);\n        }\n\n        rowValues[timeField.name] = time;\n        longFrame.add(rowValues);\n      }\n    }\n\n    result.push(longFrame);\n  }\n\n  return result;\n}\n","import moment from 'moment';\nimport { IAnalysisColumn } from '../model/interface';\nimport { FieldType } from '@grafana/data';\n\nconst ProcessorUtils = {\n  timestampWithTimeZoneRegex: /(\\w+)\\[[\\w/]+]/g,\n};\n\n/** Presto类型与FieldType转化表\n * @doc https://iwiki.woa.com/pages/viewpage.action?pageId=905584985 */\nconst PrestoAndFieldTypeMap: Omit<IAnalysisColumn, 'Name' | 'Type'>[] = [\n  /** 时间类型分为两类，包含日期和不包含日期 */\n  {\n    prestoTypeRegex: /^timestamp with time zone$/,\n    fieldType: FieldType.time,\n    // 包含时区的时间数据，可能带有额外的zone信息，这里进行清理。eg: 2021-11-26T18:41:24+08:00[Asia/Shanghai]\n    processor: (value: string) => {\n      const newValue = String(value).replace(ProcessorUtils.timestampWithTimeZoneRegex, '$1');\n      if (moment(newValue).isValid()) {\n        return newValue;\n      }\n      return value;\n    },\n  },\n  {\n    prestoTypeRegex: /^timestamp$|^date$|^datetime$/,\n    fieldType: FieldType.time,\n    // processor: moment,\n  },\n  {\n    prestoTypeRegex: /^time$/,\n    fieldType: FieldType.time,\n    // processor: null,\n  },\n  /** 数字类型。整数、浮点数、定点数 */\n  {\n    prestoTypeRegex: /^tinyint$|^samllint$|^integer$|^bigint$|^long$/,\n    fieldType: FieldType.number,\n    // processor: Number,\n  },\n  {\n    prestoTypeRegex: /^real$|^double$|^decimal$/,\n    fieldType: FieldType.number,\n    // processor: Number,\n  },\n  /** 字符串。字符串和单字符 */\n  {\n    prestoTypeRegex: /^varchar$|^char$|^text$|^keyword$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^boolean$/,\n    fieldType: FieldType.boolean,\n    // processor: Boolean,\n  },\n\n  /** 未定情况，做简单降级方案 */\n  {\n    prestoTypeRegex: /^uuid$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^ipaddress$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^array\\(.*\\)$/,\n    fieldType: FieldType.other,\n    // processor: Array.from,\n  },\n  {\n    prestoTypeRegex: /^json$/,\n    fieldType: FieldType.other,\n    // processor: JSON.parse,\n  },\n  {\n    prestoTypeRegex: /^map\\(.*\\)$/, // /^map\\([\\w\\s,]+,[\\w\\s,]+\\)$/,\n    fieldType: FieldType.other,\n    // processor: (i) => i,\n  },\n  {\n    prestoTypeRegex: /^varbinary$/,\n    fieldType: FieldType.other,\n    // processor: Array.from,\n  },\n  {\n    prestoTypeRegex: /^interval$/,\n    fieldType: FieldType.other,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^row$/,\n    fieldType: FieldType.other,\n    // processor: String,\n  },\n];\n\nexport function getFieldTypeByPrestoType(prestoType: string): Omit<IAnalysisColumn, 'Name' | 'Type'> {\n  return (\n    PrestoAndFieldTypeMap.find((item) => item.prestoTypeRegex.test(prestoType)) || {\n      prestoTypeRegex: /.*/,\n      fieldType: FieldType.other,\n    }\n  );\n}\n","import * as TYPES from './types';\nimport { GetRequestParams, GetServiceAPIInfo } from '../../../common/constants';\nimport { DataSourceInstanceSettings } from '@grafana/data';\nimport { getBackendSrv, getTemplateSrv } from '@grafana/runtime';\nimport _ from 'lodash';\nimport { IApiError, IRegionItem, IResourceRegionInfo } from './interface';\n\n/**\n * 云API请求\n * 入参 data内字段 请全部大写\n * 出参 全部大写，不再转换\n */\nexport interface IRequestParam {\n  region: string;\n  action: string;\n  data: any;\n}\n\nexport interface ICapiRequestParam extends IRequestParam {\n  serviceType: string;\n}\n\n/** 通用请求参数。instanceSettings目前无法单例化，后续尝试优化API请求调用方法 */\ninterface IRequestOpts {\n  // 用于调用后端 Sign 方法\n  instanceSettings: DataSourceInstanceSettings;\n  // internal?: boolean;\n  // clientTimeout?: number;\n}\n\n/**\n * 云API请求\n */\nexport async function capiRequest({ serviceType, region, action, data }: ICapiRequestParam, opts: IRequestOpts) {\n  const { instanceSettings } = opts;\n  const serviceInfo = GetServiceAPIInfo(region, serviceType);\n  const requestOptions = await GetRequestParams(\n    { url: instanceSettings.url + serviceInfo.path, data },\n    serviceType,\n    {\n      region: getTemplateSrv().replace(region),\n      action,\n    },\n    '', // 这个参数内部没有使用？\n    instanceSettings.id,\n    getBackendSrv()\n  );\n  return getBackendSrv()\n    .datasourceRequest(requestOptions)\n    .then((response) => {\n      const result = _.get(response, 'data.Response', {});\n      if (result.Error) {\n        // eslint-disable-next-line no-throw-literal,@typescript-eslint/consistent-type-assertions\n        throw {\n          name: result.Error.Code,\n          code: result.Error.Code,\n          message: result.Error.Message,\n          data: {\n            Response: result,\n          },\n        } as IApiError;\n      }\n      return result;\n    })\n    .catch((error: Error) => {\n      console.error('error', error);\n      throw error;\n    });\n}\n\n/**\n * CLS 云api v3 请求\n */\nexport async function clsCapiRequest({ action, region, data = {} }: IRequestParam, opts: IRequestOpts) {\n  return capiRequest(\n    {\n      serviceType: 'cls',\n      region,\n      action,\n      data: data,\n    },\n    {\n      ...opts,\n    }\n  );\n}\n\n/**\n * REGION 云api v3 请求\n */\nexport async function regionCapiRequest({ action, region, data = {} }: IRequestParam, opts: IRequestOpts) {\n  return capiRequest(\n    {\n      serviceType: 'region',\n      region,\n      action,\n      data: data,\n    },\n    {\n      ...opts,\n    }\n  );\n}\n\n/** 本接口用于搜索日志, 该接口除受默认接口请求频率限制外，针对单个日志主题，并发数不能超过15 */\nexport async function SearchLog(\n  data: TYPES.SearchLogParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.SearchLogResult> {\n  return clsCapiRequest(\n    {\n      action: 'SearchLog',\n      region,\n      data: {\n        UseNewAnalysis: true,\n        ...data,\n      },\n    },\n    opts\n  );\n}\n\n/** 本接口用于搜索日志上下文附近的内容 */\nexport async function DescribeLogContext(\n  data: TYPES.DescribeLogContextParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.DescribeLogContextResult> {\n  return clsCapiRequest(\n    {\n      action: 'DescribeLogContext',\n      data,\n      region,\n    },\n    opts\n  );\n}\n\n/**  本接口用于获取日志主题列表，支持分页 */\nexport async function DescribeTopics(\n  data: TYPES.DescribeTopicsParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.DescribeTopicsResult> {\n  return clsCapiRequest(\n    {\n      action: 'DescribeTopics',\n      data,\n      region,\n    },\n    opts\n  );\n}\n\n/**\n * @description 请求当前用户支持cls所有地域，已做白名单过滤\n */\nasync function DescribeRegionsAndZonesRequest(product: string, opts?: IRequestOpts): Promise<IResourceRegionInfo[]> {\n  return regionCapiRequest(\n    { action: 'DescribeRegionsAndZones', data: { Product: product }, region: 'ap-guangzhou' },\n    opts\n  ).then((data) => data.ResourceRegionSet);\n}\n\nexport async function DescribeRegions(opts?: IRequestOpts): Promise<{ regionList: IRegionItem[] }> {\n  return DescribeRegionsAndZonesRequest('cls', opts).then((clsRegions) => ({\n    regionList: (clsRegions || []).map(\n      ({ Region, RegionId, RegionName, RegionShortName, RegionTypeMC, RegionType, Location }) => {\n        const regionItem: IRegionItem = {\n          region: Region,\n          regionId: Number(RegionId),\n          regionName: RegionName,\n          regionShortName: RegionShortName,\n\n          oversea: typeof RegionTypeMC === 'number' ? Boolean(RegionTypeMC) : RegionType === '海外',\n          area: Location,\n        };\n        return regionItem;\n      }\n    ),\n  }));\n}\n","export * from './interface';\nexport * from './types';\nexport * from './api';\n\nimport * as TYPES from './types';\nimport * as API from './api';\nexport { TYPES, API };\n","import { SelectableValue } from '@grafana/data';\nimport { getTemplateSrv } from '@grafana/runtime';\n\nexport function getStringVariableNameOptions(): SelectableValue<string>[] {\n  const variables = getTemplateSrv()\n    .getVariables()\n    .filter((item) => ['adhoc', 'datasource', 'interval', 'interval'].indexOf(item.type) === -1);\n  const notMultiVariables = variables.filter((item) => !(item as any)?.multi);\n  return notMultiVariables.map((item) => {\n    const refValue = `\\$\\{${item.name}\\}`;\n    return { value: refValue, label: refValue };\n  });\n}\n","import { getTemplateSrv } from '@grafana/runtime';\nimport { QueryInfo } from '../../../types';\n\n/**\n * 检索语法切割正则\n */\nexport const CQL_SPLIT_PATTERN = /(\\s*\\|\\s*)(select\\b.*)/i;\n\n/**\n * @param queryString 用户输入的原始检索语句\n * @description 判断用户是要检索原始日志，还是图表分析\n */\nexport function isQueryContainSql(queryString: string): boolean {\n  const pattern = CQL_SPLIT_PATTERN;\n  return pattern.test(queryString);\n}\n\n/**\n * 解析query，获取前面原始数据部分\n */\nexport function getQueryLucene(queryString = ''): string {\n  const querySplit = queryString.split(CQL_SPLIT_PATTERN);\n  let luceneQuery = '';\n  if (querySplit.length === 1) {\n    // 未得到有效切分项，说明是纯 lucene 查询\n    luceneQuery = queryString;\n  } else if (querySplit.length >= 2) {\n    luceneQuery = querySplit[0];\n  } else {\n    // 逻辑死区，不可能出现\n    return '';\n  }\n  return luceneQuery;\n}\n\nexport function replaceClsQueryWithTemplateSrv(queryString: string, scopedVars: any = {}): string {\n  const luceneQuery = getQueryLucene(queryString ?? '');\n  const sqlQuery = (queryString ?? '').slice(luceneQuery.length);\n  const Query =\n    getTemplateSrv().replace(luceneQuery, scopedVars, 'lucene') + getTemplateSrv().replace(sqlQuery, scopedVars, 'raw');\n  return Query;\n}\n\nexport function addQueryResultLimit(queryString: string, logServiceParams: QueryInfo['logServiceParams']) {\n  const luceneQuery = getQueryLucene(queryString ?? '');\n  const sqlQuery = (queryString ?? '').slice(luceneQuery.length);\n  const resultLimit = logServiceParams.MaxResultNum;\n\n  if (!resultLimit || !sqlQuery) {\n    //  不包含 sql 或resultLimit取值有误 直接返回\n    return queryString;\n  }\n  if (/limit/.test(sqlQuery)) {\n    //  已有 limit 关键字，直接返回\n    return queryString;\n  } else {\n    return queryString + ' limit ' + resultLimit;\n  }\n}\n","import React, { FC, useCallback, useEffect, useRef, useState } from 'react';\nimport { DescribeRegions, DescribeTopics, Filter, IRegionItem, ITopicIdentifier } from '../common/model';\nimport { InlineField, Select, AsyncSelect } from '@grafana/ui';\nimport { uuidRegex } from '../common/constants';\nimport { useEffectOnce } from 'react-use';\nimport { DataSourceApi, SelectableValue } from '@grafana/data';\nimport { getStringVariableNameOptions } from '../common/utils';\nimport { t } from '../../../locale';\n\ninterface Props {\n  value: ITopicIdentifier;\n  onChange: (v: ITopicIdentifier) => void;\n  datasource: DataSourceApi;\n  /** 组件首次渲染，且未设置地域和日志主题时，默认使用上次编辑的填写的内容 */\n  preferLastValue?: boolean;\n}\n\nexport const TopicSelector: FC<Props> = React.memo((props) => {\n  const { value, preferLastValue = true, datasource } = props;\n\n  const onChange = useCallback(\n    (v: ITopicIdentifier) => {\n      try {\n        localStorage.setItem('LogServiceTopicSelectorDefaultValue', JSON.stringify(v));\n      } catch (e) {}\n      props.onChange(v);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  useEffectOnce(() => {\n    if (preferLastValue && !value.region && !value.TopicId) {\n      try {\n        const lastValue: ITopicIdentifier = JSON.parse(localStorage.getItem('LogServiceTopicSelectorDefaultValue'));\n        if (lastValue?.region && lastValue.TopicId) {\n          onChange(lastValue);\n        }\n      } catch (e) {}\n    }\n  });\n  const topicSelectOptionsRef = useRef<SelectableValue<string>>([]);\n  const [regionList, setRegionList] = useState<IRegionItem[]>([]);\n  useEffect(() => {\n    fetchRegions();\n  }, []);\n\n  const fetchRegions = useCallback(async () => {\n    try {\n      const { regionList } = await DescribeRegions({ instanceSettings: (datasource as any).instanceSettings });\n      setRegionList(regionList);\n    } catch (e) {}\n  }, []);\n\n  return (\n    <>\n      <InlineField label={t('region')} labelWidth={20}>\n        <Select\n          value={value.region}\n          onChange={(option) => {\n            const region = option.value;\n            DescribeTopics({ Limit: 1 }, region, { instanceSettings: (datasource as any).instanceSettings })\n              .then((result) => {\n                topicSelectOptionsRef.current = result.Topics?.map((item) => ({\n                  value: item.TopicId,\n                  label: `${item.TopicName} (${item.TopicId})`,\n                }));\n                onChange({\n                  region: option.value,\n                  TopicId: result.Topics?.[0]?.TopicId || '',\n                });\n              })\n              .catch((e) => {\n                onChange({\n                  region: option.value,\n                  TopicId: '',\n                });\n              });\n          }}\n          menuPlacement=\"bottom\"\n          options={[\n            ...regionList.map((item) => ({\n              label: `${item.area}(${item.regionName})`,\n              value: item.region,\n            })),\n            ...getStringVariableNameOptions(),\n          ]}\n          width={25}\n          className=\"log-service-monospaced-font-family\"\n        />\n      </InlineField>\n      <InlineField label={t('log_topic')} labelWidth={20}>\n        <AsyncSelect<string>\n          // 地域变更时，自动重新出发请求\n          key={value.region}\n          width={50}\n          defaultOptions\n          cacheOptions={false}\n          loadOptions={async (filterStr) => {\n            const filters: Filter[] = [];\n            if (filterStr) {\n              if (uuidRegex.test(filterStr)) {\n                filters.push({ Key: 'topicId', Values: [filterStr] });\n              } else {\n                filters.push({ Key: 'topicName', Values: [filterStr] });\n              }\n            }\n            const options = await DescribeTopics({ Filters: filters, Limit: 100 }, value.region, {\n              instanceSettings: (datasource as any).instanceSettings,\n            }).then((result) => {\n              return result.Topics.map((item) => ({\n                value: item.TopicId,\n                label: `${item.TopicName} (${item.TopicId})`,\n              }));\n            });\n            const optionsWithVariables = [\n              ...options,\n              ...getStringVariableNameOptions().filter((item) => item.value?.includes(filterStr)),\n            ];\n            topicSelectOptionsRef.current = optionsWithVariables;\n            return optionsWithVariables;\n          }}\n          value={\n            topicSelectOptionsRef?.current?.find((item) => item.value === value.TopicId) || {\n              value: value.TopicId,\n              label: value.TopicId,\n            }\n          }\n          onChange={(e) => {\n            onChange({\n              region: value.region,\n              TopicId: e.value,\n            });\n          }}\n          className=\"log-service-monospaced-font-family\"\n        />\n      </InlineField>\n    </>\n  );\n});\n\nTopicSelector.displayName = 'TopicSelector';\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-1!../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-3!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","import { DataSourcePlugin } from '@grafana/data';\nimport { QueryEditor } from './QueryEditor';\nimport { VariableQueryEditor } from './VariableQueryEditor';\nimport { DataSource } from './DataSource';\nimport { ConfigEditor } from './config-editor/ConfigEditor';\n\nexport const plugin = new DataSourcePlugin<any>(DataSource)\n  .setQueryEditor(QueryEditor)\n  .setConfigEditor(ConfigEditor)\n  .setVariableQueryEditor(VariableQueryEditor);\n","import {\n  DataQuery,\n  DataSourceApi,\n  EventBusExtended,\n  LoadingState,\n  PanelModel,\n  QueryEditorProps,\n  TimeRange,\n  toLegacyResponseData,\n} from '@grafana/data';\nimport { DashboardModel } from 'grafana/app/features/dashboard/model';\nimport React, { PureComponent } from 'react';\nimport { AngularComponent, getAngularLoader } from '@grafana/runtime';\nimport EventEmitter from 'eventemitter3';\n\ninterface AngularQueryComponentScope<TQuery extends DataQuery> {\n  target: TQuery;\n  panel: PanelModel;\n  dashboard: DashboardModel;\n  events: EventBusExtended;\n  refresh: () => void;\n  render: () => void;\n  datasource: DataSourceApi<TQuery> | null;\n  toggleEditorMode?: () => void;\n  getCollapsedText?: () => string;\n  range: TimeRange;\n}\n\ninterface QueryCtrlProps extends QueryEditorProps<DataSourceApi<any>> {\n  queryCtrl: any;\n}\n\nexport class QueryCtrlRender<TQuery extends DataQuery> extends PureComponent<QueryCtrlProps> {\n  element: HTMLElement | null;\n  angularScope: AngularQueryComponentScope<TQuery> | null = null;\n  angularQueryEditor: AngularComponent | null = null;\n  // 直接使用EventEmitter，模拟下angular组件提供的events\n  events = new EventEmitter();\n\n  componentDidMount() {\n    if (process.env.NODE_ENV !== 'production') {\n      (window as any).ctrlRender = this;\n    }\n    setTimeout(() => {\n      this.forceUpdate();\n    });\n  }\n\n  componentDidUpdate(prevProps: QueryCtrlProps) {\n    const { data, range } = this.props;\n    if (data !== prevProps.data && data) {\n      if (data.state === LoadingState.Done) {\n        const legacy = data.series.map((v) => toLegacyResponseData(v));\n        this.events.emit('data-received', legacy);\n      } else if (data.state === LoadingState.Error) {\n        this.events.emit('data-error', data.error);\n      }\n      if (this.angularScope) {\n        this.angularScope.range = range!;\n      }\n    }\n    if (!this.element || this.angularQueryEditor) {\n      return;\n    }\n    this.renderAngularQueryEditor();\n  }\n\n  getAngularQueryComponentScope(): AngularQueryComponentScope<TQuery> {\n    const { query, queries, range: timeRange, datasource, queryCtrl } = this.props;\n    datasource.components = {\n      QueryCtrl: queryCtrl,\n    };\n\n    const panel = { scopedVars: {}, targets: queries || [] } as unknown as PanelModel; // new PanelModel({ targets: queries });\n    const dashboard = {} as unknown as DashboardModel;\n\n    return {\n      datasource: datasource,\n      target: query as unknown as TQuery,\n      panel: panel,\n      dashboard: dashboard,\n      refresh: () => {\n        this.props.onChange(query);\n        this.props.onRunQuery();\n      },\n      render: () => () => console.log('legacy render function called, it does nothing'),\n      events: this.events as any,\n      range: timeRange!,\n    };\n  }\n\n  renderAngularQueryEditor = () => {\n    if (!this.element) {\n      return;\n    }\n    if (this.angularQueryEditor) {\n      this.angularQueryEditor.destroy();\n      this.angularQueryEditor = null;\n    }\n\n    const loader = getAngularLoader();\n    const template = '<plugin-component type=\"query-ctrl\" />';\n    const scopeProps = { ctrl: this.getAngularQueryComponentScope() };\n\n    this.angularQueryEditor = loader.load(this.element, scopeProps, template);\n    this.angularScope = scopeProps.ctrl;\n  };\n\n  render() {\n    return (\n      <div\n        ref={(element) => {\n          this.element = element;\n        }}\n      />\n    );\n  }\n}\n","import { Cascader } from '@grafana/ui';\nimport { loadReactComponent } from '../../common/react-loader';\n\nloadReactComponent(Cascader, 'gfCascader', {\n  separator: '@?',\n  placeholder: '@?',\n  options: '<',\n  changeOnSelect: '<?',\n  onSelect: '&',\n  width: '@?',\n  initialValue: '@?',\n  allowCustomValue: '<?',\n  formatCreateLabel: '&?',\n  displayAllSelectedLevels: '<?',\n});\n","import angular from 'angular';\nimport _ from 'lodash';\nimport coreModule from 'grafana/app/core/core_module';\n\nexport class CustomSelectDropdownCtrl {\n  dropdownVisible: any;\n  highlightIndex: any;\n  linkText: any;\n  oldVariableText: any;\n  selectOptions: any;\n  options: any;\n  value: any;\n  search: any;\n  multiple: boolean | undefined;\n  selectedValues: any;\n  variable: any;\n\n  hide: any;\n  onChange: any;\n\n  /** @ngInject */\n  constructor() {}\n\n  show() {\n    this.oldVariableText = _.get(this.value, 'text', '');\n    this.highlightIndex = -1;\n\n    this.selectOptions = _.cloneDeep(this.options);\n    _.map(this.selectOptions, (option) => {\n      const selectedValue = _.get(this.value, 'value');\n      if (!selectedValue) {\n        option.selected = false;\n      } else if (_.isArray(selectedValue)) {\n        option.selected = _.indexOf(selectedValue, option.value) !== -1 ? true : false;\n      } else {\n        option.selected = selectedValue === option.value;\n      }\n    });\n\n    this.selectedValues = _.filter(this.selectOptions, { selected: true });\n\n    this.search = {\n      query: '',\n      options: this.selectOptions.slice(0, Math.min(this.selectOptions.length, 1000)),\n    };\n\n    this.dropdownVisible = true;\n  }\n\n  updateLinkText() {\n    this.linkText = _.get(this.value, 'text', '');\n  }\n\n  clearSelections() {\n    _.each(this.selectOptions, (option) => {\n      option.selected = false;\n    });\n\n    this.selectionsChanged(false);\n  }\n\n  keyDown(evt) {\n    if (evt.keyCode === 27) {\n      this.hide();\n    }\n    if (evt.keyCode === 40) {\n      this.moveHighlight(1);\n    }\n    if (evt.keyCode === 38) {\n      this.moveHighlight(-1);\n    }\n    if (evt.keyCode === 13) {\n      if (this.search.options.length === 0) {\n        this.commitChanges();\n      } else {\n        this.selectValue(this.search.options[this.highlightIndex], {}, true, false);\n      }\n    }\n    if (evt.keyCode === 32) {\n      this.selectValue(this.search.options[this.highlightIndex], {}, false, false);\n    }\n  }\n\n  moveHighlight(direction) {\n    this.highlightIndex = (this.highlightIndex + direction) % this.search.options.length;\n  }\n\n  selectValue(option, event, commitChange?, excludeOthers?) {\n    if (!option) {\n      return;\n    }\n    option.selected = this.multiple ? !option.selected : true;\n\n    commitChange = commitChange || false;\n    excludeOthers = excludeOthers || false;\n\n    const setAllExceptCurrentTo = (newValue) => {\n      _.each(this.selectOptions, (other) => {\n        if (option !== other) {\n          other.selected = newValue;\n        }\n      });\n    };\n\n    // commit action (enter key), should not deselect it\n    if (commitChange) {\n      option.selected = true;\n    }\n\n    if (excludeOthers) {\n      setAllExceptCurrentTo(false);\n      commitChange = true;\n    } else if (!this.multiple) {\n      setAllExceptCurrentTo(false);\n      commitChange = true;\n    } else if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      commitChange = true;\n      setAllExceptCurrentTo(false);\n    }\n\n    this.selectionsChanged(commitChange);\n  }\n\n  selectionsChanged(commitChange) {\n    this.selectedValues = _.filter(this.selectOptions, { selected: true });\n    this.value.value = _.map(this.selectedValues, 'value');\n    this.value.text = _.map(this.selectedValues, 'text').join(' + ');\n    if (!this.multiple) {\n      this.value.value = _.get(this.selectedValues, '0.value', '');\n    }\n\n    if (commitChange) {\n      this.commitChanges();\n    }\n  }\n\n  commitChanges() {\n    this.dropdownVisible = false;\n\n    this.updateLinkText();\n\n    if (this.value.text !== this.oldVariableText) {\n      this.onChange({ value: this.value });\n    }\n  }\n\n  queryChanged() {\n    this.highlightIndex = -1;\n    this.search.options = _.filter(this.selectOptions, (option) => {\n      return option.text.toLowerCase().indexOf(this.search.query.toLowerCase()) !== -1;\n    });\n\n    this.search.options = this.search.options.slice(0, Math.min(this.search.options.length, 1000));\n  }\n\n  init() {\n    if (_.isEmpty(this.value)) {\n      this.value = { text: '', value: this.multiple ? [] : '' };\n    }\n    this.updateLinkText();\n  }\n}\n\nconst template = `\n<div class=\"variable-link-wrapper\">\n  <a ng-click=\"vm.show()\" class=\"variable-value-link min-width-10\">\n    {{vm.linkText}}\n    <i class=\"fa fa-caret-down\" style=\"font-size:12px;float:right;position:relative;top:4px\"></i>\n  </a>\n\n  <input\n    type=\"text\"\n    class=\"gf-form-input\"\n    style=\"display: none\"\n    ng-keydown=\"vm.keyDown($event)\"\n    ng-model=\"vm.search.query\"\n    ng-change=\"vm.queryChanged()\"\n  ></input>\n\n  <div class=\"variable-value-dropdown\" ng-if=\"vm.dropdownVisible\" ng-class=\"{'multi': vm.multiple, 'single': !vm.multiple}\">\n    <div class=\"variable-options-wrapper\">\n      <div class=\"variable-options-column\">\n        <a class=\"variable-options-column-header\" ng-if=\"!!vm.multiple\" ng-class=\"{'many-selected': vm.selectedValues.length > 1}\"\n          bs-tooltip=\"'Clear selections'\" data-placement=\"top\" ng-click=\"vm.clearSelections()\">\n          <span class=\"variable-option-icon\"></span>\n          Selected ({{vm.selectedValues.length}})\n        </a>\n        <a class=\"variable-option pointer\" ng-repeat=\"option in vm.search.options\" ng-class=\"{'selected': option.selected, 'highlighted': $index === vm.highlightIndex}\"\n          ng-click=\"vm.selectValue(option, $event)\">\n          <span class=\"variable-option-icon\"></span>\n          <span>{{option.text}}</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\n/** @ngInject */\nexport function customSelectDropdown($compile, $window, $timeout, $rootScope) {\n  return {\n    restrict: 'E',\n    scope: { options: '=', multiple: '=', value: '=', onChange: '&' },\n    template: template,\n    controller: 'CustomSelectDropdownCtrl',\n    controllerAs: 'vm',\n    bindToController: true,\n    link: (scope, elem) => {\n      const bodyEl = angular.element($window.document.body);\n      const linkEl = elem.find('.variable-value-link');\n      const inputEl = elem.find('input');\n\n      function bodyOnClick(e) {\n        if (elem.has(e.target).length === 0) {\n          scope.$apply(() => {\n            scope.vm.commitChanges();\n          });\n        }\n      }\n\n      function openDropdown() {\n        inputEl.css('width', Math.max(linkEl.width(), 136) + 'px');\n\n        inputEl.show();\n        linkEl.hide();\n\n        inputEl.focus();\n        $timeout(\n          () => {\n            bodyEl.on('click', bodyOnClick);\n          },\n          0,\n          false\n        );\n      }\n\n      function switchToLink() {\n        inputEl.hide();\n        linkEl.show();\n        bodyEl.off('click', bodyOnClick);\n      }\n\n      scope.$watch('vm.dropdownVisible', (newValue) => {\n        if (newValue) {\n          openDropdown();\n        } else {\n          switchToLink();\n        }\n      });\n\n      scope.vm.init();\n    },\n  };\n}\n\ncoreModule.controller('CustomSelectDropdownCtrl', CustomSelectDropdownCtrl);\ncoreModule.directive('customSelectDropdown', customSelectDropdown);\n","import coreModule from 'grafana/app/core/core_module';\nimport _ from 'lodash';\nimport { isDefined } from 'angular';\n\n// mutilple conditions directive for instance query params\nexport class MultiConditionCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.type = $scope.type || 'input';\n      $scope.placeholder = isDefined($scope.placeholder) ? $scope.placeholder : '';\n      $scope.value = isDefined($scope.value) ? $scope.value : [];\n      $scope.maxCond = _.toInteger($scope.maxCond) > 0 ? _.toInteger($scope.maxCond) : -1;\n    };\n\n    $scope.onInputBlur = () => {\n      $scope.onChangeInternal();\n    };\n\n    $scope.deleteCondition = (index) => {\n      $scope.value.splice(index, 1);\n      $scope.onChangeInternal();\n    };\n\n    $scope.addCondition = (cond) => {\n      $scope.value.push(cond);\n      $scope.onChangeInternal();\n    };\n\n    $scope.onChangeInternal = () => {\n      $scope.onChange({ value: $scope.value });\n    };\n\n    $scope.onSelectChange = (value) => {\n      $scope.onChange({ value });\n    };\n\n    $scope.getSelectedOptions = () => {\n      const selectedOptions = _.filter(\n        $scope.options,\n        (item) => _.get($scope.value, 'value', []).indexOf(item.value) !== -1\n      );\n      return selectedOptions.length > 0\n        ? _.map(selectedOptions, (option) => `${option.text}: ${option.value}`).join('; ')\n        : undefined;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div ng-if=\"type === 'input'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\">\n    <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"value[$index]\" placeholder=\"{{placeholder}}\"\n      ng-blur=\"onInputBlur()\"></input>\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition('')\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<div ng-if=\"type === 'inputNumber'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\">\n    <input type=\"number\" ng-model=\"value[$index]\" ng-blur=\"onInputBlur()\" class=\"gf-form-input width-10 tc-condition-input\"\n      ng-min=\"minNum\" ng-max=\"maxNum\" ng-change=\"onChangeInternal()\">\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition(undefined)\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<div class=\"gf-form\" ng-if=\"type === 'select'\">\n  <custom-select-dropdown value=\"value\" multiple=\"true\" options=\"options\" on-change=\"onSelectChange(value)\"></custom-select-dropdown>\n  <label class=\"gf-form-label tc-info-label\" ng-if=\"getSelectedOptions()\">\n    {{getSelectedOptions()}}\n  </label>\n</div>\n\n<div ng-if=\"type === 'dropdown'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\" style=\"vertical-align: top;\">\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent tc-condition-dropdown\">\n      <gf-form-dropdown model=\"value[$index]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getOptions()\" on-change=\"onChangeInternal()\"\n        css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition('')\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<!-- <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n  <gf-form-dropdown model=\"ctrl.target.cvm.instance\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"ctrl.getInstances($query)\"\n    on-change=\"ctrl.onInstanceChange()\" css-class=\"min-width-10\">\n  </gf-form-dropdown>\n</div> -->\n`;\n\nexport function multiCondition() {\n  return {\n    template: template,\n    controller: MultiConditionCtrl,\n    restrict: 'E',\n    scope: {\n      type: '=',\n      value: '=',\n      maxCond: '=?',\n      placeholder: '=?',\n      options: '=?',\n      maxNum: '=?',\n      minNum: '=?',\n      multiple: '=?',\n      onChange: '&',\n      getOptions: '&',\n    },\n  };\n}\n\ncoreModule.directive('multiCondition', multiCondition);\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../../node_modules/sass-loader/dist/cjs.js!./query_editor.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","module.exports = \"<query-editor-row query-ctrl=\\\"ctrl\\\" class=\\\"generic-datasource-query-row\\\" has-text-edit-mode=\\\"true\\\">\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Namespace</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-cascader\\n          ng-if=\\\"ctrl.isCascader\\\"\\n          style=\\\"width: 160px\\\"\\n          change-on-select=\\\"false\\\"\\n          options=\\\"ctrl.cascaderOptions\\\"\\n          on-select=\\\"ctrl.cascaderChange(_query)\\\"\\n          initial-value=\\\"{{ctrl.target.namespace}}\\\"\\n        ></gf-cascader>\\n\\n        <gf-form-dropdown\\n          ng-if=\\\"!ctrl.isCascader\\\"\\n          model=\\\"ctrl.target.namespace\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getNamespaces($query)\\\"\\n          on-change=\\\"ctrl.onNamespaceChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" ng-if=\\\"!ctrl.hideRegion\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Region</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].region\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getRegions($query)\\\"\\n          on-change=\\\"ctrl.onRegionChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n          disabled\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">MetricName</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].metricName\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getMetrics($query)\\\"\\n          on-change=\\\"ctrl.onMetricChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n    <div class=\\\"gf-form gf-form-label--grow\\\" ng-if=\\\"!!ctrl.getMetricNameDesc()\\\">\\n      <label class=\\\"gf-form-label gf-form-label--grow\\\">({{ctrl.getMetricNameDesc()}})</label>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" style=\\\"align-items: center\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Period</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <select\\n          class=\\\"gf-form-input min-width-10\\\"\\n          ng-change=\\\"ctrl.refresh()\\\"\\n          ng-model=\\\"ctrl.target[ctrl.target.service].period\\\"\\n          ng-options=\\\"f for f in ctrl.sortedPeriodList\\\"\\n        ></select>\\n      </div>\\n    </div>\\n    <span style=\\\"margin-left: 8px; font-size: 12px\\\">({{ctrl.getTimeDesc()}})</span>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" style=\\\"align-items: center\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Timeshift</label>\\n      <input\\n        class=\\\"gf-form-input width-10\\\"\\n        ng-model=\\\"ctrl.target[ctrl.target.service].timeshift\\\"\\n        ng-blur=\\\"ctrl.refresh()\\\"\\n      ></input>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Instance</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <select\\n          class=\\\"gf-form-input min-width-8\\\"\\n          ng-change=\\\"ctrl.onInstanceAliasChange()\\\"\\n          ng-model=\\\"ctrl.target[ctrl.target.service].instanceAlias\\\"\\n          ng-options=\\\"f.value as f.text for f in ctrl.instanceAliasList\\\"\\n        ></select>\\n      </div>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].instance\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getInstances($query)\\\"\\n          on-change=\\\"ctrl.onInstanceChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n    <div class=\\\"gf-form\\\" ng-if=\\\"!ctrl.isVariable('instance')\\\">\\n      <label class=\\\"gf-form-label width-7\\\">Show Details</label>\\n      <gf-form-switch\\n        class=\\\"gf-form tc-switch\\\"\\n        label-class=\\\"width-7\\\"\\n        checked=\\\"ctrl.target.showInstanceDetails\\\"\\n        switch-class=\\\"max-width-5\\\"\\n      ></gf-form-switch>\\n    </div>\\n    <div class=\\\"gf-form gf-form-label--grow\\\">\\n      <!-- this is explain how much items will display to user -->\\n      <label class=\\\"gf-form-label gf-form-label--grow\\\">({{ctrl.getSearchDesc()}})</label>\\n    </div>\\n  </div>\\n</query-editor-row>\\n\";","import editorHtmlTmp from './query.editor.html';\nimport { SERVICES } from '../../tc_monitor';\n\nconst hackModuleName = {\n  loadBalance: 'clb',\n  lbPrivate: 'clb',\n  lbPublic: 'clb',\n  mongoDB: 'mongodb',\n\n  // MapReduce\n  mrHDFS: 'mr',\n  mrHBASE: 'mr',\n  mrHIVE: 'mr',\n  mrNODE: 'mr',\n  mrPRESTO: 'mr',\n  mrSPARK: 'mr',\n  mrYARN: 'mr',\n  mrZOOKEEPER: 'mr',\n};\n\nexport const editorHtml = (function () {\n  let str = editorHtmlTmp;\n  SERVICES.forEach(({ service }) => {\n    const serviceSwitch = hackModuleName[service] || service.replace(/([A-Z])/g, '-$1').toLowerCase();\n    str += `<${serviceSwitch}-query\n      ng-if=\"ctrl.target.service==='${service}'\"\n      target=\"ctrl.target.${service}\"\n      namespace=\"ctrl.target.namespace\"\n      show-detail=\"ctrl.checkShowDetail('instance')\"\n      datasource=\"ctrl.datasource\"\n      on-change=\"ctrl.onInstanceQueryChange()\"\n      on-refresh=\"ctrl.refresh()\"\n      dims=\"ctrl.target.${service}.dimensionObject\"\n      region=\"ctrl.getVariable(ctrl.target.${service}.region)\"\n    ></${serviceSwitch}-query>`;\n  });\n  const footStr = `\n    <div class=\"gf-form\" ng-show=\"ctrl.lastQueryError\">\n      <pre class=\"gf-form-pre alert alert-error\">{{ctrl.lastQueryError}}</pre>\n    </div>\n  </query-editor-row>`;\n  return str + footStr;\n})();\n","import { QueryCtrl } from 'grafana/app/plugins/sdk';\nimport _ from 'lodash';\n\nimport { GetServiceFromNamespace, ReplaceVariable, isVariable } from '../common/constants';\nimport { InitServiceState, InstanceAliasList, GetInstanceQueryParams, SERVICES } from '../tc_monitor';\n\nimport './components/multi_condition';\nimport './components/custom_select_dropdown';\nimport './components/cascader';\nimport './css/query_editor.css';\nimport { editorHtml } from './partials/queryEditorTemplate';\nimport { t, getLanguage, Language } from '../../locale';\nexport class TCMonitorDatasourceQueryCtrl extends QueryCtrl {\n  // static templateUrl = 'datasource/partials/query.editor.html';\n  static template = editorHtml;\n  datasource: any;\n  panelCtrl: any;\n  namespaces: string[] = [];\n  regions: any[] = [];\n  instanceList: any[] = [];\n  // listenerList: any[] = [];\n  metricList: any[] = [];\n  periodList: number[] = [];\n  dimensionList: any[] = [];\n  instanceAliasList: any[] = [];\n  // listenerAliasList: any[] = [];\n  target: {\n    refId: string;\n    service: string;\n    namespace: string;\n    showInstanceDetails: boolean;\n  };\n  defaults = {\n    namespace: '',\n    service: '',\n    showInstanceDetails: false,\n    ...InitServiceState,\n  };\n\n  cascaderOptions: any = [];\n\n  lastQuery: string;\n  lastQueryError?: string;\n\n  isMetricsNeedUpdate: boolean;\n  hideRegion: boolean;\n\n  $scope: any;\n\n  /** @ngInject */\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor($scope, $injector, private templateSrv) {\n    super($scope, $injector);\n    this.$scope = $scope;\n    this.cascaderOptions = this.datasource.getCascaderNamespaces();\n    this.namespaces = this.datasource.getNamespaces();\n    // 当数据源的命名空间列表存在时，设置相应的默认值\n    if (this.namespaces.length > 0) {\n      // if (_.indexOf(this.namespaces, this.target.namespace) === -1) {\n      //   this.target.namespace = this.namespaces[0];\n      // }\n      this.target.namespace =\n        this.target.namespace ?? this.cascaderOptions[0]?.items?.[0].value ?? this.cascaderOptions[0].value;\n      this.target.service = GetServiceFromNamespace(this.target.namespace) || '';\n    }\n    this.hideRegion = !!SERVICES.find((o) => o.service === this.target.service)?.hideRegion;\n    _.defaultsDeep(this.target, this.defaults);\n    this.instanceAliasList = this.getInstanceAliasList(this.target.service);\n    // this.listenerAliasList = this.getListenerAliasList(this.target.service);\n    this.panelCtrl.events.on('data-received', this.onDataReceived.bind(this), $scope);\n    this.panelCtrl.events.on('data-error', this.onDataError.bind(this), $scope);\n  }\n\n  get sortedPeriodList() {\n    return this.periodList.sort((a, b) => a - b);\n  }\n  get isCascader() {\n    return this.cascaderOptions.length > 1;\n  }\n  cascaderChange(namespace) {\n    this.target.namespace = namespace;\n    this.onNamespaceChange();\n  }\n\n  onDataReceived(dataList) {\n    this.lastQueryError = undefined;\n    this.lastQuery = '';\n\n    const anySeriesFromQuery: any = _.find(dataList, { refId: this.target.refId });\n    if (anySeriesFromQuery) {\n      this.lastQuery = anySeriesFromQuery.query;\n    }\n  }\n\n  onDataError(err) {\n    this.handleQueryCtrlError(err);\n  }\n\n  handleQueryCtrlError(err) {\n    if (_.get(err, 'query.refId') !== this.target.refId) {\n      return;\n    }\n\n    if (_.get(err, 'error.data.error.innererror', undefined)) {\n      if (_.get(err, 'error.data.error.innererror.innererror', undefined)) {\n        this.lastQueryError = _.get(err, 'error.data.error.innererror.innererror.message');\n      } else {\n        this.lastQueryError = _.get(err, 'error.data.error.innererror.message');\n      }\n    } else if (_.get(err, 'error.data.error', undefined)) {\n      this.lastQueryError = _.get(err, 'error.data.error.message');\n    } else if (_.get(err, 'error.data', undefined)) {\n      this.lastQueryError = _.get(err, 'error.data.message');\n    } else if (_.get(err, 'data.error', undefined)) {\n      this.lastQueryError = _.get(err, 'data.error.message');\n      // eslint-disable-next-line no-empty\n    } else if (err.data?.message) {\n    } else if (_.get(err, 'data.message', undefined)) {\n      this.lastQueryError = _.get(err, 'data.message');\n    } else {\n      this.lastQueryError = err;\n    }\n  }\n\n  /**\n   * 获取实例展示字段的选择列表\n   *\n   * @param service 监控服务名\n   */\n  getInstanceAliasList(service) {\n    if (!service) {\n      return [];\n    }\n    return _.map(InstanceAliasList[`${_.toUpper(service)}InstanceAliasList`] || [], (item) => ({\n      text: `As ${item}`,\n      value: item,\n    }));\n  }\n  getNamespaces(query) {\n    return _.map(this.namespaces, (o: any) => ({ text: o.label, value: o.namespace })); // TODO: 为什么对对象排序不行呢？？？？待解决\n  }\n  onNamespaceChange() {\n    const service = GetServiceFromNamespace(this.target.namespace) || '';\n    this.hideRegion = !!SERVICES.find((o) => o.service === service)?.hideRegion;\n    this.regions = [];\n    this.metricList = [];\n    this.periodList = [];\n    this.dimensionList = [];\n    this.instanceList = [];\n    // this.listenerList = [];\n\n    const initState = InitServiceState[service];\n    this.target[service] = _.cloneDeep(initState);\n    this.target.service = service;\n\n    this.instanceAliasList = this.getInstanceAliasList(service);\n    // this.listenerAliasList = this.getListenerAliasList(service);\n\n    this.refresh();\n    if (this.isCascader) this.$scope.$apply();\n  }\n\n  /**\n   * 获取地域列表\n   * output:\n   *  [\n   *    {\n   *      \"Region\": \"ap-beijing\",\n   *      \"RegionName\": \"华北地区(北京)\",\n   *      \"RegionState\": \"AVAILABLE\"\n   *    },\n   *    {\n   *      \"Region\": \"ap-guangzhou\",\n   *      \"RegionName\": \"华南地区(广州)\",\n   *      \"RegionState\": \"AVAILABLE\"\n   *    }\n   *  ]\n   */\n  getRegions(query) {\n    const service = this.target.service;\n    if (!service || _.startsWith('$')) {\n      return [];\n    }\n    if (this.regions.length) {\n      return this.regions;\n    }\n    return this.datasource\n      .getRegions(service)\n      .then((list) => {\n        this.regions = list;\n        return list;\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n\n  onRegionChange() {\n    const service = this.target.service;\n    this.target[service].instance = '';\n    this.instanceList = [];\n    // this.listenerList = [];\n    this.isMetricsNeedUpdate = true;\n    _.forEach(this.target[service].dimensionObject, (__, key) => {\n      this.target[service].dimensionObject[key] = { Name: key, Value: '' };\n    });\n    this.target[service].queries = _.cloneDeep(InitServiceState[service].queries);\n    this.getInstances();\n    this.refresh();\n  }\n\n  /**\n   * 获取模板变量的实际值\n   *\n   * @param variable 模板变量的名字\n   * @param multiple 是否允许多选，如果为 false，返回实际值数组的第一个值\n   */\n  getVariable(variable: string, multiple: boolean) {\n    return ReplaceVariable(this.templateSrv, this.panelCtrl.panel.scopedVars, variable, multiple);\n  }\n\n  getMetricNameDesc() {\n    const service = this.target.service;\n    const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n    if (index === -1) {\n      return '';\n    }\n    return getLanguage() === Language.Chinese ? this.metricList[index].Meaning.Zh : this.metricList[index].Meaning.En;\n  }\n\n  getMetrics(query) {\n    const service = this.target.service;\n    const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n\n    if (!service || !region) {\n      return [];\n    }\n    if (!this.isMetricsNeedUpdate && this.metricList.length > 0) {\n      return _.map(this.metricList, (item) => ({ text: item.MetricName, value: item.MetricName }));\n    }\n    return this.datasource\n      .getMetrics(service, region)\n      .then((list) => {\n        this.metricList = list;\n        this.isMetricsNeedUpdate = false;\n        const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n        if (index !== -1) {\n          this.periodList = _.get(this.metricList[index], 'Period', []);\n          this.dimensionList = _.get(this.metricList[index], 'Dimensions.0.Dimensions', []);\n        }\n        return _.map(list, (item) => ({ text: item.MetricName, value: item.MetricName }));\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n\n  onMetricChange() {\n    const service = this.target.service;\n    let periodList = [];\n    let dimensionList = [];\n    const dimensionObject: any = {};\n    let metricUnit = '';\n    const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n    if (index !== -1) {\n      periodList = _.get(this.metricList[index], 'Period', []);\n      dimensionList = _.get(this.metricList[index], 'Dimensions.0.Dimensions', []);\n      // dimensionList = dimensionList.length > 0 ? dimensionList : (DefaultDimensions[service] ?? []);\n      metricUnit = _.get(this.metricList[index], 'Unit', '');\n    }\n    _.forEach(dimensionList, (item) => {\n      dimensionObject[item] = { Name: item, Value: '' };\n    });\n    this.periodList = periodList;\n    this.dimensionList = dimensionList;\n    this.target[service].period =\n      periodList.length > 0 ? (_.indexOf(periodList, 300) === -1 ? periodList[0] : 300) : undefined;\n    this.target[service].dimensionObject = dimensionObject;\n    this.target[service].metricUnit = metricUnit;\n    this.refresh();\n  }\n\n  getInstances() {\n    const service = this.target.service;\n    const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n    if (!service || !region) {\n      return [];\n    }\n    const params = this.getInstanceQueryParams(service);\n    return this.datasource\n      .getInstances(service, region, params)\n      .then((list) => {\n        this.instanceList = list;\n        const instanceAlias = this.target[service].instanceAlias; // InstanceId\n        const instances: any[] = [];\n        _.forEach(list, (item) => {\n          // 根据 instanceAlias，确定实例展示字段，并保存至 _InstanceAliasValue，用于 constants.ts 的监控数据解析函数 ParseQueryResult\n          const instanceAliasValue = _.get(item, instanceAlias);\n          // console.log({instanceAliasValue}); 遍历出所有的InstanceId\n          if (instanceAliasValue) {\n            if (typeof instanceAliasValue === 'string') {\n              item._InstanceAliasValue = instanceAliasValue;\n              instances.push({ text: instanceAliasValue, value: JSON.stringify(item) });\n            } else if (_.isArray(instanceAliasValue)) {\n              _.forEach(instanceAliasValue, (subItem) => {\n                item._InstanceAliasValue = subItem;\n                instances.push({ text: subItem, value: JSON.stringify(item) });\n              });\n            }\n          }\n        });\n        return instances;\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n  onInstanceChange(v) {\n    // const service = this.target.service;\n    // if (this.target[service].listener) {\n    //   this.target[service].listener = '';\n    // }\n    // if (this.target[service].servers) {\n    //   this.target[service].servers = '';\n    // }\n    // if (this.target[service].serverPort) {\n    //   this.target[service].serverPort = '';\n    // }\n    this.refresh();\n  }\n\n  // getListeners() {\n  //   const service = this.target.service;\n  //   const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n  //   const instance = this.getVariable(_.get(this.target[service], 'instance', ''), false);\n  //   if (!service || !region) {\n  //     return [];\n  //   }\n  //   let instanceMap = {};\n  //   // console.log({instance});\n  //   try {\n  //     instanceMap = JSON.parse(instance);\n  //   } catch (e) {\n  //     console.log(e);\n  //   }\n  //   const idKey = IdKeys[service];\n  //   const instanceId = _.get(instanceMap, idKey);\n  //   return this.datasource.getListeners(service, region, instanceId)\n  //     .then(list => {\n  //       this.listenerList = list;\n  //       const listenerAlias = this.target[service].listenerAlias;\n  //       const listeners: any[] = [];\n  //       _.forEach(list, (item) => {\n  //         const listenerAliasValue = _.get(item, listenerAlias);\n  //         if (listenerAliasValue) {\n  //           if (typeof listenerAliasValue === 'string') {\n  //             item._listenerAliasValue = listenerAliasValue;\n  //             listeners.push({ text: listenerAliasValue, value: JSON.stringify(item) });\n  //           } else if (_.isArray(listenerAliasValue)) {\n  //             _.forEach(listenerAliasValue, (subItem) => {\n  //               item._listenerAliasValue = subItem;\n  //               listeners.push({ text: subItem, value: JSON.stringify(item) });\n  //             });\n  //           }\n  //         }\n  //       });\n  //       // console.log({listeners});\n  //       return listeners;\n  //     })\n  //     .catch(this.handleQueryCtrlError.bind(this));\n  // }\n  /**\n   * 获取实例请求接口的请求参数\n   *\n   * @param service 监控服务名\n   */\n  getInstanceQueryParams(service) {\n    const queries = this.target[service].queries;\n    if (GetInstanceQueryParams[`${_.toUpper(service)}GetInstanceQueryParams`]) {\n      return GetInstanceQueryParams[`${_.toUpper(service)}GetInstanceQueryParams`](queries);\n    } else {\n      return {};\n    }\n  }\n\n  onInstanceAliasChange() {\n    // 仅当 instance 字段不是模板变量时，执行以下操作\n    if (!this.isVariable('instance')) {\n      const service = this.target.service;\n      this.target[service].instance = '';\n      this.refresh();\n    }\n  }\n\n  onInstanceQueryChange() {\n    // 仅当 instance 字段不是模板变量时，执行以下操作\n    if (!this.isVariable('instance')) {\n      const service = this.target.service;\n      this.target[service].instance = '';\n      this.instanceList = [];\n      _.forEach(this.target[service].dimensionObject, (__, key) => {\n        this.target[service].dimensionObject[key] = { Name: key, Value: '' };\n      });\n      this.refresh();\n    }\n  }\n  isVariable(field) {\n    const service = this.target.service;\n    const value = this.target[service]?.[field];\n    return isVariable(value);\n  }\n  checkShowDetail(field) {\n    return !this.isVariable(field) && this.target.showInstanceDetails;\n  }\n  getTimeDesc() {\n    return `${t('time_unit')}: ${t('seconds')}`;\n  }\n  getSearchDesc() {\n    return t('search_description');\n  }\n}\n","import { RUMQueryTag } from './types';\nimport { RUMQueryBuilder } from './query_builder';\nimport { ServiceType } from '../types';\nimport { DataSource } from '../DataSource';\n\nconst runExploreQuery = (\n  type: string,\n  withKey: string | undefined,\n  withMeasurementFilter: string | undefined,\n  target: { measurement: string | undefined; tags: RUMQueryTag[]; policy: string | undefined },\n  datasource: DataSource\n): Promise<Array<{ text: string }>> => {\n  const builder = new RUMQueryBuilder(target);\n  const q = builder.buildExploreQuery(type, withKey, withMeasurementFilter);\n  return datasource.metricFindQuery(\n    {\n      serviceType: ServiceType.RUMService,\n      queryString: q,\n    },\n    undefined\n  );\n};\n\nexport async function getAllPolicies(datasource: DataSource): Promise<string[]> {\n  const target = { tags: [], measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('RETENTION POLICIES', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getAllMeasurementsForTags(\n  measurementFilter: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('MEASUREMENTS', undefined, measurementFilter, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagKeysForMeasurementAndTags(\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_KEYS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagValues(\n  tagKey: string,\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_VALUES', tagKey, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getFieldKeysForMeasurement(\n  measurement: string,\n  policy: string | undefined,\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags: [], measurement, policy };\n  const data = await runExploreQuery('FIELDS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n","import { cloneDeep, isString, map as _map, get } from 'lodash';\nimport { Observable, of, throwError, from } from 'rxjs';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { getBackendSrv, getTemplateSrv, TemplateSrv } from '@grafana/runtime';\nimport {\n  ArrayVector,\n  DataFrame,\n  DataQueryError,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  MetricFindValue,\n  dateMath,\n  DataSourceApi,\n  FieldType,\n  QueryResultMeta,\n  TIME_SERIES_TIME_FIELD_NAME,\n  TIME_SERIES_VALUE_FIELD_NAME,\n  TimeSeries,\n  LoadingState,\n  RawTimeRange,\n} from '@grafana/data';\nimport RUMQueryModel from './RUM_query_model';\nimport RUMSeries from './RUM_series';\nimport ResponseParser from './response_parser';\nimport { GetRequestParams, GetServiceAPIInfo } from '../../datasource/common/constants';\nimport { MyDataSourceOptions, QueryInfo } from '../types';\nimport { RUMOptions, RUMQuery } from './types';\nimport { RUMQueryBuilder } from './query_builder';\n\n// we detect the field type based on the value-array\nfunction getFieldType(values: unknown[]): FieldType {\n  // the values-array may contain a lot of nulls.\n  // we need the first not-null item\n  const firstNotNull = values.find((v) => v !== null);\n\n  if (firstNotNull === undefined) {\n    // we could not find any not-null values\n    return FieldType.number;\n  }\n\n  const valueType = typeof firstNotNull;\n\n  switch (valueType) {\n    case 'string':\n      return FieldType.string;\n    case 'boolean':\n      return FieldType.boolean;\n    case 'number':\n      return FieldType.number;\n    default:\n      throw new Error(`RUM: invalid value type ${valueType}`);\n  }\n}\n\n// this conversion function is specialized to work with the timeseries\n// data returned by getTimeSeries()\nfunction timeSeriesToDataFrame(timeSeries: TimeSeries): DataFrame {\n  const times: number[] = [];\n  const values: unknown[] = [];\n\n  // the data we process here is not correctly typed.\n  // the typescript types say every data-point is number|null,\n  // but in fact it can be string or boolean too.\n\n  const points = timeSeries.datapoints;\n  for (const point of points) {\n    values.push(point[0]);\n    times.push(point[1] as number);\n  }\n\n  const timeField = {\n    name: TIME_SERIES_TIME_FIELD_NAME,\n    type: FieldType.time,\n    config: {},\n    values: new ArrayVector<number>(times),\n  };\n\n  const valueField = {\n    name: TIME_SERIES_VALUE_FIELD_NAME,\n    type: getFieldType(values),\n    config: {\n      displayNameFromDS: timeSeries.title,\n    },\n    values: new ArrayVector<unknown>(values),\n    labels: timeSeries.tags,\n  };\n\n  const fields = [timeField, valueField];\n\n  return {\n    name: timeSeries.target,\n    refId: timeSeries.refId,\n    meta: timeSeries.meta,\n    fields,\n    length: values.length,\n  };\n}\n\nexport default class RUMServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  type: string;\n  url: string;\n  responseParser: any;\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  private readonly templateSrv: TemplateSrv;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<RUMOptions>) {\n    super(instanceSettings);\n\n    this.instanceSettings = instanceSettings;\n    this.templateSrv = getTemplateSrv();\n    this.responseParser = new ResponseParser();\n    this.type = 'RUMService';\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Promise<DataQueryResponse> | Observable<DataQueryResponse> {\n    return this.classicQuery(request);\n  }\n\n  classicQuery(options: any): Observable<DataQueryResponse> {\n    let timeFilter = this.getTimeFilter(options);\n    const scopedVars = options.scopedVars;\n    const targets = cloneDeep(options.targets);\n    const queryTargets: any[] = [];\n\n    let i;\n    let y;\n\n    let allQueries = _map(targets, (target) => {\n      if (target.hide) {\n        return '';\n      }\n      target.RUMServiceParams = this.fixTimePeriod(target.RUMServiceParams, options);\n      queryTargets.push(target);\n\n      // backward compatibility\n      scopedVars.interval = scopedVars.__interval;\n\n      return new RUMQueryModel(target.RUMServiceParams, this.templateSrv, scopedVars).render(true);\n    }).reduce((acc, current) => {\n      if (current !== '') {\n        acc += ';' + current;\n      }\n      return acc;\n    });\n\n    if (allQueries === '') {\n      return of({ data: [] });\n    }\n\n    // add global adhoc filters to timeFilter\n    // @ts-ignore\n    const adhocFilters = this.templateSrv.getAdhocFilters(this.name);\n    if (adhocFilters.length > 0) {\n      const tmpQuery = new RUMQueryModel({}, this.templateSrv, scopedVars);\n      timeFilter += ' AND ' + tmpQuery.renderAdhocFilters(adhocFilters);\n    }\n\n    // replace grafana variables\n    scopedVars.timeFilter = { value: timeFilter };\n\n    // replace templated variables\n    allQueries = this.templateSrv.replace(allQueries, scopedVars);\n\n    return this._seriesQuery(allQueries, options).pipe(\n      map((data: any) => {\n        if (!data || !data.results) {\n          return { data: [] };\n        }\n\n        const seriesList = [];\n        for (i = 0; i < data.results.length; i++) {\n          const result = data.results[i];\n          if (!result || !result.series) {\n            continue;\n          }\n\n          const target = queryTargets[i];\n          let alias = target.RUMServiceParams.alias;\n          if (alias) {\n            alias = this.templateSrv.replace(target.RUMServiceParams.alias, options.scopedVars);\n          }\n\n          const meta: QueryResultMeta = {\n            executedQueryString: data.executedQueryString,\n          };\n\n          const rumSeries = new RUMSeries({\n            refId: target.refId,\n            series: data.results[i].series,\n            alias: alias,\n            meta,\n          });\n\n          switch (target.RUMServiceParams.resultFormat) {\n            case 'logs':\n              meta.preferredVisualisationType = 'logs';\n            // eslint-disable-next-line no-fallthrough\n            case 'table': {\n              seriesList.push(rumSeries.getTable());\n              break;\n            }\n            default: {\n              const timeSeries = rumSeries.getTimeSeries();\n              for (y = 0; y < timeSeries.length; y++) {\n                seriesList.push(timeSeriesToDataFrame(timeSeries[y]));\n              }\n              break;\n            }\n          }\n        }\n\n        return { data: seriesList, state: LoadingState.Done };\n      })\n    );\n  }\n\n  async metricFindQuery(query: string, options?: any): Promise<MetricFindValue[]> {\n    const interpolated = this.templateSrv.replace(query, undefined, 'regex');\n\n    return this._seriesQuery(interpolated, options)\n      .toPromise()\n      .then((resp) => {\n        return this.responseParser.parse(query, resp);\n      });\n  }\n\n  _seriesQuery(query: string, options?: any) {\n    if (!query) {\n      return of({ results: [] });\n    }\n\n    if (options?.range) {\n      const timeFilter = this.getTimeFilter({ rangeRaw: options.range, timezone: options.timezone });\n      query = query.replace('$timeFilter', timeFilter);\n    }\n\n    return this._RUMRequest(query);\n  }\n\n  _RUMRequest(query) {\n    const serviceType = 'rum';\n    const serviceInfo = GetServiceAPIInfo('', serviceType);\n\n    return from(\n      GetRequestParams(\n        { url: this.instanceSettings.url + serviceInfo.path, data: { Query: btoa(query) } },\n        serviceType,\n        { action: 'DescribeGrafanaData' },\n        '',\n        this.instanceSettings.id,\n        getBackendSrv()\n      )\n    ).pipe(\n      mergeMap((requestOptions) => {\n        return getBackendSrv()\n          .fetch(requestOptions)\n          .pipe(\n            map((result: any) => {\n              if (get(result, 'data.Response.Error')) {\n                // eslint-disable-next-line no-throw-literal\n                throw {\n                  message: 'RUM Error: ' + get(result, 'data.Response.Error.Message'),\n                  data: result.data,\n                  cancelled: true,\n                };\n              }\n              const jsonData = get(result, 'data.Response.Result');\n              const data = JSON.parse(jsonData);\n              data.executedQueryString = query;\n\n              if (data) {\n                if (data.error) {\n                  // eslint-disable-next-line no-throw-literal\n                  throw {\n                    message: 'RUM Error: ' + data.error,\n                    data,\n                  };\n                }\n                if (data.results) {\n                  const errors = data.results.filter((elem: any) => elem.error);\n\n                  if (errors.length > 0) {\n                    // eslint-disable-next-line no-throw-literal\n                    throw {\n                      message: 'RUM Error: ' + errors[0].error,\n                      data,\n                    };\n                  }\n                }\n              }\n              return data;\n            }),\n            catchError((err) => {\n              if (err.cancelled) {\n                return of(err);\n              }\n\n              return throwError(this.handleErrors(err));\n            })\n          );\n      })\n    );\n  }\n\n  handleErrors(err: any) {\n    const error: DataQueryError = {\n      message: err?.status || err?.message || 'Unknown error during query transaction. Please check JS console logs.',\n    };\n\n    if ((Number.isInteger(err.status) && err.status !== 0) || err.status >= 300) {\n      if (err.data?.error) {\n        error.message = 'RUM Error: ' + err.data.error;\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      } else {\n        error.message = 'Network Error: ' + err.statusText + '(' + err.status + ')';\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      }\n    }\n\n    return error;\n  }\n\n  getTimeFilter(options: any) {\n    const from = this.getRUMTime(options.rangeRaw.from, false, options.timezone);\n    const until = this.getRUMTime(options.rangeRaw.to, true, options.timezone);\n\n    return 'time >= ' + from + ' and time <= ' + until;\n  }\n\n  getRUMTime(date: any, roundUp: any, timezone: any) {\n    if (isString(date)) {\n      if (date === 'now') {\n        return 'now()';\n      }\n\n      const parts = /^now-(\\d+)([dhms])$/.exec(date);\n      if (parts) {\n        const amount = parseInt(parts[1], 10);\n        const unit = parts[2];\n        return 'now() - ' + amount + unit;\n      }\n      date = dateMath.parse(date, roundUp, timezone);\n    }\n\n    return date.valueOf() + 'ms';\n  }\n\n  fixTimePeriod(target: any, options: any) {\n    const period = this.getTimePeriod(options.rangeRaw, options.timezone);\n\n    target.groupBy?.forEach((groupBy: any) => {\n      if (groupBy.type === 'time' && groupBy.params[0] !== '1d') {\n        target = this.modifyTime(target, period);\n      }\n    });\n    return target;\n  }\n\n  getTimePeriod(rangeRaw: RawTimeRange, timezone: string): string {\n    const from = dateMath.parse(rangeRaw.from, false, timezone)?.valueOf();\n    const until = dateMath.parse(rangeRaw.to, true, timezone)?.valueOf();\n    const oneHour = 1000 * 60 * 60;\n    let range = 0;\n    let period = '1m';\n    if (from && until) {\n      range = until - from;\n    }\n    // 12h\n    if (range <= oneHour * 12) {\n      period = '1m';\n    }\n    // 3d\n    else if (range <= oneHour * 24 * 3) {\n      period = '30m';\n    }\n    // 7d\n    else if (range <= oneHour * 24 * 7) {\n      period = '1h';\n    } else {\n      period = '1d';\n    }\n    return period;\n  }\n\n  // 修改查询聚合周期\n  modifyTime(query: RUMQuery, period: string): RUMQuery {\n    if (!query.groupBy) {\n      return query;\n    }\n    for (const item of query.groupBy) {\n      if (item.type === 'time') {\n        const compareResult = this.periodCompare(String(item.params?.[0]) || '', period);\n        const isPeriodInparamsSmaller = compareResult && compareResult < 0;\n        // !compareResult代表输入的时间粒度无效\n        if (!compareResult || isPeriodInparamsSmaller) {\n          item.params = [period];\n        }\n        return query;\n      }\n    }\n    return query;\n  }\n  /**\n   * @param pre_period 粒度\n   * @param period 粒度\n   * @return 负数代表小于；0代表=；正数代表大于; null代表无效\n   */\n  periodCompare(pre_period: string, period: string): number | null {\n    const units = ['s', 'm', 'h', 'd'];\n    const reg = new RegExp(`(^\\\\d+)([${units.join('')}]$)`);\n    const pre = reg.exec(pre_period);\n    const per = reg.exec(period);\n    if (!pre || !per) {\n      return null;\n    }\n    if (units.indexOf(pre[2]) - units.indexOf(per[2])) {\n      return units.indexOf(pre[2]) - units.indexOf(per[2]);\n    }\n    return Number(pre[1]) - Number(per[1]);\n  }\n\n  testDatasource(): Promise<any> {\n    if (!this.instanceSettings.jsonData['RUMServiceEnabled']) {\n      return null;\n    }\n    const queryBuilder = new RUMQueryBuilder({ measurement: '', tags: [] }, '');\n    const query = queryBuilder.buildExploreQuery('MEASUREMENTS');\n\n    return this._seriesQuery(query)\n      .toPromise()\n      .then((res: any) => {\n        const error = get(res, 'data.Response.Error');\n        if (error) {\n          return { status: 'error', message: error?.Message };\n        }\n        return { status: 'success', message: 'Data source is working' };\n      })\n      .catch((err: any) => {\n        return { status: 'error', message: err.message };\n      });\n  }\n}\n","import React, { useMemo, FC, useEffect } from 'react';\nimport { css } from 'emotion';\nimport { QueryEditorProps, GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles } from '@grafana/ui';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport {\n  getAllMeasurementsForTags,\n  getAllPolicies,\n  getFieldKeysForMeasurement,\n  getTagKeysForMeasurementAndTags,\n  getTagValues,\n} from './RUMMetadataQuery';\nimport {\n  normalizeQuery,\n  addNewSelectPart,\n  removeSelectPart,\n  addNewGroupByPart,\n  removeGroupByPart,\n  changeSelectPart,\n  changeGroupByPart,\n} from './queryUtils';\nimport { getNewSelectPartOptions, getNewGroupByPartOptions, makePartList } from './common/partListUtils';\nimport { SegmentSection } from './components/SegmentSection';\nimport { FromSection } from './components/FromSection';\nimport { TagsSection } from './components/TagsSection';\nimport { PartListSection } from './components/PartListSection';\nimport { InputSection } from './components/InputSection';\nimport { OrderByTimeSection } from './components/OrderByTimeSection';\nimport { FormatAsSection } from './components/FormatAsSection';\nimport { useUniqueId } from './common/useUniqueId';\nimport { DEFAULT_RESULT_FORMAT } from './common/constants';\nimport { RUMQuery, RUMQueryTag } from './types';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo } from '../types';\nimport { clone } from 'lodash';\nimport { DataSource } from '../DataSource';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\n\nfunction getTemplateVariableOptions() {\n  return (\n    getTemplateSrv()\n      .getVariables()\n      // we make them regex-params, i'm not 100% sure why.\n      // probably because this way multi-value variables work ok too.\n      .map((v) => `/^$${v.name}$/`)\n  );\n}\n\n// helper function to make it easy to call this from the widget-render-code\nfunction withTemplateVariableOptions(optionsPromise: Promise<string[]>): Promise<string[]> {\n  return optionsPromise.then((options) => [...getTemplateVariableOptions(), ...options]);\n}\n\nfunction filterTags(parts: RUMQueryTag[], allTagKeys: Set<string>): RUMQueryTag[] {\n  return parts.filter((t) => allTagKeys.has(t.key));\n}\n\nexport const RUMServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const uniqueId = useUniqueId();\n  const formatAsId = `rum-qe-format-as-${uniqueId}`;\n  const orderByTimeId = `rum-qe-order-by${uniqueId}`;\n\n  const styles = useStyles(getStyles);\n\n  const { datasource, onChange, query: queryInfo } = props;\n  const query = normalizeQuery(queryInfo.RUMServiceParams || clone(defaultQueryInfo.RUMServiceParams));\n  const { measurement, policy } = query;\n\n  useEffect(() => {\n    if (!queryInfo.RUMServiceParams) {\n      onChange({ ...queryInfo, RUMServiceParams: clone(defaultQueryInfo.RUMServiceParams) });\n    }\n  }, [onChange, queryInfo]);\n\n  const allTagKeys = useMemo(() => {\n    return getTagKeysForMeasurementAndTags(measurement, policy, [], datasource)\n      .then((tags) => {\n        return new Set(tags);\n      })\n      .catch((err) => {\n        console.error('getTagKeysForMeasurementAndTags', err);\n        return new Set('');\n      });\n  }, [measurement, policy, datasource]);\n\n  const selectLists = useMemo(() => {\n    const dynamicSelectPartOptions = new Map([\n      [\n        'field_0',\n        () => {\n          return measurement !== undefined\n            ? getFieldKeysForMeasurement(measurement, policy, datasource)\n            : Promise.resolve([]);\n        },\n      ],\n    ]);\n    return (query.select ?? []).map((sel) => makePartList(sel, dynamicSelectPartOptions));\n  }, [measurement, policy, query.select, datasource]);\n\n  // the following function is not complicated enough to memoize, but it's result\n  // is used in both memoized and un-memoized parts, so we have no choice\n  const getTagKeys = useMemo(() => {\n    return () =>\n      allTagKeys.then((keys) =>\n        getTagKeysForMeasurementAndTags(measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n      );\n  }, [measurement, policy, query.tags, datasource, allTagKeys]);\n\n  const groupByList = useMemo(() => {\n    const dynamicGroupByPartOptions = new Map([['tag_0', getTagKeys]]);\n\n    return makePartList(query.groupBy ?? [], dynamicGroupByPartOptions);\n  }, [getTagKeys, query.groupBy]);\n\n  const onAppliedChange = (newQuery: RUMQuery) => {\n    props.onChange({\n      ...props.query,\n      RUMServiceParams: newQuery,\n    });\n    props.onRunQuery();\n  };\n  const handleFromSectionChange = (p: string | undefined, m: string | undefined) => {\n    onAppliedChange({\n      ...query,\n      policy: p,\n      measurement: m,\n    });\n  };\n\n  const handleTagsSectionChange = (tags: RUMQueryTag[]) => {\n    // we set empty-arrays to undefined\n    onAppliedChange({\n      ...query,\n      tags: tags.length === 0 ? undefined : tags,\n    });\n  };\n\n  return (\n    <div>\n      <SegmentSection label=\"FROM\" fill={true}>\n        <FromSection\n          policy={policy}\n          measurement={measurement}\n          getPolicyOptions={() => getAllPolicies(datasource)}\n          getMeasurementOptions={(filter) =>\n            withTemplateVariableOptions(\n              allTagKeys.then((keys) =>\n                getAllMeasurementsForTags(\n                  filter === '' ? undefined : filter,\n                  filterTags(query.tags ?? [], keys),\n                  datasource\n                )\n              )\n            )\n          }\n          onChange={handleFromSectionChange}\n        />\n        <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n          WHERE\n        </InlineLabel>\n        <TagsSection\n          tags={query.tags ?? []}\n          onChange={handleTagsSectionChange}\n          getTagKeyOptions={getTagKeys}\n          getTagValueOptions={(key: string) =>\n            withTemplateVariableOptions(\n              allTagKeys.then((keys) =>\n                getTagValues(key, measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n              )\n            )\n          }\n        />\n      </SegmentSection>\n      {selectLists.map((sel, index) => (\n        <SegmentSection key={index} label={index === 0 ? 'SELECT' : ''} fill={true}>\n          <PartListSection\n            parts={sel}\n            getNewPartOptions={() => Promise.resolve(getNewSelectPartOptions())}\n            onChange={(partIndex, newParams) => {\n              const newQuery = changeSelectPart(query, index, partIndex, newParams);\n              onAppliedChange(newQuery);\n            }}\n            onAddNewPart={(type) => {\n              onAppliedChange(addNewSelectPart(query, type, index));\n            }}\n            onRemovePart={(partIndex) => {\n              onAppliedChange(removeSelectPart(query, partIndex, index));\n            }}\n          />\n        </SegmentSection>\n      ))}\n      <SegmentSection label=\"GROUP BY\" fill={true}>\n        <PartListSection\n          parts={groupByList}\n          getNewPartOptions={() => getNewGroupByPartOptions(query, getTagKeys)}\n          onChange={(partIndex, newParams) => {\n            const newQuery = changeGroupByPart(query, partIndex, newParams);\n            onAppliedChange(newQuery);\n          }}\n          onAddNewPart={(type) => {\n            onAppliedChange(addNewGroupByPart(query, type));\n          }}\n          onRemovePart={(partIndex) => {\n            onAppliedChange(removeGroupByPart(query, partIndex));\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection label=\"TIMEZONE\" fill={true}>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.tz}\n          onChange={(tz) => {\n            onAppliedChange({ ...query, tz });\n          }}\n        />\n        <InlineLabel htmlFor={orderByTimeId} width=\"auto\" className={styles.inlineLabel}>\n          ORDER BY TIME\n        </InlineLabel>\n        <OrderByTimeSection\n          inputId={orderByTimeId}\n          value={query.orderByTime === 'DESC' ? 'DESC' : 'ASC' /* FIXME: make this shared with RUM_query_model */}\n          onChange={(v) => {\n            onAppliedChange({ ...query, orderByTime: v });\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection label=\"LIMIT\" fill={true}>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.limit?.toString()}\n          onChange={(limit) => {\n            onAppliedChange({ ...query, limit });\n          }}\n        />\n        <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n          SLIMIT\n        </InlineLabel>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.slimit?.toString()}\n          onChange={(slimit) => {\n            onAppliedChange({ ...query, slimit });\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection htmlFor={formatAsId} label=\"FORMAT AS\" fill={true}>\n        <FormatAsSection\n          inputId={formatAsId}\n          format={query.resultFormat ?? DEFAULT_RESULT_FORMAT}\n          onChange={(format) => {\n            onAppliedChange({ ...query, resultFormat: format });\n          }}\n        />\n        {query.resultFormat !== 'table' && (\n          <>\n            <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n              ALIAS\n            </InlineLabel>\n            <InputSection\n              isWide\n              placeholder=\"Naming pattern\"\n              value={query.alias}\n              onChange={(alias) => {\n                onAppliedChange({ ...query, alias });\n              }}\n            />\n          </>\n        )}\n      </SegmentSection>\n    </div>\n  );\n});\n\nfunction getStyles(theme: GrafanaTheme) {\n  return {\n    inlineLabel: css`\n      color: #33a2e5;\n    `,\n  };\n}\n\nRUMServiceQueryEditor.displayName = 'RUMServiceQueryEditor';\n","import { map, find, filter, indexOf, cloneDeep } from 'lodash';\nimport queryPart from './query_part';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport { RUMQuery, RUMQueryTag } from './types';\nimport { ScopedVars } from '@grafana/data';\nimport { TemplateSrv } from '@grafana/runtime';\nimport { defaultQueryInfo } from '../types';\n\nexport default class RUMQueryModel {\n  target: RUMQuery;\n  selectModels: any[] = [];\n  queryBuilder: any;\n  groupByParts: any;\n  templateSrv: any;\n  scopedVars: any;\n  refId?: string;\n\n  /** @ngInject */\n  constructor(target: RUMQuery, templateSrv?: TemplateSrv, scopedVars?: ScopedVars) {\n    this.target = target;\n    this.templateSrv = templateSrv;\n    this.scopedVars = scopedVars;\n\n    target.policy = target.policy || defaultQueryInfo.RUMServiceParams.policy;\n    target.resultFormat = target.resultFormat || defaultQueryInfo.RUMServiceParams.resultFormat;\n    target.orderByTime = target.orderByTime || defaultQueryInfo.RUMServiceParams.orderByTime;\n    target.tags = target.tags || cloneDeep(defaultQueryInfo.RUMServiceParams.tags);\n    target.groupBy = target.groupBy || cloneDeep(defaultQueryInfo.RUMServiceParams.groupBy);\n    target.select = target.select || cloneDeep(defaultQueryInfo.RUMServiceParams.select);\n\n    this.updateProjection();\n  }\n\n  updateProjection() {\n    this.selectModels = map(this.target.select, (parts: any) => {\n      return map(parts, queryPart.create);\n    });\n    this.groupByParts = map(this.target.groupBy, queryPart.create);\n  }\n\n  updatePersistedParts() {\n    this.target.select = map(this.selectModels, (selectParts) => {\n      return map(selectParts, (part: any) => {\n        return { type: part.def.type, params: part.params };\n      });\n    });\n  }\n\n  hasGroupByTime() {\n    return find(this.target.groupBy, (g: any) => g.type === 'time');\n  }\n\n  hasFill() {\n    return find(this.target.groupBy, (g: any) => g.type === 'fill');\n  }\n\n  addGroupBy(value: string) {\n    let stringParts = value.match(/^(\\w+)\\((.*)\\)$/);\n\n    if (!stringParts || !this.target.groupBy) {\n      return;\n    }\n\n    const typePart = stringParts[1];\n    const arg = stringParts[2];\n    const partModel = queryPart.create({ type: typePart, params: [arg] });\n    const partCount = this.target.groupBy.length;\n\n    if (partCount === 0) {\n      this.target.groupBy.push(partModel.part);\n    } else if (typePart === 'time') {\n      this.target.groupBy.splice(0, 0, partModel.part);\n    } else if (typePart === 'tag') {\n      if (this.target.groupBy[partCount - 1].type === 'fill') {\n        this.target.groupBy.splice(partCount - 1, 0, partModel.part);\n      } else {\n        this.target.groupBy.push(partModel.part);\n      }\n    } else {\n      this.target.groupBy.push(partModel.part);\n    }\n\n    this.updateProjection();\n  }\n\n  removeGroupByPart(part: { def: { type: string } }, index: number) {\n    const categories = queryPart.getCategories();\n\n    if (part.def.type === 'time') {\n      // remove fill\n      this.target.groupBy = filter(this.target.groupBy, (g: any) => g.type !== 'fill');\n      // remove aggregations\n      this.target.select = map(this.target.select, (s: any) => {\n        return filter(s, (part: any) => {\n          const partModel = queryPart.create(part);\n          if (partModel.def.category === categories.Aggregations) {\n            return false;\n          }\n          if (partModel.def.category === categories.Selectors) {\n            return false;\n          }\n          return true;\n        });\n      });\n    }\n\n    this.target.groupBy!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelect(index: number) {\n    this.target.select!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelectPart(selectParts: any[], part: any) {\n    // if we remove the field remove the whole statement\n    if (part.def.type === 'field') {\n      if (this.selectModels.length > 1) {\n        const modelsIndex = indexOf(this.selectModels, selectParts);\n        this.selectModels.splice(modelsIndex, 1);\n      }\n    } else {\n      const partIndex = indexOf(selectParts, part);\n      selectParts.splice(partIndex, 1);\n    }\n\n    this.updatePersistedParts();\n  }\n\n  addSelectPart(selectParts: any[], type: string) {\n    const partModel = queryPart.create({ type: type });\n    partModel.def.addStrategy(selectParts, partModel, this);\n    this.updatePersistedParts();\n  }\n\n  getMeasurementAndPolicy(interpolate: any) {\n    let policy = this.target.policy;\n    let measurement = this.target.measurement || 'measurement';\n\n    if (!measurement.match('^/.*/$')) {\n      measurement = '\"' + measurement + '\"';\n    } else if (interpolate) {\n      measurement = this.templateSrv.replace(measurement, this.scopedVars, 'regex');\n    }\n\n    if (policy !== 'default') {\n      policy = '\"' + this.target.policy + '\".';\n    } else {\n      policy = '';\n    }\n\n    return policy + measurement;\n  }\n\n  interpolateQueryStr(value: any[], variable: { multi: any; includeAll: any }, defaultFormatFn: any) {\n    // if no multi or include all do not regexEscape\n    if (!variable.multi && !variable.includeAll) {\n      return value;\n    }\n\n    if (typeof value === 'string') {\n      return kbn.regexEscape(value);\n    }\n\n    const escapedValues = map(value, kbn.regexEscape);\n    return '(' + escapedValues.join('|') + ')';\n  }\n\n  render(interpolate?: boolean) {\n    const target = this.target;\n\n    if (target.rawQuery) {\n      if (interpolate) {\n        return this.templateSrv.replace(target.query, this.scopedVars, this.interpolateQueryStr);\n      } else {\n        return target.query;\n      }\n    }\n\n    let query = 'select ';\n    let i;\n    let y;\n    for (i = 0; i < this.selectModels.length; i++) {\n      const parts = this.selectModels[i];\n      let selectText = '';\n      for (y = 0; y < parts.length; y++) {\n        const part = parts[y];\n        selectText = part.render(selectText);\n      }\n\n      if (i > 0) {\n        query += ', ';\n      }\n      query += selectText;\n    }\n\n    query += ' from ' + this.getMeasurementAndPolicy(interpolate) + ' where ';\n    const conditions = map(target.tags, (tag, index) => {\n      return this.renderTagCondition(tag, index, interpolate);\n    });\n\n    if (conditions.length > 0) {\n      query += '(' + conditions.join(' ') + ') and ';\n    }\n\n    query += '$timeFilter';\n\n    let groupBySection = '';\n    for (i = 0; i < this.groupByParts.length; i++) {\n      const part = this.groupByParts[i];\n      if (i > 0) {\n        // for some reason fill has no separator\n        groupBySection += part.def.type === 'fill' ? ' ' : ', ';\n      }\n      groupBySection += part.render('');\n    }\n\n    if (groupBySection.length) {\n      query += ' group by ' + groupBySection;\n    }\n\n    if (target.fill) {\n      query += ' fill(' + target.fill + ')';\n    }\n\n    if (target.orderByTime === 'DESC') {\n      query += ' order by time desc';\n    }\n\n    if (target.limit) {\n      query += ' limit ' + target.limit;\n    }\n\n    if (target.slimit) {\n      query += ' slimit ' + target.slimit;\n    }\n\n    if (target.tz) {\n      query += \" tz('\" + target.tz + \"')\";\n    }\n\n    return query;\n  }\n\n  renderAdhocFilters(filters: any[]) {\n    const conditions = map(filters, (tag, index) => {\n      return this.renderTagCondition(tag, index, true);\n    });\n    return conditions.join(' ');\n  }\n\n  private renderTagCondition(tag: RUMQueryTag, index: number, interpolate?: boolean) {\n    // FIXME: merge this function with query_builder/renderTagCondition\n    let str = '';\n    let operator = tag.operator;\n    let value = tag.value;\n    if (index > 0) {\n      str = (tag.condition.toLowerCase() || 'and') + ' ';\n    }\n\n    if (!operator) {\n      if (/^\\/.*\\/$/.test(value)) {\n        operator = '=~';\n      } else {\n        operator = '=';\n      }\n    }\n\n    // quote value unless regex\n    if (operator !== '=~' && operator !== '!~') {\n      if (interpolate) {\n        value = this.templateSrv.replace(value, this.scopedVars);\n      }\n      if (operator !== '>' && operator !== '<') {\n        value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n      }\n    } else if (interpolate) {\n      value = this.templateSrv.replace(value, this.scopedVars, 'regex');\n    }\n\n    return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n  }\n}\n","import { each, map, includes, flatten, keys } from 'lodash';\nimport TableModel from 'grafana/app/core/table_model';\nimport { FieldType, QueryResultMeta, TimeSeries, TableData } from '@grafana/data';\n\nexport default class RUMSeries {\n  refId?: string;\n  series: any;\n  alias: any;\n  annotation: any;\n  meta?: QueryResultMeta;\n\n  constructor(options: { series: any; alias?: any; annotation?: any; meta?: QueryResultMeta; refId?: string }) {\n    this.series = options.series;\n    this.alias = options.alias;\n    this.annotation = options.annotation;\n    this.meta = options.meta;\n    this.refId = options.refId;\n  }\n\n  getTimeSeries(): TimeSeries[] {\n    const output: TimeSeries[] = [];\n    let i;\n    let j;\n\n    if (this.series.length === 0) {\n      return output;\n    }\n\n    each(this.series, (series) => {\n      const columns = series.columns.length;\n      const tags = map(series.tags, (value, key) => {\n        return key + ': ' + value;\n      });\n\n      for (j = 1; j < columns; j++) {\n        let seriesName = series.name;\n        const columnName = series.columns[j];\n        if (columnName !== 'value') {\n          seriesName = seriesName + '.' + columnName;\n        }\n\n        if (this.alias) {\n          seriesName = this._getSeriesName(series, j);\n        } else if (series.tags) {\n          seriesName = seriesName + ' {' + tags.join(', ') + '}';\n        }\n\n        const datapoints = [];\n        if (series.values) {\n          for (i = 0; i < series.values.length; i++) {\n            datapoints[i] = [series.values[i][j], series.values[i][0]];\n          }\n        }\n\n        output.push({\n          title: seriesName,\n          target: seriesName,\n          datapoints: datapoints,\n          tags: series.tags,\n          meta: this.meta,\n          refId: this.refId,\n        });\n      }\n    });\n\n    return output;\n  }\n\n  _getSeriesName(series: any, index: number) {\n    const regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\n    const segments = series.name.split('.');\n\n    return this.alias.replace(regex, (match: any, g1: any, g2: any) => {\n      const group = g1 || g2;\n      const segIndex = parseInt(group, 10);\n\n      if (group === 'm' || group === 'measurement') {\n        return series.name;\n      }\n      if (group === 'col') {\n        return series.columns[index];\n      }\n      if (!isNaN(segIndex)) {\n        return segments[segIndex] ?? match;\n      }\n      if (group.indexOf('tag_') !== 0) {\n        return match;\n      }\n\n      const tag = group.replace('tag_', '');\n      if (!series.tags) {\n        return match;\n      }\n      return series.tags[tag];\n    });\n  }\n\n  getAnnotations() {\n    const list: any[] = [];\n\n    each(this.series, (series) => {\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(series.columns, (column, index) => {\n        if (column === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column === 'sequence_number') {\n          return;\n        }\n        if (column === this.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (includes((this.annotation.tagsColumn || '').replace(' ', '').split(','), column)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column === this.annotation.textColumn) {\n          textCol = index;\n          return;\n        }\n        if (column === this.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(series.values, (value) => {\n        const data = {\n          annotation: this.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n    });\n\n    return list;\n  }\n\n  getTable(): TableData {\n    const table = new TableModel();\n    let i;\n    let j;\n\n    // @ts-ignore\n    table.refId = this.refId;\n    // @ts-ignore\n    table.meta = this.meta;\n\n    if (this.series.length === 0) {\n      return table;\n    }\n\n    // the order is:\n    // - first the first item from the value-array (this is often (always?) the timestamp)\n    // - then all the tag-values\n    // - then the rest of the value-array\n    //\n    // we have to keep this order both in table.columns and table.rows\n\n    each(this.series, (series: any, seriesIndex: number) => {\n      if (seriesIndex === 0) {\n        const firstCol = series.columns[0];\n        // Check the first column's name, if it is `time`, we\n        // mark it as having the type time\n        const firstTableCol = firstCol === 'time' ? { text: 'Time', type: FieldType.time } : { text: firstCol };\n        table.columns.push(firstTableCol);\n        each(keys(series.tags), (key) => {\n          table.columns.push({ text: key });\n        });\n        for (j = 1; j < series.columns.length; j++) {\n          table.columns.push({ text: series.columns[j] });\n        }\n      }\n\n      if (series.values) {\n        for (i = 0; i < series.values.length; i++) {\n          const values = series.values[i];\n          const reordered = [values[0]];\n          if (series.tags) {\n            for (const key in series.tags) {\n              if (series.tags.hasOwnProperty(key)) {\n                reordered.push(series.tags[key]);\n              }\n            }\n          }\n          for (j = 1; j < values.length; j++) {\n            reordered.push(values[j]);\n          }\n          table.rows.push(reordered);\n        }\n      }\n    });\n\n    return table;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\nimport { ResultFormat } from '../types';\n\nexport const RESULT_FORMATS: Array<SelectableValue<ResultFormat>> = [\n  { label: 'Time series', value: 'time_series' },\n  { label: 'Table', value: 'table' },\n  { label: 'Logs', value: 'logs' },\n];\n\nexport const DEFAULT_RESULT_FORMAT: ResultFormat = 'time_series';\n\nexport const ENABLE_MEASUREMENTS: Array<string> = [\n  'log_url_statistics',\n  'event_url_statistics',\n  'pv_url_statistics',\n  'user_event_user_event_unique',\n  'uv_project_unique',\n  'uv_page_unique',\n  'custom_url_info',\n  'custom_url_statistics',\n  'fetch_url_info',\n  'fetch_url_statistics',\n  'fetch_project_statistics',\n  'set_data_url_statistics',\n  'performance_page_statistics',\n  'performance_project_statistics',\n  'static_url_source',\n  'static_resource_statistics',\n  'static_project_statistics',\n  'webvitals_page_statistics',\n  'webvitals_project_statistics',\n];\n","import { RUMQuery, RUMQueryPart } from '../types';\nimport { SelectableValue } from '@grafana/data';\nimport { PartParams } from '../components/PartListSection';\nimport RUMQueryModel from '../RUM_query_model';\nimport { unwrap } from './unwrap';\nimport queryPart, { QueryPartDef } from '../query_part';\nimport { toSelectableValue } from './toSelectableValue';\n\ntype Categories = Record<string, QueryPartDef[]>;\n\nexport function getNewSelectPartOptions(): SelectableValue[] {\n  const categories: Categories = queryPart.getCategories();\n  const options: SelectableValue[] = [];\n\n  const keys = Object.keys(categories);\n\n  keys.forEach((key) => {\n    const children: SelectableValue[] = categories[key].map((x) => toSelectableValue(x.type));\n\n    options.push({\n      label: key,\n      options: children,\n    });\n  });\n\n  return options;\n}\n\nexport async function getNewGroupByPartOptions(\n  query: RUMQuery,\n  getTagKeys: () => Promise<string[]>\n): Promise<Array<SelectableValue<string>>> {\n  const tagKeys = await getTagKeys();\n  const queryCopy = { ...query }; // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  const options: Array<SelectableValue<string>> = [];\n  if (!model.hasFill()) {\n    options.push(toSelectableValue('fill(null)'));\n  }\n  if (!model.hasGroupByTime()) {\n    options.push(toSelectableValue('time($interval)'));\n  }\n  tagKeys.forEach((key) => {\n    options.push(toSelectableValue(`tag(${key})`));\n  });\n  return options;\n}\n\ninterface Part {\n  name: string;\n  params: PartParams;\n}\n\nfunction getPartParams(part: RUMQueryPart, dynamicParamOptions: Map<string, () => Promise<string[]>>): PartParams {\n  // NOTE: the way the system is constructed,\n  // there always can only be one possible dynamic-lookup\n  // field. in case of select it is the field,\n  // in case of group-by it is the tag\n  const def = queryPart.create(part).def;\n\n  // we switch the numbers to strings, it will work that way too,\n  // and it makes the code simpler\n  const paramValues = (part.params ?? []).map((p) => p.toString());\n\n  if (paramValues.length !== def.params.length) {\n    throw new Error('Invalid query-segment');\n  }\n\n  return paramValues.map((val, index) => {\n    const defParam = def.params[index];\n    if (defParam.dynamicLookup) {\n      return {\n        value: val,\n        options: unwrap(dynamicParamOptions.get(`${def.type}_${index}`)),\n      };\n    }\n\n    if (defParam.options !== null || defParam.options !== undefined) {\n      return {\n        value: val,\n        options: () => Promise.resolve(defParam.options),\n      };\n    }\n\n    return {\n      value: val,\n      options: null,\n    };\n  });\n}\n\nexport function makePartList(\n  queryParts: RUMQueryPart[],\n  dynamicParamOptions: Map<string, () => Promise<string[]>>\n): Part[] {\n  return queryParts.map((qp) => {\n    return {\n      name: qp.type,\n      params: getPartParams(qp, dynamicParamOptions),\n    };\n  });\n}\n","import { RUMQueryTag } from '../types';\n\nfunction isRegex(text: string): boolean {\n  return /^\\/.*\\/$/.test(text);\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in rum_query_model.ts\nexport function getOperator(tag: RUMQueryTag): string {\n  return tag.operator ?? (isRegex(tag.value) ? '=~' : '=');\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in rum_query_model.ts\nexport function getCondition(tag: RUMQueryTag, isFirst: boolean): string | undefined {\n  return isFirst ? undefined : tag.condition ?? 'AND';\n}\n\nexport function adjustOperatorIfNeeded(currentOperator: string, newTagValue: string): string {\n  const isCurrentOperatorRegex = currentOperator === '=~' || currentOperator === '!~';\n  const isNewTagValueRegex = isRegex(newTagValue);\n\n  if (isNewTagValueRegex) {\n    return isCurrentOperatorRegex ? currentOperator : '=~';\n  } else {\n    return isCurrentOperatorRegex ? '=' : currentOperator;\n  }\n}\n","import { SelectableValue } from '@grafana/data';\n\nexport function toSelectableValue<T extends string>(t: T): SelectableValue<T> {\n  return { label: t, value: t };\n}\n","export function unwrap<T>(value: T | null | undefined): T {\n  if (value === null) {\n    throw new Error('value must not be nullish');\n  }\n  return value;\n}\n","import { useState, useEffect } from 'react';\nimport { usePrevious } from 'react-use';\n\nexport function useShadowedState<T>(outsideVal: T): [T, (newVal: T) => void] {\n  const [currentVal, setCurrentVal] = useState(outsideVal);\n  const prevOutsideVal = usePrevious(outsideVal);\n\n  useEffect(() => {\n    const isOutsideValChanged = prevOutsideVal !== outsideVal;\n    // if the value changes from the outside, we accept it into the state\n    // (we only set it if it is different from the current value)\n    if (isOutsideValChanged && currentVal !== outsideVal) {\n      setCurrentVal(outsideVal);\n    }\n  }, [outsideVal, currentVal, prevOutsideVal]);\n\n  return [currentVal, setCurrentVal];\n}\n","import { useRef } from 'react';\nimport { uniqueId } from 'lodash';\n\nexport function useUniqueId(): string {\n  // we need to lazy-init this ref.\n  // otherwise we would call `uniqueId`\n  // on every render. unfortunately\n  // useRef does not have lazy-init builtin,\n  // like useState does. we do it manually.\n  const idRefLazy = useRef<string | null>(null);\n\n  if (idRefLazy.current === null) {\n    idRefLazy.current = uniqueId();\n  }\n\n  return idRefLazy.current;\n}\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\n\ninterface Props {\n  loadOptions: () => Promise<SelectableValue[]>;\n  allowCustomValue?: boolean;\n  onAdd: (v: string) => void;\n}\n\nexport const AddButton = ({ loadOptions, allowCustomValue, onAdd }: Props): JSX.Element => {\n  return (\n    <Seg\n      value=\"+\"\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={(v) => {\n        onAdd(unwrap(v.value));\n      }}\n    />\n  );\n};\n","import { Select } from '@grafana/ui';\nimport { cx } from 'emotion';\nimport { ResultFormat } from '../types';\nimport React from 'react';\nimport { unwrap } from '../common/unwrap';\nimport { RESULT_FORMATS } from '../common/constants';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  inputId?: string;\n  format: ResultFormat;\n  onChange: (newFormat: ResultFormat) => void;\n}\n\nconst className = cx('width-8', paddingRightClass);\n\nexport const FormatAsSection = ({ format, inputId, onChange }: Props): JSX.Element => {\n  return (\n    <Select<ResultFormat>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={format}\n      options={RESULT_FORMATS}\n    />\n  );\n};\n","import React from 'react';\nimport { Seg } from './Seg';\nimport { toSelectableValue } from '../common/toSelectableValue';\n\nconst DEFAULT_POLICY = 'default';\n\ninterface Props {\n  onChange: (policy: string | undefined, measurement: string | undefined) => void;\n  policy: string | undefined;\n  measurement: string | undefined;\n  getPolicyOptions: () => Promise<string[]>;\n  getMeasurementOptions: (filter: string) => Promise<string[]>;\n}\n\nexport const FromSection = ({\n  policy,\n  measurement,\n  onChange,\n  getPolicyOptions,\n  getMeasurementOptions,\n}: Props): JSX.Element => {\n  const handlePolicyLoadOptions = async () => {\n    const allPolicies = await getPolicyOptions();\n    // if `default` does not exist in the list of policies, we add it\n    const allPoliciesWithDefault = allPolicies.some((p) => p === 'default')\n      ? allPolicies\n      : [DEFAULT_POLICY, ...allPolicies];\n\n    return allPoliciesWithDefault.map(toSelectableValue);\n  };\n\n  const handleMeasurementLoadOptions = async (filter: string) => {\n    const allMeasurements = await getMeasurementOptions(filter);\n    return allMeasurements.map(toSelectableValue);\n  };\n\n  return (\n    <>\n      <Seg\n        allowCustomValue\n        value={policy ?? 'using default policy'}\n        loadOptions={handlePolicyLoadOptions}\n        onChange={(v) => {\n          onChange(v.value, measurement);\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={measurement ?? 'select measurement'}\n        loadOptions={handleMeasurementLoadOptions}\n        filterByLoadOptions\n        onChange={(v) => {\n          onChange(policy, v.value);\n        }}\n      />\n    </>\n  );\n};\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  value: string | undefined;\n  onChange: (value: string | undefined) => void;\n  isWide?: boolean;\n  placeholder?: string;\n}\n\nexport const InputSection = ({ value, onChange, isWide, placeholder }: Props): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(value);\n\n  const onBlur = () => {\n    // we send empty-string as undefined\n    const newValue = currentValue === '' ? undefined : currentValue;\n    onChange(newValue);\n  };\n\n  return (\n    <Input\n      placeholder={placeholder}\n      className={cx(isWide ?? false ? 'width-14' : 'width-8', paddingRightClass)}\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onBlur}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue ?? ''}\n    />\n  );\n};\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { unwrap } from '../common/unwrap';\nimport { Select } from '@grafana/ui';\nimport { paddingRightClass } from './styles';\n\ntype Mode = 'ASC' | 'DESC';\n\nconst OPTIONS: Array<SelectableValue<Mode>> = [\n  { label: 'ascending', value: 'ASC' },\n  { label: 'descending', value: 'DESC' },\n];\n\nconst className = cx('width-9', paddingRightClass);\n\ninterface Props {\n  value: Mode;\n  onChange: (value: Mode) => void;\n  inputId?: string;\n}\n\nexport const OrderByTimeSection = ({ value, onChange, inputId }: Props): JSX.Element => {\n  return (\n    <Select<Mode>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={value}\n      options={OPTIONS}\n    />\n  );\n};\n","import React, { useMemo } from 'react';\nimport { cx, css } from 'emotion';\nimport { WithContextMenu, useTheme } from '@grafana/ui';\nimport { SelectableValue, GrafanaTheme } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { AddButton } from './AddButton';\n\nexport type PartParams = Array<{\n  value: string;\n  options: (() => Promise<string[]>) | null;\n}>;\n\ninterface Props {\n  parts: Array<{\n    name: string;\n    params: PartParams;\n  }>;\n  getNewPartOptions: () => Promise<SelectableValue[]>;\n  onChange: (partIndex: number, paramValues: string[]) => void;\n  onRemovePart: (index: number) => void;\n  onAddNewPart: (type: string) => void;\n}\n\nconst renderRemovableNameMenuItems = (onClick: () => void) => {\n  return [{ items: [{ label: 'remove', onClick }] }];\n};\n\nconst noRightMarginPaddingClass = css({\n  paddingRight: '0',\n  marginRight: '0',\n});\n\nconst RemovableName = ({ name, onRemove }: { name: string; onRemove: () => void }) => {\n  return (\n    <WithContextMenu getContextMenuItems={() => renderRemovableNameMenuItems(onRemove)}>\n      {({ openMenu }) => (\n        <button className={cx('gf-form-label', noRightMarginPaddingClass)} onClick={openMenu}>\n          {name}\n        </button>\n      )}\n    </WithContextMenu>\n  );\n};\n\ninterface PartProps {\n  name: string;\n  params: PartParams;\n  onRemove: () => void;\n  onChange: (paramValues: string[]) => void;\n}\n\nconst noHorizMarginPaddingClass = css({\n  paddingLeft: '0',\n  paddingRight: '0',\n  marginLeft: '0',\n  marginRight: '0',\n});\n\nconst getPartClass = (theme: GrafanaTheme) => {\n  return cx(\n    'gf-form-label',\n    css({\n      paddingLeft: '0',\n      // gf-form-label class makes certain css attributes incorrect\n      // for the selectbox-dropdown, so we have to \"reset\" them back\n      lineHeight: theme.typography.lineHeight.md,\n      fontSize: theme.typography.size.base,\n    })\n  );\n};\n\nconst Part = ({ name, params, onChange, onRemove }: PartProps): JSX.Element => {\n  const theme = useTheme();\n  const partClass = useMemo(() => getPartClass(theme), [theme]);\n\n  const onParamChange = (par: string, i: number) => {\n    const newParams = params.map((p) => p.value);\n    newParams[i] = par;\n    onChange(newParams);\n  };\n\n  return (\n    <div className={partClass}>\n      <RemovableName name={name} onRemove={onRemove} />(\n      {params.map((p, i) => {\n        const { value, options } = p;\n        const isLast = i === params.length - 1;\n        const loadOptions =\n          options !== null ? () => options().then((items) => items.map(toSelectableValue)) : undefined;\n        return (\n          <React.Fragment key={i}>\n            <Seg\n              allowCustomValue\n              value={value}\n              buttonClassName={noHorizMarginPaddingClass}\n              loadOptions={loadOptions}\n              onChange={(v) => {\n                onParamChange(unwrap(v.value), i);\n              }}\n            />\n            {!isLast && ','}\n          </React.Fragment>\n        );\n      })}\n      )\n    </div>\n  );\n};\n\nexport const PartListSection = ({\n  parts,\n  getNewPartOptions,\n  onAddNewPart,\n  onRemovePart,\n  onChange,\n}: Props): JSX.Element => {\n  return (\n    <>\n      {parts.map((part, index) => (\n        <Part\n          key={index}\n          name={part.name}\n          params={part.params}\n          onRemove={() => {\n            onRemovePart(index);\n          }}\n          onChange={(pars) => {\n            onChange(index, pars);\n          }}\n        />\n      ))}\n      <AddButton loadOptions={getNewPartOptions} onAdd={onAddNewPart} />\n    </>\n  );\n};\n","import React, { useState, useEffect } from 'react';\nimport { cx, css } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { useAsyncFn } from 'react-use';\nimport { InlineLabel, Select, AsyncSelect, Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\n\n// this file is a simpler version of `grafana-ui / SegmentAsync.tsx`\n// with some changes:\n// 1. click-outside does not select the value. i think it's better to be explicit here.\n// 2. we set a min-width on the select-element to handle cases where the `value`\n//    is very short, like \"x\", and then you click on it and the select opens,\n//    and it tries to be as short as \"x\" and it does not work well.\n\n// NOTE: maybe these changes could be migrated into the SegmentAsync later\n\ntype SelVal = SelectableValue<string>;\n\n// when allowCustomValue is true, there is no way to enforce the selectableValue\n// enum-type, so i just go with `string`\n\ntype LoadOptions = (filter: string) => Promise<SelVal[]>;\n\ninterface Props {\n  value: string;\n  buttonClassName?: string;\n  loadOptions?: LoadOptions;\n  // if filterByLoadOptions is false,\n  // loadOptions is only executed once,\n  // when the select-box opens,\n  // and as you write, the list gets filtered\n  // by the select-box.\n  // if filterByLoadOptions is true,\n  // as you write the loadOptions is executed again and again,\n  // and it is relied on to filter the results.\n  filterByLoadOptions?: boolean;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n  disabled?: boolean;\n}\n\nconst selectClass = css({\n  minWidth: '160px',\n});\n\ninterface SelProps {\n  loadOptions: LoadOptions;\n  filterByLoadOptions?: boolean;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\ninterface SelReloadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\n// when a custom value is written into a select-box,\n// by default the new value is prefixed with \"Create:\",\n// and that sounds confusing because here we do not create\n// anything. we change this to just be the entered string.\nconst formatCreateLabel = (v: string) => v;\n\nconst SelReload = ({ loadOptions, allowCustomValue, onChange, onClose }: SelReloadProps): JSX.Element => {\n  // here we rely on the fact that writing text into the <AsyncSelect/>\n  // does not cause a re-render of the current react component.\n  // this way there is only a single render-call,\n  // so there is only a single `debouncedLoadOptions`.\n  // if we want ot make this \"re-render safe,\n  // we will have to put the debounced call into an useRef,\n  // and probably have an useEffect\n  // const debouncedLoadOptions = debouncePromise(loadOptions, 1000, { leading: true });\n  return (\n    <div className={selectClass}>\n      <AsyncSelect\n        formatCreateLabel={formatCreateLabel}\n        defaultOptions\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        loadOptions={loadOptions}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\ninterface SelSingleLoadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\nconst SelSingleLoad = ({ loadOptions, allowCustomValue, onChange, onClose }: SelSingleLoadProps): JSX.Element => {\n  const [loadState, doLoad] = useAsyncFn(loadOptions, [loadOptions]);\n\n  useEffect(() => {\n    doLoad('');\n  }, [doLoad, loadOptions]);\n\n  return (\n    <div className={selectClass}>\n      <Select\n        isLoading={loadState.loading}\n        formatCreateLabel={formatCreateLabel}\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        options={loadState.value ?? []}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nconst Sel = ({ loadOptions, filterByLoadOptions, allowCustomValue, onChange, onClose }: SelProps): JSX.Element => {\n  // unfortunately <Segment/> and <SegmentAsync/> have somewhat different behavior,\n  // so the simplest approach was to just create two separate wrapper-components\n  return filterByLoadOptions ? (\n    <SelReload loadOptions={loadOptions} allowCustomValue={allowCustomValue} onChange={onChange} onClose={onClose} />\n  ) : (\n    <SelSingleLoad\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={onChange}\n      onClose={onClose}\n    />\n  );\n};\n\ninterface InpProps {\n  initialValue: string;\n  onChange: (newVal: string) => void;\n  onClose: () => void;\n}\n\nconst Inp = ({ initialValue, onChange, onClose }: InpProps): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(initialValue);\n\n  return (\n    <Input\n      autoFocus\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onClose}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          onChange(currentValue);\n        }\n      }}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue}\n    />\n  );\n};\n\nconst defaultButtonClass = css({\n  width: 'auto',\n  cursor: 'pointer',\n});\n\nexport const Seg = ({\n  value,\n  buttonClassName,\n  loadOptions,\n  filterByLoadOptions,\n  allowCustomValue,\n  onChange,\n  disabled,\n}: Props): JSX.Element => {\n  const [isOpen, setOpen] = useState(false);\n  if (!isOpen) {\n    const className = cx(defaultButtonClass, buttonClassName);\n    return (\n      <InlineLabel\n        as=\"button\"\n        className={className}\n        onClick={() => {\n          setOpen(!disabled);\n        }}\n      >\n        {value}\n      </InlineLabel>\n    );\n  } else {\n    if (loadOptions !== undefined) {\n      return (\n        <Sel\n          loadOptions={loadOptions}\n          filterByLoadOptions={filterByLoadOptions ?? false}\n          allowCustomValue={allowCustomValue}\n          onChange={(v) => {\n            setOpen(false);\n            onChange(v);\n          }}\n          onClose={() => {\n            setOpen(false);\n          }}\n        />\n      );\n    } else {\n      return (\n        <Inp\n          initialValue={value}\n          onClose={() => {\n            setOpen(false);\n          }}\n          onChange={(v) => {\n            setOpen(false);\n            onChange({ value: v, label: v });\n          }}\n        />\n      );\n    }\n  }\n};\n","import React from 'react';\nimport { css } from 'emotion';\nimport { GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles, InlineFieldRow } from '@grafana/ui';\n\n/**\n * Horizontal section for editor components.\n *\n * @alpha\n */\nexport const SegmentSection = ({\n  label,\n  htmlFor,\n  children,\n  fill,\n}: {\n  // Name of the section\n  label: string;\n  // htmlFor for the label\n  htmlFor?: string;\n  // List of components in the section\n  children: React.ReactNode;\n  // Fill the space at the end\n  fill?: boolean;\n}) => {\n  const styles = useStyles(getStyles);\n  return (\n    <InlineFieldRow>\n      <InlineLabel htmlFor={htmlFor} width={12} className={styles.label}>\n        {label}\n      </InlineLabel>\n      {children}\n      {fill && (\n        <div className={styles.fill}>\n          <InlineLabel> </InlineLabel>\n        </div>\n      )}\n    </InlineFieldRow>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme) => ({\n  label: css`\n    color: #33a2e5;\n  `,\n  fill: css`\n    flex-grow: 1;\n    margin-bottom: ${theme.spacing.inlineFormMargin};\n  `,\n});\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { RUMQueryTag } from '../types';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { adjustOperatorIfNeeded, getCondition, getOperator } from '../common/tagUtils';\nimport { AddButton } from './AddButton';\n\ntype KnownOperator = '=' | '!=' | '<>' | '<' | '>' | '=~' | '!~';\nconst knownOperators: KnownOperator[] = ['=', '!=', '<>', '<', '>', '=~', '!~'];\n\ntype KnownCondition = 'AND' | 'OR';\nconst knownConditions: KnownCondition[] = ['AND', 'OR'];\n\nconst operatorOptions: Array<SelectableValue<KnownOperator>> = knownOperators.map(toSelectableValue);\nconst condititonOptions: Array<SelectableValue<KnownCondition>> = knownConditions.map(toSelectableValue);\n\ninterface Props {\n  tags: RUMQueryTag[];\n  onChange: (tags: RUMQueryTag[]) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\ninterface TagProps {\n  tag: RUMQueryTag;\n  isFirst: boolean;\n  onRemove: () => void;\n  onChange: (tag: RUMQueryTag) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\nconst loadConditionOptions = () => Promise.resolve(condititonOptions);\n\nconst loadOperatorOptions = () => Promise.resolve(operatorOptions);\n\nconst Tag = ({ tag, isFirst, onRemove, onChange, getTagKeyOptions, getTagValueOptions }: TagProps): JSX.Element => {\n  const operator = getOperator(tag);\n  const condition = getCondition(tag, isFirst);\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions()\n      .catch((err) => {\n        // in this UI element we add a special item to the list of options,\n        // that is used to remove the element.\n        // this causes a problem: if `getTagKeyOptions` fails with an error,\n        // the remove-filter option is never added to the list,\n        // and the UI element can not be removed.\n        // to avoid it, we catch any potential errors coming from `getTagKeyOptions`,\n        // log the error, and pretend that the list of options is an empty list.\n        // this way the remove-item option can always be added to the list.\n        console.error(err);\n        return [];\n      })\n      .then((tags) => [{ label: '-- remove filter --', value: undefined }, ...tags.map(toSelectableValue)]);\n  };\n\n  const getTagValueSegmentOptions = () => {\n    return getTagValueOptions(tag.key).then((tags) => tags.map(toSelectableValue));\n  };\n\n  return (\n    <div className=\"gf-form\">\n      {condition !== undefined && (\n        <Seg\n          value={condition}\n          loadOptions={loadConditionOptions}\n          disabled\n          onChange={(v) => {\n            onChange({ ...tag, condition: v.value });\n          }}\n        />\n      )}\n      <Seg\n        allowCustomValue\n        value={tag.key}\n        loadOptions={getTagKeySegmentOptions}\n        onChange={(v) => {\n          const { value } = v;\n          if (value === undefined) {\n            onRemove();\n          } else {\n            onChange({ ...tag, key: value ?? '' });\n          }\n        }}\n      />\n      <Seg\n        value={operator}\n        loadOptions={loadOperatorOptions}\n        onChange={(op) => {\n          onChange({ ...tag, operator: op.value });\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={tag.value}\n        loadOptions={getTagValueSegmentOptions}\n        onChange={(v) => {\n          const value = v.value ?? '';\n          onChange({ ...tag, value, operator: adjustOperatorIfNeeded(operator, value) });\n        }}\n      />\n    </div>\n  );\n};\n\nexport const TagsSection = ({ tags, onChange, getTagKeyOptions, getTagValueOptions }: Props): JSX.Element => {\n  const onTagChange = (newTag: RUMQueryTag, index: number) => {\n    const newTags = tags.map((tag, i) => {\n      return index === i ? newTag : tag;\n    });\n    onChange(newTags);\n  };\n\n  const onTagRemove = (index: number) => {\n    const newTags = tags.filter((t, i) => i !== index);\n    onChange(newTags);\n  };\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions().then((tags) => tags.map(toSelectableValue));\n  };\n\n  const addNewTag = (tagKey: string, isFirst: boolean) => {\n    const minimalTag: RUMQueryTag = {\n      key: tagKey,\n      value: 'select tag value',\n    };\n\n    const newTag: RUMQueryTag = {\n      key: minimalTag.key,\n      value: minimalTag.value,\n      operator: getOperator(minimalTag),\n      condition: getCondition(minimalTag, isFirst),\n    };\n\n    onChange([...tags, newTag]);\n  };\n\n  return (\n    <>\n      {tags.map((t, i) => (\n        <Tag\n          tag={t}\n          isFirst={i === 0}\n          key={i}\n          onChange={(newT) => {\n            onTagChange(newT, i);\n          }}\n          onRemove={() => {\n            onTagRemove(i);\n          }}\n          getTagKeyOptions={getTagKeyOptions}\n          getTagValueOptions={getTagValueOptions}\n        />\n      ))}\n      <AddButton\n        allowCustomValue\n        loadOptions={getTagKeySegmentOptions}\n        onAdd={(v) => {\n          addNewTag(v, tags.length === 0);\n        }}\n      />\n    </>\n  );\n};\n","import { css } from 'emotion';\n\nexport const paddingRightClass = css({\n  paddingRight: '4px',\n});\n","import { cloneDeep } from 'lodash';\nimport RUMQueryModel from './RUM_query_model';\nimport { RUMQuery } from './types';\n\nexport function normalizeQuery(query: RUMQuery): RUMQuery {\n  // we return the original query if there is no need to update it\n  if (\n    query.policy !== undefined &&\n    query.resultFormat !== undefined &&\n    query.orderByTime !== undefined &&\n    query.tags !== undefined &&\n    query.groupBy !== undefined &&\n    query.select !== undefined\n  ) {\n    return query;\n  }\n\n  // FIXME: we should move the whole normalizeQuery logic here,\n  // and then have RUMQueryModel call this function,\n  // to concentrate the whole logic here\n\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  return new RUMQueryModel(queryCopy).target;\n}\n\nexport function addNewSelectPart(query: RUMQuery, type: string, index: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.addSelectPart(model.selectModels[index], type);\n  return model.target;\n}\n\nexport function removeSelectPart(query: RUMQuery, partIndex: number, index: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  const selectModel = model.selectModels[index];\n  model.removeSelectPart(selectModel, selectModel[partIndex]);\n  return model.target;\n}\n\nexport function changeSelectPart(query: RUMQuery, listIndex: number, partIndex: number, newParams: string[]): RUMQuery {\n  // we need to make shallow copy of `query.select` down to `query.select[listIndex][partIndex]`\n  const newSel = [...(query.select ?? [])];\n  newSel[listIndex] = [...newSel[listIndex]];\n  newSel[listIndex][partIndex] = {\n    ...newSel[listIndex][partIndex],\n    params: newParams,\n  };\n  return { ...query, select: newSel };\n}\n\nexport function addNewGroupByPart(query: RUMQuery, type: string): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.addGroupBy(type);\n  return model.target;\n}\n\nexport function removeGroupByPart(query: RUMQuery, partIndex: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.removeGroupByPart(model.groupByParts[partIndex], partIndex);\n  return model.target;\n}\n\nexport function changeGroupByPart(query: RUMQuery, partIndex: number, newParams: string[]): RUMQuery {\n  // we need to make shallow copy of `query.groupBy` down to `query.groupBy[partIndex]`\n  const newGroupBy = [...(query.groupBy ?? [])];\n  newGroupBy[partIndex] = {\n    ...newGroupBy[partIndex],\n    params: newParams,\n  };\n  return { ...query, groupBy: newGroupBy };\n}\n","import { reduce } from 'lodash';\nimport kbn from 'grafana/app/core/utils/kbn';\n\nfunction renderTagCondition(tag: { operator: any; value: string; condition: any; key: string }, index: number) {\n  // FIXME: merge this function with RUM_query_model/renderTagCondition\n  let str = '';\n  let operator = tag.operator;\n  let value = tag.value;\n  if (index > 0) {\n    str = (tag.condition.toLowerCase() || 'AND') + ' ';\n  }\n\n  if (!operator) {\n    if (/^\\/.*\\/$/.test(tag.value)) {\n      operator = '=~';\n    } else {\n      operator = '=';\n    }\n  }\n\n  // quote value unless regex or number, or if empty-string\n  if (value === '' || (operator !== '=~' && operator !== '!~')) {\n    value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n  }\n\n  return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n}\n\nexport class RUMQueryBuilder {\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor(private target: { measurement: any; tags: any; policy?: any }, private database?: string) {}\n\n  buildExploreQuery(type: string, withKey?: string, withMeasurementFilter?: string): string {\n    let query = '';\n    let measurement;\n    let policy;\n\n    if (type === 'TAG_KEYS') {\n      query = 'show tag keys';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'TAG_VALUES') {\n      query = 'show tag values';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'MEASUREMENTS') {\n      query = 'show measurements';\n      if (withMeasurementFilter) {\n        // we do a case-insensitive regex-based lookup\n        query += ' with measurement =~ /(?i)' + kbn.regexEscape(withMeasurementFilter) + '/';\n      }\n    } else if (type === 'FIELDS') {\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n\n      if (!measurement.match('^/.*/')) {\n        measurement = '\"' + measurement + '\"';\n\n        if (policy && policy !== 'default') {\n          policy = '\"' + policy + '\"';\n          measurement = policy + '.' + measurement;\n        }\n      }\n\n      return 'show field keys from ' + measurement;\n    } else if (type === 'RETENTION POLICIES') {\n      query = 'show retention policies on \"' + this.database + '\"';\n      return query;\n    }\n\n    if (measurement) {\n      if (!measurement.match('^/.*/') && !measurement.match(/^merge\\(.*\\)/)) {\n        measurement = '\"' + measurement + '\"';\n      }\n\n      if (policy && policy !== 'default') {\n        policy = '\"' + policy + '\"';\n        measurement = policy + '.' + measurement;\n      }\n\n      query += ' from ' + measurement;\n    }\n\n    if (withKey) {\n      query += ' with key = \"' + withKey + '\"';\n    }\n\n    if (this.target.tags && this.target.tags.length > 0) {\n      const whereConditions = reduce(\n        this.target.tags,\n        (memo, tag) => {\n          if (type === 'MEASUREMENTS' && tag.key === 'id') {\n            return memo;\n          }\n          // do not add a condition for the key we want to explore for\n          if (tag.key === withKey) {\n            return memo;\n          }\n\n          // value operators not supported in these types of queries\n          if (tag.operator === '>' || tag.operator === '<') {\n            return memo;\n          }\n\n          memo.push(renderTagCondition(tag, memo.length));\n          return memo;\n        },\n        [] as string[]\n      );\n\n      if (whereConditions.length > 0) {\n        query += ' where ' + whereConditions.join(' ');\n      }\n    }\n\n    if (type === 'MEASUREMENTS') {\n      query += ' limit 100';\n      // Solve issue #2524 by limiting the number of measurements returned\n      // LIMIT must be after WITH MEASUREMENT and WHERE clauses\n      // This also could be used for TAG KEYS and TAG VALUES, if desired\n    }\n\n    return query;\n  }\n}\n","import { clone, each, map } from 'lodash';\n\nexport class QueryPartDef {\n  type: string;\n  params: any[];\n  defaultParams: any[];\n  renderer: any;\n  category: any;\n  addStrategy: any;\n\n  constructor(options: any) {\n    this.type = options.type;\n    this.params = options.params;\n    this.defaultParams = options.defaultParams;\n    this.renderer = options.renderer;\n    this.category = options.category;\n    this.addStrategy = options.addStrategy;\n  }\n}\n\nexport class QueryPart {\n  part: any;\n  def: QueryPartDef;\n  params: any[];\n  text: string;\n\n  constructor(part: any, def: any) {\n    this.part = part;\n    this.def = def;\n    if (!this.def) {\n      // eslint-disable-next-line no-throw-literal\n      throw { message: 'Could not find query part ' + part.type };\n    }\n\n    part.params = part.params || clone(this.def.defaultParams);\n    this.params = part.params;\n    this.text = '';\n    this.updateText();\n  }\n\n  render(innerExpr: string) {\n    return this.def.renderer(this, innerExpr);\n  }\n\n  hasMultipleParamsInString(strValue: string, index: number) {\n    if (strValue.indexOf(',') === -1) {\n      return false;\n    }\n\n    return this.def.params[index + 1] && this.def.params[index + 1].optional;\n  }\n\n  updateParam(strValue: string, index: number) {\n    // handle optional parameters\n    // if string contains ',' and next param is optional, split and update both\n    if (this.hasMultipleParamsInString(strValue, index)) {\n      each(strValue.split(','), (partVal, idx) => {\n        this.updateParam(partVal.trim(), idx);\n      });\n      return;\n    }\n\n    if (strValue === '' && this.def.params[index].optional) {\n      this.params.splice(index, 1);\n    } else {\n      this.params[index] = strValue;\n    }\n\n    this.part.params = this.params;\n    this.updateText();\n  }\n\n  updateText() {\n    if (this.params.length === 0) {\n      this.text = this.def.type + '()';\n      return;\n    }\n\n    let text = this.def.type + '(';\n    text += this.params.join(', ');\n    text += ')';\n    this.text = text;\n  }\n}\n\nexport function functionRenderer(part: any, innerExpr: string) {\n  const str = part.def.type + '(';\n  const parameters = map(part.params, (value, index) => {\n    const paramType = part.def.params[index];\n    if (paramType.type === 'time') {\n      if (value === 'auto') {\n        value = '$__interval';\n      }\n    }\n    if (paramType.quote === 'single') {\n      return \"'\" + value + \"'\";\n    } else if (paramType.quote === 'double') {\n      return '\"' + value + '\"';\n    }\n\n    return value;\n  });\n\n  if (innerExpr) {\n    parameters.unshift(innerExpr);\n  }\n  return str + parameters.join(', ') + ')';\n}\n\nexport function suffixRenderer(part: QueryPart, innerExpr: string) {\n  return innerExpr + ' ' + part.params[0];\n}\n\nexport function identityRenderer(part: QueryPart, innerExpr: string) {\n  return part.params[0];\n}\n\nexport function quotedIdentityRenderer(part: QueryPart, innerExpr: string) {\n  return '\"' + part.params[0] + '\"';\n}\n\nconst index: any[] = [];\nconst categories: any = {\n  Aggregations: [],\n  Selectors: [],\n  Transformations: [],\n  Predictors: [],\n  Math: [],\n  Aliasing: [],\n  Fields: [],\n};\n\nfunction createPart(part: any): any {\n  const def = index[part.type];\n  if (!def) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: 'Could not find query part ' + part.type };\n  }\n\n  return new QueryPart(part, def);\n}\n\nfunction register(options: any) {\n  index[options.type] = new QueryPartDef(options);\n  options.category.push(index[options.type]);\n}\n\nconst groupByTimeFunctions: any[] = [];\n\nfunction aliasRenderer(part: { params: string[] }, innerExpr: string) {\n  // eslint-disable-next-line no-useless-concat\n  return innerExpr + ' AS ' + '\"' + part.params[0] + '\"';\n}\n\nfunction fieldRenderer(part: { params: string[] }, innerExpr: any) {\n  if (part.params[0] === '*') {\n    return '*';\n  }\n  return '\"' + part.params[0] + '\"';\n}\n\nfunction replaceAggregationAddStrategy(selectParts: any[], partModel: { def: { type: string } }) {\n  // look for existing aggregation\n  for (let i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Aggregations) {\n      if (part.def.type === partModel.def.type) {\n        return;\n      }\n      // count distinct is allowed\n      if (part.def.type === 'count' && partModel.def.type === 'distinct') {\n        break;\n      }\n      // remove next aggregation if distinct was replaced\n      if (part.def.type === 'distinct') {\n        const morePartsAvailable = selectParts.length >= i + 2;\n        if (partModel.def.type !== 'count' && morePartsAvailable) {\n          const nextPart = selectParts[i + 1];\n          if (nextPart.def.category === categories.Aggregations) {\n            selectParts.splice(i + 1, 1);\n          }\n        } else if (partModel.def.type === 'count') {\n          if (!morePartsAvailable || selectParts[i + 1].def.type !== 'count') {\n            selectParts.splice(i + 1, 0, partModel);\n          }\n          return;\n        }\n      }\n      selectParts[i] = partModel;\n      return;\n    }\n    if (part.def.category === categories.Selectors) {\n      selectParts[i] = partModel;\n      return;\n    }\n  }\n\n  selectParts.splice(1, 0, partModel);\n}\n\nfunction addTransformationStrategy(selectParts: any[], partModel: any) {\n  let i;\n  // look for index to add transformation\n  for (i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Math || part.def.category === categories.Aliasing) {\n      break;\n    }\n  }\n\n  selectParts.splice(i, 0, partModel);\n}\n\nfunction addMathStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is math, replace it\n    if (selectParts[partCount - 1].def.type === 'math') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n    // if next to last is math, replace it\n    if (partCount > 1 && selectParts[partCount - 2].def.type === 'math') {\n      selectParts[partCount - 2] = partModel;\n      return;\n    } else if (selectParts[partCount - 1].def.type === 'alias') {\n      // if last is alias add it before\n      selectParts.splice(partCount - 1, 0, partModel);\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addAliasStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is alias, replace it\n    if (selectParts[partCount - 1].def.type === 'alias') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addFieldStrategy(selectParts: any, partModel: any, query: { selectModels: any[][] }) {\n  // copy all parts\n  const parts = map(selectParts, (part: any) => {\n    return createPart({ type: part.def.type, params: clone(part.params) });\n  });\n\n  query.selectModels.push(parts);\n}\n\nregister({\n  type: 'field',\n  addStrategy: addFieldStrategy,\n  category: categories.Fields,\n  params: [{ type: 'field', dynamicLookup: true }],\n  defaultParams: ['value'],\n  renderer: fieldRenderer,\n});\n\n// Aggregations\nregister({\n  type: 'count',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'distinct',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'integral',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mean',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'median',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mode',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'sum',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\n// transformations\n\nregister({\n  type: 'derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'spread',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'moving_average',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: 'window', type: 'int', options: [5, 10, 20, 30, 40] }],\n  defaultParams: [10],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'cumulative_sum',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'stddev',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'time',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'interval',\n      type: 'time',\n      options: ['$__interval', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['$__interval'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'fill',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'fill',\n      type: 'string',\n      options: ['none', 'null', '0', 'previous', 'linear'],\n    },\n  ],\n  defaultParams: ['null'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'elapsed',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\n// predictions\nregister({\n  type: 'holt_winters',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'holt_winters_with_fit',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\n// Selectors\nregister({\n  type: 'bottom',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'first',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'last',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'max',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'min',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'percentile',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'nth', type: 'int' }],\n  defaultParams: [95],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'top',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'tag',\n  category: groupByTimeFunctions,\n  params: [{ name: 'tag', type: 'string', dynamicLookup: true }],\n  defaultParams: ['tag'],\n  renderer: fieldRenderer,\n});\n\nregister({\n  type: 'math',\n  addStrategy: addMathStrategy,\n  category: categories.Math,\n  params: [{ name: 'expr', type: 'string' }],\n  defaultParams: [' / 100'],\n  renderer: suffixRenderer,\n});\n\nregister({\n  type: 'alias',\n  addStrategy: addAliasStrategy,\n  category: categories.Aliasing,\n  params: [{ name: 'name', type: 'string', quote: 'double' }],\n  defaultParams: ['alias'],\n  renderMode: 'suffix',\n  renderer: aliasRenderer,\n});\n\nexport default {\n  create: createPart,\n  getCategories: () => {\n    return categories;\n  },\n  replaceAggregationAdd: replaceAggregationAddStrategy,\n};\n","import { AnnotationEvent, DataFrame, DataQuery, FieldType, QueryResultMeta } from '@grafana/data';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport TableModel from 'grafana/app/core/table_model';\nimport { each, flatten, groupBy, isArray } from 'lodash';\nimport { ENABLE_MEASUREMENTS } from './common/constants';\nimport { RUMQuery } from './types';\n\nexport default class ResponseParser {\n  parse(query: string, results: { results: any }) {\n    if (!results?.results || results.results.length === 0) {\n      return [];\n    }\n\n    const RUMResults = results.results[0];\n    if (!RUMResults.series) {\n      return [];\n    }\n\n    const normalizedQuery = query.toLowerCase();\n    const isValueFirst =\n      normalizedQuery.indexOf('show field keys') >= 0 || normalizedQuery.indexOf('show retention policies') >= 0;\n    const isShowMeasurements = normalizedQuery.indexOf('show measurements') >= 0;\n\n    const res = new Set<string>();\n    each(RUMResults.series, (serie) => {\n      each(serie.values, (value) => {\n        if (isArray(value)) {\n          // In general, there are 2 possible shapes for the returned value.\n          // The first one is a two-element array,\n          // where the first element is somewhat a metadata value:\n          // the tag name for SHOW TAG VALUES queries,\n          // the time field for SELECT queries, etc.\n          // The second shape is an one-element array,\n          // that is containing an immediate value.\n          // For example, SHOW FIELD KEYS queries return such shape.\n          // Note, pre-0.11 versions return\n          // the second shape for SHOW TAG VALUES queries\n          // (while the newer versions—first).\n\n          if (isValueFirst) {\n            addUnique(res, value[0]);\n          } else if (value[1] !== undefined) {\n            addUnique(res, value[1]);\n          } else {\n            addUnique(res, value[0]);\n          }\n        } else {\n          addUnique(res, value);\n        }\n      });\n    });\n\n    if (isShowMeasurements) {\n      return Array.from(res)\n        .filter((item) => ENABLE_MEASUREMENTS.includes(item))\n        .map((v) => ({ text: v }));\n    }\n\n    return Array.from(res).map((v) => ({ text: v }));\n  }\n\n  getTable(dfs: DataFrame[], target: RUMQuery, meta: QueryResultMeta): TableModel {\n    let table = new TableModel();\n\n    if (dfs.length > 0) {\n      // @ts-ignore\n      table.meta = {\n        ...meta,\n        executedQueryString: dfs[0].meta?.executedQueryString,\n      };\n      // @ts-ignore\n      table.refId = target.refId;\n      table = getTableCols(dfs, table, target);\n\n      // if group by tag(s) added\n      if (dfs[0].fields[1]?.labels) {\n        let dfsByLabels: any = groupBy(dfs, (df: DataFrame) =>\n          df.fields[1].labels ? Object.values(df.fields[1].labels!) : null\n        );\n        const labels = Object.keys(dfsByLabels);\n        dfsByLabels = Object.values(dfsByLabels);\n\n        for (let i = 0; i < dfsByLabels.length; i++) {\n          table = getTableRows(dfsByLabels[i], table, [...labels[i].split(',')]);\n        }\n      } else {\n        table = getTableRows(dfs, table, []);\n      }\n    }\n\n    return table;\n  }\n\n  async transformAnnotationResponse(options: any, data: any, target: RUMQuery): Promise<AnnotationEvent[]> {\n    const rsp = toDataQueryResponse(data, [target] as DataQuery[]);\n\n    if (rsp) {\n      const table = this.getTable(rsp.data, target, {});\n      const list: any[] = [];\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(table.columns, (column, index) => {\n        if (column.text.toLowerCase() === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column.text === options.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (colContainsTag(column.text, options.annotation.tagsColumn)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column.text.includes(options.annotation.textColumn)) {\n          textCol = index;\n          return;\n        }\n        if (column.text === options.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(table.rows, (value) => {\n        const data = {\n          annotation: options.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n\n      return list;\n    }\n    return [];\n  }\n}\n\nfunction colContainsTag(colText: string, tagsColumn: string): boolean {\n  const tags = (tagsColumn || '').replace(' ', '').split(',');\n  for (let tag of tags) {\n    if (colText.includes(tag)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getTableCols(dfs: DataFrame[], table: TableModel, target: RUMQuery): TableModel {\n  const selectedParams = getSelectedParams(target);\n\n  dfs[0].fields.forEach((field) => {\n    // Time col\n    if (field.name === 'time') {\n      table.columns.push({ text: 'Time', type: FieldType.time });\n    }\n\n    // Group by (label) column(s)\n    else if (field.name === 'value') {\n      if (field.labels) {\n        Object.keys(field.labels).forEach((key) => {\n          table.columns.push({ text: key });\n        });\n      }\n    }\n  });\n\n  // Get cols for annotationQuery\n  if (dfs[0].refId === 'metricFindQuery') {\n    dfs.forEach((field) => {\n      if (field.name) {\n        table.columns.push({ text: field.name });\n      }\n    });\n  }\n\n  // Select (metric) column(s)\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < selectedParams.length; i++) {\n    table.columns.push({ text: selectedParams[i] });\n  }\n\n  return table;\n}\n\nfunction getTableRows(dfs: DataFrame[], table: TableModel, labels: string[]): TableModel {\n  const values = dfs[0].fields[0].values.toArray();\n\n  for (let i = 0; i < values.length; i++) {\n    const time = values[i];\n    const metrics = dfs.map((df: DataFrame) => {\n      return df.fields[1] ? df.fields[1].values.toArray()[i] : null;\n    });\n    if (metrics.indexOf(null) < 0) {\n      table.rows.push([time, ...labels, ...metrics]);\n    }\n  }\n  return table;\n}\n\nexport function getSelectedParams(target: RUMQuery): string[] {\n  let allParams: string[] = [];\n  target.select?.forEach((select) => {\n    const selector = select.filter((x) => x.type !== 'field');\n    if (selector.length > 0) {\n      allParams.push(selector[0].type);\n    } else {\n      if (select[0]?.params?.[0]) {\n        allParams.push(select[0].params[0].toString());\n      }\n    }\n  });\n\n  let uniqueParams: string[] = [];\n  allParams.forEach((param) => {\n    uniqueParams.push(incrementName(param, param, uniqueParams, 0));\n  });\n\n  return uniqueParams;\n}\n\nfunction incrementName(name: string, nameIncremenet: string, params: string[], index: number): string {\n  if (params.indexOf(nameIncremenet) > -1) {\n    index++;\n    return incrementName(name, name + '_' + index, params, index);\n  }\n  return nameIncremenet;\n}\n\nfunction addUnique(s: Set<string>, value: string | number) {\n  s.add(value.toString());\n}\n","var map = {\n\t\".\": \"./datasource/tc_monitor/index.ts\",\n\t\"./\": \"./datasource/tc_monitor/index.ts\",\n\t\"./MonitorDatasource\": \"./datasource/tc_monitor/MonitorDatasource.ts\",\n\t\"./MonitorDatasource.ts\": \"./datasource/tc_monitor/MonitorDatasource.ts\",\n\t\"./_base/datasource\": \"./datasource/tc_monitor/_base/datasource.ts\",\n\t\"./_base/datasource.ts\": \"./datasource/tc_monitor/_base/datasource.ts\",\n\t\"./_base/query\": \"./datasource/tc_monitor/_base/query.ts\",\n\t\"./_base/query.ts\": \"./datasource/tc_monitor/_base/query.ts\",\n\t\"./_base/query_filter\": \"./datasource/tc_monitor/_base/query_filter.ts\",\n\t\"./_base/query_filter.ts\": \"./datasource/tc_monitor/_base/query_filter.ts\",\n\t\"./_base/types\": \"./datasource/tc_monitor/_base/types.ts\",\n\t\"./_base/types.ts\": \"./datasource/tc_monitor/_base/types.ts\",\n\t\"./apigateway/datasource\": \"./datasource/tc_monitor/apigateway/datasource.ts\",\n\t\"./apigateway/datasource.ts\": \"./datasource/tc_monitor/apigateway/datasource.ts\",\n\t\"./apigateway/query\": \"./datasource/tc_monitor/apigateway/query.ts\",\n\t\"./apigateway/query.ts\": \"./datasource/tc_monitor/apigateway/query.ts\",\n\t\"./apigateway/query_def\": \"./datasource/tc_monitor/apigateway/query_def.ts\",\n\t\"./apigateway/query_def.ts\": \"./datasource/tc_monitor/apigateway/query_def.ts\",\n\t\"./bmIntraLb/datasource\": \"./datasource/tc_monitor/bmIntraLb/datasource.ts\",\n\t\"./bmIntraLb/datasource.ts\": \"./datasource/tc_monitor/bmIntraLb/datasource.ts\",\n\t\"./bmIntraLb/query\": \"./datasource/tc_monitor/bmIntraLb/query.ts\",\n\t\"./bmIntraLb/query.ts\": \"./datasource/tc_monitor/bmIntraLb/query.ts\",\n\t\"./bmIntraLb/query_def\": \"./datasource/tc_monitor/bmIntraLb/query_def.ts\",\n\t\"./bmIntraLb/query_def.ts\": \"./datasource/tc_monitor/bmIntraLb/query_def.ts\",\n\t\"./bm_lb/datasource\": \"./datasource/tc_monitor/bm_lb/datasource.ts\",\n\t\"./bm_lb/datasource.ts\": \"./datasource/tc_monitor/bm_lb/datasource.ts\",\n\t\"./bm_lb/query\": \"./datasource/tc_monitor/bm_lb/query.ts\",\n\t\"./bm_lb/query.ts\": \"./datasource/tc_monitor/bm_lb/query.ts\",\n\t\"./bm_lb/query_def\": \"./datasource/tc_monitor/bm_lb/query_def.ts\",\n\t\"./bm_lb/query_def.ts\": \"./datasource/tc_monitor/bm_lb/query_def.ts\",\n\t\"./bm_pcx/datasource\": \"./datasource/tc_monitor/bm_pcx/datasource.ts\",\n\t\"./bm_pcx/datasource.ts\": \"./datasource/tc_monitor/bm_pcx/datasource.ts\",\n\t\"./bm_pcx/query\": \"./datasource/tc_monitor/bm_pcx/query.ts\",\n\t\"./bm_pcx/query.ts\": \"./datasource/tc_monitor/bm_pcx/query.ts\",\n\t\"./bm_pcx/query_def\": \"./datasource/tc_monitor/bm_pcx/query_def.ts\",\n\t\"./bm_pcx/query_def.ts\": \"./datasource/tc_monitor/bm_pcx/query_def.ts\",\n\t\"./bwp/datasource\": \"./datasource/tc_monitor/bwp/datasource.ts\",\n\t\"./bwp/datasource.ts\": \"./datasource/tc_monitor/bwp/datasource.ts\",\n\t\"./bwp/query\": \"./datasource/tc_monitor/bwp/query.ts\",\n\t\"./bwp/query.ts\": \"./datasource/tc_monitor/bwp/query.ts\",\n\t\"./bwp/query_def\": \"./datasource/tc_monitor/bwp/query_def.ts\",\n\t\"./bwp/query_def.ts\": \"./datasource/tc_monitor/bwp/query_def.ts\",\n\t\"./cbs/datasource\": \"./datasource/tc_monitor/cbs/datasource.ts\",\n\t\"./cbs/datasource.ts\": \"./datasource/tc_monitor/cbs/datasource.ts\",\n\t\"./cbs/query\": \"./datasource/tc_monitor/cbs/query.ts\",\n\t\"./cbs/query.ts\": \"./datasource/tc_monitor/cbs/query.ts\",\n\t\"./cbs/query_def\": \"./datasource/tc_monitor/cbs/query_def.ts\",\n\t\"./cbs/query_def.ts\": \"./datasource/tc_monitor/cbs/query_def.ts\",\n\t\"./cdb/datasource\": \"./datasource/tc_monitor/cdb/datasource.ts\",\n\t\"./cdb/datasource.ts\": \"./datasource/tc_monitor/cdb/datasource.ts\",\n\t\"./cdb/query\": \"./datasource/tc_monitor/cdb/query.ts\",\n\t\"./cdb/query.ts\": \"./datasource/tc_monitor/cdb/query.ts\",\n\t\"./cdb/query_def\": \"./datasource/tc_monitor/cdb/query_def.ts\",\n\t\"./cdb/query_def.ts\": \"./datasource/tc_monitor/cdb/query_def.ts\",\n\t\"./cdn/datasource\": \"./datasource/tc_monitor/cdn/datasource.ts\",\n\t\"./cdn/datasource.ts\": \"./datasource/tc_monitor/cdn/datasource.ts\",\n\t\"./cdn/query\": \"./datasource/tc_monitor/cdn/query.ts\",\n\t\"./cdn/query.ts\": \"./datasource/tc_monitor/cdn/query.ts\",\n\t\"./cdn/query_def\": \"./datasource/tc_monitor/cdn/query_def.ts\",\n\t\"./cdn/query_def.ts\": \"./datasource/tc_monitor/cdn/query_def.ts\",\n\t\"./cdn_province/datasource\": \"./datasource/tc_monitor/cdn_province/datasource.ts\",\n\t\"./cdn_province/datasource.ts\": \"./datasource/tc_monitor/cdn_province/datasource.ts\",\n\t\"./cdn_province/query\": \"./datasource/tc_monitor/cdn_province/query.ts\",\n\t\"./cdn_province/query.ts\": \"./datasource/tc_monitor/cdn_province/query.ts\",\n\t\"./cdn_province/query_def\": \"./datasource/tc_monitor/cdn_province/query_def.ts\",\n\t\"./cdn_province/query_def.ts\": \"./datasource/tc_monitor/cdn_province/query_def.ts\",\n\t\"./ceip_summary/datasource\": \"./datasource/tc_monitor/ceip_summary/datasource.ts\",\n\t\"./ceip_summary/datasource.ts\": \"./datasource/tc_monitor/ceip_summary/datasource.ts\",\n\t\"./ceip_summary/query\": \"./datasource/tc_monitor/ceip_summary/query.ts\",\n\t\"./ceip_summary/query.ts\": \"./datasource/tc_monitor/ceip_summary/query.ts\",\n\t\"./ceip_summary/query_def\": \"./datasource/tc_monitor/ceip_summary/query_def.ts\",\n\t\"./ceip_summary/query_def.ts\": \"./datasource/tc_monitor/ceip_summary/query_def.ts\",\n\t\"./ces/datasource\": \"./datasource/tc_monitor/ces/datasource.ts\",\n\t\"./ces/datasource.ts\": \"./datasource/tc_monitor/ces/datasource.ts\",\n\t\"./ces/query\": \"./datasource/tc_monitor/ces/query.ts\",\n\t\"./ces/query.ts\": \"./datasource/tc_monitor/ces/query.ts\",\n\t\"./ces/query_def\": \"./datasource/tc_monitor/ces/query_def.ts\",\n\t\"./ces/query_def.ts\": \"./datasource/tc_monitor/ces/query_def.ts\",\n\t\"./cfs/datasource\": \"./datasource/tc_monitor/cfs/datasource.ts\",\n\t\"./cfs/datasource.ts\": \"./datasource/tc_monitor/cfs/datasource.ts\",\n\t\"./cfs/query\": \"./datasource/tc_monitor/cfs/query.ts\",\n\t\"./cfs/query.ts\": \"./datasource/tc_monitor/cfs/query.ts\",\n\t\"./cfs/query_def\": \"./datasource/tc_monitor/cfs/query_def.ts\",\n\t\"./cfs/query_def.ts\": \"./datasource/tc_monitor/cfs/query_def.ts\",\n\t\"./ckafka/datasource\": \"./datasource/tc_monitor/ckafka/datasource.ts\",\n\t\"./ckafka/datasource.ts\": \"./datasource/tc_monitor/ckafka/datasource.ts\",\n\t\"./ckafka/query\": \"./datasource/tc_monitor/ckafka/query.ts\",\n\t\"./ckafka/query.ts\": \"./datasource/tc_monitor/ckafka/query.ts\",\n\t\"./ckafka/query_def\": \"./datasource/tc_monitor/ckafka/query_def.ts\",\n\t\"./ckafka/query_def.ts\": \"./datasource/tc_monitor/ckafka/query_def.ts\",\n\t\"./clb/datasource\": \"./datasource/tc_monitor/clb/datasource.ts\",\n\t\"./clb/datasource.ts\": \"./datasource/tc_monitor/clb/datasource.ts\",\n\t\"./clb/query\": \"./datasource/tc_monitor/clb/query.ts\",\n\t\"./clb/query.ts\": \"./datasource/tc_monitor/clb/query.ts\",\n\t\"./clb/query_def\": \"./datasource/tc_monitor/clb/query_def.ts\",\n\t\"./clb/query_def.ts\": \"./datasource/tc_monitor/clb/query_def.ts\",\n\t\"./cls/datasource\": \"./datasource/tc_monitor/cls/datasource.ts\",\n\t\"./cls/datasource.ts\": \"./datasource/tc_monitor/cls/datasource.ts\",\n\t\"./cls/query\": \"./datasource/tc_monitor/cls/query.ts\",\n\t\"./cls/query.ts\": \"./datasource/tc_monitor/cls/query.ts\",\n\t\"./cls/query_def\": \"./datasource/tc_monitor/cls/query_def.ts\",\n\t\"./cls/query_def.ts\": \"./datasource/tc_monitor/cls/query_def.ts\",\n\t\"./cmq/datasource\": \"./datasource/tc_monitor/cmq/datasource.ts\",\n\t\"./cmq/datasource.ts\": \"./datasource/tc_monitor/cmq/datasource.ts\",\n\t\"./cmq/query\": \"./datasource/tc_monitor/cmq/query.ts\",\n\t\"./cmq/query.ts\": \"./datasource/tc_monitor/cmq/query.ts\",\n\t\"./cmq/query_def\": \"./datasource/tc_monitor/cmq/query_def.ts\",\n\t\"./cmq/query_def.ts\": \"./datasource/tc_monitor/cmq/query_def.ts\",\n\t\"./cmq_topic/datasource\": \"./datasource/tc_monitor/cmq_topic/datasource.ts\",\n\t\"./cmq_topic/datasource.ts\": \"./datasource/tc_monitor/cmq_topic/datasource.ts\",\n\t\"./cmq_topic/query\": \"./datasource/tc_monitor/cmq_topic/query.ts\",\n\t\"./cmq_topic/query.ts\": \"./datasource/tc_monitor/cmq_topic/query.ts\",\n\t\"./cmq_topic/query_def\": \"./datasource/tc_monitor/cmq_topic/query_def.ts\",\n\t\"./cmq_topic/query_def.ts\": \"./datasource/tc_monitor/cmq_topic/query_def.ts\",\n\t\"./cos/datasource\": \"./datasource/tc_monitor/cos/datasource.ts\",\n\t\"./cos/datasource.ts\": \"./datasource/tc_monitor/cos/datasource.ts\",\n\t\"./cos/query_def\": \"./datasource/tc_monitor/cos/query_def.ts\",\n\t\"./cos/query_def.ts\": \"./datasource/tc_monitor/cos/query_def.ts\",\n\t\"./cpm/datasource\": \"./datasource/tc_monitor/cpm/datasource.ts\",\n\t\"./cpm/datasource.ts\": \"./datasource/tc_monitor/cpm/datasource.ts\",\n\t\"./cpm/query\": \"./datasource/tc_monitor/cpm/query.ts\",\n\t\"./cpm/query.ts\": \"./datasource/tc_monitor/cpm/query.ts\",\n\t\"./cpm/query_def\": \"./datasource/tc_monitor/cpm/query_def.ts\",\n\t\"./cpm/query_def.ts\": \"./datasource/tc_monitor/cpm/query_def.ts\",\n\t\"./cvm/datasource\": \"./datasource/tc_monitor/cvm/datasource.ts\",\n\t\"./cvm/datasource.ts\": \"./datasource/tc_monitor/cvm/datasource.ts\",\n\t\"./cvm/query\": \"./datasource/tc_monitor/cvm/query.ts\",\n\t\"./cvm/query.ts\": \"./datasource/tc_monitor/cvm/query.ts\",\n\t\"./cvm/query_def\": \"./datasource/tc_monitor/cvm/query_def.ts\",\n\t\"./cvm/query_def.ts\": \"./datasource/tc_monitor/cvm/query_def.ts\",\n\t\"./cynosdb_mysql/datasource\": \"./datasource/tc_monitor/cynosdb_mysql/datasource.ts\",\n\t\"./cynosdb_mysql/datasource.ts\": \"./datasource/tc_monitor/cynosdb_mysql/datasource.ts\",\n\t\"./cynosdb_mysql/query\": \"./datasource/tc_monitor/cynosdb_mysql/query.ts\",\n\t\"./cynosdb_mysql/query.ts\": \"./datasource/tc_monitor/cynosdb_mysql/query.ts\",\n\t\"./cynosdb_mysql/query_def\": \"./datasource/tc_monitor/cynosdb_mysql/query_def.ts\",\n\t\"./cynosdb_mysql/query_def.ts\": \"./datasource/tc_monitor/cynosdb_mysql/query_def.ts\",\n\t\"./dc/datasource\": \"./datasource/tc_monitor/dc/datasource.ts\",\n\t\"./dc/datasource.ts\": \"./datasource/tc_monitor/dc/datasource.ts\",\n\t\"./dc/query\": \"./datasource/tc_monitor/dc/query.ts\",\n\t\"./dc/query.ts\": \"./datasource/tc_monitor/dc/query.ts\",\n\t\"./dc/query_def\": \"./datasource/tc_monitor/dc/query_def.ts\",\n\t\"./dc/query_def.ts\": \"./datasource/tc_monitor/dc/query_def.ts\",\n\t\"./dcdb/datasource\": \"./datasource/tc_monitor/dcdb/datasource.ts\",\n\t\"./dcdb/datasource.ts\": \"./datasource/tc_monitor/dcdb/datasource.ts\",\n\t\"./dcdb/query\": \"./datasource/tc_monitor/dcdb/query.ts\",\n\t\"./dcdb/query.ts\": \"./datasource/tc_monitor/dcdb/query.ts\",\n\t\"./dcdb/query_def\": \"./datasource/tc_monitor/dcdb/query_def.ts\",\n\t\"./dcdb/query_def.ts\": \"./datasource/tc_monitor/dcdb/query_def.ts\",\n\t\"./dcg/datasource\": \"./datasource/tc_monitor/dcg/datasource.ts\",\n\t\"./dcg/datasource.ts\": \"./datasource/tc_monitor/dcg/datasource.ts\",\n\t\"./dcg/query\": \"./datasource/tc_monitor/dcg/query.ts\",\n\t\"./dcg/query.ts\": \"./datasource/tc_monitor/dcg/query.ts\",\n\t\"./dcg/query_def\": \"./datasource/tc_monitor/dcg/query_def.ts\",\n\t\"./dcg/query_def.ts\": \"./datasource/tc_monitor/dcg/query_def.ts\",\n\t\"./dcx/datasource\": \"./datasource/tc_monitor/dcx/datasource.ts\",\n\t\"./dcx/datasource.ts\": \"./datasource/tc_monitor/dcx/datasource.ts\",\n\t\"./dcx/query\": \"./datasource/tc_monitor/dcx/query.ts\",\n\t\"./dcx/query.ts\": \"./datasource/tc_monitor/dcx/query.ts\",\n\t\"./dcx/query_def\": \"./datasource/tc_monitor/dcx/query_def.ts\",\n\t\"./dcx/query_def.ts\": \"./datasource/tc_monitor/dcx/query_def.ts\",\n\t\"./ecdn/datasource\": \"./datasource/tc_monitor/ecdn/datasource.ts\",\n\t\"./ecdn/datasource.ts\": \"./datasource/tc_monitor/ecdn/datasource.ts\",\n\t\"./ecdn/query\": \"./datasource/tc_monitor/ecdn/query.ts\",\n\t\"./ecdn/query.ts\": \"./datasource/tc_monitor/ecdn/query.ts\",\n\t\"./ecdn/query_def\": \"./datasource/tc_monitor/ecdn/query_def.ts\",\n\t\"./ecdn/query_def.ts\": \"./datasource/tc_monitor/ecdn/query_def.ts\",\n\t\"./ecm/datasource\": \"./datasource/tc_monitor/ecm/datasource.ts\",\n\t\"./ecm/datasource.ts\": \"./datasource/tc_monitor/ecm/datasource.ts\",\n\t\"./ecm/query\": \"./datasource/tc_monitor/ecm/query.ts\",\n\t\"./ecm/query.ts\": \"./datasource/tc_monitor/ecm/query.ts\",\n\t\"./ecm/query_def\": \"./datasource/tc_monitor/ecm/query_def.ts\",\n\t\"./ecm/query_def.ts\": \"./datasource/tc_monitor/ecm/query_def.ts\",\n\t\"./ecm_block_storage/datasource\": \"./datasource/tc_monitor/ecm_block_storage/datasource.ts\",\n\t\"./ecm_block_storage/datasource.ts\": \"./datasource/tc_monitor/ecm_block_storage/datasource.ts\",\n\t\"./ecm_block_storage/query\": \"./datasource/tc_monitor/ecm_block_storage/query.ts\",\n\t\"./ecm_block_storage/query.ts\": \"./datasource/tc_monitor/ecm_block_storage/query.ts\",\n\t\"./ecm_block_storage/query_def\": \"./datasource/tc_monitor/ecm_block_storage/query_def.ts\",\n\t\"./ecm_block_storage/query_def.ts\": \"./datasource/tc_monitor/ecm_block_storage/query_def.ts\",\n\t\"./ecm_lb/datasource\": \"./datasource/tc_monitor/ecm_lb/datasource.ts\",\n\t\"./ecm_lb/datasource.ts\": \"./datasource/tc_monitor/ecm_lb/datasource.ts\",\n\t\"./ecm_lb/query\": \"./datasource/tc_monitor/ecm_lb/query.ts\",\n\t\"./ecm_lb/query.ts\": \"./datasource/tc_monitor/ecm_lb/query.ts\",\n\t\"./ecm_lb/query_def\": \"./datasource/tc_monitor/ecm_lb/query_def.ts\",\n\t\"./ecm_lb/query_def.ts\": \"./datasource/tc_monitor/ecm_lb/query_def.ts\",\n\t\"./gse/datasource\": \"./datasource/tc_monitor/gse/datasource.ts\",\n\t\"./gse/datasource.ts\": \"./datasource/tc_monitor/gse/datasource.ts\",\n\t\"./gse/query\": \"./datasource/tc_monitor/gse/query.ts\",\n\t\"./gse/query.ts\": \"./datasource/tc_monitor/gse/query.ts\",\n\t\"./gse/query_def\": \"./datasource/tc_monitor/gse/query_def.ts\",\n\t\"./gse/query_def.ts\": \"./datasource/tc_monitor/gse/query_def.ts\",\n\t\"./index\": \"./datasource/tc_monitor/index.ts\",\n\t\"./index.ts\": \"./datasource/tc_monitor/index.ts\",\n\t\"./lb/datasource\": \"./datasource/tc_monitor/lb/datasource.ts\",\n\t\"./lb/datasource.ts\": \"./datasource/tc_monitor/lb/datasource.ts\",\n\t\"./lb/query\": \"./datasource/tc_monitor/lb/query.ts\",\n\t\"./lb/query.ts\": \"./datasource/tc_monitor/lb/query.ts\",\n\t\"./lb/query_def\": \"./datasource/tc_monitor/lb/query_def.ts\",\n\t\"./lb/query_def.ts\": \"./datasource/tc_monitor/lb/query_def.ts\",\n\t\"./lighthouse/datasource\": \"./datasource/tc_monitor/lighthouse/datasource.ts\",\n\t\"./lighthouse/datasource.ts\": \"./datasource/tc_monitor/lighthouse/datasource.ts\",\n\t\"./lighthouse/query\": \"./datasource/tc_monitor/lighthouse/query.ts\",\n\t\"./lighthouse/query.ts\": \"./datasource/tc_monitor/lighthouse/query.ts\",\n\t\"./lighthouse/query_def\": \"./datasource/tc_monitor/lighthouse/query_def.ts\",\n\t\"./lighthouse/query_def.ts\": \"./datasource/tc_monitor/lighthouse/query_def.ts\",\n\t\"./mongodb/datasource\": \"./datasource/tc_monitor/mongodb/datasource.ts\",\n\t\"./mongodb/datasource.ts\": \"./datasource/tc_monitor/mongodb/datasource.ts\",\n\t\"./mongodb/query\": \"./datasource/tc_monitor/mongodb/query.ts\",\n\t\"./mongodb/query.ts\": \"./datasource/tc_monitor/mongodb/query.ts\",\n\t\"./mongodb/query_def\": \"./datasource/tc_monitor/mongodb/query_def.ts\",\n\t\"./mongodb/query_def.ts\": \"./datasource/tc_monitor/mongodb/query_def.ts\",\n\t\"./mr/datasource\": \"./datasource/tc_monitor/mr/datasource.ts\",\n\t\"./mr/datasource.ts\": \"./datasource/tc_monitor/mr/datasource.ts\",\n\t\"./mr/query\": \"./datasource/tc_monitor/mr/query.ts\",\n\t\"./mr/query.ts\": \"./datasource/tc_monitor/mr/query.ts\",\n\t\"./mr/query_def\": \"./datasource/tc_monitor/mr/query_def.ts\",\n\t\"./mr/query_def.ts\": \"./datasource/tc_monitor/mr/query_def.ts\",\n\t\"./nat_gateway/datasource\": \"./datasource/tc_monitor/nat_gateway/datasource.ts\",\n\t\"./nat_gateway/datasource.ts\": \"./datasource/tc_monitor/nat_gateway/datasource.ts\",\n\t\"./nat_gateway/query\": \"./datasource/tc_monitor/nat_gateway/query.ts\",\n\t\"./nat_gateway/query.ts\": \"./datasource/tc_monitor/nat_gateway/query.ts\",\n\t\"./nat_gateway/query_def\": \"./datasource/tc_monitor/nat_gateway/query_def.ts\",\n\t\"./nat_gateway/query_def.ts\": \"./datasource/tc_monitor/nat_gateway/query_def.ts\",\n\t\"./ov_cdn/datasource\": \"./datasource/tc_monitor/ov_cdn/datasource.ts\",\n\t\"./ov_cdn/datasource.ts\": \"./datasource/tc_monitor/ov_cdn/datasource.ts\",\n\t\"./ov_cdn/query\": \"./datasource/tc_monitor/ov_cdn/query.ts\",\n\t\"./ov_cdn/query.ts\": \"./datasource/tc_monitor/ov_cdn/query.ts\",\n\t\"./ov_cdn/query_def\": \"./datasource/tc_monitor/ov_cdn/query_def.ts\",\n\t\"./ov_cdn/query_def.ts\": \"./datasource/tc_monitor/ov_cdn/query_def.ts\",\n\t\"./pcx/datasource\": \"./datasource/tc_monitor/pcx/datasource.ts\",\n\t\"./pcx/datasource.ts\": \"./datasource/tc_monitor/pcx/datasource.ts\",\n\t\"./pcx/query\": \"./datasource/tc_monitor/pcx/query.ts\",\n\t\"./pcx/query.ts\": \"./datasource/tc_monitor/pcx/query.ts\",\n\t\"./pcx/query_def\": \"./datasource/tc_monitor/pcx/query_def.ts\",\n\t\"./pcx/query_def.ts\": \"./datasource/tc_monitor/pcx/query_def.ts\",\n\t\"./postgresql/datasource\": \"./datasource/tc_monitor/postgresql/datasource.ts\",\n\t\"./postgresql/datasource.ts\": \"./datasource/tc_monitor/postgresql/datasource.ts\",\n\t\"./postgresql/query\": \"./datasource/tc_monitor/postgresql/query.ts\",\n\t\"./postgresql/query.ts\": \"./datasource/tc_monitor/postgresql/query.ts\",\n\t\"./postgresql/query_def\": \"./datasource/tc_monitor/postgresql/query_def.ts\",\n\t\"./postgresql/query_def.ts\": \"./datasource/tc_monitor/postgresql/query_def.ts\",\n\t\"./qaap/datasource\": \"./datasource/tc_monitor/qaap/datasource.ts\",\n\t\"./qaap/datasource.ts\": \"./datasource/tc_monitor/qaap/datasource.ts\",\n\t\"./qaap/query\": \"./datasource/tc_monitor/qaap/query.ts\",\n\t\"./qaap/query.ts\": \"./datasource/tc_monitor/qaap/query.ts\",\n\t\"./qaap/query_def\": \"./datasource/tc_monitor/qaap/query_def.ts\",\n\t\"./qaap/query_def.ts\": \"./datasource/tc_monitor/qaap/query_def.ts\",\n\t\"./redis/datasource\": \"./datasource/tc_monitor/redis/datasource.ts\",\n\t\"./redis/datasource.ts\": \"./datasource/tc_monitor/redis/datasource.ts\",\n\t\"./redis/query\": \"./datasource/tc_monitor/redis/query.ts\",\n\t\"./redis/query.ts\": \"./datasource/tc_monitor/redis/query.ts\",\n\t\"./redis/query_def\": \"./datasource/tc_monitor/redis/query_def.ts\",\n\t\"./redis/query_def.ts\": \"./datasource/tc_monitor/redis/query_def.ts\",\n\t\"./redis_mem/datasource\": \"./datasource/tc_monitor/redis_mem/datasource.ts\",\n\t\"./redis_mem/datasource.ts\": \"./datasource/tc_monitor/redis_mem/datasource.ts\",\n\t\"./redis_mem/query\": \"./datasource/tc_monitor/redis_mem/query.ts\",\n\t\"./redis_mem/query.ts\": \"./datasource/tc_monitor/redis_mem/query.ts\",\n\t\"./redis_mem/query_def\": \"./datasource/tc_monitor/redis_mem/query_def.ts\",\n\t\"./redis_mem/query_def.ts\": \"./datasource/tc_monitor/redis_mem/query_def.ts\",\n\t\"./scf/datasource\": \"./datasource/tc_monitor/scf/datasource.ts\",\n\t\"./scf/datasource.ts\": \"./datasource/tc_monitor/scf/datasource.ts\",\n\t\"./scf/query\": \"./datasource/tc_monitor/scf/query.ts\",\n\t\"./scf/query.ts\": \"./datasource/tc_monitor/scf/query.ts\",\n\t\"./scf/query_def\": \"./datasource/tc_monitor/scf/query_def.ts\",\n\t\"./scf/query_def.ts\": \"./datasource/tc_monitor/scf/query_def.ts\",\n\t\"./sqlserver/datasource\": \"./datasource/tc_monitor/sqlserver/datasource.ts\",\n\t\"./sqlserver/datasource.ts\": \"./datasource/tc_monitor/sqlserver/datasource.ts\",\n\t\"./sqlserver/query\": \"./datasource/tc_monitor/sqlserver/query.ts\",\n\t\"./sqlserver/query.ts\": \"./datasource/tc_monitor/sqlserver/query.ts\",\n\t\"./sqlserver/query_def\": \"./datasource/tc_monitor/sqlserver/query_def.ts\",\n\t\"./sqlserver/query_def.ts\": \"./datasource/tc_monitor/sqlserver/query_def.ts\",\n\t\"./tcaplus/datasource\": \"./datasource/tc_monitor/tcaplus/datasource.ts\",\n\t\"./tcaplus/datasource.ts\": \"./datasource/tc_monitor/tcaplus/datasource.ts\",\n\t\"./tcaplus/query\": \"./datasource/tc_monitor/tcaplus/query.ts\",\n\t\"./tcaplus/query.ts\": \"./datasource/tc_monitor/tcaplus/query.ts\",\n\t\"./tcaplus/query_def\": \"./datasource/tc_monitor/tcaplus/query_def.ts\",\n\t\"./tcaplus/query_def.ts\": \"./datasource/tc_monitor/tcaplus/query_def.ts\",\n\t\"./tdmq/datasource\": \"./datasource/tc_monitor/tdmq/datasource.ts\",\n\t\"./tdmq/datasource.ts\": \"./datasource/tc_monitor/tdmq/datasource.ts\",\n\t\"./tdmq/query\": \"./datasource/tc_monitor/tdmq/query.ts\",\n\t\"./tdmq/query.ts\": \"./datasource/tc_monitor/tdmq/query.ts\",\n\t\"./tdmq/query_def\": \"./datasource/tc_monitor/tdmq/query_def.ts\",\n\t\"./tdmq/query_def.ts\": \"./datasource/tc_monitor/tdmq/query_def.ts\",\n\t\"./tdmq_rabbitmq/datasource\": \"./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts\",\n\t\"./tdmq_rabbitmq/datasource.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts\",\n\t\"./tdmq_rabbitmq/query\": \"./datasource/tc_monitor/tdmq_rabbitmq/query.ts\",\n\t\"./tdmq_rabbitmq/query.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/query.ts\",\n\t\"./tdmq_rabbitmq/query_def\": \"./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts\",\n\t\"./tdmq_rabbitmq/query_def.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts\",\n\t\"./tdmq_rocketmq/datasource\": \"./datasource/tc_monitor/tdmq_rocketmq/datasource.ts\",\n\t\"./tdmq_rocketmq/datasource.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/datasource.ts\",\n\t\"./tdmq_rocketmq/query\": \"./datasource/tc_monitor/tdmq_rocketmq/query.ts\",\n\t\"./tdmq_rocketmq/query.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/query.ts\",\n\t\"./tdmq_rocketmq/query_def\": \"./datasource/tc_monitor/tdmq_rocketmq/query_def.ts\",\n\t\"./tdmq_rocketmq/query_def.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/query_def.ts\",\n\t\"./tke/datasource\": \"./datasource/tc_monitor/tke/datasource.ts\",\n\t\"./tke/datasource.ts\": \"./datasource/tc_monitor/tke/datasource.ts\",\n\t\"./tke/query\": \"./datasource/tc_monitor/tke/query.ts\",\n\t\"./tke/query.ts\": \"./datasource/tc_monitor/tke/query.ts\",\n\t\"./tke/query_def\": \"./datasource/tc_monitor/tke/query_def.ts\",\n\t\"./tke/query_def.ts\": \"./datasource/tc_monitor/tke/query_def.ts\",\n\t\"./tsf/datasource\": \"./datasource/tc_monitor/tsf/datasource.ts\",\n\t\"./tsf/datasource.ts\": \"./datasource/tc_monitor/tsf/datasource.ts\",\n\t\"./tsf/query\": \"./datasource/tc_monitor/tsf/query.ts\",\n\t\"./tsf/query.ts\": \"./datasource/tc_monitor/tsf/query.ts\",\n\t\"./tsf/query_def\": \"./datasource/tc_monitor/tsf/query_def.ts\",\n\t\"./tsf/query_def.ts\": \"./datasource/tc_monitor/tsf/query_def.ts\",\n\t\"./v_clb/datasource\": \"./datasource/tc_monitor/v_clb/datasource.ts\",\n\t\"./v_clb/datasource.ts\": \"./datasource/tc_monitor/v_clb/datasource.ts\",\n\t\"./v_clb/query\": \"./datasource/tc_monitor/v_clb/query.ts\",\n\t\"./v_clb/query.ts\": \"./datasource/tc_monitor/v_clb/query.ts\",\n\t\"./v_clb/query_def\": \"./datasource/tc_monitor/v_clb/query_def.ts\",\n\t\"./v_clb/query_def.ts\": \"./datasource/tc_monitor/v_clb/query_def.ts\",\n\t\"./vbc/datasource\": \"./datasource/tc_monitor/vbc/datasource.ts\",\n\t\"./vbc/datasource.ts\": \"./datasource/tc_monitor/vbc/datasource.ts\",\n\t\"./vbc/query\": \"./datasource/tc_monitor/vbc/query.ts\",\n\t\"./vbc/query.ts\": \"./datasource/tc_monitor/vbc/query.ts\",\n\t\"./vbc/query_def\": \"./datasource/tc_monitor/vbc/query_def.ts\",\n\t\"./vbc/query_def.ts\": \"./datasource/tc_monitor/vbc/query_def.ts\",\n\t\"./vpc_net_detect/datasource\": \"./datasource/tc_monitor/vpc_net_detect/datasource.ts\",\n\t\"./vpc_net_detect/datasource.ts\": \"./datasource/tc_monitor/vpc_net_detect/datasource.ts\",\n\t\"./vpc_net_detect/query\": \"./datasource/tc_monitor/vpc_net_detect/query.ts\",\n\t\"./vpc_net_detect/query.ts\": \"./datasource/tc_monitor/vpc_net_detect/query.ts\",\n\t\"./vpc_net_detect/query_def\": \"./datasource/tc_monitor/vpc_net_detect/query_def.ts\",\n\t\"./vpc_net_detect/query_def.ts\": \"./datasource/tc_monitor/vpc_net_detect/query_def.ts\",\n\t\"./vpngw/datasource\": \"./datasource/tc_monitor/vpngw/datasource.ts\",\n\t\"./vpngw/datasource.ts\": \"./datasource/tc_monitor/vpngw/datasource.ts\",\n\t\"./vpngw/query\": \"./datasource/tc_monitor/vpngw/query.ts\",\n\t\"./vpngw/query.ts\": \"./datasource/tc_monitor/vpngw/query.ts\",\n\t\"./vpngw/query_def\": \"./datasource/tc_monitor/vpngw/query_def.ts\",\n\t\"./vpngw/query_def.ts\": \"./datasource/tc_monitor/vpngw/query_def.ts\",\n\t\"./vpnx/datasource\": \"./datasource/tc_monitor/vpnx/datasource.ts\",\n\t\"./vpnx/datasource.ts\": \"./datasource/tc_monitor/vpnx/datasource.ts\",\n\t\"./vpnx/query\": \"./datasource/tc_monitor/vpnx/query.ts\",\n\t\"./vpnx/query.ts\": \"./datasource/tc_monitor/vpnx/query.ts\",\n\t\"./vpnx/query_def\": \"./datasource/tc_monitor/vpnx/query_def.ts\",\n\t\"./vpnx/query_def.ts\": \"./datasource/tc_monitor/vpnx/query_def.ts\",\n\t\"./waf/datasource\": \"./datasource/tc_monitor/waf/datasource.ts\",\n\t\"./waf/datasource.ts\": \"./datasource/tc_monitor/waf/datasource.ts\",\n\t\"./waf/query\": \"./datasource/tc_monitor/waf/query.ts\",\n\t\"./waf/query.ts\": \"./datasource/tc_monitor/waf/query.ts\",\n\t\"./waf/query_def\": \"./datasource/tc_monitor/waf/query_def.ts\",\n\t\"./waf/query_def.ts\": \"./datasource/tc_monitor/waf/query_def.ts\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./datasource/tc_monitor sync recursive ^.*$\";","var map = {\n\t\"./_base/query.ts\": \"./datasource/tc_monitor/_base/query.ts\",\n\t\"./apigateway/datasource\": \"./datasource/tc_monitor/apigateway/datasource.ts\",\n\t\"./apigateway/datasource.ts\": \"./datasource/tc_monitor/apigateway/datasource.ts\",\n\t\"./apigateway/query.ts\": \"./datasource/tc_monitor/apigateway/query.ts\",\n\t\"./apigateway/query_def.ts\": \"./datasource/tc_monitor/apigateway/query_def.ts\",\n\t\"./bmIntraLb/datasource\": \"./datasource/tc_monitor/bmIntraLb/datasource.ts\",\n\t\"./bmIntraLb/datasource.ts\": \"./datasource/tc_monitor/bmIntraLb/datasource.ts\",\n\t\"./bmIntraLb/query.ts\": \"./datasource/tc_monitor/bmIntraLb/query.ts\",\n\t\"./bmIntraLb/query_def.ts\": \"./datasource/tc_monitor/bmIntraLb/query_def.ts\",\n\t\"./bm_lb/datasource\": \"./datasource/tc_monitor/bm_lb/datasource.ts\",\n\t\"./bm_lb/datasource.ts\": \"./datasource/tc_monitor/bm_lb/datasource.ts\",\n\t\"./bm_lb/query.ts\": \"./datasource/tc_monitor/bm_lb/query.ts\",\n\t\"./bm_lb/query_def.ts\": \"./datasource/tc_monitor/bm_lb/query_def.ts\",\n\t\"./bm_pcx/datasource\": \"./datasource/tc_monitor/bm_pcx/datasource.ts\",\n\t\"./bm_pcx/datasource.ts\": \"./datasource/tc_monitor/bm_pcx/datasource.ts\",\n\t\"./bm_pcx/query.ts\": \"./datasource/tc_monitor/bm_pcx/query.ts\",\n\t\"./bm_pcx/query_def.ts\": \"./datasource/tc_monitor/bm_pcx/query_def.ts\",\n\t\"./bwp/datasource\": \"./datasource/tc_monitor/bwp/datasource.ts\",\n\t\"./bwp/datasource.ts\": \"./datasource/tc_monitor/bwp/datasource.ts\",\n\t\"./bwp/query.ts\": \"./datasource/tc_monitor/bwp/query.ts\",\n\t\"./bwp/query_def.ts\": \"./datasource/tc_monitor/bwp/query_def.ts\",\n\t\"./cbs/datasource\": \"./datasource/tc_monitor/cbs/datasource.ts\",\n\t\"./cbs/datasource.ts\": \"./datasource/tc_monitor/cbs/datasource.ts\",\n\t\"./cbs/query.ts\": \"./datasource/tc_monitor/cbs/query.ts\",\n\t\"./cbs/query_def.ts\": \"./datasource/tc_monitor/cbs/query_def.ts\",\n\t\"./cdb/datasource\": \"./datasource/tc_monitor/cdb/datasource.ts\",\n\t\"./cdb/datasource.ts\": \"./datasource/tc_monitor/cdb/datasource.ts\",\n\t\"./cdb/query.ts\": \"./datasource/tc_monitor/cdb/query.ts\",\n\t\"./cdb/query_def.ts\": \"./datasource/tc_monitor/cdb/query_def.ts\",\n\t\"./cdn/datasource\": \"./datasource/tc_monitor/cdn/datasource.ts\",\n\t\"./cdn/datasource.ts\": \"./datasource/tc_monitor/cdn/datasource.ts\",\n\t\"./cdn/query.ts\": \"./datasource/tc_monitor/cdn/query.ts\",\n\t\"./cdn/query_def.ts\": \"./datasource/tc_monitor/cdn/query_def.ts\",\n\t\"./cdn_province/datasource\": \"./datasource/tc_monitor/cdn_province/datasource.ts\",\n\t\"./cdn_province/datasource.ts\": \"./datasource/tc_monitor/cdn_province/datasource.ts\",\n\t\"./cdn_province/query.ts\": \"./datasource/tc_monitor/cdn_province/query.ts\",\n\t\"./cdn_province/query_def.ts\": \"./datasource/tc_monitor/cdn_province/query_def.ts\",\n\t\"./ceip_summary/datasource\": \"./datasource/tc_monitor/ceip_summary/datasource.ts\",\n\t\"./ceip_summary/datasource.ts\": \"./datasource/tc_monitor/ceip_summary/datasource.ts\",\n\t\"./ceip_summary/query.ts\": \"./datasource/tc_monitor/ceip_summary/query.ts\",\n\t\"./ceip_summary/query_def.ts\": \"./datasource/tc_monitor/ceip_summary/query_def.ts\",\n\t\"./ces/datasource\": \"./datasource/tc_monitor/ces/datasource.ts\",\n\t\"./ces/datasource.ts\": \"./datasource/tc_monitor/ces/datasource.ts\",\n\t\"./ces/query.ts\": \"./datasource/tc_monitor/ces/query.ts\",\n\t\"./ces/query_def.ts\": \"./datasource/tc_monitor/ces/query_def.ts\",\n\t\"./cfs/datasource\": \"./datasource/tc_monitor/cfs/datasource.ts\",\n\t\"./cfs/datasource.ts\": \"./datasource/tc_monitor/cfs/datasource.ts\",\n\t\"./cfs/query.ts\": \"./datasource/tc_monitor/cfs/query.ts\",\n\t\"./cfs/query_def.ts\": \"./datasource/tc_monitor/cfs/query_def.ts\",\n\t\"./ckafka/datasource\": \"./datasource/tc_monitor/ckafka/datasource.ts\",\n\t\"./ckafka/datasource.ts\": \"./datasource/tc_monitor/ckafka/datasource.ts\",\n\t\"./ckafka/query.ts\": \"./datasource/tc_monitor/ckafka/query.ts\",\n\t\"./ckafka/query_def.ts\": \"./datasource/tc_monitor/ckafka/query_def.ts\",\n\t\"./clb/datasource\": \"./datasource/tc_monitor/clb/datasource.ts\",\n\t\"./clb/datasource.ts\": \"./datasource/tc_monitor/clb/datasource.ts\",\n\t\"./clb/query.ts\": \"./datasource/tc_monitor/clb/query.ts\",\n\t\"./clb/query_def.ts\": \"./datasource/tc_monitor/clb/query_def.ts\",\n\t\"./cls/datasource\": \"./datasource/tc_monitor/cls/datasource.ts\",\n\t\"./cls/datasource.ts\": \"./datasource/tc_monitor/cls/datasource.ts\",\n\t\"./cls/query.ts\": \"./datasource/tc_monitor/cls/query.ts\",\n\t\"./cls/query_def.ts\": \"./datasource/tc_monitor/cls/query_def.ts\",\n\t\"./cmq/datasource\": \"./datasource/tc_monitor/cmq/datasource.ts\",\n\t\"./cmq/datasource.ts\": \"./datasource/tc_monitor/cmq/datasource.ts\",\n\t\"./cmq/query.ts\": \"./datasource/tc_monitor/cmq/query.ts\",\n\t\"./cmq/query_def.ts\": \"./datasource/tc_monitor/cmq/query_def.ts\",\n\t\"./cmq_topic/datasource\": \"./datasource/tc_monitor/cmq_topic/datasource.ts\",\n\t\"./cmq_topic/datasource.ts\": \"./datasource/tc_monitor/cmq_topic/datasource.ts\",\n\t\"./cmq_topic/query.ts\": \"./datasource/tc_monitor/cmq_topic/query.ts\",\n\t\"./cmq_topic/query_def.ts\": \"./datasource/tc_monitor/cmq_topic/query_def.ts\",\n\t\"./cos/datasource\": \"./datasource/tc_monitor/cos/datasource.ts\",\n\t\"./cos/datasource.ts\": \"./datasource/tc_monitor/cos/datasource.ts\",\n\t\"./cos/query_def.ts\": \"./datasource/tc_monitor/cos/query_def.ts\",\n\t\"./cpm/datasource\": \"./datasource/tc_monitor/cpm/datasource.ts\",\n\t\"./cpm/datasource.ts\": \"./datasource/tc_monitor/cpm/datasource.ts\",\n\t\"./cpm/query.ts\": \"./datasource/tc_monitor/cpm/query.ts\",\n\t\"./cpm/query_def.ts\": \"./datasource/tc_monitor/cpm/query_def.ts\",\n\t\"./cvm/datasource\": \"./datasource/tc_monitor/cvm/datasource.ts\",\n\t\"./cvm/datasource.ts\": \"./datasource/tc_monitor/cvm/datasource.ts\",\n\t\"./cvm/query.ts\": \"./datasource/tc_monitor/cvm/query.ts\",\n\t\"./cvm/query_def.ts\": \"./datasource/tc_monitor/cvm/query_def.ts\",\n\t\"./cynosdb_mysql/datasource\": \"./datasource/tc_monitor/cynosdb_mysql/datasource.ts\",\n\t\"./cynosdb_mysql/datasource.ts\": \"./datasource/tc_monitor/cynosdb_mysql/datasource.ts\",\n\t\"./cynosdb_mysql/query.ts\": \"./datasource/tc_monitor/cynosdb_mysql/query.ts\",\n\t\"./cynosdb_mysql/query_def.ts\": \"./datasource/tc_monitor/cynosdb_mysql/query_def.ts\",\n\t\"./dc/datasource\": \"./datasource/tc_monitor/dc/datasource.ts\",\n\t\"./dc/datasource.ts\": \"./datasource/tc_monitor/dc/datasource.ts\",\n\t\"./dc/query.ts\": \"./datasource/tc_monitor/dc/query.ts\",\n\t\"./dc/query_def.ts\": \"./datasource/tc_monitor/dc/query_def.ts\",\n\t\"./dcdb/datasource\": \"./datasource/tc_monitor/dcdb/datasource.ts\",\n\t\"./dcdb/datasource.ts\": \"./datasource/tc_monitor/dcdb/datasource.ts\",\n\t\"./dcdb/query.ts\": \"./datasource/tc_monitor/dcdb/query.ts\",\n\t\"./dcdb/query_def.ts\": \"./datasource/tc_monitor/dcdb/query_def.ts\",\n\t\"./dcg/datasource\": \"./datasource/tc_monitor/dcg/datasource.ts\",\n\t\"./dcg/datasource.ts\": \"./datasource/tc_monitor/dcg/datasource.ts\",\n\t\"./dcg/query.ts\": \"./datasource/tc_monitor/dcg/query.ts\",\n\t\"./dcg/query_def.ts\": \"./datasource/tc_monitor/dcg/query_def.ts\",\n\t\"./dcx/datasource\": \"./datasource/tc_monitor/dcx/datasource.ts\",\n\t\"./dcx/datasource.ts\": \"./datasource/tc_monitor/dcx/datasource.ts\",\n\t\"./dcx/query.ts\": \"./datasource/tc_monitor/dcx/query.ts\",\n\t\"./dcx/query_def.ts\": \"./datasource/tc_monitor/dcx/query_def.ts\",\n\t\"./ecdn/datasource\": \"./datasource/tc_monitor/ecdn/datasource.ts\",\n\t\"./ecdn/datasource.ts\": \"./datasource/tc_monitor/ecdn/datasource.ts\",\n\t\"./ecdn/query.ts\": \"./datasource/tc_monitor/ecdn/query.ts\",\n\t\"./ecdn/query_def.ts\": \"./datasource/tc_monitor/ecdn/query_def.ts\",\n\t\"./ecm/datasource\": \"./datasource/tc_monitor/ecm/datasource.ts\",\n\t\"./ecm/datasource.ts\": \"./datasource/tc_monitor/ecm/datasource.ts\",\n\t\"./ecm/query.ts\": \"./datasource/tc_monitor/ecm/query.ts\",\n\t\"./ecm/query_def.ts\": \"./datasource/tc_monitor/ecm/query_def.ts\",\n\t\"./ecm_block_storage/datasource\": \"./datasource/tc_monitor/ecm_block_storage/datasource.ts\",\n\t\"./ecm_block_storage/datasource.ts\": \"./datasource/tc_monitor/ecm_block_storage/datasource.ts\",\n\t\"./ecm_block_storage/query.ts\": \"./datasource/tc_monitor/ecm_block_storage/query.ts\",\n\t\"./ecm_block_storage/query_def.ts\": \"./datasource/tc_monitor/ecm_block_storage/query_def.ts\",\n\t\"./ecm_lb/datasource\": \"./datasource/tc_monitor/ecm_lb/datasource.ts\",\n\t\"./ecm_lb/datasource.ts\": \"./datasource/tc_monitor/ecm_lb/datasource.ts\",\n\t\"./ecm_lb/query.ts\": \"./datasource/tc_monitor/ecm_lb/query.ts\",\n\t\"./ecm_lb/query_def.ts\": \"./datasource/tc_monitor/ecm_lb/query_def.ts\",\n\t\"./gse/datasource\": \"./datasource/tc_monitor/gse/datasource.ts\",\n\t\"./gse/datasource.ts\": \"./datasource/tc_monitor/gse/datasource.ts\",\n\t\"./gse/query.ts\": \"./datasource/tc_monitor/gse/query.ts\",\n\t\"./gse/query_def.ts\": \"./datasource/tc_monitor/gse/query_def.ts\",\n\t\"./lb/datasource\": \"./datasource/tc_monitor/lb/datasource.ts\",\n\t\"./lb/datasource.ts\": \"./datasource/tc_monitor/lb/datasource.ts\",\n\t\"./lb/query.ts\": \"./datasource/tc_monitor/lb/query.ts\",\n\t\"./lb/query_def.ts\": \"./datasource/tc_monitor/lb/query_def.ts\",\n\t\"./lighthouse/datasource\": \"./datasource/tc_monitor/lighthouse/datasource.ts\",\n\t\"./lighthouse/datasource.ts\": \"./datasource/tc_monitor/lighthouse/datasource.ts\",\n\t\"./lighthouse/query.ts\": \"./datasource/tc_monitor/lighthouse/query.ts\",\n\t\"./lighthouse/query_def.ts\": \"./datasource/tc_monitor/lighthouse/query_def.ts\",\n\t\"./mongodb/datasource\": \"./datasource/tc_monitor/mongodb/datasource.ts\",\n\t\"./mongodb/datasource.ts\": \"./datasource/tc_monitor/mongodb/datasource.ts\",\n\t\"./mongodb/query.ts\": \"./datasource/tc_monitor/mongodb/query.ts\",\n\t\"./mongodb/query_def.ts\": \"./datasource/tc_monitor/mongodb/query_def.ts\",\n\t\"./mr/datasource\": \"./datasource/tc_monitor/mr/datasource.ts\",\n\t\"./mr/datasource.ts\": \"./datasource/tc_monitor/mr/datasource.ts\",\n\t\"./mr/query.ts\": \"./datasource/tc_monitor/mr/query.ts\",\n\t\"./mr/query_def.ts\": \"./datasource/tc_monitor/mr/query_def.ts\",\n\t\"./nat_gateway/datasource\": \"./datasource/tc_monitor/nat_gateway/datasource.ts\",\n\t\"./nat_gateway/datasource.ts\": \"./datasource/tc_monitor/nat_gateway/datasource.ts\",\n\t\"./nat_gateway/query.ts\": \"./datasource/tc_monitor/nat_gateway/query.ts\",\n\t\"./nat_gateway/query_def.ts\": \"./datasource/tc_monitor/nat_gateway/query_def.ts\",\n\t\"./ov_cdn/datasource\": \"./datasource/tc_monitor/ov_cdn/datasource.ts\",\n\t\"./ov_cdn/datasource.ts\": \"./datasource/tc_monitor/ov_cdn/datasource.ts\",\n\t\"./ov_cdn/query.ts\": \"./datasource/tc_monitor/ov_cdn/query.ts\",\n\t\"./ov_cdn/query_def.ts\": \"./datasource/tc_monitor/ov_cdn/query_def.ts\",\n\t\"./pcx/datasource\": \"./datasource/tc_monitor/pcx/datasource.ts\",\n\t\"./pcx/datasource.ts\": \"./datasource/tc_monitor/pcx/datasource.ts\",\n\t\"./pcx/query.ts\": \"./datasource/tc_monitor/pcx/query.ts\",\n\t\"./pcx/query_def.ts\": \"./datasource/tc_monitor/pcx/query_def.ts\",\n\t\"./postgresql/datasource\": \"./datasource/tc_monitor/postgresql/datasource.ts\",\n\t\"./postgresql/datasource.ts\": \"./datasource/tc_monitor/postgresql/datasource.ts\",\n\t\"./postgresql/query.ts\": \"./datasource/tc_monitor/postgresql/query.ts\",\n\t\"./postgresql/query_def.ts\": \"./datasource/tc_monitor/postgresql/query_def.ts\",\n\t\"./qaap/datasource\": \"./datasource/tc_monitor/qaap/datasource.ts\",\n\t\"./qaap/datasource.ts\": \"./datasource/tc_monitor/qaap/datasource.ts\",\n\t\"./qaap/query.ts\": \"./datasource/tc_monitor/qaap/query.ts\",\n\t\"./qaap/query_def.ts\": \"./datasource/tc_monitor/qaap/query_def.ts\",\n\t\"./redis/datasource\": \"./datasource/tc_monitor/redis/datasource.ts\",\n\t\"./redis/datasource.ts\": \"./datasource/tc_monitor/redis/datasource.ts\",\n\t\"./redis/query.ts\": \"./datasource/tc_monitor/redis/query.ts\",\n\t\"./redis/query_def.ts\": \"./datasource/tc_monitor/redis/query_def.ts\",\n\t\"./redis_mem/datasource\": \"./datasource/tc_monitor/redis_mem/datasource.ts\",\n\t\"./redis_mem/datasource.ts\": \"./datasource/tc_monitor/redis_mem/datasource.ts\",\n\t\"./redis_mem/query.ts\": \"./datasource/tc_monitor/redis_mem/query.ts\",\n\t\"./redis_mem/query_def.ts\": \"./datasource/tc_monitor/redis_mem/query_def.ts\",\n\t\"./scf/datasource\": \"./datasource/tc_monitor/scf/datasource.ts\",\n\t\"./scf/datasource.ts\": \"./datasource/tc_monitor/scf/datasource.ts\",\n\t\"./scf/query.ts\": \"./datasource/tc_monitor/scf/query.ts\",\n\t\"./scf/query_def.ts\": \"./datasource/tc_monitor/scf/query_def.ts\",\n\t\"./sqlserver/datasource\": \"./datasource/tc_monitor/sqlserver/datasource.ts\",\n\t\"./sqlserver/datasource.ts\": \"./datasource/tc_monitor/sqlserver/datasource.ts\",\n\t\"./sqlserver/query.ts\": \"./datasource/tc_monitor/sqlserver/query.ts\",\n\t\"./sqlserver/query_def.ts\": \"./datasource/tc_monitor/sqlserver/query_def.ts\",\n\t\"./tcaplus/datasource\": \"./datasource/tc_monitor/tcaplus/datasource.ts\",\n\t\"./tcaplus/datasource.ts\": \"./datasource/tc_monitor/tcaplus/datasource.ts\",\n\t\"./tcaplus/query.ts\": \"./datasource/tc_monitor/tcaplus/query.ts\",\n\t\"./tcaplus/query_def.ts\": \"./datasource/tc_monitor/tcaplus/query_def.ts\",\n\t\"./tdmq/datasource\": \"./datasource/tc_monitor/tdmq/datasource.ts\",\n\t\"./tdmq/datasource.ts\": \"./datasource/tc_monitor/tdmq/datasource.ts\",\n\t\"./tdmq/query.ts\": \"./datasource/tc_monitor/tdmq/query.ts\",\n\t\"./tdmq/query_def.ts\": \"./datasource/tc_monitor/tdmq/query_def.ts\",\n\t\"./tdmq_rabbitmq/datasource\": \"./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts\",\n\t\"./tdmq_rabbitmq/datasource.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts\",\n\t\"./tdmq_rabbitmq/query.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/query.ts\",\n\t\"./tdmq_rabbitmq/query_def.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts\",\n\t\"./tdmq_rocketmq/datasource\": \"./datasource/tc_monitor/tdmq_rocketmq/datasource.ts\",\n\t\"./tdmq_rocketmq/datasource.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/datasource.ts\",\n\t\"./tdmq_rocketmq/query.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/query.ts\",\n\t\"./tdmq_rocketmq/query_def.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/query_def.ts\",\n\t\"./tke/datasource\": \"./datasource/tc_monitor/tke/datasource.ts\",\n\t\"./tke/datasource.ts\": \"./datasource/tc_monitor/tke/datasource.ts\",\n\t\"./tke/query.ts\": \"./datasource/tc_monitor/tke/query.ts\",\n\t\"./tke/query_def.ts\": \"./datasource/tc_monitor/tke/query_def.ts\",\n\t\"./tsf/datasource\": \"./datasource/tc_monitor/tsf/datasource.ts\",\n\t\"./tsf/datasource.ts\": \"./datasource/tc_monitor/tsf/datasource.ts\",\n\t\"./tsf/query.ts\": \"./datasource/tc_monitor/tsf/query.ts\",\n\t\"./tsf/query_def.ts\": \"./datasource/tc_monitor/tsf/query_def.ts\",\n\t\"./v_clb/datasource\": \"./datasource/tc_monitor/v_clb/datasource.ts\",\n\t\"./v_clb/datasource.ts\": \"./datasource/tc_monitor/v_clb/datasource.ts\",\n\t\"./v_clb/query.ts\": \"./datasource/tc_monitor/v_clb/query.ts\",\n\t\"./v_clb/query_def.ts\": \"./datasource/tc_monitor/v_clb/query_def.ts\",\n\t\"./vbc/datasource\": \"./datasource/tc_monitor/vbc/datasource.ts\",\n\t\"./vbc/datasource.ts\": \"./datasource/tc_monitor/vbc/datasource.ts\",\n\t\"./vbc/query.ts\": \"./datasource/tc_monitor/vbc/query.ts\",\n\t\"./vbc/query_def.ts\": \"./datasource/tc_monitor/vbc/query_def.ts\",\n\t\"./vpc_net_detect/datasource\": \"./datasource/tc_monitor/vpc_net_detect/datasource.ts\",\n\t\"./vpc_net_detect/datasource.ts\": \"./datasource/tc_monitor/vpc_net_detect/datasource.ts\",\n\t\"./vpc_net_detect/query.ts\": \"./datasource/tc_monitor/vpc_net_detect/query.ts\",\n\t\"./vpc_net_detect/query_def.ts\": \"./datasource/tc_monitor/vpc_net_detect/query_def.ts\",\n\t\"./vpngw/datasource\": \"./datasource/tc_monitor/vpngw/datasource.ts\",\n\t\"./vpngw/datasource.ts\": \"./datasource/tc_monitor/vpngw/datasource.ts\",\n\t\"./vpngw/query.ts\": \"./datasource/tc_monitor/vpngw/query.ts\",\n\t\"./vpngw/query_def.ts\": \"./datasource/tc_monitor/vpngw/query_def.ts\",\n\t\"./vpnx/datasource\": \"./datasource/tc_monitor/vpnx/datasource.ts\",\n\t\"./vpnx/datasource.ts\": \"./datasource/tc_monitor/vpnx/datasource.ts\",\n\t\"./vpnx/query.ts\": \"./datasource/tc_monitor/vpnx/query.ts\",\n\t\"./vpnx/query_def.ts\": \"./datasource/tc_monitor/vpnx/query_def.ts\",\n\t\"./waf/datasource\": \"./datasource/tc_monitor/waf/datasource.ts\",\n\t\"./waf/datasource.ts\": \"./datasource/tc_monitor/waf/datasource.ts\",\n\t\"./waf/query.ts\": \"./datasource/tc_monitor/waf/query.ts\",\n\t\"./waf/query_def.ts\": \"./datasource/tc_monitor/waf/query_def.ts\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./datasource/tc_monitor sync recursive ^\\\\.\\\\/[a-zA-Z]\\\\w+\\\\/(datasource)|(query(_def)?)\\\\.ts$\";","import _ from 'lodash';\nimport { Datasources, SERVICES } from './index';\nimport { GetServiceFromNamespace, ParseMetricQuery } from '../common/constants';\nimport { serviceGroupBy } from '../common/utils';\nimport { LoadingState } from '@grafana/data';\n\nexport default interface DatasourceInterface {\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n  query: (options: any) => any;\n  testDatasource: () => any;\n  metricFindQuery: (query: any) => any;\n  getRegions?: (service: string) => any;\n  getMetrics: (service: string, region: string) => any;\n  getInstances: (service: string, region: string, params: any) => any;\n  getZones?: (service: string, region: string) => any;\n}\n\nexport class TCMonitorDatasource implements DatasourceInterface {\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n\n  /** @ngInject */\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    this.instanceSettings = instanceSettings;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    _.forEach(Datasources, (_class: any, key) => {\n      this[key] = new _class(this.instanceSettings, this.backendSrv, this.templateSrv);\n    });\n  }\n\n  // 根据 Datasource Config 配置时勾选的监控服务项，获取相应的命名空间\n  getNamespaces() {\n    const namespaces: any[] = [];\n    _.forEach(SERVICES, (service) => {\n      if (this.instanceSettings.jsonData[service.service] === true) {\n        // namespaces.push(service.namespace);\n        namespaces.push(service);\n      }\n    });\n    return namespaces;\n  }\n\n  getCascaderNamespaces() {\n    const validServices = SERVICES.filter((service) => this.instanceSettings.jsonData[service.service]);\n    return serviceGroupBy(validServices);\n  }\n\n  getSelectedServices() {\n    const namespaces = this.getNamespaces();\n    return _.map(namespaces, ({ namespace }) => {\n      return GetServiceFromNamespace(namespace);\n    });\n  }\n\n  /**\n   * 根据 Panel 的配置项，获取相应的监控数据\n   *\n   * @param options Panel 的配置参数，示例如下\n   *  {\n   *     cacheTimeout: undefined,\n   *     dashboardId: 41,\n   *     interval: \"30s\",\n   *     intervalMs: 30000,\n   *     maxDataPoints: 554,\n   *     panelId: 2,\n   *     range: {\n   *        from: Moment,\n   *        to: Moment,\n   *        raw: {from: \"now-6h\", to: \"now\"}\n   *     },\n   *     rangeRaw: {from: \"now-6h\", to: \"now\"},\n   *     scopedVars: {__interval: {…}, __interval_ms: {…}}\n   *     targets: [\n   *       {\n   *          namespace: \"QCE/CVM\",\n   *          refId: \"A\",\n   *          service: \"cvm\",\n   *          showInstanceDetails: false,\n   *          cvm: {\n   *            dimensionObject: {InstanceId: {…}}\n   *            instance: \"\",\n   *            instanceAlias: \"InstanceId\",\n   *            metricName: \"AccOuttraffic\",\n   *            metricUnit: \"MB\",\n   *            period: 10,\n   *            queries: {Filters: {…}, InstanceIds: Array(1), Limit: 20, Offset: 0, filtersChecked: false, …},\n   *            region: \"ap-beijing\"\n   *          },\n   *          cdb: {},\n   *       },\n   *     ],\n   *     timezone: \"browser\"\n   *   }\n   * @return 返回数据对象，示例如下\n   * {\n   *   data: [\n   *     {\n   *       \"target\": \"AccOuttraffic - ins-123\",\n   *       \"datapoints\": [\n   *         [861, 1450754160000],\n   *         [767, 1450754220000]\n   *       ]\n   *     }\n   *   ]\n   * }\n   */\n  query(options: any) {\n    const promises: any[] = [];\n    const services = this.getSelectedServices();\n    _.forEach(services, (service) => {\n      const optionsTemp = _.cloneDeep(options);\n      const targets = _.filter(optionsTemp.targets, (item) => item.service === service);\n      optionsTemp.targets = targets;\n      if (optionsTemp.targets.length > 0) {\n        const promiseTemp = this[`${_.toUpper(service)}Datasource`].query(optionsTemp);\n        if (promiseTemp) {\n          promises.push(promiseTemp);\n        }\n      }\n    });\n    if (promises.length === 0) {\n      return Promise.resolve({ data: [], state: LoadingState.Done });\n    }\n    return Promise.all(promises).then((results) => {\n      return { data: _.flatten(results), state: LoadingState.Done };\n    });\n  }\n\n  /**\n   * 获取模板变量的选择项列表\n   *\n   * @param query 模板变量配置填写的 Query 参数字符串\n   */\n  metricFindQuery(query: string, options?: any) {\n    const queries = ParseMetricQuery(query);\n    const service = GetServiceFromNamespace(queries['namespace'] || '');\n\n    if (_.isEmpty(queries) || !queries['namespace'] || !queries['action'] || !service) {\n      return Promise.resolve([]);\n    }\n    if (this[`${_.toUpper(service)}Datasource`].metricFindQuery) {\n      const result = this[`${_.toUpper(service)}Datasource`].metricFindQuery(\n        queries,\n        _.get(options, 'variable.regex', undefined)\n      );\n      if (result) {\n        return result;\n      }\n    }\n    return Promise.resolve([]);\n  }\n\n  /**\n   * 获取地域列表\n   * @param service\n   */\n  getRegions(service) {\n    if (this[`${_.toUpper(service)}Datasource`].getRegions) {\n      return this[`${_.toUpper(service)}Datasource`].getRegions();\n    }\n    return [];\n  }\n\n  /**\n   * 获取监控指标列表\n   * @param service\n   * @param region\n   */\n  getMetrics(service, region) {\n    return this[`${_.toUpper(service)}Datasource`].getMetrics(region);\n  }\n\n  /**\n   * 获取可用区列表\n   * @param service\n   * @param region\n   */\n  getZones(service, region) {\n    if (this[`${_.toUpper(service)}Datasource`].getZones) {\n      return this[`${_.toUpper(service)}Datasource`].getZones(region);\n    }\n    return [];\n  }\n\n  /**\n   * 获取filter中dropdown列表\n   * @param service\n   * @param param\n   */\n  getFilterDropdown(service, param) {\n    if (this[`${_.toUpper(service)}Datasource`].getFilterDropdown) {\n      return this[`${_.toUpper(service)}Datasource`].getFilterDropdown(param);\n    }\n    return [];\n  }\n\n  /**\n   * 获取实例列表\n   * @param service\n   * @param region\n   * @param params\n   */\n  getInstances(service, region, params) {\n    return this[`${_.toUpper(service)}Datasource`].getInstances(region, params);\n  }\n\n  /**\n   * 获取监听器列表\n   * @param service\n   * @param region\n   * @param params\n   */\n  getListeners(service, region, instance) {\n    if (!this[`${_.toUpper(service)}Datasource`].getListeners) {\n      return [];\n    }\n    return this[`${_.toUpper(service)}Datasource`].getListeners(region, instance);\n  }\n\n  /**\n   * 获取 私有网络列表\n   * @param service\n   */\n  getVpcIds(service, region) {\n    if (this[`${_.toUpper(service)}Datasource`].getVpcIds) {\n      return this[`${_.toUpper(service)}Datasource`].getVpcIds(region);\n    }\n  }\n\n  // 在 Datasource Config 配置时，验证 SerectId、SerectKey 的有效性，并测试勾选的监控服务项的对应 API 连通性\n  testDatasource() {\n    const promises: any[] = [];\n    const services = this.getSelectedServices();\n    _.forEach(services, (service) => {\n      promises.push(this[`${_.toUpper(service)}Datasource`].testDatasource());\n    });\n    if (promises.length === 0) {\n      return Promise.resolve(null);\n    }\n\n    return Promise.all(promises).then((results) => {\n      let status = 'success';\n      let message = 'DataSource Connection OK';\n\n      const errorMsg = _.reduce(\n        results,\n        (acc, cur) => {\n          if (cur.status === 'error') {\n            if (acc === '') acc += 'Oops! Found an error in: ';\n            acc += `${cur.service}: ${cur.message}; \\n`;\n          }\n          return acc;\n        },\n        ''\n      );\n\n      if (errorMsg) {\n        status = 'error';\n        message = errorMsg;\n      }\n\n      return {\n        status,\n        message,\n        title: _.upperFirst(status),\n      };\n    });\n  }\n\n  getServiceFn(service, fnName) {\n    return (...argu) => {\n      if (!this[`${_.toUpper(service)}Datasource`][fnName]) {\n        return [];\n      }\n      return this[`${_.toUpper(service)}Datasource`][fnName](...argu);\n    };\n  }\n}\n","import _ from 'lodash';\nimport moment from 'moment';\nimport DatasourceInterface from '../MonitorDatasource';\nimport {\n  GetRequestParams,\n  GetServiceAPIInfo,\n  ReplaceVariable,\n  GetDimensions,\n  ParseQueryResult,\n  SliceLength,\n} from '../../common/constants';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { MetricQuery } from './types';\nimport { getNamesapceFromService, getTimeShiftInMs } from '../../common/utils';\nimport { Language, setLanguage } from '../../../locale';\n\nexport interface TemplateQueryIdType {\n  instance: string;\n  listener?: string;\n}\n\ninterface queryConfigType {\n  dim_KeyInStorage: string;\n  dim_KeyInTarget?: string;\n  dim_KeyInIns?: string;\n  dim_KeyInMap: string;\n}\n\nexport abstract class BaseDatasource implements DatasourceInterface {\n  Namespace?: string;\n  service: string;\n  instanceListCache: any[] = [];\n  extraMetricDims: string[] = [];\n  url: string;\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n  secretId: string;\n  checkKeys: string[] = [];\n  MetricReqConfig: {\n    resultFilter?: Function;\n  } = {};\n  extrasAlias?: string[] = [];\n  /*\n  一个配置：(用于处理除了InstanceId之外的)(Record中的key是指标修正之后的维度，即通过InvalidDemsion处理后)\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget 通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。为空则取即通过InvalidDemsion处理后的key\n  3 dim_KeyInMap 保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。即：templateQueryIdMap中内容。联合上面2的内容筛选出原始sourceMap\n  4 通过这个dim和sourceMap获取维度值。即sourceMap[dim]\n  */\n  queryMonitorExtraConfg: Record<string, queryConfigType> = {};\n  CandiateDimensions?: Record<string, string> = {};\n\n  InstanceReqConfig?: {\n    service?: string;\n    action: string;\n    responseField: string;\n    interceptor?: {\n      request?: (params: unknown) => unknown;\n      response?: (data: unknown) => unknown;\n    };\n  };\n  InvalidDimensions?: Record<string, string>;\n\n  abstract InstanceAliasList: string[];\n  abstract templateQueryIdMap: TemplateQueryIdType; // 必须为标识\n\n  /** @ngInject */\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    this.instanceSettings = instanceSettings;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    this.url = instanceSettings.url;\n    this.secretId = (instanceSettings.jsonData || {}).secretId || '';\n    setLanguage(instanceSettings.jsonData.language || Language.Chinese);\n  }\n\n  get namespace() {\n    // 需要注意的是this.service来自于原型上，在实例中导入时注入\n    return this.Namespace || getNamesapceFromService(this.service);\n  }\n\n  // 获取额外要显示到图例里的内容\n  getOtherAlias(instance: any, target: any): string {\n    let result = '';\n    const alias = instance._InstanceAliasValue;\n    this.extrasAlias?.forEach((extra) => {\n      const extraAlia = this.getVariable(target[extra]);\n      if (extraAlia && alias.indexOf(extraAlia) === -1) {\n        result += ` - ${extraAlia}`;\n      }\n    });\n    return result;\n  }\n\n  /* 格式化模板变量上的显示 */\n  getAliasValue(instance: Record<string, any>, alias: string) {\n    const result = instance[alias];\n    return Array.isArray(result) ? result.join() : result;\n  }\n\n  formatVarDisplay(instance: Record<string, any>, displayTpl: string | undefined, instanceAlias: string) {\n    // 获取display=aaa${InstanceName}bbb${InstanceId}ccc\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !this.InstanceAliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(instance, b);\n      });\n    }\n    return this.getAliasValue(instance, instanceAlias);\n  }\n  /**\n   * @param query 模板变量配置填写的 Query 参数对象，由顶层将字符串转换为了对象\n   */\n  async metricFindQuery(query: MetricQuery, regex?: string) {\n    const { action, namespace, display, payload = {} } = query;\n    let { region, instancealias = this.templateQueryIdMap.instance } = query;\n    if (!action || !namespace) {\n      return [];\n    }\n    // 支持payload里传入模板变量\n    if (_.isObject(payload)) {\n      _.forEach(payload, (value, key) => {\n        payload[key] = _.isString(value) ? this.getVariable(value) : value;\n      });\n    }\n\n    // 查询地域列表\n    const regionQuery = action.match(/^DescribeRegions$/i);\n    if (regionQuery) {\n      return this.getRegions();\n    }\n\n    region = this.getVariable(region); // 将模板region转换为真实值\n\n    // 查询实例列表\n    if (region && action.match(/^DescribeInstances/i)) {\n      const result = await this.getVariableInstances(region, payload);\n      instancealias = this.InstanceAliasList.includes(instancealias) ? instancealias : this.templateQueryIdMap.instance;\n\n      const res = result.flatMap((item) => {\n        const insAlias = this.formatVarDisplay(item, display, instancealias);\n\n        item._InstanceAliasValue = insAlias; // FIXME:\n\n        if (!item[instancealias]) return [];\n        return [\n          {\n            text: insAlias,\n            value: item[this.templateQueryIdMap.instance],\n          },\n        ];\n      });\n\n      // 缓存全量实例列表\n      await instanceStorage.setInstance(this.service, result);\n      return res;\n    }\n\n    // 在instance实例的基础上查询其他数据\n    let instance = this.getVariable(query['instance']);\n    if (_.isArray(instance)) instance = instance[0]; // 有额外维度，仅支持实例单选情况\n    if (region && action && instance) {\n      try {\n        // instance = JSON.parse(instance);\n        const instanceCache = await instanceStorage.getInstance(this.service);\n\n        instance = _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === instance)) ?? {};\n        // eslint-disable-next-line no-empty\n      } catch (error) {}\n      return this.fetchMetricData(action, region, instance, query);\n    }\n\n    return Promise.resolve([]);\n  }\n  // 获取指标数据\n  async fetchMetricData(action: string, region: string, instance: any, query?: any) {\n    return [];\n  }\n\n  /**\n   * 根据 Panel 的配置项，获取相应的监控数据\n   *\n   * @param options Panel 的配置参数\n   * @return 返回数据数组，示例如下\n   * [\n   *   {\n   *     \"target\": \"AccOuttraffic - ins-123\",\n   *     \"datapoints\": [\n   *       [861, 1450754160000],\n   *       [767, 1450754220000]\n   *     ]\n   *   }\n   * ]\n   */\n  async dimensionsFormat(dimKeys, ins, dimensionObject, target, service, options) {\n    for (let key of dimKeys) {\n      let keyTmp = key;\n      const invalidDim = this.InvalidDimensions || this.getInvalidDimensions(this, target[service]);\n      if (invalidDim[key]) {\n        // 从【维度中】的字段到【实例中】字段的映射。 { functionName: FunctionName }\n        keyTmp = invalidDim[key];\n        ins[key] = ins[keyTmp];\n      }\n\n      let extraDimValue = this.getVariable(target[service][keyTmp]);\n      if (this.queryMonitorExtraConfg[keyTmp]) {\n        const {\n          dim_KeyInStorage,\n          dim_KeyInTarget = keyTmp,\n          dim_KeyInMap,\n          dim_KeyInIns,\n        } = this.queryMonitorExtraConfg[keyTmp];\n        let extraIns = ReplaceVariable(this.templateSrv, options.scopedVars, target[service][dim_KeyInTarget], true);\n        let extraSourceMap: any = {};\n        try {\n          extraSourceMap = JSON.parse(extraIns); // 兼容json字符串的 形式\n        } catch (error) {\n          if (_.isArray(extraIns)) extraIns = extraIns[0]; // 如果多个，取第一个。除了实例ID 暂不支持其他纬度多选\n          const extraStorage = await instanceStorage.getExtraStorage(this.service, dim_KeyInStorage);\n\n          extraSourceMap =\n            extraStorage?.find((item) => {\n              if (_.isArray(item[dim_KeyInMap])) {\n                return item[dim_KeyInMap][0] === extraIns;\n              }\n              return item[dim_KeyInMap] === extraIns;\n            }) ?? {};\n        }\n        const isStringOrNumber = _.isString(extraSourceMap) || _.isNumber(extraSourceMap);\n        // 增加ins实例之外的alias，填入到ins._InstanceAliasValue\n        const insAlias = ins._InstanceAliasValue;\n        const otherAlias = isStringOrNumber ? extraSourceMap : extraSourceMap._InstanceAliasValue;\n        if (otherAlias && insAlias.indexOf(otherAlias) === -1) {\n          ins._InstanceAliasValue += ` - ${otherAlias}`;\n        }\n\n        extraDimValue = isStringOrNumber ? extraSourceMap : extraSourceMap?.[dim_KeyInIns || keyTmp];\n      } else {\n        ins._InstanceAliasValue += this.getOtherAlias(ins, target[service]);\n      }\n\n      if (\n        getTimeShiftInMs(target[service].timeshift) > 0 &&\n        ins._InstanceAliasValue.indexOf(target[service].timeshift) === -1\n      ) {\n        ins._InstanceAliasValue += `_${target[service].timeshift}`;\n      }\n      // 设置instance，针对额外的维度，需要注意模板变量的值\n      // ins[key] = ins[keyTmp] ?? extraDimValue;\n      ins[key] = this.getDimensionsVal(ins, keyTmp, extraDimValue);\n      // cynosdb产品接口返回维度和入参不一致\n      if (this.checkKeys.length > 0) {\n        this.checkKeys.forEach((Ekey) => {\n          ins[Ekey] = ins[key];\n        });\n      }\n      dimensionObject[key] = { Name: key, Value: ins[key] };\n    }\n    return dimensionObject;\n  }\n  getDimensionsVal(ins: Record<string, any>, key: string, extraDimValue: string) {\n    let dimVal = ins[key];\n    if (_.isEmpty(dimVal) && this.CandiateDimensions[key]) {\n      dimVal = ins[this.CandiateDimensions[key]];\n    }\n    return dimVal ?? extraDimValue;\n  }\n  query(options: any) {\n    const service = this.service!; // 强制声明非空\n\n    const queries = _.filter(options.targets, (item) => {\n      // 过滤无效的查询 target\n      return (\n        item.hide !== true &&\n        !!item.namespace &&\n        !!item[service].metricName &&\n        !_.isEmpty(ReplaceVariable(this.templateSrv, options.scopedVars, item[service].region, false)) &&\n        !_.isEmpty(ReplaceVariable(this.templateSrv, options.scopedVars, item[service].instance, true))\n      );\n    })\n      .reduce((prev, target) => {\n        if (getTimeShiftInMs(target[service].timeshift) > 0) {\n          const cloneTarget = _.cloneDeep(target);\n          cloneTarget[service].timeshift = '';\n          return [...prev, cloneTarget, target];\n        }\n        return [...prev, target];\n      }, [])\n      .map(async (target) => {\n        // 实例 instances 可能为模板变量，需先获取实际值\n        // 针对JSON字符串和id的形式，分开做处理\n        let instances = ReplaceVariable(this.templateSrv, options.scopedVars, target[service].instance, true);\n        const instanceCache = await instanceStorage.getInstance(this.service);\n        const timeshift = getTimeShiftInMs(target[service].timeshift);\n\n        instances = [].concat(instances).map((inst) => {\n          try {\n            return JSON.parse(inst); // 兼容json字符串的 形式\n          } catch (error) {\n            // 如果没拿到缓存，取默认实例组\n            if (!instanceCache) return this.getDefaultInsObj?.(inst);\n            return _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === inst)) ?? {};\n          }\n        });\n        const region = ReplaceVariable(this.templateSrv, options.scopedVars, target[service].region, false);\n        const insInReq: any = [];\n        for (let ins of instances) {\n          const dimensionObject = target[service].dimensionObject;\n          // 处理dimensions的值\n          const dimKeys = Object.keys(dimensionObject);\n          const dimResult = await this.dimensionsFormat(dimKeys, ins, dimensionObject, target, service, options);\n\n          insInReq.push([{ Dimensions: GetDimensions(dimResult) }]);\n        }\n        const data = {\n          StartTime: moment(options.range.from).subtract(timeshift).format(),\n          EndTime: moment(options.range.to).subtract(timeshift).format(),\n          Period: target[service].period || 300,\n          Instances: _.flatMap(insInReq),\n          Namespace: target.namespace,\n          MetricName: target[service].metricName,\n        };\n        return this.getMonitorData(data, region, instances, target[service], options);\n      });\n\n    if (queries.length === 0) {\n      return [];\n    }\n\n    return Promise.all(queries)\n      .then((responses) => {\n        return _.flatten(responses);\n      })\n      .catch((error) => {\n        return [];\n      });\n  }\n  getDefaultInsObj(ins: string) {\n    return {} as any;\n  }\n  getInstanceReqConfig(selfIns: any) {\n    return {} as any;\n  }\n  getInvalidDimensions(selfIns: any, target?: any) {\n    return {} as any;\n  }\n  // 获取某个变量的实际值，this.templateSrv.replace() 函数返回实际值的字符串\n  getVariable(metric?: string) {\n    const rs = this.templateSrv.replace((metric || '').trim());\n    const valStr = rs.match(/\\{([\\w-,]+)\\}/);\n    // 判断是否为多选\n    if (valStr) {\n      return valStr[1].split(',');\n    }\n    return rs;\n  }\n\n  /**\n   * 获取 监控数据\n   * @param params 获取监控数据的请求参数\n   * @param region 地域信息\n   * @param instances 实例列表，用于对返回结果的匹配解析\n   */\n  getMonitorData(params, region, instances, target, options) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const timeshift = getTimeShiftInMs(target.timeshift);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { action: 'GetMonitorData', region }\n    ).then((response) => {\n      return ParseQueryResult(response, instances, timeshift);\n    });\n  }\n\n  getRegions(): any {\n    return this.doRequest(\n      {\n        url: this.url + '/cvm',\n      },\n      'cvm',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getMetrics(region = 'ap-guangzhou'): Promise<any> {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: this.namespace,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    ).then((response) => {\n      const res = _.filter(\n        _.filter(response.MetricSet || [], (item) => !(item.Namespace !== this.namespace || !item.MetricName))\n      );\n      const resFilterFn = this.MetricReqConfig.resultFilter;\n      if (resFilterFn) {\n        return res.map((item) => resFilterFn(item));\n      }\n      return res;\n    });\n  }\n\n  getInstances(region, params = {}) {\n    const {\n      service = this.service,\n      action,\n      responseField: field,\n      interceptor,\n    } = this.InstanceReqConfig || this.getInstanceReqConfig(this);\n    params = { Offset: 0, Limit: 100, ...params };\n    const serviceInfo = GetServiceAPIInfo(region, service);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: interceptor?.request ? interceptor.request(params) : params,\n      },\n      serviceInfo.service,\n      { region, action }\n    ).then((response) => {\n      // 处理异常，则不按正常的情况处理，直接抛出错误\n      if (response?.Error) {\n        console.error(response.Error);\n        return response;\n      }\n\n      let result;\n      // 先，field处理\n      if (field) {\n        result = _.get(response, field) ?? _.get(response, `Result.${field}`) ?? [];\n      }\n\n      // 后，拦截器处理\n      if (interceptor?.response) {\n        result = interceptor.response(result);\n      }\n      return result;\n    });\n  }\n\n  getVariableInstances(region, query = {}): Promise<any[]> {\n    let result: any[] = [];\n    const params = { ...{ Offset: 0, Limit: 100 }, ...query };\n\n    const {\n      service = this.service,\n      action,\n      responseField: field,\n      interceptor,\n    } = this.InstanceReqConfig || this.getInstanceReqConfig(this);\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: interceptor?.request ? interceptor.request(params) : params,\n      },\n      serviceInfo.service,\n      { region, action }\n    ).then((response) => {\n      result = _.get(response, field) ?? _.get(response, `Result.${field}`) ?? [];\n      const total =\n        response.TotalCount ?? response.TotalCnt ?? response.TotalNumber ?? _.get(response, `Result.TotalCount`) ?? 0;\n      if (result.length >= total) {\n        return interceptor?.response ? interceptor.response(result) : result;\n      } else {\n        const param = SliceLength(total, params?.Limit || 100);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getInstances(region, { ...item, ...query }));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return interceptor?.response ? interceptor.response(result) : result;\n          })\n          .catch((error) => {\n            return interceptor?.response ? interceptor.response(result) : result;\n          });\n      }\n    });\n  }\n\n  // 检查某变量字段是否有值\n  isValidConfigField(field: string) {\n    return field && field.length > 0;\n  }\n\n  testDatasource() {\n    // const { service = this.service, action } = this.InstanceReqConfig;\n    // const serviceInfo = GetServiceAPIInfo('ap-guangzhou', service);\n\n    if (!this.isValidConfigField(this.secretId)) {\n      return {\n        service: this.service,\n        status: 'error',\n        message: 'The SecretId/SecretKey field is required.',\n      };\n    }\n\n    return Promise.all([\n      this.getRegions(),\n      this.getMetrics(),\n      // this.doRequest(\n      //   {\n      //     url: this.url + serviceInfo.path,\n      //     data: {\n      //       Offset: 0,\n      //       Limit: 1,\n      //     },\n      //   },\n      //   service,\n      //   { region: 'ap-guangzhou', action },\n      // ),\n      this.getInstances('ap-guangzhou', {\n        Offset: 0,\n        Limit: 1,\n      }),\n    ])\n      .then((responses) => {\n        const cvmErr = _.get(responses, '[0].Error', {});\n        const monitorErr = _.get(responses, '[1].Error', {});\n        const serviceErr = _.get(responses, '[2].Error', {});\n        // const cvmAuthFail = _.get(cvmErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        // const monitorAuthFail = _.get(monitorErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        // const serviceAuthFail = _.get(serviceErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        const cvmAuthFail = _.get(cvmErr, 'Code', '');\n        const monitorAuthFail = _.get(monitorErr, 'Code', '');\n        const serviceAuthFail = _.get(serviceErr, 'Code', '');\n        if (cvmAuthFail || monitorAuthFail || serviceAuthFail) {\n          const messages: any[] = [];\n          if (cvmAuthFail) {\n            messages.push(_.get(cvmErr, 'Code'));\n          }\n          if (monitorAuthFail) {\n            messages.push(_.get(monitorErr, 'Code'));\n          }\n          if (serviceAuthFail) {\n            messages.push(_.get(serviceErr, 'Code'));\n          }\n          const message = _.join(_.compact(_.uniq(messages)), '; ');\n          return {\n            service: this.service,\n            status: 'error',\n            message,\n          };\n        } else {\n          return {\n            namespace: this.namespace,\n            service: this.service,\n            status: 'success',\n            message: `Successfully queried the ${this.service} service.`,\n            title: 'Success',\n          };\n        }\n      })\n      .catch((error) => {\n        let message = `${this.service} service:`;\n        message += error.statusText ? error.statusText + '; ' : '';\n        if (_.get(error, 'data.error.code', '')) {\n          message += error.data.error.code + '. ' + error.data.error.message;\n        } else if (_.get(error, 'data.error', '')) {\n          message += error.data.error;\n        } else if (_.get(error, 'data', '')) {\n          message += error.data;\n        } else {\n          message += `Cannot connect to ${this.service} service.`;\n        }\n        return {\n          service: this.service,\n          status: 'error',\n          message: message,\n        };\n      });\n  }\n\n  async doRequest(options, service, signObj: any = {}) {\n    options = await GetRequestParams(\n      options,\n      service,\n      signObj,\n      this.secretId,\n      this.instanceSettings.id,\n      this.backendSrv\n    );\n    return this.backendSrv\n      .datasourceRequest(options)\n      .then((response) => {\n        return _.get(response, 'data.Response', {});\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { DetailQueryConfig } from './types';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nfunction classFactory(detailConfig) {\n  return class QueryCtrl {\n    static _config: DetailQueryConfig;\n\n    /** @ngInject */\n    constructor($scope, $rootScope) {\n      Object.assign($scope, detailConfig);\n\n      $scope.getDropdown = (field) => {\n        const service = GetServiceFromNamespace($scope.namespace);\n        return $scope.datasource.getFilterDropdown(service, { field, region: $scope.region });\n      };\n    }\n  };\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"{{instanceDocUrl}}\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in fieldDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownMulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <gf-form-dropdown \n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\" \n        allow-custom=\"true\" \n        lookup-text=\"true\" \n        get-options=\"getDropdown(field.key)\" \n        css-class=\"min-width-10\"\n        on-change=\"onChange()\">\n      </gf-form-dropdown>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n      <gf-form-switch \n        ng-if=\"field.type === 'switch'\"\n        class=\"gf-form tc-switch\" \n        label-class=\"width-7\" \n        checked=\"target.queries[field.key]\" \n        switch-class=\"max-width-5\"\n      ></gf-form-switch>\n    </div>\n  </div>\n</div>\n  </div>\n`;\nfunction queryDDOFactory(QueryCtrl) {\n  return function queryDDO() {\n    return {\n      template: template,\n      controller: QueryCtrl,\n      restrict: 'E',\n      scope: {\n        target: '=',\n        showDetail: '=',\n        region: '=',\n        datasource: '=',\n        getDropdownOptions: '&',\n        onChange: '&',\n      },\n    };\n  };\n}\n\nexport default (name: string, config: DetailQueryConfig) => {\n  // QueryCtrl._config = config;\n  const newQueryIns = classFactory(config);\n  coreModule.directive(name, queryDDOFactory(newQueryIns));\n};\n","import coreModule from 'grafana/app/core/core_module';\nimport { DetailQueryConfig } from './types';\n\nclass SPQueryCtrl {\n  static _config: DetailQueryConfig;\n\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    Object.assign($scope, SPQueryCtrl._config);\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"{{instanceDocUrl}}\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      InstanceIds\n      <info-popover mode=\"right-normal\">\n        实例 ID，每次请求的实例的上限为100，参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CVMFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n</div>\n`;\n\nexport function queryDDO() {\n  return {\n    template: template,\n    controller: SPQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\nexport default (name: string, config: DetailQueryConfig) => {\n  SPQueryCtrl._config = config;\n  coreModule.directive(name, queryDDO);\n};\n","import {\n  APIGATEWAYInstanceAliasList,\n  APIGATEWAYInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = APIGATEWAYInstanceAliasList;\n  InvalidDimensions = APIGATEWAYInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'apigateway',\n    action: 'DescribeServicesStatus',\n    responseField: 'ServiceSet',\n  };\n\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async getEnvironmentNameList(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeServiceEnvironmentList' }\n        );\n      },\n      {\n        ServiceId: instanceId,\n      },\n      'EnvironmentList'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'DescribeServiceEnvironmentList') {\n      const rs = await this.getEnvironmentNameList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.environmentName];\n        return {\n          text: o[this.templateQueryIdMap.environmentName],\n          value: o[this.templateQueryIdMap.environmentName],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.environmentList, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { APIGATEWAYFilterFieldsDescriptor, templateQueryIdMap, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.APIGATEWAYFilterFieldsDescriptor = APIGATEWAYFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      // console.log({namespace, service});\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraDropdown = async (target) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const instanceId = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getEnvironmentNameList')({ region, instanceId });\n\n      const result = rs.map((o) => {\n        return {\n          text: o.EnvironmentName,\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in APIGATEWAYFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">EnvironmentName</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target.EnvironmentName\" allow-custom=\"true\" lookup-text=\"true\"  get-options=\"getExtraDropdown(target)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/APIGATEWAY';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'apigatewayQuery';\n\nconst APIGATEWAYInvalidDemensions = {\n  serviceId: 'ServiceId',\n  environmentName: 'EnvironmentName',\n  apiid: 'Apiid',\n  apiId: 'Apiid',\n};\n\n// 需和文件名对应\nconst APIGATEWAYInstanceAliasList = ['ServiceId', 'ServiceName'];\n\nconst templateQueryIdMap = {\n  instance: 'ServiceId',\n  environmentName: 'EnvironmentName',\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  environmentList: 'EnvironmentList',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  EnvironmentName: {\n    dim_KeyInStorage: keyInStorage.environmentList,\n    dim_KeyInTarget: 'EnvironmentName',\n    dim_KeyInMap: templateQueryIdMap.environmentName,\n  },\n};\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst APIGATEWAYFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ServiceId: [],\n  ServiceName: [],\n  NotUsagePlanId: [],\n  Environment: [],\n  IpVersion: [],\n};\n\nconst APIGATEWAYFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ServiceId',\n    enDescriptor: 'ServiceId',\n    cnDescriptor: '服务id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ServiceName',\n    enDescriptor: 'ServiceName',\n    cnDescriptor: '服务名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'NotUsagePlanId',\n    enDescriptor: 'NotUsagePlanId',\n    cnDescriptor: 'NotUsagePlanId',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Environment',\n    enDescriptor: 'Environment',\n    cnDescriptor: '环境名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'IpVersion',\n    enDescriptor: 'IpVersion',\n    cnDescriptor: 'IP版本',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/628/45198',\n  namespace,\n  fieldDescriptor: APIGATEWAYFilterFieldsDescriptor,\n};\n\nconst APIGATEWAY_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ServiceId',\n  EnvironmentName: '',\n  queries: APIGATEWAYFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nexport default APIGATEWAY_STATE;\nexport {\n  APIGATEWAYFilterFieldsDescriptor,\n  templateQueryIdMap,\n  APIGATEWAYInstanceAliasList,\n  APIGATEWAYInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as APIGATEWAYGetInstanceQueryParams,\n};\n","import {\n  BMINTRALBInstanceAliasList,\n  BMINTRALBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  isValidMetric,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMINTRALBInstanceAliasList;\n  InvalidDimensions = BMINTRALBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bmlb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        LoadBalancerType: 'internal',\n      }), // 设置一些请求参数的 默认值\n    },\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return item;\n        }\n        return null;\n      })\n    );\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_INTRA_LB';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'bmIntraLbQuery';\n\nconst BMINTRALBInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n  vpcId: 'VpcId',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst BMINTRALBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst BMINTRALBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n};\n\nconst BMINTRALBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: '负载均衡器ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '负载均衡器名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: '负载均衡获得的公网IP地址',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1027/33280',\n  namespace,\n  fieldDescriptor: BMINTRALBFilterFieldsDescriptor,\n};\n\nconst BMINTRALB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: BMINTRALBFilterFields,\n};\nconst BMLBValidMetricsT = ['Inpkg', 'Outpkg', 'Intraffic', 'Outtraffic', 'Connum', 'Req'];\nfunction isValidMetric(metric) {\n  const validMetrics = _.map(BMLBValidMetricsT, _.toUpper);\n  return _.indexOf(validMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default BMINTRALB_STATE;\nexport {\n  BMINTRALBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMINTRALBInstanceAliasList,\n  BMINTRALBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMINTRALBGetInstanceQueryParams,\n};\n","import { BMLBInstanceAliasList, CPMInvalidDemensions, namespace, templateQueryIdMap, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMLBInstanceAliasList;\n  InvalidDimensions = CPMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bmlb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        LoadBalancerType: 'open',\n      }), // 设置一些请求参数的 默认值\n    },\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return item;\n        }\n        return null;\n      })\n    );\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_LB';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'bmLbQuery';\n\nconst CPMInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst BMLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst CPMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n};\n\nconst CPMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: '负载均衡器ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '负载均衡器名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: '负载均衡获得的公网IP地址',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1027/33280',\n  namespace,\n  fieldDescriptor: CPMFilterFieldsDescriptor,\n};\n\nconst CPM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: CPMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nconst BMLBValidMetricsT = ['Inpkg', 'Outpkg', 'Intraffic', 'Outtraffic', 'Connum', 'Req'];\nfunction isValidMetric(metric) {\n  const validMetrics = _.map(BMLBValidMetricsT, _.toUpper);\n  return _.indexOf(validMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nexport default CPM_STATE;\nexport {\n  CPMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMLBInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMLBGetInstanceQueryParams,\n};\n","import {\n  BMPCXInstanceAliasList,\n  BMPCXInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMPCXInstanceAliasList;\n  InvalidDimensions = BMPCXInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bmvpc',\n    action: 'DescribeVpcPeerConnections',\n    responseField: 'VpcPeerConnectionSet',\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_PCX';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'bmPcxQuery';\n\nconst BMPCXInvalidDemensions = {\n  peeringConnectionId: 'VpcPeerConnectionId',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst BMPCXInstanceAliasList = ['VpcPeerConnectionId', 'VpcPeerConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpcPeerConnectionId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst BMPCXFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  VpcPeerConnectionIds: [],\n};\n\nconst BMPCXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'VpcPeerConnectionIds',\n    enDescriptor: 'VpcPeerConnectionIds',\n    cnDescriptor: '对等连接实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/product/1024/36903',\n  namespace,\n  fieldDescriptor: BMPCXFilterFieldsDescriptor,\n};\n\nconst BMPCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpcPeerConnectionId',\n  queries: BMPCXFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['peeringConnectionId'];\n  });\n  return metricTmp;\n}\nexport default BMPCX_STATE;\nexport {\n  BMPCXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMPCXInstanceAliasList,\n  BMPCXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMPCXGetInstanceQueryParams,\n};\n","import { BWPInstanceAliasList, BWPInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class BWPDatasource extends BaseDatasource {\n  Namespace = 'QCE/BWP';\n  InstanceAliasList = BWPInstanceAliasList;\n  InvalidDimensions = BWPInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'BandwidthPackageId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeBandwidthPackages',\n    responseField: 'BandwidthPackageSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { BWPFilterFieldsDescriptor } from './query_def';\n\nexport class BWPQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.BWPFilterFieldsDescriptor = BWPFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      BandwidthPackageIds\n      <info-popover mode=\"right-normal\">\n        带宽包唯一ID列表，参数不支持同时指定 BandwidthPackageIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.BandwidthPackageIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 BandwidthPackageIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in BWPFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function bwpQuery() {\n  return {\n    template: template,\n    controller: BWPQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('bwpQuery', bwpQuery);\n","import _ from 'lodash';\nconst networkTypes = [\n  { text: 'BGP', value: 'BGP' },\n  { text: 'SINGLEISP', value: 'SINGLEISP' },\n  { text: 'ANYCAST', value: 'ANYCAST' },\n];\n\nconst chargeTypes = [\n  { text: 'top5计费', value: 'TOP5_POSTPAID_BY_MONTH' },\n  { text: '月95计费', value: 'PERCENT95_POSTPAID_BY_MONTH' },\n];\nconst BWPFilterFields = {\n  'bandwidth-package_id': [],\n  'bandwidth-package-name': [],\n  'network-type': [],\n  'charge-type': [],\n};\n\nconst BWPFilterFieldsDescriptor = [\n  {\n    key: 'bandwidth-package_id',\n    enDescriptor: 'BandwidthPackage Id',\n    cnDescriptor: '带宽包ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'bandwidth-package-name',\n    enDescriptor: 'BandwidthPackage Name',\n    cnDescriptor: '带宽包名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'network-type',\n    enDescriptor: 'network type',\n    cnDescriptor: '带宽包类型',\n    link: '',\n    type: 'select',\n    list: networkTypes,\n  },\n  {\n    key: 'charge-type',\n    enDescriptor: 'charge type',\n    cnDescriptor: '带宽包计费类型',\n    link: '',\n    type: 'select',\n    list: chargeTypes,\n  },\n];\n\nconst BWP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'BandwidthPackageId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    BandwidthPackageIds: [''],\n    Filters: { ...BWPFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.BandwidthPackageIds)) {\n        const BandwidthPackageIds = _.compact(queries.BandwidthPackageIds);\n        if (_.uniq(BandwidthPackageIds).length > 0) {\n          params.BandwidthPackageIds = _.uniq(BandwidthPackageIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst BWPInstanceAliasList = ['BandwidthPackageId', 'BandwidthPackageName'];\n\nconst templateQueryIdMap = {\n  instance: 'BandwidthPackageId',\n};\n\nconst BWPInvalidDemensions = {\n  bandwidthPackageId: 'BandwidthPackageId',\n};\nexport default BWP_STATE;\nexport {\n  BWPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BWPInstanceAliasList,\n  BWPInvalidDemensions,\n  GetInstanceQueryParams as BWPGetInstanceQueryParams,\n};\n","import { CBSInstanceAliasList, CBSInvalidDemensions, namespace, templateQueryIdMap, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CBSInstanceAliasList;\n  InvalidDimensions = CBSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cbs',\n    action: 'DescribeDisks',\n    responseField: 'DiskSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.filter(rawSet, isValidMetric);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/BLOCK_STORAGE';\nconst queryEditorName = 'cbsQuery';\n\nconst CBSInvalidDemensions = {\n  diskId: 'DiskId',\n  InstanceId: 'InstanceId',\n  diskname: 'DiskName',\n  unInstanceId: 'InstanceId',\n};\n\nconst CBSInstanceAliasList = ['DiskId', 'DiskName'];\n\nconst templateQueryIdMap = {\n  instance: 'DiskId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst CBSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DiskIds: [],\n  OrderField: [],\n  Order: [],\n  ReturnBindAutoSnapshotPolicy: false,\n};\n\nconst CBSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DiskIds',\n    enDescriptor: 'DiskIds',\n    cnDescriptor: '云硬盘ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Order',\n    enDescriptor: 'Order',\n    cnDescriptor: '排列顺序',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '升序排列', value: 'ASC' },\n      { text: '降序排列', value: 'DESC' },\n    ],\n  },\n  {\n    key: 'OrderField',\n    enDescriptor: 'OrderField',\n    cnDescriptor: '排序的依据字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '云盘的创建时间排序', value: 'CREATE_TIME' },\n      { text: '云盘的到期时间排序', value: 'DEADLINE' },\n    ],\n  },\n  {\n    key: 'ReturnBindAutoSnapshotPolicy',\n    enDescriptor: 'ReturnBindAutoSnapshotPolicy',\n    cnDescriptor: '否需要返回云盘绑定的定期快照策略ID',\n    link: '',\n    type: 'switch',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/362/16315',\n  namespace,\n  fieldDescriptor: CBSFilterFieldsDescriptor,\n};\n\nconst CBS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DiskId',\n  queries: CBSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n  return dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1;\n}\nexport default CBS_STATE;\nexport {\n  CBSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CBSInstanceAliasList,\n  CBSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  GetInstanceQueryParams as CBSGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport {\n  CDBInstanceAliasList,\n  CDBInvalidDemensions,\n  isValidMetric,\n  modifyDimensons,\n  templateQueryIdMap,\n} from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDBDatasource extends BaseDatasource {\n  Namespace = 'QCE/CDB';\n  InstanceAliasList = CDBInstanceAliasList;\n  InvalidDimensions = CDBInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'cdb',\n    action: 'DescribeDBInstances',\n    responseField: 'Items',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return modifyDimensons(item);\n        }\n        return null;\n      })\n    );\n  }\n  /**\n   * 获取 可用区\n   * @param region 地域信息\n   */\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.ZoneId, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n  // 仅对维度组合是InstanceId和InstanceType的指标，其他指标不支持\n  getDefaultInsObj(ins: string) {\n    return {\n      [templateQueryIdMap.instance]: ins,\n      InstanceType: 1,\n    };\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDBFieldsDescriptor } from './query_def';\n\nexport class CDBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDBFieldsDescriptor = CDBFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'ZoneIds':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cdb', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/236/15872\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CDBFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function cdbQuery() {\n  return {\n    template: template,\n    controller: CDBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cdbQuery', cdbQuery);\n","import _ from 'lodash';\n\nconst InstanceTypes = [\n  { text: '主实例', value: 1 },\n  { text: '备灾实例', value: 2 },\n  { text: '只读实例', value: 3 },\n];\n\nconst Status = [\n  { text: '创建中', value: 0 },\n  { text: '运行中', value: 1 },\n  { text: '隔离中', value: 4 },\n  { text: '已隔离', value: 5 },\n];\n\nconst PayTypes = [\n  { text: '包年包月', value: 0 },\n  { text: '小时计费', value: 1 },\n];\n\nconst TaskStatus = [\n  { text: '没有任务', value: 0 },\n  { text: '升级中', value: 1 },\n  { text: '数据导入中', value: 2 },\n  { text: '开放Slave中', value: 3 },\n  { text: '外网访问开通中', value: 4 },\n  { text: '批量操作执行中', value: 5 },\n  { text: '回档中', value: 6 },\n  { text: '外网访问关闭中', value: 7 },\n  { text: '密码修改中', value: 8 },\n  { text: '实例名修改中', value: 9 },\n  { text: '重启中', value: 10 },\n  { text: '自建迁移中', value: 12 },\n  { text: '删除库表中', value: 13 },\n  { text: '灾备实例创建同步中', value: 14 },\n  { text: '升级待切换', value: 15 },\n  { text: '升级切换中', value: 16 },\n  { text: '升级切换完成', value: 17 },\n];\n\nconst EngineVersions = [\n  { text: '5.1', value: '5.1' },\n  { text: '5.5', value: '5.5' },\n  { text: '5.6', value: '5.6' },\n  { text: '5.7', value: '5.7' },\n];\n\nconst OrderBy = [\n  { text: 'InstanceId', value: 'InstanceId' },\n  { text: 'InstanceName', value: 'InstanceName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'DeadlineTime', value: 'DeadlineTime' },\n];\n\nconst OrderDirection = [\n  { text: 'ASC', value: 'ASC' },\n  { text: 'DESC', value: 'DESC' },\n];\n\nconst InitFlag = [\n  { text: '未初始化', value: 0 },\n  { text: '初始化', value: 1 },\n];\n\nconst CdbErrors = [\n  { text: '未锁定', value: 0 },\n  { text: '锁定', value: 1 },\n];\n\nconst CDBFields = {\n  ProjectId: '',\n  InstanceTypes: {},\n  Vips: [],\n  Status: {},\n  Offset: 0,\n  Limit: 20,\n  SecurityGroupId: '',\n  PayTypes: {},\n  InstanceNames: [],\n  TaskStatus: {},\n  EngineVersions: {},\n  VpcIds: [],\n  ZoneIds: [],\n  SubnetIds: [],\n  CdbErrors: {},\n  OrderBy: {},\n  OrderDirection: {},\n  InstanceIds: [],\n  InitFlag: {},\n};\n\nconst CDBFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceNames',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ZoneIds',\n    enDescriptor: 'Zone ID',\n    cnDescriptor: '可用区的ID',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'InstanceTypes',\n    enDescriptor: 'Instance Type',\n    cnDescriptor: '实例类型',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: InstanceTypes,\n  },\n  {\n    key: 'EngineVersions',\n    enDescriptor: 'Engine Version',\n    cnDescriptor: '实例数据库引擎版本',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: EngineVersions,\n  },\n  {\n    key: 'TaskStatus',\n    enDescriptor: 'Task Status',\n    cnDescriptor: '实例任务',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: TaskStatus,\n  },\n  {\n    key: 'InitFlag',\n    enDescriptor: 'Init Flag',\n    cnDescriptor: '实例初始化状态',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: InitFlag,\n  },\n  {\n    key: 'PayTypes',\n    enDescriptor: 'Pay Type',\n    cnDescriptor: '付费类型',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: PayTypes,\n  },\n  {\n    key: 'CdbErrors',\n    enDescriptor: 'CDB Errors',\n    cnDescriptor: '实例锁定标记',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: CdbErrors,\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderDirection',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderDirection,\n  },\n  {\n    key: 'Vips',\n    enDescriptor: 'Vip',\n    cnDescriptor: '实例内网IP地址',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '私有网络ID',\n    link: 'https://cloud.tencent.com/document/api/215/15778',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'Subnet ID',\n    cnDescriptor: '子网ID',\n    link: 'https://cloud.tencent.com/document/api/215/15784',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '项目ID',\n    link: 'https://cloud.tencent.com/document/product/378/4400',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroupId',\n    enDescriptor: 'Security Group ID',\n    cnDescriptor: '安全组ID',\n    link: 'https://cloud.tencent.com/document/api/236/15854',\n    type: 'input',\n  },\n];\n\nconst CDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...CDBFields },\n};\n\nconst CDBInstanceAliasList = ['InstanceId', 'InstanceName', 'Vip'];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  return (\n    dimension.length === 2 &&\n    ((_.indexOf(dimension, 'instanceid') !== -1 && _.indexOf(dimension, 'insttype') !== -1) ||\n      (_.indexOf(dimension, 'InstanceId') !== -1 && _.indexOf(dimension, 'InstanceType') !== -1))\n  );\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((i) => CDBInvalidDemensions[i] || i);\n  });\n  return metricTmp;\n}\nconst CDBInvalidDemensions = {\n  instanceid: 'InstanceId',\n  insttype: 'InstanceType',\n  region: 'Region',\n};\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default CDB_STATE;\n\nexport {\n  CDBFieldsDescriptor,\n  CDBInstanceAliasList,\n  templateQueryIdMap,\n  CDBInvalidDemensions,\n  isValidMetric,\n  modifyDimensons,\n  GetInstanceQueryParams as CDBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { CDNInstanceAliasList, CDNInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDNDatasource extends BaseDatasource {\n  Namespace = 'QCE/CDN';\n  InstanceAliasList = CDNInstanceAliasList;\n  InvalidDimensions = CDNInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'Domain',\n  };\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDNFilterFieldsDescriptor } from './query_def';\n\nexport class CDNQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDNFilterFieldsDescriptor = CDNFilterFieldsDescriptor;\n    };\n\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/228/41118\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-repeat=\"field in CDNFilterFieldsDescriptor\">\n<label class=\"gf-form-label width-14\">\n  {{ field.key }}\n  <info-popover mode=\"right-normal\">\n    {{ field.cnDescriptor }}\n    <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n  </info-popover>\n</label>\n<multi-condition\n  ng-if=\"field.type === 'inputNumbermulti'\"\n  type=\"'inputNumber'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  maxNum=\"field.max\"\n  minNum=\"field.min\"\n  on-change=\"onChange()\"\n></multi-condition>\n<multi-condition\n  ng-if=\"field.type === 'inputmulti'\"\n  type=\"'input'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  on-change=\"onChange()\"\n></multi-condition>\n<custom-select-dropdown\n  ng-if=\"field.type === 'select'\"\n  value=\"target.queries.Filters[field.key]\"\n  options=\"field.list\"\n  multiple=\"true\"\n  on-change=\"onChange()\"\n></custom-select-dropdown>\n</div>\n\n</div>\n`;\n\nexport function cdnQuery() {\n  return {\n    template: template,\n    controller: CDNQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cdnQuery', cdnQuery);\n","import _ from 'lodash';\nconst CDNFilterFields = {\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst CDNFilterFieldsDescriptor = [\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst CDN_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...CDNFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    const Filters: any[] = [];\n    _.forEach(queries.Filters, (item: any, key) => {\n      // console.log('item', item, queries);\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: _.uniq(item).slice(0, 5) });\n        }\n      } else if (_.isObject(item)) {\n        if (!_.isEmpty(_.get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: _.get(item, 'value', []).slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters;\n    }\n  }\n  return params;\n}\n\nconst CDNInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst CDNInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default CDN_STATE;\nexport {\n  CDNFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CDNInstanceAliasList,\n  CDNInvalidDemensions,\n  GetInstanceQueryParams as CDNGetInstanceQueryParams,\n};\n","import { CDNPROVINCEInstanceAliasList, CDNPROVINCEInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CDNPROVINCEInstanceAliasList;\n  InvalidDimensions = CDNPROVINCEInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  extrasAlias = ['isp', 'district'];\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n  async getConsumerList(params: any) {\n    const { region, field } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'cdn');\n\n    // 从分页数据，获取全量数据\n    const rs = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Name: field,\n        },\n      },\n      serviceInfo.service,\n      { action: 'DescribeMapInfo' }\n    );\n    return (rs.MapInfoList || []).map((o) => {\n      return {\n        text: o.Name,\n        value: o.Name,\n      };\n    });\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    if (action === 'DescribeMapInfo') {\n      const { name: field } = query;\n      const rs = await this.getConsumerList({ region, field });\n      return rs;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDNPROVINCEFilterFieldsDescriptor, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Isp',\n    field: 'isp',\n  },\n  {\n    label: 'Province',\n    field: 'district',\n  },\n];\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDNPROVINCEFilterFieldsDescriptor = CDNPROVINCEFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, field });\n      return rs;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Domains are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/228/41118\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in CDNPROVINCEFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in ExtraFields\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CDN_LOG_DATA';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'cdnProvinceQuery';\n\nconst CDNPROVINCEInvalidDemensions = {\n  domain: 'Domain',\n  // isp: 'Isp',\n  projectid: 'ProjectId',\n  province: 'district',\n  appid: 'AppId',\n};\n\n// 需和文件名对应\nconst CDNPROVINCEInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst CDNPROVINCEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst CDNPROVINCEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst CDNPROVINCE_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  // Isp Province分别在两个接口，单独保存在state\n  isp: '',\n  district: '',\n  queries: CDNPROVINCEFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// const regionSupported = [\n//   { text: '华北地区(北京)', value: 'ap-beijing' },\n//   { text: '西南地区(成都)', value: 'ap-chengdu' },\n//   { text: '西南地区(重庆)', value: 'ap-chongqing' },\n//   { text: '华南地区(广州)', value: 'ap-guangzhou' },\n//   { text: '港澳台地区(中国香港)', value: 'ap-hongkong' },\n//   { text: '亚太南部(孟买)', value: 'ap-mumbai' },\n//   { text: '华东地区(南京)', value: 'ap-nanjing' },\n//   { text: '华东地区(上海)', value: 'ap-shanghai' },\n//   { text: '华东地区(上海金融)', value: 'ap-shanghai-fsi' },\n//   { text: '华南地区(深圳金融)', value: 'ap-shenzhen-fsi' },\n//   { text: '亚太东南(新加坡)', value: 'ap-singapore' },\n//   { text: '亚太东北(东京)', value: 'ap-tokyo' },\n//   { text: '欧洲地区(法兰克福)', value: 'eu-frankfurt' },\n//   { text: '美国东部(弗吉尼亚)', value: 'na-ashburn' },\n//   { text: '美国西部(硅谷)', value: 'na-siliconvalley' },\n//   { text: '北美地区(多伦多)', value: 'na-toronto' },\n// ];\nexport default CDNPROVINCE_STATE;\nexport {\n  CDNPROVINCEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CDNPROVINCEInstanceAliasList,\n  CDNPROVINCEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  // regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CDNPROVINCEGetInstanceQueryParams,\n};\n","import {\n  CEIPSUMMARYInstanceAliasList,\n  CEIPInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CEIPSUMMARYInstanceAliasList;\n  InvalidDimensions = CEIPInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeAddresses',\n    responseField: 'AddressSet',\n    interceptor: {\n      request: (params) => {\n        const { Filters } = params;\n        if (!Filters) {\n          params.Filters = [];\n        }\n        params.Filters.push({\n          Name: 'address-type',\n          Values: ['AnycastEIP'],\n        });\n        return params;\n      }, // 设置一些请求参数的 默认值\n      // response: (data: unknown[]) =>[\n      //   {\n      //     AddressId: 'AddressId',\n      //     AddressIp: '111.22.3.4'\n      //   },\n      // ],\n    },\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  // async getInstances(region, params = {}) {\n  //   const rawSet = await super.getInstances(region, params);\n  //   return rawSet.filter((item) => item.AddressType === 'AnycastEIP');\n  // }\n\n  // async getVariableInstances(region, query = {}) {\n  //   const rawSet = await super.getVariableInstances(region, query);\n  //   return rawSet.filter((item) => item.AddressType === 'AnycastEIP');\n  // }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CEIP_SUMMARY';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'ceipSummaryQuery';\n\nconst CEIPInvalidDemensions = {\n  vip: 'AddressIp',\n  eip: 'AddressIp',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst CEIPSUMMARYInstanceAliasList = ['AddressId', 'AddressName', 'AddressIp'];\n\nconst templateQueryIdMap = {\n  instance: 'AddressId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst CEIPFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'address-id': [],\n  'address-name': [],\n  'address-ip': [],\n  'address-status': {},\n  'is-arrears': {},\n  'address-isp': {},\n  'instance-id': [],\n  'private-ip-address': [],\n  'network-interface-id': [],\n};\n\nconst CEIPFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'address-id',\n    enDescriptor: 'address-id',\n    cnDescriptor: ' EIP 的唯一 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-name',\n    enDescriptor: 'address-name',\n    cnDescriptor: 'EIP 名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-ip',\n    enDescriptor: 'address-ip',\n    cnDescriptor: 'EIP 的 IP 地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-status',\n    enDescriptor: 'address-status',\n    cnDescriptor: 'EIP 的状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'CREATING', value: 'CREATING' },\n      { text: 'BINDING', value: 'BINDING' },\n      { text: 'BIND', value: 'BIND' },\n      { text: 'UNBINDING', value: 'UNBINDING' },\n      { text: 'UNBIND', value: 'UNBIND' },\n      { text: 'OFFLINING', value: 'OFFLINING' },\n      { text: 'BIND_ENI', value: 'BIND_ENI' },\n    ],\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: 'EIP 绑定的实例 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'private-ip-address',\n    cnDescriptor: 'EIP 绑定的内网 IP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'network-interface-id',\n    enDescriptor: 'network-interface-id',\n    cnDescriptor: ' EIP 绑定的弹性网卡 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'is-arrears',\n    enDescriptor: 'is-arrears',\n    cnDescriptor: 'EIP 是否欠费',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '欠费状态', value: 'TRUE' },\n      { text: '费用状态正常', value: 'FALSE' },\n    ],\n  },\n  {\n    key: 'address-isp',\n    enDescriptor: 'address-isp',\n    cnDescriptor: '运营商类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'BGP', value: 'BGP' },\n      { text: 'CMCC', value: 'CMCC' },\n      { text: 'CUCC', value: 'CUCC' },\n      { text: 'CTCC', value: 'CTCC' },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/16702',\n  namespace,\n  fieldDescriptor: CEIPFilterFieldsDescriptor,\n};\n\nconst CEIP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'AddressId',\n  queries: CEIPFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['eip'];\n  });\n  return metricTmp;\n}\nexport default CEIP_STATE;\nexport {\n  CEIPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CEIPSUMMARYInstanceAliasList,\n  CEIPInvalidDemensions,\n  namespace,\n  queryEditorName,\n  modifyDimensons,\n  queryEditorConfig,\n  GetInstanceQueryParams as CEIPSUMMARYGetInstanceQueryParams,\n};\n","import { CESInstanceAliasList, CESInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CESInstanceAliasList;\n  InvalidDimensions = CESInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'es',\n    action: 'DescribeInstances',\n    responseField: 'InstanceList',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CES';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'cesQuery';\n\nconst CESInvalidDemensions = {\n  uInstanceId: 'InstanceId',\n};\n\nconst CESInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst CESFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceIds: [],\n  InstanceNames: [],\n  OrderByKey: {},\n  OrderByType: {},\n  IpList: [],\n};\n\nconst CESFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '集群实例ID列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'InstanceNames',\n    enDescriptor: 'InstanceNames',\n    cnDescriptor: '集群实例名称列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'OrderByKey',\n    enDescriptor: 'OrderByKey',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '实例ID', value: 1 },\n      { text: '实例名称', value: 2 },\n      { text: '可用区', value: 3 },\n      { text: '创建时间', value: 4 },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '升序', value: 0 },\n      { text: '降序', value: 1 },\n    ],\n  },\n  {\n    key: 'IpList',\n    enDescriptor: 'IpList',\n    cnDescriptor: '私有网络vip列表',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/845/30631',\n  namespace,\n  fieldDescriptor: CESFilterFieldsDescriptor,\n};\n\nconst CES_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: CESFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default CES_STATE;\nexport {\n  CESFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CESInstanceAliasList,\n  CESInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CESGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\nimport { CFSInstanceAliasList, CFSInvalidDemensions, regionSupported } from './query_def';\nimport { t } from '../../../locale';\nexport default class CFSDatasource extends BaseDatasource {\n  InstanceKey: string;\n  Namespace: string;\n  InstanceAliasList: string[];\n  InvalidDimensions: Record<string, string>;\n  templateQueryIdMap = {\n    instance: 'FileSystemId',\n  };\n  extrasAlias = ['version'];\n  InstanceReqConfig: { service?: string | undefined; action: string; responseField: string };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n\n    this.Namespace = 'QCE/CFS';\n    this.InstanceAliasList = CFSInstanceAliasList;\n    this.InvalidDimensions = CFSInvalidDemensions;\n    this.InstanceReqConfig = {\n      service: 'cfs',\n      action: 'DescribeCfsFileSystems',\n      responseField: 'FileSystems',\n    };\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CFSQueryDescriptor } from './query_def';\n\nexport class SCFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CFSQueryDescriptor = CFSQueryDescriptor;\n    };\n\n    $scope.getVersions = async (target) => {\n      // console.log(2222);\n\n      // return [{ text: 1, value: 1 }];\n      // console.log(target, 'target');\n      const { instance, region } = target;\n      const fetcher = $scope.datasource.getServiceFn('scf', 'getVersions');\n      if (!instance || !region) return [];\n\n      return fetcher(region, { FunctionName: JSON.parse(instance).FunctionName }).then((res) => {\n        // console.log(res, 'res');\n\n        return res;\n      });\n    };\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n  FileSystems are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/582/38170\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CFSQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: SCFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\ncoreModule.directive('cfsQuery', scfQuery);\n","import _ from 'lodash';\n\nexport const CFSQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'FileSystemId',\n    enDescriptor: 'File System Id',\n    cnDescriptor: '文件系统 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络（VPC） ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '子网 ID',\n    link: '',\n    type: 'input',\n  },\n];\n\nconst CFS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'FileSystemId',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    FileSystemId: '',\n    VpcId: '',\n    SubnetId: '',\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst CFSInstanceAliasList = ['FileSystemId', 'FsName'];\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nconst CFSInvalidDemensions = {\n  // functionName: 'FunctionName',\n  // namespace: 'Namespace'\n};\n\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-seoul' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default CFS_STATE;\nexport {\n  CFSInstanceAliasList,\n  CFSInvalidDemensions,\n  templateQueryIdMap,\n  regionSupported,\n  GetInstanceQueryParams as CFSGetInstanceQueryParams,\n};\n\n// monitor监控数据默认支持的维度\n// export const SCFDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import _, { flattenDeep } from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  CKAFKAInstanceAliasList,\n  CKAFKATopicAliasList,\n  CKAFKAInvalidDemensions,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\n\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class CKFKADatasource extends BaseDatasource {\n  Namespace = 'QCE/CKAFKA';\n  InstanceAliasList = CKAFKAInstanceAliasList;\n  TopicAliasList = CKAFKATopicAliasList;\n  InvalidDimensions = CKAFKAInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'ckafka',\n    action: 'DescribeInstances',\n    responseField: 'InstanceList',\n  };\n  extraMetricDims = ['topicId'];\n  // extrasAlias = ['topicId', 'consumerGroup', 'partition'];\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  consumerGroupCache = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getConsumerGroups(region, params) {\n    const serviceInfo = GetServiceAPIInfo(region, 'ckafka');\n    let { InstanceId, groupname = '', topicid = '' } = params;\n    groupname = this.getVariable(groupname); // 将模板转换为真实值\n    topicid = this.getVariable(topicid); // 将模板转换为真实值\n    try {\n      groupname = JSON.parse(groupname)[templateQueryIdMap.groupName];\n      topicid = JSON.parse(topicid)[templateQueryIdMap.topicId];\n    } catch (e) {}\n    let consumerGoup = this.consumerGroupCache[InstanceId];\n    if (!consumerGoup) {\n      // 从分页数据，获取全量数据\n      consumerGoup = await fetchAllFactory(\n        (data) => {\n          return this.doRequest(\n            {\n              url: this.url + serviceInfo.path,\n              data,\n            },\n            serviceInfo.service,\n            { region, action: 'DescribeConsumerGroup' }\n          );\n        },\n        _.pick(params, 'InstanceId'),\n        ['GroupListForMonitor', 'TopicListForMonitor', 'PartitionListForMonitor', 'GroupList']\n      );\n      // topick数据从DescribeTopic\n      const topicList = await fetchAllFactory(\n        (data) => {\n          return this.doRequest(\n            {\n              url: this.url + serviceInfo.path,\n              data,\n            },\n            serviceInfo.service,\n            { region, action: 'DescribeTopic' }\n          );\n        },\n        _.pick(params, 'InstanceId'),\n        ['TopicList']\n      );\n      consumerGoup[1] = flattenDeep(topicList);\n      console.log({ consumerGoup, topicList });\n      this.consumerGroupCache[InstanceId] = consumerGoup;\n    }\n\n    let [GroupList, TopicList, PartitionList, GroupDetailList] = consumerGoup;\n    // 无重复数组\n    TopicList = _.uniqBy(TopicList, (item) => (item as any).TopicId);\n    GroupList = _.uniqBy(GroupList, (item) => (item as any).GroupName);\n    PartitionList = _.uniqBy(PartitionList, (item) => (item as any).PartitionId);\n    GroupDetailList = _.uniqBy(GroupDetailList, (item) => (item as any).ConsumerGroupName);\n    // 如果传入消费者信息，consumergroupname，获取该用户的订阅信息列表\n    const SubscribedInfos = GroupDetailList.find((d) => d.ConsumerGroupName === groupname)?.SubscribedInfo || [];\n    // 这里为了兼容PartitonList格式，最后转化为数组对象的方式\n    const partitions =\n      SubscribedInfos.find((sub) => sub.TopicId === topicid)?.Partition?.map((p) => ({\n        [templateQueryIdMap.partition]: p,\n      })) || [];\n    return {\n      GroupList,\n      TopicList:\n        SubscribedInfos.length > 0\n          ? SubscribedInfos.map(({ TopicId, TopicName }) => ({ TopicId, TopicName }))\n          : TopicList,\n      PartitionList: partitions.length > 0 ? partitions : PartitionList,\n    };\n  }\n  formatTopicVarDisplay(topic: Record<string, any>, displayTpl: string | undefined, topicAlias: string) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !this.TopicAliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(topic, b);\n      });\n    }\n    return this.getAliasValue(topic, topicAlias);\n  }\n  // 查询指标下的数据\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    let { topicalias, groupname, topicid } = query;\n    const result = await this.getConsumerGroups(region, {\n      InstanceId: instance.InstanceId,\n      groupname,\n      topicid,\n    });\n    let { display } = query;\n    const { TopicList, GroupList, PartitionList } = result;\n    topicalias = this.TopicAliasList.includes(topicalias) ? topicalias : this.templateQueryIdMap.topicId;\n\n    const rs = {\n      GroupList: GroupList.map((group) => {\n        group._InstanceAliasValue = group.GroupName;\n        return {\n          text: group.GroupName,\n          value: group[templateQueryIdMap.groupName],\n        };\n      }),\n      TopicList: TopicList.map((topic) => {\n        const topicAlias = this.formatTopicVarDisplay(topic, display, topicalias);\n        topic._InstanceAliasValue = topicAlias || topic[templateQueryIdMap.topicId];\n        return {\n          text: topicAlias || topic[templateQueryIdMap.topicId],\n          value: topic[templateQueryIdMap.topicId], // 为了获取多维度的值，这里完全可以使用JSON.stringify()将整个对象放进去\n          TopicName: topic.TopicName,\n        };\n      }),\n      PartitionList: PartitionList.map((par) => {\n        par._InstanceAliasValue = par[templateQueryIdMap.partition];\n        return {\n          text: par[templateQueryIdMap.partition],\n          value: par[templateQueryIdMap.partition],\n        };\n      }),\n    };\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.TopicList, TopicList);\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.GroupList, GroupList);\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.PartitionList, PartitionList);\n    // console.log({ res1, res2, res3 });\n    // console.log({rs});\n    // 根据action返回指定的维度数据列表\n    switch (action) {\n      case 'DescribeTopicList':\n        return rs.TopicList;\n      case 'DescribeGroup':\n        return rs.GroupList;\n      case 'DescribePartion':\n        return rs.PartitionList;\n      default:\n        return [];\n    }\n  }\n\n  // async getOtherAlias(datapoints) {\n  //   let dimension;\n  //   for(let j = 0; j < datapoints.Dimensions.length; j++){\n  //     if(datapoints.Dimensions[j] !== 'InstanceName'){\n  //       dimension.push(datapoints.Dimensions[j])\n  //     }\n  //   }\n  //   console.log(dimension);\n\n  //   return dimension\n  // }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CKAFKAQueryDescriptor, templateQueryIdMap } from './query_def';\nimport { isTargetEqual } from '../../common/utils';\n\nconst ExtraFields = [\n  {\n    label: 'ConsumerGroup',\n    field: 'consumerGroup',\n  },\n  {\n    label: 'TopicId',\n    field: 'topicId',\n  },\n  {\n    label: 'Partition',\n    field: 'partition',\n  },\n];\n\nexport class CKAFKAQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CKAFKAQueryDescriptor = CKAFKAQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n    $scope.onInstanceChange = (n, o) => {\n      if (isTargetEqual(n, o, 'LoadBalancerId')) return;\n      $scope.target.consumerGroup = '';\n      $scope.target.topicId = '';\n      $scope.target.topicName = '';\n      $scope.target.partition = '';\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('ckafka', 'getVariable')(instance);\n      if (Array.isArray(instance)) instance = instance[0];\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).InstanceId;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      const InstanceId = $scope.getInstanceId();\n      const fetcher = $scope.datasource.getServiceFn('ckafka', 'getConsumerGroups');\n      const region = $scope.datasource.getServiceFn('ckafka', 'getVariable')(target.region);\n      const res = await fetcher(region, { InstanceId, groupname: target.consumerGroup, topicid: target.topicId });\n\n      const { TopicList, GroupList, PartitionList } = res;\n      const data = {\n        GroupList: GroupList.map((group) => {\n          group._InstanceAliasValue = group.GroupName;\n          return {\n            text: group.GroupName,\n            value: JSON.stringify(group),\n          };\n        }),\n        TopicList: TopicList.map((topic) => {\n          topic._InstanceAliasValue = topic[templateQueryIdMap.topicId];\n          return {\n            text: topic[templateQueryIdMap.topicId],\n            value: JSON.stringify(topic), // 为了获取多维度的值，这里完全可以使用JSON.stringify()将整个对象放进去\n          };\n        }),\n        PartitionList: PartitionList.map((par) => {\n          par._InstanceAliasValue = par[templateQueryIdMap.partition];\n          return {\n            text: String(par[templateQueryIdMap.partition]),\n            value: JSON.stringify(par),\n          };\n        }),\n      };\n\n      switch (field) {\n        case 'consumerGroup':\n          return data.GroupList;\n        case 'topicId':\n          return data.TopicList;\n        case 'partition':\n          return data.PartitionList;\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/583/18582\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CKAFKAQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 主题，消费分组，分区 -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: CKAFKAQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n      instance: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\ncoreModule.directive('ckafkaQuery', scfQuery);\n","import _ from 'lodash';\n\nexport const CKAFKAQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstanceId',\n    cnDescriptor: '按照实例ID过滤',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SearchWord',\n    enDescriptor: 'SearchWord',\n    cnDescriptor: '按照实例名称过滤，支持模糊查询',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '匹配标签key值',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例的状态，不填默认返回全部',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '创建中', value: 0 },\n      { text: '运行中', value: 1 },\n      { text: '删除中', value: 2 },\n    ],\n  },\n];\n\nconst CKAFKA_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  topicId: '',\n  topicName: '',\n  consumerGroup: '',\n  partition: '',\n  queries: {\n    Offset: 0,\n    Limit: 10,\n    Status: [],\n    InstanceId: '',\n    SearchWord: '',\n    TagKey: '',\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst CKAFKAInstanceAliasList = ['InstanceId', 'InstanceName'];\nconst CKAFKATopicAliasList = ['TopicId', 'TopicName'];\n// 保存在模板变量value中的key\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  topicId: 'TopicId',\n  groupName: 'GroupName',\n  partition: 'PartitionId',\n};\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nconst CKAFKAInvalidDemensions = new Proxy(\n  {\n    topicId: 'TopicId',\n    topicName: 'TopicName',\n    consumerGroup: 'GroupName',\n    partition: 'PartitionId',\n  },\n  {\n    get: (obj, prop) => {\n      if (String(prop).toLocaleLowerCase() === 'instanceid') return 'InstanceId';\n      return obj[prop];\n    },\n  }\n);\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  TopicList: 'TopicList',\n  GroupList: 'GroupList',\n  PartitionList: 'PartitionList',\n};\n\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  TopicId: {\n    dim_KeyInStorage: keyInStorage.TopicList,\n    dim_KeyInTarget: 'topicId',\n    dim_KeyInMap: templateQueryIdMap.topicId,\n  },\n  // topicName和topicId是同一个storage中的source，所以根据topicId帅选\n  TopicName: {\n    dim_KeyInStorage: keyInStorage.TopicList,\n    dim_KeyInTarget: 'topicId',\n    dim_KeyInMap: templateQueryIdMap.topicId,\n  },\n  GroupName: {\n    dim_KeyInStorage: keyInStorage.GroupList,\n    dim_KeyInTarget: 'consumerGroup',\n    dim_KeyInMap: templateQueryIdMap.groupName,\n  },\n  PartitionId: {\n    dim_KeyInStorage: keyInStorage.PartitionList,\n    dim_KeyInTarget: 'partition',\n    dim_KeyInMap: templateQueryIdMap.partition,\n  },\n};\nexport default CKAFKA_STATE;\nexport {\n  CKAFKAInstanceAliasList,\n  CKAFKATopicAliasList,\n  CKAFKAInvalidDemensions,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  GetInstanceQueryParams as CKAFKAGetInstanceQueryParams,\n};\n","import {\n  InstanceAliasList,\n  LOADBALANCEListenerAliasList,\n  LOADBALANCEServerAliasList,\n  LOADBALANCEVALIDDIMENSIONS,\n  templateQueryIdMap,\n  keyInStorage,\n  CANDIATEDIMENSIONS,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class DCDatasource extends BaseDatasource {\n  // Namespace = namespace;\n  InstanceAliasList = InstanceAliasList;\n  ListenerAliasList = LOADBALANCEListenerAliasList;\n  ServerAliasList = LOADBALANCEServerAliasList;\n  CandiateDimensions = CANDIATEDIMENSIONS;\n  // InvalidDimensions = LOADBALANCEVALIDDIMENSIONS;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  // InstanceReqConfig = {\n  //   service: 'clb',\n  //   action: 'DescribeLoadBalancers',\n  //   responseField: 'LoadBalancerSet',\n  // };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getInvalidDimensions(selfIns: any, tagret: any) {\n    if (selfIns.service === 'lbPrivate' || (selfIns.service === 'lbPublic' && tagret.servers))\n      return { ...LOADBALANCEVALIDDIMENSIONS, vpcId: 'NumericalVpcId' };\n    return LOADBALANCEVALIDDIMENSIONS;\n  }\n  getInstanceReqConfig(selfIns: any) {\n    const res: any = {\n      service: 'clb',\n      action: 'DescribeLoadBalancers',\n      responseField: 'LoadBalancerSet',\n    };\n    if (selfIns.service === 'lbPrivate' || selfIns.service === 'loadBalance') {\n      res.interceptor = {\n        request: (param) => ({ ...param, LoadBalancerType: 'INTERNAL' }),\n      };\n    }\n    if (selfIns.service === 'lbPublic') {\n      res.interceptor = {\n        request: (param) => ({ ...param, LoadBalancerType: 'OPEN' }),\n      };\n    }\n    return res;\n  }\n  async getListenerList(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'clb');\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeListeners' }\n        );\n      },\n      {\n        LoadBalancerId: instanceId,\n      },\n      'Listeners'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  formatVariableDisplay(data: Record<string, any>, displayTpl: string | undefined, alias: string, aliasList: string[]) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !aliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(data, b);\n      });\n    }\n    return this.getAliasValue(data, alias);\n  }\n  async getServerList(params: any) {\n    const { region, instanceId, listenerId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'clb');\n\n    const res = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { LoadBalancerId: instanceId, ListenerIds: [listenerId] },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeTargets' }\n    );\n    const { Listeners } = res;\n    const serversList = _.reduce(\n      Listeners,\n      (prev, item) => {\n        const { Rules, Targets } = item;\n        if (!_.isEmpty(Rules)) {\n          return _.concat(prev, _.flatten(_.map(Rules, (elem) => (_.isEmpty(elem.Targets) ? [] : elem.Targets))));\n        }\n        if (!_.isEmpty(Targets)) {\n          return _.concat(prev, Targets);\n        }\n        return prev;\n      },\n      []\n    );\n    return serversList;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const { display } = query;\n    if (action === 'DescribeListeners') {\n      const rs = await this.getListenerList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      let { listeneralias } = query;\n      listeneralias = this.ListenerAliasList.includes(listeneralias) ? listeneralias : this.templateQueryIdMap.listener;\n      const result = rs.flatMap((o) => {\n        const listenAlias = this.formatVariableDisplay(o, display, listeneralias, this.ListenerAliasList);\n        const lisId = o[this.templateQueryIdMap.listener];\n        o._InstanceAliasValue = listenAlias || lisId;\n        // if (!o[listeneralias]) return [];\n        return {\n          text: listenAlias || lisId,\n          value: lisId,\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.listener, rs);\n      return result;\n    }\n    if (action === 'DescribeServer' || action === 'DescribeServerPort') {\n      const { listenerid, serverprivateip, serveralias } = query;\n      const serverPrivateIp = this.getVariable(serverprivateip);\n      const serversList = await this.getServerList({\n        region,\n        instanceId: instance[this.templateQueryIdMap.instance],\n        listenerId: this.getVariable(listenerid),\n      });\n      const serverAlias = this.ServerAliasList.includes(serveralias) ? serveralias : this.templateQueryIdMap.servers;\n      const result = _.chain(serversList)\n        .filter((item) => {\n          if (action === 'DescribeServer') {\n            return true;\n          }\n          return serverPrivateIp === _.get(item, 'PrivateIpAddresses.0');\n        })\n        .map((item) => {\n          const alias = this.formatVariableDisplay(item, display, serverAlias, this.ServerAliasList);\n          const id = item[this.templateQueryIdMap.servers][0];\n          item._InstanceAliasValue = alias || id;\n          return action === 'DescribeServer'\n            ? {\n                text: alias || id,\n                value: id,\n              }\n            : {\n                text: `${_.get(item, 'Port')}`,\n                value: _.get(item, 'Port'),\n              };\n        })\n        .value();\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.servers, serversList);\n      return action === 'DescribeServer' ? result : _.uniqBy(result, 'text');\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { get, chain } from 'lodash';\nimport { LOADBALANCEFieldsDescriptor, templateQueryIdMap, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\nimport { isTargetEqual } from '../../common/utils';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.LOADBALANCEFieldsDescriptor = LOADBALANCEFieldsDescriptor;\n      $scope.serversList = [];\n    };\n    $scope.onFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n    $scope.onInstanceChange = (n, o) => {\n      if (isTargetEqual(n, o, 'InstanceId')) return;\n      $scope.target.listener = '';\n      $scope.target.servers = '';\n      $scope.target.serverPort = '';\n    };\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace(namespace);\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {\n        // console.log();\n      }\n      return variableData;\n    };\n    $scope.getExtraDropdown = async (target) => {\n      const { instance } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getListenerList')({ region, instanceId });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap.listener];\n        return {\n          text: o[templateQueryIdMap.listener],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n    $scope.getServersDropdown = async (target) => {\n      const { instance, listener } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const listenerId = $scope.getVariableId(listener, 'listener');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const serversList = await $scope.datasource.getServiceFn(\n        service,\n        'getServerList'\n      )({ region, instanceId, listenerId });\n      $scope.serversList = serversList;\n      const res = chain(serversList)\n        .map((item) => {\n          item._InstanceAliasValue = get(item, 'PrivateIpAddresses.0');\n          return {\n            text: get(item, 'PrivateIpAddresses.0'),\n            value: JSON.stringify(item),\n          };\n        })\n        .uniqBy('text')\n        .value();\n      return res;\n    };\n    $scope.getServerPortDropdown = async (target) => {\n      const { servers } = $scope.target;\n      let serverPortList: any[] = [];\n      try {\n        const serversSource = JSON.parse(servers);\n        serverPortList = chain($scope.serversList)\n          .filter((item) => get(serversSource, 'PrivateIpAddresses.0') === get(item, 'PrivateIpAddresses.0'))\n          .map((item) => {\n            item._InstanceAliasValue = get(item, 'Port');\n            return {\n              text: `${get(item, 'Port')}`,\n              value: JSON.stringify(item),\n            };\n          })\n          .value();\n      } catch (error) {}\n      return serverPortList;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/214/30685\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in LOADBALANCEFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />\n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!--Listener维度部分-->\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Listeners\n      <info-popover mode=\"right-normal\">\n        可不选择监听器，这时通过实例维度查询监控数据\n      </info-popover>\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.listener\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.listener && namespace !== '${namespace}'\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">Servers</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.servers\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getServersDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.servers && namespace !== '${namespace}'\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">ServerPort</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.serverPort\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getServerPortDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      namespace: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\ncoreModule.directive('clbQuery', sQuery);\n","import _ from 'lodash';\n\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/LOADBALANCE';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'loadBalanceQuery';\n\nconst ForwardTypes = [\n  { text: '通用的负载均衡', value: 1 },\n  { text: '传统的负载均衡', value: 0 },\n];\n\nconst OrderBy = [\n  { text: 'LoadBalancerName', value: 'LoadBalancerName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'Domain', value: 'Domain' },\n  { text: 'LoadBalancerType', value: 'LoadBalancerType' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\n\nconst WithRs = [\n  { text: '没有绑定后端服务', value: 0 },\n  { text: '绑定后端服务', value: 1 },\n  { text: '查询全部', value: -1 },\n];\nconst LOADBALANCEFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancer ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancer Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Forward',\n    enDescriptor: 'Forward',\n    cnDescriptor: '负载均衡实例类型',\n    link: '',\n    type: 'select',\n    list: ForwardTypes,\n  },\n  {\n    key: 'Domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '域名，腾讯云为负载均衡实例分配的域名，本参数仅对传统型公网负载均衡才有意义',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancer Vips',\n    cnDescriptor: '负载均衡实例的 VIP 地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivate Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的内网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPublicIps',\n    enDescriptor: 'BackendPublic Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的外网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '负载均衡实例所属的项目 ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '负载均衡实例所属私有网络',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroup',\n    enDescriptor: 'Security Group',\n    cnDescriptor: '安全组ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'MasterZone',\n    enDescriptor: 'Master Zone',\n    cnDescriptor: '主可用区ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'WithRs',\n    enDescriptor: 'WithRs',\n    cnDescriptor: '负载均衡是否绑定后端服务',\n    link: '',\n    type: 'select',\n    list: WithRs,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/214/30685',\n  namespace,\n  fieldDescriptor: LOADBALANCEFieldsDescriptor,\n};\nconst LBFields = {\n  LoadBalancerIds: [],\n  Forward: undefined,\n  LoadBalancerName: '',\n  Domain: '',\n  LoadBalancerVips: [],\n  BackendPublicIps: [],\n  BackendPrivateIps: [],\n  Limit: 20,\n  Offset: 0,\n  ProjectId: undefined,\n  WithRs: {},\n  VpcId: '',\n  SecurityGroup: '',\n  MasterZone: '',\n  OrderBy: {},\n  OrderType: {},\n};\n\nconst LOADBALANCE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  Port: '',\n  Protocol: '',\n  listener: '',\n  servers: '',\n  serverPort: '',\n  // listenerAlias: 'ListenerId',\n  queries: LBFields,\n};\n\n// function GetInstanceQueryParams(queries: any = {}) {\n//   const params: any = {};\n//   if (!_.isEmpty(queries)) {\n//     params.Limit = _.get(queries, 'Limit', 20) || 20;\n//     params.Offset = _.get(queries, 'Offset', 0) || 0;\n//     queries = _.omit(queries, ['Offset', 'Limit']);\n//     _.forEach(queries, (item: any, key) => {\n//       if (_.isArray(item)) {\n//         item = _.compact(item);\n//         if (item.length > 0) {\n//           params[key] = _.uniq(item);\n//         }\n//       } else if (_.isObject(item)) {\n//         if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n//           params[key] = _.get(item, 'value');\n//         }\n//       } else if (_.isNumber(item) || !_.isEmpty(item)) {\n//         params[key] = item;\n//       }\n//     });\n//   }\n//   return params;\n// }\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nconst InstanceAliasList = ['LoadBalancerId', 'LoadBalancerName', 'LoadBalancerVips'];\nconst LOADBALANCEListenerAliasList = ['ListenerId', 'ListenerName', 'Port'];\nconst LOADBALANCEServerAliasList = ['PrivateIpAddresses', 'InstanceId'];\nconst LOADBALANCEVALIDDIMENSIONS = {\n  vip: 'LoadBalancerVips',\n  // vpcId: 'NumericalVpcId',\n  loadBalancerPort: 'Port',\n  protocol: 'Protocol',\n  lanIp: 'PrivateIpAddresses',\n  port: 'ServerPort',\n};\n// 对于ipv6类型，vip应该取AddressIPv6。\nconst CANDIATEDIMENSIONS = {\n  LoadBalancerVips: 'AddressIPv6',\n};\n// dimensionObject[item] = { Name: item, Value: '' };\n// const LOADBALANCE_INSTANCE_DIMENSIONOBJECTS = {\n//   vip: { Name: 'vip', Value: '' },\n// };\n// const LOADBALANCE_LISTENER_DIMENSIONOBJECTS = {\n//   vip: { Name: 'vip', Value: '' },\n//   loadBalancerPort: { Name: 'loadBalancerPort', Value: '' },\n//   protocol: { Name: 'protocol', Value: '' },\n// };\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n  listener: 'ListenerId',\n  servers: 'PrivateIpAddresses',\n  port: 'Port',\n};\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  listener: 'ListenerList',\n  servers: 'ServersList',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  Port: {\n    dim_KeyInStorage: keyInStorage.listener,\n    dim_KeyInTarget: 'listener',\n    dim_KeyInMap: templateQueryIdMap.listener,\n  },\n  Protocol: {\n    dim_KeyInStorage: keyInStorage.listener,\n    dim_KeyInTarget: 'listener',\n    dim_KeyInMap: templateQueryIdMap.listener,\n  },\n  PrivateIpAddresses: {\n    dim_KeyInStorage: keyInStorage.servers,\n    dim_KeyInTarget: 'servers',\n    dim_KeyInMap: templateQueryIdMap.servers,\n  },\n  ServerPort: {\n    dim_KeyInStorage: keyInStorage.servers,\n    dim_KeyInTarget: 'serverPort',\n    dim_KeyInIns: 'Port',\n    dim_KeyInMap: templateQueryIdMap.port,\n  },\n};\nexport default LOADBALANCE_STATE;\nexport {\n  LOADBALANCEFieldsDescriptor,\n  InstanceAliasList,\n  LOADBALANCEListenerAliasList,\n  LOADBALANCEServerAliasList,\n  LOADBALANCEVALIDDIMENSIONS,\n  templateQueryIdMap,\n  CANDIATEDIMENSIONS,\n  // LOADBALANCE_LISTENER_DIMENSIONOBJECTS,\n  // LOADBALANCE_INSTANCE_DIMENSIONOBJECTS,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  queryEditorConfig,\n  namespace,\n  queryEditorName,\n  GetInstanceQueryParams,\n};\n","import {\n  CLSInstanceAliasList,\n  CLSInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CLSInstanceAliasList;\n  InvalidDimensions = CLSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cls',\n    action: 'DescribeTopics',\n    responseField: 'Topics',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  // async getInstances(region, params = {}) {\n  //   const superRes = await super.getInstances(region, params);\n  //   console.log({ superRes });\n  // }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CLSFilterFieldsDescriptor, queryEditorName } from './query_def';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.GSEFilterFieldsDescriptor = CLSFilterFieldsDescriptor;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in GSEFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n<div>\n  <div class=\"gf-form-inline\" >\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">uin</label>\n      <input\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.uin\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n    </div>\n  </div>\n</div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/CLS';\nconst queryEditorName = 'clsQuery';\n\nconst CLSInvalidDemensions = {\n  // instanceid: 'TopicId',\n};\n\n// 需和文件名对应\nconst CLSInstanceAliasList = ['TopicId', 'TopicName'];\n\nconst templateQueryIdMap = {\n  instance: 'TopicId',\n};\n\n// 需要缓存到storage的内容的key列表\n// const keyInStorage = {\n//   fleet: 'fleet', // 实例队列\n//   queue: 'queueName', // 会话队列\n// };\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\n// const queryMonitorExtraConfg = {\n//   FleetId: {\n//     dim_KeyInStorage: keyInStorage.fleet,\n//     dim_KeyInTarget: 'FleetId',\n//     dim_KeyInMap: templateQueryIdMap.FleetId,\n//   },\n//   Name: {\n//     dim_KeyInStorage: keyInStorage.queue,\n//     dim_KeyInTarget: 'Name',\n//     dim_KeyInMap: templateQueryIdMap.Name,\n//   },\n// };\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst CLSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  topicName: [],\n  topicId: [],\n  logsetName: [],\n  logsetId: [],\n  tagKey: [],\n  'tag:tagKey': [],\n  storageType: {},\n};\n\nconst CLSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'topicName',\n    enDescriptor: 'topicName',\n    cnDescriptor: '日志主题名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'topicId',\n    enDescriptor: 'topicId',\n    cnDescriptor: '日志主题ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'logsetName',\n    enDescriptor: 'logsetName',\n    cnDescriptor: '日志集名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'logsetId',\n    enDescriptor: 'logsetId',\n    cnDescriptor: '日志集ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'tag:tagKey',\n    enDescriptor: 'tag - tagKey',\n    cnDescriptor: '标签键值对',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'storageType',\n    enDescriptor: 'storageType',\n    cnDescriptor: '日志主题的存储类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '实时存储', value: 'hot' },\n      { text: '离线存储', value: 'cold' },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/614/56454',\n  namespace,\n  fieldDescriptor: CLSFilterFieldsDescriptor,\n};\n\nconst CLS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TopicId',\n  uin: '',\n  queries: CLSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    // item.Dimensions = item.Dimensions.map((v) => CLSInvalidDemensions[v] || v);\n    item.Dimensions = ['uin', 'TopicId'];\n  });\n  return metricTmp;\n}\nexport default CLS_STATE;\nexport {\n  CLSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CLSInstanceAliasList,\n  CLSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  // queryMonitorExtraConfg,\n  // fleetId,\n  // keyInStorage,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CLSGetInstanceQueryParams,\n};\n","import { BaseDatasource } from '../_base/datasource';\nimport { InvalidDemensions, InstanceAliasList, templateQueryIdMap } from './query_def';\n\nexport default class CmqDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'cmq',\n    action: 'DescribeQueueDetail',\n    responseField: 'QueueSet',\n  };\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawMetric = await super.getMetrics(region);\n    return rawMetric.map((metric) => {\n      let dims = metric.Dimensions[0].Dimensions;\n      dims = Array.from(new Set([...dims, 'queueId', 'queueName']));\n      metric.Dimensions[0].Dimensions = dims;\n      return metric;\n    });\n  }\n}\n","import createQuery from '../_base/query';\nimport { InstanceQueryDescriptor } from './query_def';\n\ncreateQuery('cmqQuery', {\n  fieldDescriptor: InstanceQueryDescriptor,\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/406/42624',\n  namespace: 'QCE/CMQ',\n});\n","import _ from 'lodash';\nimport { FildDescriptorType } from '../_base/types';\n\nexport const InstanceQueryDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'QueueName',\n    enDescriptor: 'QueueName',\n    cnDescriptor: '精确匹配QueueName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '标签搜索',\n    link: '',\n    type: 'input',\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nexport const InvalidDemensions = {\n  queueId: 'QueueId',\n  queueName: 'QueueName',\n};\n\nexport const templateQueryIdMap = {\n  instance: 'QueueName',\n};\n\n// 与名称挂钩的变量\nconst InstanceAliasList = ['QueueName', 'QueueId'];\nexport { InstanceAliasList, GetInstanceQueryParams };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'QueueName',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    QueueName: '',\n    TagKey: '',\n  },\n};\n","import { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  InvalidDemensions,\n  InstanceAliasList,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class CmqTopicDatasource extends BaseDatasource {\n  Namespace = 'QCE/CMQTOPIC';\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'cmq',\n    action: 'DescribeTopicDetail',\n    responseField: 'TopicSet',\n  };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  extraMetricDims = ['subscriptionId']; // 多选\n\n  async fetchAllSubscription(region: string, params: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'cmq');\n    // console.log(serviceInfo, 'serviceinfo');\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeSubscriptionDetail' }\n        );\n      },\n      params,\n      'SubscriptionSet'\n    );\n\n    return rs[0];\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    let result;\n    switch (action) {\n      case 'DescribeSubscriptionDetail':\n        result = await this.fetchAllSubscription(region, { TopicName: instance.TopicName });\n        // eslint-disable-next-line no-case-declarations\n        const rs = result.map((item) => {\n          item._InstanceAliasValue = item.SubscriptionId;\n          return { text: item.SubscriptionId, value: item[templateQueryIdMap.subscription] };\n        });\n        await instanceStorage.setExtraStorage(this.service, this.keyInStorage.subscriptionId, result);\n        return rs;\n      default:\n        return [];\n    }\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawMetric = await super.getMetrics(region);\n    return rawMetric.map((metric) => {\n      let dims = metric.Dimensions[0].Dimensions;\n      dims.push('topicId');\n      if (['NumOfNotify', 'NumOfSuccNotify'].includes(metric.MetricName)) {\n        dims.push('subscriptionId');\n      }\n\n      dims = Array.from(new Set(dims));\n      metric.Dimensions[0].Dimensions = dims;\n      return metric;\n    });\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { InstanceQueryDescriptor } from './query_def';\n\nconst ExtraFields = [\n  {\n    label: 'Subscription(订阅)',\n    field: 'subscriptionId',\n  },\n];\n\nexport class CmqTopicQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.InstanceQueryDescriptor = InstanceQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    // 各个实例下的订阅，由于不想每次都重复发请求，所以这里做了一层缓存，数据结构为{ [instanceId]: {   } }\n    $scope.cacheMap = {};\n\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getTopicName = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('cmqTopic', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).TopicName;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.onExtraFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      if (field === 'subscriptionId') {\n        const TopicName = $scope.getTopicName();\n        let data = $scope.cacheMap[TopicName];\n\n        if (!data) {\n          const region = $scope.datasource.getServiceFn('cmqTopic', 'getVariable')(target.region);\n          const fetcher = $scope.datasource.getServiceFn('cmqTopic', 'fetchAllSubscription');\n          const datas = await fetcher(region, { TopicName });\n          data = datas.map((item) => {\n            item._InstanceAliasValue = item.SubscriptionId;\n            return { text: item.SubscriptionId, value: JSON.stringify(item) };\n          });\n        }\n\n        // 缓存\n        $scope.cacheMap[TopicName] = data;\n        return data;\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/406/42637\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in InstanceQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 主题的ui -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onExtraFieldChange(extra.field)\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: CmqTopicQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('cmqTopicQuery', scfQuery);\n","import _ from 'lodash';\nimport { FildDescriptorType } from '../_base/types';\n\nexport const InstanceQueryDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'TopicName',\n    enDescriptor: 'TopicName',\n    cnDescriptor: '精确匹配TopicName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '标签搜索',\n    link: '',\n    type: 'input',\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nexport const InvalidDemensions = {\n  topicId: 'TopicId',\n};\n\n// 因为cmq那边，以TopciName为主键\nexport const templateQueryIdMap = {\n  instance: 'TopicName',\n  subscription: 'SubscriptionId',\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  subscriptionId: 'subscriptionId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  subscriptionId: {\n    dim_KeyInStorage: keyInStorage.subscriptionId,\n    dim_KeyInTarget: 'subscriptionId',\n    dim_KeyInMap: templateQueryIdMap.subscription,\n  },\n};\n// 与名称挂钩的变量\nconst InstanceAliasList = ['TopicName', 'TopicId'];\nexport { InstanceAliasList, GetInstanceQueryParams, queryMonitorExtraConfg, keyInStorage };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TopicName',\n  subscriptionId: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    TopicName: '',\n    TagKey: '',\n  },\n};\n","import { BaseDatasource } from '../_base/datasource';\n\ninterface BucketListResult {\n  Owner: { ID: 'string'; DisplayName: 'string' };\n  Buckets: { Name: string; Region: string }[];\n}\n\nexport default class CosDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = {};\n  InstanceAliasList: string[] = ['BucketName'];\n  templateQueryIdMap = {\n    instance: 'BucketName',\n  };\n  InstanceReqConfig = {} as any; // 不必要的配置\n  cosURL: string;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n    this.cosURL = `/api/datasources/${this.instanceSettings.id}/resources/tc_cos_list`;\n  }\n  async getInstances(region: string) {\n    return this.backendSrv\n      .datasourceRequest({\n        url: this.cosURL,\n        method: 'GET',\n        params: { region },\n        headers: { 'Content-Type': 'application/json' },\n      })\n      .then((res) => {\n        let { data }: { data: BucketListResult } = res;\n        data = data || ({} as any);\n        let { Buckets } = data;\n        Buckets = Buckets || [];\n\n        // name contains appid，see detail https://cloud.tencent.com/document/product/436/8291\n        return Buckets.map((item) => ({\n          ...item,\n          BucketName: item.Name,\n          bucket: item.Name,\n          appid: item.Name.split('-').slice(-1)[0],\n        }));\n      });\n  }\n\n  async getVariableInstances(region) {\n    return this.getInstances(region);\n  }\n}\n","import _ from 'lodash';\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 与名称挂钩的变量\nconst InstanceAliasList = ['BucketName'];\nexport { InstanceAliasList, GetInstanceQueryParams };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'BucketName',\n  queries: {},\n};\n","import {\n  CPMInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CPMInstanceAliasList;\n  InvalidDimensions = CPMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bm',\n    action: 'DescribeDevices',\n    responseField: 'DeviceInfoSet',\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n\n  getFilterDropdown({ field, region }) {\n    if (field === 'DeviceClassCode') {\n      const serviceInfo = GetServiceAPIInfo(region, 'bm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        'bm',\n        { region, action: 'DescribeDeviceClass' }\n      ).then((response) => {\n        return _.map(response.DeviceClassSet || [], (item) => {\n          return { text: item.DeviceClassCode, value: item.DeviceClassCode };\n        });\n      });\n    }\n    return [];\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/CPM';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'cpmQuery';\n\nconst CPMInvalidDemensions = {\n  instanceId: 'InstanceId',\n  // uniqid: 'InstanceId',\n};\n\nconst CPMInstanceAliasList = ['InstanceId', 'Name'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst CPMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DeviceClassCode: '',\n  InstanceIds: [],\n  WanIps: [],\n  LanIps: [],\n  Alias: '',\n  VagueIp: '',\n  AutoRenewFlag: {},\n  VpcId: '',\n  SubnetId: '',\n  DeviceType: {},\n  IsLuckyDevice: {},\n};\n\nconst CPMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DeviceClassCode',\n    enDescriptor: 'DeviceClassCode',\n    cnDescriptor: '机型ID',\n    link: '',\n    type: 'dropdown',\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '设备ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'WanIps',\n    enDescriptor: 'WanIps',\n    cnDescriptor: '外网IP数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LanIps',\n    enDescriptor: 'LanIps',\n    cnDescriptor: '内网IP数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Alias',\n    enDescriptor: 'Alias',\n    cnDescriptor: '设备名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VagueIp',\n    enDescriptor: 'VagueIp',\n    cnDescriptor: '模糊IP查询',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenewFlag',\n    enDescriptor: 'AutoRenewFlag',\n    cnDescriptor: '自动续费标志',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '不自动续费', value: 0 },\n      { text: '自动续费', value: 1 },\n    ],\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络唯一ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '子网唯一ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'DeviceType',\n    enDescriptor: 'DeviceType',\n    cnDescriptor: '子网实例ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '计算型', value: 'compute' },\n      { text: '标准型', value: 'standard' },\n      { text: '存储型', value: 'storage' },\n    ],\n  },\n  {\n    key: 'IsLuckyDevice',\n    enDescriptor: 'IsLuckyDevice',\n    cnDescriptor: '竞价实例机器过滤',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '非竞价实例机器', value: 0 },\n      { text: '竞价实例的机器', value: 1 },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/386/32904',\n  namespace,\n  fieldDescriptor: CPMFilterFieldsDescriptor,\n};\n\nconst CPM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: CPMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['instanceId'];\n  });\n  return metricTmp;\n}\nexport default CPM_STATE;\nexport {\n  CPMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CPMInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CPMGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { CVMInstanceAliasList, isValidMetric, modifyDimensons } from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CVMDatasource extends BaseDatasource {\n  Namespace = 'QCE/CVM';\n  InstanceAliasList = CVMInstanceAliasList;\n  InvalidDimensions = {};\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'cvm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return modifyDimensons(item);\n        }\n        return null;\n      })\n    );\n  }\n\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'cvm' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'api');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { Product: 'cvm' },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CVMFilterFieldsDescriptor } from './query_def';\n\nexport class CVMQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CVMFilterFieldsDescriptor = CVMFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      InstanceIds\n      <info-popover mode=\"right-normal\">\n        实例 ID，每次请求的实例的上限为100，参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CVMFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function cvmQuery() {\n  return {\n    template: template,\n    controller: CVMQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cvmQuery', cvmQuery);\n","import _ from 'lodash';\nconst instanceChargeTypes = [\n  { text: '预付费', value: 'PREPAID' },\n  { text: '后付费', value: 'POSTPAID_BY_HOUR' },\n  { text: 'CDH付费', value: 'CDHPAID' },\n];\n\nconst CVMFilterFields = {\n  zone: [],\n  'project-id': [],\n  'host-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n  'instance-id': [],\n  'security-group-id': [],\n  'instance-name': [],\n  'instance-charge-type': {},\n  'private-ip-address': [],\n  'public-ip-address': [],\n  'tag-key': [],\n};\n\nconst CVMFilterFieldsDescriptor = [\n  {\n    key: 'zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '可用区',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'project-id',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '项目ID',\n    link: 'https://cloud.tencent.com/document/api/378/4400',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'host-id',\n    enDescriptor: 'CDH ID',\n    cnDescriptor: 'CDH ID',\n    link: 'https://cloud.tencent.com/document/product/416/19730',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC ID',\n    cnDescriptor: 'VPC ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'Subnet ID',\n    cnDescriptor: '子网ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'security-group-id',\n    enDescriptor: 'Security Group ID',\n    cnDescriptor: '安全组ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'tag-key',\n    enDescriptor: '标签简',\n    cnDescriptor: '标签简',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-charge-type',\n    enDescriptor: 'Instance Charge Type',\n    cnDescriptor: '实例计费模式',\n    link: '',\n    type: 'select',\n    list: instanceChargeTypes,\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: '实例主网卡的内网IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'Public IP Address',\n    cnDescriptor: '实例主网卡的公网IP，包含实例创建时自动分配的IP和实例创建后手动绑定的弹性IP',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst CVM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    InstanceIds: [''],\n    Filters: { ...CVMFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst CVMInstanceAliasList = ['InstanceId', 'InstanceName', 'PrivateIpAddresses', 'PublicIpAddresses'];\n\nconst CVMValidMetricsT = [\n  'CPUUsage',\n  'CpuLoadavg',\n  'Cpuloadavg5m',\n  'Cpuloadavg15m',\n  'BaseCpuUsage',\n  'GpuMemTotal',\n  'GpuMemUsage',\n  'GpuMemUsed',\n  'GpuPowDraw',\n  'GpuPowLimit',\n  'GpuPowUsage',\n  'GpuTemp',\n  'GpuUtil',\n  'LanOuttraffic',\n  'LanIntraffic',\n  'LanOutpkg',\n  'LanInpkg',\n  'WanOuttraffic',\n  'WanIntraffic',\n  'WanOutpkg',\n  'WanInpkg',\n  'AccOuttraffic',\n  'TcpCurrEstab',\n  'TimeOffset',\n  'MemUsed',\n  'MemUsage',\n  'CvmDiskUsage',\n  'BaseCpuUsage',\n  'VmDiskReadIops',\n];\n// const CVMInvalidDemensions = {\n//   'vm_uuid': 'InstanceId',\n//   'vmUuid': 'InstanceId',\n// };\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nfunction isValidMetric(metric) {\n  const CVMValidMetrics = _.map(CVMValidMetricsT, _.toUpper);\n  return _.indexOf(CVMValidMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\nexport default CVM_STATE;\nexport {\n  CVMFilterFieldsDescriptor,\n  CVMInstanceAliasList,\n  isValidMetric,\n  modifyDimensons,\n  templateQueryIdMap,\n  // CVMInvalidDemensions,\n  GetInstanceQueryParams as CVMGetInstanceQueryParams,\n};\n","import {\n  CYNOSDBMYSQLInstanceAliasList,\n  CYNOSDBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n  checkKeys,\n} from './query_def';\nimport _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\n// import { t } from '../../../locale';\n\nexport default class CYNOSDBMYSQLDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CYNOSDBMYSQLInstanceAliasList;\n  InvalidDimensions = CYNOSDBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  checkKeys = checkKeys;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cynosdb',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n  // getRegions() {\n  //   return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  // }\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'cynosdbmysql' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n  // 仅对维度组合是InstanceId的指标，其他指标不支持\n  getDefaultInsObj(ins: string) {\n    return {\n      [templateQueryIdMap.instance]: ins,\n    };\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CYNOSDB_MYSQL';\n\n// 按照驼峰方式命名，和SERVICES保持一致，abcDeF会成为angular组件名字<abc-de-f-query />\nconst queryEditorName = 'cynosdbMysqlQuery';\n\nconst cynosdbMysqlFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  OrderBy: {},\n  OrderByType: {},\n  InstanceIds: [],\n  DbType: {},\n  // Status: '',\n};\n\nconst cynosdbMysqlFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 1000,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '实例id列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '创建时间', value: 'CREATETIME' },\n      { text: '过期时间', value: 'PERIODENDTIME' },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '升序', value: 'ASC' },\n      { text: '降序', value: 'DESC' },\n    ],\n  },\n  {\n    key: 'DbType',\n    enDescriptor: 'DbType',\n    cnDescriptor: '引擎类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'MYSQL', value: 'MYSQL' },\n      { text: 'POSTGRESQL', value: 'POSTGRESQL' },\n    ],\n  },\n  // {\n  //   key: 'Status',\n  //   enDescriptor: 'Status',\n  //   cnDescriptor: '实例状态',\n  //   link: '',\n  //   type: 'input',\n  // },\n];\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n];\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1003/48334',\n  namespace,\n  fieldDescriptor: cynosdbMysqlFilterFieldsDescriptor,\n};\n\nconst CYNOSDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: cynosdbMysqlFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// 和文件名字一样CYNOSDBMYSQL\nconst CYNOSDBMYSQLInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\nconst CYNOSDBInvalidDemensions = {\n  instanceid: 'InstanceId',\n  instanceId: 'InstanceId',\n};\nconst checkKeys = ['instanceId'];\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\n\nexport default CYNOSDB_STATE;\nexport {\n  cynosdbMysqlFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CYNOSDBMYSQLInstanceAliasList,\n  CYNOSDBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  checkKeys,\n  // params前缀为service的全大写\n  GetInstanceQueryParams as CYNOSDBMYSQLGetInstanceQueryParams,\n};\n","import { DCInstanceAliasList, DCInvalidDemensions, namespace, modifyDimensons } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCInstanceAliasList;\n  InvalidDimensions = DCInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'DirectConnectId',\n  };\n  InstanceReqConfig = {\n    service: 'dc',\n    action: 'DescribeDirectConnects',\n    responseField: 'DirectConnectSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DC';\nconst queryEditorName = 'dcQuery';\n\nconst DCFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DirectConnectIds: [],\n};\n\nconst DCFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DirectConnectIds',\n    enDescriptor: 'DirectConnectIds',\n    cnDescriptor: '物理专线 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/216/34826',\n  namespace,\n  fieldDescriptor: DCFilterFieldsDescriptor,\n};\n\nconst DC_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectId',\n  queries: DCFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nconst DCInstanceAliasList = ['DirectConnectId', 'DirectConnectName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectId',\n};\n\nconst DCInvalidDemensions = {\n  directConnectId: 'DirectConnectId',\n  directconnectid: 'DirectConnectId',\n};\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['directConnectId'];\n  });\n  return metricTmp;\n}\nexport default DC_STATE;\nexport {\n  DCFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCInstanceAliasList,\n  DCInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as DCGetInstanceQueryParams,\n};\n","import {\n  DCDBInstanceAliasList,\n  DCDBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCDBInstanceAliasList;\n  InvalidDimensions = DCDBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'dcdb',\n    action: 'DescribeDCDBInstances',\n    responseField: 'Instances',\n  };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  extraActionMap = {\n    DescribeDCDBShards: {\n      service: 'dcdb',\n      action: 'DescribeDCDBShards',\n      responseField: 'Shards',\n      pickKey: 'ShardInstanceId',\n    },\n    DescribeDCDBInstanceNodeInfo: {\n      service: 'dcdb',\n      action: 'DescribeDCDBInstanceNodeInfo',\n      responseField: 'NodesInfo',\n      pickKey: 'NodeId',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion, 入参的region用广州\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/dcdb',\n      },\n      'dcdb',\n      { action: 'DescribeDCDBSaleInfo', region: 'ap-guangzhou' }\n    ).then((response) => {\n      return _.map(response.RegionList || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n          RegionState: item.RegionState,\n        };\n      });\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      InstanceId: instance[this.templateQueryIdMap.instance],\n      Limit: 100,\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { DCDBFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'nodeid',\n    field: 'NodeId',\n    action: 'DescribeDCDBInstanceNodeInfo',\n  },\n  {\n    label: 'shardid',\n    field: 'ShardId',\n    action: 'DescribeDCDBShards',\n  },\n];\nconst dropdownTextConfig = {\n  DescribeDCDBInstanceNodeInfo: 'NodeId',\n  DescribeDCDBShards: 'ShardInstanceId',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.DCDBFilterFieldsDescriptor = DCDBFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const instanceId = $scope.getInstanceId();\n      const payload: any = {\n        InstanceId: instanceId,\n        Limit: 100,\n      };\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in DCDBFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { isArray, cloneDeep } from 'lodash';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/TDMYSQL';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'dcdbQuery';\n\nconst DCDBInvalidDemensions = {\n  nodeid: 'NodeId',\n  instanceid: 'InstanceId',\n  shardid: 'ShardInstanceId',\n  ShardId: 'ShardInstanceId',\n};\n\n// 需和文件名对应\nconst DCDBInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  NodeId: 'NodeId',\n  ShardInstanceId: 'ShardInstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst DCDBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceIds: [],\n  SearchName: '',\n  SearchKey: '',\n  ProjectIds: [],\n  // IsFilterVpc\n  VpcId: '',\n  SubnetId: '',\n\n  OrderBy: {},\n  OrderByType: {},\n  // IsFilterExcluster: {},\n  ExclusterType: {},\n\n  ExclusterIds: [],\n  FilterInstanceType: {},\n};\n\nconst DCDBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '实例 ID 查询',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'SearchName',\n    enDescriptor: 'SearchName',\n    cnDescriptor: '搜索的字段名,当前支持的值有：instancename、vip、all',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '搜索的关键字',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: '按项目 ID 查询',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '私有网络的子网 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'projectId', value: 'projectId' },\n      { text: 'createtime', value: 'createtime' },\n      { text: 'instancename', value: 'instancename' },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '私有网络 ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'desc', value: 'desc' },\n      { text: 'asc', value: 'asc' },\n    ],\n  },\n  {\n    key: 'ExclusterType',\n    enDescriptor: 'ExclusterType',\n    cnDescriptor: '集群类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '非独享集群', value: 1 },\n      { text: '独享集群', value: 2 },\n      { text: '全部', value: 0 },\n      { text: 'asc', value: 'asc' },\n    ],\n  },\n  {\n    key: 'ExclusterIds',\n    enDescriptor: 'ExclusterIds',\n    cnDescriptor: '独享集群ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'FilterInstanceType',\n    enDescriptor: 'FilterInstanceType',\n    cnDescriptor: '实例类型过滤',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '独享实例', value: 1 },\n      { text: '主实例', value: 2 },\n      { text: '灾备实例', value: 3 },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/557/16140',\n  namespace,\n  fieldDescriptor: DCDBFilterFieldsDescriptor,\n};\n\nconst DCDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  ShardId: '',\n  NodeId: '',\n  queries: DCDBFilterFields,\n};\nconst modifyMetricConf = {\n  shardid: 'ShardId',\n  instanceid: 'InstanceId',\n  nodeid: 'NodeId',\n};\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((v) => modifyMetricConf[v] || v);\n  });\n  return metricTmp;\n}\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params = instanceQueryParamsBaseParse(queries, false);\n  // 特殊处理\n  params.IsFilterVpc = false;\n  params.IsFilterExcluster = false;\n  if (params.VpcId || params.SubnetId) params.IsFilterVpc = true;\n  if (params.ExclusterType) params.IsFilterExcluster = true;\n  if (isArray(params.FilterInstanceType)) params.FilterInstanceType = params.FilterInstanceType.join(',');\n  return params;\n}\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  NodeId: 'NodeId',\n  ShardInstanceId: 'ShardId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NodeId: {\n    dim_KeyInStorage: keyInStorage.NodeId,\n    dim_KeyInTarget: 'NodeId',\n    dim_KeyInMap: templateQueryIdMap.NodeId,\n  },\n  ShardInstanceId: {\n    dim_KeyInStorage: keyInStorage.ShardInstanceId,\n    dim_KeyInTarget: 'ShardId',\n    dim_KeyInMap: templateQueryIdMap.ShardInstanceId,\n  },\n};\n// 和其他产品的展示保持一致\nconst regionSupported = [\n  { text: '华北地区(北京)', value: 'ap-beijing' },\n  { text: '西南地区(成都)', value: 'ap-chengdu' },\n  { text: '西南地区(重庆)', value: 'ap-chongqing' },\n  { text: '华南地区(广州)', value: 'ap-guangzhou' },\n  { text: '港澳台地区(中国香港)', value: 'ap-hongkong' },\n  { text: '亚太南部(孟买)', value: 'ap-mumbai' },\n  { text: '华东地区(南京)', value: 'ap-nanjing' },\n  { text: '华东地区(上海)', value: 'ap-shanghai' },\n  { text: '华东地区(上海金融)', value: 'ap-shanghai-fsi' },\n  { text: '华南地区(深圳金融)', value: 'ap-shenzhen-fsi' },\n  { text: '亚太东南(新加坡)', value: 'ap-singapore' },\n  { text: '亚太东北(东京)', value: 'ap-tokyo' },\n  { text: '欧洲地区(法兰克福)', value: 'eu-frankfurt' },\n  { text: '美国东部(弗吉尼亚)', value: 'na-ashburn' },\n  { text: '美国西部(硅谷)', value: 'na-siliconvalley' },\n  { text: '北美地区(多伦多)', value: 'na-toronto' },\n];\nexport default DCDB_STATE;\nexport {\n  DCDBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCDBInstanceAliasList,\n  DCDBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  keyInStorage,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as DCDBGetInstanceQueryParams,\n};\n","import { DCGInstanceAliasList, DCGInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCGInstanceAliasList;\n  InvalidDimensions = DCGInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeDirectConnectGateways',\n    responseField: 'DirectConnectGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DCG';\nconst queryEditorName = 'dcgQuery';\n\nconst DCGInvalidDemensions = {\n  directConnectGatewayId: 'DirectConnectGatewayId',\n};\n\nconst DCGInstanceAliasList = ['DirectConnectGatewayId', 'DirectConnectGatewayName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectGatewayId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst DCGFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'direct-connect-gateway-id': [],\n  'direct-connect-gateway-name': [],\n  'direct-connect-gateway-ip': [],\n  'gateway-type': {},\n  'network-type': {},\n  'ccn-id': [],\n  'vpc-id': [],\n};\n\nconst DCGFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'direct-connect-gateway-id',\n    enDescriptor: 'direct-connect-gateway-id',\n    cnDescriptor: '专线网关唯一ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-gateway-name',\n    enDescriptor: 'direct-connect-gateway-name',\n    cnDescriptor: '专线网关名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-gateway-ip',\n    enDescriptor: 'direct-connect-gateway-ip',\n    cnDescriptor: '专线网关IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'gateway-type',\n    enDescriptor: 'gateway-type',\n    cnDescriptor: '网关类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '普通型', value: 'NORMAL' },\n      { text: 'NAT型', value: 'NAT' },\n    ],\n  },\n  {\n    key: 'network-type',\n    enDescriptor: 'network-type',\n    cnDescriptor: '网络类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '私有网络类型', value: 'VPC' },\n      { text: '云联网类型', value: 'CCN' },\n    ],\n  },\n  {\n    key: 'ccn-id',\n    enDescriptor: 'ccn-id',\n    cnDescriptor: '专线网关所在云联网ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: '专线网关所在私有网络ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/30644',\n  namespace,\n  fieldDescriptor: DCGFilterFieldsDescriptor,\n};\n\nconst DCG_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectGatewayId',\n  queries: DCGFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default DCG_STATE;\nexport {\n  DCGFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCGInstanceAliasList,\n  DCGInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as DCGGetInstanceQueryParams,\n};\n","import { DCXInstanceAliasList, DCXInvalidDemensions, namespace, modifyDimensons } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCXDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCXInstanceAliasList;\n  InvalidDimensions = DCXInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'DirectConnectTunnelId',\n  };\n  InstanceReqConfig = {\n    service: 'dc',\n    action: 'DescribeDirectConnectTunnels',\n    responseField: 'DirectConnectTunnelSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DCX';\nconst queryEditorName = 'dcxQuery';\n\nconst DCXFilterFields = {\n  'direct-connect-tunnel-name': [],\n  'direct-connect-tunnel-id': [],\n  'direct-connect-id': [],\n};\n\nconst DCXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'direct-connect-tunnel-name',\n    enDescriptor: 'direct-connect-tunnel-name',\n    cnDescriptor: '专用通道名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-tunnel-id',\n    enDescriptor: 'direct-connect-tunnel-id',\n    cnDescriptor: '专用通道实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-id',\n    enDescriptor: 'direct-connect-id',\n    cnDescriptor: '物理专线实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/216/19819',\n  namespace,\n  fieldDescriptor: DCXFilterFieldsDescriptor,\n};\n\nconst DCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectTunnelId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    ...DCXFilterFields,\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n\nconst DCXInstanceAliasList = ['DirectConnectTunnelId', 'DirectConnectTunnelName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectTunnelId',\n};\n\nconst DCXInvalidDemensions = {\n  directconnectconnid: 'DirectConnectTunnelId',\n  directConnectConnId: 'DirectConnectTunnelId',\n};\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['directConnectConnId'];\n  });\n  return metricTmp;\n}\nexport default DCX_STATE;\nexport {\n  DCXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCXInstanceAliasList,\n  DCXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as DCXGetInstanceQueryParams,\n};\n","import { BaseDatasource } from '../_base/datasource';\nimport {\n  ECDNInstanceAliasList,\n  ECDNInvalidDemensions,\n  modifyDimensons,\n  namespace,\n  templateQueryIdMap,\n} from './query_def';\n\nexport default class ECDNDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECDNInstanceAliasList;\n  InvalidDimensions = ECDNInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'ecdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import { cloneDeep, compact, forEach, get, isArray, isEmpty, isObject, omit, uniq } from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\n\nconst namespace = 'QCE/DSA';\nconst queryEditorName = 'ecdnQuery';\n\nconst ECDNInstanceAliasList = ['Domain'];\n\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\n\nconst ECDNInvalidDemensions = {\n  domain: 'Domain',\n  projectid: 'ProjectId',\n};\n\nconst ECDN_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 100,\n    Offset: 0,\n    origin: [],\n    domain: [],\n    resourceId: [],\n    status: [],\n    disable: [],\n    projectId: [],\n    fullUrlCache: [],\n    https: [],\n    originPullProtocol: [],\n    area: [],\n    tagKey: [],\n  },\n};\n\nconst ECDNFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'Origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'ResourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'Status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'disable',\n    enDescriptor: 'Disable',\n    cnDescriptor: '域名封禁状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'normal', value: 'normal' },\n      { text: 'unlicensed', value: 'unlicensed' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'FullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'Https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'OriginPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'https', value: 'https' },\n      { text: 'follow', value: 'follow' },\n    ],\n  },\n  {\n    key: 'area',\n    enDescriptor: 'Area',\n    cnDescriptor: '加速区域',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'mainland', value: 'mainland' },\n      { text: 'overseas', value: 'overseas' },\n      { text: 'global', value: 'global' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/570/42462',\n  namespace,\n  fieldDescriptor: ECDNFilterFieldsDescriptor,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!isEmpty(queries)) {\n    params.Limit = get(queries, 'Limit', 20) || 20;\n    params.Offset = get(queries, 'Offset', 0) || 0;\n    const _queries = omit(queries, ['Offset', 'Limit']);\n    const Filters: any[] = [];\n    forEach(_queries, (item: any, key) => {\n      if (isArray(item)) {\n        item = compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: uniq(item).slice(0, 5) });\n        }\n      } else if (isObject(item)) {\n        if (!isEmpty(get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: [get(item, 'value', [])].slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters.map((item) => {\n        if (item.Name === 'domain') {\n          return { ...item, Fuzzy: true };\n        }\n        return item;\n      });\n      return params;\n    }\n  }\n  return params;\n}\n\nfunction modifyDimensons(metricItem) {\n  const metricTmp = cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['domain', 'projectid'];\n  });\n  return metricTmp;\n}\n\nexport default ECDN_STATE;\n\nexport {\n  ECDNFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECDNInstanceAliasList,\n  ECDNInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECDNGetInstanceQueryParams,\n};\n","import {\n  ECMInstanceAliasList,\n  ECMInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMInstanceAliasList;\n  InvalidDimensions = ECMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM';\nconst queryEditorName = 'ecmQuery';\n\nconst ECMInvalidDemensions = {\n  // diskId: 'InstanceId',\n  uuid: 'UUID',\n  // unInstanceId: 'InstanceId',\n};\n\nconst ECMInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst ECMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  zone: [],\n  'zone-name': [],\n  'module-id': [],\n  'module-name': [],\n  'instance-id': [],\n  'instance-name': [],\n  'ip-address': [],\n  'instance-uuid': [],\n  'instance-state': {},\n  'internet-service-provider': [],\n  'instance-family': [],\n  'image-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n};\n\nconst ECMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'zone',\n    cnDescriptor: '可用区英文标识',\n    link: '',\n    type: 'dropdownMulti',\n  },\n  {\n    key: 'zone-name',\n    enDescriptor: 'zone-name',\n    cnDescriptor: '排列顺序',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-id',\n    enDescriptor: 'module-id',\n    cnDescriptor: '模块ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-name',\n    enDescriptor: 'module-name',\n    cnDescriptor: '模块名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'instance-name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ip-address',\n    enDescriptor: 'ip-address',\n    cnDescriptor: '内网/公网IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-uuid',\n    enDescriptor: 'instance-uuid',\n    cnDescriptor: '实例uuid',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'instance-state',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '创建中', value: 'PENDING' },\n      { text: '创建失败', value: 'LAUNCH_FAILED' },\n      { text: '运行中', value: 'RUNNING' },\n      { text: '关机', value: 'STOPPED' },\n      { text: '开机中', value: 'STARTING' },\n      { text: '关机中', value: 'STOPPING' },\n      { text: '重启中', value: 'REBOOTING' },\n      { text: '停止待销毁', value: 'SHUTDOWN' },\n      { text: '销毁中', value: 'TERMINATING' },\n    ],\n  },\n  {\n    key: 'internet-service-provider',\n    enDescriptor: 'internet-service-provider',\n    cnDescriptor: '公网IP所属的运营商',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-family',\n    enDescriptor: 'instance-family',\n    cnDescriptor: '机型family',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'image-id',\n    enDescriptor: 'image-id',\n    cnDescriptor: '镜像ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: '实例的vpc id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: '实例的subnet id',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/42565',\n  namespace,\n  fieldDescriptor: ECMFilterFieldsDescriptor,\n};\n\nconst ECM_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: ECMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// function isValidMetric(metricObj: any = {}) {\n//   const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n//   // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n//   return dimension.length === 1 &&( _.indexOf(dimension, 'UUID') !== -1 || _.indexOf(dimension, 'uuid') !== -1);\n// }\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['UUID'];\n  });\n  return metricTmp;\n}\nexport default ECM_STATE;\nexport {\n  ECMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMInstanceAliasList,\n  ECMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECMGetInstanceQueryParams,\n};\n","import {\n  ECMBLOCKSTORAGEInstanceAliasList,\n  ECMBLOCKSTORAGEInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMBLOCKSTORAGEInstanceAliasList;\n  InvalidDimensions = ECMBLOCKSTORAGEInvalidDemensions;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  templateQueryIdMap = templateQueryIdMap;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getDiskList(params: any) {\n    const { payload } = params;\n    const { InstanceId } = payload;\n    const instanceCache = await instanceStorage.getInstance(this.service);\n    const instanceObj: any =\n      _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === InstanceId)) ?? {};\n    const { DataDisks: dataDisks } = instanceObj;\n    return dataDisks;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      InstanceId: instance,\n      Limit: 100,\n    };\n    const rs = await this.getDiskList({ region, action, payload });\n    const result = rs.map((o) => {\n      o._InstanceAliasValue = o[this.templateQueryIdMap.diskId];\n      return {\n        text: o[this.templateQueryIdMap.diskId],\n        value: o[this.templateQueryIdMap.diskId],\n      };\n    });\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.diskId, rs);\n    return result;\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { ECMBLOCKSTORAGEFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  // {\n  //   label: 'nodeid',\n  //   field: 'NodeId',\n  //   action: 'DescribeInstanceNodeInfo',\n  // },\n  {\n    label: 'diskId',\n    field: 'diskId',\n  },\n];\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.ECMBLOCKSTORAGEFilterFieldsDescriptor = ECMBLOCKSTORAGEFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    // $scope.getInstanceId = () => {\n    //   let { instance } = $scope.target;\n    //   const service = GetServiceFromNamespace($scope.namespace);\n    //   instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n    //   if (!instance) {\n    //     return '';\n    //   }\n    //   try {\n    //     instance = JSON.parse(instance)[templateQueryIdMap.instance];\n    //   } catch (error) {\n    //     console.log();\n    //   }\n    //   return instance;\n    // };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = (target, action) => {\n      let { instance } = target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      try {\n        instance = JSON.parse(instance);\n        const { DataDisks: dataDisks } = instance;\n        return dataDisks.map((o) => {\n          o._InstanceAliasValue = o[templateQueryIdMap.diskId];\n          return {\n            text: o[templateQueryIdMap.diskId],\n            value: JSON.stringify(o),\n          };\n        });\n      } catch (error) {\n        // console.log('instance error', instance);\n        const payload: any = {\n          InstanceId: instance,\n        };\n        const rs = $scope.datasource.getServiceFn(service, 'getDiskList')({ payload });\n        const result = rs.map((o) => {\n          return {\n            text: o[templateQueryIdMap.diskId],\n            value: JSON.stringify(o),\n          };\n        });\n        return result;\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in ECMBLOCKSTORAGEFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM_BLOCK_STORAGE';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'ecmBlockStorageQuery';\n\nconst ECMBLOCKSTORAGEInvalidDemensions = {\n  uuid: 'UUID',\n  diskId: 'DiskId',\n};\n\n// 需和文件名对应\nconst ECMBLOCKSTORAGEInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  diskId: 'DiskId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst ECMBLOCKSTORAGEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'zone-name': [],\n  'module-id': [],\n  'module-name': [],\n  'instance-id': [],\n  'instance-name': [],\n  'ip-address': [],\n  'instance-uuid': [],\n  'instance-state': {},\n  'internet-service-provider': [],\n  'instance-family': [],\n  'image-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n};\n\nconst ECMBLOCKSTORAGEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'zone-name',\n    enDescriptor: 'zone-name',\n    cnDescriptor: '排列顺序',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-id',\n    enDescriptor: 'module-id',\n    cnDescriptor: '模块ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-name',\n    enDescriptor: 'module-name',\n    cnDescriptor: '模块名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'instance-name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ip-address',\n    enDescriptor: 'ip-address',\n    cnDescriptor: '内网/公网IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-uuid',\n    enDescriptor: 'instance-uuid',\n    cnDescriptor: '实例uuid',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'instance-state',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '创建中', value: 'PENDING' },\n      { text: '创建失败', value: 'LAUNCH_FAILED' },\n      { text: '运行中', value: 'RUNNING' },\n      { text: '关机', value: 'STOPPED' },\n      { text: '开机中', value: 'STARTING' },\n      { text: '关机中', value: 'STOPPING' },\n      { text: '重启中', value: 'REBOOTING' },\n      { text: '停止待销毁', value: 'SHUTDOWN' },\n      { text: '销毁中', value: 'TERMINATING' },\n    ],\n  },\n  {\n    key: 'internet-service-provider',\n    enDescriptor: 'internet-service-provider',\n    cnDescriptor: '公网IP所属的运营商',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-family',\n    enDescriptor: 'instance-family',\n    cnDescriptor: '机型family',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'image-id',\n    enDescriptor: 'image-id',\n    cnDescriptor: '镜像ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: '实例的vpc id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: '实例的subnet id',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/42565',\n  namespace,\n  fieldDescriptor: ECMBLOCKSTORAGEFilterFieldsDescriptor,\n};\n\nconst ECMBLOCKSTORAGE_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  diskId: '',\n  queries: ECMBLOCKSTORAGEFilterFields,\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  diskId: 'diskId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  DiskId: {\n    dim_KeyInStorage: keyInStorage.diskId,\n    dim_KeyInTarget: 'diskId',\n    dim_KeyInMap: templateQueryIdMap.diskId,\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default ECMBLOCKSTORAGE_STATE;\nexport {\n  ECMBLOCKSTORAGEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMBLOCKSTORAGEInstanceAliasList,\n  ECMBLOCKSTORAGEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as ECMBLOCKSTORAGEGetInstanceQueryParams,\n};\n","import { ECMLBInstanceAliasList, ECMLBInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMLBInstanceAliasList;\n  InvalidDimensions = ECMLBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM_LB';\nconst queryEditorName = 'ecmLbQuery';\n\nconst ECMLBInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n};\n\nconst ECMLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst ECMLBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n  BackendPrivateIps: [],\n  VpcId: '',\n};\n\nconst ECMLBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: '负载均衡器ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '负载均衡器名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: '负载均衡获得的公网IP地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivateIps',\n    cnDescriptor: '绑定的后端服务的内网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '实例所属私有网络唯一ID',\n    link: '',\n    type: 'input',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/48459',\n  namespace,\n  fieldDescriptor: ECMLBFilterFieldsDescriptor,\n};\n\nconst ECM_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: ECMLBFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// function isValidMetric(metricObj: any = {}) {\n//   const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n//   // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n//   return dimension.length === 1 &&( _.indexOf(dimension, 'UUID') !== -1 || _.indexOf(dimension, 'uuid') !== -1);\n// }\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    // item.Dimensions = ['UUID'];\n  });\n  return metricTmp;\n}\nexport default ECM_STATE;\nexport {\n  ECMLBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMLBInstanceAliasList,\n  ECMLBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECMLBGetInstanceQueryParams,\n};\n","import {\n  GSEInstanceAliasList,\n  GSEInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = GSEInstanceAliasList;\n  InvalidDimensions = GSEInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'gse',\n    action: 'DescribeInstances',\n    responseField: 'Instances',\n  };\n\n  keyInStorage = keyInStorage;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n  async getQueueNameList(params: any) {\n    const { region } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeGameServerSessionQueues' }\n        );\n      },\n      {},\n      'GameServerSessionQueues'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  async getFleetList(params: any) {\n    const { region } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'ListFleets' }\n        );\n      },\n      {},\n      'FleetIds'\n    );\n    const [rs] = res;\n    return rs.map((r) => ({ [this.templateQueryIdMap.FleetId]: r }));\n  }\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'DescribeGameServerSessionQueues') {\n      const rs = await this.getQueueNameList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.Name];\n        return {\n          text: o[this.templateQueryIdMap.Name],\n          value: o[this.templateQueryIdMap.Name],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.queue, rs);\n      return result;\n    }\n    if (action === 'ListFleets') {\n      const rs = await this.getFleetList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.FleetId];\n        return {\n          text: o[this.templateQueryIdMap.FleetId],\n          value: o[this.templateQueryIdMap.FleetId],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.fleet, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { GSEFilterFieldsDescriptor, templateQueryIdMap, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'fleetId',\n    field: 'FleetId',\n  },\n  {\n    label: 'queueName',\n    field: 'Name',\n  },\n];\nconst actionMaps = {\n  FleetId: 'getFleetList',\n  Name: 'getQueueNameList',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.GSEFilterFieldsDescriptor = GSEFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      // console.log({namespace, service});\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraDropdown = async (target, field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const instanceId = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      // const rs = await $scope.datasource.getServiceFn(service, 'getEnvironmentNameList')({ region, instanceId });\n      let rs = await $scope.datasource.getServiceFn(service, actionMaps[field])({ region, instanceId });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[field]];\n        return {\n          text: o[templateQueryIdMap[field]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in GSEFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n<div>\n  <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n      <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n        <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n          on-change=\"onRefresh()\" css-class=\"min-width-10\">\n        </gf-form-dropdown>\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/GSE';\nconst fleetId = 'FleetId'; // 为和cvm其他产品保持一致，即将string[]改为Array<{fleetid: xxx}>,在此声明key\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'gseQuery';\n\nconst GSEInvalidDemensions = {\n  instanceid: 'InstanceId',\n  fleetid: 'FleetId',\n  queuename: 'Name',\n};\n\n// 需和文件名对应\nconst GSEInstanceAliasList = ['InstanceId', 'PrivateIpAddress', 'IpAddress'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  Name: 'Name',\n  FleetId: fleetId,\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  fleet: 'fleet', // 实例队列\n  queue: 'queueName', // 会话队列\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  FleetId: {\n    dim_KeyInStorage: keyInStorage.fleet,\n    dim_KeyInTarget: 'FleetId',\n    dim_KeyInMap: templateQueryIdMap.FleetId,\n  },\n  Name: {\n    dim_KeyInStorage: keyInStorage.queue,\n    dim_KeyInTarget: 'Name',\n    dim_KeyInMap: templateQueryIdMap.Name,\n  },\n};\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst GSEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceId: '',\n  FleetId: '',\n};\n\nconst GSEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'resourceName',\n    cnDescriptor: '资源名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FleetId',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'input',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1165/42604',\n  namespace,\n  fieldDescriptor: GSEFilterFieldsDescriptor,\n};\n\nconst GSE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  FleetId: '', //  服务器实例\n  Name: '', // 队列名称\n  queries: GSEFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  // { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  // { value: 'ap-shanghai-fsi' },\n  // { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  // { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((v) => GSEInvalidDemensions[v] || v);\n  });\n  return metricTmp;\n}\nexport default GSE_STATE;\nexport {\n  GSEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  GSEInstanceAliasList,\n  GSEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  fleetId,\n  keyInStorage,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as GSEGetInstanceQueryParams,\n};\n","import { t } from '../../locale';\n// name (产品名称), service（对应的真实service）\ninterface ServiceType {\n  service: string;\n  label: string;\n  namespace: string;\n  href: string;\n  groupName?: string;\n  hideRegion?: boolean;\n}\nconst SERVICES: ServiceType[] = [\n  {\n    service: 'cvm',\n    get label() {\n      return t('CVM');\n    },\n    namespace: 'QCE/CVM',\n    href: 'https://cloud.tencent.com/document/api/213/15688',\n  },\n  {\n    service: 'cdb',\n    get label() {\n      return t('CDB');\n    },\n    namespace: 'QCE/CDB',\n    href: 'https://cloud.tencent.com/document/api/236/15829',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'mongoDB',\n    get label() {\n      return t('CMONGO');\n    },\n    namespace: 'QCE/CMONGO',\n    href: 'https://cloud.tencent.com/document/api/240/38568',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'postgres',\n    get label() {\n      return t('POSTGRES');\n    },\n    namespace: 'QCE/POSTGRES',\n    href: 'https://cloud.tencent.com/document/product/248/45105',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'redis',\n    get label() {\n      return t('REDIS');\n    },\n    namespace: 'QCE/REDIS',\n    href: 'https://cloud.tencent.com/document/product/248/45110',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'redisMem',\n    get label() {\n      return t('REDIS_MEM');\n    },\n    namespace: 'QCE/REDIS_MEM',\n    href: 'https://cloud.tencent.com/document/product/248/49729',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'sqlserver',\n    get label() {\n      return t('SQLSERVER');\n    },\n    namespace: 'QCE/SQLSERVER',\n    href: 'https://cloud.tencent.com/document/product/248/45146',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'cynosdbMysql',\n    get label() {\n      return t('CYNOSDB_MYSQL');\n    },\n    namespace: 'QCE/CYNOSDB_MYSQL',\n    href: 'https://cloud.tencent.com/document/product/248/45106',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'tcaplus',\n    get label() {\n      return t('TCAPLUS');\n    },\n    namespace: 'QCE/TCAPLUS',\n    href: 'https://cloud.tencent.com/document/product/248/45107',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'dcdb',\n    get label() {\n      return t('TDMYSQL');\n    },\n    namespace: 'QCE/TDMYSQL',\n    href: 'https://cloud.tencent.com/document/product/248/45108',\n  },\n  {\n    service: 'pcx',\n    get label() {\n      return t('PCX');\n    },\n    namespace: 'QCE/PCX',\n    href: 'https://cloud.tencent.com/document/product/215/5181',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'bwp',\n    get label() {\n      return t('BWP');\n    },\n    namespace: 'QCE/BWP',\n    href: 'https://cloud.tencent.com/document/api/215/19209',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'natGateway',\n    get label() {\n      return t('NAT_GATEWAY');\n    },\n    namespace: 'QCE/NAT_GATEWAY',\n    href: 'https://cloud.tencent.com/document/api/215/36034',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpngw',\n    get label() {\n      return t('VPNGW');\n    },\n    namespace: 'QCE/VPNGW',\n    href: 'https://cloud.tencent.com/document/product/248/45070',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpnx',\n    get label() {\n      return t('VPNX');\n    },\n    namespace: 'QCE/VPNX',\n    href: 'https://cloud.tencent.com/document/product/248/45071',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'dcg',\n    get label() {\n      return t('DCG');\n    },\n    namespace: 'QCE/DCG',\n    href: 'https://cloud.tencent.com/document/product/248/45072',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'ceipSummary',\n    get label() {\n      return t('CEIP_SUMMARY');\n    },\n    namespace: 'QCE/CEIP_SUMMARY',\n    href: 'https://cloud.tencent.com/document/product/248/50381',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpcNetDetect',\n    get label() {\n      return t('VPC_NET_DETECT');\n    },\n    namespace: 'QCE/VPC_NET_DETECT',\n    href: 'https://cloud.tencent.com/document/product/248/50384',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vbc',\n    get label() {\n      return t('VBC');\n    },\n    namespace: 'QCE/VBC',\n    href: 'https://cloud.tencent.com/document/product/248/45073',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'lb',\n    get label() {\n      return t('LB');\n    },\n    namespace: 'QCE/LB',\n    href: 'https://cloud.tencent.com/document/product/248/45099',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'lbPublic',\n    get label() {\n      return t('LB_PUBLIC');\n    },\n    namespace: 'QCE/LB_PUBLIC',\n    href: 'https://cloud.tencent.com/document/product/248/51898',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'lbPrivate',\n    get label() {\n      return t('LB_PRIVATE');\n    },\n    namespace: 'QCE/LB_PRIVATE',\n    href: 'https://cloud.tencent.com/document/product/248/51899',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'loadBalance',\n    get label() {\n      return t('LOADBALANCE');\n    },\n    namespace: 'QCE/LOADBALANCE',\n    href: 'https://cloud.tencent.com/document/product/248/51901',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'vClb',\n    get label() {\n      return `${t('cloud_load_balancer')}(${t('lite')})`;\n    },\n    namespace: 'QCE/V_CLB',\n    href: 'https://cloud.tencent.com/document/product/248/51901',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('lite')})`;\n    },\n  },\n  {\n    service: 'cdn',\n    get label() {\n      return t('CDN');\n    },\n    namespace: 'QCE/CDN',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50386',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'cdnProvince',\n    get label() {\n      return t('CDN_LOG_DATA');\n    },\n    namespace: 'QCE/CDN_LOG_DATA',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50388',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'ovCdn',\n    get label() {\n      return t('OV_CDN');\n    },\n    namespace: 'QCE/OV_CDN',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50387',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'scf',\n    get label() {\n      return t('SCF_V2');\n    },\n    namespace: 'QCE/SCF_V2',\n    href: 'https://cloud.tencent.com/document/product/248/45130',\n  },\n  {\n    service: 'cfs',\n    get label() {\n      return t('CFS');\n    },\n    namespace: 'QCE/CFS',\n    href: 'https://cloud.tencent.com/document/product/248/45143',\n  },\n  {\n    service: 'cos',\n    get label() {\n      return t('COS');\n    },\n    namespace: 'QCE/COS',\n    href: 'https://cloud.tencent.com/document/product/248/45140',\n  },\n  {\n    service: 'ckafka',\n    get label() {\n      return t('CKAFKA');\n    },\n    namespace: 'QCE/CKAFKA',\n    href: 'https://cloud.tencent.com/document/product/248/45121',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'cmq',\n    get label() {\n      return t('CMQ');\n    },\n    namespace: 'QCE/CMQ',\n    href: 'https://cloud.tencent.com/document/product/248/45114',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'cmqTopic',\n    get label() {\n      return t('CMQTOPIC');\n    },\n    namespace: 'QCE/CMQTOPIC',\n    href: 'https://cloud.tencent.com/document/product/248/45113',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmq',\n    get label() {\n      return t('TDMQ');\n    },\n    namespace: 'QCE/TDMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmqRocketmq',\n    get label() {\n      return t('TDMQ_ROCKETMQ');\n    },\n    namespace: 'QCE/ROCKETMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmqRabbitmq',\n    get label() {\n      return t('TDMQ_RABBITMQ');\n    },\n    namespace: 'QCE/RABBITMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'dcx',\n    get label() {\n      return t('DCX');\n    },\n    namespace: 'QCE/DCX',\n    href: 'https://cloud.tencent.com/document/product/248/45101',\n    get groupName() {\n      return t('direct_connect');\n    },\n  },\n  {\n    service: 'dc',\n    get label() {\n      return t('DC');\n    },\n    namespace: 'QCE/DC',\n    href: 'https://cloud.tencent.com/document/product/248/45102',\n    get groupName() {\n      return t('direct_connect');\n    },\n  },\n  {\n    service: 'cpm',\n    get label() {\n      return t('CPM');\n    },\n    namespace: 'QCE/CPM',\n    href: 'https://cloud.tencent.com/document/product/248/45881',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmPcx',\n    get label() {\n      return t('BM_PCX');\n    },\n    namespace: 'QCE/BM_PCX',\n    href: 'https://cloud.tencent.com/document/product/248/45884',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmLb',\n    get label() {\n      return t('BM_LB');\n    },\n    namespace: 'QCE/BM_LB',\n    href: 'https://cloud.tencent.com/document/product/248/45886',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmIntraLb',\n    get label() {\n      return t('BM_INTRA_LB');\n    },\n    namespace: 'QCE/BM_INTRA_LB',\n    href: 'https://cloud.tencent.com/document/product/248/45885',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'ces',\n    get label() {\n      return t('CES');\n    },\n    namespace: 'QCE/CES',\n    href: 'https://cloud.tencent.com/document/product/248/45129',\n  },\n  {\n    service: 'mrHDFS',\n    get label() {\n      return `${t('elastic_mapReduce')}(HDFS)`;\n    },\n    namespace: 'QCE/TXMR_HDFS',\n    href: 'https://cloud.tencent.com/document/product/248/44797',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrHBASE',\n    get label() {\n      return `${t('elastic_mapReduce')}(HBASE)`;\n    },\n    namespace: 'QCE/TXMR_HBASE',\n    href: 'https://cloud.tencent.com/document/product/248/45567',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrHIVE',\n    get label() {\n      return `${t('elastic_mapReduce')}(HIVE)`;\n    },\n    namespace: 'QCE/TXMR_HIVE',\n    href: 'https://cloud.tencent.com/document/product/248/45569',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrNODE',\n    get label() {\n      return `${t('elastic_mapReduce')}(NODE)`;\n    },\n    namespace: 'QCE/TXMR_NODE',\n    href: 'https://cloud.tencent.com/document/product/248/45570',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrPRESTO',\n    get label() {\n      return `${t('elastic_mapReduce')}(PRESTO)`;\n    },\n    namespace: 'QCE/TXMR_PRESTO',\n    href: 'https://cloud.tencent.com/document/product/248/45571',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrSPARK',\n    get label() {\n      return `${t('elastic_mapReduce')}(SPARK)`;\n    },\n    namespace: 'QCE/TXMR_SPARK',\n    href: 'https://cloud.tencent.com/document/product/248/45572',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrYARN',\n    get label() {\n      return `${t('elastic_mapReduce')}(YARN)`;\n    },\n    namespace: 'QCE/TXMR_YARN',\n    href: 'https://cloud.tencent.com/document/product/248/45573',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrZOOKEEPER',\n    get label() {\n      return `${t('elastic_mapReduce')}(ZOOKEEPER)`;\n    },\n    namespace: 'QCE/TXMR_ZOOKEEPER',\n    href: 'https://cloud.tencent.com/document/product/248/45574',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'cbs',\n    get label() {\n      return t('BLOCK_STORAGE');\n    },\n    namespace: 'QCE/BLOCK_STORAGE',\n    href: 'https://cloud.tencent.com/document/product/362/2345',\n  },\n  {\n    service: 'apigateway',\n    get label() {\n      return t('APIGATEWAY');\n    },\n    namespace: 'QCE/APIGATEWAY',\n    href: 'https://cloud.tencent.com/document/product/248/45127',\n  },\n  {\n    service: 'qaap',\n    get label() {\n      return t('QAAP');\n    },\n    namespace: 'QCE/QAAP',\n    href: 'https://cloud.tencent.com/document/product/608',\n  },\n  {\n    service: 'ecm',\n    get label() {\n      return t('ECM');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'ecmBlockStorage',\n    get label() {\n      return t('ECM_BLOCK_STORAGE');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM_BLOCK_STORAGE',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'ecmLb',\n    get label() {\n      return t('ECM_LB');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM_LB',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'gse',\n    get label() {\n      return t('GSE');\n    },\n    namespace: 'QCE/GSE',\n    href: 'https://cloud.tencent.com/document/product/1165',\n  },\n  {\n    service: 'cls',\n    get label() {\n      return t('CLS');\n    },\n    namespace: 'QCE/CLS',\n    href: 'https://cloud.tencent.com/document/product/614',\n  },\n  {\n    service: 'tke',\n    get label() {\n      return t('TKE');\n    },\n    namespace: 'QCE/TKE2',\n    href: 'https://cloud.tencent.com/document/product/457',\n  },\n  {\n    service: 'ecdn',\n    get label() {\n      return t('ECDN');\n    },\n    namespace: 'QCE/DSA',\n    href: 'https://cloud.tencent.com/document/product/570',\n  },\n  // {\n  //   service: 'lighthouse',\n  //   label: '轻量应用服务器(LIGHTHOUSE)',\n  //   namespace: 'QCE/LIGHTHOUSE',\n  //   href: 'https://cloud.tencent.com/document/product/1207',\n  // },\n  // {\n  //   service: 'tsf',\n  //   label: ' 微服务平台(TSF)',\n  //   namespace: 'QCE/TSF',\n  //   href: 'https://cloud.tencent.com/document/product/649',\n  // },\n  {\n    service: 'waf',\n    get label() {\n      return t('WAF');\n    },\n    // hideRegion: true,\n    namespace: 'QCE/WAF',\n    href: 'https://cloud.tencent.com/document/product/627',\n  },\n];\nconst Datasources = {};\nconst InitStates = {};\nconst InstanceAliasList = {};\nconst GetInstanceQueryParams = {};\n\n/**\n * 由于目录命名不规范，导致需要使用额外逻辑保证正确性。从目录到具体service的映射\n */\nconst hackModuleName = {\n  // lb_loadBalance: 'loadBalance',\n  postgresql: 'postgres',\n  mongodb: 'mongoDB',\n  clb: ['lbPrivate', 'lbPublic', 'loadBalance'],\n  mr: ['mrHDFS', 'mrHBASE', 'mrHIVE', 'mrNODE', 'mrPRESTO', 'mrSPARK', 'mrYARN', 'mrZOOKEEPER'],\n};\n\nconst requireModule = (require as any).context('./', true, /^\\.\\/[a-zA-Z]\\w+\\/(datasource)|(query(_def)?)\\.ts$/);\n\nrequireModule.keys().forEach((filePath) => {\n  let [, moduleName, fileName] = filePath.split('/');\n\n  // hack： 这里是由于产品目录命名不规范,所以才会多这么一段代码\n  moduleName = hackModuleName[moduleName] ?? moduleName;\n\n  // 目录与模块的映射关系，不管是一对一还是一对多，均按数组进行统一处理\n  [].concat(moduleName).forEach((module: string) => {\n    // 这个service就是产品配置中的service，需要注意这里的service是根据目录名称算出来的，因此目录名称一定要和service对应\n    const service = module.replace(/_([a-zA-Z])/g, (_, b) => b.toUpperCase());\n    const prefix = service.toUpperCase(); // 命名规则\n\n    // datasource\n    if (fileName === 'datasource.ts') {\n      const Cls = require(`${filePath}`).default;\n\n      // 想办法为实例注入service，不能为prototype或则类本身注入，因为会造成互相污染，详尽mrDatasource\n      Datasources[`${prefix}Datasource`] = class {\n        constructor(...params) {\n          const target = new Cls(...params, service);\n          target.service = service;\n          // eslint-disable-next-line no-constructor-return\n          return target;\n        }\n      };\n    }\n    // query\n    if (fileName === 'query.ts') {\n      require(`${filePath}`);\n    }\n    // query_def\n    if (fileName === 'query_def.ts') {\n      const alias = `${prefix}InstanceAliasList`;\n      const getParams = `${prefix}GetInstanceQueryParams`;\n\n      const target = require(`${filePath}`);\n\n      InitStates[service] = target.default; // FIXME: 这里需不需要深拷贝？\n      InstanceAliasList[alias] = target[alias] ?? target['InstanceAliasList'];\n      GetInstanceQueryParams[getParams] = target[getParams] ?? target['GetInstanceQueryParams'];\n    }\n  });\n});\n\nexport {\n  InitStates as InitServiceState,\n  SERVICES,\n  Datasources,\n  InstanceAliasList,\n  GetInstanceQueryParams,\n  // DefaultDimensions\n};\n\n// console.log(Datasources, InitStates, InstanceAliasList, GetInstanceQueryParams);\n","import _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\nimport { LBInstanceAliasList, LBInvalidDemensions } from './query_def';\n\nexport default class SCFDatasource extends BaseDatasource {\n  Namespace = 'QCE/LB';\n  InstanceAliasList = LBInstanceAliasList;\n  InvalidDimensions = LBInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'AddressId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeAddresses',\n    responseField: 'AddressSet',\n    interceptor: {\n      request: (params) => {\n        const { Filters } = params;\n        if (!Filters) {\n          params.Filters = [];\n        }\n        params.Filters.push({\n          Name: 'address-type',\n          Values: ['EIP'],\n        });\n        return params;\n      }, // 设置一些请求参数的 默认值\n    },\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) =>\n      /* hack：这里多加了筛选条件，是因为后端数据不准确，坑啊！ 只拿取包含eip的指标 */\n      item.Dimensions?.[0]?.Dimensions?.includes('eip')\n    );\n  }\n\n  // async getInstances(region, params = {}) {\n  //   const rawSet = await super.getInstances(region, params);\n  //   /* hack：这里多加了筛选条件，是因为后端数据不准确，坑啊！ 只拿取包含eip的指标 */\n  //   return rawSet.filter((item) => item.AddressType === 'EIP');\n  // }\n\n  // async getVariableInstances(region, query = {}) {\n  //   const rawSet = await super.getVariableInstances(region, query);\n  //   return rawSet.filter((item) => item.AddressType === 'EIP');\n  // }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { LBFilterDescriptor } from './query_def';\n\nexport class LBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      // $scope.LBQueryDescriptor = LBQueryDescriptor;\n      $scope.LBFilterDescriptor = LBFilterDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/16702\">Click here to get API doc.</a>\n</label>\n\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      AddressIds\n      <info-popover mode=\"right-normal\">\n        实例 ID，每次请求的实例的上限为100，参数不支持同时指定 AddressIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.AddressIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 AddressIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n\n<!--Filters部分-->\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in LBFilterDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function lbQuery() {\n  return {\n    template: template,\n    controller: LBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('lbQuery', lbQuery);\n","import _ from 'lodash';\n\n// export const LBQueryDescriptor = [{\n//   key: 'Offset',\n//   enDescriptor: 'Offset',\n//   cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n//   link: '',\n//   type: 'inputnumber',\n//   min: 0,\n// },\n// {\n//   key: 'Limit',\n//   enDescriptor: 'Limit',\n//   cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为2000',\n//   link: '',\n//   type: 'inputnumber',\n//   min: 1,\n//   max: 2000,\n// },\n// {\n//   key: 'AddressId',\n//   enDescriptor: 'Address Id',\n//   cnDescriptor: '标识 EIP 的唯一 ID ',\n//   link: '',\n//   type: 'inputmulti',\n// }\n// ];\n\nexport const LBFilterDescriptor = [\n  {\n    key: 'address-id',\n    enDescriptor: 'Address ID',\n    cnDescriptor: 'EIP 的唯一 ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-name',\n    enDescriptor: 'Address Name',\n    cnDescriptor: 'EIP 名称 ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-ip',\n    enDescriptor: 'Address IP',\n    cnDescriptor: 'EIP 的 IP 地址 ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-status',\n    enDescriptor: 'Address Status',\n    cnDescriptor: 'EIP 的状态',\n    link: '',\n    type: 'select',\n    list: [\n      { value: 'CREATING', text: 'CREATING' },\n      { value: 'BINDING', text: 'BINDING' },\n      { value: 'BIND', text: 'BIND' },\n      { value: 'UNBINDING', text: 'UNBINDING' },\n      { value: 'UNBIND', text: 'UNBIND' },\n      { value: 'OFFLINING', text: 'OFFLINING' },\n      { value: 'BIND_ENI', text: 'BIND_ENI' },\n    ],\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: '实例ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: 'EIP 绑定的内网 IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'network-interface-id',\n    enDescriptor: 'Network Interface ID',\n    cnDescriptor: 'EIP 绑定的弹性网卡 ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'is-arrears',\n    enDescriptor: 'Arrears',\n    cnDescriptor: 'EIP 是否欠费 ',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '正常', value: 'FALSE' },\n      { text: '欠费', value: 'TRUE' },\n    ],\n  },\n];\n\n// const LBFilterFields = {\n//   \"address-id\": [],\n//   \"address-name\": [],\n//   \"address-ip\": [],\n//   \"address-status \": [],\n//   \"instance-id \": [],\n//   \"private-ip-address\": [],\n//   \"network-interface-id \": [],\n//   \"is-arrears \": [],\n// };\n\nconst InstanceKey = 'AddressIds';\nconst LB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'AddressId',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    [InstanceKey]: [''],\n    Filters: {\n      'address-id': [],\n      'address-name': [],\n      'address-ip': [],\n      'address-status ': [],\n      'instance-id ': [],\n      'private-ip-address': [],\n      'network-interface-id ': [],\n      'is-arrears ': [],\n    },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries[InstanceKey])) {\n        const InstanceIds = _.compact(queries[InstanceKey]);\n        if (_.uniq(InstanceIds).length > 0) {\n          params[InstanceKey] = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst LBInstanceAliasList = ['AddressId', 'AddressName', 'AddressIp'];\n\n// 维度eip对应于实例中的哪个字段？映射\nconst LBInvalidDemensions = {\n  eip: 'AddressIp',\n};\n\nconst templateQueryIdMap = {\n  instance: 'AddressId',\n};\n// 从monitor维度到LB实例对应字段的映射\n// export const metric2Instance = {\n//   functionName: 'FunctionName',\n//   namespace: 'Namespace'\n// };\n\nexport default LB_STATE;\nexport {\n  LBInstanceAliasList,\n  LBInvalidDemensions,\n  templateQueryIdMap,\n  GetInstanceQueryParams as LBGetInstanceQueryParams,\n};\n\n// monitor监控数据默认支持的维度\n// export const LBDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import _ from 'lodash';\nimport {\n  LIGHTHOUSEInstanceAliasList,\n  templateQueryIdMap,\n  LighthouseInvalidDemensions,\n  modifyDimensons,\n} from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class LighthouseDatasource extends BaseDatasource {\n  Namespace = 'QCE/LIGHTHOUSE';\n  InstanceAliasList = LIGHTHOUSEInstanceAliasList;\n  InvalidDimensions = LighthouseInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'lighthouse',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'lighthouse' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'api');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { Product: 'lighthouse' },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { LighthouseFilterFieldsDescriptor } from './query_def';\n\nexport class LighthouseQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.LighthouseFilterFieldsDescriptor = LighthouseFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('lighthouse', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/1207/47573\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        Offset\n        <info-popover mode=\"right-normal\">\n          偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n        </info-popover>\n      </label>\n      <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        Limit\n        <info-popover mode=\"right-normal\">\n          单次请求返回的数量，默认为20，最小值为1，最大值为100\n        </info-popover>\n      </label>\n      <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-9\">\n        InstanceIds\n        <info-popover mode=\"right-normal\">\n          实例 ID，每次请求的实例的上限为100，参数不支持同时指定 InstanceIds 和 Filters\n        </info-popover>\n      </label>\n      <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n        switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n    </div>\n  </div>\n  <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n    <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n    </multi-condition>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-9\">\n        Filters\n        <info-popover mode=\"right-normal\">\n          过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 InstanceIds 和 Filters\n        </info-popover>\n      </label>\n      <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n        on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n    </div>\n  </div>\n  <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n    <div class=\"gf-form-inline\" ng-repeat=\"field in LighthouseFilterFieldsDescriptor\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputNumbermulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries.Filters[field.key]\"\n        options=\"field.list\"\n        multiple=\"true\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function lighthouseQuery() {\n  return {\n    template: template,\n    controller: LighthouseQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('lighthouseQuery', lighthouseQuery);\n","import _ from 'lodash';\n\nconst LighthouseStateType = [\n  { text: '创建中', value: 'PENDING' },\n  { text: '创建失败', value: 'LAUNCH_FAILED' },\n  { text: '运行中', value: 'RUNNING' },\n  { text: '关机', value: 'STOPPED' },\n  { text: '开机中', value: 'STARTING' },\n  { text: '关机中', value: 'STOPPING' },\n  { text: '重启中', value: 'REBOOTING' },\n  { text: '停止待销毁', value: 'SHUTDOWN' },\n  { text: '销毁中', value: 'TERMINATING' },\n];\n\nconst LighthouseFilterFields = {\n  zone: [],\n  'instance-name': [],\n  'instance-state': {},\n  'private-ip-address': [],\n  'public-ip-address': [],\n};\n\nconst LighthouseFilterFieldsDescriptor = [\n  {\n    key: 'instance-name',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: '实例主网卡的内网IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'Public IP Address',\n    cnDescriptor: '实例主网卡的公网IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '可用区',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'Instance State',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    list: LighthouseStateType,\n  },\n];\n\nconst LIGHTHOUSE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    InstanceIds: [''],\n    Filters: { ...LighthouseFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst LIGHTHOUSEInstanceAliasList = ['InstanceId', 'InstanceName', 'PrivateIpAddresses', 'PublicIpAddresses'];\n\nconst LighthouseInvalidDemensions = {\n  instanceid: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\n\nexport default LIGHTHOUSE_STATE;\n\nexport {\n  LighthouseFilterFieldsDescriptor,\n  LIGHTHOUSEInstanceAliasList,\n  LighthouseInvalidDemensions,\n  templateQueryIdMap,\n  modifyDimensons,\n  GetInstanceQueryParams as LIGHTHOUSEGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport {\n  MONGODBInstanceAliasList,\n  MONGODBInvalidDemensions,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class MONGODBDatasource extends BaseDatasource {\n  Namespace = 'QCE/CMONGO';\n  InstanceAliasList = MONGODBInstanceAliasList;\n  ReplicaAliasList = ['ReplicaSetId', 'ReplicaSetName'];\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n\n  InstanceReqConfig = {\n    service: 'mongodb',\n    action: 'DescribeDBInstances',\n    responseField: 'InstanceDetails',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getInvalidDimensions(selfIns: any, target: any) {\n    if (target.node && target.node !== '') {\n      return { target: 'Node' };\n    }\n    if (target.replica && target.replica !== '') {\n      return { target: 'Replica' };\n    }\n    return MONGODBInvalidDemensions;\n  }\n  formatVariableDisplay(data: Record<string, any>, displayTpl: string | undefined, alias: string, aliasList: string[]) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !aliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(data, b);\n      });\n    }\n    return this.getAliasValue(data, alias);\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const { display } = query;\n    if (action === 'DescribeReplicas') {\n      const [res] = await this.getInstances(region, { InstanceIds: [instance[this.templateQueryIdMap.instance]] });\n      let { replicaalias } = query;\n      replicaalias = this.ReplicaAliasList.includes(replicaalias) ? replicaalias : this.templateQueryIdMap.replica;\n      const result = _.map(_.get(res, 'ReplicaSets', []), (item) => {\n        const replicaAlias = this.formatVariableDisplay(item, display, replicaalias, this.ReplicaAliasList);\n        item._InstanceAliasValue = replicaAlias || item[this.templateQueryIdMap.replica];\n        return { text: item.ReplicaSetId, value: item.ReplicaSetId };\n      });\n      await instanceStorage.setExtraStorage(\n        this.service,\n        this.queryMonitorExtraConfg.Replica.dim_KeyInStorage,\n        _.get(res, 'ReplicaSets', [])\n      );\n      return result;\n    }\n    if (action === 'DescribeReplicaNodes') {\n      const [res] = await this.getInstances(region, { InstanceIds: [instance[this.templateQueryIdMap.instance]] });\n      const { replicasetid } = query;\n      const targetReplica = _.find(_.get(res, 'ReplicaSets', []), { ReplicaSetId: this.getVariable(replicasetid) });\n      let result = _.times(targetReplica.SecondaryNum, (index) => {\n        const nodeId = `${targetReplica.ReplicaSetId}-node-slave${index}`;\n        return { text: nodeId, value: nodeId };\n      });\n      if (targetReplica) {\n        result = [\n          { text: `${targetReplica.ReplicaSetId}-node-primary`, value: `${targetReplica.ReplicaSetId}-node-primary` },\n          ...result,\n        ];\n      }\n      await instanceStorage.setExtraStorage(\n        this.service,\n        this.queryMonitorExtraConfg.Node.dim_KeyInStorage,\n        result.map((item) => ({ NodeId: item.value, _InstanceAliasValue: item.value }))\n      );\n      return result;\n    }\n\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { map, get, find, times } from 'lodash';\nimport { MONGODBFieldsDescriptor, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class MongoDBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.MONGODBFieldsDescriptor = MONGODBFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.onInstanceChange = (n, o) => {\n      if (n === o) {\n        return;\n      }\n      $scope.target.replica = '';\n      $scope.target.node = '';\n    };\n\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace('QCE/CMONGO');\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {\n        // console.log();\n      }\n      return variableData;\n    };\n\n    $scope.getExtraDropdown = async (target, type) => {\n      const { instance, replica } = $scope.target;\n      const service = GetServiceFromNamespace('QCE/CMONGO');\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const [res] = await $scope.datasource.getServiceFn(service, 'getInstances')(region, {\n        InstanceIds: [instanceId],\n      });\n      if (type === 'replica') {\n        return map(get(res, 'ReplicaSets', []), (item) => {\n          item._InstanceAliasValue = item.ReplicaSetId;\n          return { text: item.ReplicaSetId, value: JSON.stringify(item) };\n        });\n      }\n      if (type === 'node' && replica !== '') {\n        const replicaId = $scope.getVariableId(replica, 'replica');\n        const targetReplica = find(get(res, 'ReplicaSets', []), { ReplicaSetId: replicaId });\n        const options = times(targetReplica.SecondaryNum, (index) => {\n          const nodeId = `${targetReplica.ReplicaSetId}-node-slave${index}`;\n          return {\n            text: nodeId,\n            value: JSON.stringify({ NodeId: nodeId, _InstanceAliasValue: `${targetReplica.ReplicaSetId} - ${nodeId}` }),\n          };\n        });\n        return [\n          {\n            text: `${targetReplica.ReplicaSetId}-node-primary`,\n            value: JSON.stringify({\n              NodeId: `${targetReplica.ReplicaSetId}-node-primary`,\n              _InstanceAliasValue: `${targetReplica.ReplicaSetId} - ${`${targetReplica.ReplicaSetId}-node-primary`}`,\n            }),\n          },\n          ...options,\n        ];\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in MONGODBFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Replica\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.replica\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'replica')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.replica\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Node\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.node\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'node')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function mongodbQuery() {\n  return {\n    template: template,\n    controller: MongoDBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onRefresh: '&',\n      onChange: '&',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\n\ncoreModule.directive('mongodbQuery', mongodbQuery);\n","import _ from 'lodash';\nconst InstanceTypes = [\n  { text: '所有实例', value: 0 },\n  { text: '正式实例', value: 1 },\n  { text: '临时实例', value: 2 },\n  { text: '只读实例', value: 3 },\n  { text: '正式，只读，灾备实例', value: -1 },\n];\n\nconst ClusterTypes = [\n  { text: '副本集实例', value: 0 },\n  { text: '分片实例', value: 1 },\n  { text: '所有实例', value: -1 },\n];\n\nconst Status = [\n  { text: '待初始化', value: 0 },\n  { text: '流程执行中', value: 1 },\n  { text: '实例有效', value: 2 },\n  { text: '实例已过期', value: -2 },\n];\n\nconst PayMode = [\n  { text: '按量计费', value: 0 },\n  { text: '包年包月', value: 1 },\n  { text: '按量包年包月计费', value: -1 },\n];\n\nconst OrderBy = [\n  { text: 'ProjectId', value: 'ProjectId' },\n  { text: 'InstanceName', value: 'InstanceName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n];\n\nconst OrderByType = [\n  { text: '升序', value: 'ASC' },\n  { text: '降序', value: 'DESC' },\n];\n\nconst MongoDBFields = {\n  InstanceIds: [],\n  InstanceType: {},\n  ClusterType: {},\n  Status: [],\n  VpcId: '',\n  SubnetId: '',\n  PayMode: {},\n  Limit: 20,\n  Offset: 0,\n  OrderBy: '',\n  OrderByType: '',\n};\n\nconst MONGODBFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstancesIds',\n    cnDescriptor: '实例名称',\n    type: 'inputmulti',\n  },\n  {\n    key: 'InstanceType',\n    enDescriptor: 'InstanceType',\n    cnDescriptor: '实例类型',\n    link: '',\n    type: 'select',\n    list: InstanceTypes,\n  },\n  {\n    key: 'ClusterType',\n    enDescriptor: 'ClusterType',\n    cnDescriptor: '集群类型',\n    link: '',\n    type: 'select',\n    list: ClusterTypes,\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络的ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '私有网络的子网ID，基础网络则不传该参数。入参设置该参数的同时，必须设置相应的VpcId',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'PayMode',\n    enDescriptor: 'PayMode',\n    cnDescriptor: '付费类型',\n    link: '',\n    type: 'select',\n    list: PayMode,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderByType,\n  },\n];\n\nconst MONGODB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...MongoDBFields },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select 单选\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst MONGODBInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst MONGODBInvalidDemensions = {\n  target: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  replica: 'ReplicaSetId',\n};\n\nconst queryMonitorExtraConfg = {\n  Replica: {\n    dim_KeyInStorage: 'ReplicaSets',\n    dim_KeyInTarget: 'replica',\n    dim_KeyInMap: 'ReplicaSetId',\n    dim_KeyInIns: 'ReplicaSetId',\n  },\n  Node: {\n    dim_KeyInStorage: 'ReplicaNodeSets',\n    dim_KeyInTarget: 'node',\n    dim_KeyInMap: 'NodeId',\n    dim_KeyInIns: 'NodeId',\n  },\n};\nexport default MONGODB_STATE;\nexport {\n  MONGODBFieldsDescriptor,\n  MONGODBInvalidDemensions,\n  MONGODBInstanceAliasList,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n  GetInstanceQueryParams as MONGODBGetInstanceQueryParams,\n};\n","import { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  InvalidDemensions,\n  InstanceAliasList,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class MrHdfsDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  extrasAlias = [];\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  InstanceReqConfig = {\n    service: 'emr',\n    action: 'DescribeInstances',\n    responseField: 'ClusterList',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        DisplayStrategy: params.DisplayStrategy || 'monitorManage',\n        ProjectId: params.ProjectId || -1,\n      }), // 设置一些请求参数的 默认值\n      response: (data: any[]) => data.map(({ ClusterId, ClusterName }) => ({ ClusterId, ClusterName })),\n    },\n  };\n\n  async fetchAllNodes(region: string, params: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'emr');\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeClusterNodes' }\n        );\n      },\n      { ...params, isOffsetPage: true },\n      'NodeList'\n    );\n\n    // return rs[0].map((item) => ({ text: item.Ip, value: item.Ip }));\n    return rs[0];\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    let result;\n    switch (action) {\n      case 'DescribeClusterNodes': {\n        const resultT = await this.fetchAllNodes(region, { InstanceId: instance.ClusterId, NodeFlag: 'all' });\n        result = resultT.map((item) => {\n          item._InstanceAliasValue = item[templateQueryIdMap.node];\n          return { text: item[templateQueryIdMap.node], value: item[templateQueryIdMap.node] };\n        });\n        await instanceStorage.setExtraStorage(this.service, this.keyInStorage.node, resultT);\n\n        return result;\n      }\n      default:\n        return [];\n    }\n  }\n}\n","import { InstanceQueryDescriptor, templateQueryIdMap } from './query_def';\nimport coreModule from 'grafana/app/core/core_module';\n\nconst ExtraFields = [\n  {\n    label: 'NodeIP',\n    field: 'nodeIP',\n  },\n];\n\nexport class MrQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.InstanceQueryDescriptor = InstanceQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    // 各个实例下的订阅，由于不想每次都重复发请求，所以这里做了一层缓存，数据结构为{ [instanceId]: {   } }\n    $scope.cacheMap = {};\n\n    $scope.getExtraFields = () => {\n      return Object.keys($scope.dims ?? {}).some((item: string) => item.startsWith('host4')) ? ExtraFields : [];\n      // return ExtraFields;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('mrHDFS', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).ClusterId;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.onExtraFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      if (field === 'nodeIP') {\n        const InstanceId = $scope.getInstanceId();\n        let data = $scope.cacheMap[InstanceId];\n\n        if (!data) {\n          const region = $scope.datasource.getServiceFn('mrHDFS', 'getVariable')(target.region);\n          const fetcher = $scope.datasource.getServiceFn('mrHDFS', 'fetchAllNodes');\n          const dataT = await fetcher(region, { InstanceId, NodeFlag: 'all' });\n          data = dataT.map((item) => {\n            item._InstanceAliasValue = item[templateQueryIdMap.node];\n            return {\n              text: item[templateQueryIdMap.node],\n              value: JSON.stringify(item),\n            };\n          });\n        }\n\n        // 缓存\n        $scope.cacheMap[InstanceId] = data;\n        return data;\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/589/34266\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in InstanceQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n<!-- 主题的ui -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onExtraFieldChange(extra.field)\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function mrQuery() {\n  return {\n    template: template,\n    controller: MrQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('mrQuery', mrQuery);\n","import _ from 'lodash';\n\nexport const InstanceQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '按照一个或者多个实例ID查询。实例ID形如: emr-xxxxxxxx ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'OrderField',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '实例ID', value: 'clusterId' },\n      { text: '创建时间', value: 'addTime' },\n      { text: '状态', value: 'status' },\n    ],\n  },\n  {\n    key: 'Asc',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '降序', value: 0 },\n      { text: '升序', value: 1 },\n    ],\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '实例所属项目ID',\n    link: '',\n    type: 'inputnumber',\n  },\n  {\n    key: 'DisplayStrategy',\n    enDescriptor: 'DisplayStrategy',\n    cnDescriptor: '集群筛选策略',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '未销毁的实例', value: 'clusterList' },\n      { text: '正常运行的实例', value: 'monitorManage' },\n    ],\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nexport const InvalidDemensions = new Proxy(\n  {},\n  {\n    get(target, k, receiver) {\n      if (typeof k === 'string') {\n        if (k.startsWith('id4')) return 'ClusterId'; // id4****\n        if (k.startsWith('host4')) return 'Ip'; // host4***\n      }\n      return Reflect.get(target, k, receiver);\n    },\n    has(target, propKey) {\n      return true;\n    },\n  }\n);\n\nexport const templateQueryIdMap = {\n  instance: 'ClusterId',\n  node: 'Ip',\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  node: 'nodeIP',\n};\n\n/**\n * 如果有InstanceId额外的维度，原则上都需要传入此map结构配置\n *\n * `key` 的含义：\n *   经过InvalidDemensions处理后的string。topicId => TopicId。\n *   否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\n *\n * `value` 的含义：\n *   @param {1} dim_KeyInStorage  指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n *   @param {2} dim_KeyInTarget   通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n *                                  默认取通过InvalidDemsion处理后的key\n *   @param {3} dim_KeyInMap      保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n *                                  即：templateQueryIdMap中内容。\n *                                  联合上面 2 的内容筛选出原始sourceMap\n */\nconst queryMonitorExtraConfg = {\n  Ip: {\n    dim_KeyInStorage: keyInStorage.node,\n    dim_KeyInTarget: 'nodeIP',\n    dim_KeyInMap: templateQueryIdMap.node,\n  },\n};\n\n// 与名称挂钩的变量\nconst InstanceAliasList = ['ClusterId', 'ClusterName'];\nexport { InstanceAliasList, GetInstanceQueryParams, queryMonitorExtraConfg, keyInStorage };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  nodeIP: '',\n  queries: {\n    Offset: 0,\n    Limit: 10,\n    DisplayStrategy: '',\n    OrderBy: {},\n    Order: {},\n    InstanceIds: [],\n    ProjectId: -1,\n    OrderField: '',\n    Asc: '',\n  },\n};\n","import _ from 'lodash';\nimport { NATGATEWAYInstanceAliasList, NATInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class NATGATEWAYDatasource extends BaseDatasource {\n  Namespace = 'QCE/NAT_GATEWAY';\n  InstanceAliasList = NATGATEWAYInstanceAliasList;\n  InvalidDimensions = NATInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'NatGatewayId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeNatGateways',\n    responseField: 'NatGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { NATGatewayFilterFieldsDescriptor } from './query_def';\n\nexport class NatGatewayQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.NATGatewayFilterFieldsDescriptor = NATGatewayFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/36034\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-10\">\n      NatGatewayIds\n      <info-popover mode=\"right-normal\">\n        NAT网关统一 ID，参数不支持同时指定 NatGatewayIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" value=\"target.queries.NatGatewayIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-10\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，参数不支持同时指定NatGatewayIds和Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in NATGatewayFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function natGatewayQuery() {\n  return {\n    template: template,\n    controller: NatGatewayQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('natGatewayQuery', natGatewayQuery);\n","import _ from 'lodash';\n\nconst NATGATEWAYInstanceAliasList = ['NatGatewayId', 'NatGatewayName'];\n\nconst NATGatewayFilterFields = {\n  'nat-gateway-id': [],\n  'nat-gateway-name': [],\n  'vpc-id': [],\n};\n\nconst NATGatewayFilterFieldsDescriptor = [\n  {\n    key: 'nat-gateway-id',\n    enDescriptor: 'NatGateway ID',\n    cnDescriptor: 'NAT网关统一 ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'nat-gateway-name',\n    enDescriptor: 'NatGateway Name',\n    cnDescriptor: 'NatGateway Name',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC ID',\n    cnDescriptor: '私有网络 ID',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst NATGATEWAY_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'NatGatewayId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    NatGatewayIds: [''],\n    Filters: { ...NATGatewayFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.NatGatewayIds)) {\n        const NatGatewayIds = _.compact(queries.NatGatewayIds);\n        if (_.uniq(NatGatewayIds).length > 0) {\n          params.InstanceIds = _.uniq(NatGatewayIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst templateQueryIdMap = {\n  instance: 'NatGatewayId',\n};\n\nconst NATInvalidDemensions = {\n  natId: 'NatGatewayId',\n};\n\nexport default NATGATEWAY_STATE;\nexport {\n  NATGatewayFilterFieldsDescriptor,\n  NATGATEWAYInstanceAliasList,\n  templateQueryIdMap,\n  NATInvalidDemensions,\n  GetInstanceQueryParams as NATGATEWAYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { OVCDNInstanceAliasList, OVCDNInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class OVCDNDatasource extends BaseDatasource {\n  Namespace = 'QCE/OV_CDN';\n  InstanceAliasList = OVCDNInstanceAliasList;\n  InvalidDimensions = OVCDNInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'Domain',\n  };\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { OVCDNFilterFieldsDescriptor } from './query_def';\n\nexport class OVCDNQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.OVCDNFilterFieldsDescriptor = OVCDNFilterFieldsDescriptor;\n    };\n\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-repeat=\"field in OVCDNFilterFieldsDescriptor\">\n<label class=\"gf-form-label width-14\">\n  {{ field.key }}\n  <info-popover mode=\"right-normal\">\n    {{ field.cnDescriptor }}\n    <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n  </info-popover>\n</label>\n<multi-condition\n  ng-if=\"field.type === 'inputNumbermulti'\"\n  type=\"'inputNumber'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  maxNum=\"field.max\"\n  minNum=\"field.min\"\n  on-change=\"onChange()\"\n></multi-condition>\n<multi-condition\n  ng-if=\"field.type === 'inputmulti'\"\n  type=\"'input'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  on-change=\"onChange()\"\n></multi-condition>\n<custom-select-dropdown\n  ng-if=\"field.type === 'select'\"\n  value=\"target.queries.Filters[field.key]\"\n  options=\"field.list\"\n  multiple=\"true\"\n  on-change=\"onChange()\"\n></custom-select-dropdown>\n</div>\n\n</div>\n`;\n\nexport function ovCdnQuery() {\n  return {\n    template: template,\n    controller: OVCDNQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('ovCdnQuery', ovCdnQuery);\n","import _ from 'lodash';\nconst CDNFilterFields = {\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: [],\n  serviceType: [],\n  projectId: [],\n  domainType: [],\n  fullUrlCache: [],\n  https: [],\n  originPullProtocol: [],\n  tagKey: [],\n};\n\nconst OVCDNFilterFieldsDescriptor = [\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst OVCDN_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...CDNFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    const Filters: any[] = [];\n    _.forEach(queries.Filters, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: _.uniq(item).slice(0, 5) });\n        }\n      } else if (_.isObject(item)) {\n        if (!_.isEmpty(_.get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: _.get(item, 'value', []).slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters;\n    }\n  }\n  return params;\n}\n\nconst OVCDNInstanceAliasList = ['Domain', 'ResourceId'];\n\nconst OVCDNInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default OVCDN_STATE;\nexport {\n  OVCDNFilterFieldsDescriptor,\n  OVCDNInstanceAliasList,\n  templateQueryIdMap,\n  OVCDNInvalidDemensions,\n  GetInstanceQueryParams as OVCDNGetInstanceQueryParams,\n};\n","import { PCXInstanceAliasList, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo, GetRequestParamsV2, SliceLength } from '../../common/constants';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = PCXInstanceAliasList;\n  InvalidDimensions = {};\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'xx',\n    action: 'xx',\n    responseField: 'xx',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getInstances(region = 'ap-guangzhou', params = {}) {\n    params = { offset: 0, limit: 50, ...params };\n    const serviceInfo = GetServiceAPIInfo(region, 'pcx');\n    return this.doRequestV2(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcPeeringConnections' }\n    ).then((response) => {\n      return response.data || [];\n    });\n  }\n\n  /**\n   * 模板变量中获取全量的 PCX 实例列表\n   * @param region 地域信息\n   */\n  getVariableInstances(region, query) {\n    let result: any[] = [];\n    const params = { Offset: 0, Limit: 50, ...query };\n    const serviceInfo = GetServiceAPIInfo(region, 'pcx');\n    return this.doRequestV2(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcPeeringConnections' }\n    ).then((response) => {\n      result = response.data || [];\n      const total = response.totalCount || 0;\n      if (result.length >= total) {\n        return result;\n      } else {\n        const param = SliceLength(total, 50);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getInstances(region, item));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return result;\n          })\n          .catch((error) => {\n            return result;\n          });\n      }\n    });\n  }\n\n  getVpcId(region, params: any = {}) {\n    params = { Offset: 0, Limit: 20, ...params };\n    // TODO 等待腾讯云接口查问题\n    params.Offset = String(params.Offset);\n    params.Limit = String(params.Limit);\n    const serviceInfo = GetServiceAPIInfo(region, 'vpc');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcs' }\n    ).then((response) => {\n      return _.map(response.VpcSet || [], (item) => ({ text: item.VpcId, value: item.VpcId }));\n    });\n  }\n\n  getVpcIds(region) {\n    let result: any[] = [];\n    const params: any = { Offset: 0, Limit: 100 };\n    // TODO 等待腾讯云接口查问题\n    params.Offset = String(params.Offset);\n    params.Limit = String(params.Limit);\n    const serviceInfo = GetServiceAPIInfo(region, 'vpc');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcs' }\n    ).then((response) => {\n      result = _.map(response.VpcSet || [], (item) => ({ text: item.VpcId, value: item.VpcId }));\n      const total = response.TotalCount || 0;\n      if (result.length >= total) {\n        return result;\n      } else {\n        const param = SliceLength(total, 100);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getVpcId(region, item));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return result;\n          })\n          .catch((error) => {\n            return result;\n          });\n      }\n    });\n  }\n\n  /**\n   * 腾讯云 API 2.0 请求接口\n   * @param options\n   * @param service\n   * @param signObj\n   */\n  async doRequestV2(options, service, signObj: any = {}) {\n    options = await GetRequestParamsV2(\n      options,\n      service,\n      signObj,\n      this.secretId,\n      this.instanceSettings.id,\n      this.backendSrv\n    );\n    return this.backendSrv\n      .datasourceRequest(options)\n      .then((response) => {\n        return _.get(response, 'data', {});\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { PCXFieldsDescriptor } from './query_def';\n\nexport class PCXQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.PCXFieldsDescriptor = PCXFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'vpcId':\n          return $scope.getVpcIds();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getVpcIds = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getVpcIds('pcx', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/2101\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in PCXFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function pcxQuery() {\n  return {\n    template: template,\n    controller: PCXQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('pcxQuery', pcxQuery);\n","import _ from 'lodash';\nconst namespace = 'QCE/PCX';\n\nconst PCXFields = {\n  limit: 20,\n  offset: 0,\n  peeringConnectionId: '',\n  peeringConnectionName: '',\n  vpcId: '',\n  state: undefined,\n};\n\nconst PCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'peeringConnectionId',\n  queries: { ...PCXFields },\n};\n\nconst StateTypes = [\n  { text: '申请中', value: 0 },\n  { text: '连接成功', value: 1 },\n  { text: '已过期', value: 2 },\n  { text: '对端已拒绝', value: 3 },\n  { text: '对端已删除', value: 4 },\n];\n\nconst PCXFieldsDescriptor = [\n  {\n    key: 'offset',\n    enDescriptor: 'offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'limit',\n    enDescriptor: 'limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为50',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'peeringConnectionId',\n    enDescriptor: 'PeeringConnection Id',\n    cnDescriptor: '私有网络对等连接 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'peeringConnectionName',\n    enDescriptor: 'PeeringConnection Name',\n    cnDescriptor: '对等连接名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'vpcId',\n    enDescriptor: 'vpcId',\n    cnDescriptor: '发起方私有网络 ID 值',\n    link: 'https://cloud.tencent.com/document/api/215/1372',\n    type: 'dropdown',\n  },\n  {\n    key: 'state',\n    enDescriptor: 'state',\n    cnDescriptor: '连接状态',\n    link: '',\n    type: 'select',\n    list: StateTypes,\n  },\n];\n\nconst PCXInstanceAliasList = ['peeringConnectionId', 'peeringConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'peeringConnectionId',\n};\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.limit = _.get(queries, 'limit', 20) || 20;\n    params.offset = _.get(queries, 'offset', 0) || 0;\n    queries = _.omit(queries, ['offset', 'limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nexport default PCX_STATE;\n\nexport {\n  PCXInstanceAliasList,\n  PCXFieldsDescriptor,\n  templateQueryIdMap,\n  namespace,\n  GetInstanceQueryParams as PCXGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport {\n  POSTGRESInstanceAliasList,\n  PostgreInvalidDemensions,\n  namespace,\n  modifyDimensons,\n  templateQueryIdMap,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDBDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = POSTGRESInstanceAliasList;\n  InvalidDimensions = PostgreInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'postgres',\n    action: 'DescribeDBInstances',\n    responseField: 'DBInstanceSet',\n  };\n\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nconst namespace = 'QCE/POSTGRES';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'postgresQuery';\n\nconst PostgresFields = {\n  'db-instance-id': [],\n  'db-instance-name': [],\n};\n\nconst PostgresFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'db-instance-id',\n    enDescriptor: 'DB Instance ID',\n    cnDescriptor: 'DB 实例ID',\n    link: '',\n    type: 'inputMulti',\n    min: 0,\n  },\n  {\n    key: 'db-instance-name',\n    enDescriptor: 'DB Instance Name',\n    cnDescriptor: 'DB 实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/409/16773',\n  namespace,\n  fieldDescriptor: PostgresFieldsDescriptor,\n};\nconst POSTGRESInstanceAliasList = ['DBInstanceId', 'DBInstanceName'];\n\nconst POSTGRES_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DBInstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...PostgresFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['resourceId'];\n  });\n  return metricTmp;\n}\nconst PostgreInvalidDemensions = {\n  uid: 'DBInstanceId',\n  resourceId: 'DBInstanceId',\n};\nconst templateQueryIdMap = {\n  instance: 'DBInstanceId',\n};\nexport default POSTGRES_STATE;\n\nexport {\n  PostgresFieldsDescriptor,\n  POSTGRESInstanceAliasList,\n  templateQueryIdMap,\n  modifyDimensons,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  PostgreInvalidDemensions,\n  GetInstanceQueryParams as POSTGRESGetInstanceQueryParams,\n};\n","import { get } from 'lodash';\nimport { QAAPInstanceAliasList, QAAPInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class QAAPDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = QAAPInstanceAliasList;\n  InvalidDimensions = QAAPInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'gaap',\n    action: 'DescribeProxies',\n    responseField: 'ProxySet',\n    interceptor: {\n      // response: (data: unknown[]) =>[\n      //   {\n      //     \"NetDetectId\": \"netd-12345678\",\n      //   },\n      // ],\n    },\n  };\n  // MetricReqConfig = {\n  //   resultFilter: modifyDimensons,\n  // };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter(\n      (item) =>\n        get(item, 'Dimensions.length') === 1 &&\n        get(item, 'Dimensions[0].Dimensions.length') === 1 &&\n        get(item, 'Dimensions[0].Dimensions[0]') === 'channelId'\n    );\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/QAAP';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'qaapQuery';\n\nconst QAAPInvalidDemensions = {\n  channelId: 'InstanceId',\n};\n\nconst QAAPInstanceAliasList = ['InstanceId'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst QAAPFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ProjectId: [],\n  AccessRegion: [],\n  RealServerRegion: [],\n  GroupId: [],\n};\n\nconst QAAPFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'AccessRegion',\n    enDescriptor: 'AccessRegion',\n    cnDescriptor: '接入地域',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'RealServerRegion',\n    enDescriptor: 'RealServerRegion',\n    cnDescriptor: '源站地域',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'GroupId',\n    enDescriptor: 'GroupId',\n    cnDescriptor: '通道组ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/608/36963',\n  namespace,\n  fieldDescriptor: QAAPFilterFieldsDescriptor,\n};\n\nconst QAAP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: QAAPFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  // metricTmp.Dimensions.forEach((item) => {\n  //   item.Dimensions = ['netDetectId'];\n  // });\n  return metricTmp;\n}\nexport default QAAP_STATE;\nexport {\n  QAAPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  QAAPInstanceAliasList,\n  QAAPInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as QAAPGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { REDISInstanceAliasList, RedisInvalidDemensions, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class REDISDatasource extends BaseDatasource {\n  Namespace = 'QCE/REDIS';\n  InstanceAliasList = REDISInstanceAliasList;\n  InvalidDimensions = RedisInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'redis',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n    interceptor: {\n      request: (params) => ({ ...params, MonitorVersion: '1m' }),\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) => isValidMetric(item));\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { RedisFieldsDescriptor } from './query_def';\n\nexport class RedisQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.RedisFieldsDescriptor = RedisFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in RedisFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function redisQuery() {\n  return {\n    template: template,\n    controller: RedisQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('redisQuery', redisQuery);\n","import _ from 'lodash';\nconst BillingMode = [\n  { text: '按量计费', value: 'postpaid' },\n  { text: '包年包月', value: 'prepaid' },\n];\n\nconst AutoRenew = [\n  { text: '手动续费', value: 0 },\n  { text: '自动续费', value: 1 },\n  { text: '明确不自动续费', value: 2 },\n];\n\nconst Status = [\n  { text: '待初始化', value: 0 },\n  { text: '流程执行中', value: 1 },\n  { text: '运行中', value: 2 },\n  { text: '已隔离', value: -2 },\n  { text: '待删除', value: -3 },\n];\n\nconst TypeVersion = [\n  { text: '单机版', value: 1 },\n  { text: '主从版', value: 2 },\n  { text: '集群版', value: 3 },\n];\n\nconst OrderBy = [\n  { text: 'projectId', value: 'projectId' },\n  { text: 'instancename', value: 'instancename' },\n  { text: 'createtime', value: 'createtime' },\n  { text: 'type', value: 'type' },\n  { text: 'curDeadline', value: 'curDeadline' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\nconst Type = [\n  { text: 'Redis老集群版', value: 1 },\n  { text: 'Redis 2.8主从版', value: 2 },\n  { text: 'CKV主从版', value: 3 },\n  { text: 'CKV集群版', value: 4 },\n  { text: 'Redis 2.8单机版', value: 5 },\n  { text: 'Redis 4.0主从版', value: 6 },\n  { text: 'Redis 4.0集群版', value: 7 },\n  { text: 'Redis5.0主从版', value: 8 },\n  { text: 'Redis5.0集群版', value: 9 },\n];\n\nconst RedisFields = {\n  InstanceId: '',\n  OrderBy: '',\n  OrderType: null,\n  VpcIds: [],\n  SubnetIds: [],\n  ProjectIds: [],\n  SearchKey: '',\n  InstanceName: '',\n  UniqVpcIds: [],\n  UniqSubnetIds: [],\n  Status: [],\n  TypeVersion: null,\n  EngineName: '',\n  AutoRenew: null,\n  BillingMode: '',\n  Type: null,\n};\n\nconst RedisFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstancesId',\n    cnDescriptor: '实例id',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderType',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'VpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：47525',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'SubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：56854',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: '项目ID 组成的数组',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '查找实例的ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'InstanceName',\n    enDescriptor: 'InstanceName',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'UniqVpcIds',\n    enDescriptor: 'UniqVpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：vpc-sad23jfdfk',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'UniqSubnetIds',\n    enDescriptor: 'UniqSubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：subnet-fdj24n34j2',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'TypeVersion',\n    enDescriptor: 'TypeVersion',\n    cnDescriptor: '类型版本',\n    link: '',\n    type: 'select',\n    list: TypeVersion,\n  },\n  {\n    key: 'EngineName',\n    enDescriptor: 'EngineName',\n    cnDescriptor: '引擎信息：Redis-2.8，Redis-4.0，CKV',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenew',\n    enDescriptor: 'AutoRenew',\n    cnDescriptor: '续费模式',\n    multiple: true,\n    type: 'select',\n    list: AutoRenew,\n  },\n  {\n    key: 'BillingMode',\n    enDescriptor: 'BillingMode',\n    cnDescriptor: '计费模式：postpaid-按量计费；prepaid-包年包月',\n    link: '',\n    type: 'select',\n    list: BillingMode,\n  },\n  {\n    key: 'Type',\n    enDescriptor: 'Type',\n    cnDescriptor: '实例类型',\n    link: '',\n    type: 'select',\n    list: Type,\n  },\n];\n\nconst REDIS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...RedisFields },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select 单选\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  return dimension.length === 1 && _.indexOf(dimension, 'instanceid') !== -1;\n}\n\nconst REDISInstanceAliasList = ['InstanceId', 'InstanceName', 'WanIp'];\n\nconst RedisInvalidDemensions = {\n  redis_uuid: 'InstanceId',\n  instanceid: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default REDIS_STATE;\nexport {\n  RedisFieldsDescriptor,\n  RedisInvalidDemensions,\n  templateQueryIdMap,\n  REDISInstanceAliasList,\n  isValidMetric,\n  GetInstanceQueryParams as REDISGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport {\n  REDISMEMInstanceAliasList,\n  namespace,\n  RedisMemInvalidDemensions,\n  templateQueryIdMap,\n  NodeType,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\n\nexport default class REDISDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = REDISMEMInstanceAliasList;\n  InvalidDimensions = RedisMemInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  extrasAlias = [RedisMemInvalidDemensions.pnodeid, RedisMemInvalidDemensions.rnodeid];\n  InstanceReqConfig = {\n    service: 'redis',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n    interceptor: {\n      request: (params) => ({ ...params, MonitorVersion: '5s' }),\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getInstanceNodeInfo(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'redis');\n\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeInstanceNodeInfo' }\n        );\n      },\n      {\n        InstanceId: instanceId,\n      },\n      NodeType\n    );\n\n    return res;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    if (action === 'DescribeInstanceNodeInfo') {\n      const rs = await this.getInstanceNodeInfo({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const { nodetype } = query;\n      const ndoeTypeIndex = NodeType.indexOf(nodetype);\n      return ndoeTypeIndex === -1\n        ? []\n        : _.map(rs[ndoeTypeIndex], (item) => ({ text: item.NodeId, value: item.NodeId }));\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { map } from 'lodash';\nimport { RedisMemFieldsDescriptor, templateQueryIdMap, NodeType, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class RedisMemQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.RedisMemFieldsDescriptor = RedisMemFieldsDescriptor;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.rnodeid = '';\n      $scope.target.pnodeid = '';\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace(namespace);\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {}\n      return variableData;\n    };\n\n    $scope.getExtraDropdown = async (target, nodetype) => {\n      const { instance } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getInstanceNodeInfo')({ region, instanceId });\n\n      const ndoeTypeIndex = NodeType.indexOf(nodetype);\n      return ndoeTypeIndex === -1 ? [] : map(rs[ndoeTypeIndex], (item) => ({ text: item.NodeId, value: item.NodeId }));\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in RedisMemFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.instance && dims.rnodeid\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      RedisNode\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.rnodeid\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'Redis')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.instance && dims.pnodeid\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      ProxyNode\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.pnodeid\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'Proxy')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function redisMemQuery() {\n  return {\n    template: template,\n    controller: RedisMemQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\n\ncoreModule.directive('redisMemQuery', redisMemQuery);\n","import _ from 'lodash';\n\nconst namespace = 'QCE/REDIS_MEM';\nconst BillingMode = [\n  { text: '按量计费', value: 'postpaid' },\n  { text: '包年包月', value: 'prepaid' },\n];\n\nconst AutoRenew = [\n  { text: '手动续费', value: 0 },\n  { text: '自动续费', value: 1 },\n  { text: '明确不自动续费', value: 2 },\n];\n\nconst Status = [\n  { text: '待初始化', value: 0 },\n  { text: '流程执行中', value: 1 },\n  { text: '运行中', value: 2 },\n  { text: '已隔离', value: -2 },\n  { text: '待删除', value: -3 },\n];\n\nconst TypeVersion = [\n  { text: '单机版', value: 1 },\n  { text: '主从版', value: 2 },\n  { text: '集群版', value: 3 },\n];\n\nconst OrderBy = [\n  { text: 'projectId', value: 'projectId' },\n  { text: 'instancename', value: 'instancename' },\n  { text: 'createtime', value: 'createtime' },\n  { text: 'type', value: 'type' },\n  { text: 'curDeadline', value: 'curDeadline' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\nconst Type = [\n  { text: 'Redis老集群版', value: 1 },\n  { text: 'Redis 2.8主从版', value: 2 },\n  { text: 'CKV主从版', value: 3 },\n  { text: 'CKV集群版', value: 4 },\n  { text: 'Redis 2.8单机版', value: 5 },\n  { text: 'Redis 4.0主从版', value: 6 },\n  { text: 'Redis 4.0集群版', value: 7 },\n  { text: 'Redis5.0主从版', value: 8 },\n  { text: 'Redis5.0集群版', value: 9 },\n];\n\nconst RedisFields = {\n  InstanceId: '',\n  OrderBy: '',\n  OrderType: null,\n  VpcIds: [],\n  SubnetIds: [],\n  ProjectIds: [],\n  SearchKey: '',\n  InstanceName: '',\n  UniqVpcIds: [],\n  UniqSubnetIds: [],\n  Status: [],\n  TypeVersion: null,\n  EngineName: '',\n  AutoRenew: null,\n  BillingMode: '',\n  Type: null,\n};\n\nconst RedisMemFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstancesId',\n    cnDescriptor: '实例id',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderType',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'VpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：47525',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'SubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：56854',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: '项目ID 组成的数组',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '查找实例的ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'InstanceName',\n    enDescriptor: 'InstanceName',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'UniqVpcIds',\n    enDescriptor: 'UniqVpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：vpc-sad23jfdfk',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'UniqSubnetIds',\n    enDescriptor: 'UniqSubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：subnet-fdj24n34j2',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'TypeVersion',\n    enDescriptor: 'TypeVersion',\n    cnDescriptor: '类型版本',\n    link: '',\n    type: 'select',\n    list: TypeVersion,\n  },\n  {\n    key: 'EngineName',\n    enDescriptor: 'EngineName',\n    cnDescriptor: '引擎信息：Redis-2.8，Redis-4.0，CKV',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenew',\n    enDescriptor: 'AutoRenew',\n    cnDescriptor: '续费模式',\n    multiple: true,\n    type: 'select',\n    list: AutoRenew,\n  },\n  {\n    key: 'BillingMode',\n    enDescriptor: 'BillingMode',\n    cnDescriptor: '计费模式：postpaid-按量计费；prepaid-包年包月',\n    link: '',\n    type: 'select',\n    list: BillingMode,\n  },\n  {\n    key: 'Type',\n    enDescriptor: 'Type',\n    cnDescriptor: '实例类型',\n    link: '',\n    type: 'select',\n    list: Type,\n  },\n];\n\nconst REDISMEM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...RedisFields },\n  rnodeid: '',\n  pnodeid: '',\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select 单选\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst REDISMEMInstanceAliasList = ['InstanceId', 'InstanceName', 'WanIp'];\n\nconst RedisMemInvalidDemensions = {\n  instanceid: 'InstanceId',\n  rnodeid: 'rnodeid',\n  pnodeid: 'pnodeid',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  rnodeid: 'rnodeid',\n  pnodeid: 'pnodeid',\n};\n\nconst NodeType = ['Redis', 'Proxy'];\n\nexport default REDISMEM_STATE;\nexport {\n  RedisMemFieldsDescriptor,\n  RedisMemInvalidDemensions,\n  REDISMEMInstanceAliasList,\n  templateQueryIdMap,\n  namespace,\n  NodeType,\n  GetInstanceQueryParams as REDISMEMGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  SCFInstanceAliasList,\n  SCFInvalidDemensions,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  templateQueryIdMap,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class SCFDatasource extends BaseDatasource {\n  InstanceKey: string;\n  Namespace: string;\n  InstanceAliasList: string[];\n  InvalidDimensions: Record<string, string>;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  InstanceReqConfig: { service?: string | undefined; action: string; responseField: string };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n\n    this.Namespace = 'QCE/SCF_V2';\n    this.InstanceAliasList = SCFInstanceAliasList;\n    this.InvalidDimensions = SCFInvalidDemensions;\n    this.InstanceReqConfig = {\n      service: 'scf',\n      action: 'ListFunctions',\n      responseField: 'Functions',\n    };\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter(\n      (item) =>\n        /* hack：这里多加了筛选条件，是因为后端数据不准确，坑啊！ 只拿取包含functionName的指标 */\n        item.Dimensions?.[0]?.Dimensions?.includes('functionName') &&\n        item.Dimensions?.[0]?.Dimensions?.includes('namespace') &&\n        !item.MetricName.startsWith('Name')\n    );\n  }\n\n  getVersions(region, params) {\n    const serviceInfo = GetServiceAPIInfo(region, 'scf');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'ListVersionByFunction' }\n    ).then((response) => {\n      return response.Versions;\n    });\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'ListVersionByFunction') {\n      const rs = await this.getVersions(region, { FunctionName: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.version];\n        return {\n          text: o[this.templateQueryIdMap.version],\n          value: o[this.templateQueryIdMap.version],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.version, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { SCFQueryDescriptor, templateQueryIdMap } from './query_def';\n\nexport class SCFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.SCFQueryDescriptor = SCFQueryDescriptor;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('scf', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).FunctionName;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.getVersions = async (target) => {\n      // console.log(2222);\n\n      // return [{ text: 1, value: 1 }];\n      // console.log(target, 'target');\n      // let { instance, region } = target;\n      const FunctionName = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn('scf', 'getVariable')(target.region);\n      if (!FunctionName || !region) return [];\n\n      const fetcher = $scope.datasource.getServiceFn('scf', 'getVersions');\n\n      return fetcher(region, { FunctionName }).then((res) => {\n        // console.log(res, 'res');\n        const result = res.map((o) => {\n          o._InstanceAliasValue = o[templateQueryIdMap.version];\n          return {\n            text: o[templateQueryIdMap.version],\n            value: JSON.stringify(o),\n          };\n        });\n        return result;\n      });\n    };\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/583/18582\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in SCFQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- version部分 -->\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">Version</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.version\" allow-custom=\"false\" get-options=\"getVersions(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: SCFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n    },\n  };\n}\ncoreModule.directive('scfQuery', scfQuery);\n","import _ from 'lodash';\n\nexport const SCFQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '支持FunctionName模糊匹配',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Namespace',\n    enDescriptor: 'Namespace',\n    cnDescriptor: '云函数命名空间',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Description',\n    enDescriptor: 'Description',\n    cnDescriptor: '函数描述，支持模糊搜索',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'AddTime', value: 'AddTime' },\n      { text: 'ModTime', value: 'ModTime' },\n      { text: 'FunctionName', value: 'FunctionName' },\n    ],\n  },\n  {\n    key: 'Order',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'ASC', value: 'ASC' },\n      { text: 'DESC', value: 'DESC' },\n    ],\n  },\n  // {\n  //   key: 'Filters',\n  //   enDescriptor: 'Filters',\n  //   cnDescriptor: '按照标签键值对进行过滤',\n  //   link: '',\n  //   type: 'dropdownmulti',\n  // },\n];\n\nconst SCF_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'FunctionName',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    OrderBy: {},\n    Order: {},\n    SearchKey: '',\n    Namespace: '',\n    Description: '',\n    // Filters:  {},\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst SCFInstanceAliasList = ['FunctionId', 'FunctionName'];\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nconst SCFInvalidDemensions = {\n  functionName: 'FunctionName',\n  namespace: 'Namespace',\n  version: 'Version',\n};\n\nconst templateQueryIdMap = {\n  instance: 'FunctionName',\n  version: 'Version',\n};\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  version: 'version',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  Version: {\n    dim_KeyInStorage: keyInStorage.version,\n    dim_KeyInTarget: 'version',\n    dim_KeyInMap: templateQueryIdMap.version,\n  },\n};\nexport default SCF_STATE;\nexport {\n  SCFInstanceAliasList,\n  SCFInvalidDemensions,\n  queryMonitorExtraConfg,\n  regionSupported,\n  templateQueryIdMap,\n  keyInStorage,\n  GetInstanceQueryParams as SCFGetInstanceQueryParams,\n};\n\n// monitor监控数据默认支持的维度\nexport const SCFDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import {\n  SQLSERVERInstanceAliasList,\n  SQLSERVERInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = SQLSERVERInstanceAliasList;\n  InvalidDimensions = SQLSERVERInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'sqlserver',\n    action: 'DescribeDBInstances',\n    responseField: 'DBInstances',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(rawSet.map((item) => modifyDimensons(item)));\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  getFilterDropdown({ field, region }) {\n    if (field === 'Zone') {\n      const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        serviceInfo.service,\n        { region, action: 'DescribeZones' }\n      ).then((response) => {\n        return _.filter(\n          _.map(response.ZoneSet || [], (item) => {\n            return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n          }),\n          (item) => item.ZoneState === 'AVAILABLE'\n        );\n      });\n    }\n    return [];\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/SQLSERVER';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'sqlserverQuery';\n\nconst SQLSERVERInvalidDemensions = {\n  resourceId: 'InstanceId',\n};\n\nconst SQLSERVERInstanceAliasList = ['InstanceId', 'Name'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst SQLSERVERNETFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ProjectId: null,\n  Status: {},\n  InstanceIdSet: [],\n  PayMode: {},\n  VpcId: '',\n  SubnetId: '',\n  VipSet: [],\n  InstanceNameSet: [],\n  VersionSet: [],\n  Zone: '',\n};\n\nconst SQLSERVERNETFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '申请中', value: 1 },\n      { text: '运行中', value: 2 },\n      { text: '受限运行中 (主备切换中)', value: 3 },\n      { text: '已隔离', value: 4 },\n      { text: '回收中', value: 5 },\n      { text: '已回收', value: 6 },\n      { text: '任务执行中', value: 7 },\n      { text: '已下线', value: 8 },\n      { text: '实例扩容中', value: 9 },\n      { text: '实例迁移中', value: 10 },\n      { text: '只读', value: 11 },\n      { text: '重启中', value: 12 },\n    ],\n  },\n  {\n    key: 'InstanceIdSet',\n    enDescriptor: 'InstanceIdSet',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'PayMode',\n    enDescriptor: 'PayMode',\n    cnDescriptor: '子网实例ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '包年包月', value: 1 },\n      { text: '按量计费', value: 0 },\n    ],\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '实例所属VPC的唯一字符串ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '实例所属子网的唯一字符串ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VipSet',\n    enDescriptor: 'VipSet',\n    cnDescriptor: '实例内网地址列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'InstanceNameSet',\n    enDescriptor: 'InstanceNameSet',\n    cnDescriptor: '实例名称列表, 模糊查询',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'VersionSet',\n    enDescriptor: 'VersionSet',\n    cnDescriptor: '实例版本代号列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '实例可用区',\n    link: '',\n    type: 'dropdown',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/238/19969',\n  namespace,\n  fieldDescriptor: SQLSERVERNETFilterFieldsDescriptor,\n};\n\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-seoul' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-moscow' },\n  { value: 'na-siliconvalley' },\n];\nconst SQLSERVER_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: SQLSERVERNETFilterFields,\n};\n\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['resourceId'];\n  });\n  return metricTmp;\n}\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default SQLSERVER_STATE;\nexport {\n  SQLSERVERNETFilterFieldsDescriptor,\n  templateQueryIdMap,\n  SQLSERVERInstanceAliasList,\n  SQLSERVERInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  // 对应产品的service的全大写拼接InstanceQueryParams\n  GetInstanceQueryParams as SQLSERVERGetInstanceQueryParams,\n};\n","import { TCAPLUSInstanceAliasList, TCAPLUSInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TCAPLUSInstanceAliasList;\n  InvalidDimensions = TCAPLUSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tcaplusdb',\n    action: 'DescribeTables',\n    responseField: 'TableInfos',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/tcaplusdb',\n      },\n      'tcaplusdb',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      return _.map(response.RegionInfos || [], (item) => {\n        return {\n          text: t(item.RegionName),\n          value: item.RegionName,\n        };\n      });\n    });\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/TCAPLUS';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'tcaplusQuery';\n\nconst TCAPLUSInvalidDemensions = {\n  // TableInstanceId: 'TableInstanceId',\n  // ClusterId: 'ClusterId',\n};\n\n// 需和文件名对应\nconst TCAPLUSInstanceAliasList = ['TableInstanceId', 'TableName'];\n\nconst templateQueryIdMap = {\n  instance: 'TableInstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst TCAPLUSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ClusterId: '',\n  TableGroupIds: [],\n\n  TableName: '',\n  TableInstanceId: '',\n  TableIdlType: {},\n  TableType: {},\n  ListElementNum: null,\n  ReservedVolume: null,\n  ReservedReadQps: null,\n  ReservedWriteQps: null,\n  Memo: '',\n  FileName: '',\n  FileExtType: '',\n  FileSize: null,\n  FileContent: '',\n};\n\nconst TCAPLUSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ClusterId',\n    enDescriptor: 'ClusterId',\n    cnDescriptor: '表格所属集群ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableGroupIds',\n    enDescriptor: 'TableGroupIds',\n    cnDescriptor: '表格组ID列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'TableName',\n    enDescriptor: 'TableName',\n    cnDescriptor: '表格名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableInstanceId',\n    enDescriptor: 'TableInstanceId',\n    cnDescriptor: '表实例ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableIdlType',\n    enDescriptor: 'TableIdlType',\n    cnDescriptor: '表格描述语言类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'PROTO', value: 'PROTO' },\n      { text: 'TDR', value: 'TDR' },\n    ],\n  },\n  {\n    key: 'TableType',\n    enDescriptor: 'TableType',\n    cnDescriptor: '表格数据结构类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'GENERIC', value: 'GENERIC' },\n      { text: 'LIST', value: 'LIST' },\n    ],\n  },\n  {\n    key: 'ListElementNum',\n    enDescriptor: 'ListElementNum',\n    cnDescriptor: 'LIST表元素个数',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedVolume',\n    enDescriptor: 'ReservedVolume',\n    cnDescriptor: '表格预留容量（GB）',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedReadQps',\n    enDescriptor: 'ReservedReadQps',\n    cnDescriptor: '表格预留读CU',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedWriteQps',\n    enDescriptor: 'ReservedWriteQps',\n    cnDescriptor: '表格预留写CU',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'Memo',\n    enDescriptor: 'Memo',\n    cnDescriptor: '表格备注信息',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileName',\n    enDescriptor: 'FileName',\n    cnDescriptor: 'Key回档文件名，回档专用',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileExtType',\n    enDescriptor: 'FileExtType',\n    cnDescriptor: 'Key回档文件扩展名，回档专用',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileSize',\n    enDescriptor: 'FileSize',\n    cnDescriptor: 'Key回档文件大小，回档专用',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'FileContent',\n    enDescriptor: 'FileContent',\n    cnDescriptor: 'Key回档文件内容，回档专用',\n    link: '',\n    type: 'input',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/596/39664',\n  namespace,\n  fieldDescriptor: TCAPLUSFilterFieldsDescriptor,\n};\n\nconst TCAPLUS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TableInstanceId',\n  queries: TCAPLUSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  params.Limit = _.get(queries, 'Limit', 20) || 20;\n  params.Offset = _.get(queries, 'Offset', 0) || 0;\n  params.ClusterId = _.get(queries, 'ClusterId', '') || '';\n  params.TableGroupIds = _.get(queries, 'TableGroupIds', []) || [];\n  queries = _.omit(queries, ['Offset', 'Limit', 'TableGroupIds', 'ClusterId']);\n  const SelectedTables: any[] = [];\n  _.forEach(queries, (item: any, key) => {\n    if (_.isArray(item)) {\n      item = _.compact(item);\n      if (item.length > 0) {\n        SelectedTables[key] = _.uniq(item);\n      }\n    } else if (_.isObject(item)) {\n      if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n        SelectedTables[key] = _.get(item, 'value');\n      }\n    } else if (_.isNumber(item) || !_.isEmpty(item)) {\n      SelectedTables[key] = item;\n    }\n  });\n  params.SelectedTables = SelectedTables;\n  return params;\n}\n// 和其他产品的展示保持一致\nconst regonsMap = {\n  'ap-beijing': '华北地区(北京)',\n  'ap-guangzhou': '华南地区(广州)',\n  'ap-hongkong': '港澳台地区(中国香港)',\n  'ap-seoul': '亚太东北(首尔)',\n  'ap-shanghai': '华东地区(上海)',\n  'ap-singapore': '亚太东南(新加坡)',\n  'ap-tokyo': '亚太东北(东京)',\n  'eu-frankfurt': '欧洲地区(法兰克福)',\n  'na-ashburn': '美国东部(弗吉尼亚)',\n  'na-siliconvalley': '美国西部(硅谷)',\n};\nexport default TCAPLUS_STATE;\nexport {\n  TCAPLUSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TCAPLUSInstanceAliasList,\n  TCAPLUSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regonsMap,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TCAPLUSGetInstanceQueryParams,\n};\n","import {\n  TDMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeClusters',\n    responseField: 'ClusterSet',\n  };\n  extraActionMap = {\n    DescribeTopics: {\n      service: 'tdmq',\n      action: 'DescribeTopics',\n      responseField: 'TopicSets',\n      pickKey: 'TopicName',\n    },\n    DescribeEnvironments: {\n      service: 'tdmq',\n      action: 'DescribeEnvironments',\n      responseField: 'EnvironmentSet',\n      pickKey: 'EnvironmentId',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(rawSet.map((item) => modifyDimensons(item)));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    // console.log({ rs });\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      ClusterId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      if (action === 'DescribeTopics') {\n        payload.EnvironmentId = this.getVariable(query['environmentid']);\n      }\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'environmentId',\n    field: 'environmentId',\n    action: 'DescribeEnvironments',\n  },\n  {\n    label: 'topicName',\n    field: 'topicName',\n    action: 'DescribeTopics',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeTopics: 'topicName',\n  DescribeEnvironments: 'environmentId',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        ClusterId: $scope.getInstanceId(),\n      };\n      if (action === 'DescribeTopics') {\n        let evId = $scope.target.environmentId;\n        try {\n          evId = JSON.parse(evId);\n          evId = evId[templateQueryIdMap.environmentId];\n        } catch (e) {}\n        payload.EnvironmentId = evId;\n      }\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          label: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/TDMQ';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'tdmqQuery';\n\nconst TDMQInvalidDemensions = {\n  tenantId: 'ClusterId',\n  tenant: 'ClusterId',\n  topicName: 'TopicName',\n  environmentId: 'EnvironmentId',\n};\n\n// 需和文件名对应\nconst TDMQInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nconst templateQueryIdMap = {\n  instance: 'ClusterId',\n  topicName: 'TopicName',\n  environmentId: 'EnvironmentId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n];\n\nconst CDNPROVINCE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  // 此处key应该是经过TDMQInvalidDemensions处理后的\n  topicName: '',\n  environmentId: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    if (item.Dimensions.indexOf('topicName') !== -1 && item.Dimensions.indexOf('environmentId') === -1) {\n      item.Dimensions.push('environmentId');\n    }\n  });\n  return metricTmp;\n}\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  topicName: 'topicName',\n  environmentId: 'environmentId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  TopicName: {\n    dim_KeyInStorage: keyInStorage.topicName,\n    dim_KeyInTarget: 'topicName',\n    dim_KeyInMap: templateQueryIdMap.topicName,\n  },\n  EnvironmentId: {\n    dim_KeyInStorage: keyInStorage.environmentId,\n    dim_KeyInTarget: 'environmentId',\n    dim_KeyInMap: templateQueryIdMap.environmentId,\n  },\n};\nexport default CDNPROVINCE_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  modifyDimensons,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TDMQGetInstanceQueryParams,\n};\n","import {\n  TDMQRABBITMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQRABBITMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeRabbitMQVipInstances',\n    responseField: 'Instances',\n  };\n  extraActionMap = {\n    DescribeRabbitMQNodeList: {\n      service: 'tdmq',\n      action: 'DescribeRabbitMQNodeList',\n      responseField: 'NodeList',\n      pickKey: 'node',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      InstanceId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Node',\n    field: 'node',\n    action: 'DescribeRabbitMQNodeList',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeRabbitMQNodeList: 'node',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.node = '';\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        InstanceId: $scope.getInstanceId(),\n      };\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          label: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\ncoreModule.directive('tdmqRabbitmqQuery', sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/RABBITMQ';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'tdmqQuery';\n\nconst TDMQInvalidDemensions = {\n  instanceid: 'InstanceId',\n  node: 'NodeName',\n};\n\n// 需和文件名对应\nconst TDMQRABBITMQInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  node: 'NodeName',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n];\n\nconst TDMQ_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  // 此处key应该是经过TDMQInvalidDemensions处理后的\n  node: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  node: 'NodeName',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NodeName: {\n    dim_KeyInStorage: keyInStorage.node,\n    dim_KeyInTarget: 'node',\n    dim_KeyInMap: templateQueryIdMap.node,\n  },\n};\nexport default TDMQ_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQRABBITMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TDMQGetInstanceQueryParams,\n};\n","import {\n  TDMQROCKETMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQROCKETMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeRocketMQClusters',\n    responseField: 'ClusterList',\n    interceptor: {\n      response: (result) =>\n        _.map(result, (item) => ({\n          ...item,\n          ClusterId: _.get(item, 'Info.ClusterId', ''),\n          ClusterName: _.get(item, 'Info.ClusterName', ''),\n        })),\n    },\n  };\n  extraActionMap = {\n    DescribeRocketMQNamespaces: {\n      service: 'tdmq',\n      action: 'DescribeRocketMQNamespaces',\n      responseField: 'Namespaces',\n      pickKey: 'namespace',\n    },\n    DescribeRocketMQGroups: {\n      service: 'tdmq',\n      action: 'DescribeRocketMQGroups',\n      responseField: 'Groups',\n      pickKey: 'group',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) => !item.Dimensions?.[0]?.Dimensions?.includes('rmqcluster'));\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      ClusterId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      if (action === 'DescribeRocketMQGroups') {\n        payload.NamespaceId = this.getVariable(query['clusternamespace']);\n      }\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Namespace',\n    field: 'namespace',\n    action: 'DescribeRocketMQNamespaces',\n  },\n  {\n    label: 'Group',\n    field: 'group',\n    action: 'DescribeRocketMQGroups',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeRocketMQNamespaces: 'namespace',\n  DescribeRocketMQGroups: 'group',\n};\nexport class TdmqRocketmqQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.namespace = '';\n      $scope.target.group = '';\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        ClusterId: $scope.getInstanceId(),\n      };\n      if (action === 'DescribeRocketMQGroups') {\n        let namespace = $scope.target.namespace;\n        try {\n          namespace = JSON.parse(namespace)[templateQueryIdMap.namespace];\n        } catch (e) {}\n        payload.NamespaceId = $scope.datasource.getServiceFn(service, 'getVariable')(namespace);\n      }\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Offset\n          <info-popover mode=\"right-normal\">\n            偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Limit\n          <info-popover mode=\"right-normal\">\n            单次请求返回的数量，默认为20，最小值为1，最大值为100\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          ClusterIdList\n          <info-popover mode=\"right-normal\">\n            实例 ID，每次请求的实例的上限为100，参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n          switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n      <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.ClusterIdList\" on-change=\"onChange()\">\n      </multi-condition>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          Filters\n          <info-popover mode=\"right-normal\">\n            过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n          on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n      <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <multi-condition\n          ng-if=\"field.type === 'dropdownmulti'\"\n          type=\"'dropdown'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          get-options=\"getDropdown(field.key)\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputNumbermulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputmulti'\"\n          type=\"'input'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries.Filters[field.key]\"\n          options=\"field.list\"\n          multiple=\"false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function tdmqRocketmqQuery() {\n  return {\n    template: template,\n    controller: TdmqRocketmqQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\ncoreModule.directive('tdmqRocketmqQuery', tdmqRocketmqQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/ROCKETMQ';\n\nconst TDMQInvalidDemensions = {\n  tenant: 'ClusterId',\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n\n// 需和文件名对应\nconst TDMQROCKETMQInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nconst templateQueryIdMap = {\n  instance: 'ClusterId',\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  instanceIdsChecked: false,\n  filtersChecked: true,\n  ClusterIdList: [''],\n  Filters: {\n    includeVip: { text: '是', value: 'true' },\n  },\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'includeVip',\n    enDescriptor: 'includeVip',\n    cnDescriptor: '包含专享集群',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '是', value: 'true' },\n      { text: '否', value: 'false' },\n    ],\n  },\n];\n\nconst TDMQ_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  // 此处key应该是经过TDMQInvalidDemensions处理后的\n  namespace: '',\n  group: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.ClusterIdList)) {\n        const ClusterIdList = _.compact(queries.ClusterIdList);\n        if (_.uniq(ClusterIdList).length > 0) {\n          params.ClusterIdList = _.uniq(ClusterIdList).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: [_.get(item, 'value', [])].slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NamespaceId: {\n    dim_KeyInStorage: keyInStorage.namespace,\n    dim_KeyInTarget: 'namespace',\n    dim_KeyInMap: templateQueryIdMap.namespace,\n  },\n  Name: {\n    dim_KeyInStorage: keyInStorage.group,\n    dim_KeyInTarget: 'group',\n    dim_KeyInMap: templateQueryIdMap.group,\n  },\n};\nexport default TDMQ_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQROCKETMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TDMQROCKETMQGetInstanceQueryParams,\n};\n","import { map, flatten, reduce, isEmpty, filter, split, sortBy, findIndex, trim, isArray, isString } from 'lodash';\nimport { GetServiceAPIInfo, ReplaceVariable } from '../../common/constants';\nimport { getTimeShiftInMs } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\n\nconst variableToArray = (variable) => {\n  if (isEmpty(variable)) {\n    return [];\n  }\n  if (isArray(variable)) {\n    return variable;\n  }\n  if (isString(variable)) {\n    return split(variable, ',').map((item) => trim(item));\n  }\n  return [];\n};\n\nexport default class TKEDatasource extends BaseDatasource {\n  InstanceAliasList = ['ClusterId', 'ClusterName'];\n  templateQueryIdMap = {\n    instance: 'ClusterId',\n  };\n  InvalidDimensions = {\n    tke_cluster_instance_id: 'ClusterId',\n  };\n  InstanceReqConfig = {\n    service: 'tke',\n    action: 'DescribeClusters',\n    responseField: 'Clusters',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getMonitorData(params: any, region: any, instances: any, target: any, options: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const timeshift = getTimeShiftInMs(target.timeshift);\n    const conditions = reduce(\n      target.conditions,\n      (prev, item) => {\n        if (isEmpty(item.Key) || isEmpty(item.Operator) || isEmpty(item.Value)) {\n          return prev;\n        }\n        return [\n          ...filter(prev, (e) => e.Key !== item.Key),\n          {\n            Key: ReplaceVariable(this.templateSrv, options.scopedVars, item.Key, false),\n            Operator: ReplaceVariable(this.templateSrv, options.scopedVars, item.Operator, false),\n            Value: variableToArray(ReplaceVariable(this.templateSrv, options.scopedVars, item.Value, true)),\n          },\n        ];\n      },\n      [{ Key: 'tke_cluster_instance_id', Operator: '=', Value: instances.map((item) => item['ClusterId']) }]\n    );\n\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Period: params.Period,\n          MetricNames: [params.MetricName],\n          Module: 'monitor',\n          Namespace: 'QCE/TKE',\n          EndTime: params.EndTime,\n          StartTime: params.StartTime,\n          Conditions: conditions,\n          GroupBys: variableToArray(ReplaceVariable(this.templateSrv, options.scopedVars, target.groupBys, true)),\n        },\n      },\n      serviceInfo.service,\n      { action: 'DescribeStatisticData', region }\n    ).then((response) => {\n      return flatten(\n        map(response.Data, (data) => {\n          return map(data.Points, (point) => {\n            const dimensionSort = sortBy(point.Dimensions, ['Name']);\n            const dimensionString = [\n              ...dimensionSort.splice(findIndex(dimensionSort, { Name: 'tke_cluster_instance_id' }), 1),\n              ...dimensionSort,\n            ]\n              .map((dimension) => dimension.Value)\n              .join(' - ');\n            const timeshiftString = timeshift > 0 ? `_${target.timeshift}` : '';\n            return {\n              target: `${data.MetricName} - ${dimensionString}${timeshiftString}`,\n              datapoints: map(point.Values, (value) => [value.Value, value.Timestamp * 1000 + timeshift]),\n            };\n          });\n        })\n      );\n    });\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { isEmpty } from 'lodash';\nimport { TKEFilterFieldsDescriptor } from './query_def';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TKEFilterFieldsDescriptor = TKEFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.addCondition = () => {\n      $scope.target.conditions.push({ Key: '', Operator: '=', Value: '' });\n    };\n\n    $scope.deleteCondition = (index) => {\n      const targetCondition = $scope.target.conditions[index];\n      if (isEmpty(targetCondition.Key) || isEmpty(targetCondition.Operator) || isEmpty(targetCondition.Value)) {\n        $scope.target.conditions.splice(index, 1);\n      } else {\n        $scope.target.conditions.splice(index, 1);\n        $scope.onRefresh();\n      }\n    };\n\n    $scope.getOperator = () => {\n      return Promise.resolve([\n        { text: '=', value: '=' },\n        { text: 'in', value: 'in' },\n      ]);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Offset\n          <info-popover mode=\"right-normal\">\n            偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Limit\n          <info-popover mode=\"right-normal\">\n            单次请求返回的数量，默认为20，最小值为1，最大值为100\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          ClusterIdList\n          <info-popover mode=\"right-normal\">\n            实例 ID，每次请求的实例的上限为100，参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n          switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n      <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.ClusterIdList\" on-change=\"onChange()\">\n      </multi-condition>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          Filters\n          <info-popover mode=\"right-normal\">\n            过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n          on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n      <div class=\"gf-form-inline\" ng-repeat=\"field in TKEFilterFieldsDescriptor\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />   \n        <multi-condition\n          ng-if=\"field.type === 'dropdownmulti'\"\n          type=\"'dropdown'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          get-options=\"getDropdown(field.key)\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputNumbermulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputmulti'\"\n          type=\"'input'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries.Filters[field.key]\"\n          options=\"field.list\"\n          multiple=\"false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">Conditions</label>\n      <div>\n        <div class=\"gf-form\" ng-repeat=\"condition in target.conditions\">\n          <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"target.conditions[$index].Key\" ng-blur=\"onRefresh()\"></input>\n          <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n            <gf-form-dropdown model=\"target.conditions[$index].Operator\" get-options=\"getOperator()\" on-change=\"onRefresh()\" allow-custom=\"true\" css-class=\"min-width-5\">\n            </gf-form-dropdown>\n          </div>\n          <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"target.conditions[$index].Value\" ng-blur=\"onRefresh()\"></input>\n          <label class=\"gf-form-label pointer\" ng-click=\"deleteCondition($index)\">\n            <i class=\"fa fa-minus\"></i>\n          </label>\n          <label class=\"gf-form-label pointer\" ng-click=\"addCondition()\" ng-if=\"$last\">\n            <i class=\"fa fa-plus\"></i>\n          </label>\n        </div>\n        <div class=\"gf-form\" ng-if=\"target.conditions.length === 0\">\n          <label class=\"gf-form-label pointer\" ng-click=\"addCondition()\">\n            <i class=\"fa fa-plus\"></i>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">GroupBy</label>\n      <input class=\"gf-form-input width-15\" type=\"text\" ng-model=\"target.groupBys\" ng-blur=\"onRefresh()\"></input>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('tkeQuery', sQuery);\n","import _ from 'lodash';\n\nconst TKE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  conditions: [],\n  groupBys: '',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: true,\n    ClusterIds: [''],\n    Filters: {\n      ClusterName: [],\n      ClusterType: [],\n      ClusterStatus: [],\n      'tag-key': [],\n    },\n  },\n};\n\nconst TKEFilterFieldsDescriptor = [\n  {\n    key: 'ClusterName',\n    enDescriptor: 'Cluster Name',\n    cnDescriptor: '集群名',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ClusterType',\n    enDescriptor: 'Cluster Type',\n    cnDescriptor: '集群类型',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ClusterStatus',\n    enDescriptor: 'Cluster Status',\n    cnDescriptor: '集群状态',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Tags',\n    enDescriptor: 'Tags',\n    cnDescriptor: '标签键值对',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC',\n    cnDescriptor: 'VPC',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'tag-key',\n    enDescriptor: 'Tag Key',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'tag-value',\n    enDescriptor: 'Tag Value',\n    cnDescriptor: '标签值',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst TKEInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nexport default TKE_STATE;\n\nexport { TKEFilterFieldsDescriptor, TKEInstanceAliasList, GetInstanceQueryParams as TKEGetInstanceQueryParams };\n","import _ from 'lodash';\nimport { TSFInvalidDemensions, TSFInstanceAliasList, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class TSFDatasource extends BaseDatasource {\n  Namespace = 'QCE/TSF';\n  InstanceAliasList = TSFInstanceAliasList;\n  InvalidDimensions = TSFInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'tsf',\n    action: 'DescribeApplications',\n    responseField: 'Content',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { TSFFieldsDescriptor } from './query_def';\n\nexport class TSFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TSFFieldsDescriptor = TSFFieldsDescriptor;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/649/36090\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in TSFFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function tsfQuery() {\n  return {\n    template: template,\n    controller: TSFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('tsfQuery', tsfQuery);\n","import { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst ApplicationType = [\n  { text: '所有', value: '' },\n  { text: '容器应用', value: 'C' },\n  { text: '普通应用/虚拟机应用', value: 'V' },\n];\n\nconst MicroserviceType = [\n  { text: '所有', value: '' },\n  { text: '普通应用', value: 'N' },\n  { text: 'Mesh应用', value: 'M' },\n  { text: '微服务网关应用', value: 'G' },\n  { text: '原生应用', value: 'NATIVE' },\n];\n\nconst ApplicationResourceType = [\n  { text: '默认资源类型', value: 'DEF' },\n  { text: '微服务网关资源', value: 'GW' },\n];\n\nconst TSFFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'SearchWord',\n    enDescriptor: 'SearchWord',\n    cnDescriptor: '搜索关键字',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ApplicationIdList',\n    enDescriptor: 'ApplicationIdList',\n    cnDescriptor: '应用ID 组成的数组',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ApplicationType',\n    enDescriptor: 'ApplicationType',\n    cnDescriptor: '应用类型',\n    link: '',\n    type: 'select',\n    list: ApplicationType,\n  },\n  {\n    key: 'MicroserviceType',\n    enDescriptor: 'MicroserviceType',\n    cnDescriptor: '应用的微服务类型',\n    link: '',\n    type: 'select',\n    list: MicroserviceType,\n  },\n  {\n    key: 'ApplicationResourceTypeList',\n    enDescriptor: 'ApplicationResourceTypeList',\n    cnDescriptor: '应用资源类型数组',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: ApplicationResourceType,\n  },\n];\n\nconst TSF_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ApplicationId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    SearchWord: '',\n    OrderBy: '',\n    OrderType: null,\n    ApplicationType: '',\n    MicroserviceType: '',\n    ApplicationResourceTypeList: [],\n    ApplicationIdList: [],\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nconst TSFInstanceAliasList = ['ApplicationId', 'ApplicationName'];\n\nconst TSFInvalidDemensions = {\n  applicationid: 'ApplicationId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'ApplicationId',\n};\n\nexport default TSF_STATE;\nexport {\n  TSFInvalidDemensions,\n  templateQueryIdMap,\n  TSFInstanceAliasList,\n  TSFFieldsDescriptor,\n  GetInstanceQueryParams as TSFGetInstanceQueryParams,\n};\n","import {\n  VCLBInstanceAliasList,\n  VCLBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  clbNamespaceMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VCLBInstanceAliasList;\n  InvalidDimensions = VCLBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'clb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async getAllMetrics(region: string) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const { MetricSet: public_metrics } = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: clbNamespaceMap.public,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    );\n    const { MetricSet: private_metrics } = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: clbNamespaceMap.private,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    );\n    const res = Object.values(_.keyBy(_.concat(private_metrics, public_metrics), 'MetricName'));\n    return res.map((t) => modifyDimensons(t));\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await this.getAllMetrics(region);\n    return _.compact(rawSet);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/V_CLB';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'vClbQuery';\n\nconst VCLBInvalidDemensions = {\n  InstanceId: 'LoadBalancerId',\n  // vip: 'LoadBalancerVips',\n  // loadBalancerPort: 'Port',\n  // protocol: 'Protocol',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst VCLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\nconst ForwardTypes = [\n  { text: '通用的负载均衡', value: 1 },\n  { text: '传统的负载均衡', value: 0 },\n];\n\nconst OrderBy = [\n  { text: 'LoadBalancerName', value: 'LoadBalancerName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'Domain', value: 'Domain' },\n  { text: 'LoadBalancerType', value: 'LoadBalancerType' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\n\nconst WithRs = [\n  { text: '没有绑定后端服务', value: 0 },\n  { text: '绑定后端服务', value: 1 },\n  { text: '查询全部', value: -1 },\n];\nconst VCLBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancer ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancer Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Forward',\n    enDescriptor: 'Forward',\n    cnDescriptor: '负载均衡实例类型',\n    link: '',\n    type: 'select',\n    list: ForwardTypes,\n  },\n  {\n    key: 'Domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '域名，腾讯云为负载均衡实例分配的域名，本参数仅对传统型公网负载均衡才有意义',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancer Vips',\n    cnDescriptor: '负载均衡实例的 VIP 地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivate Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的内网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPublicIps',\n    enDescriptor: 'BackendPublic Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的外网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '负载均衡实例所属的项目 ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '负载均衡实例所属私有网络',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroup',\n    enDescriptor: 'Security Group',\n    cnDescriptor: '安全组ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'MasterZone',\n    enDescriptor: 'Master Zone',\n    cnDescriptor: '主可用区ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'WithRs',\n    enDescriptor: 'WithRs',\n    cnDescriptor: '负载均衡是否绑定后端服务',\n    link: '',\n    type: 'select',\n    list: WithRs,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/214/30685',\n  namespace,\n  fieldDescriptor: VCLBFilterFieldsDescriptor,\n};\nconst LBFields = {\n  LoadBalancerIds: [],\n  Forward: undefined,\n  LoadBalancerName: '',\n  Domain: '',\n  LoadBalancerVips: [],\n  BackendPublicIps: [],\n  BackendPrivateIps: [],\n  Limit: 20,\n  Offset: 0,\n  ProjectId: undefined,\n  WithRs: {},\n  VpcId: '',\n  SecurityGroup: '',\n  MasterZone: '',\n  OrderBy: {},\n  OrderType: {},\n};\n\nconst VCLB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  Port: '',\n  Protocol: '',\n  listener: '',\n  // listenerAlias: 'ListenerId',\n  queries: LBFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nconst clbNamespaceMap = {\n  public: 'QCE/LB_PUBLIC',\n  private: 'QCE/LB_PRIVATE',\n};\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\nexport default VCLB_STATE;\nexport {\n  VCLBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VCLBInstanceAliasList,\n  VCLBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  clbNamespaceMap,\n  modifyDimensons,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMLBGetInstanceQueryParams,\n};\n","import { VBCInstanceAliasList, VBCInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VBCInstanceAliasList;\n  InvalidDimensions = VBCInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeCcns',\n    responseField: 'CcnSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getFilterDropdown({ field }) {\n    return super.getRegions();\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { VBCFilterFieldsDescriptor, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields: any = [\n  // {\n  //   label: 'SRegion',\n  //   field: 'SRegion',\n  // },\n  // {\n  //   label: 'DRegion',\n  //   field: 'DRegion',\n  // },\n];\n\nexport class VBCQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.VBCFilterFieldsDescriptor = VBCFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getExtraDropdown = (field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      // return $scope.datasource.getServiceFn(service, 'getFilterDropdown')({ field })\n      return $scope.datasource.getFilterDropdown(service, { field });\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in VBCFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: VBCQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('vbcQuery', scfQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VBC';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'vbcQuery';\n\nconst VBCInvalidDemensions = {\n  // CcnId: 'CcnId',\n};\n\n// 需和文件名对应\nconst VBCInstanceAliasList = ['CcnId', 'CcnName'];\n\nconst templateQueryIdMap = {\n  instance: 'CcnId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst VBCFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'ccn-id': [],\n  'ccn-name': [],\n  'ccn-description': [],\n  state: {},\n};\n\nconst VBCFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ccn-id',\n    enDescriptor: 'ccn-id',\n    cnDescriptor: 'CCN实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ccn-name',\n    enDescriptor: 'ccn-name',\n    cnDescriptor: 'CCN名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ccn-description',\n    enDescriptor: 'ccn-description',\n    cnDescriptor: 'CCN描述',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'state',\n    enDescriptor: 'state',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '隔离中', value: 'ISOLATED' },\n      { text: '运行中', value: 'AVAILABLE' },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/19199',\n  namespace,\n  fieldDescriptor: VBCFilterFieldsDescriptor,\n};\n\nconst VBC_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'CcnId',\n  DRegion: '',\n  SRegion: '',\n  queries: VBCFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// const regionSupported = [\n//   { text: '华北地区(北京)', value: 'ap-beijing' },\n//   { text: '西南地区(成都)', value: 'ap-chengdu' },\n//   { text: '西南地区(重庆)', value: 'ap-chongqing' },\n//   { text: '华南地区(广州)', value: 'ap-guangzhou' },\n//   { text: '港澳台地区(中国香港)', value: 'ap-hongkong' },\n//   { text: '亚太南部(孟买)', value: 'ap-mumbai' },\n//   { text: '华东地区(南京)', value: 'ap-nanjing' },\n//   { text: '华东地区(上海)', value: 'ap-shanghai' },\n//   { text: '华东地区(上海金融)', value: 'ap-shanghai-fsi' },\n//   { text: '华南地区(深圳金融)', value: 'ap-shenzhen-fsi' },\n//   { text: '亚太东南(新加坡)', value: 'ap-singapore' },\n//   { text: '亚太东北(东京)', value: 'ap-tokyo' },\n//   { text: '欧洲地区(法兰克福)', value: 'eu-frankfurt' },\n//   { text: '美国东部(弗吉尼亚)', value: 'na-ashburn' },\n//   { text: '美国西部(硅谷)', value: 'na-siliconvalley' },\n//   { text: '北美地区(多伦多)', value: 'na-toronto' },\n// ];\nexport default VBC_STATE;\nexport {\n  VBCFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VBCInstanceAliasList,\n  VBCInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  // regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as VBCGetInstanceQueryParams,\n};\n","import {\n  VPCNETDETECTInstanceAliasList,\n  VPCNETInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPCNETDETECTInstanceAliasList;\n  InvalidDimensions = VPCNETInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeNetDetects',\n    responseField: 'NetDetectSet',\n    interceptor: {\n      // response: (data: unknown[]) =>[\n      //   {\n      //     \"NetDetectId\": \"netd-12345678\",\n      //   },\n      // ],\n    },\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPC_NET_DETECT';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'vpcNetDetectQuery';\n\nconst VPCNETInvalidDemensions = {\n  netdetectid: 'NetDetectId',\n  netDetectId: 'NetDetectId',\n};\n\nconst VPCNETDETECTInstanceAliasList = ['NetDetectId', 'NetDetectName'];\n\nconst templateQueryIdMap = {\n  instance: 'NetDetectId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst VPCNETFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'net-detect-id': [],\n  'subnet-id': [],\n  'net-detect-name': [],\n};\n\nconst VPCNETFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPC实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'net-detect-id',\n    enDescriptor: 'net-detect-id',\n    cnDescriptor: '网络探测实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: '子网实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'net-detect-name',\n    enDescriptor: 'net-detect-name',\n    cnDescriptor: '网络探测名称',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/38696',\n  namespace,\n  fieldDescriptor: VPCNETFilterFieldsDescriptor,\n};\n\nconst VPCNET_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'NetDetectId',\n  queries: VPCNETFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['netDetectId'];\n  });\n  return metricTmp;\n}\nexport default VPCNET_STATE;\nexport {\n  VPCNETFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPCNETDETECTInstanceAliasList,\n  VPCNETInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as VPCNETDETECTGetInstanceQueryParams,\n};\n","import { VPNGWInstanceAliasList, VPNGWInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPNGWInstanceAliasList;\n  InvalidDimensions = VPNGWInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeVpnGateways',\n    responseField: 'VpnGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getFilterDropdown({ field, region }) {\n    if (field === 'zone') {\n      const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        serviceInfo.service,\n        { region, action: 'DescribeZones' }\n      ).then((response) => {\n        return _.filter(\n          _.map(response.ZoneSet || [], (item) => {\n            return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n          }),\n          (item) => item.ZoneState === 'AVAILABLE'\n        );\n      });\n    }\n    return [];\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPNGW';\nconst queryEditorName = 'vpngwQuery';\n\nconst VPNGWInvalidDemensions = {\n  vpnGwId: 'VpnGatewayId',\n};\n\nconst VPNGWInstanceAliasList = ['VpnGatewayId', 'VpnGatewayName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpnGatewayId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst VPNGWFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'vpn-gateway-id': [],\n  'vpn-gateway-name': [],\n  type: {},\n  'public-ip-address': [],\n  'renew-flag': {},\n  zone: [],\n};\n\nconst VPNGWFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPC实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-id',\n    enDescriptor: 'vpn-gateway-id',\n    cnDescriptor: 'VPN实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-name',\n    enDescriptor: 'vpn-gateway-name',\n    cnDescriptor: 'VPN实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'type',\n    enDescriptor: 'type',\n    cnDescriptor: 'VPN网关类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'IPSEC', value: 'IPSEC' },\n      { text: 'SSL', value: 'SSL' },\n    ],\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'public-ip-address',\n    cnDescriptor: '公网IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'renew-flag',\n    enDescriptor: 'renew-flag',\n    cnDescriptor: '网关续费类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '手动续费', value: 'NOTIFY_AND_MANUAL_RENEW' },\n      { text: '自动续费', value: 'NOTIFY_AND_AUTO_RENEW' },\n    ],\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'zone',\n    cnDescriptor: 'VPN所在可用区',\n    link: '',\n    type: 'dropdownMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/17514',\n  namespace,\n  fieldDescriptor: VPNGWFilterFieldsDescriptor,\n};\n\nconst VPNGW_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpnGatewayId',\n  queries: VPNGWFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default VPNGW_STATE;\nexport {\n  VPNGWFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPNGWInstanceAliasList,\n  VPNGWInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as VPNGWGetInstanceQueryParams,\n};\n","import { VPNXInstanceAliasList, VPNXInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPNXInstanceAliasList;\n  InvalidDimensions = VPNXInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeVpnConnections',\n    responseField: 'VpnConnectionSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPNX';\nconst queryEditorName = 'vpnxQuery';\n\nconst VPNXInvalidDemensions = {\n  vpnConnId: 'VpnConnectionId',\n};\n\nconst VPNXInstanceAliasList = ['VpnConnectionId', 'VpnConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpnConnectionId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst VPNXFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'vpn-gateway-id': [],\n  'customer-gateway-id': [],\n  'vpn-connection-name': [],\n  'vpn-connection-id': [],\n};\n\nconst VPNXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPC实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-id',\n    enDescriptor: 'vpn-gateway-id',\n    cnDescriptor: 'VPN实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'customer-gateway-id ',\n    enDescriptor: 'customer-gateway-id ',\n    cnDescriptor: '对端网关实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-connection-name',\n    enDescriptor: 'vpn-connection-name',\n    cnDescriptor: '通道名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-connection-id',\n    enDescriptor: 'vpn-connection-id',\n    cnDescriptor: '通道实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/17515',\n  namespace,\n  fieldDescriptor: VPNXFilterFieldsDescriptor,\n};\n\nconst VPNX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpnConnectionId',\n  queries: VPNXFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default VPNX_STATE;\nexport {\n  VPNXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPNXInstanceAliasList,\n  VPNXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as VPNXGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport {\n  WAFInstanceAliasList,\n  WAFInvalidDemensions,\n  templateQueryIdMap,\n  namespace,\n  regionSupported,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { t } from '../../../locale';\n\nexport default class CDNDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = WAFInstanceAliasList;\n  InvalidDimensions = WAFInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    // service: 'waf',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/WAF';\nconst queryEditorName = 'wafQuery';\nconst WAFFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst WAFFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/228/41118',\n  namespace,\n  fieldDescriptor: WAFFilterFieldsDescriptor,\n};\nconst WAF_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: WAFFilterFields,\n};\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n];\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n\nconst WAFInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst WAFInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default WAF_STATE;\nexport {\n  WAFFilterFieldsDescriptor,\n  templateQueryIdMap,\n  WAFInstanceAliasList,\n  WAFInvalidDemensions,\n  namespace,\n  regionSupported,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as WAFGetInstanceQueryParams,\n};\n","/** 此文件放置通用业务的配置项，用于区分业务类型 */\nimport { DataQuery, DataSourceJsonData } from '@grafana/data';\nimport { RUMQuery } from './rum-service/types';\nimport { APMQuery } from './apm-service/types';\nimport { t, Language } from '../locale';\nimport { SearchSyntaxRule } from './log-service/common/constants';\n\nexport const enum ServiceType {\n  monitor = 'monitor',\n  logService = 'logService',\n  RUMService = 'RUMService',\n  APMService = 'APMService',\n}\n\nexport const ServiceTypeOptions = [\n  {\n    value: ServiceType.monitor,\n    get label() {\n      return t('cloud_monitor');\n    },\n  },\n  {\n    value: ServiceType.logService,\n    get label() {\n      return t('cloud_log_service');\n    },\n  },\n  {\n    value: ServiceType.RUMService,\n    get label() {\n      return t('real_user_monitoring');\n    },\n  },\n  {\n    value: ServiceType.APMService,\n    get label() {\n      return t('apm_monitoring');\n    },\n  },\n];\n\nexport interface QueryInfo extends DataQuery {\n  /** 数据源Query针对的查询服务，监控 or 日志 */\n  serviceType?: ServiceType;\n  logServiceParams?: {\n    region: string;\n    TopicId: string;\n    Query: string;\n    SyntaxRule: number;\n    MaxResultNum?: number;\n  };\n  RUMServiceParams?: RUMQuery;\n  APMServiceParams?: APMQuery;\n}\n\nexport const defaultQueryInfo: Omit<QueryInfo, 'refId'> = {\n  serviceType: ServiceType.logService,\n  logServiceParams: {\n    region: '',\n    TopicId: '',\n    Query: '',\n    SyntaxRule: SearchSyntaxRule.CQL,\n  },\n  RUMServiceParams: {\n    policy: 'default',\n    resultFormat: 'time_series',\n    orderByTime: 'ASC',\n    tags: [],\n    groupBy: [\n      {\n        type: 'time',\n        params: ['$__interval'],\n      },\n      {\n        type: 'fill',\n        params: ['null'],\n      },\n    ],\n    select: [\n      [\n        {\n          type: 'field',\n          params: ['value'],\n        },\n        {\n          type: 'mean',\n          params: [],\n        },\n      ],\n    ],\n  },\n  APMServiceParams: {\n    policy: 'default',\n    resultFormat: 'time_series',\n    orderType: 'time',\n    orderBy: 'ASC',\n    tags: [],\n    groupBy: [\n      {\n        type: 'time',\n        params: ['$__interval'],\n      },\n      {\n        type: 'fill',\n        params: ['null'],\n      },\n    ],\n    select: [\n      [\n        {\n          type: 'field',\n          params: ['value'],\n        },\n        {\n          type: 'mean',\n          params: [],\n        },\n      ],\n    ],\n  },\n};\n\n/** QueryInfo的运行时版本，用于将query中的不合法字段进去移除，保证query是个QueryInfo类型的数据 */\nexport const queryInfoRuntime: Required<QueryInfo> = {\n  refId: '',\n  hide: false,\n  key: '',\n  queryType: '',\n  dataTopic: null as any,\n  datasource: '',\n\n  serviceType: defaultQueryInfo.serviceType,\n  logServiceParams: defaultQueryInfo.logServiceParams,\n  RUMServiceParams: defaultQueryInfo.RUMServiceParams,\n  APMServiceParams: defaultQueryInfo.APMServiceParams,\n};\n\n/** 变量数据类型。字符场景为云监控配置，对象场景由内部字段决定 */\nexport interface VariableQuery {\n  serviceType: ServiceType;\n  queryString: string;\n  logServiceParams?: QueryInfo['logServiceParams'];\n}\n\n/**\n * These are options configured for each DataSource instance.\n */\nexport interface MyDataSourceOptions extends DataSourceJsonData {\n  secretId?: string;\n  /** 控制是否开启日志服务功能 */\n  logServiceEnabled?: boolean;\n  /** 控制是否开启前端性能监控 */\n  RUMServiceEnabled?: boolean;\n  /** 根据 product.service 字段，判断云监控功能是否开启。字段混杂，不写入类型声明中 */\n  // [product.service]?: boolean\n  intranet?: boolean;\n  language?: Language;\n  /** 控制是否开启APM监控 */\n  APMServiceEnabled?: boolean;\n}\n\n/**\n * Value that is used in the backend, but never sent over HTTP to the frontend\n */\nexport interface MySecureJsonData {\n  secretKey: string;\n}\n","const en_US = {\n  language: 'Language',\n  enable_intranet_API_mode: 'Enable Intranet API Mode',\n  cloud_database: 'Cloud Database',\n  cloud_load_balancer: 'Cloud Load Balancer',\n  virtual_private_cloud: 'Virtual Private Cloud',\n  content_delivery_network: 'Content Delivery Network',\n  message_queue: 'Message Queue',\n  direct_connect: 'Direct Connect',\n  cloud_physical_machine: 'Cloud Physical Machine',\n  elastic_mapReduce: 'Elastic MapReduce',\n  edge_computing_machine: 'Edge Computing Machine',\n  // namespace\n  RUM: 'Real User Monitoring(RUM)',\n  CLS: 'Cloud Log Service(CLS)',\n  CVM: 'Cloud Virtual Machine(CVM)',\n  CDB: 'TencentDB for MySQL(CDB)',\n  CMONGO: 'TencentDB for MongoDB(CMONGO)',\n  POSTGRES: 'TencentDB for PostgreSQL(POSTGRES)',\n  REDIS: 'TencentDB for Redis(REDIS)',\n  REDIS_MEM: 'TencentDB for Redis(Memory Edition, 5-Second)(REDIS_MEM)',\n  SQLSERVER: 'TencentDB for SQL Server(SQLSERVER)',\n  CYNOSDB_MYSQL: 'TencentDB for CYNOSDB_MYSQL(CYNOSDB_MYSQL)',\n  TCAPLUS: 'TencentDB for TcaplusDB(TCAPLUS)',\n  TDMYSQL: 'TDSQL for MySQL(TDMYSQL)',\n  PCX: 'Peering Connection(PCX)',\n  BWP: 'Bandwidth Packet(BWP)',\n  NAT_GATEWAY: 'NAT Gateway(NAT_GATEWAY)',\n  VPNGW: 'VPN Gateway(VPNGW)',\n  VPNX: 'VPN Tunnel(VPNX)',\n  DCG: 'Direct Connect Gateway(DCG)',\n  CEIP_SUMMARY: 'Anycast EIP(CEIP_SUMMARY)',\n  VPC_NET_DETECT: 'Network Detection(VPC_NET_DETECT)',\n  VBC: 'Cloud Connect Network(VBC)',\n  LB: 'Elastic IP(LB)',\n  LB_PUBLIC: 'Public Network CLB(LB_PUBLIC)',\n  LB_PRIVATE: 'Private Network CLB Layer-4 Protocol(LB_PRIVATE)',\n  LOADBALANCE: 'Private Network CLB Layer-7 Protocol(LOADBALANCE)',\n  CDN: 'Chinese Mainland Domain(CDN)',\n  CDN_LOG_DATA: 'Province(CDN_LOG_DATA)',\n  OV_CDN: 'Overseas Domain(OV_CDN)',\n  SCF_V2: 'Serverless Cloud Function(SCF)',\n  CFS: 'Cloud File Storage(CFS)',\n  COS: 'Cloud Object Storage(COS)',\n  CKAFKA: 'Message Queue CKafka(CKAFKA)',\n  CMQ: 'Message Queue for Queue Service(CMQ)',\n  CMQTOPIC: 'Message Queue for Topic Subscription(CMQTOPIC)',\n  TDMQ: 'Tencent Distributed Message Queue for Pulsar(TDMQ)',\n  TDMQ_ROCKETMQ: 'Tencent Distributed Message Queue for RocketMQ(ROCKETMQ)',\n  TDMQ_RABBITMQ: 'Tencent Distributed Message Queue for RabbitMQ(RABBITMQ)',\n  DCX: 'Direct Connect for Dedicated Tunnel(DCX)',\n  DC: 'Direct Connect for Connection(DC)',\n  CPM: 'Cloud Physical Machine(CPM)',\n  BM_PCX: 'Cloud Physical Machine for Peering Connection(BM_PCX)',\n  BM_LB: 'Cloud Physical Machine for Public Network CLB(BM_LB)',\n  BM_INTRA_LB: 'Cloud Physical Machine for Private Network CLB(BM_INTRA_LB)',\n  CES: 'Elasticsearch Service(CES)',\n  BLOCK_STORAGE: 'Cloud Block Storage(BLOCK_STORAGE)',\n  APIGATEWAY: 'API Gateway(APIGATEWAY)',\n  QAAP: 'Global Application Acceleration Platform(GAAP)',\n  ECM: 'Edge Computing Machine for Computation and Networking(ECM)',\n  ECM_BLOCK_STORAGE: 'Edge Computing Machine for Block Storage(ECM_BLOCK_STORAGE)',\n  ECM_LB: 'Edge Computing Machine for Layer-4 CLB(ECM_LB)',\n  GSE: 'Game Server Elastic-scaling(GSE)',\n  TKE: 'Tencent Kubernetes Engine(TKE)',\n  ECDN: 'Enterprise Content Delivery Network(ECDN)',\n  WAF: 'Web Application Firewall(WAF)',\n  // others\n  multi_scene: 'Multi-Scene',\n  lite: 'Lite',\n  cloud_monitor: 'Cloud Monitor',\n  cloud_log_service: 'Cloud Log Service',\n  real_user_monitoring: 'Real User Monitoring',\n  apm_monitoring: 'Application Monitoring',\n  region: 'Region',\n  log_topic: 'Log Topic',\n  syntax_rule: 'Syntax Rule',\n  max_result_num: 'Maximum result number',\n  search_statement: 'Search Statement',\n  time_unit: 'Time unit',\n  seconds: 'seconds',\n  search_description:\n    'Search for instances according to specific query conditions, and pull the first 20 instances by default',\n  // region\n  'ap-guangzhou': 'South China(Guangzhou)',\n  'ap-shenzhen-fsi': 'South China(Shenzhen Finance)',\n  'ap-guangzhou-open': 'South China(Guangzhou OPEN)',\n  'ap-shenzhen': 'South China(Shenzhen)',\n  'ap-qingyuan': 'South China(Qingyuan)',\n  'ap-shanghai': 'East China(Shanghai)',\n  'ap-shanghai-fsi': 'East China(Shanghai Finance)',\n  'ap-jinan-ec': 'East China(Jinan)',\n  'ap-hangzhou-ec': 'East China(Hangzhou)',\n  'ap-nanjing': 'East China(Nanjing)',\n  'ap-fuzhou-ec': 'East China(Fuzhou)',\n  'ap-hefei-ec': 'East China(Hefei)',\n  'ap-beijing': 'North China region(Beijing)',\n  'ap-tianjin': 'North China region(Tianjin)',\n  'ap-beijing-fsi': 'North China region(Beijing Finance)',\n  'ap-shijiazhuang-ec': 'North China region(Shijiazhuang)',\n  'ap-wuhan-ec': 'Central China(Wuhan)',\n  'ap-changsha-ec': 'Central China(Changsha)',\n  'ap-zhengzhou-ec': 'Central China(Zhengzhou)',\n  'ap-chengdu': 'Southwest China(Chengdu)',\n  'ap-chongqing': 'Southwest China(Chongqing)',\n  'ap-xian-ec': \"Northwest region(Xi'an)\",\n  'ap-shenyang-ec': 'Northeast China(Shenyang)',\n  'ap-taipei': 'Hong Kong, Macau and Taiwan (China)(Taipei, China)',\n  'ap-hongkong': 'Hong Kong, Macau and Taiwan (China)(Hong Kong, China)',\n  'ap-seoul': 'Northeast Asia(Seoul)',\n  'ap-tokyo': 'Northeast Asia(Tokyo)',\n  'ap-singapore': 'Southeast Asia(Singapore)',\n  'ap-bangkok': 'Southeast Asia(Bangkok)',\n  'ap-jakarta': 'Southeast Asia(Jakarta)',\n  'na-siliconvalley': 'US West(Silicon Valley)',\n  'eu-frankfurt': 'Europe(Frankfurt)',\n  'eu-moscow': 'Europe(Northeastern Europe)',\n  'ap-mumbai': 'South Asia(Mumbai)',\n  'na-ashburn': 'US East(Virginia)',\n  'sa-saopaulo': 'South America(São Paulo)',\n  'na-toronto': 'North America(Toronto)',\n};\nexport default en_US;\n","import zh_CN from './zh_CN';\nimport en_US from './en_US';\n\nlet locale_language = 'zh-CN';\n\nexport enum Language {\n  Chinese = 'zh-CN',\n  English = 'en-US',\n}\n\nexport const t = (key: string) => {\n  if (locale_language === Language.Chinese) {\n    return zh_CN[key];\n  }\n  return en_US[key];\n};\n\nexport const setLanguage = (language: Language) => {\n  locale_language = language;\n};\n\nexport const getLanguage = () => locale_language;\n","const zh_CN = {\n  language: '语言',\n  enable_intranet_API_mode: '开启内网API模式',\n  cloud_database: '云数据库',\n  cloud_load_balancer: '负载均衡',\n  virtual_private_cloud: '私有网络',\n  content_delivery_network: '内容分发网络',\n  message_queue: '消息队列',\n  direct_connect: '专线接入',\n  cloud_physical_machine: '黑石物理服务器',\n  elastic_mapReduce: '弹性 MapReduce',\n  edge_computing_machine: '边缘计算机器',\n  // namespace\n  RUM: '前端性能监控(RUM)',\n  APM: '应用性能监控(APM)',\n  CLS: '日志服务(CLS)',\n  CVM: '云服务器(CVM)',\n  CDB: '云数据库 MySQL(CDB)',\n  CMONGO: '云数据库 MongoDB(CMONGO)',\n  POSTGRES: '云数据库 PostgreSQL(POSTGRES)',\n  REDIS: '云数据库 Redis(REDIS)',\n  REDIS_MEM: '云数据库 Redis内存版(5s)(REDIS_MEM)',\n  SQLSERVER: '云数据库 SQL Server(SQLSERVER)',\n  CYNOSDB_MYSQL: '云数据库 CYNOSDB_MYSQL(CYNOSDB_MYSQL)',\n  TCAPLUS: '云数据库 TcaplusDB(TCAPLUS)',\n  TDMYSQL: '分布式数据库 TDSQL MySQL(TDMYSQL)',\n  PCX: '私有网络-对等连接(PCX)',\n  BWP: '私有网络-带宽包(BWP)',\n  NAT_GATEWAY: '私有网络-NAT 网关(NAT_GATEWAY)',\n  VPNGW: '私有网络-VPN 网关(VPNGW)',\n  VPNX: '私有网络-VPN 通道(VPNX)',\n  DCG: '私有网络-专线网关(DCG)',\n  CEIP_SUMMARY: '私有网络-Anycast 弹性公网IP(CEIP_SUMMARY)',\n  VPC_NET_DETECT: '私有网络-网络探测(VPC_NET_DETECT)',\n  VBC: '私有网络-云联网(VBC)',\n  LB: '私有网络-弹性公网IP(LB)',\n  LB_PUBLIC: '公网负载均衡监控指标(LB_PUBLIC)',\n  LB_PRIVATE: '内网负载均衡四层协议监控指标(LB_PRIVATE)',\n  LOADBALANCE: '内网负载均衡七层协议监控指标(LOADBALANCE)',\n  CDN: '国内域名(CDN)',\n  CDN_LOG_DATA: '省份域名(CDN_LOG_DATA)',\n  OV_CDN: '国外域名(OV_CDN)',\n  SCF_V2: '云函数(SCF)',\n  CFS: '文件存储(CFS)',\n  COS: '对象存储(COS)',\n  CKAFKA: '消息队列 CKafka(CKAFKA)',\n  CMQ: '消息队列-队列服务监控(CMQ)',\n  CMQTOPIC: '消息队列-主题订阅监控(CMQTOPIC)',\n  TDMQ: '消息队列 Pulsar 版(TDMQ)',\n  TDMQ_ROCKETMQ: '消息队列 RocketMQ 版(ROCKETMQ)',\n  TDMQ_RABBITMQ: '消息队列 RabbitMQ 版(RABBITMQ)',\n  DCX: '专线接入-专用通道(DCX)',\n  DC: '专线接入-物理专线(DC)',\n  CPM: '黑石物理服务器(CPM)',\n  BM_PCX: '黑石对等连接(BM_PCX)',\n  BM_LB: '黑石外网负载均衡(BM_LB)',\n  BM_INTRA_LB: '黑石内网负载均衡(BM_INTRA_LB)',\n  CES: 'Elasticsearch指标(CES)',\n  BLOCK_STORAGE: '云硬盘(BLOCK_STORAGE)',\n  APIGATEWAY: 'API 网关(APIGATEWAY)',\n  QAAP: '全球应用加速(GAAP)',\n  ECM: '边缘计算和网络监控(ECM)',\n  ECM_BLOCK_STORAGE: '边缘计算存储监控(ECM_BLOCK_STORAGE)',\n  ECM_LB: '边缘计算负载均衡(ECM_LB)',\n  GSE: '游戏服务器伸缩(GSE)',\n  TKE: '容器服务(TKE)',\n  ECDN: '全站加速网络(ECDN)',\n  WAF: 'Web 应用防火墙(WAF)',\n  // others\n  multi_scene: '多场景版',\n  lite: '精简版',\n  cloud_monitor: '云监控',\n  cloud_log_service: '日志服务',\n  real_user_monitoring: '前端性能监控',\n  apm_monitoring: '应用性能监控',\n  region: '地域',\n  log_topic: '日志主题',\n  syntax_rule: '语法规则',\n  max_result_num: '最大结果条数',\n  search_statement: '检索语句',\n  time_unit: 'Time unit',\n  seconds: 'seconds',\n  search_description: '按照具体的查询条件搜索实例，默认拉取前 20 条实例',\n  // region\n  'ap-guangzhou': '华南地区(广州)',\n  'ap-shenzhen-fsi': '华南地区(深圳金融)',\n  'ap-guangzhou-open': '华南地区(广州OPEN)',\n  'ap-shenzhen': '华南地区(深圳)',\n  'ap-qingyuan': '华南地区(清远)',\n  'ap-shanghai': '华东地区(上海)',\n  'ap-shanghai-fsi': '华东地区(上海金融)',\n  'ap-jinan-ec': '华东地区(济南)',\n  'ap-hangzhou-ec': '华东地区(杭州)',\n  'ap-nanjing': '华东地区(南京)',\n  'ap-fuzhou-ec': '华东地区(福州)',\n  'ap-hefei-ec': '华东地区(合肥)',\n  'ap-beijing': '华北地区(北京)',\n  'ap-tianjin': '华北地区(天津)',\n  'ap-beijing-fsi': '华北地区(北京金融)',\n  'ap-shijiazhuang-ec': '华北地区(石家庄)',\n  'ap-wuhan-ec': '华中地区(武汉)',\n  'ap-changsha-ec': '华中地区(长沙)',\n  'ap-zhengzhou-ec': '华中地区(郑州)',\n  'ap-chengdu': '西南地区(成都)',\n  'ap-chongqing': '西南地区(重庆)',\n  'ap-xian-ec': '西北地区(西安)',\n  'ap-shenyang-ec': '东北地区(沈阳)',\n  'ap-taipei': '港澳台地区(中国台北)',\n  'ap-hongkong': '港澳台地区(中国香港)',\n  'ap-seoul': '亚太东北(首尔)',\n  'ap-tokyo': '亚太东北(东京)',\n  'ap-singapore': '亚太东南(新加坡)',\n  'ap-bangkok': '亚太东南(曼谷)',\n  'ap-jakarta': '亚太东南(雅加达)',\n  'na-siliconvalley': '美国西部(硅谷)',\n  'eu-frankfurt': '欧洲地区(法兰克福)',\n  'eu-moscow': '欧洲地区(莫斯科)',\n  'ap-mumbai': '亚太南部(孟买)',\n  'na-ashburn': '美国东部(弗吉尼亚)',\n  'sa-saopaulo': '南美地区(圣保罗)',\n  'na-toronto': '北美地区(多伦多)',\n};\nexport default zh_CN;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_data__;","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_runtime__;","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_ui__;","module.exports = __WEBPACK_EXTERNAL_MODULE_angular__;","module.exports = __WEBPACK_EXTERNAL_MODULE_emotion__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_core_module__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_table_model__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_utils_kbn__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_plugins_sdk__;","module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;","module.exports = __WEBPACK_EXTERNAL_MODULE_moment__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;","module.exports = __WEBPACK_EXTERNAL_MODULE_rxjs__;"],"sourceRoot":""}