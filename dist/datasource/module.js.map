{"version":3,"sources":["webpack://TencentCloudMonitorGrafanaApp/webpack/bootstrap","webpack://TencentCloudMonitorGrafanaApp/external \"lodash\"","webpack://TencentCloudMonitorGrafanaApp/./locale/zh_CN.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/en_US.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/index.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/sign.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/signV2.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/utils.ts","webpack://TencentCloudMonitorGrafanaApp/external \"react\"","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/core_module\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/indexedDB.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/datasourceStorage.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/data\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/ui\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/index.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/runtime\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/tslib/tslib.es6.js","webpack://TencentCloudMonitorGrafanaApp/external \"moment\"","webpack://TencentCloudMonitorGrafanaApp/external \"emotion\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cos/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/external \"rxjs\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cos/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor sync ^.*$","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/MonitorDatasource.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/utils.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/formats.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/query_filter.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/stringify.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/parse.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor sync ^\\.\\/[a-zA-Z]\\w+\\/(datasource)|(query(_def)","webpack://TencentCloudMonitorGrafanaApp/external \"angular\"","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/utils/kbn\"","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/table_model\"","webpack://TencentCloudMonitorGrafanaApp/../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/css-loader/dist/runtime/api.js","webpack://TencentCloudMonitorGrafanaApp/external \"app/plugins/sdk\"","webpack://TencentCloudMonitorGrafanaApp/external \"react-dom\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/partials/query.editor.html","webpack://TencentCloudMonitorGrafanaApp/../node_modules/eventemitter3/index.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/css/query_editor.css?c63a","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/css/query_editor.css","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/index.less?44dc","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/index.less","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/multi_condition.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/custom_select_dropdown.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/react-loader.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/cascader.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/constants.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/types.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/partials/queryEditorTemplate.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/query.ctrl.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/QueryCtrlRender.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useLatest.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/model/api.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useEffectOnce.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/utils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/components/TopicSelector.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/LogServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/query_builder.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMMetadataQuery.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/query_part.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUM_query_model.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/unwrap.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/toSelectableValue.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/partListUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/SegmentSection.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/node_modules/tslib/tslib.es6.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useAsyncFn.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMountedState.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/useShadowedState.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/usePrevious.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/Seg.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/FromSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/tagUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/AddButton.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/TagsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/PartListSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/styles.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/InputSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/OrderByTimeSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/FormatAsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/useUniqueId.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/queryUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/QueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/VariableQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isFunction.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/config.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/hostReportError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Observer.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isObject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subscription.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/map.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/observable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/identity.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/pipe.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Observable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/toSubscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/canReportError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/SubjectSubscription.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/refCount.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/multicast.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/share.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/prestoType.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/ConvertSearchResultsToDataFrame.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/formatSearchLog.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/prepareTimeSeries.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/utils/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/LogServiceDataSource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/ConvertLogContextToDataFrame.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/iterator.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isArrayLike.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isPromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeTo.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduled.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isInteropObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/innerSubscribe.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/mergeMap.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/from.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/catchError.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUM_series.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/response_parser.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMServiceDataSource.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/DataSource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/config-editor/ConfigEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/module.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","language","enable_intranet_API_mode","cloud_database","cloud_load_balancer","virtual_private_cloud","content_delivery_network","message_queue","direct_connect","cloud_physical_machine","elastic_mapReduce","edge_computing_machine","RUM","CLS","CVM","CDB","CMONGO","POSTGRES","REDIS","REDIS_MEM","SQLSERVER","CYNOSDB_MYSQL","TCAPLUS","TDMYSQL","PCX","BWP","NAT_GATEWAY","VPNGW","VPNX","DCG","CEIP_SUMMARY","VPC_NET_DETECT","VBC","LB","LB_PUBLIC","LB_PRIVATE","LOADBALANCE","CDN","CDN_LOG_DATA","OV_CDN","SCF_V2","CFS","COS","CKAFKA","CMQ","CMQTOPIC","TDMQ","TDMQ_ROCKETMQ","TDMQ_RABBITMQ","DCX","DC","CPM","BM_PCX","BM_LB","BM_INTRA_LB","CES","BLOCK_STORAGE","APIGATEWAY","QAAP","ECM","ECM_BLOCK_STORAGE","ECM_LB","GSE","TKE","ECDN","WAF","multi_scene","lite","cloud_monitor","cloud_log_service","real_user_monitoring","region","log_topic","syntax_rule","max_result_num","search_statement","time_unit","seconds","search_description","Language","locale_language","Chinese","setLanguage","getLanguage","options","secretId","service","action","host","version","payload","backendSrv","datasourceId","this","JSON","stringify","nowDate","utc","timestamp","unix","date","format","getHeader","getResourceHeader","res","datasourceRequest","url","method","headers","data","Host","Service","Version","Action","Region","Timestamp","Method","Uri","Query","Body","Headers","resp","authorization","token","intranet","grafanaVersion","window","grafanaBootData","settings","buildInfo","Authorization","toString","defaults","path","generateQueryString","getResourceQueryString","assign","secretKey","querystring","queryString","TcDataSourceId","id","FINACE_REGIONS","SERVICES_API_INFO","api","monitor","cls","cvm","cdb","pcx","vpc","mongodb","clb","postgres","cdn","redis","scf","cfs","ckafka","dc","cynosdb","sqlserver","bm","bmeip","bmvpc","bmlb","es","emr","cmq","cbs","tcaplusdb","dcdb","apigateway","tdmq","tdmq_rabbitmq","tdmq_rocketmq","gaap","ecm","gse","lighthouse","tsf","rum","tke","ecdn","waf","FINACE_HOST","GetServiceAPIInfo","indexOf","find","__","getHostAndPath","GetServiceFromNamespace","namespace","ParseMetricQuery","query","result","queries","split","forEach","item","str","trim","val","parse","e","toLower","ReplaceVariable","templateSrv","scopedVars","field","multiple","varname","varFlag","regResult1","String","match","regResult2","parseVariableFormat","replaceVar","replace","error","isArray","GetDimensions","obj","isEmpty","dimensions","Value","undefined","push","Name","ParseQueryResult","response","instances","timeshift","instanceList","cloneDeep","dataPoints","map","dataPoint","instanceAliasValue","length","isInstanceMatch","_InstanceAliasValue","splice","target","MetricName","datapoints","parseDataPoint","timestamps","values","index","instance","isVariable","GetRequestParams","signObj","signParams","pick","headerSigned","GetRequestParamsV2","sign","SliceLength","total","len","num","Math","ceil","Offset","CoreApp","IS_DEVELOPMENT_ENVIRONMENT","instanceSettings","instanceListCache","extraMetricDims","checkKeys","MetricReqConfig","extrasAlias","queryMonitorExtraConfg","CandiateDimensions","jsonData","Namespace","getOtherAlias","alias","extra","extraAlia","getVariable","getAliasValue","Array","join","formatVarDisplay","displayTpl","instanceAlias","a","b","InstanceAliasList","includes","metricFindQuery","regex","display","instancealias","templateQueryIdMap","isObject","isString","getRegions","getVariableInstances","flatMap","insAlias","text","setInstance","getInstance","instanceCache","fetchMetricData","Promise","resolve","dimensionsFormat","dimKeys","ins","dimensionObject","keyTmp","invalidDim","InvalidDimensions","getInvalidDimensions","extraDimValue","dim_KeyInStorage","dim_KeyInTarget","dim_KeyInMap","dim_KeyInIns","extraSourceMap","getExtraStorage","extraStorage","isStringOrNumber","isNumber","otherAlias","getDimensionsVal","Ekey","dimVal","filter","targets","hide","metricName","reduce","prev","cloneTarget","concat","inst","getDefaultInsObj","insInReq","keys","dimResult","Dimensions","StartTime","range","from","subtract","EndTime","to","Period","period","Instances","getMonitorData","all","then","responses","flatten","getInstanceReqConfig","selfIns","metric","rs","valStr","params","serviceInfo","doRequest","RegionSet","RegionName","RegionState","getMetrics","MetricSet","resFilterFn","resultFilter","getInstances","InstanceReqConfig","interceptor","Limit","request","Error","TotalCount","TotalCnt","TotalNumber","param","isValidConfigField","testDatasource","cvmErr","monitorErr","serviceErr","cvmAuthFail","monitorAuthFail","serviceAuthFail","messages","message","compact","uniq","status","title","statusText","code","getFieldsValue","fields","fetchAllFactory","fetcher","_params","omit","Result","firstLists","delta","batchCount","pmList","fill","_","isOffsetPage","acc","cur","lists","list","instanceQueryParamsBaseParse","isFilter","Values","slice","Filters","getNamesapceFromService","serviceName","serviceGroupBy","services","label","groupName","existedGroup","items","isTargetEqual","newTargetString","oldTargetString","newTarget","oldTarget","getTimeShiftInMs","timeShift","parts","exec","amount","parseInt","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__6__","config","detailConfig","QueryCtrl","newQueryIns","$scope","$rootScope","getDropdown","datasource","getFilterDropdown","directive","template","controller","restrict","scope","showDetail","getDropdownOptions","onChange","store","promisify","type","reject","onsuccess","event","returnMap","msg","onerror","props","initDB","indexedDB","webkitIndexedDB","mozIndexedDB","msIndexedDB","open","onupgradeneeded","db","objectStoreNames","contains","createObjectStore","keyPath","openDB","insertData","storeName","transaction","objectStore","add","oncomplete","addData","isCover","getData","oldData","getObjectStore","newData","requestUpdate","put","seviceName","getAllData","getAll","insKey","cacheWay","setStorage","getStorage","setExtraStorage","EValue","serviceKey","storage","__WEBPACK_EXTERNAL_MODULE__9__","CKAFKAQueryDescriptor","enDescriptor","cnDescriptor","link","min","max","CKAFKA_STATE","metricUnit","topicId","topicName","consumerGroup","partition","Status","InstanceId","SearchWord","TagKey","GetInstanceQueryParams","CKAFKAInstanceAliasList","CKAFKATopicAliasList","CKAFKAInvalidDemensions","Proxy","prop","toLocaleLowerCase","keyInStorage","TopicList","GroupList","PartitionList","TopicId","TopicName","GroupName","PartitionId","__WEBPACK_EXTERNAL_MODULE__11__","queryEditorName","LOADBALANCEFieldsDescriptor","queryEditorConfig","instanceDocUrl","fieldDescriptor","LOADBALANCE_STATE","Port","Protocol","listener","servers","serverPort","LoadBalancerIds","Forward","LoadBalancerName","Domain","LoadBalancerVips","BackendPublicIps","BackendPrivateIps","ProjectId","WithRs","VpcId","SecurityGroup","MasterZone","OrderBy","OrderType","LOADBALANCEListenerAliasList","LOADBALANCEServerAliasList","LOADBALANCEVALIDDIMENSIONS","vip","loadBalancerPort","protocol","lanIp","port","CANDIATEDIMENSIONS","PrivateIpAddresses","ServerPort","TDMQInvalidDemensions","tenantId","tenant","environmentId","TDMQInstanceAliasList","TDMQFilterFieldsDescriptor","CDNPROVINCE_STATE","regionSupported","modifyDimensons","metricItem","metricTmp","EnvironmentId","fleetId","GSEInvalidDemensions","instanceid","fleetid","queuename","GSEInstanceAliasList","FleetId","fleet","queue","GSEFilterFieldsDescriptor","GSE_STATE","v","DCDBInvalidDemensions","nodeid","shardid","ShardId","DCDBInstanceAliasList","NodeId","ShardInstanceId","DCDBFilterFieldsDescriptor","DCDB_STATE","InstanceIds","SearchName","SearchKey","ProjectIds","SubnetId","OrderByType","ExclusterType","ExclusterIds","FilterInstanceType","modifyMetricConf","IsFilterVpc","IsFilterExcluster","RedisMemFieldsDescriptor","REDISMEM_STATE","VpcIds","SubnetIds","InstanceName","UniqVpcIds","UniqSubnetIds","TypeVersion","EngineName","AutoRenew","BillingMode","Type","rnodeid","pnodeid","REDISMEMInstanceAliasList","RedisMemInvalidDemensions","NodeType","node","TDMQRABBITMQInstanceAliasList","TDMQ_STATE","NodeName","group","TDMQROCKETMQInstanceAliasList","instanceIdsChecked","filtersChecked","ClusterIdList","includeVip","NamespaceId","SERVICES","href","hideRegion","Datasources","InitStates","hackModuleName","postgresql","mr","filePath","moduleName","fileName","prefix","toUpperCase","getParams","ECMBLOCKSTORAGEInvalidDemensions","uuid","diskId","ECMBLOCKSTORAGEInstanceAliasList","ECMBLOCKSTORAGEFilterFieldsDescriptor","ECMBLOCKSTORAGE_STATE","DiskId","APIGATEWAYInvalidDemensions","serviceId","environmentName","apiid","apiId","APIGATEWAYInstanceAliasList","environmentList","EnvironmentName","APIGATEWAYFilterFieldsDescriptor","APIGATEWAY_STATE","ServiceId","ServiceName","NotUsagePlanId","Environment","IpVersion","InstanceQueryDescriptor","InvalidDemensions","k","receiver","startsWith","Reflect","has","propKey","Ip","nodeIP","DisplayStrategy","Order","OrderField","Asc","VCLBInvalidDemensions","VCLBInstanceAliasList","VCLBFilterFieldsDescriptor","VCLB_STATE","clbNamespaceMap","public","private","cynosdbMysqlFilterFieldsDescriptor","CYNOSDB_STATE","DbType","CYNOSDBMYSQLInstanceAliasList","CYNOSDBInvalidDemensions","instanceId","SCFQueryDescriptor","SCF_STATE","Description","SCFInstanceAliasList","SCFInvalidDemensions","functionName","SCFDefaultDimensionList","__WEBPACK_EXTERNAL_MODULE__26__","CLSInvalidDemensions","CLSInstanceAliasList","CLSFilterFieldsDescriptor","CLS_STATE","uin","logsetName","logsetId","tagKey","storageType","SQLSERVERInvalidDemensions","resourceId","SQLSERVERInstanceAliasList","SQLSERVERNETFilterFieldsDescriptor","SQLSERVER_STATE","InstanceIdSet","PayMode","VipSet","InstanceNameSet","VersionSet","Zone","BMINTRALBInvalidDemensions","vpcId","BMINTRALBInstanceAliasList","BMINTRALBFilterFieldsDescriptor","BMINTRALB_STATE","BMLBValidMetricsT","isValidMetric","validMetrics","toUpper","CPMInvalidDemensions","BMLBInstanceAliasList","CPMFilterFieldsDescriptor","CPM_STATE","BMPCXInvalidDemensions","peeringConnectionId","BMPCXInstanceAliasList","BMPCXFilterFieldsDescriptor","BMPCX_STATE","VpcPeerConnectionIds","CBSInvalidDemensions","diskname","unInstanceId","CBSInstanceAliasList","CBSFilterFieldsDescriptor","CBS_STATE","DiskIds","ReturnBindAutoSnapshotPolicy","metricObj","dimension","CDNPROVINCEInvalidDemensions","domain","projectid","province","appid","CDNPROVINCEInstanceAliasList","CDNPROVINCEFilterFieldsDescriptor","isp","district","origin","serviceType","projectId","domainType","fullUrlCache","https","originPullProtocol","CEIPInvalidDemensions","eip","CEIPSUMMARYInstanceAliasList","CEIPFilterFieldsDescriptor","CEIP_STATE","subscription","subscriptionId","CPMInstanceAliasList","DeviceClassCode","WanIps","LanIps","Alias","VagueIp","AutoRenewFlag","DeviceType","IsLuckyDevice","ECDNInstanceAliasList","ECDNInvalidDemensions","ECDN_STATE","disable","area","ECDNFilterFieldsDescriptor","_queries","Fuzzy","ECMInvalidDemensions","ECMInstanceAliasList","ECMFilterFieldsDescriptor","ECM_STATE","zone","PostgresFieldsDescriptor","POSTGRESInstanceAliasList","POSTGRES_STATE","PostgreInvalidDemensions","uid","VPCNETInvalidDemensions","netdetectid","netDetectId","VPCNETDETECTInstanceAliasList","VPCNETFilterFieldsDescriptor","VPCNET_STATE","WAFFilterFieldsDescriptor","WAF_STATE","WAFInstanceAliasList","WAFInvalidDemensions","CDBFieldsDescriptor","CDB_STATE","InstanceTypes","Vips","SecurityGroupId","PayTypes","InstanceNames","TaskStatus","EngineVersions","ZoneIds","CdbErrors","OrderDirection","InitFlag","CDBInstanceAliasList","CDBInvalidDemensions","insttype","CESInvalidDemensions","uInstanceId","CESInstanceAliasList","CESFilterFieldsDescriptor","CES_STATE","OrderByKey","IpList","DCFilterFieldsDescriptor","DC_STATE","DirectConnectIds","DCInstanceAliasList","DCInvalidDemensions","directConnectId","directconnectid","DCGInvalidDemensions","directConnectGatewayId","DCGInstanceAliasList","DCGFilterFieldsDescriptor","DCG_STATE","DCXFilterFieldsDescriptor","DCX_STATE","DCXInstanceAliasList","DCXInvalidDemensions","directconnectconnid","directConnectConnId","ECMLBInvalidDemensions","ECMLBInstanceAliasList","ECMLBFilterFieldsDescriptor","MONGODBFieldsDescriptor","MONGODB_STATE","InstanceType","ClusterType","MONGODBInstanceAliasList","MONGODBInvalidDemensions","replica","Replica","Node","QAAPInvalidDemensions","channelId","QAAPInstanceAliasList","QAAPFilterFieldsDescriptor","QAAP_STATE","AccessRegion","RealServerRegion","GroupId","TCAPLUSInvalidDemensions","TCAPLUSInstanceAliasList","TCAPLUSFilterFieldsDescriptor","TCAPLUS_STATE","ClusterId","TableGroupIds","TableName","TableInstanceId","TableIdlType","TableType","ListElementNum","ReservedVolume","ReservedReadQps","ReservedWriteQps","Memo","FileName","FileExtType","FileSize","FileContent","SelectedTables","regonsMap","VBCInvalidDemensions","VBCInstanceAliasList","VBCFilterFieldsDescriptor","VBC_STATE","DRegion","SRegion","state","VPNGWInvalidDemensions","vpnGwId","VPNGWInstanceAliasList","VPNGWFilterFieldsDescriptor","VPNGW_STATE","VPNXInvalidDemensions","vpnConnId","VPNXInstanceAliasList","VPNXFilterFieldsDescriptor","VPNX_STATE","LighthouseFilterFieldsDescriptor","LIGHTHOUSE_STATE","LIGHTHOUSEInstanceAliasList","LighthouseInvalidDemensions","CFSQueryDescriptor","CFS_STATE","FileSystemId","CFSInstanceAliasList","CFSInvalidDemensions","queueId","queueName","QueueName","CVMFilterFieldsDescriptor","CVM_STATE","CVMInstanceAliasList","CVMValidMetricsT","CVMValidMetrics","PCX_STATE","limit","offset","peeringConnectionName","PCXFieldsDescriptor","PCXInstanceAliasList","RedisFieldsDescriptor","REDIS_STATE","REDISInstanceAliasList","RedisInvalidDemensions","redis_uuid","TSFFieldsDescriptor","TSF_STATE","ApplicationType","MicroserviceType","ApplicationResourceTypeList","ApplicationIdList","TSFInstanceAliasList","TSFInvalidDemensions","applicationid","BWPFilterFieldsDescriptor","BWP_STATE","BandwidthPackageIds","BWPInstanceAliasList","BWPInvalidDemensions","bandwidthPackageId","CDNFilterFieldsDescriptor","CDN_STATE","CDNInstanceAliasList","CDNInvalidDemensions","LBFilterDescriptor","LB_STATE","LBInstanceAliasList","LBInvalidDemensions","NATGATEWAYInstanceAliasList","NATGatewayFilterFieldsDescriptor","NATGATEWAY_STATE","NatGatewayIds","NATInvalidDemensions","natId","OVCDNFilterFieldsDescriptor","OVCDN_STATE","OVCDNInstanceAliasList","OVCDNInvalidDemensions","extendStatics","setPrototypeOf","__proto__","__extends","constructor","__WEBPACK_EXTERNAL_MODULE__67__","__WEBPACK_EXTERNAL_MODULE__68__","TKE_STATE","conditions","groupBys","ClusterIds","ClusterName","ClusterStatus","TKEFilterFieldsDescriptor","TKEInstanceAliasList","responseField","getEnvironmentNameList","LoadBalancerType","RegionMap","keyBy","RegionInfoSet","rawSet","getZones","ZoneSet","ZoneName","ZoneId","ZoneState","getConsumerList","MapInfoList","TopicAliasList","consumerGroupCache","getConsumerGroups","groupname","topicid","consumerGoup","topicList","GroupDetailList","uniqBy","SubscribedInfos","ConsumerGroupName","SubscribedInfo","partitions","sub","Partition","formatTopicVarDisplay","topic","topicAlias","topicalias","par","ListenerAliasList","ServerAliasList","tagret","getListenerList","LoadBalancerId","formatVariableDisplay","aliasList","getServerList","listenerId","ListenerIds","Listeners","Rules","Targets","elem","listenAlias","lisId","listenerid","serverprivateip","serveralias","serversList","chain","dims","Set","fetchAllSubscription","SubscriptionId","cosURL","Buckets","BucketName","bucket","DeviceClassSet","Product","extraActionMap","DescribeDCDBShards","pickKey","DescribeDCDBInstanceNodeInfo","RegionList","act","getDiskList","instanceObj","getQueueNameList","getFleetList","ReplicaAliasList","replicaAlias","ReplicaSetId","replicasetid","times","SecondaryNum","nodeId","fetchAllNodes","NodeFlag","resultT","doRequestV2","totalCount","getVpcId","VpcSet","getVpcIds","MonitorVersion","getInstanceNodeInfo","nodetype","ndoeTypeIndex","getVersions","Versions","FunctionName","RegionInfos","DescribeTopics","DescribeEnvironments","DescribeRabbitMQNodeList","DescribeRocketMQNamespaces","DescribeRocketMQGroups","variableToArray","variable","tke_cluster_instance_id","Key","Operator","MetricNames","Module","Conditions","GroupBys","Data","Points","point","dimensionSort","dimensionString","timeshiftString","getAllMetrics","public_metrics","private_metrics","__WEBPACK_EXTERNAL_MODULE__125__","init","getInstanceId","getServiceFn","getExtraDropdown","sQuery","onRefresh","onChecked","srcField","dstField","bwpQuery","BWPQueryCtrl","cdbQuery","CDBQueryCtrl","cdnQuery","CDNQueryCtrl","ExtraFields","scfQuery","SCFQueryCtrl","onInstanceChange","getExtraFields","CKAFKAQueryCtrl","element","attrs","$watch","newValue","oldValue","onFieldChange","getVariableId","variableData","getServersDropdown","getServerPortDropdown","serverPortList","cacheMap","getTopicName","onExtraFieldChange","datas","CmqTopicQueryCtrl","cvmQuery","CVMQueryCtrl","dropdownTextConfig","actionMaps","lbQuery","LBQueryCtrl","lighthouseQuery","LighthouseQueryCtrl","replicaId","mongodbQuery","MongoDBQueryCtrl","some","dataT","mrQuery","MrQueryCtrl","natGatewayQuery","NatGatewayQueryCtrl","ovCdnQuery","OVCDNQueryCtrl","pcxQuery","PCXQueryCtrl","redisQuery","RedisQueryCtrl","clearExtrasAlias","redisMemQuery","RedisMemQueryCtrl","evId","tdmqRocketmqQuery","TdmqRocketmqQueryCtrl","addCondition","deleteCondition","targetCondition","getOperator","tsfQuery","TSFQueryCtrl","VBCQueryCtrl","webpackContext","req","webpackContextResolve","_class","getNamespaces","namespaces","getCascaderNamespaces","validServices","getSelectedServices","promises","optionsTemp","promiseTemp","Done","results","getListeners","errorMsg","upperFirst","fnName","argu","hexTable","array","arrayToObject","source","plainObjects","refs","j","pop","compacted","compactQueue","decode","decodeURIComponent","encode","string","out","charCodeAt","charAt","isBuffer","isRegExp","merge","allowPrototypes","mergeTarget","percentTwenties","formatters","RFC1738","RFC3986","SPQueryCtrl","_config","queryDDO","formats","utils","arrayPrefixGenerators","brackets","indices","repeat","toISO","Date","toISOString","delimiter","encoder","encodeValuesOnly","serializeDate","skipNulls","strictNullHandling","generateArrayPrefix","sort","allowDots","formatter","objKeys","opts","TypeError","arrayFormat","joined","addQueryPrefix","arrayLimit","decoder","depth","parameterLimit","parseKeys","givenKey","child","segment","parent","leaf","root","cleanRoot","isNaN","parseArrays","parseObject","ignoreQueryPrefix","tempObj","cleanStr","Infinity","part","bracketEqualsPos","pos","parseValues","newObj","__WEBPACK_EXTERNAL_MODULE__192__","__WEBPACK_EXTERNAL_MODULE__193__","__WEBPACK_EXTERNAL_MODULE__196__","memo","isOldIE","Boolean","document","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","base","count","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","setAttribute","insert","appendChild","textStore","replaceText","replacement","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","btoa","unescape","encodeURIComponent","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","lastIdentifiers","newList","newLastIdentifiers","_i","_index","useSourceMap","content","cssMapping","sourceMapping","base64","sourceURLs","sources","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","__WEBPACK_EXTERNAL_MODULE__200__","__WEBPACK_EXTERNAL_MODULE__201__","Events","EE","fn","context","once","addListener","emitter","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","getOwnPropertySymbols","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","arguments","removeListener","apply","on","removeAllListeners","off","prefixed","default","exported","locals","___CSS_LOADER_API_IMPORT___","placeholder","maxCond","toInteger","onInputBlur","onChangeInternal","cond","onSelectChange","getSelectedOptions","selectedOptions","option","maxNum","minNum","getOptions","show","oldVariableText","highlightIndex","selectOptions","selectedValue","selected","selectedValues","search","dropdownVisible","updateLinkText","linkText","clearSelections","each","selectionsChanged","keyDown","keyCode","moveHighlight","commitChanges","selectValue","direction","commitChange","excludeOthers","setAllExceptCurrentTo","other","ctrlKey","metaKey","shiftKey","queryChanged","toLowerCase","customSelectDropdown","$compile","$window","$timeout","controllerAs","bindToController","bodyEl","body","linkEl","inputEl","bodyOnClick","$apply","vm","width","focus","RectCompo","componentName","propTypes","separator","changeOnSelect","onSelect","initialValue","allowCustomValue","formatCreateLabel","displayAllSelectedLevels","component","$element","_$scope","_$element","$onInit","entries","_query","setTimeout","render","SearchSyntaxRule","ServiceType","loadBalance","lbPrivate","lbPublic","mongoDB","mrHDFS","mrHBASE","mrHIVE","mrNODE","mrPRESTO","mrSPARK","mrYARN","mrZOOKEEPER","editorHtml","serviceSwitch","$injector","regions","metricList","periodList","dimensionList","instanceAliasList","showInstanceDetails","cascaderOptions","defaultsDeep","getInstanceAliasList","panelCtrl","onDataReceived","onDataError","cascaderChange","onNamespaceChange","dataList","lastQueryError","lastQuery","anySeriesFromQuery","refId","err","handleQueryCtrlError","initState","refresh","isCascader","onRegionChange","isMetricsNeedUpdate","panel","getMetricNameDesc","findIndex","Meaning","Zh","En","onMetricChange","getInstanceQueryParams","subItem","onInstanceAliasChange","onInstanceQueryChange","checkShowDetail","getTimeDesc","getSearchDesc","angularScope","angularQueryEditor","renderAngularQueryEditor","destroy","loader","scopeProps","ctrl","getAngularQueryComponentScope","load","componentDidMount","forceUpdate","componentDidUpdate","prevProps","legacy","series","timeRange","queryCtrl","components","dashboard","onRunQuery","ref","uuidRegex","ServiceTypeOptions","logService","RUMService","defaultQueryInfo","logServiceParams","SyntaxRule","CQL","RUMServiceParams","policy","resultFormat","orderByTime","tags","groupBy","select","queryInfoRuntime","queryType","dataTopic","current","capiRequest","requestOptions","Code","Message","Response","clsCapiRequest","regionCapiRequest","SearchLog","UseNewAnalysis","DescribeLogContext","DescribeRegionsAndZonesRequest","product","DescribeRegions","clsRegions","regionList","RegionId","RegionShortName","RegionTypeMC","RegionType","Location","regionId","Number","regionName","regionShortName","oversea","effect","getStringVariableNameOptions","getVariables","multi","refValue","TopicSelector","preferLastValue","localStorage","setItem","lastValue","getItem","topicSelectOptionsRef","setRegionList","fetchRegions","labelWidth","Topics","menuPlacement","className","defaultOptions","cacheOptions","loadOptions","filterStr","filters","test","optionsWithVariables","displayName","LogServiceQueryEditor","propsRef","clone","partialOnChange","queryInfo","oldQuery","LUCENE","MaxResultNumInput","MaxResultNum","flexGrow","portalOrigin","onBlur","onChangeFromProps","onInputChange","currVal","currentTarget","invalid","database","buildExploreQuery","withKey","withMeasurementFilter","measurement","regexEscape","whereConditions","tag","operator","condition","renderTagCondition","q","getTagKeysForMeasurementAndTags","defaultParams","renderer","category","addStrategy","def","updateText","innerExpr","hasMultipleParamsInString","strValue","optional","updateParam","partVal","idx","functionRenderer","parameters","paramType","quote","unshift","Aggregations","Selectors","Transformations","Predictors","Aliasing","Fields","createPart","register","QueryPartDef","groupByTimeFunctions","fieldRenderer","replaceAggregationAddStrategy","selectParts","partModel","morePartsAvailable","addTransformationStrategy","selectModels","dynamicLookup","partCount","renderMode","getCategories","replaceAggregationAdd","updateProjection","groupByParts","updatePersistedParts","hasGroupByTime","g","hasFill","addGroupBy","stringParts","typePart","arg","removeGroupByPart","categories","removeSelect","removeSelectPart","modelsIndex","partIndex","addSelectPart","getMeasurementAndPolicy","interpolate","interpolateQueryStr","defaultFormatFn","includeAll","rawQuery","y","selectText","groupBySection","slimit","tz","renderAdhocFilters","unwrap","toSelectableValue","getPartParams","dynamicParamOptions","paramValues","defParam","makePartList","queryParts","qp","htmlFor","children","styles","theme","spacing","inlineFormMargin","useAsyncFn","deps","initialState","loading","mountedRef","lastCallId","isMounted","_a","set","callback","callId","prevState","useShadowedState","outsideVal","currentVal","setCurrentVal","prevOutsideVal","selectClass","minWidth","onClose","autoFocus","isOpen","onCloseMenu","loadState","doLoad","isLoading","filterByLoadOptions","currentValue","setCurrentValue","spellCheck","onKeyDown","defaultButtonClass","cursor","buttonClassName","disabled","setOpen","as","onClick","getPolicyOptions","getMeasurementOptions","allPolicies","isRegex","getCondition","isFirst","onAdd","operatorOptions","condititonOptions","loadConditionOptions","loadOperatorOptions","onRemove","getTagKeyOptions","getTagValueOptions","op","currentOperator","newTagValue","isCurrentOperatorRegex","onTagChange","newTag","newTags","newT","minimalTag","noRightMarginPaddingClass","paddingRight","marginRight","getContextMenuItems","openMenu","noHorizMarginPaddingClass","paddingLeft","marginLeft","partClass","lineHeight","typography","md","fontSize","size","onParamChange","newParams","isLast","Fragment","getNewPartOptions","onAddNewPart","onRemovePart","pars","paddingRightClass","isWide","OPTIONS","inputId","RESULT_FORMATS","ENABLE_MEASUREMENTS","withTemplateVariableOptions","optionsPromise","filterTags","allTagKeys","RUMServiceQueryEditor","idRefLazy","uniqueId","formatAsId","orderByTimeId","queryCopy","normalizeQuery","selectLists","dynamicSelectPartOptions","Map","getFieldKeysForMeasurement","sel","getTagKeys","groupByList","dynamicGroupByPartOptions","onAppliedChange","newQuery","getAllPolicies","measurementFilter","getAllMeasurementsForTags","inlineLabel","getTagValues","x","listIndex","newSel","changeSelectPart","model","addNewSelectPart","selectModel","tagKeys","getNewGroupByPartOptions","newGroupBy","changeGroupByPart","addNewGroupByPart","isAlertVisiable","app","UnifiedAlerting","setState","firstEnabledService","enabledServices","monitorEnabled","monitorDataSource","logServiceEnabled","RUMServiceEnabled","active","onChangeTab","renderMonitorQueryEditor","renderLogServiceQueryEditor","renderRUMServiceQueryEditor","onQueryChange","definition","grow","tooltip","required","isFunction","_enable_super_gross_mode_that_will_cause_bad_things","hostReportError","empty","closed","next","useDeprecatedSynchronousErrorHandling","complete","UnsubscriptionError","UnsubscriptionErrorImpl","errors","Subscription","unsubscribe","_parentOrParents","_subscriptions","_ctorUnsubscribe","_unsubscribe","flattenUnsubscriptionErrors","teardown","EMPTY","tmp","subscriptions","subscriptionIndex","errs","rxSubscriber","random","_super","Subscriber","destinationOrNext","_this","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","SafeSubscriber","_parentSubscriber","observerOrNext","_context","__tryOrSetError","__tryOrUnsub","wrappedComplete","project","thisArg","lift","MapOperator","subscribe","MapSubscriber","observable","identity","pipeFromArray","fns","input","Observable","_isScalar","_subscribe","sink","nextOrObserver","toSubscriber","_trySubscribe","observer","closed_1","canReportError","promiseCtor","getPromiseCtor","pipe","operations","toPromise","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscriber","Subject","hasError","thrownError","copy","asObservable","AnonymousSubject","refCount","RefCountOperator","connectable","_refCount","refCounter","connection","connect","RefCountSubscriber","sharedConnection","_connection","ConnectableObservable","subjectFactory","_isComplete","getSubject","_subject","connectableObservableDescriptor","connectableProto","writable","ConnectableSubscriber","MulticastOperator","selector","shareSubjectFactory","share","subjectOrSubjectFactory","ProcessorUtils","PrestoAndFieldTypeMap","prestoTypeRegex","fieldType","time","processor","isValid","number","LogFieldReservedName","formatSearchLog","Analysis","AnalysisRecords","analysisColumns","analysisRecords","column","prestoType","analysisColumn","record","parseLogJsonStr","logJsonStr","tagContent","__TAG__","tagValue","ConvertSearchResultsToDataFrame","searchLogResult","frameDTO","ConvertAnalysisJsonToDataFrameDTO","Results","timeField","TIMESTAMP","logField","LogJson","custom","displayMode","sourceField","SOURCE","filenameField","Filename","hostnameField","HostName","metaField","META","hidden","labels","logItem","logJson","meta","preferredVisualisationType","RequestId","SamplingRate","executedQueryString","ConvertLogJsonToDataFrameDTO","DataFrameType","timeSeriesFormat","toTimeSeriesMany","frame","valueFields","labelFields","builders","f","builder","TimeSeriesMany","uniqueValueNames","uniqueValueNamesToType","uniqueLabelKeys","labelKeyToWideIndices","uniqueFactorNamesToWideIndex","fieldIndex","tKey","wideIndices","labelKey","sortedTimeRowIndices","sortedUniqueLabelKeys","uniqueFactorNames","uniqueFactorNamesWithWideIndices","wideRowIndex","labelKeys","longFrame","TimeSeriesLong","addField","timeWideRowIndex","rowValues","wideFieldIndex","wideField","toTimeSeriesLong","CQL_SPLIT_PATTERN","getQueryLucene","querySplit","luceneQuery","replaceClsQueryWithTemplateSrv","sqlQuery","addQueryResultLimit","resultLimit","showContextToggle","row","dataFrame","metaValue","rowIndex","PkgId","PkgLogId","getLogRowContext","bTime","BTime","PrevLogs","NextLogs","logContext","LogContextInfos","idField","lineField","contextLog","Content","ConvertLogContextToDataFrame","dataFramePromise","From","To","Loading","frames","processedFrames","timeSeriesMany","valueOf","getLogsVolumeDataProvider","getSymbolIterator","iterator","isArrayLike","isPromise","subscribeTo","obs","promise","iterable","done","return","scheduled","scheduler","isInteropObservable","schedule","scheduleObservable","schedulePromise","scheduleArray","isIterable","scheduleIterable","SimpleInnerSubscriber","notifyNext","notifyError","notifyComplete","SimpleOuterSubscriber","innerValue","innerSubscribe","innerSubscriber","mergeMap","resultSelector","concurrent","POSITIVE_INFINITY","ii","MergeMapOperator","MergeMapSubscriber","hasCompleted","buffer","_tryNext","_innerSub","ish","innerSubscription","shift","CatchOperator","caught","CatchSubscriber","err2","annotation","getTimeSeries","output","columns","seriesName","columnName","_getSeriesName","segments","g1","g2","segIndex","getAnnotations","titleCol","timeCol","timeEndCol","tagsCol","textCol","titleColumn","tagsColumn","textColumn","timeEndColumn","timeEnd","getTable","table","seriesIndex","firstCol","firstTableCol","reordered","rows","RUMResults","normalizedQuery","isValueFirst","isShowMeasurements","serie","addUnique","dfs","selectedParams","allParams","uniqueParams","incrementName","nameIncremenet","getSelectedParams","getTableCols","dfsByLabels","df","getTableRows","transformAnnotationResponse","rsp","colText","colContainsTag","toArray","metrics","getFieldType","firstNotNull","valueType","timeSeriesToDataFrame","timeSeries","displayNameFromDS","responseParser","classicQuery","timeFilter","getTimeFilter","queryTargets","allQueries","fixTimePeriod","interval","__interval","adhocFilters","getAdhocFilters","_seriesQuery","seriesList","rumSeries","interpolated","rangeRaw","timezone","_RUMRequest","fetch","cancelled","handleErrors","isInteger","getRUMTime","roundUp","getTimePeriod","modifyTime","until","oneHour","compareResult","periodCompare","pre_period","units","reg","RegExp","pre","per","logServiceDataSource","tcDatasource","RUMServiceDataSource","DataSource","monitorTargets","logServiceTargets","RUMServiceTargets","EmptyDataQueryResponse","errResponse","every","flat","serviceTestResults","failedResult","SecretFormField","patchJsonData","kv","onOptionsChange","onJsonDataChange","targetName","targetValue","onSecureJsonChange","secureJsonData","onResetSecureJson","secureJsonFields","monitorFilter","isClsAlertVisiable","position","marginTop","padding","WebkitBoxFlex","borderTop","margin","inputWidth","isConfigured","onReset","English","InlineSwitch","checked","renderRUMConfig","renderLogServiceConfig","renderMonitorConfig","severity","filteredProducts","marginBottom","toChecked","allCheckObject","height","WebkitBoxAlign","alignItems","border","borderRadius","setQueryEditor","setConfigEditor","setVariableQueryEditor"],"mappings":"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","file":"datasource/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 209);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","const zh_CN = {\n  language: '',\n  enable_intranet_API_mode: 'API',\n  cloud_database: '',\n  cloud_load_balancer: '',\n  virtual_private_cloud: '',\n  content_delivery_network: '',\n  message_queue: '',\n  direct_connect: '',\n  cloud_physical_machine: '',\n  elastic_mapReduce: ' MapReduce',\n  edge_computing_machine: '',\n  // namespace\n  RUM: '(RUM)',\n  CLS: '(CLS)',\n  CVM: '(CVM)',\n  CDB: ' MySQL(CDB)',\n  CMONGO: ' MongoDB(CMONGO)',\n  POSTGRES: ' PostgreSQL(POSTGRES)',\n  REDIS: ' Redis(REDIS)',\n  REDIS_MEM: ' Redis(5s)(REDIS_MEM)',\n  SQLSERVER: ' SQL Server(SQLSERVER)',\n  CYNOSDB_MYSQL: ' CYNOSDB_MYSQL(CYNOSDB_MYSQL)',\n  TCAPLUS: ' TcaplusDB(TCAPLUS)',\n  TDMYSQL: ' TDSQL MySQL(TDMYSQL)',\n  PCX: '-(PCX)',\n  BWP: '-(BWP)',\n  NAT_GATEWAY: '-NAT (NAT_GATEWAY)',\n  VPNGW: '-VPN (VPNGW)',\n  VPNX: '-VPN (VPNX)',\n  DCG: '-(DCG)',\n  CEIP_SUMMARY: '-Anycast IP(CEIP_SUMMARY)',\n  VPC_NET_DETECT: '-(VPC_NET_DETECT)',\n  VBC: '-(VBC)',\n  LB: '-IP(LB)',\n  LB_PUBLIC: '(LB_PUBLIC)',\n  LB_PRIVATE: '(LB_PRIVATE)',\n  LOADBALANCE: '(LOADBALANCE)',\n  CDN: '(CDN)',\n  CDN_LOG_DATA: '(CDN_LOG_DATA)',\n  OV_CDN: '(OV_CDN)',\n  SCF_V2: '(SCF)',\n  CFS: '(CFS)',\n  COS: '(COS)',\n  CKAFKA: ' CKafka(CKAFKA)',\n  CMQ: '-(CMQ)',\n  CMQTOPIC: '-(CMQTOPIC)',\n  TDMQ: ' Pulsar (TDMQ)',\n  TDMQ_ROCKETMQ: ' RocketMQ (ROCKETMQ)',\n  TDMQ_RABBITMQ: ' RabbitMQ (RABBITMQ)',\n  DCX: '-(DCX)',\n  DC: '-(DC)',\n  CPM: '(CPM)',\n  BM_PCX: '(BM_PCX)',\n  BM_LB: '(BM_LB)',\n  BM_INTRA_LB: '(BM_INTRA_LB)',\n  CES: 'Elasticsearch(CES)',\n  BLOCK_STORAGE: '(BLOCK_STORAGE)',\n  APIGATEWAY: 'API (APIGATEWAY)',\n  QAAP: '(GAAP)',\n  ECM: '(ECM)',\n  ECM_BLOCK_STORAGE: '(ECM_BLOCK_STORAGE)',\n  ECM_LB: '(ECM_LB)',\n  GSE: '(GSE)',\n  TKE: '(TKE)',\n  ECDN: '(ECDN)',\n  WAF: 'Web (WAF)',\n  // others\n  multi_scene: '',\n  lite: '',\n  cloud_monitor: '',\n  cloud_log_service: '',\n  real_user_monitoring: '',\n  region: '',\n  log_topic: '',\n  syntax_rule: '',\n  max_result_num: '',\n  search_statement: '',\n  time_unit: 'Time unit',\n  seconds: 'seconds',\n  search_description: ' 20 ',\n  // region\n  'ap-guangzhou': '()',\n  'ap-shenzhen-fsi': '()',\n  'ap-guangzhou-open': '(OPEN)',\n  'ap-shenzhen': '()',\n  'ap-qingyuan': '()',\n  'ap-shanghai': '()',\n  'ap-shanghai-fsi': '()',\n  'ap-jinan-ec': '()',\n  'ap-hangzhou-ec': '()',\n  'ap-nanjing': '()',\n  'ap-fuzhou-ec': '()',\n  'ap-hefei-ec': '()',\n  'ap-beijing': '()',\n  'ap-tianjin': '()',\n  'ap-beijing-fsi': '()',\n  'ap-shijiazhuang-ec': '()',\n  'ap-wuhan-ec': '()',\n  'ap-changsha-ec': '()',\n  'ap-zhengzhou-ec': '()',\n  'ap-chengdu': '()',\n  'ap-chongqing': '()',\n  'ap-xian-ec': '()',\n  'ap-shenyang-ec': '()',\n  'ap-taipei': '()',\n  'ap-hongkong': '()',\n  'ap-seoul': '()',\n  'ap-tokyo': '()',\n  'ap-singapore': '()',\n  'ap-bangkok': '()',\n  'ap-jakarta': '()',\n  'na-siliconvalley': '()',\n  'eu-frankfurt': '()',\n  'eu-moscow': '()',\n  'ap-mumbai': '()',\n  'na-ashburn': '()',\n  'sa-saopaulo': '()',\n  'na-toronto': '()',\n};\nexport default zh_CN;\n","const en_US = {\n  language: 'Language',\n  enable_intranet_API_mode: 'Enable Intranet API Mode',\n  cloud_database: 'Cloud Database',\n  cloud_load_balancer: 'Cloud Load Balancer',\n  virtual_private_cloud: 'Virtual Private Cloud',\n  content_delivery_network: 'Content Delivery Network',\n  message_queue: 'Message Queue',\n  direct_connect: 'Direct Connect',\n  cloud_physical_machine: 'Cloud Physical Machine',\n  elastic_mapReduce: 'Elastic MapReduce',\n  edge_computing_machine: 'Edge Computing Machine',\n  // namespace\n  RUM: 'Real User Monitoring(RUM)',\n  CLS: 'Cloud Log Service(CLS)',\n  CVM: 'Cloud Virtual Machine(CVM)',\n  CDB: 'TencentDB for MySQL(CDB)',\n  CMONGO: 'TencentDB for MongoDB(CMONGO)',\n  POSTGRES: 'TencentDB for PostgreSQL(POSTGRES)',\n  REDIS: 'TencentDB for Redis(REDIS)',\n  REDIS_MEM: 'TencentDB for Redis(Memory Edition, 5-Second)(REDIS_MEM)',\n  SQLSERVER: 'TencentDB for SQL Server(SQLSERVER)',\n  CYNOSDB_MYSQL: 'TencentDB for CYNOSDB_MYSQL(CYNOSDB_MYSQL)',\n  TCAPLUS: 'TencentDB for TcaplusDB(TCAPLUS)',\n  TDMYSQL: 'TDSQL for MySQL(TDMYSQL)',\n  PCX: 'Peering Connection(PCX)',\n  BWP: 'Bandwidth Packet(BWP)',\n  NAT_GATEWAY: 'NAT Gateway(NAT_GATEWAY)',\n  VPNGW: 'VPN Gateway(VPNGW)',\n  VPNX: 'VPN Tunnel(VPNX)',\n  DCG: 'Direct Connect Gateway(DCG)',\n  CEIP_SUMMARY: 'Anycast EIP(CEIP_SUMMARY)',\n  VPC_NET_DETECT: 'Network Detection(VPC_NET_DETECT)',\n  VBC: 'Cloud Connect Network(VBC)',\n  LB: 'Elastic IP(LB)',\n  LB_PUBLIC: 'Public Network CLB(LB_PUBLIC)',\n  LB_PRIVATE: 'Private Network CLB Layer-4 Protocol(LB_PRIVATE)',\n  LOADBALANCE: 'Private Network CLB Layer-7 Protocol(LOADBALANCE)',\n  CDN: 'Chinese Mainland Domain(CDN)',\n  CDN_LOG_DATA: 'Province(CDN_LOG_DATA)',\n  OV_CDN: 'Overseas Domain(OV_CDN)',\n  SCF_V2: 'Serverless Cloud Function(SCF)',\n  CFS: 'Cloud File Storage(CFS)',\n  COS: 'Cloud Object Storage(COS)',\n  CKAFKA: 'Message Queue CKafka(CKAFKA)',\n  CMQ: 'Message Queue for Queue Service(CMQ)',\n  CMQTOPIC: 'Message Queue for Topic Subscription(CMQTOPIC)',\n  TDMQ: 'Tencent Distributed Message Queue for Pulsar(TDMQ)',\n  TDMQ_ROCKETMQ: 'Tencent Distributed Message Queue for RocketMQ(ROCKETMQ)',\n  TDMQ_RABBITMQ: 'Tencent Distributed Message Queue for RabbitMQ(RABBITMQ)',\n  DCX: 'Direct Connect for Dedicated Tunnel(DCX)',\n  DC: 'Direct Connect for Connection(DC)',\n  CPM: 'Cloud Physical Machine(CPM)',\n  BM_PCX: 'Cloud Physical Machine for Peering Connection(BM_PCX)',\n  BM_LB: 'Cloud Physical Machine for Public Network CLB(BM_LB)',\n  BM_INTRA_LB: 'Cloud Physical Machine for Private Network CLB(BM_INTRA_LB)',\n  CES: 'Elasticsearch Service(CES)',\n  BLOCK_STORAGE: 'Cloud Block Storage(BLOCK_STORAGE)',\n  APIGATEWAY: 'API Gateway(APIGATEWAY)',\n  QAAP: 'Global Application Acceleration Platform(GAAP)',\n  ECM: 'Edge Computing Machine for Computation and Networking(ECM)',\n  ECM_BLOCK_STORAGE: 'Edge Computing Machine for Block Storage(ECM_BLOCK_STORAGE)',\n  ECM_LB: 'Edge Computing Machine for Layer-4 CLB(ECM_LB)',\n  GSE: 'Game Server Elastic-scaling(GSE)',\n  TKE: 'Tencent Kubernetes Engine(TKE)',\n  ECDN: 'Enterprise Content Delivery Network(ECDN)',\n  WAF: 'Web Application Firewall(WAF)',\n  // others\n  multi_scene: 'Multi-Scene',\n  lite: 'Lite',\n  cloud_monitor: 'Cloud Monitor',\n  cloud_log_service: 'Cloud Log Service',\n  real_user_monitoring: 'Real User Monitoring',\n  region: 'Region',\n  log_topic: 'Log Topic',\n  syntax_rule: 'Syntax Rule',\n  max_result_num: 'Maximum result number',\n  search_statement: 'Search Statement',\n  time_unit: 'Time unit',\n  seconds: 'seconds',\n  search_description:\n    'Search for instances according to specific query conditions, and pull the first 20 instances by default',\n  // region\n  'ap-guangzhou': 'South China(Guangzhou)',\n  'ap-shenzhen-fsi': 'South China(Shenzhen Finance)',\n  'ap-guangzhou-open': 'South China(Guangzhou OPEN)',\n  'ap-shenzhen': 'South China(Shenzhen)',\n  'ap-qingyuan': 'South China(Qingyuan)',\n  'ap-shanghai': 'East China(Shanghai)',\n  'ap-shanghai-fsi': 'East China(Shanghai Finance)',\n  'ap-jinan-ec': 'East China(Jinan)',\n  'ap-hangzhou-ec': 'East China(Hangzhou)',\n  'ap-nanjing': 'East China(Nanjing)',\n  'ap-fuzhou-ec': 'East China(Fuzhou)',\n  'ap-hefei-ec': 'East China(Hefei)',\n  'ap-beijing': 'North China region(Beijing)',\n  'ap-tianjin': 'North China region(Tianjin)',\n  'ap-beijing-fsi': 'North China region(Beijing Finance)',\n  'ap-shijiazhuang-ec': 'North China region(Shijiazhuang)',\n  'ap-wuhan-ec': 'Central China(Wuhan)',\n  'ap-changsha-ec': 'Central China(Changsha)',\n  'ap-zhengzhou-ec': 'Central China(Zhengzhou)',\n  'ap-chengdu': 'Southwest China(Chengdu)',\n  'ap-chongqing': 'Southwest China(Chongqing)',\n  'ap-xian-ec': \"Northwest region(Xi'an)\",\n  'ap-shenyang-ec': 'Northeast China(Shenyang)',\n  'ap-taipei': 'Hong Kong, Macau and Taiwan (China)(Taipei, China)',\n  'ap-hongkong': 'Hong Kong, Macau and Taiwan (China)(Hong Kong, China)',\n  'ap-seoul': 'Northeast Asia(Seoul)',\n  'ap-tokyo': 'Northeast Asia(Tokyo)',\n  'ap-singapore': 'Southeast Asia(Singapore)',\n  'ap-bangkok': 'Southeast Asia(Bangkok)',\n  'ap-jakarta': 'Southeast Asia(Jakarta)',\n  'na-siliconvalley': 'US West(Silicon Valley)',\n  'eu-frankfurt': 'Europe(Frankfurt)',\n  'eu-moscow': 'Europe(Northeastern Europe)',\n  'ap-mumbai': 'South Asia(Mumbai)',\n  'na-ashburn': 'US East(Virginia)',\n  'sa-saopaulo': 'South America(So Paulo)',\n  'na-toronto': 'North America(Toronto)',\n};\nexport default en_US;\n","import zh_CN from './zh_CN';\nimport en_US from './en_US';\n\nlet locale_language = 'zh-CN'\n\nexport enum Language {\n  Chinese = 'zh-CN',\n  English = 'en-US',\n}\n\nexport const t = (key: string) => {\n  if (locale_language === Language.Chinese) {\n    return zh_CN[key]\n  }\n  return en_US[key];\n}\n\nexport const setLanguage = (language: Language) => {\n  locale_language = language;\n}\n\nexport const getLanguage = () => locale_language;","import moment from 'moment';\n\nconst HttpRequestMethod = 'POST';\nconst CanonicalUri = '/';\nconst CanonicalQueryString = '';\nconst ContentType = 'application/json';\n\nexport default class Sign {\n  /**\n   * Tencent Cloud API Signature v3 reference: https://cloud.tencent.com/document/api/213/30654\n   * secretId: SecretId for identifying identity that is applied for on Cloud API Key.\n   * A SecretId corresponds to a unique SecretKey, which is used to generate the request Signature.\n   * secretKey: SecretKey is used to encrypt the signature string and verify the signature string on the server\n   * service: the name of service, which must be consistent with the request domain, such as cvm\n   * action: The name of the API for the desired operation\n   * host: the domain of servicewhich must be consistent with the request domain, such as cvm.tencentcloudapi.com\n   * version:  PI version, such as 2017-03-12\n   * payload: The request parameters\n   */\n\n  secretId: string;\n\n  service: string;\n  action: string;\n  host: string;\n  version: string;\n  payload: Record<string, any> | string;\n  region: string;\n  timestamp: number;\n  date: string;\n  backendSrv: any;\n  datasourceId: Number;\n  constructor(options) {\n    const { secretId, service, action, host, version, payload = '', region, backendSrv, datasourceId } = options;\n    this.secretId = secretId;\n    // this.secretKey = secretKey;\n    this.service = service;\n    this.action = action;\n    this.host = host;\n    this.version = version;\n    this.payload = typeof payload === 'string' ? payload : JSON.stringify(payload);\n    this.region = region;\n    const nowDate = moment().utc();\n    this.timestamp = nowDate.unix();\n    this.date = nowDate.format('YYYY-MM-DD');\n    this.backendSrv = backendSrv;\n    this.datasourceId = datasourceId;\n  }\n\n  async getHeader() {\n    return this.getResourceHeader();\n  }\n\n  async getResourceHeader() {\n    let res: { authorization?: string; token?: string; intranet?: boolean } = {};\n    try {\n      const resp = await this.backendSrv.datasourceRequest({\n        url: `/api/datasources/${this.datasourceId}/resources/sign_v3`,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        data: {\n          Host: this.host,\n          Service: this.service,\n          Version: this.version,\n          Action: this.action,\n          Region: this.region,\n          Timestamp: this.timestamp,\n          Method: HttpRequestMethod,\n          Uri: CanonicalUri,\n          Query: CanonicalQueryString,\n          Body: this.payload,\n          Headers: {\n            'content-type': ContentType,\n            host: this.host,\n          },\n        },\n      });\n      res = resp.data;\n    } catch (err) {}\n    const { authorization, token, intranet } = res;\n    const grafanaVersion = (window as any).grafanaBootData?.settings?.buildInfo?.version || '0.0.0';\n    const headers = {\n      Authorization: authorization,\n      'Content-Type': ContentType,\n      'X-TC-Action': this.action,\n      'X-TC-Timestamp': this.timestamp.toString(),\n      'X-TC-Version': this.version,\n      'X-TC-RequestClient': `GF_${grafanaVersion}_PL_CM_${process.env.TENCENT_CLOUD_MONITOR_GRAFANA_PLUGIN_VERSION}`,\n      ...(this.region && {\n        'X-TC-Region': this.region,\n      }),\n      ...(token && {\n        'X-TC-Token': token,\n      }),\n      intranet: intranet,\n    };\n    return headers;\n  }\n}\n","/**\n *\n * @param defaults \n * secretId\n * secretKey\n * action\n * region\n * host\n */\n\nexport default class SignV2 {\n  defaults: any = {\n    path: '/v2/index.php',\n    method: 'POST',\n  };\n  backendSrv: any;\n  datasourceId: Number;\n  constructor(defaults: any = {}) {\n    this.defaults = Object.assign(this.defaults, defaults);\n    this.defaults.secretKey = '';\n    this.backendSrv = defaults.backendSrv;\n    this.datasourceId = defaults.datasourceId;\n  }\n\n  generateQueryString = async () => {\n    return this.getResourceQueryString();\n  };\n\n  async getResourceQueryString() {\n    let res: { path?: string; querystring?: any; host?: string; intranet?: boolean } = {};\n    try {\n      const { data } = this.defaults;\n      const payload = typeof data === 'string' ? data : JSON.stringify(data);\n      const resp = await this.backendSrv.datasourceRequest({\n        url: `/api/datasources/${this.datasourceId}/resources/sign_v2`,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        data: {\n          Host: this.defaults.host,\n          Action: this.defaults.action,\n          Version: this.defaults.version,\n          Region: this.defaults.region,\n          Method: this.defaults.method,\n          Uri: this.defaults.path,\n          Query: '',\n          Body: payload,\n        },\n      });\n      res = resp.data;\n    } catch (err) {}\n    const { path, querystring, host, intranet } = res;\n    return { queryString: querystring, path: path, host: host, intranet: intranet };\n  }\n}\n","import _ from 'lodash';\nimport qs from 'qs';\nimport { SERVICES } from '../tc_monitor';\nimport Sign from './sign';\nimport SignV2 from './signV2';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport { getLanguage } from '../../locale';\n\nimport packageInfo from '../plugin.json';\nexport const TcDataSourceId = packageInfo.id;\n\n// the services of tencentcloud monitor api\nconst FINACE_REGIONS = ['ap-shanghai-fsi', 'ap-shenzhen-fsi'];\nconst SERVICES_API_INFO = {\n  api: {\n    service: 'api',\n    version: '2020-11-06',\n    path: '/api',\n    host: 'api.tencentcloudapi.com',\n  },\n  // monitor api info\n  monitor: {\n    service: 'monitor',\n    version: '2018-07-24',\n    path: '/monitor',\n    host: 'monitor.tencentcloudapi.com',\n  },\n  // cls api info\n  cls: {\n    service: 'cls',\n    version: '2020-10-16',\n    path: '/cls',\n    host: 'cls.tencentcloudapi.com',\n  },\n  // cvm api info\n  cvm: {\n    service: 'cvm',\n    version: '2017-03-12',\n    path: '/cvm',\n    host: 'cvm.tencentcloudapi.com',\n  },\n  // cdb api info\n  cdb: {\n    service: 'cdb',\n    version: '2017-03-20',\n    path: '/cdb',\n    host: 'cdb.tencentcloudapi.com',\n  },\n  // pcx api info\n  pcx: {\n    service: 'pcx',\n    version: '',\n    path: '/pcx',\n    host: 'vpc.api.qcloud.com',\n  },\n  // vpc api info\n  vpc: {\n    service: 'vpc',\n    version: '2017-03-12',\n    path: '/vpc',\n    host: 'vpc.tencentcloudapi.com',\n  },\n  // mongodb api info\n  mongodb: {\n    service: 'mongodb',\n    version: '2019-07-25',\n    path: '/mongodb',\n    host: 'mongodb.tencentcloudapi.com',\n  },\n  //  clb\n  clb: {\n    service: 'clb',\n    version: '2018-03-17',\n    path: '/clb',\n    host: 'clb.tencentcloudapi.com',\n  },\n  // postgresql api info\n  postgres: {\n    service: 'postgres',\n    version: '2017-03-12',\n    path: '/postgres',\n    host: 'postgres.tencentcloudapi.com',\n  },\n  // cdn info\n  cdn: {\n    service: 'cdn',\n    version: '2018-06-06',\n    path: '/cdn',\n    host: 'cdn.tencentcloudapi.com',\n  },\n  // redis info\n  redis: {\n    service: 'redis',\n    version: '2018-04-12',\n    path: '/redis',\n    host: 'redis.tencentcloudapi.com',\n  },\n  scf: {\n    service: 'scf',\n    version: '2018-04-16',\n    path: '/scf',\n    host: 'scf.tencentcloudapi.com',\n  },\n  cfs: {\n    service: 'cfs',\n    version: '2019-07-19',\n    path: '/cfs',\n    host: 'cfs.tencentcloudapi.com',\n  },\n  ckafka: {\n    service: 'ckafka',\n    version: '2019-08-19',\n    path: '/ckafka',\n    host: 'ckafka.tencentcloudapi.com',\n  },\n  // \n  dc: {\n    service: 'dc',\n    version: '2018-04-10',\n    path: '/dc',\n    host: 'dc.tencentcloudapi.com',\n  },\n  // cynosdb\n  cynosdb: {\n    service: 'cynosdb',\n    version: '2019-01-07',\n    path: '/cynosdb',\n    host: 'cynosdb.tencentcloudapi.com',\n  },\n  // sqlserver\n  sqlserver: {\n    service: 'sqlserver',\n    version: '2018-03-28',\n    path: '/sqlserver',\n    host: 'sqlserver.tencentcloudapi.com',\n  },\n  // bm\n  bm: {\n    service: 'bm',\n    version: '2018-04-23',\n    path: '/bm',\n    host: 'bm.tencentcloudapi.com',\n  },\n  bmeip: {\n    service: 'bmeip',\n    version: '2018-06-25',\n    path: '/bmeip',\n    host: 'bmeip.tencentcloudapi.com',\n  },\n  bmvpc: {\n    service: 'bmvpc',\n    version: '2018-06-25',\n    path: '/bmvpc',\n    host: 'bmvpc.tencentcloudapi.com',\n  },\n  bmlb: {\n    service: 'bmlb',\n    version: '2018-06-25',\n    path: '/bmlb',\n    host: 'bmlb.tencentcloudapi.com',\n  },\n  // ES\n  es: {\n    service: 'es',\n    version: '2018-04-16',\n    path: '/es',\n    host: 'es.tencentcloudapi.com',\n  },\n  // MapReduce\n  emr: {\n    service: 'emr',\n    version: '2019-01-03',\n    path: '/emr',\n    host: 'emr.tencentcloudapi.com',\n  },\n  // CMQ\n  cmq: {\n    service: 'cmq',\n    version: '2019-03-04',\n    path: '/cmq',\n    host: 'cmq.tencentcloudapi.com',\n  },\n  cbs: {\n    service: 'cbs',\n    version: '2017-03-12',\n    path: '/cbs',\n    host: 'cbs.tencentcloudapi.com',\n  },\n  // tcaplus\n  tcaplusdb: {\n    service: 'tcaplusdb',\n    version: '2019-08-23',\n    path: '/tcaplusdb',\n    host: 'tcaplusdb.tencentcloudapi.com',\n  },\n  // tcaplus\n  dcdb: {\n    service: 'dcdb',\n    version: '2018-04-11',\n    path: '/dcdb',\n    host: 'dcdb.tencentcloudapi.com',\n  },\n  // apigateway\n  apigateway: {\n    service: 'apigateway',\n    version: '2018-08-08',\n    path: '/apigateway',\n    host: 'apigateway.tencentcloudapi.com',\n  },\n  tdmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  tdmq_rabbitmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  tdmq_rocketmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  gaap: {\n    service: 'gaap',\n    version: '2018-05-29',\n    path: '/gaap',\n    host: 'gaap.tencentcloudapi.com',\n  },\n  ecm: {\n    service: 'ecm',\n    version: '2019-07-19',\n    path: '/ecm',\n    host: 'ecm.tencentcloudapi.com',\n  },\n  gse: {\n    service: 'gse',\n    version: '2019-11-12',\n    path: '/gse',\n    host: 'gse.tencentcloudapi.com',\n  },\n  lighthouse: {\n    service: 'lighthouse',\n    version: '2020-03-24',\n    path: '/lighthouse',\n    host: 'lighthouse.tencentcloudapi.com',\n  },\n  tsf: {\n    service: 'tsf',\n    version: '2018-03-26',\n    path: '/tsf',\n    host: 'tsf.tencentcloudapi.com',\n  },\n  rum: {\n    service: 'rum',\n    version: '2021-06-22',\n    path: '/rum',\n    host: 'rum.tencentcloudapi.com',\n  },\n  tke: {\n    service: 'tke',\n    version: '2018-05-25',\n    path: '/tke',\n    host: 'tke.tencentcloudapi.com',\n  },\n  ecdn: {\n    service: 'ecdn',\n    version: '2019-10-12',\n    path: '/ecdn',\n    host: 'ecdn.tencentcloudapi.com',\n  },\n  waf: {\n    service: 'waf',\n    version: '2018-01-25',\n    path: '/waf',\n    host: 'waf.tencentcloudapi.com',\n  },\n  region: {\n    service: 'region',\n    version: '2022-06-27',\n    path: '/region',\n    host: 'region.tencentcloudapi.com',\n  },\n  // lblbvpc\n  // lb: {\n  //   service: 'lb',\n  //   version: '2017-03-12',\n  //   path: '/lb',\n  //   host: 'vpc.tencentcloudapi.com'\n  // }\n  //  lbPrivate\n  // lbPrivate: {\n  //   service: 'lbPrivate',\n  //   version: '2018-03-17',\n  //   path: '/clb',\n  //   host: 'clb.tencentcloudapi.com',\n  // },\n};\n\nconst FINACE_HOST = {\n  scf: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/scf/shanghai',\n      host: 'scf.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/scf/shenzhen',\n      host: 'scf.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cfs: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cfs/shanghai',\n      host: 'cfs.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cfs/shenzhen',\n      host: 'cfs.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  ckafka: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/ckafka/shanghai',\n      host: 'ckafka.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/ckafka/shenzhen',\n      host: 'ckafka.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  clb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/clb/shanghai',\n      host: 'clb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/clb/shenzhen',\n      host: 'clb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  mongodb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/mongodb/shanghai',\n      host: 'mongodb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/mongodb/shenzhen',\n      host: 'mongodb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  vpc: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/vpc/shanghai',\n      host: 'vpc.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/vpc/shenzhen',\n      host: 'vpc.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cvm: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cvm/shanghai',\n      host: 'cvm.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cvm/shenzhen',\n      host: 'cvm.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cdb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cdb/shanghai',\n      host: 'cdb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cdb/shenzhen',\n      host: 'cdb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  monitor: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/monitor/shanghai',\n      host: 'monitor.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/monitor/shenzhen',\n      host: 'monitor.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  postgres: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/postgres/shanghai',\n      host: 'postgres.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/postgres/shenzhen',\n      host: 'postgres.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  emr: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/emr/shanghai',\n      host: 'emr.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/emr/shenzhen',\n      host: 'emr.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cmq: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cmq/shanghai',\n      host: 'cmq.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cmq/shenzhen',\n      host: 'cmq.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cls: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cls/shanghai',\n      host: 'cls.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cls/shenzhen',\n      host: 'cls.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n};\n\n//  API \nexport function GetServiceAPIInfo(region, service) {\n  return { ...(SERVICES_API_INFO[service] || {}), ...getHostAndPath(region, service) };\n}\n\n// get host and path for finance regions\nfunction getHostAndPath(region, service) {\n  if (_.indexOf(FINACE_REGIONS, region) === -1) {\n    return {};\n  }\n  return (\n    _.find(\n      _.find(FINACE_HOST, (__, key) => key === service),\n      (__, key) => key === region\n    ) || {}\n  );\n}\n\n// \nexport const VARIABLE_ALIAS = 'instancealias';\n\nexport function GetServiceFromNamespace(namespace) {\n  return _.get(\n    _.find(SERVICES, (service) => service.namespace === namespace),\n    'service'\n  );\n}\n// targetqce/cvm\nexport function GetLabelFromNamespace(namespace) {\n  return _.get(\n    _.find(SERVICES, (service) => service.namespace === namespace || service.label === namespace),\n    'label'\n  );\n}\n// parse template variable query params\nexport function ParseMetricQuery(query = '') {\n  if (!query) {\n    return {};\n  }\n  const result = {};\n  const queries = _.split(query, '&');\n  _.forEach(queries, (item) => {\n    const str = _.split(item, '=');\n    if (_.trim(_.get(str, '0', ''))) {\n      let val = _.trim(_.get(str, '1', ''));\n      try {\n        val = JSON.parse(val);\n      } catch (e) {\n        // console.log({ val });\n      }\n      result[_.toLower(_.trim(_.get(str, '0', '')))] = val;\n    }\n  });\n  return result;\n}\n\n// parse template variable regex params\nexport function ParseMetricRegex(regex = '') {\n  if (!regex) {\n    return [];\n  }\n  regex = regex.replace(//g, ':');\n  regex = regex.replace(//g, ',');\n  const regexParams = ParseMetricQuery(regex);\n  const result: any[] = [];\n  _.forEach(regexParams, (value, key) => {\n    if (key === 'tag:tag-key') {\n      const valuesArr = _.split(value, ',');\n      _.forEach(valuesArr, (item) => {\n        const temp = _.split(item, ':');\n        if (temp.length === 2) {\n          result.push({ Name: `tag:${temp[0]}`, Values: temp.slice(1) });\n        }\n      });\n    } else {\n      result.push({ Name: key, Values: _.split(value, ',') });\n    }\n  });\n  return result;\n}\n\n// get the actual value of template variable\nfunction parseVariableFormat(varname: string) {\n  varname = String(varname || '');\n  // $varname\n  let varFlag = false;\n  const regResult1 = varname.match(/^\\${?(\\w+)}?/);\n  if (regResult1) {\n    varFlag = true;\n    varname = `\\$\\{${regResult1[1]}\\:json\\}`;\n  }\n  // [[varname]]\n  const regResult2 = varname.match(/^\\[\\[(\\w+)(\\:\\w+)?\\]\\]/);\n  if (regResult2) {\n    varFlag = true;\n    varname = `\\$\\{${regResult2[1]}\\:json\\}`;\n  }\n  return { varname, varFlag };\n}\n\nexport function ReplaceVariable(templateSrv, scopedVars, field, multiple = false) {\n  const { varname, varFlag } = parseVariableFormat(field);\n  let replaceVar = templateSrv.replace(varname, scopedVars);\n  if (varFlag) {\n    try {\n      replaceVar = JSON.parse(replaceVar);\n    } catch (error) {}\n  }\n  if (!multiple && _.isArray(replaceVar)) {\n    replaceVar = _.get(replaceVar, '0', '');\n  }\n  return replaceVar;\n}\n\n// get dimensions for instance query param\nexport function GetDimensions(obj) {\n  if (_.isEmpty(obj)) {\n    return [];\n  }\n  const dimensions: any[] = [];\n  _.forEach(obj, (item) => {\n    if (item.Value !== null && item.Value !== undefined && item.Value !== '') {\n      dimensions.push({ Name: item.Name, Value: typeof item.Value === 'string' ? item.Value : `${item.Value}` });\n    }\n  });\n  return dimensions;\n}\n\n// parse query data result for panel\nexport function ParseQueryResult(response, instances: any[] = [], timeshift = 0) {\n  const instanceList = _.cloneDeep(instances);\n\n  const dataPoints = _.get(response, 'DataPoints', []);\n  return _.map(dataPoints, (dataPoint) => {\n    let instanceAliasValue = _.get(dataPoint, 'Dimensions[0].Value');\n    for (let i = 0; i < instanceList.length; i++) {\n      if (isInstanceMatch(instanceList[i], _.get(dataPoint, 'Dimensions', []))) {\n        instanceAliasValue = instanceList[i]._InstanceAliasValue;\n        instanceList.splice(i, 1);\n        break;\n      }\n    }\n    return {\n      target: `${response.MetricName} - ${instanceAliasValue}`,\n      datapoints: parseDataPoint(dataPoint, timeshift),\n    };\n  });\n}\n\n// parse tencent cloud monitor response data to grafana panel data\nfunction parseDataPoint(dataPoint, timeshift = 0) {\n  const timestamps = _.get(dataPoint, 'Timestamps', []);\n  const values = _.get(dataPoint, 'Values', []);\n  const result = timestamps.map((timestamp, index) => {\n    return [values[index], timestamp * 1000 + timeshift];\n  });\n\n  return result;\n}\n\n// check whether instance is match or not\nfunction isInstanceMatch(instance, dimensions) {\n  let match = true;\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < dimensions.length; i++) {\n    if (_.get(instance, dimensions[i].Name, '').toString() !== dimensions[i].Value.toString()) {\n      match = false;\n      break;\n    }\n  }\n  return match;\n}\n\n/**\n *  ${varnam}  [[varname]]\n *\n * @param field \n */\nexport function isVariable(value) {\n  if (value && (value.match(/^\\${?(\\w+)}?/) || value.match(/^\\[\\[(\\w+)(\\:\\w+)?\\]\\]/))) {\n    return true;\n  }\n  return false;\n}\n\n/**\n *  API 3.0 \n * @param options  { url: string, data?: object }\n * @param service  'cvm'\n * @param signObj  { region?: string, action: string }\n * @param secretId\n * @param secretKey\n */\nexport async function GetRequestParams(options, service, signObj: any = {}, secretId, datasourceId, backendSrv) {\n  const signParams = {\n    secretId,\n    payload: options.data || '',\n    ...signObj,\n    ...(_.pick(GetServiceAPIInfo(signObj.region || '', service), ['service', 'host', 'version']) || {}),\n    backendSrv,\n    datasourceId,\n  };\n  const sign = new Sign(signParams);\n  const { intranet, ...headerSigned } = await sign.getHeader();\n  // x-tc-language\n  // zh-CN en-US ko-KR ja-JP\n  options.headers = Object.assign(options.headers || {}, { ...headerSigned }, { 'x-tc-language': getLanguage() });\n  options.method = 'POST';\n  if (intranet) {\n    options.url += '-internal';\n  }\n  return options;\n}\n\n/**\n *   API 2.0 \n * @param options  { url: string, data?: object }\n * @param service  'cvm'\n * @param signObj  { region?: string, action: string }\n * @param secretId\n * @param secretKey\n */\nexport async function GetRequestParamsV2(\n  options: any = {},\n  service,\n  signObj: any = {},\n  secretId,\n  datasourceId,\n  backendSrv\n) {\n  const data = options.data || {};\n  const signParams = {\n    secretId,\n    data,\n    ...signObj,\n    ...(_.pick(GetServiceAPIInfo(signObj.region || '', service), ['host', 'version']) || {}),\n    backendSrv,\n    datasourceId,\n  };\n  options.method = 'POST';\n  const sign = new SignV2(signParams);\n  options.headers = Object.assign(options.headers || {}, { 'Content-Type': 'application/x-www-form-urlencoded' });\n  const { queryString, path, host, intranet } = await sign.generateQueryString();\n  options.data = qs.stringify({\n    ...options.data,\n    ...queryString,\n    ...(host && { host: host }),\n  });\n  if (intranet) {\n    // TODO: qcloud.com intranet host\n    console.log('got intranet for sign v2');\n  }\n  options.url += path;\n  return options;\n}\n\nexport function SliceLength(total = 0, len = 1) {\n  const result: any[] = [];\n  const num = Math.ceil(total / len);\n  for (let i = 1; i < num; i++) {\n    result.push({ Offset: len * i });\n  }\n  return result;\n}\n\nexport const FilterKeys = ['Namespace', 'Offset', 'Limit', 'SearchKey', 'Description', 'OrderBy', 'Order'];\n\nexport function parseDataFromBackendPlugin(res) {\n  const { data } = toDataQueryResponse(res);\n  return {\n    authorization: _.get(data, '[0].meta.custom', ''),\n  };\n}\n\n/**  */\nexport const IS_DEVELOPMENT_ENVIRONMENT = !(process.env.NODE_ENV === 'production');\n\n/**\n * @link https://github.com/grafana/grafana/blob/3c6e0e8ef85048af952367751e478c08342e17b4/packages/grafana-data/src/types/app.ts#L12\n */\nexport enum CoreApp {\n  CloudAlerting = 'cloud-alerting',\n  UnifiedAlerting = 'unified-alerting',\n  Dashboard = 'dashboard',\n  Explore = 'explore',\n  Unknown = 'unknown',\n  PanelEditor = 'panel-editor',\n  PanelViewer = 'panel-viewer',\n}\n","import _ from 'lodash';\nimport moment from 'moment';\nimport DatasourceInterface from '../MonitorDatasource';\nimport {\n  GetRequestParams,\n  GetServiceAPIInfo,\n  ReplaceVariable,\n  GetDimensions,\n  ParseQueryResult,\n  SliceLength,\n} from '../../common/constants';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { MetricQuery } from './types';\nimport { getNamesapceFromService, getTimeShiftInMs } from '../../common/utils';\nimport { Language, setLanguage } from '../../../locale';\n\nexport interface TemplateQueryIdType {\n  instance: string;\n  listener?: string;\n}\n\ninterface queryConfigType {\n  dim_KeyInStorage: string;\n  dim_KeyInTarget?: string;\n  dim_KeyInIns?: string;\n  dim_KeyInMap: string;\n}\n\nexport abstract class BaseDatasource implements DatasourceInterface {\n  Namespace?: string;\n  service: string;\n  instanceListCache: any[] = [];\n  extraMetricDims: string[] = [];\n  url: string;\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n  secretId: string;\n  checkKeys: string[] = [];\n  MetricReqConfig: {\n    resultFilter?: Function;\n  } = {};\n  extrasAlias?: string[] = [];\n  /*\n  (InstanceId)(RecordkeyInvalidDemsion)\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget getVariableListnerIdLis-xxxxSTATEkeyInvalidDemsionkey\n  3 dim_KeyInMap valueIDsourceMapListkeyListenerIdtemplateQueryIdMap2sourceMap\n  4 dimsourceMapsourceMap[dim]\n  */\n  queryMonitorExtraConfg: Record<string, queryConfigType> = {};\n  CandiateDimensions?: Record<string, string> = {};\n\n  InstanceReqConfig?: {\n    service?: string;\n    action: string;\n    responseField: string;\n    interceptor?: {\n      request?: (params: unknown) => unknown;\n      response?: (data: unknown) => unknown;\n    };\n  };\n  InvalidDimensions?: Record<string, string>;\n\n  abstract InstanceAliasList: string[];\n  abstract templateQueryIdMap: TemplateQueryIdType; // \n\n  /** @ngInject */\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    this.instanceSettings = instanceSettings;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    this.url = instanceSettings.url;\n    this.secretId = (instanceSettings.jsonData || {}).secretId || '';\n    setLanguage(instanceSettings.jsonData.language || Language.Chinese);\n  }\n\n  get namespace() {\n    // this.service\n    return this.Namespace || getNamesapceFromService(this.service);\n  }\n\n  // \n  getOtherAlias(instance: any, target: any): string {\n    let result = '';\n    const alias = instance._InstanceAliasValue;\n    this.extrasAlias?.forEach((extra) => {\n      const extraAlia = this.getVariable(target[extra]);\n      if (extraAlia && alias.indexOf(extraAlia) === -1) {\n        result += ` - ${extraAlia}`;\n      }\n    });\n    return result;\n  }\n\n  /*  */\n  getAliasValue(instance: Record<string, any>, alias: string) {\n    const result = instance[alias];\n    return Array.isArray(result) ? result.join() : result;\n  }\n\n  formatVarDisplay(instance: Record<string, any>, displayTpl: string | undefined, instanceAlias: string) {\n    // display=aaa${InstanceName}bbb${InstanceId}ccc\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !this.InstanceAliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(instance, b);\n      });\n    }\n    return this.getAliasValue(instance, instanceAlias);\n  }\n  /**\n   * @param query  Query \n   */\n  async metricFindQuery(query: MetricQuery, regex?: string) {\n    const { action, namespace, display, payload = {} } = query;\n    let { region, instancealias = this.templateQueryIdMap.instance } = query;\n    if (!action || !namespace) {\n      return [];\n    }\n    // payload\n    if (_.isObject(payload)) {\n      _.forEach(payload, (value, key) => {\n        payload[key] = _.isString(value) ? this.getVariable(value) : value;\n      });\n    }\n\n    // \n    const regionQuery = action.match(/^DescribeRegions$/i);\n    if (regionQuery) {\n      return this.getRegions();\n    }\n\n    region = this.getVariable(region); // region\n\n    // \n    if (region && action.match(/^DescribeInstances/i)) {\n      const result = await this.getVariableInstances(region, payload);\n      instancealias = this.InstanceAliasList.includes(instancealias) ? instancealias : this.templateQueryIdMap.instance;\n\n      const res = result.flatMap((item) => {\n        const insAlias = this.formatVarDisplay(item, display, instancealias);\n\n        item._InstanceAliasValue = insAlias; // FIXME:\n\n        if (!item[instancealias]) return [];\n        return [\n          {\n            text: insAlias,\n            value: item[this.templateQueryIdMap.instance],\n          },\n        ];\n      });\n\n      // \n      await instanceStorage.setInstance(this.service, result);\n      return res;\n    }\n\n    // instance\n    let instance = this.getVariable(query['instance']);\n    if (_.isArray(instance)) instance = instance[0]; // \n    if (region && action && instance) {\n      try {\n        // instance = JSON.parse(instance);\n        const instanceCache = await instanceStorage.getInstance(this.service);\n\n        instance = _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === instance)) ?? {};\n        // eslint-disable-next-line no-empty\n      } catch (error) {}\n      return this.fetchMetricData(action, region, instance, query);\n    }\n\n    return Promise.resolve([]);\n  }\n  // \n  async fetchMetricData(action: string, region: string, instance: any, query?: any) {\n    return [];\n  }\n\n  /**\n   *  Panel \n   *\n   * @param options Panel \n   * @return \n   * [\n   *   {\n   *     \"target\": \"AccOuttraffic - ins-123\",\n   *     \"datapoints\": [\n   *       [861, 1450754160000],\n   *       [767, 1450754220000]\n   *     ]\n   *   }\n   * ]\n   */\n  async dimensionsFormat(dimKeys, ins, dimensionObject, target, service, options) {\n    for (let key of dimKeys) {\n      let keyTmp = key;\n      const invalidDim = this.InvalidDimensions || this.getInvalidDimensions(this, target[service]);\n      if (invalidDim[key]) {\n        //  { functionName: FunctionName }\n        keyTmp = invalidDim[key];\n        ins[key] = ins[keyTmp];\n      }\n\n      let extraDimValue = this.getVariable(target[service][keyTmp]);\n      if (this.queryMonitorExtraConfg[keyTmp]) {\n        const {\n          dim_KeyInStorage,\n          dim_KeyInTarget = keyTmp,\n          dim_KeyInMap,\n          dim_KeyInIns,\n        } = this.queryMonitorExtraConfg[keyTmp];\n        let extraIns = ReplaceVariable(this.templateSrv, options.scopedVars, target[service][dim_KeyInTarget], true);\n        let extraSourceMap: any = {};\n        try {\n          extraSourceMap = JSON.parse(extraIns); // json \n        } catch (error) {\n          if (_.isArray(extraIns)) extraIns = extraIns[0]; // ID \n          const extraStorage = await instanceStorage.getExtraStorage(this.service, dim_KeyInStorage);\n\n          extraSourceMap =\n            extraStorage?.find((item) => {\n              if (_.isArray(item[dim_KeyInMap])) {\n                return item[dim_KeyInMap][0] === extraIns;\n              }\n              return item[dim_KeyInMap] === extraIns;\n            }) ?? {};\n        }\n        const isStringOrNumber = _.isString(extraSourceMap) || _.isNumber(extraSourceMap);\n        // insaliasins._InstanceAliasValue\n        const insAlias = ins._InstanceAliasValue;\n        const otherAlias = isStringOrNumber ? extraSourceMap : extraSourceMap._InstanceAliasValue;\n        if (otherAlias && insAlias.indexOf(otherAlias) === -1) {\n          ins._InstanceAliasValue += ` - ${otherAlias}`;\n        }\n\n        extraDimValue = isStringOrNumber ? extraSourceMap : extraSourceMap?.[dim_KeyInIns || keyTmp];\n      } else {\n        ins._InstanceAliasValue += this.getOtherAlias(ins, target[service]);\n      }\n\n      if (\n        getTimeShiftInMs(target[service].timeshift) > 0 &&\n        ins._InstanceAliasValue.indexOf(target[service].timeshift) === -1\n      ) {\n        ins._InstanceAliasValue += `_${target[service].timeshift}`;\n      }\n      // instance\n      // ins[key] = ins[keyTmp] ?? extraDimValue;\n      ins[key] = this.getDimensionsVal(ins, keyTmp, extraDimValue);\n      // cynosdb\n      if (this.checkKeys.length > 0) {\n        this.checkKeys.forEach((Ekey) => {\n          ins[Ekey] = ins[key];\n        });\n      }\n      dimensionObject[key] = { Name: key, Value: ins[key] };\n    }\n    return dimensionObject;\n  }\n  getDimensionsVal(ins: Record<string, any>, key: string, extraDimValue: string) {\n    let dimVal = ins[key];\n    if (_.isEmpty(dimVal) && this.CandiateDimensions[key]) {\n      dimVal = ins[this.CandiateDimensions[key]];\n    }\n    return dimVal ?? extraDimValue;\n  }\n  query(options: any) {\n    const service = this.service!; // \n\n    const queries = _.filter(options.targets, (item) => {\n      //  target\n      return (\n        item.hide !== true &&\n        !!item.namespace &&\n        !!item[service].metricName &&\n        !_.isEmpty(ReplaceVariable(this.templateSrv, options.scopedVars, item[service].region, false)) &&\n        !_.isEmpty(ReplaceVariable(this.templateSrv, options.scopedVars, item[service].instance, true))\n      );\n    })\n      .reduce((prev, target) => {\n        if (getTimeShiftInMs(target[service].timeshift) > 0) {\n          const cloneTarget = _.cloneDeep(target);\n          cloneTarget[service].timeshift = '';\n          return [...prev, cloneTarget, target];\n        }\n        return [...prev, target];\n      }, [])\n      .map(async (target) => {\n        //  instances \n        // JSONid\n        let instances = ReplaceVariable(this.templateSrv, options.scopedVars, target[service].instance, true);\n        const instanceCache = await instanceStorage.getInstance(this.service);\n        const timeshift = getTimeShiftInMs(target[service].timeshift);\n\n        instances = [].concat(instances).map((inst) => {\n          try {\n            return JSON.parse(inst); // json \n          } catch (error) {\n            // \n            if (!instanceCache) return this.getDefaultInsObj?.(inst);\n            return _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === inst)) ?? {};\n          }\n        });\n        const region = ReplaceVariable(this.templateSrv, options.scopedVars, target[service].region, false);\n        const insInReq: any = [];\n        for (let ins of instances) {\n          const dimensionObject = target[service].dimensionObject;\n          // dimensions\n          const dimKeys = Object.keys(dimensionObject);\n          const dimResult = await this.dimensionsFormat(dimKeys, ins, dimensionObject, target, service, options);\n\n          insInReq.push([{ Dimensions: GetDimensions(dimResult) }]);\n        }\n        const data = {\n          StartTime: moment(options.range.from).subtract(timeshift).format(),\n          EndTime: moment(options.range.to).subtract(timeshift).format(),\n          Period: target[service].period || 300,\n          Instances: _.flatMap(insInReq),\n          Namespace: target.namespace,\n          MetricName: target[service].metricName,\n        };\n        return this.getMonitorData(data, region, instances, target[service], options);\n      });\n\n    if (queries.length === 0) {\n      return [];\n    }\n\n    return Promise.all(queries)\n      .then((responses) => {\n        return _.flatten(responses);\n      })\n      .catch((error) => {\n        return [];\n      });\n  }\n  getDefaultInsObj(ins: string) {\n    return {} as any;\n  }\n  getInstanceReqConfig(selfIns: any) {\n    return {} as any;\n  }\n  getInvalidDimensions(selfIns: any, target?: any) {\n    return {} as any;\n  }\n  // this.templateSrv.replace() \n  getVariable(metric?: string) {\n    const rs = this.templateSrv.replace((metric || '').trim());\n    const valStr = rs.match(/\\{([\\w-,]+)\\}/);\n    // \n    if (valStr) {\n      return valStr[1].split(',');\n    }\n    return rs;\n  }\n\n  /**\n   *  \n   * @param params \n   * @param region \n   * @param instances \n   */\n  getMonitorData(params, region, instances, target, options) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const timeshift = getTimeShiftInMs(target.timeshift);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { action: 'GetMonitorData', region }\n    ).then((response) => {\n      return ParseQueryResult(response, instances, timeshift);\n    });\n  }\n\n  getRegions(): any {\n    return this.doRequest(\n      {\n        url: this.url + '/cvm',\n      },\n      'cvm',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getMetrics(region = 'ap-guangzhou'): Promise<any> {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: this.namespace,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    ).then((response) => {\n      const res = _.filter(\n        _.filter(response.MetricSet || [], (item) => !(item.Namespace !== this.namespace || !item.MetricName))\n      );\n      const resFilterFn = this.MetricReqConfig.resultFilter;\n      if (resFilterFn) {\n        return res.map((item) => resFilterFn(item));\n      }\n      return res;\n    });\n  }\n\n  getInstances(region, params = {}) {\n    const {\n      service = this.service,\n      action,\n      responseField: field,\n      interceptor,\n    } = this.InstanceReqConfig || this.getInstanceReqConfig(this);\n    params = { Offset: 0, Limit: 100, ...params };\n    const serviceInfo = GetServiceAPIInfo(region, service);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: interceptor?.request ? interceptor.request(params) : params,\n      },\n      serviceInfo.service,\n      { region, action }\n    ).then((response) => {\n      // \n      if (response?.Error) {\n        console.error(response.Error);\n        return response;\n      }\n\n      let result;\n      // field\n      if (field) {\n        result = _.get(response, field) ?? _.get(response, `Result.${field}`) ?? [];\n      }\n\n      // \n      if (interceptor?.response) {\n        result = interceptor.response(result);\n      }\n      return result;\n    });\n  }\n\n  getVariableInstances(region, query = {}): Promise<any[]> {\n    let result: any[] = [];\n    const params = { ...{ Offset: 0, Limit: 100 }, ...query };\n\n    const {\n      service = this.service,\n      action,\n      responseField: field,\n      interceptor,\n    } = this.InstanceReqConfig || this.getInstanceReqConfig(this);\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: interceptor?.request ? interceptor.request(params) : params,\n      },\n      serviceInfo.service,\n      { region, action }\n    ).then((response) => {\n      result = _.get(response, field) ?? _.get(response, `Result.${field}`) ?? [];\n      const total =\n        response.TotalCount ?? response.TotalCnt ?? response.TotalNumber ?? _.get(response, `Result.TotalCount`) ?? 0;\n      if (result.length >= total) {\n        return interceptor?.response ? interceptor.response(result) : result;\n      } else {\n        const param = SliceLength(total, params?.Limit || 100);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getInstances(region, { ...item, ...query }));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return interceptor?.response ? interceptor.response(result) : result;\n          })\n          .catch((error) => {\n            return interceptor?.response ? interceptor.response(result) : result;\n          });\n      }\n    });\n  }\n\n  // \n  isValidConfigField(field: string) {\n    return field && field.length > 0;\n  }\n\n  testDatasource() {\n    // const { service = this.service, action } = this.InstanceReqConfig;\n    // const serviceInfo = GetServiceAPIInfo('ap-guangzhou', service);\n\n    if (!this.isValidConfigField(this.secretId)) {\n      return {\n        service: this.service,\n        status: 'error',\n        message: 'The SecretId/SecretKey field is required.',\n      };\n    }\n\n    return Promise.all([\n      this.getRegions(),\n      this.getMetrics(),\n      // this.doRequest(\n      //   {\n      //     url: this.url + serviceInfo.path,\n      //     data: {\n      //       Offset: 0,\n      //       Limit: 1,\n      //     },\n      //   },\n      //   service,\n      //   { region: 'ap-guangzhou', action },\n      // ),\n      this.getInstances('ap-guangzhou', {\n        Offset: 0,\n        Limit: 1,\n      }),\n    ])\n      .then((responses) => {\n        const cvmErr = _.get(responses, '[0].Error', {});\n        const monitorErr = _.get(responses, '[1].Error', {});\n        const serviceErr = _.get(responses, '[2].Error', {});\n        // const cvmAuthFail = _.get(cvmErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        // const monitorAuthFail = _.get(monitorErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        // const serviceAuthFail = _.get(serviceErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        const cvmAuthFail = _.get(cvmErr, 'Code', '');\n        const monitorAuthFail = _.get(monitorErr, 'Code', '');\n        const serviceAuthFail = _.get(serviceErr, 'Code', '');\n        if (cvmAuthFail || monitorAuthFail || serviceAuthFail) {\n          const messages: any[] = [];\n          if (cvmAuthFail) {\n            messages.push(_.get(cvmErr, 'Code'));\n          }\n          if (monitorAuthFail) {\n            messages.push(_.get(monitorErr, 'Code'));\n          }\n          if (serviceAuthFail) {\n            messages.push(_.get(serviceErr, 'Code'));\n          }\n          const message = _.join(_.compact(_.uniq(messages)), '; ');\n          return {\n            service: this.service,\n            status: 'error',\n            message,\n          };\n        } else {\n          return {\n            namespace: this.namespace,\n            service: this.service,\n            status: 'success',\n            message: `Successfully queried the ${this.service} service.`,\n            title: 'Success',\n          };\n        }\n      })\n      .catch((error) => {\n        let message = `${this.service} service:`;\n        message += error.statusText ? error.statusText + '; ' : '';\n        if (_.get(error, 'data.error.code', '')) {\n          message += error.data.error.code + '. ' + error.data.error.message;\n        } else if (_.get(error, 'data.error', '')) {\n          message += error.data.error;\n        } else if (_.get(error, 'data', '')) {\n          message += error.data;\n        } else {\n          message += `Cannot connect to ${this.service} service.`;\n        }\n        return {\n          service: this.service,\n          status: 'error',\n          message: message,\n        };\n      });\n  }\n\n  async doRequest(options, service, signObj: any = {}) {\n    options = await GetRequestParams(\n      options,\n      service,\n      signObj,\n      this.secretId,\n      this.instanceSettings.id,\n      this.backendSrv\n    );\n    return this.backendSrv\n      .datasourceRequest(options)\n      .then((response) => {\n        return _.get(response, 'data.Response', {});\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n","import _ from 'lodash';\nimport { SERVICES } from '../tc_monitor';\n\n/*  */\nconst PageSize = 50;\nfunction getFieldsValue(value, fields) {\n  return fields.map((item) => _.get(value, item, _.get(value, `Result.${item}`, [])));\n}\n\nexport async function fetchAllFactory(fetcher: (args: any) => Promise<any>, _params: any, field: string | string[]) {\n  const params = { ..._.omit(_params, ['isOffsetPage']) };\n  params.Limit = params.Limit || PageSize; // Limit50\n  params.Offset = params.Offset ?? 0; // Offset0\n\n  // \n  const rs = (await fetcher(params)) ?? {};\n  const fields = Array.isArray(field) ? field : [field];\n\n  // rs.TotalCount = rs.TotalCount ?? rs.Result.TotalCount ?? [];\n  // const { TotalCount } = rs;\n  const TotalCount = rs.TotalCount ?? rs.Result?.TotalCount ?? rs.TotalCnt ?? rs.Result?.TotalCnt ?? 0;\n  const firstLists = getFieldsValue(rs, fields);\n\n  if (TotalCount === 0 || firstLists[0].length === TotalCount) {\n    // \n    return firstLists;\n  }\n\n  // \n  const delta = TotalCount - firstLists[0].length;\n  const batchCount = Math.ceil(delta / PageSize);\n  const pmList = new Array(batchCount).fill(0).map((_, index) => {\n    params.Offset = _params.isOffsetPage ? 1 + index : (1 + index) * params.Limit;\n    return fetcher(params);\n  });\n\n  // \n  const resultList = await Promise.all(pmList); // [ {a: [], b[] }, { a: [], b:[] }]\n\n  return resultList.reduce((acc, cur) => {\n    const lists = getFieldsValue(cur, fields);\n    // [[], [], []] + [[], [], []]\n    acc.forEach((list, index) => list.push(...lists[index]));\n    return acc;\n  }, firstLists);\n}\n\n/**\n * \n *\n * @param queries \n * @param isFilter Filters\n */\nexport function instanceQueryParamsBaseParse(queries: any, isFilter: boolean) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    const Filters: any[] = [];\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          if (isFilter) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          } else {\n            params[key] = _.uniq(item);\n          }\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          if (isFilter) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          } else {\n            params[key] = _.get(item, 'value');\n          }\n        }\n      } else if (item !== null && item !== undefined && item !== '') {\n        if (isFilter) {\n          Filters.push({ Name: key, Values: item });\n        } else {\n          params[key] = item;\n        }\n      }\n    });\n    if (isFilter && Filters.length > 0) {\n      params.Filters = Filters;\n      return params;\n    }\n  }\n  return params;\n}\n\nexport function getNamesapceFromService(serviceName: string) {\n  return _.get(\n    _.find(SERVICES, (service) => service.service === serviceName),\n    'namespace'\n  );\n}\n\nexport function serviceGroupBy(\n  services: { service: string; label: string; namespace: string; href: string; groupName?: string }[]\n) {\n  const result = services.reduce((acc, cur) => {\n    const { namespace, label, groupName = label } = cur;\n\n    const existedGroup = acc.find((item) => item.label === groupName);\n    if (!existedGroup) {\n      acc.push({ label: groupName, value: groupName, items: [{ label, value: namespace }] });\n      return acc;\n    }\n\n    existedGroup.items.push({ label, value: namespace });\n    return acc;\n  }, [] as any[]);\n\n  // \n  const rs = result.map((item) =>\n    item.items.length === 1 ? { label: item.items[0].label, value: item.items[0].value } : item\n  );\n  return rs;\n}\n\nexport const isTargetEqual = (newTargetString: string, oldTargetString: string, key: string) => {\n  try{\n    const newTarget = JSON.parse(newTargetString);\n    const oldTarget = JSON.parse(oldTargetString);\n    return newTarget[key] === oldTarget[key];\n  }catch(e){\n    return newTargetString === oldTargetString;\n  }\n}\n\nexport const getTimeShiftInMs = (timeShift: any) => {\n  const parts = /^(\\d+)([d|h|m|s])$/.exec(timeShift);\n  if (!parts) {\n    return 0;\n  }\n  const amount = parseInt(parts[1], 10);\n  const unit = parts[2];\n  switch (unit) {\n    case 'd':\n      return amount * 86400 * 1000;\n    case 'h':\n      return amount * 3600 * 1000;\n    case 'm':\n      return amount * 60 * 1000;\n    case 's':\n      return amount * 1000;\n  }\n  return 0;\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","import coreModule from 'grafana/app/core/core_module';\nimport { DetailQueryConfig } from './types';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nfunction classFactory(detailConfig) {\n  return class QueryCtrl {\n    static _config: DetailQueryConfig;\n\n    /** @ngInject */\n    constructor($scope, $rootScope) {\n      Object.assign($scope, detailConfig);\n\n      $scope.getDropdown = (field) => {\n        const service = GetServiceFromNamespace($scope.namespace);\n        return $scope.datasource.getFilterDropdown(service, { field, region: $scope.region });\n      };\n    }\n  };\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"{{instanceDocUrl}}\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in fieldDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownMulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <gf-form-dropdown \n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\" \n        allow-custom=\"true\" \n        lookup-text=\"true\" \n        get-options=\"getDropdown(field.key)\" \n        css-class=\"min-width-10\"\n        on-change=\"onChange()\">\n      </gf-form-dropdown>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n      <gf-form-switch \n        ng-if=\"field.type === 'switch'\"\n        class=\"gf-form tc-switch\" \n        label-class=\"width-7\" \n        checked=\"target.queries[field.key]\" \n        switch-class=\"max-width-5\"\n      ></gf-form-switch>\n    </div>\n  </div>\n</div>\n  </div>\n`;\nfunction queryDDOFactory(QueryCtrl) {\n  return function queryDDO() {\n    return {\n      template: template,\n      controller: QueryCtrl,\n      restrict: 'E',\n      scope: {\n        target: '=',\n        showDetail: '=',\n        region: '=',\n        datasource: '=',\n        getDropdownOptions: '&',\n        onChange: '&',\n      },\n    };\n  };\n}\n\nexport default (name: string, config: DetailQueryConfig) => {\n  // QueryCtrl._config = config;\n  const newQueryIns = classFactory(config);\n  coreModule.directive(name, queryDDOFactory(newQueryIns));\n};\n","interface DBEvent {\n  target: { result: any; error: any };\n}\n// \ninterface DBTypes {\n  store: StoreType;\n  name?: string;\n  version?: number;\n}\n// store\ninterface StoreType {\n  name: string; // \n  key: string; // \n  cursorIndex?: { name: string; unique: boolean }[]; // \n}\n\n// \n// {service: 'cvm', instance: [{ins: 23}]}\ninterface DataType {\n  service: string;\n  [x: string]: any; // \n}\n\n// interface UpdateProps {\n//   storeName: string;\n//   cursorKey: string;\n//   cursorValue?: any;\n//   data: any;\n// }\n\nconst store: StoreType = {\n  name: 'grafanaInstanceList',\n  key: 'service',\n};\nconst promisify = (request: any, type?: string) => {\n  return new Promise<any>((resolve, reject) => {\n    request.onsuccess = (event: DBEvent) => {\n      const returnMap: any = {\n        event: event.target.result,\n        request: request.result,\n        msg: '',\n      };\n      resolve(returnMap[type || 'msg']);\n    };\n    request.onerror = (event: DBEvent) => reject(event.target.error || '');\n  });\n};\n// \nclass IndexedDB {\n  name = 'grafanaDatabase';\n  version = 1;\n\n  constructor(props: DBTypes) {\n    const { name = 'database', version = 1, store } = props;\n    this.name = name;\n    this.version = version;\n\n    this.initDB(store);\n  }\n\n  /**\n   * \n   * @param store \n   */\n  initDB(store: StoreType) {\n    const indexeddb = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;\n    const request = indexeddb.open(this.name, this.version);\n\n    request.onupgradeneeded = (event: IDBVersionChangeEvent) => {\n      const db = (event.target as IDBOpenDBRequest).result;\n      if (db.objectStoreNames.contains(store.name)) {\n        // store\n      }\n\n      //  store\n      db.createObjectStore(store.name, {\n        keyPath: store.key,\n      });\n    };\n    request.onerror = () => Promise.reject(new Error(''));\n    request.onsuccess = () => Promise.resolve('');\n  }\n\n  openDB() {\n    const indexeddb = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;\n    const request = indexeddb.open(this.name, this.version);\n\n    return promisify(request, 'event');\n  }\n\n  /**\n   * \n   * @param storeName \n   * @param data \n   */\n  async insertData(storeName: string, data: any) {\n    try {\n      // console.time('insertData');\n      const db = await this.openDB();\n      const transaction = db.transaction(storeName, 'readwrite');\n      const objectStore = transaction.objectStore(storeName);\n\n      objectStore.add(data);\n      // console.timeEnd('insertData');\n\n      return new Promise((resolve, reject) => {\n        transaction.oncomplete = function () {\n          // console.timeEnd('insertData');\n          resolve('');\n        };\n\n        transaction.onerror = function (event) {\n          reject(event);\n        };\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  /**\n   * \n   * @param props \n   */\n  async addData(data: DataType, isCover?: boolean) {\n    try {\n      // console.log('addData');\n      const storeName = store.name; // \n      const oldData = await this.getData(data.service);\n      const objectStore = await this.getObjectStore(storeName, 'readwrite');\n\n      if (!oldData) {\n        // \n        this.insertData(storeName, data);\n      }\n      // \n      let newData: any = { ...oldData, ...data };\n      if (isCover) newData = data; // \n      // \n      const requestUpdate = objectStore.put(newData);\n      // console.timeEnd('updateData');\n      return promisify(requestUpdate);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  /**\n   * \n   * @param storeName /\n   * @param cursorKey key\n   * @param cursorValue \n   */\n  async getData(seviceName: string) {\n    try {\n      // console.time('getData');\n      const storeName = store.name;\n      const objectStore = await this.getObjectStore(storeName);\n      const request = objectStore.get(seviceName);\n      // console.timeEnd('getData');\n      return promisify(request, 'request');\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  async getAllData(storeName: string) {\n    try {\n      // console.time('getAllData');\n      const objectStore = await this.getObjectStore(storeName);\n      const request = objectStore.getAll();\n      const result = await promisify(request, 'request');\n      // console.timeEnd('getAllData');\n      return result ? result : [];\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * \n   * @param storeName \n   * @param type readonly  readwrite\n   */\n  private async getObjectStore(storeName: string, type?: any): Promise<IDBObjectStore> {\n    try {\n      const db = await this.openDB();\n      return db.transaction(storeName, type).objectStore(storeName);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n}\n// console.log('testDDB')\n// const indexDB = new IndexedDB({store});\n// indexDB.addData({service: 'cvm', instance: [{ins: 23}]}).then(e=>{\n//   indexDB.getData('cvm').then(dd=>{console.log({dd})})\n// })\nexport default new IndexedDB({ store });\n","import indexedDB from './indexedDB';\nclass InstanceStorage {\n  // prefix = 'Datasource';\n  // storageKey = 'grafanaInstanceCache';\n  insKey = 'Instances';\n  cacheWay = '';\n  constructor() {}\n  setInstance(service: string, value: Record<string, any>) {\n    return this.setStorage(service, this.insKey, value, true);\n  }\n  async getInstance(service: string) {\n    return this.getStorage(service, this.insKey);\n  }\n  setExtraStorage(service: string, Ekey: string, EValue: Record<string, any>) {\n    return this.setStorage(service, Ekey, EValue, false);\n  }\n  async getExtraStorage(service: string, Ekey: string) {\n    return this.getStorage(service, Ekey);\n  }\n  private setStorage(serviceKey: string, key: string, value: Record<string, any>, isCover = false) {\n    // console.log('set', serviceKey, key, value);\n    return indexedDB.addData(\n      {\n        service: serviceKey,\n        [key]: value,\n      },\n      isCover\n    );\n  }\n  // \n  private async getStorage(service: string, key?: string) {\n    const storage = await indexedDB.getData(service);\n    // console.log('get', key, storage);\n    return key ? storage?.[key] : storage;\n  }\n}\nexport default new InstanceStorage();\n","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","import _ from 'lodash';\n\nexport const CKAFKAQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '101100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstanceId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SearchWord',\n    enDescriptor: 'SearchWord',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: 'key',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 0 },\n      { text: '', value: 1 },\n      { text: '', value: 2 },\n    ],\n  },\n];\n\nconst CKAFKA_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  topicId: '',\n  topicName: '',\n  consumerGroup: '',\n  partition: '',\n  queries: {\n    Offset: 0,\n    Limit: 10,\n    Status: [],\n    InstanceId: '',\n    SearchWord: '',\n    TagKey: '',\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst CKAFKAInstanceAliasList = ['InstanceId', 'InstanceName'];\nconst CKAFKATopicAliasList = ['TopicId', 'TopicName'];\n// valuekey\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  topicId: 'TopicId',\n  groupName: 'GroupName',\n  partition: 'PartitionId',\n};\n// dimensionsdimensionkeykey\nconst CKAFKAInvalidDemensions = new Proxy(\n  {\n    topicId: 'TopicId',\n    topicName: 'TopicName',\n    consumerGroup: 'GroupName',\n    partition: 'PartitionId',\n  },\n  {\n    get: (obj, prop) => {\n      if (String(prop).toLocaleLowerCase() === 'instanceid') return 'InstanceId';\n      return obj[prop];\n    },\n  }\n);\n// storagekey\nconst keyInStorage = {\n  TopicList: 'TopicList',\n  GroupList: 'GroupList',\n  PartitionList: 'PartitionList',\n};\n\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  TopicId: {\n    dim_KeyInStorage: keyInStorage.TopicList,\n    dim_KeyInTarget: 'topicId',\n    dim_KeyInMap: templateQueryIdMap.topicId,\n  },\n  // topicNametopicIdstoragesourcetopicId\n  TopicName: {\n    dim_KeyInStorage: keyInStorage.TopicList,\n    dim_KeyInTarget: 'topicId',\n    dim_KeyInMap: templateQueryIdMap.topicId,\n  },\n  GroupName: {\n    dim_KeyInStorage: keyInStorage.GroupList,\n    dim_KeyInTarget: 'consumerGroup',\n    dim_KeyInMap: templateQueryIdMap.groupName,\n  },\n  PartitionId: {\n    dim_KeyInStorage: keyInStorage.PartitionList,\n    dim_KeyInTarget: 'partition',\n    dim_KeyInMap: templateQueryIdMap.partition,\n  },\n};\nexport default CKAFKA_STATE;\nexport {\n  CKAFKAInstanceAliasList,\n  CKAFKATopicAliasList,\n  CKAFKAInvalidDemensions,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  GetInstanceQueryParams as CKAFKAGetInstanceQueryParams,\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","import _ from 'lodash';\n\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/LOADBALANCE';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'loadBalanceQuery';\n\nconst ForwardTypes = [\n  { text: '', value: 1 },\n  { text: '', value: 0 },\n];\n\nconst OrderBy = [\n  { text: 'LoadBalancerName', value: 'LoadBalancerName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'Domain', value: 'Domain' },\n  { text: 'LoadBalancerType', value: 'LoadBalancerType' },\n];\n\nconst OrderType = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\n\nconst WithRs = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: -1 },\n];\nconst LOADBALANCEFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancer ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancer Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Forward',\n    enDescriptor: 'Forward',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: ForwardTypes,\n  },\n  {\n    key: 'Domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancer Vips',\n    cnDescriptor: ' VIP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivate Ips',\n    cnDescriptor: ' IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPublicIps',\n    enDescriptor: 'BackendPublic Ips',\n    cnDescriptor: ' IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroup',\n    enDescriptor: 'Security Group',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'MasterZone',\n    enDescriptor: 'Master Zone',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'WithRs',\n    enDescriptor: 'WithRs',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: WithRs,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/214/30685',\n  namespace,\n  fieldDescriptor: LOADBALANCEFieldsDescriptor,\n};\nconst LBFields = {\n  LoadBalancerIds: [],\n  Forward: undefined,\n  LoadBalancerName: '',\n  Domain: '',\n  LoadBalancerVips: [],\n  BackendPublicIps: [],\n  BackendPrivateIps: [],\n  Limit: 20,\n  Offset: 0,\n  ProjectId: undefined,\n  WithRs: {},\n  VpcId: '',\n  SecurityGroup: '',\n  MasterZone: '',\n  OrderBy: {},\n  OrderType: {},\n};\n\nconst LOADBALANCE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  Port: '',\n  Protocol: '',\n  listener: '',\n  servers: '',\n  serverPort: '',\n  // listenerAlias: 'ListenerId',\n  queries: LBFields,\n};\n\n// function GetInstanceQueryParams(queries: any = {}) {\n//   const params: any = {};\n//   if (!_.isEmpty(queries)) {\n//     params.Limit = _.get(queries, 'Limit', 20) || 20;\n//     params.Offset = _.get(queries, 'Offset', 0) || 0;\n//     queries = _.omit(queries, ['Offset', 'Limit']);\n//     _.forEach(queries, (item: any, key) => {\n//       if (_.isArray(item)) {\n//         item = _.compact(item);\n//         if (item.length > 0) {\n//           params[key] = _.uniq(item);\n//         }\n//       } else if (_.isObject(item)) {\n//         if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n//           params[key] = _.get(item, 'value');\n//         }\n//       } else if (_.isNumber(item) || !_.isEmpty(item)) {\n//         params[key] = item;\n//       }\n//     });\n//   }\n//   return params;\n// }\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nconst InstanceAliasList = ['LoadBalancerId', 'LoadBalancerName', 'LoadBalancerVips'];\nconst LOADBALANCEListenerAliasList = ['ListenerId', 'ListenerName', 'Port'];\nconst LOADBALANCEServerAliasList = ['PrivateIpAddresses', 'InstanceId'];\nconst LOADBALANCEVALIDDIMENSIONS = {\n  vip: 'LoadBalancerVips',\n  // vpcId: 'NumericalVpcId',\n  loadBalancerPort: 'Port',\n  protocol: 'Protocol',\n  lanIp: 'PrivateIpAddresses',\n  port: 'ServerPort',\n};\n// ipv6vipAddressIPv6\nconst CANDIATEDIMENSIONS = {\n  LoadBalancerVips: 'AddressIPv6',\n};\n// dimensionObject[item] = { Name: item, Value: '' };\n// const LOADBALANCE_INSTANCE_DIMENSIONOBJECTS = {\n//   vip: { Name: 'vip', Value: '' },\n// };\n// const LOADBALANCE_LISTENER_DIMENSIONOBJECTS = {\n//   vip: { Name: 'vip', Value: '' },\n//   loadBalancerPort: { Name: 'loadBalancerPort', Value: '' },\n//   protocol: { Name: 'protocol', Value: '' },\n// };\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n  listener: 'ListenerId',\n  servers: 'PrivateIpAddresses',\n  port: 'Port',\n};\n// storagekey\nconst keyInStorage = {\n  listener: 'ListenerList',\n  servers: 'ServersList',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  Port: {\n    dim_KeyInStorage: keyInStorage.listener,\n    dim_KeyInTarget: 'listener',\n    dim_KeyInMap: templateQueryIdMap.listener,\n  },\n  Protocol: {\n    dim_KeyInStorage: keyInStorage.listener,\n    dim_KeyInTarget: 'listener',\n    dim_KeyInMap: templateQueryIdMap.listener,\n  },\n  PrivateIpAddresses: {\n    dim_KeyInStorage: keyInStorage.servers,\n    dim_KeyInTarget: 'servers',\n    dim_KeyInMap: templateQueryIdMap.servers,\n  },\n  ServerPort: {\n    dim_KeyInStorage: keyInStorage.servers,\n    dim_KeyInTarget: 'serverPort',\n    dim_KeyInIns: 'Port',\n    dim_KeyInMap: templateQueryIdMap.port,\n  },\n};\nexport default LOADBALANCE_STATE;\nexport {\n  LOADBALANCEFieldsDescriptor,\n  InstanceAliasList,\n  LOADBALANCEListenerAliasList,\n  LOADBALANCEServerAliasList,\n  LOADBALANCEVALIDDIMENSIONS,\n  templateQueryIdMap,\n  CANDIATEDIMENSIONS,\n  // LOADBALANCE_LISTENER_DIMENSIONOBJECTS,\n  // LOADBALANCE_INSTANCE_DIMENSIONOBJECTS,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  queryEditorConfig,\n  namespace,\n  queryEditorName,\n  GetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/TDMQ';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'tdmqQuery';\n\nconst TDMQInvalidDemensions = {\n  tenantId: 'ClusterId',\n  tenant: 'ClusterId',\n  topicName: 'TopicName',\n  environmentId: 'EnvironmentId',\n};\n\n// \nconst TDMQInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nconst templateQueryIdMap = {\n  instance: 'ClusterId',\n  topicName: 'TopicName',\n  environmentId: 'EnvironmentId',\n};\n\n// select{},multi[],dropdown''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n];\n\nconst CDNPROVINCE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  // keyTDMQInvalidDemensions\n  topicName: '',\n  environmentId: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    if (item.Dimensions.indexOf('topicName') !== -1 && item.Dimensions.indexOf('environmentId') === -1) {\n      item.Dimensions.push('environmentId');\n    }\n  });\n  return metricTmp;\n}\n// storagekey\nconst keyInStorage = {\n  topicName: 'topicName',\n  environmentId: 'environmentId',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  TopicName: {\n    dim_KeyInStorage: keyInStorage.topicName,\n    dim_KeyInTarget: 'topicName',\n    dim_KeyInMap: templateQueryIdMap.topicName,\n  },\n  EnvironmentId: {\n    dim_KeyInStorage: keyInStorage.environmentId,\n    dim_KeyInTarget: 'environmentId',\n    dim_KeyInMap: templateQueryIdMap.environmentId,\n  },\n};\nexport default CDNPROVINCE_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  modifyDimensons,\n  regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as TDMQGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/GSE';\nconst fleetId = 'FleetId'; // cvmstring[]Array<{fleetid: xxx}>,key\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'gseQuery';\n\nconst GSEInvalidDemensions = {\n  instanceid: 'InstanceId',\n  fleetid: 'FleetId',\n  queuename: 'Name',\n};\n\n// \nconst GSEInstanceAliasList = ['InstanceId', 'PrivateIpAddress', 'IpAddress'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  Name: 'Name',\n  FleetId: fleetId,\n};\n\n// storagekey\nconst keyInStorage = {\n  fleet: 'fleet', // \n  queue: 'queueName', // \n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  FleetId: {\n    dim_KeyInStorage: keyInStorage.fleet,\n    dim_KeyInTarget: 'FleetId',\n    dim_KeyInMap: templateQueryIdMap.FleetId,\n  },\n  Name: {\n    dim_KeyInStorage: keyInStorage.queue,\n    dim_KeyInTarget: 'Name',\n    dim_KeyInMap: templateQueryIdMap.Name,\n  },\n};\n// select{},multi[],dropdown''\nconst GSEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceId: '',\n  FleetId: '',\n};\n\nconst GSEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'resourceName',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FleetId',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1165/42604',\n  namespace,\n  fieldDescriptor: GSEFilterFieldsDescriptor,\n};\n\nconst GSE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  FleetId: '', //  \n  Name: '', // \n  queries: GSEFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  // { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  // { value: 'ap-shanghai-fsi' },\n  // { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  // { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((v) => GSEInvalidDemensions[v] || v);\n  });\n  return metricTmp;\n}\nexport default GSE_STATE;\nexport {\n  GSEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  GSEInstanceAliasList,\n  GSEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  fleetId,\n  keyInStorage,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as GSEGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { isArray, cloneDeep } from 'lodash';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/TDMYSQL';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'dcdbQuery';\n\nconst DCDBInvalidDemensions = {\n  nodeid: 'NodeId',\n  instanceid: 'InstanceId',\n  shardid: 'ShardInstanceId',\n  ShardId: 'ShardInstanceId',\n};\n\n// \nconst DCDBInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  NodeId: 'NodeId',\n  ShardInstanceId: 'ShardInstanceId',\n};\n\n// select{},multi[],dropdown''\nconst DCDBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceIds: [],\n  SearchName: '',\n  SearchKey: '',\n  ProjectIds: [],\n  // IsFilterVpc\n  VpcId: '',\n  SubnetId: '',\n\n  OrderBy: {},\n  OrderByType: {},\n  // IsFilterExcluster: {},\n  ExclusterType: {},\n\n  ExclusterIds: [],\n  FilterInstanceType: {},\n};\n\nconst DCDBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: ' ID ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'SearchName',\n    enDescriptor: 'SearchName',\n    cnDescriptor: ',instancenamevipall',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: ' ID ',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'projectId', value: 'projectId' },\n      { text: 'createtime', value: 'createtime' },\n      { text: 'instancename', value: 'instancename' },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'desc', value: 'desc' },\n      { text: 'asc', value: 'asc' },\n    ],\n  },\n  {\n    key: 'ExclusterType',\n    enDescriptor: 'ExclusterType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 1 },\n      { text: '', value: 2 },\n      { text: '', value: 0 },\n      { text: 'asc', value: 'asc' },\n    ],\n  },\n  {\n    key: 'ExclusterIds',\n    enDescriptor: 'ExclusterIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'FilterInstanceType',\n    enDescriptor: 'FilterInstanceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 1 },\n      { text: '', value: 2 },\n      { text: '', value: 3 },\n    ],\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/557/16140',\n  namespace,\n  fieldDescriptor: DCDBFilterFieldsDescriptor,\n};\n\nconst DCDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  ShardId: '',\n  NodeId: '',\n  queries: DCDBFilterFields,\n};\nconst modifyMetricConf = {\n  shardid: 'ShardId',\n  instanceid: 'InstanceId',\n  nodeid: 'NodeId',\n};\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((v) => modifyMetricConf[v] || v);\n  });\n  return metricTmp;\n}\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params = instanceQueryParamsBaseParse(queries, false);\n  // \n  params.IsFilterVpc = false;\n  params.IsFilterExcluster = false;\n  if (params.VpcId || params.SubnetId) params.IsFilterVpc = true;\n  if (params.ExclusterType) params.IsFilterExcluster = true;\n  if (isArray(params.FilterInstanceType)) params.FilterInstanceType = params.FilterInstanceType.join(',');\n  return params;\n}\n// storagekey\nconst keyInStorage = {\n  NodeId: 'NodeId',\n  ShardInstanceId: 'ShardId',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NodeId: {\n    dim_KeyInStorage: keyInStorage.NodeId,\n    dim_KeyInTarget: 'NodeId',\n    dim_KeyInMap: templateQueryIdMap.NodeId,\n  },\n  ShardInstanceId: {\n    dim_KeyInStorage: keyInStorage.ShardInstanceId,\n    dim_KeyInTarget: 'ShardId',\n    dim_KeyInMap: templateQueryIdMap.ShardInstanceId,\n  },\n};\n// \nconst regionSupported = [\n  { text: '()', value: 'ap-beijing' },\n  { text: '()', value: 'ap-chengdu' },\n  { text: '()', value: 'ap-chongqing' },\n  { text: '()', value: 'ap-guangzhou' },\n  { text: '()', value: 'ap-hongkong' },\n  { text: '()', value: 'ap-mumbai' },\n  { text: '()', value: 'ap-nanjing' },\n  { text: '()', value: 'ap-shanghai' },\n  { text: '()', value: 'ap-shanghai-fsi' },\n  { text: '()', value: 'ap-shenzhen-fsi' },\n  { text: '()', value: 'ap-singapore' },\n  { text: '()', value: 'ap-tokyo' },\n  { text: '()', value: 'eu-frankfurt' },\n  { text: '()', value: 'na-ashburn' },\n  { text: '()', value: 'na-siliconvalley' },\n  { text: '()', value: 'na-toronto' },\n];\nexport default DCDB_STATE;\nexport {\n  DCDBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCDBInstanceAliasList,\n  DCDBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  keyInStorage,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as DCDBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nconst namespace = 'QCE/REDIS_MEM';\nconst BillingMode = [\n  { text: '', value: 'postpaid' },\n  { text: '', value: 'prepaid' },\n];\n\nconst AutoRenew = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n];\n\nconst Status = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: -2 },\n  { text: '', value: -3 },\n];\n\nconst TypeVersion = [\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: 3 },\n];\n\nconst OrderBy = [\n  { text: 'projectId', value: 'projectId' },\n  { text: 'instancename', value: 'instancename' },\n  { text: 'createtime', value: 'createtime' },\n  { text: 'type', value: 'type' },\n  { text: 'curDeadline', value: 'curDeadline' },\n];\n\nconst OrderType = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\nconst Type = [\n  { text: 'Redis', value: 1 },\n  { text: 'Redis 2.8', value: 2 },\n  { text: 'CKV', value: 3 },\n  { text: 'CKV', value: 4 },\n  { text: 'Redis 2.8', value: 5 },\n  { text: 'Redis 4.0', value: 6 },\n  { text: 'Redis 4.0', value: 7 },\n  { text: 'Redis5.0', value: 8 },\n  { text: 'Redis5.0', value: 9 },\n];\n\nconst RedisFields = {\n  InstanceId: '',\n  OrderBy: '',\n  OrderType: null,\n  VpcIds: [],\n  SubnetIds: [],\n  ProjectIds: [],\n  SearchKey: '',\n  InstanceName: '',\n  UniqVpcIds: [],\n  UniqSubnetIds: [],\n  Status: [],\n  TypeVersion: null,\n  EngineName: '',\n  AutoRenew: null,\n  BillingMode: '',\n  Type: null,\n};\n\nconst RedisMemFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstancesId',\n    cnDescriptor: 'id',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'VpcIds',\n    cnDescriptor: 'ID047525',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'SubnetIds',\n    cnDescriptor: 'ID056854',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: 'ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'InstanceName',\n    enDescriptor: 'InstanceName',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'UniqVpcIds',\n    enDescriptor: 'UniqVpcIds',\n    cnDescriptor: 'ID0vpc-sad23jfdfk',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'UniqSubnetIds',\n    enDescriptor: 'UniqSubnetIds',\n    cnDescriptor: 'ID0subnet-fdj24n34j2',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'TypeVersion',\n    enDescriptor: 'TypeVersion',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: TypeVersion,\n  },\n  {\n    key: 'EngineName',\n    enDescriptor: 'EngineName',\n    cnDescriptor: 'Redis-2.8Redis-4.0CKV',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenew',\n    enDescriptor: 'AutoRenew',\n    cnDescriptor: '',\n    multiple: true,\n    type: 'select',\n    list: AutoRenew,\n  },\n  {\n    key: 'BillingMode',\n    enDescriptor: 'BillingMode',\n    cnDescriptor: 'postpaid-prepaid-',\n    link: '',\n    type: 'select',\n    list: BillingMode,\n  },\n  {\n    key: 'Type',\n    enDescriptor: 'Type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: Type,\n  },\n];\n\nconst REDISMEM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...RedisFields },\n  rnodeid: '',\n  pnodeid: '',\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select \n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst REDISMEMInstanceAliasList = ['InstanceId', 'InstanceName', 'WanIp'];\n\nconst RedisMemInvalidDemensions = {\n  instanceid: 'InstanceId',\n  rnodeid: 'rnodeid',\n  pnodeid: 'pnodeid',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  rnodeid: 'rnodeid',\n  pnodeid: 'pnodeid',\n};\n\nconst NodeType = ['Redis', 'Proxy'];\n\nexport default REDISMEM_STATE;\nexport {\n  RedisMemFieldsDescriptor,\n  RedisMemInvalidDemensions,\n  REDISMEMInstanceAliasList,\n  templateQueryIdMap,\n  namespace,\n  NodeType,\n  GetInstanceQueryParams as REDISMEMGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/RABBITMQ';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'tdmqQuery';\n\nconst TDMQInvalidDemensions = {\n  instanceid: 'InstanceId',\n  node: 'NodeName',\n};\n\n// \nconst TDMQRABBITMQInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  node: 'NodeName',\n};\n\n// select{},multi[],dropdown''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n];\n\nconst TDMQ_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  // keyTDMQInvalidDemensions\n  node: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n\n// storagekey\nconst keyInStorage = {\n  node: 'NodeName',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NodeName: {\n    dim_KeyInStorage: keyInStorage.node,\n    dim_KeyInTarget: 'node',\n    dim_KeyInMap: templateQueryIdMap.node,\n  },\n};\nexport default TDMQ_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQRABBITMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as TDMQGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/ROCKETMQ';\n\nconst TDMQInvalidDemensions = {\n  tenant: 'ClusterId',\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n\n// \nconst TDMQROCKETMQInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nconst templateQueryIdMap = {\n  instance: 'ClusterId',\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n\n// select{},multi[],dropdown''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  instanceIdsChecked: false,\n  filtersChecked: true,\n  ClusterIdList: [''],\n  Filters: {\n    includeVip: { text: '', value: 'true' },\n  },\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'includeVip',\n    enDescriptor: 'includeVip',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'true' },\n      { text: '', value: 'false' },\n    ],\n  },\n];\n\nconst TDMQ_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  // keyTDMQInvalidDemensions\n  namespace: '',\n  group: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.ClusterIdList)) {\n        const ClusterIdList = _.compact(queries.ClusterIdList);\n        if (_.uniq(ClusterIdList).length > 0) {\n          params.ClusterIdList = _.uniq(ClusterIdList).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: [_.get(item, 'value', [])].slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n\n// storagekey\nconst keyInStorage = {\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NamespaceId: {\n    dim_KeyInStorage: keyInStorage.namespace,\n    dim_KeyInTarget: 'namespace',\n    dim_KeyInMap: templateQueryIdMap.namespace,\n  },\n  Name: {\n    dim_KeyInStorage: keyInStorage.group,\n    dim_KeyInTarget: 'group',\n    dim_KeyInMap: templateQueryIdMap.group,\n  },\n};\nexport default TDMQ_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQROCKETMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as TDMQROCKETMQGetInstanceQueryParams,\n};\n","import { t } from '../../locale';\n// name (), serviceservice\ninterface ServiceType {\n  service: string;\n  label: string;\n  namespace: string;\n  href: string;\n  groupName?: string;\n  hideRegion?: boolean;\n}\nconst SERVICES: ServiceType[] = [\n  {\n    service: 'cvm',\n    get label() {\n      return t('CVM');\n    },\n    namespace: 'QCE/CVM',\n    href: 'https://cloud.tencent.com/document/api/213/15688',\n  },\n  {\n    service: 'cdb',\n    get label() {\n      return t('CDB');\n    },\n    namespace: 'QCE/CDB',\n    href: 'https://cloud.tencent.com/document/api/236/15829',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'mongoDB',\n    get label() {\n      return t('CMONGO');\n    },\n    namespace: 'QCE/CMONGO',\n    href: 'https://cloud.tencent.com/document/api/240/38568',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'postgres',\n    get label() {\n      return t('POSTGRES');\n    },\n    namespace: 'QCE/POSTGRES',\n    href: 'https://cloud.tencent.com/document/product/248/45105',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'redis',\n    get label() {\n      return t('REDIS');\n    },\n    namespace: 'QCE/REDIS',\n    href: 'https://cloud.tencent.com/document/product/248/45110',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'redisMem',\n    get label() {\n      return t('REDIS_MEM');\n    },\n    namespace: 'QCE/REDIS_MEM',\n    href: 'https://cloud.tencent.com/document/product/248/49729',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'sqlserver',\n    get label() {\n      return t('SQLSERVER');\n    },\n    namespace: 'QCE/SQLSERVER',\n    href: 'https://cloud.tencent.com/document/product/248/45146',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'cynosdbMysql',\n    get label() {\n      return t('CYNOSDB_MYSQL');\n    },\n    namespace: 'QCE/CYNOSDB_MYSQL',\n    href: 'https://cloud.tencent.com/document/product/248/45106',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'tcaplus',\n    get label() {\n      return t('TCAPLUS');\n    },\n    namespace: 'QCE/TCAPLUS',\n    href: 'https://cloud.tencent.com/document/product/248/45107',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'dcdb',\n    get label() {\n      return t('TDMYSQL');\n    },\n    namespace: 'QCE/TDMYSQL',\n    href: 'https://cloud.tencent.com/document/product/248/45108',\n  },\n  {\n    service: 'pcx',\n    get label() {\n      return t('PCX');\n    },\n    namespace: 'QCE/PCX',\n    href: 'https://cloud.tencent.com/document/product/215/5181',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'bwp',\n    get label() {\n      return t('BWP');\n    },\n    namespace: 'QCE/BWP',\n    href: 'https://cloud.tencent.com/document/api/215/19209',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'natGateway',\n    get label() {\n      return t('NAT_GATEWAY');\n    },\n    namespace: 'QCE/NAT_GATEWAY',\n    href: 'https://cloud.tencent.com/document/api/215/36034',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpngw',\n    get label() {\n      return t('VPNGW');\n    },\n    namespace: 'QCE/VPNGW',\n    href: 'https://cloud.tencent.com/document/product/248/45070',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpnx',\n    get label() {\n      return t('VPNX');\n    },\n    namespace: 'QCE/VPNX',\n    href: 'https://cloud.tencent.com/document/product/248/45071',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'dcg',\n    get label() {\n      return t('DCG');\n    },\n    namespace: 'QCE/DCG',\n    href: 'https://cloud.tencent.com/document/product/248/45072',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'ceipSummary',\n    get label() {\n      return t('CEIP_SUMMARY');\n    },\n    namespace: 'QCE/CEIP_SUMMARY',\n    href: 'https://cloud.tencent.com/document/product/248/50381',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpcNetDetect',\n    get label() {\n      return t('VPC_NET_DETECT');\n    },\n    namespace: 'QCE/VPC_NET_DETECT',\n    href: 'https://cloud.tencent.com/document/product/248/50384',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vbc',\n    get label() {\n      return t('VBC');\n    },\n    namespace: 'QCE/VBC',\n    href: 'https://cloud.tencent.com/document/product/248/45073',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'lb',\n    get label() {\n      return t('LB');\n    },\n    namespace: 'QCE/LB',\n    href: 'https://cloud.tencent.com/document/product/248/45099',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'lbPublic',\n    get label() {\n      return t('LB_PUBLIC');\n    },\n    namespace: 'QCE/LB_PUBLIC',\n    href: 'https://cloud.tencent.com/document/product/248/51898',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'lbPrivate',\n    get label() {\n      return t('LB_PRIVATE');\n    },\n    namespace: 'QCE/LB_PRIVATE',\n    href: 'https://cloud.tencent.com/document/product/248/51899',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'loadBalance',\n    get label() {\n      return t('LOADBALANCE');\n    },\n    namespace: 'QCE/LOADBALANCE',\n    href: 'https://cloud.tencent.com/document/product/248/51901',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'vClb',\n    get label() {\n      return `${t('cloud_load_balancer')}(${t('lite')})`;\n    },\n    namespace: 'QCE/V_CLB',\n    href: 'https://cloud.tencent.com/document/product/248/51901',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('lite')})`;\n    },\n  },\n  {\n    service: 'cdn',\n    get label() {\n      return t('CDN');\n    },\n    namespace: 'QCE/CDN',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50386',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'cdnProvince',\n    get label() {\n      return t('CDN_LOG_DATA');\n    },\n    namespace: 'QCE/CDN_LOG_DATA',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50388',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'ovCdn',\n    get label() {\n      return t('OV_CDN');\n    },\n    namespace: 'QCE/OV_CDN',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50387',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'scf',\n    get label() {\n      return t('SCF_V2');\n    },\n    namespace: 'QCE/SCF_V2',\n    href: 'https://cloud.tencent.com/document/product/248/45130',\n  },\n  {\n    service: 'cfs',\n    get label() {\n      return t('CFS');\n    },\n    namespace: 'QCE/CFS',\n    href: 'https://cloud.tencent.com/document/product/248/45143',\n  },\n  {\n    service: 'cos',\n    get label() {\n      return t('COS');\n    },\n    namespace: 'QCE/COS',\n    href: 'https://cloud.tencent.com/document/product/248/45140',\n  },\n  {\n    service: 'ckafka',\n    get label() {\n      return t('CKAFKA');\n    },\n    namespace: 'QCE/CKAFKA',\n    href: 'https://cloud.tencent.com/document/product/248/45121',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'cmq',\n    get label() {\n      return t('CMQ');\n    },\n    namespace: 'QCE/CMQ',\n    href: 'https://cloud.tencent.com/document/product/248/45114',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'cmqTopic',\n    get label() {\n      return t('CMQTOPIC');\n    },\n    namespace: 'QCE/CMQTOPIC',\n    href: 'https://cloud.tencent.com/document/product/248/45113',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmq',\n    get label() {\n      return t('TDMQ');\n    },\n    namespace: 'QCE/TDMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmqRocketmq',\n    get label() {\n      return t('TDMQ_ROCKETMQ');\n    },\n    namespace: 'QCE/ROCKETMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmqRabbitmq',\n    get label() {\n      return t('TDMQ_RABBITMQ');\n    },\n    namespace: 'QCE/RABBITMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'dcx',\n    get label() {\n      return t('DCX');\n    },\n    namespace: 'QCE/DCX',\n    href: 'https://cloud.tencent.com/document/product/248/45101',\n    get groupName() {\n      return t('direct_connect');\n    },\n  },\n  {\n    service: 'dc',\n    get label() {\n      return t('DC');\n    },\n    namespace: 'QCE/DC',\n    href: 'https://cloud.tencent.com/document/product/248/45102',\n    get groupName() {\n      return t('direct_connect');\n    },\n  },\n  {\n    service: 'cpm',\n    get label() {\n      return t('CPM');\n    },\n    namespace: 'QCE/CPM',\n    href: 'https://cloud.tencent.com/document/product/248/45881',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmPcx',\n    get label() {\n      return t('BM_PCX');\n    },\n    namespace: 'QCE/BM_PCX',\n    href: 'https://cloud.tencent.com/document/product/248/45884',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmLb',\n    get label() {\n      return t('BM_LB');\n    },\n    namespace: 'QCE/BM_LB',\n    href: 'https://cloud.tencent.com/document/product/248/45886',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmIntraLb',\n    get label() {\n      return t('BM_INTRA_LB');\n    },\n    namespace: 'QCE/BM_INTRA_LB',\n    href: 'https://cloud.tencent.com/document/product/248/45885',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'ces',\n    get label() {\n      return t('CES');\n    },\n    namespace: 'QCE/CES',\n    href: 'https://cloud.tencent.com/document/product/248/45129',\n  },\n  {\n    service: 'mrHDFS',\n    get label() {\n      return `${t('elastic_mapReduce')}(HDFS)`;\n    },\n    namespace: 'QCE/TXMR_HDFS',\n    href: 'https://cloud.tencent.com/document/product/248/44797',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrHBASE',\n    get label() {\n      return `${t('elastic_mapReduce')}(HBASE)`;\n    },\n    namespace: 'QCE/TXMR_HBASE',\n    href: 'https://cloud.tencent.com/document/product/248/45567',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrHIVE',\n    get label() {\n      return `${t('elastic_mapReduce')}(HIVE)`;\n    },\n    namespace: 'QCE/TXMR_HIVE',\n    href: 'https://cloud.tencent.com/document/product/248/45569',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrNODE',\n    get label() {\n      return `${t('elastic_mapReduce')}(NODE)`;\n    },\n    namespace: 'QCE/TXMR_NODE',\n    href: 'https://cloud.tencent.com/document/product/248/45570',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrPRESTO',\n    get label() {\n      return `${t('elastic_mapReduce')}(PRESTO)`;\n    },\n    namespace: 'QCE/TXMR_PRESTO',\n    href: 'https://cloud.tencent.com/document/product/248/45571',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrSPARK',\n    get label() {\n      return `${t('elastic_mapReduce')}(SPARK)`;\n    },\n    namespace: 'QCE/TXMR_SPARK',\n    href: 'https://cloud.tencent.com/document/product/248/45572',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrYARN',\n    get label() {\n      return `${t('elastic_mapReduce')}(YARN)`;\n    },\n    namespace: 'QCE/TXMR_YARN',\n    href: 'https://cloud.tencent.com/document/product/248/45573',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrZOOKEEPER',\n    get label() {\n      return `${t('elastic_mapReduce')}(ZOOKEEPER)`;\n    },\n    namespace: 'QCE/TXMR_ZOOKEEPER',\n    href: 'https://cloud.tencent.com/document/product/248/45574',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'cbs',\n    get label() {\n      return t('BLOCK_STORAGE');\n    },\n    namespace: 'QCE/BLOCK_STORAGE',\n    href: 'https://cloud.tencent.com/document/product/362/2345',\n  },\n  {\n    service: 'apigateway',\n    get label() {\n      return t('APIGATEWAY');\n    },\n    namespace: 'QCE/APIGATEWAY',\n    href: 'https://cloud.tencent.com/document/product/248/45127',\n  },\n  {\n    service: 'qaap',\n    get label() {\n      return t('QAAP');\n    },\n    namespace: 'QCE/QAAP',\n    href: 'https://cloud.tencent.com/document/product/608',\n  },\n  {\n    service: 'ecm',\n    get label() {\n      return t('ECM');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'ecmBlockStorage',\n    get label() {\n      return t('ECM_BLOCK_STORAGE');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM_BLOCK_STORAGE',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'ecmLb',\n    get label() {\n      return t('ECM_LB');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM_LB',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'gse',\n    get label() {\n      return t('GSE');\n    },\n    namespace: 'QCE/GSE',\n    href: 'https://cloud.tencent.com/document/product/1165',\n  },\n  {\n    service: 'cls',\n    get label() {\n      return t('CLS');\n    },\n    namespace: 'QCE/CLS',\n    href: 'https://cloud.tencent.com/document/product/614',\n  },\n  {\n    service: 'tke',\n    get label() {\n      return t('TKE');\n    },\n    namespace: 'QCE/TKE2',\n    href: 'https://cloud.tencent.com/document/product/457',\n  },\n  {\n    service: 'ecdn',\n    get label() {\n      return t('ECDN');\n    },\n    namespace: 'QCE/DSA',\n    href: 'https://cloud.tencent.com/document/product/570',\n  },\n  // {\n  //   service: 'lighthouse',\n  //   label: '(LIGHTHOUSE)',\n  //   namespace: 'QCE/LIGHTHOUSE',\n  //   href: 'https://cloud.tencent.com/document/product/1207',\n  // },\n  // {\n  //   service: 'tsf',\n  //   label: ' (TSF)',\n  //   namespace: 'QCE/TSF',\n  //   href: 'https://cloud.tencent.com/document/product/649',\n  // },\n  {\n    service: 'waf',\n    get label() {\n      return t('WAF');\n    },\n    // hideRegion: true,\n    namespace: 'QCE/WAF',\n    href: 'https://cloud.tencent.com/document/product/627',\n  },\n];\nconst Datasources = {};\nconst InitStates = {};\nconst InstanceAliasList = {};\nconst GetInstanceQueryParams = {};\n\n/**\n * service\n */\nconst hackModuleName = {\n  // lb_loadBalance: 'loadBalance',\n  postgresql: 'postgres',\n  mongodb: 'mongoDB',\n  clb: ['lbPrivate', 'lbPublic', 'loadBalance'],\n  mr: ['mrHDFS', 'mrHBASE', 'mrHIVE', 'mrNODE', 'mrPRESTO', 'mrSPARK', 'mrYARN', 'mrZOOKEEPER'],\n};\n\nconst requireModule = (require as any).context('./', true, /^\\.\\/[a-zA-Z]\\w+\\/(datasource)|(query(_def)?)\\.ts$/);\n\nrequireModule.keys().forEach((filePath) => {\n  let [, moduleName, fileName] = filePath.split('/');\n\n  // hack ,\n  moduleName = hackModuleName[moduleName] ?? moduleName;\n\n  // \n  [].concat(moduleName).forEach((module: string) => {\n    // serviceserviceserviceservice\n    const service = module.replace(/_([a-zA-Z])/g, (_, b) => b.toUpperCase());\n    const prefix = service.toUpperCase(); // \n\n    // datasource\n    if (fileName === 'datasource.ts') {\n      const Cls = require(`${filePath}`).default;\n\n      // serviceprototypemrDatasource\n      Datasources[`${prefix}Datasource`] = class {\n        constructor(...params) {\n          const target = new Cls(...params, service);\n          target.service = service;\n          // eslint-disable-next-line no-constructor-return\n          return target;\n        }\n      };\n    }\n    // query\n    if (fileName === 'query.ts') {\n      require(`${filePath}`);\n    }\n    // query_def\n    if (fileName === 'query_def.ts') {\n      const alias = `${prefix}InstanceAliasList`;\n      const getParams = `${prefix}GetInstanceQueryParams`;\n\n      const target = require(`${filePath}`);\n\n      InitStates[service] = target.default; // FIXME: \n      InstanceAliasList[alias] = target[alias] ?? target['InstanceAliasList'];\n      GetInstanceQueryParams[getParams] = target[getParams] ?? target['GetInstanceQueryParams'];\n    }\n  });\n});\n\nexport {\n  InitStates as InitServiceState,\n  SERVICES,\n  Datasources,\n  InstanceAliasList,\n  GetInstanceQueryParams,\n  // DefaultDimensions\n};\n\n// console.log(Datasources, InitStates, InstanceAliasList, GetInstanceQueryParams);\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM_BLOCK_STORAGE';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'ecmBlockStorageQuery';\n\nconst ECMBLOCKSTORAGEInvalidDemensions = {\n  uuid: 'UUID',\n  diskId: 'DiskId',\n};\n\n// \nconst ECMBLOCKSTORAGEInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  diskId: 'DiskId',\n};\n\n// select{},multi[],dropdown''\nconst ECMBLOCKSTORAGEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'zone-name': [],\n  'module-id': [],\n  'module-name': [],\n  'instance-id': [],\n  'instance-name': [],\n  'ip-address': [],\n  'instance-uuid': [],\n  'instance-state': {},\n  'internet-service-provider': [],\n  'instance-family': [],\n  'image-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n};\n\nconst ECMBLOCKSTORAGEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'zone-name',\n    enDescriptor: 'zone-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-id',\n    enDescriptor: 'module-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-name',\n    enDescriptor: 'module-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'instance-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ip-address',\n    enDescriptor: 'ip-address',\n    cnDescriptor: '/IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-uuid',\n    enDescriptor: 'instance-uuid',\n    cnDescriptor: 'uuid',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'instance-state',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'PENDING' },\n      { text: '', value: 'LAUNCH_FAILED' },\n      { text: '', value: 'RUNNING' },\n      { text: '', value: 'STOPPED' },\n      { text: '', value: 'STARTING' },\n      { text: '', value: 'STOPPING' },\n      { text: '', value: 'REBOOTING' },\n      { text: '', value: 'SHUTDOWN' },\n      { text: '', value: 'TERMINATING' },\n    ],\n  },\n  {\n    key: 'internet-service-provider',\n    enDescriptor: 'internet-service-provider',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-family',\n    enDescriptor: 'instance-family',\n    cnDescriptor: 'family',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'image-id',\n    enDescriptor: 'image-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'vpc id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: 'subnet id',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/42565',\n  namespace,\n  fieldDescriptor: ECMBLOCKSTORAGEFilterFieldsDescriptor,\n};\n\nconst ECMBLOCKSTORAGE_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  diskId: '',\n  queries: ECMBLOCKSTORAGEFilterFields,\n};\n\n// storagekey\nconst keyInStorage = {\n  diskId: 'diskId',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  DiskId: {\n    dim_KeyInStorage: keyInStorage.diskId,\n    dim_KeyInTarget: 'diskId',\n    dim_KeyInMap: templateQueryIdMap.diskId,\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default ECMBLOCKSTORAGE_STATE;\nexport {\n  ECMBLOCKSTORAGEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMBLOCKSTORAGEInstanceAliasList,\n  ECMBLOCKSTORAGEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as ECMBLOCKSTORAGEGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/APIGATEWAY';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'apigatewayQuery';\n\nconst APIGATEWAYInvalidDemensions = {\n  serviceId: 'ServiceId',\n  environmentName: 'EnvironmentName',\n  apiid: 'Apiid',\n  apiId: 'Apiid',\n};\n\n// \nconst APIGATEWAYInstanceAliasList = ['ServiceId', 'ServiceName'];\n\nconst templateQueryIdMap = {\n  instance: 'ServiceId',\n  environmentName: 'EnvironmentName',\n};\n\n// storagekey\nconst keyInStorage = {\n  environmentList: 'EnvironmentList',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  EnvironmentName: {\n    dim_KeyInStorage: keyInStorage.environmentList,\n    dim_KeyInTarget: 'EnvironmentName',\n    dim_KeyInMap: templateQueryIdMap.environmentName,\n  },\n};\n// select{},multi[],dropdown''\nconst APIGATEWAYFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ServiceId: [],\n  ServiceName: [],\n  NotUsagePlanId: [],\n  Environment: [],\n  IpVersion: [],\n};\n\nconst APIGATEWAYFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ServiceId',\n    enDescriptor: 'ServiceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ServiceName',\n    enDescriptor: 'ServiceName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'NotUsagePlanId',\n    enDescriptor: 'NotUsagePlanId',\n    cnDescriptor: 'NotUsagePlanId',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Environment',\n    enDescriptor: 'Environment',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'IpVersion',\n    enDescriptor: 'IpVersion',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/628/45198',\n  namespace,\n  fieldDescriptor: APIGATEWAYFilterFieldsDescriptor,\n};\n\nconst APIGATEWAY_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ServiceId',\n  EnvironmentName: '',\n  queries: APIGATEWAYFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nexport default APIGATEWAY_STATE;\nexport {\n  APIGATEWAYFilterFieldsDescriptor,\n  templateQueryIdMap,\n  APIGATEWAYInstanceAliasList,\n  APIGATEWAYInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as APIGATEWAYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nexport const InstanceQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '101100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: 'IDID: emr-xxxxxxxx ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'OrderField',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'ID', value: 'clusterId' },\n      { text: '', value: 'addTime' },\n      { text: '', value: 'status' },\n    ],\n  },\n  {\n    key: 'Asc',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 0 },\n      { text: '', value: 1 },\n    ],\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputnumber',\n  },\n  {\n    key: 'DisplayStrategy',\n    enDescriptor: 'DisplayStrategy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'clusterList' },\n      { text: '', value: 'monitorManage' },\n    ],\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// dimensionsdimensionkeykey\nexport const InvalidDemensions = new Proxy(\n  {},\n  {\n    get(target, k, receiver) {\n      if (typeof k === 'string') {\n        if (k.startsWith('id4')) return 'ClusterId'; // id4****\n        if (k.startsWith('host4')) return 'Ip'; // host4***\n      }\n      return Reflect.get(target, k, receiver);\n    },\n    has(target, propKey) {\n      return true;\n    },\n  }\n);\n\nexport const templateQueryIdMap = {\n  instance: 'ClusterId',\n  node: 'Ip',\n};\n\n// storagekey\nconst keyInStorage = {\n  node: 'nodeIP',\n};\n\n/**\n * InstanceIdmap\n *\n * `key` \n *   InvalidDemensionsstringtopicId => TopicId\n *   topicId\n *\n * `value` \n *   @param {1} dim_KeyInStorage  dimensionstoragekeysourceMapList\n *   @param {2} dim_KeyInTarget   getVariableListnerIdLis-xxxxSTATEkey\n *                                  InvalidDemsionkey\n *   @param {3} dim_KeyInMap      valueIDsourceMapListkeyListenerId\n *                                  templateQueryIdMap\n *                                   2 sourceMap\n */\nconst queryMonitorExtraConfg = {\n  Ip: {\n    dim_KeyInStorage: keyInStorage.node,\n    dim_KeyInTarget: 'nodeIP',\n    dim_KeyInMap: templateQueryIdMap.node,\n  },\n};\n\n// \nconst InstanceAliasList = ['ClusterId', 'ClusterName'];\nexport { InstanceAliasList, GetInstanceQueryParams, queryMonitorExtraConfg, keyInStorage };\n\n// default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  nodeIP: '',\n  queries: {\n    Offset: 0,\n    Limit: 10,\n    DisplayStrategy: '',\n    OrderBy: {},\n    Order: {},\n    InstanceIds: [],\n    ProjectId: -1,\n    OrderField: '',\n    Asc: '',\n  },\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/V_CLB';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'vClbQuery';\n\nconst VCLBInvalidDemensions = {\n  InstanceId: 'LoadBalancerId',\n  // vip: 'LoadBalancerVips',\n  // loadBalancerPort: 'Port',\n  // protocol: 'Protocol',\n};\n\n// ceip_summary=>CEIPSUMMARY\nconst VCLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\nconst ForwardTypes = [\n  { text: '', value: 1 },\n  { text: '', value: 0 },\n];\n\nconst OrderBy = [\n  { text: 'LoadBalancerName', value: 'LoadBalancerName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'Domain', value: 'Domain' },\n  { text: 'LoadBalancerType', value: 'LoadBalancerType' },\n];\n\nconst OrderType = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\n\nconst WithRs = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: -1 },\n];\nconst VCLBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancer ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancer Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Forward',\n    enDescriptor: 'Forward',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: ForwardTypes,\n  },\n  {\n    key: 'Domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancer Vips',\n    cnDescriptor: ' VIP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivate Ips',\n    cnDescriptor: ' IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPublicIps',\n    enDescriptor: 'BackendPublic Ips',\n    cnDescriptor: ' IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroup',\n    enDescriptor: 'Security Group',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'MasterZone',\n    enDescriptor: 'Master Zone',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'WithRs',\n    enDescriptor: 'WithRs',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: WithRs,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/214/30685',\n  namespace,\n  fieldDescriptor: VCLBFilterFieldsDescriptor,\n};\nconst LBFields = {\n  LoadBalancerIds: [],\n  Forward: undefined,\n  LoadBalancerName: '',\n  Domain: '',\n  LoadBalancerVips: [],\n  BackendPublicIps: [],\n  BackendPrivateIps: [],\n  Limit: 20,\n  Offset: 0,\n  ProjectId: undefined,\n  WithRs: {},\n  VpcId: '',\n  SecurityGroup: '',\n  MasterZone: '',\n  OrderBy: {},\n  OrderType: {},\n};\n\nconst VCLB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  Port: '',\n  Protocol: '',\n  listener: '',\n  // listenerAlias: 'ListenerId',\n  queries: LBFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nconst clbNamespaceMap = {\n  public: 'QCE/LB_PUBLIC',\n  private: 'QCE/LB_PRIVATE',\n};\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\nexport default VCLB_STATE;\nexport {\n  VCLBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VCLBInstanceAliasList,\n  VCLBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  clbNamespaceMap,\n  modifyDimensons,\n  regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as BMLBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CYNOSDB_MYSQL';\n\n// SERVICESabcDeFangular<abc-de-f-query />\nconst queryEditorName = 'cynosdbMysqlQuery';\n\nconst cynosdbMysqlFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  OrderBy: {},\n  OrderByType: {},\n  InstanceIds: [],\n  DbType: {},\n  // Status: '',\n};\n\nconst cynosdbMysqlFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 1000,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'CREATETIME' },\n      { text: '', value: 'PERIODENDTIME' },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'ASC' },\n      { text: '', value: 'DESC' },\n    ],\n  },\n  {\n    key: 'DbType',\n    enDescriptor: 'DbType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'MYSQL', value: 'MYSQL' },\n      { text: 'POSTGRESQL', value: 'POSTGRESQL' },\n    ],\n  },\n  // {\n  //   key: 'Status',\n  //   enDescriptor: 'Status',\n  //   cnDescriptor: '',\n  //   link: '',\n  //   type: 'input',\n  // },\n];\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n];\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1003/48334',\n  namespace,\n  fieldDescriptor: cynosdbMysqlFilterFieldsDescriptor,\n};\n\nconst CYNOSDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: cynosdbMysqlFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// CYNOSDBMYSQL\nconst CYNOSDBMYSQLInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\nconst CYNOSDBInvalidDemensions = {\n  instanceid: 'InstanceId',\n  instanceId: 'InstanceId',\n};\nconst checkKeys = ['instanceId'];\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\n\nexport default CYNOSDB_STATE;\nexport {\n  cynosdbMysqlFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CYNOSDBMYSQLInstanceAliasList,\n  CYNOSDBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  checkKeys,\n  // paramsservice\n  GetInstanceQueryParams as CYNOSDBMYSQLGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nexport const SCFQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: 'FunctionName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Namespace',\n    enDescriptor: 'Namespace',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Description',\n    enDescriptor: 'Description',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'AddTime', value: 'AddTime' },\n      { text: 'ModTime', value: 'ModTime' },\n      { text: 'FunctionName', value: 'FunctionName' },\n    ],\n  },\n  {\n    key: 'Order',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'ASC', value: 'ASC' },\n      { text: 'DESC', value: 'DESC' },\n    ],\n  },\n  // {\n  //   key: 'Filters',\n  //   enDescriptor: 'Filters',\n  //   cnDescriptor: '',\n  //   link: '',\n  //   type: 'dropdownmulti',\n  // },\n];\n\nconst SCF_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'FunctionName',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    OrderBy: {},\n    Order: {},\n    SearchKey: '',\n    Namespace: '',\n    Description: '',\n    // Filters:  {},\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst SCFInstanceAliasList = ['FunctionId', 'FunctionName'];\n\n// dimensionsdimensionkeykey\nconst SCFInvalidDemensions = {\n  functionName: 'FunctionName',\n  namespace: 'Namespace',\n  version: 'Version',\n};\n\nconst templateQueryIdMap = {\n  instance: 'FunctionName',\n  version: 'Version',\n};\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n// storagekey\nconst keyInStorage = {\n  version: 'version',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  Version: {\n    dim_KeyInStorage: keyInStorage.version,\n    dim_KeyInTarget: 'version',\n    dim_KeyInMap: templateQueryIdMap.version,\n  },\n};\nexport default SCF_STATE;\nexport {\n  SCFInstanceAliasList,\n  SCFInvalidDemensions,\n  queryMonitorExtraConfg,\n  regionSupported,\n  templateQueryIdMap,\n  keyInStorage,\n  GetInstanceQueryParams as SCFGetInstanceQueryParams,\n};\n\n// monitor\nexport const SCFDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","module.exports = __WEBPACK_EXTERNAL_MODULE__26__;","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/CLS';\nconst queryEditorName = 'clsQuery';\n\nconst CLSInvalidDemensions = {\n  // instanceid: 'TopicId',\n};\n\n// \nconst CLSInstanceAliasList = ['TopicId', 'TopicName'];\n\nconst templateQueryIdMap = {\n  instance: 'TopicId',\n};\n\n// storagekey\n// const keyInStorage = {\n//   fleet: 'fleet', // \n//   queue: 'queueName', // \n// };\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\n// const queryMonitorExtraConfg = {\n//   FleetId: {\n//     dim_KeyInStorage: keyInStorage.fleet,\n//     dim_KeyInTarget: 'FleetId',\n//     dim_KeyInMap: templateQueryIdMap.FleetId,\n//   },\n//   Name: {\n//     dim_KeyInStorage: keyInStorage.queue,\n//     dim_KeyInTarget: 'Name',\n//     dim_KeyInMap: templateQueryIdMap.Name,\n//   },\n// };\n// select{},multi[],dropdown''\nconst CLSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  topicName: [],\n  topicId: [],\n  logsetName: [],\n  logsetId: [],\n  tagKey: [],\n  'tag:tagKey': [],\n  storageType: {},\n};\n\nconst CLSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'topicName',\n    enDescriptor: 'topicName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'topicId',\n    enDescriptor: 'topicId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'logsetName',\n    enDescriptor: 'logsetName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'logsetId',\n    enDescriptor: 'logsetId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'tag:tagKey',\n    enDescriptor: 'tag - tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'storageType',\n    enDescriptor: 'storageType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'hot' },\n      { text: '', value: 'cold' },\n    ],\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/614/56454',\n  namespace,\n  fieldDescriptor: CLSFilterFieldsDescriptor,\n};\n\nconst CLS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TopicId',\n  uin: '',\n  queries: CLSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    // item.Dimensions = item.Dimensions.map((v) => CLSInvalidDemensions[v] || v);\n    item.Dimensions = ['uin', 'TopicId'];\n  });\n  return metricTmp;\n}\nexport default CLS_STATE;\nexport {\n  CLSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CLSInstanceAliasList,\n  CLSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  // queryMonitorExtraConfg,\n  // fleetId,\n  // keyInStorage,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as CLSGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/SQLSERVER';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'sqlserverQuery';\n\nconst SQLSERVERInvalidDemensions = {\n  resourceId: 'InstanceId',\n};\n\nconst SQLSERVERInstanceAliasList = ['InstanceId', 'Name'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select{},multi[]\nconst SQLSERVERNETFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ProjectId: null,\n  Status: {},\n  InstanceIdSet: [],\n  PayMode: {},\n  VpcId: '',\n  SubnetId: '',\n  VipSet: [],\n  InstanceNameSet: [],\n  VersionSet: [],\n  Zone: '',\n};\n\nconst SQLSERVERNETFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 1 },\n      { text: '', value: 2 },\n      { text: ' ()', value: 3 },\n      { text: '', value: 4 },\n      { text: '', value: 5 },\n      { text: '', value: 6 },\n      { text: '', value: 7 },\n      { text: '', value: 8 },\n      { text: '', value: 9 },\n      { text: '', value: 10 },\n      { text: '', value: 11 },\n      { text: '', value: 12 },\n    ],\n  },\n  {\n    key: 'InstanceIdSet',\n    enDescriptor: 'InstanceIdSet',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'PayMode',\n    enDescriptor: 'PayMode',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 1 },\n      { text: '', value: 0 },\n    ],\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: 'VPCID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VipSet',\n    enDescriptor: 'VipSet',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'InstanceNameSet',\n    enDescriptor: 'InstanceNameSet',\n    cnDescriptor: ', ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'VersionSet',\n    enDescriptor: 'VersionSet',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '',\n    link: '',\n    type: 'dropdown',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/238/19969',\n  namespace,\n  fieldDescriptor: SQLSERVERNETFilterFieldsDescriptor,\n};\n\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-seoul' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-moscow' },\n  { value: 'na-siliconvalley' },\n];\nconst SQLSERVER_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: SQLSERVERNETFilterFields,\n};\n\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['resourceId'];\n  });\n  return metricTmp;\n}\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default SQLSERVER_STATE;\nexport {\n  SQLSERVERNETFilterFieldsDescriptor,\n  templateQueryIdMap,\n  SQLSERVERInstanceAliasList,\n  SQLSERVERInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  // serviceInstanceQueryParams\n  GetInstanceQueryParams as SQLSERVERGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_INTRA_LB';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'bmIntraLbQuery';\n\nconst BMINTRALBInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n  vpcId: 'VpcId',\n};\n\n// ceip_summary=>CEIPSUMMARY\nconst BMINTRALBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select{},multi[],dropdown\nconst BMINTRALBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n};\n\nconst BMINTRALBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1027/33280',\n  namespace,\n  fieldDescriptor: BMINTRALBFilterFieldsDescriptor,\n};\n\nconst BMINTRALB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: BMINTRALBFilterFields,\n};\nconst BMLBValidMetricsT = ['Inpkg', 'Outpkg', 'Intraffic', 'Outtraffic', 'Connum', 'Req'];\nfunction isValidMetric(metric) {\n  const validMetrics = _.map(BMLBValidMetricsT, _.toUpper);\n  return _.indexOf(validMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default BMINTRALB_STATE;\nexport {\n  BMINTRALBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMINTRALBInstanceAliasList,\n  BMINTRALBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as BMINTRALBGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_LB';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'bmLbQuery';\n\nconst CPMInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n};\n\n// ceip_summary=>CEIPSUMMARY\nconst BMLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select{},multi[],dropdown\nconst CPMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n};\n\nconst CPMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1027/33280',\n  namespace,\n  fieldDescriptor: CPMFilterFieldsDescriptor,\n};\n\nconst CPM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: CPMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nconst BMLBValidMetricsT = ['Inpkg', 'Outpkg', 'Intraffic', 'Outtraffic', 'Connum', 'Req'];\nfunction isValidMetric(metric) {\n  const validMetrics = _.map(BMLBValidMetricsT, _.toUpper);\n  return _.indexOf(validMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nexport default CPM_STATE;\nexport {\n  CPMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMLBInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as BMLBGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_PCX';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'bmPcxQuery';\n\nconst BMPCXInvalidDemensions = {\n  peeringConnectionId: 'VpcPeerConnectionId',\n};\n\n// ceip_summary=>CEIPSUMMARY\nconst BMPCXInstanceAliasList = ['VpcPeerConnectionId', 'VpcPeerConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpcPeerConnectionId',\n};\n\n// select{},multi[],dropdown\nconst BMPCXFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  VpcPeerConnectionIds: [],\n};\n\nconst BMPCXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'VpcPeerConnectionIds',\n    enDescriptor: 'VpcPeerConnectionIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/product/1024/36903',\n  namespace,\n  fieldDescriptor: BMPCXFilterFieldsDescriptor,\n};\n\nconst BMPCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpcPeerConnectionId',\n  queries: BMPCXFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['peeringConnectionId'];\n  });\n  return metricTmp;\n}\nexport default BMPCX_STATE;\nexport {\n  BMPCXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMPCXInstanceAliasList,\n  BMPCXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as BMPCXGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/BLOCK_STORAGE';\nconst queryEditorName = 'cbsQuery';\n\nconst CBSInvalidDemensions = {\n  diskId: 'DiskId',\n  InstanceId: 'InstanceId',\n  diskname: 'DiskName',\n  unInstanceId: 'InstanceId',\n};\n\nconst CBSInstanceAliasList = ['DiskId', 'DiskName'];\n\nconst templateQueryIdMap = {\n  instance: 'DiskId',\n};\n\n// select{},multi[]\nconst CBSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DiskIds: [],\n  OrderField: [],\n  Order: [],\n  ReturnBindAutoSnapshotPolicy: false,\n};\n\nconst CBSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DiskIds',\n    enDescriptor: 'DiskIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Order',\n    enDescriptor: 'Order',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'ASC' },\n      { text: '', value: 'DESC' },\n    ],\n  },\n  {\n    key: 'OrderField',\n    enDescriptor: 'OrderField',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'CREATE_TIME' },\n      { text: '', value: 'DEADLINE' },\n    ],\n  },\n  {\n    key: 'ReturnBindAutoSnapshotPolicy',\n    enDescriptor: 'ReturnBindAutoSnapshotPolicy',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'switch',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/362/16315',\n  namespace,\n  fieldDescriptor: CBSFilterFieldsDescriptor,\n};\n\nconst CBS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DiskId',\n  queries: CBSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n  return dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1;\n}\nexport default CBS_STATE;\nexport {\n  CBSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CBSInstanceAliasList,\n  CBSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  GetInstanceQueryParams as CBSGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CDN_LOG_DATA';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'cdnProvinceQuery';\n\nconst CDNPROVINCEInvalidDemensions = {\n  domain: 'Domain',\n  // isp: 'Isp',\n  projectid: 'ProjectId',\n  province: 'district',\n  appid: 'AppId',\n};\n\n// \nconst CDNPROVINCEInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\n\n// select{},multi[],dropdown''\nconst CDNPROVINCEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst CDNPROVINCEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'cname' },\n      { text: 'cos', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'on' },\n      { text: '', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: 'https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst CDNPROVINCE_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  // Isp Provincestate\n  isp: '',\n  district: '',\n  queries: CDNPROVINCEFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// const regionSupported = [\n//   { text: '()', value: 'ap-beijing' },\n//   { text: '()', value: 'ap-chengdu' },\n//   { text: '()', value: 'ap-chongqing' },\n//   { text: '()', value: 'ap-guangzhou' },\n//   { text: '()', value: 'ap-hongkong' },\n//   { text: '()', value: 'ap-mumbai' },\n//   { text: '()', value: 'ap-nanjing' },\n//   { text: '()', value: 'ap-shanghai' },\n//   { text: '()', value: 'ap-shanghai-fsi' },\n//   { text: '()', value: 'ap-shenzhen-fsi' },\n//   { text: '()', value: 'ap-singapore' },\n//   { text: '()', value: 'ap-tokyo' },\n//   { text: '()', value: 'eu-frankfurt' },\n//   { text: '()', value: 'na-ashburn' },\n//   { text: '()', value: 'na-siliconvalley' },\n//   { text: '()', value: 'na-toronto' },\n// ];\nexport default CDNPROVINCE_STATE;\nexport {\n  CDNPROVINCEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CDNPROVINCEInstanceAliasList,\n  CDNPROVINCEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  // regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as CDNPROVINCEGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CEIP_SUMMARY';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'ceipSummaryQuery';\n\nconst CEIPInvalidDemensions = {\n  vip: 'AddressIp',\n  eip: 'AddressIp',\n};\n\n// ceip_summary=>CEIPSUMMARY\nconst CEIPSUMMARYInstanceAliasList = ['AddressId', 'AddressName', 'AddressIp'];\n\nconst templateQueryIdMap = {\n  instance: 'AddressId',\n};\n\n// select{},multi[]\nconst CEIPFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'address-id': [],\n  'address-name': [],\n  'address-ip': [],\n  'address-status': {},\n  'is-arrears': {},\n  'address-isp': {},\n  'instance-id': [],\n  'private-ip-address': [],\n  'network-interface-id': [],\n};\n\nconst CEIPFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'address-id',\n    enDescriptor: 'address-id',\n    cnDescriptor: ' EIP  ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-name',\n    enDescriptor: 'address-name',\n    cnDescriptor: 'EIP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-ip',\n    enDescriptor: 'address-ip',\n    cnDescriptor: 'EIP  IP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-status',\n    enDescriptor: 'address-status',\n    cnDescriptor: 'EIP ',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'CREATING', value: 'CREATING' },\n      { text: 'BINDING', value: 'BINDING' },\n      { text: 'BIND', value: 'BIND' },\n      { text: 'UNBINDING', value: 'UNBINDING' },\n      { text: 'UNBIND', value: 'UNBIND' },\n      { text: 'OFFLINING', value: 'OFFLINING' },\n      { text: 'BIND_ENI', value: 'BIND_ENI' },\n    ],\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: 'EIP  ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'private-ip-address',\n    cnDescriptor: 'EIP  IP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'network-interface-id',\n    enDescriptor: 'network-interface-id',\n    cnDescriptor: ' EIP  ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'is-arrears',\n    enDescriptor: 'is-arrears',\n    cnDescriptor: 'EIP ',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'TRUE' },\n      { text: '', value: 'FALSE' },\n    ],\n  },\n  {\n    key: 'address-isp',\n    enDescriptor: 'address-isp',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'BGP', value: 'BGP' },\n      { text: 'CMCC', value: 'CMCC' },\n      { text: 'CUCC', value: 'CUCC' },\n      { text: 'CTCC', value: 'CTCC' },\n    ],\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/16702',\n  namespace,\n  fieldDescriptor: CEIPFilterFieldsDescriptor,\n};\n\nconst CEIP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'AddressId',\n  queries: CEIPFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['eip'];\n  });\n  return metricTmp;\n}\nexport default CEIP_STATE;\nexport {\n  CEIPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CEIPSUMMARYInstanceAliasList,\n  CEIPInvalidDemensions,\n  namespace,\n  queryEditorName,\n  modifyDimensons,\n  queryEditorConfig,\n  GetInstanceQueryParams as CEIPSUMMARYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { FildDescriptorType } from '../_base/types';\n\nexport const InstanceQueryDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '101100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'TopicName',\n    enDescriptor: 'TopicName',\n    cnDescriptor: 'TopicName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// dimensionsdimensionkeykey\nexport const InvalidDemensions = {\n  topicId: 'TopicId',\n};\n\n// cmqTopciName\nexport const templateQueryIdMap = {\n  instance: 'TopicName',\n  subscription: 'SubscriptionId',\n};\n\n// storagekey\nconst keyInStorage = {\n  subscriptionId: 'subscriptionId',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  subscriptionId: {\n    dim_KeyInStorage: keyInStorage.subscriptionId,\n    dim_KeyInTarget: 'subscriptionId',\n    dim_KeyInMap: templateQueryIdMap.subscription,\n  },\n};\n// \nconst InstanceAliasList = ['TopicName', 'TopicId'];\nexport { InstanceAliasList, GetInstanceQueryParams, queryMonitorExtraConfg, keyInStorage };\n\n// default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TopicName',\n  subscriptionId: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    TopicName: '',\n    TagKey: '',\n  },\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/CPM';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'cpmQuery';\n\nconst CPMInvalidDemensions = {\n  instanceId: 'InstanceId',\n  // uniqid: 'InstanceId',\n};\n\nconst CPMInstanceAliasList = ['InstanceId', 'Name'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select{},multi[],dropdown''\nconst CPMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DeviceClassCode: '',\n  InstanceIds: [],\n  WanIps: [],\n  LanIps: [],\n  Alias: '',\n  VagueIp: '',\n  AutoRenewFlag: {},\n  VpcId: '',\n  SubnetId: '',\n  DeviceType: {},\n  IsLuckyDevice: {},\n};\n\nconst CPMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DeviceClassCode',\n    enDescriptor: 'DeviceClassCode',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'dropdown',\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'WanIps',\n    enDescriptor: 'WanIps',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LanIps',\n    enDescriptor: 'LanIps',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Alias',\n    enDescriptor: 'Alias',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VagueIp',\n    enDescriptor: 'VagueIp',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenewFlag',\n    enDescriptor: 'AutoRenewFlag',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 0 },\n      { text: '', value: 1 },\n    ],\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'DeviceType',\n    enDescriptor: 'DeviceType',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'compute' },\n      { text: '', value: 'standard' },\n      { text: '', value: 'storage' },\n    ],\n  },\n  {\n    key: 'IsLuckyDevice',\n    enDescriptor: 'IsLuckyDevice',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 0 },\n      { text: '', value: 1 },\n    ],\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/386/32904',\n  namespace,\n  fieldDescriptor: CPMFilterFieldsDescriptor,\n};\n\nconst CPM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: CPMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['instanceId'];\n  });\n  return metricTmp;\n}\nexport default CPM_STATE;\nexport {\n  CPMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CPMInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as CPMGetInstanceQueryParams,\n};\n","import { cloneDeep, compact, forEach, get, isArray, isEmpty, isObject, omit, uniq } from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\n\nconst namespace = 'QCE/DSA';\nconst queryEditorName = 'ecdnQuery';\n\nconst ECDNInstanceAliasList = ['Domain'];\n\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\n\nconst ECDNInvalidDemensions = {\n  domain: 'Domain',\n  projectid: 'ProjectId',\n};\n\nconst ECDN_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 100,\n    Offset: 0,\n    origin: [],\n    domain: [],\n    resourceId: [],\n    status: [],\n    disable: [],\n    projectId: [],\n    fullUrlCache: [],\n    https: [],\n    originPullProtocol: [],\n    area: [],\n    tagKey: [],\n  },\n};\n\nconst ECDNFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'Origin',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'ResourceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'disable',\n    enDescriptor: 'Disable',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'normal', value: 'normal' },\n      { text: 'unlicensed', value: 'unlicensed' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'FullUrlCache',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'Https',\n    cnDescriptor: 'https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'OriginPullProtocol',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'https', value: 'https' },\n      { text: 'follow', value: 'follow' },\n    ],\n  },\n  {\n    key: 'area',\n    enDescriptor: 'Area',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'mainland', value: 'mainland' },\n      { text: 'overseas', value: 'overseas' },\n      { text: 'global', value: 'global' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/570/42462',\n  namespace,\n  fieldDescriptor: ECDNFilterFieldsDescriptor,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!isEmpty(queries)) {\n    params.Limit = get(queries, 'Limit', 20) || 20;\n    params.Offset = get(queries, 'Offset', 0) || 0;\n    const _queries = omit(queries, ['Offset', 'Limit']);\n    const Filters: any[] = [];\n    forEach(_queries, (item: any, key) => {\n      if (isArray(item)) {\n        item = compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: uniq(item).slice(0, 5) });\n        }\n      } else if (isObject(item)) {\n        if (!isEmpty(get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: [get(item, 'value', [])].slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters.map((item) => {\n        if (item.Name === 'domain') {\n          return { ...item, Fuzzy: true };\n        }\n        return item;\n      });\n      return params;\n    }\n  }\n  return params;\n}\n\nfunction modifyDimensons(metricItem) {\n  const metricTmp = cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['domain', 'projectid'];\n  });\n  return metricTmp;\n}\n\nexport default ECDN_STATE;\n\nexport {\n  ECDNFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECDNInstanceAliasList,\n  ECDNInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECDNGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM';\nconst queryEditorName = 'ecmQuery';\n\nconst ECMInvalidDemensions = {\n  // diskId: 'InstanceId',\n  uuid: 'UUID',\n  // unInstanceId: 'InstanceId',\n};\n\nconst ECMInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select{},multi[]\nconst ECMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  zone: [],\n  'zone-name': [],\n  'module-id': [],\n  'module-name': [],\n  'instance-id': [],\n  'instance-name': [],\n  'ip-address': [],\n  'instance-uuid': [],\n  'instance-state': {},\n  'internet-service-provider': [],\n  'instance-family': [],\n  'image-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n};\n\nconst ECMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'zone',\n    cnDescriptor: '',\n    link: '',\n    type: 'dropdownMulti',\n  },\n  {\n    key: 'zone-name',\n    enDescriptor: 'zone-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-id',\n    enDescriptor: 'module-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-name',\n    enDescriptor: 'module-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'instance-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ip-address',\n    enDescriptor: 'ip-address',\n    cnDescriptor: '/IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-uuid',\n    enDescriptor: 'instance-uuid',\n    cnDescriptor: 'uuid',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'instance-state',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'PENDING' },\n      { text: '', value: 'LAUNCH_FAILED' },\n      { text: '', value: 'RUNNING' },\n      { text: '', value: 'STOPPED' },\n      { text: '', value: 'STARTING' },\n      { text: '', value: 'STOPPING' },\n      { text: '', value: 'REBOOTING' },\n      { text: '', value: 'SHUTDOWN' },\n      { text: '', value: 'TERMINATING' },\n    ],\n  },\n  {\n    key: 'internet-service-provider',\n    enDescriptor: 'internet-service-provider',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-family',\n    enDescriptor: 'instance-family',\n    cnDescriptor: 'family',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'image-id',\n    enDescriptor: 'image-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'vpc id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: 'subnet id',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/42565',\n  namespace,\n  fieldDescriptor: ECMFilterFieldsDescriptor,\n};\n\nconst ECM_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: ECMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// function isValidMetric(metricObj: any = {}) {\n//   const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n//   // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n//   return dimension.length === 1 &&( _.indexOf(dimension, 'UUID') !== -1 || _.indexOf(dimension, 'uuid') !== -1);\n// }\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['UUID'];\n  });\n  return metricTmp;\n}\nexport default ECM_STATE;\nexport {\n  ECMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMInstanceAliasList,\n  ECMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECMGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nconst namespace = 'QCE/POSTGRES';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'postgresQuery';\n\nconst PostgresFields = {\n  'db-instance-id': [],\n  'db-instance-name': [],\n};\n\nconst PostgresFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'db-instance-id',\n    enDescriptor: 'DB Instance ID',\n    cnDescriptor: 'DB ID',\n    link: '',\n    type: 'inputMulti',\n    min: 0,\n  },\n  {\n    key: 'db-instance-name',\n    enDescriptor: 'DB Instance Name',\n    cnDescriptor: 'DB ',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/409/16773',\n  namespace,\n  fieldDescriptor: PostgresFieldsDescriptor,\n};\nconst POSTGRESInstanceAliasList = ['DBInstanceId', 'DBInstanceName'];\n\nconst POSTGRES_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DBInstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...PostgresFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['resourceId'];\n  });\n  return metricTmp;\n}\nconst PostgreInvalidDemensions = {\n  uid: 'DBInstanceId',\n  resourceId: 'DBInstanceId',\n};\nconst templateQueryIdMap = {\n  instance: 'DBInstanceId',\n};\nexport default POSTGRES_STATE;\n\nexport {\n  PostgresFieldsDescriptor,\n  POSTGRESInstanceAliasList,\n  templateQueryIdMap,\n  modifyDimensons,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  PostgreInvalidDemensions,\n  GetInstanceQueryParams as POSTGRESGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPC_NET_DETECT';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'vpcNetDetectQuery';\n\nconst VPCNETInvalidDemensions = {\n  netdetectid: 'NetDetectId',\n  netDetectId: 'NetDetectId',\n};\n\nconst VPCNETDETECTInstanceAliasList = ['NetDetectId', 'NetDetectName'];\n\nconst templateQueryIdMap = {\n  instance: 'NetDetectId',\n};\n\n// select{},multi[]\nconst VPCNETFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'net-detect-id': [],\n  'subnet-id': [],\n  'net-detect-name': [],\n};\n\nconst VPCNETFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPCID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'net-detect-id',\n    enDescriptor: 'net-detect-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'net-detect-name',\n    enDescriptor: 'net-detect-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/38696',\n  namespace,\n  fieldDescriptor: VPCNETFilterFieldsDescriptor,\n};\n\nconst VPCNET_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'NetDetectId',\n  queries: VPCNETFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['netDetectId'];\n  });\n  return metricTmp;\n}\nexport default VPCNET_STATE;\nexport {\n  VPCNETFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPCNETDETECTInstanceAliasList,\n  VPCNETInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as VPCNETDETECTGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/WAF';\nconst queryEditorName = 'wafQuery';\nconst WAFFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst WAFFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'cname' },\n      { text: 'cos', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'on' },\n      { text: '', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: 'https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/228/41118',\n  namespace,\n  fieldDescriptor: WAFFilterFieldsDescriptor,\n};\nconst WAF_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: WAFFilterFields,\n};\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n];\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n\nconst WAFInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst WAFInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default WAF_STATE;\nexport {\n  WAFFilterFieldsDescriptor,\n  templateQueryIdMap,\n  WAFInstanceAliasList,\n  WAFInvalidDemensions,\n  namespace,\n  regionSupported,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as WAFGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nconst InstanceTypes = [\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: 3 },\n];\n\nconst Status = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 4 },\n  { text: '', value: 5 },\n];\n\nconst PayTypes = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\n\nconst TaskStatus = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: 'Slave', value: 3 },\n  { text: '', value: 4 },\n  { text: '', value: 5 },\n  { text: '', value: 6 },\n  { text: '', value: 7 },\n  { text: '', value: 8 },\n  { text: '', value: 9 },\n  { text: '', value: 10 },\n  { text: '', value: 12 },\n  { text: '', value: 13 },\n  { text: '', value: 14 },\n  { text: '', value: 15 },\n  { text: '', value: 16 },\n  { text: '', value: 17 },\n];\n\nconst EngineVersions = [\n  { text: '5.1', value: '5.1' },\n  { text: '5.5', value: '5.5' },\n  { text: '5.6', value: '5.6' },\n  { text: '5.7', value: '5.7' },\n];\n\nconst OrderBy = [\n  { text: 'InstanceId', value: 'InstanceId' },\n  { text: 'InstanceName', value: 'InstanceName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'DeadlineTime', value: 'DeadlineTime' },\n];\n\nconst OrderDirection = [\n  { text: 'ASC', value: 'ASC' },\n  { text: 'DESC', value: 'DESC' },\n];\n\nconst InitFlag = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\n\nconst CdbErrors = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\n\nconst CDBFields = {\n  ProjectId: '',\n  InstanceTypes: {},\n  Vips: [],\n  Status: {},\n  Offset: 0,\n  Limit: 20,\n  SecurityGroupId: '',\n  PayTypes: {},\n  InstanceNames: [],\n  TaskStatus: {},\n  EngineVersions: {},\n  VpcIds: [],\n  ZoneIds: [],\n  SubnetIds: [],\n  CdbErrors: {},\n  OrderBy: {},\n  OrderDirection: {},\n  InstanceIds: [],\n  InitFlag: {},\n};\n\nconst CDBFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceNames',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ZoneIds',\n    enDescriptor: 'Zone ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'InstanceTypes',\n    enDescriptor: 'Instance Type',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: InstanceTypes,\n  },\n  {\n    key: 'EngineVersions',\n    enDescriptor: 'Engine Version',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: EngineVersions,\n  },\n  {\n    key: 'TaskStatus',\n    enDescriptor: 'Task Status',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: TaskStatus,\n  },\n  {\n    key: 'InitFlag',\n    enDescriptor: 'Init Flag',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: InitFlag,\n  },\n  {\n    key: 'PayTypes',\n    enDescriptor: 'Pay Type',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: PayTypes,\n  },\n  {\n    key: 'CdbErrors',\n    enDescriptor: 'CDB Errors',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: CdbErrors,\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderDirection',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderDirection,\n  },\n  {\n    key: 'Vips',\n    enDescriptor: 'Vip',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: 'ID',\n    link: 'https://cloud.tencent.com/document/api/215/15778',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'Subnet ID',\n    cnDescriptor: 'ID',\n    link: 'https://cloud.tencent.com/document/api/215/15784',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: 'ID',\n    link: 'https://cloud.tencent.com/document/product/378/4400',\n    type: 'input',\n  },\n  { \n    key: 'SecurityGroupId',\n    enDescriptor: 'Security Group ID',\n    cnDescriptor: 'ID',\n    link: 'https://cloud.tencent.com/document/api/236/15854',\n    type: 'input',\n  },\n];\n\nconst CDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...CDBFields },\n};\n\nconst CDBInstanceAliasList = ['InstanceId', 'InstanceName', 'Vip'];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  return (\n    dimension.length === 2 &&\n    ((_.indexOf(dimension, 'instanceid') !== -1 && _.indexOf(dimension, 'insttype') !== -1) ||\n      (_.indexOf(dimension, 'InstanceId') !== -1 && _.indexOf(dimension, 'InstanceType') !== -1))\n  );\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((i) => CDBInvalidDemensions[i] || i);\n  });\n  return metricTmp;\n}\nconst CDBInvalidDemensions = {\n  instanceid: 'InstanceId',\n  insttype: 'InstanceType',\n  region: 'Region',\n};\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default CDB_STATE;\n\nexport {\n  CDBFieldsDescriptor,\n  CDBInstanceAliasList,\n  templateQueryIdMap,\n  CDBInvalidDemensions,\n  isValidMetric,\n  modifyDimensons,\n  GetInstanceQueryParams as CDBGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CES';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'cesQuery';\n\nconst CESInvalidDemensions = {\n  uInstanceId: 'InstanceId',\n};\n\nconst CESInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select{},multi[],dropdown\nconst CESFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceIds: [],\n  InstanceNames: [],\n  OrderByKey: {},\n  OrderByType: {},\n  IpList: [],\n};\n\nconst CESFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'InstanceNames',\n    enDescriptor: 'InstanceNames',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'OrderByKey',\n    enDescriptor: 'OrderByKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'ID', value: 1 },\n      { text: '', value: 2 },\n      { text: '', value: 3 },\n      { text: '', value: 4 },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 0 },\n      { text: '', value: 1 },\n    ],\n  },\n  {\n    key: 'IpList',\n    enDescriptor: 'IpList',\n    cnDescriptor: 'vip',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/845/30631',\n  namespace,\n  fieldDescriptor: CESFilterFieldsDescriptor,\n};\n\nconst CES_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: CESFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default CES_STATE;\nexport {\n  CESFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CESInstanceAliasList,\n  CESInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as CESGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DC';\nconst queryEditorName = 'dcQuery';\n\nconst DCFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DirectConnectIds: [],\n};\n\nconst DCFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DirectConnectIds',\n    enDescriptor: 'DirectConnectIds',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/216/34826',\n  namespace,\n  fieldDescriptor: DCFilterFieldsDescriptor,\n};\n\nconst DC_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectId',\n  queries: DCFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nconst DCInstanceAliasList = ['DirectConnectId', 'DirectConnectName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectId',\n};\n\nconst DCInvalidDemensions = {\n  directConnectId: 'DirectConnectId',\n  directconnectid: 'DirectConnectId',\n};\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['directConnectId'];\n  });\n  return metricTmp;\n}\nexport default DC_STATE;\nexport {\n  DCFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCInstanceAliasList,\n  DCInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as DCGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DCG';\nconst queryEditorName = 'dcgQuery';\n\nconst DCGInvalidDemensions = {\n  directConnectGatewayId: 'DirectConnectGatewayId',\n};\n\nconst DCGInstanceAliasList = ['DirectConnectGatewayId', 'DirectConnectGatewayName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectGatewayId',\n};\n\n// select{},multi[]\nconst DCGFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'direct-connect-gateway-id': [],\n  'direct-connect-gateway-name': [],\n  'direct-connect-gateway-ip': [],\n  'gateway-type': {},\n  'network-type': {},\n  'ccn-id': [],\n  'vpc-id': [],\n};\n\nconst DCGFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'direct-connect-gateway-id',\n    enDescriptor: 'direct-connect-gateway-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-gateway-name',\n    enDescriptor: 'direct-connect-gateway-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-gateway-ip',\n    enDescriptor: 'direct-connect-gateway-ip',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'gateway-type',\n    enDescriptor: 'gateway-type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'NORMAL' },\n      { text: 'NAT', value: 'NAT' },\n    ],\n  },\n  {\n    key: 'network-type',\n    enDescriptor: 'network-type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'VPC' },\n      { text: '', value: 'CCN' },\n    ],\n  },\n  {\n    key: 'ccn-id',\n    enDescriptor: 'ccn-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/30644',\n  namespace,\n  fieldDescriptor: DCGFilterFieldsDescriptor,\n};\n\nconst DCG_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectGatewayId',\n  queries: DCGFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default DCG_STATE;\nexport {\n  DCGFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCGInstanceAliasList,\n  DCGInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as DCGGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DCX';\nconst queryEditorName = 'dcxQuery';\n\nconst DCXFilterFields = {\n  'direct-connect-tunnel-name': [],\n  'direct-connect-tunnel-id': [],\n  'direct-connect-id': [],\n};\n\nconst DCXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'direct-connect-tunnel-name',\n    enDescriptor: 'direct-connect-tunnel-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-tunnel-id',\n    enDescriptor: 'direct-connect-tunnel-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-id',\n    enDescriptor: 'direct-connect-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/216/19819',\n  namespace,\n  fieldDescriptor: DCXFilterFieldsDescriptor,\n};\n\nconst DCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectTunnelId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    ...DCXFilterFields,\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n\nconst DCXInstanceAliasList = ['DirectConnectTunnelId', 'DirectConnectTunnelName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectTunnelId',\n};\n\nconst DCXInvalidDemensions = {\n  directconnectconnid: 'DirectConnectTunnelId',\n  directConnectConnId: 'DirectConnectTunnelId',\n};\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['directConnectConnId'];\n  });\n  return metricTmp;\n}\nexport default DCX_STATE;\nexport {\n  DCXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCXInstanceAliasList,\n  DCXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as DCXGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM_LB';\nconst queryEditorName = 'ecmLbQuery';\n\nconst ECMLBInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n};\n\nconst ECMLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select{},multi[]\nconst ECMLBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n  BackendPrivateIps: [],\n  VpcId: '',\n};\n\nconst ECMLBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivateIps',\n    cnDescriptor: ' IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/48459',\n  namespace,\n  fieldDescriptor: ECMLBFilterFieldsDescriptor,\n};\n\nconst ECM_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: ECMLBFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// function isValidMetric(metricObj: any = {}) {\n//   const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n//   // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n//   return dimension.length === 1 &&( _.indexOf(dimension, 'UUID') !== -1 || _.indexOf(dimension, 'uuid') !== -1);\n// }\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    // item.Dimensions = ['UUID'];\n  });\n  return metricTmp;\n}\nexport default ECM_STATE;\nexport {\n  ECMLBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMLBInstanceAliasList,\n  ECMLBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECMLBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst InstanceTypes = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: 3 },\n  { text: '', value: -1 },\n];\n\nconst ClusterTypes = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: -1 },\n];\n\nconst Status = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: -2 },\n];\n\nconst PayMode = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: -1 },\n];\n\nconst OrderBy = [\n  { text: 'ProjectId', value: 'ProjectId' },\n  { text: 'InstanceName', value: 'InstanceName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n];\n\nconst OrderByType = [\n  { text: '', value: 'ASC' },\n  { text: '', value: 'DESC' },\n];\n\nconst MongoDBFields = {\n  InstanceIds: [],\n  InstanceType: {},\n  ClusterType: {},\n  Status: [],\n  VpcId: '',\n  SubnetId: '',\n  PayMode: {},\n  Limit: 20,\n  Offset: 0,\n  OrderBy: '',\n  OrderByType: '',\n};\n\nconst MONGODBFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstancesIds',\n    cnDescriptor: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'InstanceType',\n    enDescriptor: 'InstanceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: InstanceTypes,\n  },\n  {\n    key: 'ClusterType',\n    enDescriptor: 'ClusterType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: ClusterTypes,\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: 'IDVpcId',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'PayMode',\n    enDescriptor: 'PayMode',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: PayMode,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderByType,\n  },\n];\n\nconst MONGODB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...MongoDBFields },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select \n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst MONGODBInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst MONGODBInvalidDemensions = {\n  target: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  replica: 'ReplicaSetId',\n};\n\nconst queryMonitorExtraConfg = {\n  Replica: {\n    dim_KeyInStorage: 'ReplicaSets',\n    dim_KeyInTarget: 'replica',\n    dim_KeyInMap: 'ReplicaSetId',\n    dim_KeyInIns: 'ReplicaSetId',\n  },\n  Node: {\n    dim_KeyInStorage: 'ReplicaNodeSets',\n    dim_KeyInTarget: 'node',\n    dim_KeyInMap: 'NodeId',\n    dim_KeyInIns: 'NodeId',\n  },\n};\nexport default MONGODB_STATE;\nexport {\n  MONGODBFieldsDescriptor,\n  MONGODBInvalidDemensions,\n  MONGODBInstanceAliasList,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n  GetInstanceQueryParams as MONGODBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/QAAP';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'qaapQuery';\n\nconst QAAPInvalidDemensions = {\n  channelId: 'InstanceId',\n};\n\nconst QAAPInstanceAliasList = ['InstanceId'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select{},multi[]\nconst QAAPFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ProjectId: [],\n  AccessRegion: [],\n  RealServerRegion: [],\n  GroupId: [],\n};\n\nconst QAAPFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'AccessRegion',\n    enDescriptor: 'AccessRegion',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'RealServerRegion',\n    enDescriptor: 'RealServerRegion',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'GroupId',\n    enDescriptor: 'GroupId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/608/36963',\n  namespace,\n  fieldDescriptor: QAAPFilterFieldsDescriptor,\n};\n\nconst QAAP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: QAAPFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  // metricTmp.Dimensions.forEach((item) => {\n  //   item.Dimensions = ['netDetectId'];\n  // });\n  return metricTmp;\n}\nexport default QAAP_STATE;\nexport {\n  QAAPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  QAAPInstanceAliasList,\n  QAAPInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as QAAPGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/TCAPLUS';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'tcaplusQuery';\n\nconst TCAPLUSInvalidDemensions = {\n  // TableInstanceId: 'TableInstanceId',\n  // ClusterId: 'ClusterId',\n};\n\n// \nconst TCAPLUSInstanceAliasList = ['TableInstanceId', 'TableName'];\n\nconst templateQueryIdMap = {\n  instance: 'TableInstanceId',\n};\n\n// select{},multi[],dropdown\nconst TCAPLUSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ClusterId: '',\n  TableGroupIds: [],\n\n  TableName: '',\n  TableInstanceId: '',\n  TableIdlType: {},\n  TableType: {},\n  ListElementNum: null,\n  ReservedVolume: null,\n  ReservedReadQps: null,\n  ReservedWriteQps: null,\n  Memo: '',\n  FileName: '',\n  FileExtType: '',\n  FileSize: null,\n  FileContent: '',\n};\n\nconst TCAPLUSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ClusterId',\n    enDescriptor: 'ClusterId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableGroupIds',\n    enDescriptor: 'TableGroupIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'TableName',\n    enDescriptor: 'TableName',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableInstanceId',\n    enDescriptor: 'TableInstanceId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableIdlType',\n    enDescriptor: 'TableIdlType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'PROTO', value: 'PROTO' },\n      { text: 'TDR', value: 'TDR' },\n    ],\n  },\n  {\n    key: 'TableType',\n    enDescriptor: 'TableType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'GENERIC', value: 'GENERIC' },\n      { text: 'LIST', value: 'LIST' },\n    ],\n  },\n  {\n    key: 'ListElementNum',\n    enDescriptor: 'ListElementNum',\n    cnDescriptor: 'LIST',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedVolume',\n    enDescriptor: 'ReservedVolume',\n    cnDescriptor: 'GB',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedReadQps',\n    enDescriptor: 'ReservedReadQps',\n    cnDescriptor: 'CU',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedWriteQps',\n    enDescriptor: 'ReservedWriteQps',\n    cnDescriptor: 'CU',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'Memo',\n    enDescriptor: 'Memo',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileName',\n    enDescriptor: 'FileName',\n    cnDescriptor: 'Key',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileExtType',\n    enDescriptor: 'FileExtType',\n    cnDescriptor: 'Key',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileSize',\n    enDescriptor: 'FileSize',\n    cnDescriptor: 'Key',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'FileContent',\n    enDescriptor: 'FileContent',\n    cnDescriptor: 'Key',\n    link: '',\n    type: 'input',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/596/39664',\n  namespace,\n  fieldDescriptor: TCAPLUSFilterFieldsDescriptor,\n};\n\nconst TCAPLUS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TableInstanceId',\n  queries: TCAPLUSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  params.Limit = _.get(queries, 'Limit', 20) || 20;\n  params.Offset = _.get(queries, 'Offset', 0) || 0;\n  params.ClusterId = _.get(queries, 'ClusterId', '') || '';\n  params.TableGroupIds = _.get(queries, 'TableGroupIds', []) || [];\n  queries = _.omit(queries, ['Offset', 'Limit', 'TableGroupIds', 'ClusterId']);\n  const SelectedTables: any[] = [];\n  _.forEach(queries, (item: any, key) => {\n    if (_.isArray(item)) {\n      item = _.compact(item);\n      if (item.length > 0) {\n        SelectedTables[key] = _.uniq(item);\n      }\n    } else if (_.isObject(item)) {\n      if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n        SelectedTables[key] = _.get(item, 'value');\n      }\n    } else if (_.isNumber(item) || !_.isEmpty(item)) {\n      SelectedTables[key] = item;\n    }\n  });\n  params.SelectedTables = SelectedTables;\n  return params;\n}\n// \nconst regonsMap = {\n  'ap-beijing': '()',\n  'ap-guangzhou': '()',\n  'ap-hongkong': '()',\n  'ap-seoul': '()',\n  'ap-shanghai': '()',\n  'ap-singapore': '()',\n  'ap-tokyo': '()',\n  'eu-frankfurt': '()',\n  'na-ashburn': '()',\n  'na-siliconvalley': '()',\n};\nexport default TCAPLUS_STATE;\nexport {\n  TCAPLUSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TCAPLUSInstanceAliasList,\n  TCAPLUSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regonsMap,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as TCAPLUSGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VBC';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'vbcQuery';\n\nconst VBCInvalidDemensions = {\n  // CcnId: 'CcnId',\n};\n\n// \nconst VBCInstanceAliasList = ['CcnId', 'CcnName'];\n\nconst templateQueryIdMap = {\n  instance: 'CcnId',\n};\n\n// select{},multi[],dropdown''\nconst VBCFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'ccn-id': [],\n  'ccn-name': [],\n  'ccn-description': [],\n  state: {},\n};\n\nconst VBCFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ccn-id',\n    enDescriptor: 'ccn-id',\n    cnDescriptor: 'CCNID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ccn-name',\n    enDescriptor: 'ccn-name',\n    cnDescriptor: 'CCN',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ccn-description',\n    enDescriptor: 'ccn-description',\n    cnDescriptor: 'CCN',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'state',\n    enDescriptor: 'state',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'ISOLATED' },\n      { text: '', value: 'AVAILABLE' },\n    ],\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/19199',\n  namespace,\n  fieldDescriptor: VBCFilterFieldsDescriptor,\n};\n\nconst VBC_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'CcnId',\n  DRegion: '',\n  SRegion: '',\n  queries: VBCFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// const regionSupported = [\n//   { text: '()', value: 'ap-beijing' },\n//   { text: '()', value: 'ap-chengdu' },\n//   { text: '()', value: 'ap-chongqing' },\n//   { text: '()', value: 'ap-guangzhou' },\n//   { text: '()', value: 'ap-hongkong' },\n//   { text: '()', value: 'ap-mumbai' },\n//   { text: '()', value: 'ap-nanjing' },\n//   { text: '()', value: 'ap-shanghai' },\n//   { text: '()', value: 'ap-shanghai-fsi' },\n//   { text: '()', value: 'ap-shenzhen-fsi' },\n//   { text: '()', value: 'ap-singapore' },\n//   { text: '()', value: 'ap-tokyo' },\n//   { text: '()', value: 'eu-frankfurt' },\n//   { text: '()', value: 'na-ashburn' },\n//   { text: '()', value: 'na-siliconvalley' },\n//   { text: '()', value: 'na-toronto' },\n// ];\nexport default VBC_STATE;\nexport {\n  VBCFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VBCInstanceAliasList,\n  VBCInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  // regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as VBCGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPNGW';\nconst queryEditorName = 'vpngwQuery';\n\nconst VPNGWInvalidDemensions = {\n  vpnGwId: 'VpnGatewayId',\n};\n\nconst VPNGWInstanceAliasList = ['VpnGatewayId', 'VpnGatewayName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpnGatewayId',\n};\n\n// select{},multi[]\nconst VPNGWFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'vpn-gateway-id': [],\n  'vpn-gateway-name': [],\n  type: {},\n  'public-ip-address': [],\n  'renew-flag': {},\n  zone: [],\n};\n\nconst VPNGWFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPCID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-id',\n    enDescriptor: 'vpn-gateway-id',\n    cnDescriptor: 'VPNID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-name',\n    enDescriptor: 'vpn-gateway-name',\n    cnDescriptor: 'VPN',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'type',\n    enDescriptor: 'type',\n    cnDescriptor: 'VPN',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'IPSEC', value: 'IPSEC' },\n      { text: 'SSL', value: 'SSL' },\n    ],\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'public-ip-address',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'renew-flag',\n    enDescriptor: 'renew-flag',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'NOTIFY_AND_MANUAL_RENEW' },\n      { text: '', value: 'NOTIFY_AND_AUTO_RENEW' },\n    ],\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'zone',\n    cnDescriptor: 'VPN',\n    link: '',\n    type: 'dropdownMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/17514',\n  namespace,\n  fieldDescriptor: VPNGWFilterFieldsDescriptor,\n};\n\nconst VPNGW_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpnGatewayId',\n  queries: VPNGWFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default VPNGW_STATE;\nexport {\n  VPNGWFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPNGWInstanceAliasList,\n  VPNGWInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as VPNGWGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPNX';\nconst queryEditorName = 'vpnxQuery';\n\nconst VPNXInvalidDemensions = {\n  vpnConnId: 'VpnConnectionId',\n};\n\nconst VPNXInstanceAliasList = ['VpnConnectionId', 'VpnConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpnConnectionId',\n};\n\n// select{},multi[]\nconst VPNXFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'vpn-gateway-id': [],\n  'customer-gateway-id': [],\n  'vpn-connection-name': [],\n  'vpn-connection-id': [],\n};\n\nconst VPNXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPCID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-id',\n    enDescriptor: 'vpn-gateway-id',\n    cnDescriptor: 'VPNID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'customer-gateway-id ',\n    enDescriptor: 'customer-gateway-id ',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-connection-name',\n    enDescriptor: 'vpn-connection-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-connection-id',\n    enDescriptor: 'vpn-connection-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/17515',\n  namespace,\n  fieldDescriptor: VPNXFilterFieldsDescriptor,\n};\n\nconst VPNX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpnConnectionId',\n  queries: VPNXFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default VPNX_STATE;\nexport {\n  VPNXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPNXInstanceAliasList,\n  VPNXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as VPNXGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nconst LighthouseStateType = [\n  { text: '', value: 'PENDING' },\n  { text: '', value: 'LAUNCH_FAILED' },\n  { text: '', value: 'RUNNING' },\n  { text: '', value: 'STOPPED' },\n  { text: '', value: 'STARTING' },\n  { text: '', value: 'STOPPING' },\n  { text: '', value: 'REBOOTING' },\n  { text: '', value: 'SHUTDOWN' },\n  { text: '', value: 'TERMINATING' },\n];\n\nconst LighthouseFilterFields = {\n  zone: [],\n  'instance-name': [],\n  'instance-state': {},\n  'private-ip-address': [],\n  'public-ip-address': [],\n};\n\nconst LighthouseFilterFieldsDescriptor = [\n  {\n    key: 'instance-name',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'Public IP Address',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'Instance State',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: LighthouseStateType,\n  },\n];\n\nconst LIGHTHOUSE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    InstanceIds: [''],\n    Filters: { ...LighthouseFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst LIGHTHOUSEInstanceAliasList = ['InstanceId', 'InstanceName', 'PrivateIpAddresses', 'PublicIpAddresses'];\n\nconst LighthouseInvalidDemensions = {\n  instanceid: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\n\nexport default LIGHTHOUSE_STATE;\n\nexport {\n  LighthouseFilterFieldsDescriptor,\n  LIGHTHOUSEInstanceAliasList,\n  LighthouseInvalidDemensions,\n  templateQueryIdMap,\n  modifyDimensons,\n  GetInstanceQueryParams as LIGHTHOUSEGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nexport const CFSQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'FileSystemId',\n    enDescriptor: 'File System Id',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: 'VPC ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'input',\n  },\n];\n\nconst CFS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'FileSystemId',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    FileSystemId: '',\n    VpcId: '',\n    SubnetId: '',\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst CFSInstanceAliasList = ['FileSystemId', 'FsName'];\n\n// dimensionsdimensionkeykey\nconst CFSInvalidDemensions = {\n  // functionName: 'FunctionName',\n  // namespace: 'Namespace'\n};\n\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-seoul' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default CFS_STATE;\nexport {\n  CFSInstanceAliasList,\n  CFSInvalidDemensions,\n  templateQueryIdMap,\n  regionSupported,\n  GetInstanceQueryParams as CFSGetInstanceQueryParams,\n};\n\n// monitor\n// export const SCFDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import _ from 'lodash';\nimport { FildDescriptorType } from '../_base/types';\n\nexport const InstanceQueryDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '101100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'QueueName',\n    enDescriptor: 'QueueName',\n    cnDescriptor: 'QueueName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// dimensionsdimensionkeykey\nexport const InvalidDemensions = {\n  queueId: 'QueueId',\n  queueName: 'QueueName',\n};\n\nexport const templateQueryIdMap = {\n  instance: 'QueueName',\n};\n\n// \nconst InstanceAliasList = ['QueueName', 'QueueId'];\nexport { InstanceAliasList, GetInstanceQueryParams };\n\n// default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'QueueName',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    QueueName: '',\n    TagKey: '',\n  },\n};\n","import _ from 'lodash';\nconst instanceChargeTypes = [\n  { text: '', value: 'PREPAID' },\n  { text: '', value: 'POSTPAID_BY_HOUR' },\n  { text: 'CDH', value: 'CDHPAID' },\n];\n\nconst CVMFilterFields = {\n  zone: [],\n  'project-id': [],\n  'host-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n  'instance-id': [],\n  'security-group-id': [],\n  'instance-name': [],\n  'instance-charge-type': {},\n  'private-ip-address': [],\n  'public-ip-address': [],\n  'tag-key': [],\n};\n\nconst CVMFilterFieldsDescriptor = [\n  {\n    key: 'zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'project-id',\n    enDescriptor: 'Project ID',\n    cnDescriptor: 'ID',\n    link: 'https://cloud.tencent.com/document/api/378/4400',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'host-id',\n    enDescriptor: 'CDH ID',\n    cnDescriptor: 'CDH ID',\n    link: 'https://cloud.tencent.com/document/product/416/19730',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC ID',\n    cnDescriptor: 'VPC ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'Subnet ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'security-group-id',\n    enDescriptor: 'Security Group ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'tag-key',\n    enDescriptor: '',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-charge-type',\n    enDescriptor: 'Instance Charge Type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: instanceChargeTypes,\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'Public IP Address',\n    cnDescriptor: 'IPIPIP',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst CVM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    InstanceIds: [''],\n    Filters: { ...CVMFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst CVMInstanceAliasList = ['InstanceId', 'InstanceName', 'PrivateIpAddresses', 'PublicIpAddresses'];\n\nconst CVMValidMetricsT = [\n  'CPUUsage',\n  'CpuLoadavg',\n  'Cpuloadavg5m',\n  'Cpuloadavg15m',\n  'BaseCpuUsage',\n  'GpuMemTotal',\n  'GpuMemUsage',\n  'GpuMemUsed',\n  'GpuPowDraw',\n  'GpuPowLimit',\n  'GpuPowUsage',\n  'GpuTemp',\n  'GpuUtil',\n  'LanOuttraffic',\n  'LanIntraffic',\n  'LanOutpkg',\n  'LanInpkg',\n  'WanOuttraffic',\n  'WanIntraffic',\n  'WanOutpkg',\n  'WanInpkg',\n  'AccOuttraffic',\n  'TcpCurrEstab',\n  'TimeOffset',\n  'MemUsed',\n  'MemUsage',\n  'CvmDiskUsage',\n  'BaseCpuUsage',\n  'VmDiskReadIops',\n];\n// const CVMInvalidDemensions = {\n//   'vm_uuid': 'InstanceId',\n//   'vmUuid': 'InstanceId',\n// };\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nfunction isValidMetric(metric) {\n  const CVMValidMetrics = _.map(CVMValidMetricsT, _.toUpper);\n  return _.indexOf(CVMValidMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\nexport default CVM_STATE;\nexport {\n  CVMFilterFieldsDescriptor,\n  CVMInstanceAliasList,\n  isValidMetric,\n  modifyDimensons,\n  templateQueryIdMap,\n  // CVMInvalidDemensions,\n  GetInstanceQueryParams as CVMGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst namespace = 'QCE/PCX';\n\nconst PCXFields = {\n  limit: 20,\n  offset: 0,\n  peeringConnectionId: '',\n  peeringConnectionName: '',\n  vpcId: '',\n  state: undefined,\n};\n\nconst PCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'peeringConnectionId',\n  queries: { ...PCXFields },\n};\n\nconst StateTypes = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: 3 },\n  { text: '', value: 4 },\n];\n\nconst PCXFieldsDescriptor = [\n  {\n    key: 'offset',\n    enDescriptor: 'offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'limit',\n    enDescriptor: 'limit',\n    cnDescriptor: '20150',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'peeringConnectionId',\n    enDescriptor: 'PeeringConnection Id',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'peeringConnectionName',\n    enDescriptor: 'PeeringConnection Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'vpcId',\n    enDescriptor: 'vpcId',\n    cnDescriptor: ' ID ',\n    link: 'https://cloud.tencent.com/document/api/215/1372',\n    type: 'dropdown',\n  },\n  {\n    key: 'state',\n    enDescriptor: 'state',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: StateTypes,\n  },\n];\n\nconst PCXInstanceAliasList = ['peeringConnectionId', 'peeringConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'peeringConnectionId',\n};\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.limit = _.get(queries, 'limit', 20) || 20;\n    params.offset = _.get(queries, 'offset', 0) || 0;\n    queries = _.omit(queries, ['offset', 'limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nexport default PCX_STATE;\n\nexport {\n  PCXInstanceAliasList,\n  PCXFieldsDescriptor,\n  templateQueryIdMap,\n  namespace,\n  GetInstanceQueryParams as PCXGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst BillingMode = [\n  { text: '', value: 'postpaid' },\n  { text: '', value: 'prepaid' },\n];\n\nconst AutoRenew = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n];\n\nconst Status = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: -2 },\n  { text: '', value: -3 },\n];\n\nconst TypeVersion = [\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: 3 },\n];\n\nconst OrderBy = [\n  { text: 'projectId', value: 'projectId' },\n  { text: 'instancename', value: 'instancename' },\n  { text: 'createtime', value: 'createtime' },\n  { text: 'type', value: 'type' },\n  { text: 'curDeadline', value: 'curDeadline' },\n];\n\nconst OrderType = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\nconst Type = [\n  { text: 'Redis', value: 1 },\n  { text: 'Redis 2.8', value: 2 },\n  { text: 'CKV', value: 3 },\n  { text: 'CKV', value: 4 },\n  { text: 'Redis 2.8', value: 5 },\n  { text: 'Redis 4.0', value: 6 },\n  { text: 'Redis 4.0', value: 7 },\n  { text: 'Redis5.0', value: 8 },\n  { text: 'Redis5.0', value: 9 },\n];\n\nconst RedisFields = {\n  InstanceId: '',\n  OrderBy: '',\n  OrderType: null,\n  VpcIds: [],\n  SubnetIds: [],\n  ProjectIds: [],\n  SearchKey: '',\n  InstanceName: '',\n  UniqVpcIds: [],\n  UniqSubnetIds: [],\n  Status: [],\n  TypeVersion: null,\n  EngineName: '',\n  AutoRenew: null,\n  BillingMode: '',\n  Type: null,\n};\n\nconst RedisFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstancesId',\n    cnDescriptor: 'id',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'VpcIds',\n    cnDescriptor: 'ID047525',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'SubnetIds',\n    cnDescriptor: 'ID056854',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: 'ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'InstanceName',\n    enDescriptor: 'InstanceName',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'UniqVpcIds',\n    enDescriptor: 'UniqVpcIds',\n    cnDescriptor: 'ID0vpc-sad23jfdfk',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'UniqSubnetIds',\n    enDescriptor: 'UniqSubnetIds',\n    cnDescriptor: 'ID0subnet-fdj24n34j2',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'TypeVersion',\n    enDescriptor: 'TypeVersion',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: TypeVersion,\n  },\n  {\n    key: 'EngineName',\n    enDescriptor: 'EngineName',\n    cnDescriptor: 'Redis-2.8Redis-4.0CKV',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenew',\n    enDescriptor: 'AutoRenew',\n    cnDescriptor: '',\n    multiple: true,\n    type: 'select',\n    list: AutoRenew,\n  },\n  {\n    key: 'BillingMode',\n    enDescriptor: 'BillingMode',\n    cnDescriptor: 'postpaid-prepaid-',\n    link: '',\n    type: 'select',\n    list: BillingMode,\n  },\n  {\n    key: 'Type',\n    enDescriptor: 'Type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: Type,\n  },\n];\n\nconst REDIS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...RedisFields },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select \n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  return dimension.length === 1 && _.indexOf(dimension, 'instanceid') !== -1;\n}\n\nconst REDISInstanceAliasList = ['InstanceId', 'InstanceName', 'WanIp'];\n\nconst RedisInvalidDemensions = {\n  redis_uuid: 'InstanceId',\n  instanceid: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default REDIS_STATE;\nexport {\n  RedisFieldsDescriptor,\n  RedisInvalidDemensions,\n  templateQueryIdMap,\n  REDISInstanceAliasList,\n  isValidMetric,\n  GetInstanceQueryParams as REDISGetInstanceQueryParams,\n};\n","import { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst ApplicationType = [\n  { text: '', value: '' },\n  { text: '', value: 'C' },\n  { text: '/', value: 'V' },\n];\n\nconst MicroserviceType = [\n  { text: '', value: '' },\n  { text: '', value: 'N' },\n  { text: 'Mesh', value: 'M' },\n  { text: '', value: 'G' },\n  { text: '', value: 'NATIVE' },\n];\n\nconst ApplicationResourceType = [\n  { text: '', value: 'DEF' },\n  { text: '', value: 'GW' },\n];\n\nconst TSFFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'SearchWord',\n    enDescriptor: 'SearchWord',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ApplicationIdList',\n    enDescriptor: 'ApplicationIdList',\n    cnDescriptor: 'ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ApplicationType',\n    enDescriptor: 'ApplicationType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: ApplicationType,\n  },\n  {\n    key: 'MicroserviceType',\n    enDescriptor: 'MicroserviceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: MicroserviceType,\n  },\n  {\n    key: 'ApplicationResourceTypeList',\n    enDescriptor: 'ApplicationResourceTypeList',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: ApplicationResourceType,\n  },\n];\n\nconst TSF_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ApplicationId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    SearchWord: '',\n    OrderBy: '',\n    OrderType: null,\n    ApplicationType: '',\n    MicroserviceType: '',\n    ApplicationResourceTypeList: [],\n    ApplicationIdList: [],\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nconst TSFInstanceAliasList = ['ApplicationId', 'ApplicationName'];\n\nconst TSFInvalidDemensions = {\n  applicationid: 'ApplicationId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'ApplicationId',\n};\n\nexport default TSF_STATE;\nexport {\n  TSFInvalidDemensions,\n  templateQueryIdMap,\n  TSFInstanceAliasList,\n  TSFFieldsDescriptor,\n  GetInstanceQueryParams as TSFGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst networkTypes = [\n  { text: 'BGP', value: 'BGP' },\n  { text: 'SINGLEISP', value: 'SINGLEISP' },\n  { text: 'ANYCAST', value: 'ANYCAST' },\n];\n\nconst chargeTypes = [\n  { text: 'top5', value: 'TOP5_POSTPAID_BY_MONTH' },\n  { text: '95', value: 'PERCENT95_POSTPAID_BY_MONTH' },\n];\nconst BWPFilterFields = {\n  'bandwidth-package_id': [],\n  'bandwidth-package-name': [],\n  'network-type': [],\n  'charge-type': [],\n};\n\nconst BWPFilterFieldsDescriptor = [\n  {\n    key: 'bandwidth-package_id',\n    enDescriptor: 'BandwidthPackage Id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'bandwidth-package-name',\n    enDescriptor: 'BandwidthPackage Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'network-type',\n    enDescriptor: 'network type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: networkTypes,\n  },\n  {\n    key: 'charge-type',\n    enDescriptor: 'charge type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: chargeTypes,\n  },\n];\n\nconst BWP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'BandwidthPackageId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    BandwidthPackageIds: [''],\n    Filters: { ...BWPFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.BandwidthPackageIds)) {\n        const BandwidthPackageIds = _.compact(queries.BandwidthPackageIds);\n        if (_.uniq(BandwidthPackageIds).length > 0) {\n          params.BandwidthPackageIds = _.uniq(BandwidthPackageIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst BWPInstanceAliasList = ['BandwidthPackageId', 'BandwidthPackageName'];\n\nconst templateQueryIdMap = {\n  instance: 'BandwidthPackageId',\n};\n\nconst BWPInvalidDemensions = {\n  bandwidthPackageId: 'BandwidthPackageId',\n};\nexport default BWP_STATE;\nexport {\n  BWPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BWPInstanceAliasList,\n  BWPInvalidDemensions,\n  GetInstanceQueryParams as BWPGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst CDNFilterFields = {\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst CDNFilterFieldsDescriptor = [\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'cname' },\n      { text: 'cos', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'on' },\n      { text: '', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: 'https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst CDN_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...CDNFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    const Filters: any[] = [];\n    _.forEach(queries.Filters, (item: any, key) => {\n      // console.log('item', item, queries);\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: _.uniq(item).slice(0, 5) });\n        }\n      } else if (_.isObject(item)) {\n        if (!_.isEmpty(_.get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: _.get(item, 'value', []).slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters;\n    }\n  }\n  return params;\n}\n\nconst CDNInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst CDNInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default CDN_STATE;\nexport {\n  CDNFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CDNInstanceAliasList,\n  CDNInvalidDemensions,\n  GetInstanceQueryParams as CDNGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\n// export const LBQueryDescriptor = [{\n//   key: 'Offset',\n//   enDescriptor: 'Offset',\n//   cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n//   link: '',\n//   type: 'inputnumber',\n//   min: 0,\n// },\n// {\n//   key: 'Limit',\n//   enDescriptor: 'Limit',\n//   cnDescriptor: '2012000',\n//   link: '',\n//   type: 'inputnumber',\n//   min: 1,\n//   max: 2000,\n// },\n// {\n//   key: 'AddressId',\n//   enDescriptor: 'Address Id',\n//   cnDescriptor: ' EIP  ID ',\n//   link: '',\n//   type: 'inputmulti',\n// }\n// ];\n\nexport const LBFilterDescriptor = [\n  {\n    key: 'address-id',\n    enDescriptor: 'Address ID',\n    cnDescriptor: 'EIP  ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-name',\n    enDescriptor: 'Address Name',\n    cnDescriptor: 'EIP  ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-ip',\n    enDescriptor: 'Address IP',\n    cnDescriptor: 'EIP  IP  ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-status',\n    enDescriptor: 'Address Status',\n    cnDescriptor: 'EIP ',\n    link: '',\n    type: 'select',\n    list: [\n      { value: 'CREATING', text: 'CREATING' },\n      { value: 'BINDING', text: 'BINDING' },\n      { value: 'BIND', text: 'BIND' },\n      { value: 'UNBINDING', text: 'UNBINDING' },\n      { value: 'UNBIND', text: 'UNBIND' },\n      { value: 'OFFLINING', text: 'OFFLINING' },\n      { value: 'BIND_ENI', text: 'BIND_ENI' },\n    ],\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: 'ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: 'EIP  IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'network-interface-id',\n    enDescriptor: 'Network Interface ID',\n    cnDescriptor: 'EIP  ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'is-arrears',\n    enDescriptor: 'Arrears',\n    cnDescriptor: 'EIP  ',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'FALSE' },\n      { text: '', value: 'TRUE' },\n    ],\n  },\n];\n\n// const LBFilterFields = {\n//   \"address-id\": [],\n//   \"address-name\": [],\n//   \"address-ip\": [],\n//   \"address-status \": [],\n//   \"instance-id \": [],\n//   \"private-ip-address\": [],\n//   \"network-interface-id \": [],\n//   \"is-arrears \": [],\n// };\n\nconst InstanceKey = 'AddressIds';\nconst LB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'AddressId',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    [InstanceKey]: [''],\n    Filters: {\n      'address-id': [],\n      'address-name': [],\n      'address-ip': [],\n      'address-status ': [],\n      'instance-id ': [],\n      'private-ip-address': [],\n      'network-interface-id ': [],\n      'is-arrears ': [],\n    },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries[InstanceKey])) {\n        const InstanceIds = _.compact(queries[InstanceKey]);\n        if (_.uniq(InstanceIds).length > 0) {\n          params[InstanceKey] = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst LBInstanceAliasList = ['AddressId', 'AddressName', 'AddressIp'];\n\n// eip\nconst LBInvalidDemensions = {\n  eip: 'AddressIp',\n};\n\nconst templateQueryIdMap = {\n  instance: 'AddressId',\n};\n// monitorLB\n// export const metric2Instance = {\n//   functionName: 'FunctionName',\n//   namespace: 'Namespace'\n// };\n\nexport default LB_STATE;\nexport {\n  LBInstanceAliasList,\n  LBInvalidDemensions,\n  templateQueryIdMap,\n  GetInstanceQueryParams as LBGetInstanceQueryParams,\n};\n\n// monitor\n// export const LBDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import _ from 'lodash';\n\nconst NATGATEWAYInstanceAliasList = ['NatGatewayId', 'NatGatewayName'];\n\nconst NATGatewayFilterFields = {\n  'nat-gateway-id': [],\n  'nat-gateway-name': [],\n  'vpc-id': [],\n};\n\nconst NATGatewayFilterFieldsDescriptor = [\n  {\n    key: 'nat-gateway-id',\n    enDescriptor: 'NatGateway ID',\n    cnDescriptor: 'NAT ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'nat-gateway-name',\n    enDescriptor: 'NatGateway Name',\n    cnDescriptor: 'NatGateway Name',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC ID',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst NATGATEWAY_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'NatGatewayId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    NatGatewayIds: [''],\n    Filters: { ...NATGatewayFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.NatGatewayIds)) {\n        const NatGatewayIds = _.compact(queries.NatGatewayIds);\n        if (_.uniq(NatGatewayIds).length > 0) {\n          params.InstanceIds = _.uniq(NatGatewayIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst templateQueryIdMap = {\n  instance: 'NatGatewayId',\n};\n\nconst NATInvalidDemensions = {\n  natId: 'NatGatewayId',\n};\n\nexport default NATGATEWAY_STATE;\nexport {\n  NATGatewayFilterFieldsDescriptor,\n  NATGATEWAYInstanceAliasList,\n  templateQueryIdMap,\n  NATInvalidDemensions,\n  GetInstanceQueryParams as NATGATEWAYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst CDNFilterFields = {\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: [],\n  serviceType: [],\n  projectId: [],\n  domainType: [],\n  fullUrlCache: [],\n  https: [],\n  originPullProtocol: [],\n  tagKey: [],\n};\n\nconst OVCDNFilterFieldsDescriptor = [\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'cname' },\n      { text: 'cos', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'on' },\n      { text: '', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: 'https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst OVCDN_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...CDNFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    const Filters: any[] = [];\n    _.forEach(queries.Filters, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: _.uniq(item).slice(0, 5) });\n        }\n      } else if (_.isObject(item)) {\n        if (!_.isEmpty(_.get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: _.get(item, 'value', []).slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters;\n    }\n  }\n  return params;\n}\n\nconst OVCDNInstanceAliasList = ['Domain', 'ResourceId'];\n\nconst OVCDNInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default OVCDN_STATE;\nexport {\n  OVCDNFilterFieldsDescriptor,\n  OVCDNInstanceAliasList,\n  templateQueryIdMap,\n  OVCDNInvalidDemensions,\n  GetInstanceQueryParams as OVCDNGetInstanceQueryParams,\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__67__;","module.exports = __WEBPACK_EXTERNAL_MODULE__68__;","import _ from 'lodash';\n\nconst TKE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  conditions: [],\n  groupBys: '',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: true,\n    ClusterIds: [''],\n    Filters: {\n      ClusterName: [],\n      ClusterType: [],\n      ClusterStatus: [],\n      'tag-key': [],\n    },\n  },\n};\n\nconst TKEFilterFieldsDescriptor = [\n  {\n    key: 'ClusterName',\n    enDescriptor: 'Cluster Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ClusterType',\n    enDescriptor: 'Cluster Type',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ClusterStatus',\n    enDescriptor: 'Cluster Status',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Tags',\n    enDescriptor: 'Tags',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC',\n    cnDescriptor: 'VPC',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'tag-key',\n    enDescriptor: 'Tag Key',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'tag-value',\n    enDescriptor: 'Tag Value',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst TKEInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nexport default TKE_STATE;\n\nexport { TKEFilterFieldsDescriptor, TKEInstanceAliasList, GetInstanceQueryParams as TKEGetInstanceQueryParams };\n","import {\n  APIGATEWAYInstanceAliasList,\n  APIGATEWAYInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = APIGATEWAYInstanceAliasList;\n  InvalidDimensions = APIGATEWAYInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'apigateway',\n    action: 'DescribeServicesStatus',\n    responseField: 'ServiceSet',\n  };\n\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async getEnvironmentNameList(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // \n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeServiceEnvironmentList' }\n        );\n      },\n      {\n        ServiceId: instanceId,\n      },\n      'EnvironmentList'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'DescribeServiceEnvironmentList') {\n      const rs = await this.getEnvironmentNameList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.environmentName];\n        return {\n          text: o[this.templateQueryIdMap.environmentName],\n          value: o[this.templateQueryIdMap.environmentName],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.environmentList, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  BMINTRALBInstanceAliasList,\n  BMINTRALBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  isValidMetric,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMINTRALBInstanceAliasList;\n  InvalidDimensions = BMINTRALBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'bmlb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        LoadBalancerType: 'internal',\n      }), //  \n    },\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return item;\n        }\n        return null;\n      })\n    );\n  }\n}\n","import { BMLBInstanceAliasList, CPMInvalidDemensions, namespace, templateQueryIdMap, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMLBInstanceAliasList;\n  InvalidDimensions = CPMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'bmlb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        LoadBalancerType: 'open',\n      }), //  \n    },\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return item;\n        }\n        return null;\n      })\n    );\n  }\n  // getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n}\n","import {\n  BMPCXInstanceAliasList,\n  BMPCXInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMPCXInstanceAliasList;\n  InvalidDimensions = BMPCXInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'bmvpc',\n    action: 'DescribeVpcPeerConnections',\n    responseField: 'VpcPeerConnectionSet',\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n}\n","import { BWPInstanceAliasList, BWPInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class BWPDatasource extends BaseDatasource {\n  Namespace = 'QCE/BWP';\n  InstanceAliasList = BWPInstanceAliasList;\n  InvalidDimensions = BWPInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'BandwidthPackageId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeBandwidthPackages',\n    responseField: 'BandwidthPackageSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { CBSInstanceAliasList, CBSInvalidDemensions, namespace, templateQueryIdMap, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CBSInstanceAliasList;\n  InvalidDimensions = CBSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'cbs',\n    action: 'DescribeDisks',\n    responseField: 'DiskSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.filter(rawSet, isValidMetric);\n  }\n}\n","import _ from 'lodash';\nimport { CDBInstanceAliasList, CDBInvalidDemensions, isValidMetric, modifyDimensons, templateQueryIdMap } from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDBDatasource extends BaseDatasource {\n  Namespace = 'QCE/CDB';\n  InstanceAliasList = CDBInstanceAliasList;\n  InvalidDimensions = CDBInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'cdb',\n    action: 'DescribeDBInstances',\n    responseField: 'Items',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return modifyDimensons(item);\n        }\n        return null;\n      })\n    );\n  }\n  /**\n   *  \n   * @param region \n   */\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.ZoneId, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n  // InstanceIdInstanceType\n  getDefaultInsObj(ins: string) {\n    return {\n      [templateQueryIdMap.instance]: ins,\n      InstanceType: 1,\n    }\n  }\n}\n","import _ from 'lodash';\nimport { CDNInstanceAliasList, CDNInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDNDatasource extends BaseDatasource {\n  Namespace = 'QCE/CDN';\n  InstanceAliasList = CDNInstanceAliasList;\n  InvalidDimensions = CDNInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'Domain',\n  };\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import { CDNPROVINCEInstanceAliasList, CDNPROVINCEInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CDNPROVINCEInstanceAliasList;\n  InvalidDimensions = CDNPROVINCEInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  extrasAlias = ['isp', 'district'];\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n  async getConsumerList(params: any) {\n    const { region, field } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'cdn');\n\n    // \n    const rs = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Name: field,\n        },\n      },\n      serviceInfo.service,\n      { action: 'DescribeMapInfo' }\n    );\n    return (rs.MapInfoList || []).map((o) => {\n      return {\n        text: o.Name,\n        value: o.Name,\n      };\n    });\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    if (action === 'DescribeMapInfo') {\n      const { name: field } = query;\n      const rs = await this.getConsumerList({ region, field });\n      return rs;\n    }\n    return [];\n  }\n}\n","import {\n  CEIPSUMMARYInstanceAliasList,\n  CEIPInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CEIPSUMMARYInstanceAliasList;\n  InvalidDimensions = CEIPInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeAddresses',\n    responseField: 'AddressSet',\n    interceptor: {\n      request: (params) => {\n        const { Filters } = params;\n        if (!Filters) {\n          params.Filters = [];\n        }\n        params.Filters.push({\n          Name: 'address-type',\n          Values: ['AnycastEIP'],\n        });\n        return params;\n      }, //  \n      // response: (data: unknown[]) =>[\n      //   {\n      //     AddressId: 'AddressId',\n      //     AddressIp: '111.22.3.4'\n      //   },\n      // ],\n    },\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  // async getInstances(region, params = {}) {\n  //   const rawSet = await super.getInstances(region, params);\n  //   return rawSet.filter((item) => item.AddressType === 'AnycastEIP');\n  // }\n\n  // async getVariableInstances(region, query = {}) {\n  //   const rawSet = await super.getVariableInstances(region, query);\n  //   return rawSet.filter((item) => item.AddressType === 'AnycastEIP');\n  // }\n}\n","import { CESInstanceAliasList, CESInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CESInstanceAliasList;\n  InvalidDimensions = CESInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'es',\n    action: 'DescribeInstances',\n    responseField: 'InstanceList',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\nimport { CFSInstanceAliasList, CFSInvalidDemensions, regionSupported } from './query_def';\nimport { t } from '../../../locale'\nexport default class CFSDatasource extends BaseDatasource {\n  InstanceKey: string;\n  Namespace: string;\n  InstanceAliasList: string[];\n  InvalidDimensions: Record<string, string>;\n  templateQueryIdMap = {\n    instance: 'FileSystemId',\n  };\n  extrasAlias = ['version'];\n  InstanceReqConfig: { service?: string | undefined; action: string; responseField: string };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n\n    this.Namespace = 'QCE/CFS';\n    this.InstanceAliasList = CFSInstanceAliasList;\n    this.InvalidDimensions = CFSInvalidDemensions;\n    this.InstanceReqConfig = {\n      service: 'cfs',\n      action: 'DescribeCfsFileSystems',\n      responseField: 'FileSystems',\n    };\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n}\n","import _, { flattenDeep } from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  CKAFKAInstanceAliasList,\n  CKAFKATopicAliasList,\n  CKAFKAInvalidDemensions,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\n\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class CKFKADatasource extends BaseDatasource {\n  Namespace = 'QCE/CKAFKA';\n  InstanceAliasList = CKAFKAInstanceAliasList;\n  TopicAliasList = CKAFKATopicAliasList;\n  InvalidDimensions = CKAFKAInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'ckafka',\n    action: 'DescribeInstances',\n    responseField: 'InstanceList',\n  };\n  extraMetricDims = ['topicId'];\n  // extrasAlias = ['topicId', 'consumerGroup', 'partition'];\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  consumerGroupCache = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getConsumerGroups(region, params) {\n    const serviceInfo = GetServiceAPIInfo(region, 'ckafka');\n    let { InstanceId, groupname = '', topicid = '' } = params;\n    groupname = this.getVariable(groupname); // \n    topicid = this.getVariable(topicid); // \n    try {\n      groupname = JSON.parse(groupname)[templateQueryIdMap.groupName];\n      topicid = JSON.parse(topicid)[templateQueryIdMap.topicId];\n    } catch (e) {}\n    let consumerGoup = this.consumerGroupCache[InstanceId];\n    if (!consumerGoup) {\n      // \n      consumerGoup = await fetchAllFactory(\n        (data) => {\n          return this.doRequest(\n            {\n              url: this.url + serviceInfo.path,\n              data,\n            },\n            serviceInfo.service,\n            { region, action: 'DescribeConsumerGroup' }\n          );\n        },\n        _.pick(params, 'InstanceId'),\n        ['GroupListForMonitor', 'TopicListForMonitor', 'PartitionListForMonitor', 'GroupList']\n      );\n      // topickDescribeTopic\n      const topicList = await fetchAllFactory(\n        (data) => {\n          return this.doRequest(\n            {\n              url: this.url + serviceInfo.path,\n              data,\n            },\n            serviceInfo.service,\n            { region, action: 'DescribeTopic' }\n          );\n        },\n        _.pick(params, 'InstanceId'),\n        ['TopicList']\n      );\n      consumerGoup[1] = flattenDeep(topicList);\n      console.log({ consumerGoup, topicList });\n      this.consumerGroupCache[InstanceId] = consumerGoup;\n    }\n\n    let [GroupList, TopicList, PartitionList, GroupDetailList] = consumerGoup;\n    // \n    TopicList = _.uniqBy(TopicList, (item) => (item as any).TopicId);\n    GroupList = _.uniqBy(GroupList, (item) => (item as any).GroupName);\n    PartitionList = _.uniqBy(PartitionList, (item) => (item as any).PartitionId);\n    GroupDetailList = _.uniqBy(GroupDetailList, (item) => (item as any).ConsumerGroupName);\n    // consumergroupname\n    const SubscribedInfos = GroupDetailList.find((d) => d.ConsumerGroupName === groupname)?.SubscribedInfo || [];\n    // PartitonList\n    const partitions =\n      SubscribedInfos.find((sub) => sub.TopicId === topicid)?.Partition?.map((p) => ({\n        [templateQueryIdMap.partition]: p,\n      })) || [];\n    return {\n      GroupList,\n      TopicList:\n        SubscribedInfos.length > 0\n          ? SubscribedInfos.map(({ TopicId, TopicName }) => ({ TopicId, TopicName }))\n          : TopicList,\n      PartitionList: partitions.length > 0 ? partitions : PartitionList,\n    };\n  }\n  formatTopicVarDisplay(topic: Record<string, any>, displayTpl: string | undefined, topicAlias: string) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !this.TopicAliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(topic, b);\n      });\n    }\n    return this.getAliasValue(topic, topicAlias);\n  }\n  // \n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    let { topicalias, groupname, topicid } = query;\n    const result = await this.getConsumerGroups(region, {\n      InstanceId: instance.InstanceId,\n      groupname,\n      topicid,\n    });\n    let { display } = query;\n    const { TopicList, GroupList, PartitionList } = result;\n    topicalias = this.TopicAliasList.includes(topicalias) ? topicalias : this.templateQueryIdMap.topicId;\n\n    const rs = {\n      GroupList: GroupList.map((group) => {\n        group._InstanceAliasValue = group.GroupName;\n        return {\n          text: group.GroupName,\n          value: group[templateQueryIdMap.groupName],\n        };\n      }),\n      TopicList: TopicList.map((topic) => {\n        const topicAlias = this.formatTopicVarDisplay(topic, display, topicalias);\n        topic._InstanceAliasValue = topicAlias || topic[templateQueryIdMap.topicId];\n        return {\n          text: topicAlias || topic[templateQueryIdMap.topicId],\n          value: topic[templateQueryIdMap.topicId], // JSON.stringify()\n          TopicName: topic.TopicName,\n        };\n      }),\n      PartitionList: PartitionList.map((par) => {\n        par._InstanceAliasValue = par[templateQueryIdMap.partition];\n        return {\n          text: par[templateQueryIdMap.partition],\n          value: par[templateQueryIdMap.partition],\n        };\n      }),\n    };\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.TopicList, TopicList);\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.GroupList, GroupList);\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.PartitionList, PartitionList);\n    // console.log({ res1, res2, res3 });\n    // console.log({rs});\n    // action\n    switch (action) {\n      case 'DescribeTopicList':\n        return rs.TopicList;\n      case 'DescribeGroup':\n        return rs.GroupList;\n      case 'DescribePartion':\n        return rs.PartitionList;\n      default:\n        return [];\n    }\n  }\n\n  // async getOtherAlias(datapoints) {\n  //   let dimension;\n  //   for(let j = 0; j < datapoints.Dimensions.length; j++){\n  //     if(datapoints.Dimensions[j] !== 'InstanceName'){\n  //       dimension.push(datapoints.Dimensions[j])\n  //     }\n  //   }\n  //   console.log(dimension);\n\n  //   return dimension\n  // }\n}\n","import {\n  InstanceAliasList,\n  LOADBALANCEListenerAliasList,\n  LOADBALANCEServerAliasList,\n  LOADBALANCEVALIDDIMENSIONS,\n  templateQueryIdMap,\n  keyInStorage,\n  CANDIATEDIMENSIONS,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class DCDatasource extends BaseDatasource {\n  // Namespace = namespace;\n  InstanceAliasList = InstanceAliasList;\n  ListenerAliasList = LOADBALANCEListenerAliasList;\n  ServerAliasList = LOADBALANCEServerAliasList;\n  CandiateDimensions = CANDIATEDIMENSIONS;\n  // InvalidDimensions = LOADBALANCEVALIDDIMENSIONS;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  // InstanceReqConfig = {\n  //   service: 'clb',\n  //   action: 'DescribeLoadBalancers',\n  //   responseField: 'LoadBalancerSet',\n  // };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getInvalidDimensions(selfIns: any, tagret: any) {\n    if (selfIns.service === 'lbPrivate' || (selfIns.service === 'lbPublic' && tagret.servers))\n      return { ...LOADBALANCEVALIDDIMENSIONS, vpcId: 'NumericalVpcId' };\n    return LOADBALANCEVALIDDIMENSIONS;\n  }\n  getInstanceReqConfig(selfIns: any) {\n    const res: any = {\n      service: 'clb',\n      action: 'DescribeLoadBalancers',\n      responseField: 'LoadBalancerSet',\n    };\n    if (selfIns.service === 'lbPrivate' || selfIns.service === 'loadBalance') {\n      res.interceptor = {\n        request: (param) => ({ ...param, LoadBalancerType: 'INTERNAL' }),\n      };\n    }\n    if (selfIns.service === 'lbPublic') {\n      res.interceptor = {\n        request: (param) => ({ ...param, LoadBalancerType: 'OPEN' }),\n      };\n    }\n    return res;\n  }\n  async getListenerList(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'clb');\n\n    // \n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeListeners' }\n        );\n      },\n      {\n        LoadBalancerId: instanceId,\n      },\n      'Listeners'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  formatVariableDisplay(data: Record<string, any>, displayTpl: string | undefined, alias: string, aliasList: string[]) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !aliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(data, b);\n      });\n    }\n    return this.getAliasValue(data, alias);\n  }\n  async getServerList(params: any) {\n    const { region, instanceId, listenerId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'clb');\n\n    const res = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { LoadBalancerId: instanceId, ListenerIds: [listenerId] },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeTargets' }\n    );\n    const { Listeners } = res;\n    const serversList = _.reduce(\n      Listeners,\n      (prev, item) => {\n        const { Rules, Targets } = item;\n        if (!_.isEmpty(Rules)) {\n          return _.concat(prev, _.flatten(_.map(Rules, (elem) => (_.isEmpty(elem.Targets) ? [] : elem.Targets))));\n        }\n        if (!_.isEmpty(Targets)) {\n          return _.concat(prev, Targets);\n        }\n        return prev;\n      },\n      []\n    );\n    return serversList;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const { display } = query;\n    if (action === 'DescribeListeners') {\n      const rs = await this.getListenerList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      let { listeneralias } = query;\n      listeneralias = this.ListenerAliasList.includes(listeneralias) ? listeneralias : this.templateQueryIdMap.listener;\n      const result = rs.flatMap((o) => {\n        const listenAlias = this.formatVariableDisplay(o, display, listeneralias, this.ListenerAliasList);\n        const lisId = o[this.templateQueryIdMap.listener];\n        o._InstanceAliasValue = listenAlias || lisId;\n        // if (!o[listeneralias]) return [];\n        return {\n          text: listenAlias || lisId,\n          value: lisId,\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.listener, rs);\n      return result;\n    }\n    if (action === 'DescribeServer' || action === 'DescribeServerPort') {\n      const { listenerid, serverprivateip, serveralias } = query;\n      const serverPrivateIp = this.getVariable(serverprivateip);\n      const serversList = await this.getServerList({\n        region,\n        instanceId: instance[this.templateQueryIdMap.instance],\n        listenerId: this.getVariable(listenerid),\n      });\n      const serverAlias = this.ServerAliasList.includes(serveralias) ? serveralias : this.templateQueryIdMap.servers;\n      const result = _.chain(serversList)\n        .filter((item) => {\n          if (action === 'DescribeServer') {\n            return true;\n          }\n          return serverPrivateIp === _.get(item, 'PrivateIpAddresses.0');\n        })\n        .map((item) => {\n          const alias = this.formatVariableDisplay(item, display, serverAlias, this.ServerAliasList);\n          const id = item[this.templateQueryIdMap.servers][0];\n          item._InstanceAliasValue = alias || id;\n          return action === 'DescribeServer'\n            ? {\n                text: alias || id,\n                value: id,\n              }\n            : {\n                text: `${_.get(item, 'Port')}`,\n                value: _.get(item, 'Port'),\n              };\n        })\n        .value();\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.servers, serversList);\n      return action === 'DescribeServer' ? result : _.uniqBy(result, 'text');\n    }\n    return [];\n  }\n}\n","import {\n  CLSInstanceAliasList,\n  CLSInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CLSInstanceAliasList;\n  InvalidDimensions = CLSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'cls',\n    action: 'DescribeTopics',\n    responseField: 'Topics',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  // async getInstances(region, params = {}) {\n  //   const superRes = await super.getInstances(region, params);\n  //   console.log({ superRes });\n  // }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n}\n","import { BaseDatasource } from '../_base/datasource';\nimport { InvalidDemensions, InstanceAliasList, templateQueryIdMap } from './query_def';\n\nexport default class CmqDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'cmq',\n    action: 'DescribeQueueDetail',\n    responseField: 'QueueSet',\n  };\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawMetric = await super.getMetrics(region);\n    return rawMetric.map((metric) => {\n      let dims = metric.Dimensions[0].Dimensions;\n      dims = Array.from(new Set([...dims, 'queueId', 'queueName']));\n      metric.Dimensions[0].Dimensions = dims;\n      return metric;\n    });\n  }\n}\n","import { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  InvalidDemensions,\n  InstanceAliasList,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class CmqTopicDatasource extends BaseDatasource {\n  Namespace = 'QCE/CMQTOPIC';\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'cmq',\n    action: 'DescribeTopicDetail',\n    responseField: 'TopicSet',\n  };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  extraMetricDims = ['subscriptionId']; // \n\n  async fetchAllSubscription(region: string, params: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'cmq');\n    // console.log(serviceInfo, 'serviceinfo');\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeSubscriptionDetail' }\n        );\n      },\n      params,\n      'SubscriptionSet'\n    );\n\n    return rs[0];\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    let result;\n    switch (action) {\n      case 'DescribeSubscriptionDetail':\n        result = await this.fetchAllSubscription(region, { TopicName: instance.TopicName });\n        // eslint-disable-next-line no-case-declarations\n        const rs = result.map((item) => {\n          item._InstanceAliasValue = item.SubscriptionId;\n          return { text: item.SubscriptionId, value: item[templateQueryIdMap.subscription] };\n        });\n        await instanceStorage.setExtraStorage(this.service, this.keyInStorage.subscriptionId, result);\n        return rs;\n      default:\n        return [];\n    }\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawMetric = await super.getMetrics(region);\n    return rawMetric.map((metric) => {\n      let dims = metric.Dimensions[0].Dimensions;\n      dims.push('topicId');\n      if (['NumOfNotify', 'NumOfSuccNotify'].includes(metric.MetricName)) {\n        dims.push('subscriptionId');\n      }\n\n      dims = Array.from(new Set(dims));\n      metric.Dimensions[0].Dimensions = dims;\n      return metric;\n    });\n  }\n}\n","import { BaseDatasource } from '../_base/datasource';\n\ninterface BucketListResult {\n  Owner: { ID: 'string'; DisplayName: 'string' };\n  Buckets: { Name: string; Region: string }[];\n}\n\nexport default class CosDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = {};\n  InstanceAliasList: string[] = ['BucketName'];\n  templateQueryIdMap = {\n    instance: 'BucketName',\n  };\n  InstanceReqConfig = {} as any; // \n  cosURL: string;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n    this.cosURL = `/api/datasources/${this.instanceSettings.id}/resources/tc_cos_list`;\n  }\n  async getInstances(region: string) {\n    return this.backendSrv\n      .datasourceRequest({\n        url: this.cosURL,\n        method: 'GET',\n        params: { region },\n        headers: { 'Content-Type': 'application/json' },\n      })\n      .then((res) => {\n        let { data }: { data: BucketListResult } = res;\n        data = data || ({} as any);\n        let { Buckets } = data;\n        Buckets = Buckets || [];\n\n        // name contains appidsee detail https://cloud.tencent.com/document/product/436/8291\n        return Buckets.map((item) => ({\n          ...item,\n          BucketName: item.Name,\n          bucket: item.Name,\n          appid: item.Name.split('-').slice(-1)[0],\n        }));\n      });\n  }\n\n  async getVariableInstances(region) {\n    return this.getInstances(region);\n  }\n}\n","import {\n  CPMInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CPMInstanceAliasList;\n  InvalidDimensions = CPMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'bm',\n    action: 'DescribeDevices',\n    responseField: 'DeviceInfoSet',\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n\n  getFilterDropdown({ field, region }) {\n    if (field === 'DeviceClassCode') {\n      const serviceInfo = GetServiceAPIInfo(region, 'bm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        'bm',\n        { region, action: 'DescribeDeviceClass' }\n      ).then((response) => {\n        return _.map(response.DeviceClassSet || [], (item) => {\n          return { text: item.DeviceClassCode, value: item.DeviceClassCode };\n        });\n      });\n    }\n    return [];\n  }\n}\n","import _ from 'lodash';\nimport { CVMInstanceAliasList, isValidMetric, modifyDimensons } from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CVMDatasource extends BaseDatasource {\n  Namespace = 'QCE/CVM';\n  InstanceAliasList = CVMInstanceAliasList;\n  InvalidDimensions = {};\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'cvm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return modifyDimensons(item);\n        }\n        return null;\n      })\n    );\n  }\n\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'cvm' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'api');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { Product: 'cvm' },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n}\n","import {\n  CYNOSDBMYSQLInstanceAliasList,\n  CYNOSDBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n  checkKeys,\n} from './query_def';\nimport _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\n// import { t } from '../../../locale';\n\nexport default class CYNOSDBMYSQLDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CYNOSDBMYSQLInstanceAliasList;\n  InvalidDimensions = CYNOSDBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  checkKeys = checkKeys;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'cynosdb',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n  // getRegions() {\n  //   return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  // }\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'cynosdbmysql' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n  // InstanceId\n  getDefaultInsObj(ins: string) {\n    return {\n      [templateQueryIdMap.instance]: ins,\n    }\n  }\n}\n","import { DCInstanceAliasList, DCInvalidDemensions, namespace, modifyDimensons } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCInstanceAliasList;\n  InvalidDimensions = DCInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'DirectConnectId',\n  };\n  InstanceReqConfig = {\n    service: 'dc',\n    action: 'DescribeDirectConnects',\n    responseField: 'DirectConnectSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import {\n  DCDBInstanceAliasList,\n  DCDBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCDBInstanceAliasList;\n  InvalidDimensions = DCDBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'dcdb',\n    action: 'DescribeDCDBInstances',\n    responseField: 'Instances',\n  };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  extraActionMap = {\n    DescribeDCDBShards: {\n      service: 'dcdb',\n      action: 'DescribeDCDBShards',\n      responseField: 'Shards',\n      pickKey: 'ShardInstanceId',\n    },\n    DescribeDCDBInstanceNodeInfo: {\n      service: 'dcdb',\n      action: 'DescribeDCDBInstanceNodeInfo',\n      responseField: 'NodesInfo',\n      pickKey: 'NodeId',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getRegion, region\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/dcdb',\n      },\n      'dcdb',\n      { action: 'DescribeDCDBSaleInfo', region: 'ap-guangzhou' }\n    ).then((response) => {\n      return _.map(response.RegionList || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n          RegionState: item.RegionState,\n        };\n      });\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      InstanceId: instance[this.templateQueryIdMap.instance],\n      Limit: 100,\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import { DCGInstanceAliasList, DCGInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCGInstanceAliasList;\n  InvalidDimensions = DCGInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeDirectConnectGateways',\n    responseField: 'DirectConnectGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { DCXInstanceAliasList, DCXInvalidDemensions, namespace, modifyDimensons } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCXDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCXInstanceAliasList;\n  InvalidDimensions = DCXInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'DirectConnectTunnelId',\n  };\n  InstanceReqConfig = {\n    service: 'dc',\n    action: 'DescribeDirectConnectTunnels',\n    responseField: 'DirectConnectTunnelSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import { BaseDatasource } from '../_base/datasource';\nimport {\n  ECDNInstanceAliasList,\n  ECDNInvalidDemensions,\n  modifyDimensons,\n  namespace,\n  templateQueryIdMap,\n} from './query_def';\n\nexport default class ECDNDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECDNInstanceAliasList;\n  InvalidDimensions = ECDNInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'ecdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import {\n  ECMInstanceAliasList,\n  ECMInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMInstanceAliasList;\n  InvalidDimensions = ECMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import {\n  ECMBLOCKSTORAGEInstanceAliasList,\n  ECMBLOCKSTORAGEInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMBLOCKSTORAGEInstanceAliasList;\n  InvalidDimensions = ECMBLOCKSTORAGEInvalidDemensions;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  templateQueryIdMap = templateQueryIdMap;\n  keyInStorage = keyInStorage;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getDiskList(params: any) {\n    const { payload } = params;\n    const { InstanceId } = payload;\n    const instanceCache = await instanceStorage.getInstance(this.service);\n    const instanceObj: any =\n      _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === InstanceId)) ?? {};\n    const { DataDisks: dataDisks } = instanceObj;\n    return dataDisks;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      InstanceId: instance,\n      Limit: 100,\n    };\n    const rs = await this.getDiskList({ region, action, payload });\n    const result = rs.map((o) => {\n      o._InstanceAliasValue = o[this.templateQueryIdMap.diskId];\n      return {\n        text: o[this.templateQueryIdMap.diskId],\n        value: o[this.templateQueryIdMap.diskId],\n      };\n    });\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.diskId, rs);\n    return result;\n  }\n}\n","import { ECMLBInstanceAliasList, ECMLBInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMLBInstanceAliasList;\n  InvalidDimensions = ECMLBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import {\n  GSEInstanceAliasList,\n  GSEInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = GSEInstanceAliasList;\n  InvalidDimensions = GSEInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'gse',\n    action: 'DescribeInstances',\n    responseField: 'Instances',\n  };\n\n  keyInStorage = keyInStorage;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n  async getQueueNameList(params: any) {\n    const { region } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // \n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeGameServerSessionQueues' }\n        );\n      },\n      {},\n      'GameServerSessionQueues'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  async getFleetList(params: any) {\n    const { region } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // \n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'ListFleets' }\n        );\n      },\n      {},\n      'FleetIds'\n    );\n    const [rs] = res;\n    return rs.map((r) => ({ [this.templateQueryIdMap.FleetId]: r }));\n  }\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'DescribeGameServerSessionQueues') {\n      const rs = await this.getQueueNameList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.Name];\n        return {\n          text: o[this.templateQueryIdMap.Name],\n          value: o[this.templateQueryIdMap.Name],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.queue, rs);\n      return result;\n    }\n    if (action === 'ListFleets') {\n      const rs = await this.getFleetList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.FleetId];\n        return {\n          text: o[this.templateQueryIdMap.FleetId],\n          value: o[this.templateQueryIdMap.FleetId],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.fleet, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\nimport { LBInstanceAliasList, LBInvalidDemensions } from './query_def';\n\nexport default class SCFDatasource extends BaseDatasource {\n  Namespace = 'QCE/LB';\n  InstanceAliasList = LBInstanceAliasList;\n  InvalidDimensions = LBInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'AddressId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeAddresses',\n    responseField: 'AddressSet',\n    interceptor: {\n      request: (params) => {\n        const { Filters } = params;\n        if (!Filters) {\n          params.Filters = [];\n        }\n        params.Filters.push({\n          Name: 'address-type',\n          Values: ['EIP'],\n        });\n        return params;\n      }, //  \n    },\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) =>\n      /* hack eip */\n      item.Dimensions?.[0]?.Dimensions?.includes('eip')\n    );\n  }\n\n  // async getInstances(region, params = {}) {\n  //   const rawSet = await super.getInstances(region, params);\n  //   /* hack eip */\n  //   return rawSet.filter((item) => item.AddressType === 'EIP');\n  // }\n\n  // async getVariableInstances(region, query = {}) {\n  //   const rawSet = await super.getVariableInstances(region, query);\n  //   return rawSet.filter((item) => item.AddressType === 'EIP');\n  // }\n}\n","import _ from 'lodash';\nimport {\n  LIGHTHOUSEInstanceAliasList,\n  templateQueryIdMap,\n  LighthouseInvalidDemensions,\n  modifyDimensons,\n} from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class LighthouseDatasource extends BaseDatasource {\n  Namespace = 'QCE/LIGHTHOUSE';\n  InstanceAliasList = LIGHTHOUSEInstanceAliasList;\n  InvalidDimensions = LighthouseInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'lighthouse',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'lighthouse' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'api');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { Product: 'lighthouse' },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n}\n","import _ from 'lodash';\nimport {\n  MONGODBInstanceAliasList,\n  MONGODBInvalidDemensions,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class MONGODBDatasource extends BaseDatasource {\n  Namespace = 'QCE/CMONGO';\n  InstanceAliasList = MONGODBInstanceAliasList;\n  ReplicaAliasList = ['ReplicaSetId', 'ReplicaSetName'];\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n\n  InstanceReqConfig = {\n    service: 'mongodb',\n    action: 'DescribeDBInstances',\n    responseField: 'InstanceDetails',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getInvalidDimensions(selfIns: any, target: any) {\n    if (target.node && target.node !== '') {\n      return { target: 'Node' };\n    }\n    if (target.replica && target.replica !== '') {\n      return { target: 'Replica' };\n    }\n    return MONGODBInvalidDemensions;\n  }\n  formatVariableDisplay(data: Record<string, any>, displayTpl: string | undefined, alias: string, aliasList: string[]) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !aliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(data, b);\n      });\n    }\n    return this.getAliasValue(data, alias);\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const { display } = query;\n    if (action === 'DescribeReplicas') {\n      const [res] = await this.getInstances(region, { InstanceIds: [instance[this.templateQueryIdMap.instance]] });\n      let { replicaalias } = query;\n      replicaalias = this.ReplicaAliasList.includes(replicaalias) ? replicaalias : this.templateQueryIdMap.replica;\n      const result = _.map(_.get(res, 'ReplicaSets', []), (item) => {\n        const replicaAlias = this.formatVariableDisplay(item, display, replicaalias, this.ReplicaAliasList);\n        item._InstanceAliasValue = replicaAlias || item[this.templateQueryIdMap.replica];\n        return { text: item.ReplicaSetId, value: item.ReplicaSetId };\n      });\n      await instanceStorage.setExtraStorage(\n        this.service,\n        this.queryMonitorExtraConfg.Replica.dim_KeyInStorage,\n        _.get(res, 'ReplicaSets', [])\n      );\n      return result;\n    }\n    if (action === 'DescribeReplicaNodes') {\n      const [res] = await this.getInstances(region, { InstanceIds: [instance[this.templateQueryIdMap.instance]] });\n      const { replicasetid } = query;\n      const targetReplica = _.find(_.get(res, 'ReplicaSets', []), { ReplicaSetId: this.getVariable(replicasetid) });\n      let result = _.times(targetReplica.SecondaryNum, (index) => {\n        const nodeId = `${targetReplica.ReplicaSetId}-node-slave${index}`;\n        return { text: nodeId, value: nodeId };\n      });\n      if (targetReplica) {\n        result = [\n          { text: `${targetReplica.ReplicaSetId}-node-primary`, value: `${targetReplica.ReplicaSetId}-node-primary` },\n          ...result,\n        ];\n      }\n      await instanceStorage.setExtraStorage(\n        this.service,\n        this.queryMonitorExtraConfg.Node.dim_KeyInStorage,\n        result.map((item) => ({ NodeId: item.value, _InstanceAliasValue: item.value }))\n      );\n      return result;\n    }\n\n    return [];\n  }\n}\n","import { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  InvalidDemensions,\n  InstanceAliasList,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class MrHdfsDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  extrasAlias = [];\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  InstanceReqConfig = {\n    service: 'emr',\n    action: 'DescribeInstances',\n    responseField: 'ClusterList',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        DisplayStrategy: params.DisplayStrategy || 'monitorManage',\n        ProjectId: params.ProjectId || -1,\n      }), //  \n      response: (data: any[]) => data.map(({ ClusterId, ClusterName }) => ({ ClusterId, ClusterName })),\n    },\n  };\n\n  async fetchAllNodes(region: string, params: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'emr');\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeClusterNodes' }\n        );\n      },\n      { ...params, isOffsetPage: true },\n      'NodeList'\n    );\n\n    // return rs[0].map((item) => ({ text: item.Ip, value: item.Ip }));\n    return rs[0];\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    let result;\n    switch (action) {\n      case 'DescribeClusterNodes': {\n        const resultT = await this.fetchAllNodes(region, { InstanceId: instance.ClusterId, NodeFlag: 'all' });\n        result = resultT.map((item) => {\n          item._InstanceAliasValue = item[templateQueryIdMap.node];\n          return { text: item[templateQueryIdMap.node], value: item[templateQueryIdMap.node] };\n        });\n        await instanceStorage.setExtraStorage(this.service, this.keyInStorage.node, resultT);\n\n        return result;\n      }\n      default:\n        return [];\n    }\n  }\n}\n","import _ from 'lodash';\nimport { NATGATEWAYInstanceAliasList, NATInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class NATGATEWAYDatasource extends BaseDatasource {\n  Namespace = 'QCE/NAT_GATEWAY';\n  InstanceAliasList = NATGATEWAYInstanceAliasList;\n  InvalidDimensions = NATInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'NatGatewayId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeNatGateways',\n    responseField: 'NatGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import _ from 'lodash';\nimport { OVCDNInstanceAliasList, OVCDNInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class OVCDNDatasource extends BaseDatasource {\n  Namespace = 'QCE/OV_CDN';\n  InstanceAliasList = OVCDNInstanceAliasList;\n  InvalidDimensions = OVCDNInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'Domain',\n  };\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import { PCXInstanceAliasList, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo, GetRequestParamsV2, SliceLength } from '../../common/constants';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = PCXInstanceAliasList;\n  InvalidDimensions = {};\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'xx',\n    action: 'xx',\n    responseField: 'xx',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getInstances(region = 'ap-guangzhou', params = {}) {\n    params = { offset: 0, limit: 50, ...params };\n    const serviceInfo = GetServiceAPIInfo(region, 'pcx');\n    return this.doRequestV2(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcPeeringConnections' }\n    ).then((response) => {\n      return response.data || [];\n    });\n  }\n\n  /**\n   *  PCX \n   * @param region \n   */\n  getVariableInstances(region, query) {\n    let result: any[] = [];\n    const params = { Offset: 0, Limit: 50, ...query };\n    const serviceInfo = GetServiceAPIInfo(region, 'pcx');\n    return this.doRequestV2(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcPeeringConnections' }\n    ).then((response) => {\n      result = response.data || [];\n      const total = response.totalCount || 0;\n      if (result.length >= total) {\n        return result;\n      } else {\n        const param = SliceLength(total, 50);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getInstances(region, item));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return result;\n          })\n          .catch((error) => {\n            return result;\n          });\n      }\n    });\n  }\n\n  getVpcId(region, params: any = {}) {\n    params = { Offset: 0, Limit: 20, ...params };\n    // TODO \n    params.Offset = String(params.Offset);\n    params.Limit = String(params.Limit);\n    const serviceInfo = GetServiceAPIInfo(region, 'vpc');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcs' }\n    ).then((response) => {\n      return _.map(response.VpcSet || [], (item) => ({ text: item.VpcId, value: item.VpcId }));\n    });\n  }\n\n  getVpcIds(region) {\n    let result: any[] = [];\n    const params: any = { Offset: 0, Limit: 100 };\n    // TODO \n    params.Offset = String(params.Offset);\n    params.Limit = String(params.Limit);\n    const serviceInfo = GetServiceAPIInfo(region, 'vpc');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcs' }\n    ).then((response) => {\n      result = _.map(response.VpcSet || [], (item) => ({ text: item.VpcId, value: item.VpcId }));\n      const total = response.TotalCount || 0;\n      if (result.length >= total) {\n        return result;\n      } else {\n        const param = SliceLength(total, 100);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getVpcId(region, item));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return result;\n          })\n          .catch((error) => {\n            return result;\n          });\n      }\n    });\n  }\n\n  /**\n   *  API 2.0 \n   * @param options\n   * @param service\n   * @param signObj\n   */\n  async doRequestV2(options, service, signObj: any = {}) {\n    options = await GetRequestParamsV2(\n      options,\n      service,\n      signObj,\n      this.secretId,\n      this.instanceSettings.id,\n      this.backendSrv\n    );\n    return this.backendSrv\n      .datasourceRequest(options)\n      .then((response) => {\n        return _.get(response, 'data', {});\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n","import _ from 'lodash';\nimport {\n  POSTGRESInstanceAliasList,\n  PostgreInvalidDemensions,\n  namespace,\n  modifyDimensons,\n  templateQueryIdMap,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDBDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = POSTGRESInstanceAliasList;\n  InvalidDimensions = PostgreInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'postgres',\n    action: 'DescribeDBInstances',\n    responseField: 'DBInstanceSet',\n  };\n\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { get } from 'lodash';\nimport { QAAPInstanceAliasList, QAAPInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class QAAPDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = QAAPInstanceAliasList;\n  InvalidDimensions = QAAPInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'gaap',\n    action: 'DescribeProxies',\n    responseField: 'ProxySet',\n    interceptor: {\n      // response: (data: unknown[]) =>[\n      //   {\n      //     \"NetDetectId\": \"netd-12345678\",\n      //   },\n      // ],\n    },\n  };\n  // MetricReqConfig = {\n  //   resultFilter: modifyDimensons,\n  // };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter(\n      (item) =>\n        get(item, 'Dimensions.length') === 1 &&\n        get(item, 'Dimensions[0].Dimensions.length') === 1 &&\n        get(item, 'Dimensions[0].Dimensions[0]') === 'channelId'\n    );\n  }\n}\n","import _ from 'lodash';\nimport { REDISInstanceAliasList, RedisInvalidDemensions, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class REDISDatasource extends BaseDatasource {\n  Namespace = 'QCE/REDIS';\n  InstanceAliasList = REDISInstanceAliasList;\n  InvalidDimensions = RedisInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'redis',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n    interceptor: {\n      request: (params) => ({ ...params, MonitorVersion: '1m' }),\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) => isValidMetric(item));\n  }\n}\n","import _ from 'lodash';\nimport {\n  REDISMEMInstanceAliasList,\n  namespace,\n  RedisMemInvalidDemensions,\n  templateQueryIdMap,\n  NodeType,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\n\nexport default class REDISDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = REDISMEMInstanceAliasList;\n  InvalidDimensions = RedisMemInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  extrasAlias = [RedisMemInvalidDemensions.pnodeid, RedisMemInvalidDemensions.rnodeid];\n  InstanceReqConfig = {\n    service: 'redis',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n    interceptor: {\n      request: (params) => ({ ...params, MonitorVersion: '5s' }),\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getInstanceNodeInfo(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'redis');\n\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeInstanceNodeInfo' }\n        );\n      },\n      {\n        InstanceId: instanceId,\n      },\n      NodeType\n    );\n\n    return res;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    if (action === 'DescribeInstanceNodeInfo') {\n      const rs = await this.getInstanceNodeInfo({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const { nodetype } = query;\n      const ndoeTypeIndex = NodeType.indexOf(nodetype);\n      return ndoeTypeIndex === -1\n        ? []\n        : _.map(rs[ndoeTypeIndex], (item) => ({ text: item.NodeId, value: item.NodeId }));\n    }\n    return [];\n  }\n}\n","import _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  SCFInstanceAliasList,\n  SCFInvalidDemensions,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  templateQueryIdMap,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class SCFDatasource extends BaseDatasource {\n  InstanceKey: string;\n  Namespace: string;\n  InstanceAliasList: string[];\n  InvalidDimensions: Record<string, string>;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  InstanceReqConfig: { service?: string | undefined; action: string; responseField: string };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n\n    this.Namespace = 'QCE/SCF_V2';\n    this.InstanceAliasList = SCFInstanceAliasList;\n    this.InvalidDimensions = SCFInvalidDemensions;\n    this.InstanceReqConfig = {\n      service: 'scf',\n      action: 'ListFunctions',\n      responseField: 'Functions',\n    };\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter(\n      (item) =>\n        /* hack functionName */\n        item.Dimensions?.[0]?.Dimensions?.includes('functionName') &&\n        item.Dimensions?.[0]?.Dimensions?.includes('namespace') &&\n        !item.MetricName.startsWith('Name')\n    );\n  }\n\n  getVersions(region, params) {\n    const serviceInfo = GetServiceAPIInfo(region, 'scf');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'ListVersionByFunction' }\n    ).then((response) => {\n      return response.Versions;\n    });\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'ListVersionByFunction') {\n      const rs = await this.getVersions(region, { FunctionName: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.version];\n        return {\n          text: o[this.templateQueryIdMap.version],\n          value: o[this.templateQueryIdMap.version],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.version, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  SQLSERVERInstanceAliasList,\n  SQLSERVERInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = SQLSERVERInstanceAliasList;\n  InvalidDimensions = SQLSERVERInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'sqlserver',\n    action: 'DescribeDBInstances',\n    responseField: 'DBInstances',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(rawSet.map((item) => modifyDimensons(item)));\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  getFilterDropdown({ field, region }) {\n    if (field === 'Zone') {\n      const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        serviceInfo.service,\n        { region, action: 'DescribeZones' }\n      ).then((response) => {\n        return _.filter(\n          _.map(response.ZoneSet || [], (item) => {\n            return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n          }),\n          (item) => item.ZoneState === 'AVAILABLE'\n        );\n      });\n    }\n    return [];\n  }\n}\n","import {\n  TCAPLUSInstanceAliasList,\n  TCAPLUSInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TCAPLUSInstanceAliasList;\n  InvalidDimensions = TCAPLUSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'tcaplusdb',\n    action: 'DescribeTables',\n    responseField: 'TableInfos',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/tcaplusdb',\n      },\n      'tcaplusdb',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      return _.map(response.RegionInfos || [], (item) => {\n        return {\n          text: t(item.RegionName),\n          value: item.RegionName,\n        };\n      });\n    });\n  }\n}\n","import {\n  TDMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeClusters',\n    responseField: 'ClusterSet',\n  };\n  extraActionMap = {\n    DescribeTopics: {\n      service: 'tdmq',\n      action: 'DescribeTopics',\n      responseField: 'TopicSets',\n      pickKey: 'TopicName',\n    },\n    DescribeEnvironments: {\n      service: 'tdmq',\n      action: 'DescribeEnvironments',\n      responseField: 'EnvironmentSet',\n      pickKey: 'EnvironmentId',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(rawSet.map((item) => modifyDimensons(item)));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    // console.log({ rs });\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      ClusterId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      if (action === 'DescribeTopics') {\n        payload.EnvironmentId = this.getVariable(query['environmentid']);\n      }\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  TDMQRABBITMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQRABBITMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeRabbitMQVipInstances',\n    responseField: 'Instances',\n  };\n  extraActionMap = {\n    DescribeRabbitMQNodeList: {\n      service: 'tdmq',\n      action: 'DescribeRabbitMQNodeList',\n      responseField: 'NodeList',\n      pickKey: 'node',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      InstanceId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  TDMQROCKETMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQROCKETMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeRocketMQClusters',\n    responseField: 'ClusterList',\n    interceptor: {\n      response: (result) =>\n        _.map(result, (item) => ({\n          ...item,\n          ClusterId: _.get(item, 'Info.ClusterId', ''),\n          ClusterName: _.get(item, 'Info.ClusterName', ''),\n        })),\n    },\n  };\n  extraActionMap = {\n    DescribeRocketMQNamespaces: {\n      service: 'tdmq',\n      action: 'DescribeRocketMQNamespaces',\n      responseField: 'Namespaces',\n      pickKey: 'namespace',\n    },\n    DescribeRocketMQGroups: {\n      service: 'tdmq',\n      action: 'DescribeRocketMQGroups',\n      responseField: 'Groups',\n      pickKey: 'group',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) => !item.Dimensions?.[0]?.Dimensions?.includes('rmqcluster'));\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      ClusterId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      if (action === 'DescribeRocketMQGroups') {\n        payload.NamespaceId = this.getVariable(query['clusternamespace']);\n      }\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import { map, flatten, reduce, isEmpty, filter, split, sortBy, findIndex, trim, isArray, isString } from 'lodash';\nimport { GetServiceAPIInfo, ReplaceVariable } from '../../common/constants';\nimport { getTimeShiftInMs } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\n\nconst variableToArray = (variable) => {\n  if (isEmpty(variable)) {\n    return [];\n  }\n  if (isArray(variable)) {\n    return variable;\n  }\n  if (isString(variable)) {\n    return split(variable, ',').map((item) => trim(item));\n  }\n  return [];\n};\n\nexport default class TKEDatasource extends BaseDatasource {\n  InstanceAliasList = ['ClusterId', 'ClusterName'];\n  templateQueryIdMap = {\n    instance: 'ClusterId',\n  };\n  InvalidDimensions = {\n    tke_cluster_instance_id: 'ClusterId',\n  };\n  InstanceReqConfig = {\n    service: 'tke',\n    action: 'DescribeClusters',\n    responseField: 'Clusters',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getMonitorData(params: any, region: any, instances: any, target: any, options: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const timeshift = getTimeShiftInMs(target.timeshift);\n    const conditions = reduce(\n      target.conditions,\n      (prev, item) => {\n        if (isEmpty(item.Key) || isEmpty(item.Operator) || isEmpty(item.Value)) {\n          return prev;\n        }\n        return [\n          ...filter(prev, (e) => e.Key !== item.Key),\n          {\n            Key: ReplaceVariable(this.templateSrv, options.scopedVars, item.Key, false),\n            Operator: ReplaceVariable(this.templateSrv, options.scopedVars, item.Operator, false),\n            Value: variableToArray(ReplaceVariable(this.templateSrv, options.scopedVars, item.Value, true)),\n          },\n        ];\n      },\n      [{ Key: 'tke_cluster_instance_id', Operator: '=', Value: instances.map((item) => item['ClusterId']) }]\n    );\n\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Period: params.Period,\n          MetricNames: [params.MetricName],\n          Module: 'monitor',\n          Namespace: 'QCE/TKE',\n          EndTime: params.EndTime,\n          StartTime: params.StartTime,\n          Conditions: conditions,\n          GroupBys: variableToArray(ReplaceVariable(this.templateSrv, options.scopedVars, target.groupBys, true)),\n        },\n      },\n      serviceInfo.service,\n      { action: 'DescribeStatisticData', region }\n    ).then((response) => {\n      return flatten(\n        map(response.Data, (data) => {\n          return map(data.Points, (point) => {\n            const dimensionSort = sortBy(point.Dimensions, ['Name']);\n            const dimensionString = [\n              ...dimensionSort.splice(findIndex(dimensionSort, { Name: 'tke_cluster_instance_id' }), 1),\n              ...dimensionSort,\n            ]\n              .map((dimension) => dimension.Value)\n              .join(' - ');\n            const timeshiftString = timeshift > 0 ? `_${target.timeshift}` : '';\n            return {\n              target: `${data.MetricName} - ${dimensionString}${timeshiftString}`,\n              datapoints: map(point.Values, (value) => [value.Value, value.Timestamp * 1000 + timeshift]),\n            };\n          });\n        })\n      );\n    });\n  }\n}\n","import _ from 'lodash';\nimport { TSFInvalidDemensions, TSFInstanceAliasList, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class TSFDatasource extends BaseDatasource {\n  Namespace = 'QCE/TSF';\n  InstanceAliasList = TSFInstanceAliasList;\n  InvalidDimensions = TSFInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'tsf',\n    action: 'DescribeApplications',\n    responseField: 'Content',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import {\n  VCLBInstanceAliasList,\n  VCLBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  clbNamespaceMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VCLBInstanceAliasList;\n  InvalidDimensions = VCLBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'clb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async getAllMetrics(region: string) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const { MetricSet: public_metrics } = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: clbNamespaceMap.public,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    );\n    const { MetricSet: private_metrics } = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: clbNamespaceMap.private,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    );\n    const res = Object.values(_.keyBy(_.concat(private_metrics, public_metrics), 'MetricName'));\n    return res.map((t) => modifyDimensons(t));\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await this.getAllMetrics(region);\n    return _.compact(rawSet);\n  }\n}\n","import { VBCInstanceAliasList, VBCInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VBCInstanceAliasList;\n  InvalidDimensions = VBCInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeCcns',\n    responseField: 'CcnSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getFilterDropdown({ field }) {\n    return super.getRegions();\n  }\n}\n","import {\n  VPCNETDETECTInstanceAliasList,\n  VPCNETInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPCNETDETECTInstanceAliasList;\n  InvalidDimensions = VPCNETInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeNetDetects',\n    responseField: 'NetDetectSet',\n    interceptor: {\n      // response: (data: unknown[]) =>[\n      //   {\n      //     \"NetDetectId\": \"netd-12345678\",\n      //   },\n      // ],\n    },\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { VPNGWInstanceAliasList, VPNGWInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPNGWInstanceAliasList;\n  InvalidDimensions = VPNGWInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeVpnGateways',\n    responseField: 'VpnGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getFilterDropdown({ field, region }) {\n    if (field === 'zone') {\n      const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        serviceInfo.service,\n        { region, action: 'DescribeZones' }\n      ).then((response) => {\n        return _.filter(\n          _.map(response.ZoneSet || [], (item) => {\n            return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n          }),\n          (item) => item.ZoneState === 'AVAILABLE'\n        );\n      });\n    }\n    return [];\n  }\n}\n","import { VPNXInstanceAliasList, VPNXInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPNXInstanceAliasList;\n  InvalidDimensions = VPNXInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeVpnConnections',\n    responseField: 'VpnConnectionSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import _ from 'lodash';\nimport {\n  WAFInstanceAliasList,\n  WAFInvalidDemensions,\n  templateQueryIdMap,\n  namespace,\n  regionSupported,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { t } from '../../../locale';\n\nexport default class CDNDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = WAFInstanceAliasList;\n  InvalidDimensions = WAFInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    // service: 'waf',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__125__;","import coreModule from 'grafana/app/core/core_module';\nimport { APIGATEWAYFilterFieldsDescriptor, templateQueryIdMap, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.APIGATEWAYFilterFieldsDescriptor = APIGATEWAYFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      // console.log({namespace, service});\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraDropdown = async (target) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const instanceId = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getEnvironmentNameList')({ region, instanceId });\n\n      const result = rs.map((o) => {\n        return {\n          text: o.EnvironmentName,\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in APIGATEWAYFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">EnvironmentName</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target.EnvironmentName\" allow-custom=\"true\" lookup-text=\"true\"  get-options=\"getExtraDropdown(target)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { BWPFilterFieldsDescriptor } from './query_def';\n\nexport class BWPQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.BWPFilterFieldsDescriptor = BWPFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      BandwidthPackageIds\n      <info-popover mode=\"right-normal\">\n        ID BandwidthPackageIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.BandwidthPackageIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n         Filters 10Filter.Values 5 BandwidthPackageIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in BWPFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function bwpQuery() {\n  return {\n    template: template,\n    controller: BWPQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('bwpQuery', bwpQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDBFieldsDescriptor } from './query_def';\n\nexport class CDBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDBFieldsDescriptor = CDBFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'ZoneIds':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cdb', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/236/15872\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CDBFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function cdbQuery() {\n  return {\n    template: template,\n    controller: CDBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cdbQuery', cdbQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDNFilterFieldsDescriptor } from './query_def';\n\nexport class CDNQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDNFilterFieldsDescriptor = CDNFilterFieldsDescriptor;\n    };\n\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/228/41118\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-repeat=\"field in CDNFilterFieldsDescriptor\">\n<label class=\"gf-form-label width-14\">\n  {{ field.key }}\n  <info-popover mode=\"right-normal\">\n    {{ field.cnDescriptor }}\n    <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n  </info-popover>\n</label>\n<multi-condition\n  ng-if=\"field.type === 'inputNumbermulti'\"\n  type=\"'inputNumber'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  maxNum=\"field.max\"\n  minNum=\"field.min\"\n  on-change=\"onChange()\"\n></multi-condition>\n<multi-condition\n  ng-if=\"field.type === 'inputmulti'\"\n  type=\"'input'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  on-change=\"onChange()\"\n></multi-condition>\n<custom-select-dropdown\n  ng-if=\"field.type === 'select'\"\n  value=\"target.queries.Filters[field.key]\"\n  options=\"field.list\"\n  multiple=\"true\"\n  on-change=\"onChange()\"\n></custom-select-dropdown>\n</div>\n\n</div>\n`;\n\nexport function cdnQuery() {\n  return {\n    template: template,\n    controller: CDNQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cdnQuery', cdnQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDNPROVINCEFilterFieldsDescriptor, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Isp',\n    field: 'isp',\n  },\n  {\n    label: 'Province',\n    field: 'district',\n  },\n];\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDNPROVINCEFilterFieldsDescriptor = CDNPROVINCEFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, field });\n      return rs;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Domains are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/228/41118\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in CDNPROVINCEFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in ExtraFields\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CFSQueryDescriptor } from './query_def';\n\nexport class SCFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CFSQueryDescriptor = CFSQueryDescriptor;\n    };\n\n    $scope.getVersions = async (target) => {\n      // console.log(2222);\n\n      // return [{ text: 1, value: 1 }];\n      // console.log(target, 'target');\n      const { instance, region } = target;\n      const fetcher = $scope.datasource.getServiceFn('scf', 'getVersions');\n      if (!instance || !region) return [];\n\n      return fetcher(region, { FunctionName: JSON.parse(instance).FunctionName }).then((res) => {\n        // console.log(res, 'res');\n\n        return res;\n      });\n    };\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n  FileSystems are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/582/38170\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CFSQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: SCFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\ncoreModule.directive('cfsQuery', scfQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CKAFKAQueryDescriptor, templateQueryIdMap } from './query_def';\nimport { isTargetEqual } from '../../common/utils';\n\nconst ExtraFields = [\n  {\n    label: 'ConsumerGroup',\n    field: 'consumerGroup',\n  },\n  {\n    label: 'TopicId',\n    field: 'topicId',\n  },\n  {\n    label: 'Partition',\n    field: 'partition',\n  },\n];\n\nexport class CKAFKAQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CKAFKAQueryDescriptor = CKAFKAQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n    $scope.onInstanceChange = (n, o) => {\n      if(isTargetEqual(n,o,'LoadBalancerId')) return;\n      $scope.target.consumerGroup = '';\n      $scope.target.topicId = '';\n      $scope.target.topicName = '';\n      $scope.target.partition = '';\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('ckafka', 'getVariable')(instance);\n      if (Array.isArray(instance)) instance = instance[0];\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).InstanceId;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      const InstanceId = $scope.getInstanceId();\n      const fetcher = $scope.datasource.getServiceFn('ckafka', 'getConsumerGroups');\n      const region = $scope.datasource.getServiceFn('ckafka', 'getVariable')(target.region);\n      const res = await fetcher(region, { InstanceId, groupname: target.consumerGroup, topicid: target.topicId });\n\n      const { TopicList, GroupList, PartitionList } = res;\n      const data = {\n        GroupList: GroupList.map((group) => {\n          group._InstanceAliasValue = group.GroupName;\n          return {\n            text: group.GroupName,\n            value: JSON.stringify(group),\n          };\n        }),\n        TopicList: TopicList.map((topic) => {\n          topic._InstanceAliasValue = topic[templateQueryIdMap.topicId];\n          return {\n            text: topic[templateQueryIdMap.topicId],\n            value: JSON.stringify(topic), // JSON.stringify()\n          };\n        }),\n        PartitionList: PartitionList.map((par) => {\n          par._InstanceAliasValue = par[templateQueryIdMap.partition];\n          return {\n            text: String(par[templateQueryIdMap.partition]),\n            value: JSON.stringify(par),\n          };\n        }),\n      };\n\n      switch (field) {\n        case 'consumerGroup':\n          return data.GroupList;\n        case 'topicId':\n          return data.TopicList;\n        case 'partition':\n          return data.PartitionList;\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/583/18582\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CKAFKAQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!--  -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: CKAFKAQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n      instance: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\ncoreModule.directive('ckafkaQuery', scfQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { get, chain } from 'lodash';\nimport { LOADBALANCEFieldsDescriptor, templateQueryIdMap, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\nimport { isTargetEqual } from '../../common/utils';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.LOADBALANCEFieldsDescriptor = LOADBALANCEFieldsDescriptor;\n      $scope.serversList = [];\n    };\n    $scope.onFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n    $scope.onInstanceChange = (n, o) => {\n      if(isTargetEqual(n,o,'InstanceId')) return;\n      $scope.target.listener = '';\n      $scope.target.servers = '';\n      $scope.target.serverPort = '';\n    };\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace(namespace);\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {\n        // console.log();\n      }\n      return variableData;\n    };\n    $scope.getExtraDropdown = async (target) => {\n      const { instance } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getListenerList')({ region, instanceId });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap.listener];\n        return {\n          text: o[templateQueryIdMap.listener],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n    $scope.getServersDropdown = async (target) => {\n      const { instance, listener } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const listenerId = $scope.getVariableId(listener, 'listener');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const serversList = await $scope.datasource.getServiceFn(\n        service,\n        'getServerList'\n      )({ region, instanceId, listenerId });\n      $scope.serversList = serversList;\n      const res = chain(serversList)\n        .map((item) => {\n          item._InstanceAliasValue = get(item, 'PrivateIpAddresses.0');\n          return {\n            text: get(item, 'PrivateIpAddresses.0'),\n            value: JSON.stringify(item),\n          };\n        })\n        .uniqBy('text')\n        .value();\n      return res;\n    };\n    $scope.getServerPortDropdown = async (target) => {\n      const { servers } = $scope.target;\n      let serverPortList: any[] = [];\n      try {\n        const serversSource = JSON.parse(servers);\n        serverPortList = chain($scope.serversList)\n          .filter((item) => get(serversSource, 'PrivateIpAddresses.0') === get(item, 'PrivateIpAddresses.0'))\n          .map((item) => {\n            item._InstanceAliasValue = get(item, 'Port');\n            return {\n              text: `${get(item, 'Port')}`,\n              value: JSON.stringify(item),\n            };\n          })\n          .value();\n      } catch (error) {}\n      return serverPortList;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/214/30685\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in LOADBALANCEFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />\n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!--Listener-->\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Listeners\n      <info-popover mode=\"right-normal\">\n        \n      </info-popover>\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.listener\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.listener && namespace !== '${namespace}'\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">Servers</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.servers\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getServersDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.servers && namespace !== '${namespace}'\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">ServerPort</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.serverPort\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getServerPortDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      namespace: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\ncoreModule.directive('clbQuery', sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CLSFilterFieldsDescriptor, queryEditorName } from './query_def';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.GSEFilterFieldsDescriptor = CLSFilterFieldsDescriptor;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in GSEFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!--   -->\n<div>\n  <div class=\"gf-form-inline\" >\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">uin</label>\n      <input\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.uin\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n    </div>\n  </div>\n</div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import createQuery from '../_base/query';\nimport { InstanceQueryDescriptor } from './query_def';\n\ncreateQuery('cmqQuery', {\n  fieldDescriptor: InstanceQueryDescriptor,\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/406/42624',\n  namespace: 'QCE/CMQ',\n});\n","import coreModule from 'grafana/app/core/core_module';\nimport { InstanceQueryDescriptor } from './query_def';\n\nconst ExtraFields = [\n  {\n    label: 'Subscription()',\n    field: 'subscriptionId',\n  },\n];\n\nexport class CmqTopicQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.InstanceQueryDescriptor = InstanceQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    // { [instanceId]: {   } }\n    $scope.cacheMap = {};\n\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getTopicName = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('cmqTopic', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).TopicName;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.onExtraFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      if (field === 'subscriptionId') {\n        const TopicName = $scope.getTopicName();\n        let data = $scope.cacheMap[TopicName];\n\n        if (!data) {\n          const region = $scope.datasource.getServiceFn('cmqTopic', 'getVariable')(target.region);\n          const fetcher = $scope.datasource.getServiceFn('cmqTopic', 'fetchAllSubscription');\n          const datas = await fetcher(region, { TopicName });\n          data = datas.map((item) => {\n            item._InstanceAliasValue = item.SubscriptionId;\n            return { text: item.SubscriptionId, value: JSON.stringify(item) };\n          });\n        }\n\n        // \n        $scope.cacheMap[TopicName] = data;\n        return data;\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/406/42637\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in InstanceQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- ui -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onExtraFieldChange(extra.field)\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: CmqTopicQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('cmqTopicQuery', scfQuery);\n","import _ from 'lodash';\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// \nconst InstanceAliasList = ['BucketName'];\nexport { InstanceAliasList, GetInstanceQueryParams };\n\n// default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'BucketName',\n  queries: {},\n};\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CVMFilterFieldsDescriptor } from './query_def';\n\nexport class CVMQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CVMFilterFieldsDescriptor = CVMFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      InstanceIds\n      <info-popover mode=\"right-normal\">\n         ID100 InstanceIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n         Filters 10Filter.Values 5 InstanceIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CVMFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function cvmQuery() {\n  return {\n    template: template,\n    controller: CVMQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cvmQuery', cvmQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { DCDBFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'nodeid',\n    field: 'NodeId',\n    action: 'DescribeDCDBInstanceNodeInfo',\n  },\n  {\n    label: 'shardid',\n    field: 'ShardId',\n    action: 'DescribeDCDBShards',\n  },\n];\nconst dropdownTextConfig = {\n  DescribeDCDBInstanceNodeInfo: 'NodeId',\n  DescribeDCDBShards: 'ShardInstanceId',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.DCDBFilterFieldsDescriptor = DCDBFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const instanceId = $scope.getInstanceId();\n      const payload: any = {\n        InstanceId: instanceId,\n        Limit: 100,\n      };\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in DCDBFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { ECMBLOCKSTORAGEFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  // {\n  //   label: 'nodeid',\n  //   field: 'NodeId',\n  //   action: 'DescribeInstanceNodeInfo',\n  // },\n  {\n    label: 'diskId',\n    field: 'diskId',\n  },\n];\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.ECMBLOCKSTORAGEFilterFieldsDescriptor = ECMBLOCKSTORAGEFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    // $scope.getInstanceId = () => {\n    //   let { instance } = $scope.target;\n    //   const service = GetServiceFromNamespace($scope.namespace);\n    //   instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n    //   if (!instance) {\n    //     return '';\n    //   }\n    //   try {\n    //     instance = JSON.parse(instance)[templateQueryIdMap.instance];\n    //   } catch (error) {\n    //     console.log();\n    //   }\n    //   return instance;\n    // };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = (target, action) => {\n      let { instance } = target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      try {\n        instance = JSON.parse(instance);\n        const { DataDisks: dataDisks } = instance;\n        return dataDisks.map((o) => {\n          o._InstanceAliasValue = o[templateQueryIdMap.diskId];\n          return {\n            text: o[templateQueryIdMap.diskId],\n            value: JSON.stringify(o),\n          };\n        });\n      } catch (error) {\n        // console.log('instance error', instance);\n        const payload: any = {\n          InstanceId: instance,\n        };\n        const rs = $scope.datasource.getServiceFn(service, 'getDiskList')({ payload });\n        const result = rs.map((o) => {\n          return {\n            text: o[templateQueryIdMap.diskId],\n            value: JSON.stringify(o),\n          };\n        });\n        return result;\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in ECMBLOCKSTORAGEFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { GSEFilterFieldsDescriptor, templateQueryIdMap, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'fleetId',\n    field: 'FleetId',\n  },\n  {\n    label: 'queueName',\n    field: 'Name',\n  },\n];\nconst actionMaps = {\n  FleetId: 'getFleetList',\n  Name: 'getQueueNameList',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.GSEFilterFieldsDescriptor = GSEFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      // console.log({namespace, service});\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraDropdown = async (target, field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const instanceId = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      // const rs = await $scope.datasource.getServiceFn(service, 'getEnvironmentNameList')({ region, instanceId });\n      let rs = await $scope.datasource.getServiceFn(service, actionMaps[field])({ region, instanceId });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[field]];\n        return {\n          text: o[templateQueryIdMap[field]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in GSEFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!--   -->\n<div>\n  <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n      <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n        <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n          on-change=\"onRefresh()\" css-class=\"min-width-10\">\n        </gf-form-dropdown>\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { LBFilterDescriptor } from './query_def';\n\nexport class LBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      // $scope.LBQueryDescriptor = LBQueryDescriptor;\n      $scope.LBFilterDescriptor = LBFilterDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/16702\">Click here to get API doc.</a>\n</label>\n\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      AddressIds\n      <info-popover mode=\"right-normal\">\n         ID100 AddressIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.AddressIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n         Filters 10Filter.Values 5 AddressIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n\n<!--Filters-->\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in LBFilterDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function lbQuery() {\n  return {\n    template: template,\n    controller: LBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('lbQuery', lbQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { LighthouseFilterFieldsDescriptor } from './query_def';\n\nexport class LighthouseQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.LighthouseFilterFieldsDescriptor = LighthouseFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('lighthouse', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/1207/47573\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        Offset\n        <info-popover mode=\"right-normal\">\n          , Offset=20&Limit=20  20  40 \n        </info-popover>\n      </label>\n      <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        Limit\n        <info-popover mode=\"right-normal\">\n          201100\n        </info-popover>\n      </label>\n      <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-9\">\n        InstanceIds\n        <info-popover mode=\"right-normal\">\n           ID100 InstanceIds  Filters\n        </info-popover>\n      </label>\n      <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n        switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n    </div>\n  </div>\n  <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n    <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n    </multi-condition>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-9\">\n        Filters\n        <info-popover mode=\"right-normal\">\n           Filters 10Filter.Values 5 InstanceIds  Filters\n        </info-popover>\n      </label>\n      <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n        on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n    </div>\n  </div>\n  <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n    <div class=\"gf-form-inline\" ng-repeat=\"field in LighthouseFilterFieldsDescriptor\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputNumbermulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries.Filters[field.key]\"\n        options=\"field.list\"\n        multiple=\"true\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function lighthouseQuery() {\n  return {\n    template: template,\n    controller: LighthouseQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('lighthouseQuery', lighthouseQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { map, get, find, times } from 'lodash';\nimport { MONGODBFieldsDescriptor, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class MongoDBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.MONGODBFieldsDescriptor = MONGODBFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.onInstanceChange = (n, o) => {\n      if (n === o) {\n        return;\n      }\n      $scope.target.replica = '';\n      $scope.target.node = '';\n    };\n\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace('QCE/CMONGO');\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {\n        // console.log();\n      }\n      return variableData;\n    };\n\n    $scope.getExtraDropdown = async (target, type) => {\n      const { instance, replica } = $scope.target;\n      const service = GetServiceFromNamespace('QCE/CMONGO');\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const [res] = await $scope.datasource.getServiceFn(service, 'getInstances')(region, {\n        InstanceIds: [instanceId],\n      });\n      if (type === 'replica') {\n        return map(get(res, 'ReplicaSets', []), (item) => {\n          item._InstanceAliasValue = item.ReplicaSetId;\n          return { text: item.ReplicaSetId, value: JSON.stringify(item) };\n        });\n      }\n      if (type === 'node' && replica !== '') {\n        const replicaId = $scope.getVariableId(replica, 'replica');\n        const targetReplica = find(get(res, 'ReplicaSets', []), { ReplicaSetId: replicaId });\n        const options = times(targetReplica.SecondaryNum, (index) => {\n          const nodeId = `${targetReplica.ReplicaSetId}-node-slave${index}`;\n          return {\n            text: nodeId,\n            value: JSON.stringify({ NodeId: nodeId, _InstanceAliasValue: `${targetReplica.ReplicaSetId} - ${nodeId}` }),\n          };\n        });\n        return [\n          {\n            text: `${targetReplica.ReplicaSetId}-node-primary`,\n            value: JSON.stringify({\n              NodeId: `${targetReplica.ReplicaSetId}-node-primary`,\n              _InstanceAliasValue: `${targetReplica.ReplicaSetId} - ${`${targetReplica.ReplicaSetId}-node-primary`}`,\n            }),\n          },\n          ...options,\n        ];\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in MONGODBFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Replica\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.replica\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'replica')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.replica\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Node\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.node\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'node')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function mongodbQuery() {\n  return {\n    template: template,\n    controller: MongoDBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onRefresh: '&',\n      onChange: '&',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\n\ncoreModule.directive('mongodbQuery', mongodbQuery);\n","import { InstanceQueryDescriptor, templateQueryIdMap } from './query_def';\nimport coreModule from 'grafana/app/core/core_module';\n\nconst ExtraFields = [\n  {\n    label: 'NodeIP',\n    field: 'nodeIP',\n  },\n];\n\nexport class MrQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.InstanceQueryDescriptor = InstanceQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    // { [instanceId]: {   } }\n    $scope.cacheMap = {};\n\n    $scope.getExtraFields = () => {\n      return Object.keys($scope.dims ?? {}).some((item: string) => item.startsWith('host4')) ? ExtraFields : [];\n      // return ExtraFields;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('mrHDFS', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).ClusterId;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.onExtraFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      if (field === 'nodeIP') {\n        const InstanceId = $scope.getInstanceId();\n        let data = $scope.cacheMap[InstanceId];\n\n        if (!data) {\n          const region = $scope.datasource.getServiceFn('mrHDFS', 'getVariable')(target.region);\n          const fetcher = $scope.datasource.getServiceFn('mrHDFS', 'fetchAllNodes');\n          const dataT = await fetcher(region, { InstanceId, NodeFlag: 'all' });\n          data = dataT.map((item) => {\n            item._InstanceAliasValue = item[templateQueryIdMap.node];\n            return {\n              text: item[templateQueryIdMap.node],\n              value: JSON.stringify(item),\n            };\n          });\n        }\n\n        // \n        $scope.cacheMap[InstanceId] = data;\n        return data;\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/589/34266\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in InstanceQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n<!-- ui -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onExtraFieldChange(extra.field)\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function mrQuery() {\n  return {\n    template: template,\n    controller: MrQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('mrQuery', mrQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { NATGatewayFilterFieldsDescriptor } from './query_def';\n\nexport class NatGatewayQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.NATGatewayFilterFieldsDescriptor = NATGatewayFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/36034\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-10\">\n      NatGatewayIds\n      <info-popover mode=\"right-normal\">\n        NAT ID NatGatewayIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" value=\"target.queries.NatGatewayIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-10\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        NatGatewayIdsFilters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in NATGatewayFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function natGatewayQuery() {\n  return {\n    template: template,\n    controller: NatGatewayQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('natGatewayQuery', natGatewayQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { OVCDNFilterFieldsDescriptor } from './query_def';\n\nexport class OVCDNQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.OVCDNFilterFieldsDescriptor = OVCDNFilterFieldsDescriptor;\n    };\n\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-repeat=\"field in OVCDNFilterFieldsDescriptor\">\n<label class=\"gf-form-label width-14\">\n  {{ field.key }}\n  <info-popover mode=\"right-normal\">\n    {{ field.cnDescriptor }}\n    <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n  </info-popover>\n</label>\n<multi-condition\n  ng-if=\"field.type === 'inputNumbermulti'\"\n  type=\"'inputNumber'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  maxNum=\"field.max\"\n  minNum=\"field.min\"\n  on-change=\"onChange()\"\n></multi-condition>\n<multi-condition\n  ng-if=\"field.type === 'inputmulti'\"\n  type=\"'input'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  on-change=\"onChange()\"\n></multi-condition>\n<custom-select-dropdown\n  ng-if=\"field.type === 'select'\"\n  value=\"target.queries.Filters[field.key]\"\n  options=\"field.list\"\n  multiple=\"true\"\n  on-change=\"onChange()\"\n></custom-select-dropdown>\n</div>\n\n</div>\n`;\n\nexport function ovCdnQuery() {\n  return {\n    template: template,\n    controller: OVCDNQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('ovCdnQuery', ovCdnQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { PCXFieldsDescriptor } from './query_def';\n\nexport class PCXQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.PCXFieldsDescriptor = PCXFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'vpcId':\n          return $scope.getVpcIds();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getVpcIds = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getVpcIds('pcx', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/2101\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in PCXFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function pcxQuery() {\n  return {\n    template: template,\n    controller: PCXQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('pcxQuery', pcxQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { RedisFieldsDescriptor } from './query_def';\n\nexport class RedisQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.RedisFieldsDescriptor = RedisFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in RedisFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function redisQuery() {\n  return {\n    template: template,\n    controller: RedisQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('redisQuery', redisQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { map } from 'lodash';\nimport { RedisMemFieldsDescriptor, templateQueryIdMap, NodeType, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class RedisMemQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.RedisMemFieldsDescriptor = RedisMemFieldsDescriptor;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.rnodeid = '';\n      $scope.target.pnodeid = '';\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace(namespace);\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {}\n      return variableData;\n    };\n\n    $scope.getExtraDropdown = async (target, nodetype) => {\n      const { instance } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getInstanceNodeInfo')({ region, instanceId });\n\n      const ndoeTypeIndex = NodeType.indexOf(nodetype);\n      return ndoeTypeIndex === -1 ? [] : map(rs[ndoeTypeIndex], (item) => ({ text: item.NodeId, value: item.NodeId }));\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in RedisMemFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.instance && dims.rnodeid\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      RedisNode\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.rnodeid\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'Redis')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.instance && dims.pnodeid\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      ProxyNode\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.pnodeid\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'Proxy')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function redisMemQuery() {\n  return {\n    template: template,\n    controller: RedisMemQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\n\ncoreModule.directive('redisMemQuery', redisMemQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { SCFQueryDescriptor, templateQueryIdMap } from './query_def';\n\nexport class SCFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.SCFQueryDescriptor = SCFQueryDescriptor;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('scf', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).FunctionName;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.getVersions = async (target) => {\n      // console.log(2222);\n\n      // return [{ text: 1, value: 1 }];\n      // console.log(target, 'target');\n      // let { instance, region } = target;\n      const FunctionName = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn('scf', 'getVariable')(target.region);\n      if (!FunctionName || !region) return [];\n\n      const fetcher = $scope.datasource.getServiceFn('scf', 'getVersions');\n\n      return fetcher(region, { FunctionName }).then((res) => {\n        // console.log(res, 'res');\n        const result = res.map((o) => {\n          o._InstanceAliasValue = o[templateQueryIdMap.version];\n          return {\n            text: o[templateQueryIdMap.version],\n            value: JSON.stringify(o),\n          };\n        });\n        return result;\n      });\n    };\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/583/18582\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in SCFQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- version -->\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">Version</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.version\" allow-custom=\"false\" get-options=\"getVersions(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: SCFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n    },\n  };\n}\ncoreModule.directive('scfQuery', scfQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'environmentId',\n    field: 'environmentId',\n    action: 'DescribeEnvironments',\n  },\n  {\n    label: 'topicName',\n    field: 'topicName',\n    action: 'DescribeTopics',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeTopics: 'topicName',\n  DescribeEnvironments: 'environmentId',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        ClusterId: $scope.getInstanceId(),\n      };\n      if (action === 'DescribeTopics') {\n        let evId = $scope.target.environmentId;\n        try {\n          evId = JSON.parse(evId);\n          evId = evId[templateQueryIdMap.environmentId];\n        } catch (e) {}\n        payload.EnvironmentId = evId;\n      }\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          label: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Node',\n    field: 'node',\n    action: 'DescribeRabbitMQNodeList',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeRabbitMQNodeList: 'node',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.node = '';\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        InstanceId: $scope.getInstanceId(),\n      };\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          label: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\ncoreModule.directive('tdmqRabbitmqQuery', sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Namespace',\n    field: 'namespace',\n    action: 'DescribeRocketMQNamespaces',\n  },\n  {\n    label: 'Group',\n    field: 'group',\n    action: 'DescribeRocketMQGroups',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeRocketMQNamespaces: 'namespace',\n  DescribeRocketMQGroups: 'group',\n};\nexport class TdmqRocketmqQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.namespace = '';\n      $scope.target.group = '';\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        ClusterId: $scope.getInstanceId(),\n      };\n      if (action === 'DescribeRocketMQGroups') {\n        let namespace = $scope.target.namespace;\n        try {\n          namespace = JSON.parse(namespace)[templateQueryIdMap.namespace];\n        } catch (e) {}\n        payload.NamespaceId = $scope.datasource.getServiceFn(service, 'getVariable')(namespace);\n      }\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Offset\n          <info-popover mode=\"right-normal\">\n            , Offset=20&Limit=20  20  40 \n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Limit\n          <info-popover mode=\"right-normal\">\n            201100\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          ClusterIdList\n          <info-popover mode=\"right-normal\">\n             ID100 ClusterIdList  Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n          switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n      <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.ClusterIdList\" on-change=\"onChange()\">\n      </multi-condition>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          Filters\n          <info-popover mode=\"right-normal\">\n             Filters 10Filter.Values 5 ClusterIdList  Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n          on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n      <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <multi-condition\n          ng-if=\"field.type === 'dropdownmulti'\"\n          type=\"'dropdown'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          get-options=\"getDropdown(field.key)\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputNumbermulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputmulti'\"\n          type=\"'input'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries.Filters[field.key]\"\n          options=\"field.list\"\n          multiple=\"false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function tdmqRocketmqQuery() {\n  return {\n    template: template,\n    controller: TdmqRocketmqQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\ncoreModule.directive('tdmqRocketmqQuery', tdmqRocketmqQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { isEmpty } from 'lodash';\nimport { TKEFilterFieldsDescriptor } from './query_def';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TKEFilterFieldsDescriptor = TKEFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.addCondition = () => {\n      $scope.target.conditions.push({ Key: '', Operator: '=', Value: '' });\n    };\n\n    $scope.deleteCondition = (index) => {\n      const targetCondition = $scope.target.conditions[index];\n      if (isEmpty(targetCondition.Key) || isEmpty(targetCondition.Operator) || isEmpty(targetCondition.Value)) {\n        $scope.target.conditions.splice(index, 1);\n      } else {\n        $scope.target.conditions.splice(index, 1);\n        $scope.onRefresh();\n      }\n    };\n\n    $scope.getOperator = () => {\n      return Promise.resolve([\n        { text: '=', value: '=' },\n        { text: 'in', value: 'in' },\n      ]);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Offset\n          <info-popover mode=\"right-normal\">\n            , Offset=20&Limit=20  20  40 \n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Limit\n          <info-popover mode=\"right-normal\">\n            201100\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          ClusterIdList\n          <info-popover mode=\"right-normal\">\n             ID100 ClusterIdList  Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n          switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n      <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.ClusterIdList\" on-change=\"onChange()\">\n      </multi-condition>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          Filters\n          <info-popover mode=\"right-normal\">\n             Filters 10Filter.Values 5 ClusterIdList  Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n          on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n      <div class=\"gf-form-inline\" ng-repeat=\"field in TKEFilterFieldsDescriptor\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />   \n        <multi-condition\n          ng-if=\"field.type === 'dropdownmulti'\"\n          type=\"'dropdown'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          get-options=\"getDropdown(field.key)\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputNumbermulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputmulti'\"\n          type=\"'input'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries.Filters[field.key]\"\n          options=\"field.list\"\n          multiple=\"false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">Conditions</label>\n      <div>\n        <div class=\"gf-form\" ng-repeat=\"condition in target.conditions\">\n          <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"target.conditions[$index].Key\" ng-blur=\"onRefresh()\"></input>\n          <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n            <gf-form-dropdown model=\"target.conditions[$index].Operator\" get-options=\"getOperator()\" on-change=\"onRefresh()\" allow-custom=\"true\" css-class=\"min-width-5\">\n            </gf-form-dropdown>\n          </div>\n          <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"target.conditions[$index].Value\" ng-blur=\"onRefresh()\"></input>\n          <label class=\"gf-form-label pointer\" ng-click=\"deleteCondition($index)\">\n            <i class=\"fa fa-minus\"></i>\n          </label>\n          <label class=\"gf-form-label pointer\" ng-click=\"addCondition()\" ng-if=\"$last\">\n            <i class=\"fa fa-plus\"></i>\n          </label>\n        </div>\n        <div class=\"gf-form\" ng-if=\"target.conditions.length === 0\">\n          <label class=\"gf-form-label pointer\" ng-click=\"addCondition()\">\n            <i class=\"fa fa-plus\"></i>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">GroupBy</label>\n      <input class=\"gf-form-input width-15\" type=\"text\" ng-model=\"target.groupBys\" ng-blur=\"onRefresh()\"></input>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('tkeQuery', sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TSFFieldsDescriptor } from './query_def';\n\nexport class TSFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TSFFieldsDescriptor = TSFFieldsDescriptor;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/649/36090\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in TSFFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function tsfQuery() {\n  return {\n    template: template,\n    controller: TSFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('tsfQuery', tsfQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { VBCFilterFieldsDescriptor, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields: any = [\n  // {\n  //   label: 'SRegion',\n  //   field: 'SRegion',\n  // },\n  // {\n  //   label: 'DRegion',\n  //   field: 'DRegion',\n  // },\n];\n\nexport class VBCQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.VBCFilterFieldsDescriptor = VBCFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getExtraDropdown = (field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      // return $scope.datasource.getServiceFn(service, 'getFilterDropdown')({ field })\n      return $scope.datasource.getFilterDropdown(service, { field });\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in VBCFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: VBCQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('vbcQuery', scfQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","var map = {\n\t\".\": 19,\n\t\"./\": 19,\n\t\"./MonitorDatasource\": 182,\n\t\"./MonitorDatasource.ts\": 182,\n\t\"./_base/datasource\": 3,\n\t\"./_base/datasource.ts\": 3,\n\t\"./_base/query\": 7,\n\t\"./_base/query.ts\": 7,\n\t\"./_base/query_filter\": 185,\n\t\"./_base/query_filter.ts\": 185,\n\t\"./_base/types\": 186,\n\t\"./_base/types.ts\": 186,\n\t\"./apigateway/datasource\": 70,\n\t\"./apigateway/datasource.ts\": 70,\n\t\"./apigateway/query\": 126,\n\t\"./apigateway/query.ts\": 126,\n\t\"./apigateway/query_def\": 21,\n\t\"./apigateway/query_def.ts\": 21,\n\t\"./bmIntraLb/datasource\": 71,\n\t\"./bmIntraLb/datasource.ts\": 71,\n\t\"./bmIntraLb/query\": 127,\n\t\"./bmIntraLb/query.ts\": 127,\n\t\"./bmIntraLb/query_def\": 29,\n\t\"./bmIntraLb/query_def.ts\": 29,\n\t\"./bm_lb/datasource\": 72,\n\t\"./bm_lb/datasource.ts\": 72,\n\t\"./bm_lb/query\": 128,\n\t\"./bm_lb/query.ts\": 128,\n\t\"./bm_lb/query_def\": 30,\n\t\"./bm_lb/query_def.ts\": 30,\n\t\"./bm_pcx/datasource\": 73,\n\t\"./bm_pcx/datasource.ts\": 73,\n\t\"./bm_pcx/query\": 129,\n\t\"./bm_pcx/query.ts\": 129,\n\t\"./bm_pcx/query_def\": 31,\n\t\"./bm_pcx/query_def.ts\": 31,\n\t\"./bwp/datasource\": 74,\n\t\"./bwp/datasource.ts\": 74,\n\t\"./bwp/query\": 130,\n\t\"./bwp/query.ts\": 130,\n\t\"./bwp/query_def\": 61,\n\t\"./bwp/query_def.ts\": 61,\n\t\"./cbs/datasource\": 75,\n\t\"./cbs/datasource.ts\": 75,\n\t\"./cbs/query\": 131,\n\t\"./cbs/query.ts\": 131,\n\t\"./cbs/query_def\": 32,\n\t\"./cbs/query_def.ts\": 32,\n\t\"./cdb/datasource\": 76,\n\t\"./cdb/datasource.ts\": 76,\n\t\"./cdb/query\": 132,\n\t\"./cdb/query.ts\": 132,\n\t\"./cdb/query_def\": 42,\n\t\"./cdb/query_def.ts\": 42,\n\t\"./cdn/datasource\": 77,\n\t\"./cdn/datasource.ts\": 77,\n\t\"./cdn/query\": 133,\n\t\"./cdn/query.ts\": 133,\n\t\"./cdn/query_def\": 62,\n\t\"./cdn/query_def.ts\": 62,\n\t\"./cdn_province/datasource\": 78,\n\t\"./cdn_province/datasource.ts\": 78,\n\t\"./cdn_province/query\": 134,\n\t\"./cdn_province/query.ts\": 134,\n\t\"./cdn_province/query_def\": 33,\n\t\"./cdn_province/query_def.ts\": 33,\n\t\"./ceip_summary/datasource\": 79,\n\t\"./ceip_summary/datasource.ts\": 79,\n\t\"./ceip_summary/query\": 135,\n\t\"./ceip_summary/query.ts\": 135,\n\t\"./ceip_summary/query_def\": 34,\n\t\"./ceip_summary/query_def.ts\": 34,\n\t\"./ces/datasource\": 80,\n\t\"./ces/datasource.ts\": 80,\n\t\"./ces/query\": 136,\n\t\"./ces/query.ts\": 136,\n\t\"./ces/query_def\": 43,\n\t\"./ces/query_def.ts\": 43,\n\t\"./cfs/datasource\": 81,\n\t\"./cfs/datasource.ts\": 81,\n\t\"./cfs/query\": 137,\n\t\"./cfs/query.ts\": 137,\n\t\"./cfs/query_def\": 55,\n\t\"./cfs/query_def.ts\": 55,\n\t\"./ckafka/datasource\": 82,\n\t\"./ckafka/datasource.ts\": 82,\n\t\"./ckafka/query\": 138,\n\t\"./ckafka/query.ts\": 138,\n\t\"./ckafka/query_def\": 10,\n\t\"./ckafka/query_def.ts\": 10,\n\t\"./clb/datasource\": 83,\n\t\"./clb/datasource.ts\": 83,\n\t\"./clb/query\": 139,\n\t\"./clb/query.ts\": 139,\n\t\"./clb/query_def\": 12,\n\t\"./clb/query_def.ts\": 12,\n\t\"./cls/datasource\": 84,\n\t\"./cls/datasource.ts\": 84,\n\t\"./cls/query\": 140,\n\t\"./cls/query.ts\": 140,\n\t\"./cls/query_def\": 27,\n\t\"./cls/query_def.ts\": 27,\n\t\"./cmq/datasource\": 85,\n\t\"./cmq/datasource.ts\": 85,\n\t\"./cmq/query\": 141,\n\t\"./cmq/query.ts\": 141,\n\t\"./cmq/query_def\": 56,\n\t\"./cmq/query_def.ts\": 56,\n\t\"./cmq_topic/datasource\": 86,\n\t\"./cmq_topic/datasource.ts\": 86,\n\t\"./cmq_topic/query\": 142,\n\t\"./cmq_topic/query.ts\": 142,\n\t\"./cmq_topic/query_def\": 35,\n\t\"./cmq_topic/query_def.ts\": 35,\n\t\"./cos/datasource\": 87,\n\t\"./cos/datasource.ts\": 87,\n\t\"./cos/query_def\": 143,\n\t\"./cos/query_def.ts\": 143,\n\t\"./cpm/datasource\": 88,\n\t\"./cpm/datasource.ts\": 88,\n\t\"./cpm/query\": 144,\n\t\"./cpm/query.ts\": 144,\n\t\"./cpm/query_def\": 36,\n\t\"./cpm/query_def.ts\": 36,\n\t\"./cvm/datasource\": 89,\n\t\"./cvm/datasource.ts\": 89,\n\t\"./cvm/query\": 145,\n\t\"./cvm/query.ts\": 145,\n\t\"./cvm/query_def\": 57,\n\t\"./cvm/query_def.ts\": 57,\n\t\"./cynosdb_mysql/datasource\": 90,\n\t\"./cynosdb_mysql/datasource.ts\": 90,\n\t\"./cynosdb_mysql/query\": 146,\n\t\"./cynosdb_mysql/query.ts\": 146,\n\t\"./cynosdb_mysql/query_def\": 24,\n\t\"./cynosdb_mysql/query_def.ts\": 24,\n\t\"./dc/datasource\": 91,\n\t\"./dc/datasource.ts\": 91,\n\t\"./dc/query\": 147,\n\t\"./dc/query.ts\": 147,\n\t\"./dc/query_def\": 44,\n\t\"./dc/query_def.ts\": 44,\n\t\"./dcdb/datasource\": 92,\n\t\"./dcdb/datasource.ts\": 92,\n\t\"./dcdb/query\": 148,\n\t\"./dcdb/query.ts\": 148,\n\t\"./dcdb/query_def\": 15,\n\t\"./dcdb/query_def.ts\": 15,\n\t\"./dcg/datasource\": 93,\n\t\"./dcg/datasource.ts\": 93,\n\t\"./dcg/query\": 149,\n\t\"./dcg/query.ts\": 149,\n\t\"./dcg/query_def\": 45,\n\t\"./dcg/query_def.ts\": 45,\n\t\"./dcx/datasource\": 94,\n\t\"./dcx/datasource.ts\": 94,\n\t\"./dcx/query\": 150,\n\t\"./dcx/query.ts\": 150,\n\t\"./dcx/query_def\": 46,\n\t\"./dcx/query_def.ts\": 46,\n\t\"./ecdn/datasource\": 95,\n\t\"./ecdn/datasource.ts\": 95,\n\t\"./ecdn/query\": 151,\n\t\"./ecdn/query.ts\": 151,\n\t\"./ecdn/query_def\": 37,\n\t\"./ecdn/query_def.ts\": 37,\n\t\"./ecm/datasource\": 96,\n\t\"./ecm/datasource.ts\": 96,\n\t\"./ecm/query\": 152,\n\t\"./ecm/query.ts\": 152,\n\t\"./ecm/query_def\": 38,\n\t\"./ecm/query_def.ts\": 38,\n\t\"./ecm_block_storage/datasource\": 97,\n\t\"./ecm_block_storage/datasource.ts\": 97,\n\t\"./ecm_block_storage/query\": 153,\n\t\"./ecm_block_storage/query.ts\": 153,\n\t\"./ecm_block_storage/query_def\": 20,\n\t\"./ecm_block_storage/query_def.ts\": 20,\n\t\"./ecm_lb/datasource\": 98,\n\t\"./ecm_lb/datasource.ts\": 98,\n\t\"./ecm_lb/query\": 154,\n\t\"./ecm_lb/query.ts\": 154,\n\t\"./ecm_lb/query_def\": 47,\n\t\"./ecm_lb/query_def.ts\": 47,\n\t\"./gse/datasource\": 99,\n\t\"./gse/datasource.ts\": 99,\n\t\"./gse/query\": 155,\n\t\"./gse/query.ts\": 155,\n\t\"./gse/query_def\": 14,\n\t\"./gse/query_def.ts\": 14,\n\t\"./index\": 19,\n\t\"./index.ts\": 19,\n\t\"./lb/datasource\": 100,\n\t\"./lb/datasource.ts\": 100,\n\t\"./lb/query\": 156,\n\t\"./lb/query.ts\": 156,\n\t\"./lb/query_def\": 63,\n\t\"./lb/query_def.ts\": 63,\n\t\"./lighthouse/datasource\": 101,\n\t\"./lighthouse/datasource.ts\": 101,\n\t\"./lighthouse/query\": 157,\n\t\"./lighthouse/query.ts\": 157,\n\t\"./lighthouse/query_def\": 54,\n\t\"./lighthouse/query_def.ts\": 54,\n\t\"./mongodb/datasource\": 102,\n\t\"./mongodb/datasource.ts\": 102,\n\t\"./mongodb/query\": 158,\n\t\"./mongodb/query.ts\": 158,\n\t\"./mongodb/query_def\": 48,\n\t\"./mongodb/query_def.ts\": 48,\n\t\"./mr/datasource\": 103,\n\t\"./mr/datasource.ts\": 103,\n\t\"./mr/query\": 159,\n\t\"./mr/query.ts\": 159,\n\t\"./mr/query_def\": 22,\n\t\"./mr/query_def.ts\": 22,\n\t\"./nat_gateway/datasource\": 104,\n\t\"./nat_gateway/datasource.ts\": 104,\n\t\"./nat_gateway/query\": 160,\n\t\"./nat_gateway/query.ts\": 160,\n\t\"./nat_gateway/query_def\": 64,\n\t\"./nat_gateway/query_def.ts\": 64,\n\t\"./ov_cdn/datasource\": 105,\n\t\"./ov_cdn/datasource.ts\": 105,\n\t\"./ov_cdn/query\": 161,\n\t\"./ov_cdn/query.ts\": 161,\n\t\"./ov_cdn/query_def\": 65,\n\t\"./ov_cdn/query_def.ts\": 65,\n\t\"./pcx/datasource\": 106,\n\t\"./pcx/datasource.ts\": 106,\n\t\"./pcx/query\": 162,\n\t\"./pcx/query.ts\": 162,\n\t\"./pcx/query_def\": 58,\n\t\"./pcx/query_def.ts\": 58,\n\t\"./postgresql/datasource\": 107,\n\t\"./postgresql/datasource.ts\": 107,\n\t\"./postgresql/query\": 163,\n\t\"./postgresql/query.ts\": 163,\n\t\"./postgresql/query_def\": 39,\n\t\"./postgresql/query_def.ts\": 39,\n\t\"./qaap/datasource\": 108,\n\t\"./qaap/datasource.ts\": 108,\n\t\"./qaap/query\": 164,\n\t\"./qaap/query.ts\": 164,\n\t\"./qaap/query_def\": 49,\n\t\"./qaap/query_def.ts\": 49,\n\t\"./redis/datasource\": 109,\n\t\"./redis/datasource.ts\": 109,\n\t\"./redis/query\": 165,\n\t\"./redis/query.ts\": 165,\n\t\"./redis/query_def\": 59,\n\t\"./redis/query_def.ts\": 59,\n\t\"./redis_mem/datasource\": 110,\n\t\"./redis_mem/datasource.ts\": 110,\n\t\"./redis_mem/query\": 166,\n\t\"./redis_mem/query.ts\": 166,\n\t\"./redis_mem/query_def\": 16,\n\t\"./redis_mem/query_def.ts\": 16,\n\t\"./scf/datasource\": 111,\n\t\"./scf/datasource.ts\": 111,\n\t\"./scf/query\": 167,\n\t\"./scf/query.ts\": 167,\n\t\"./scf/query_def\": 25,\n\t\"./scf/query_def.ts\": 25,\n\t\"./sqlserver/datasource\": 112,\n\t\"./sqlserver/datasource.ts\": 112,\n\t\"./sqlserver/query\": 168,\n\t\"./sqlserver/query.ts\": 168,\n\t\"./sqlserver/query_def\": 28,\n\t\"./sqlserver/query_def.ts\": 28,\n\t\"./tcaplus/datasource\": 113,\n\t\"./tcaplus/datasource.ts\": 113,\n\t\"./tcaplus/query\": 169,\n\t\"./tcaplus/query.ts\": 169,\n\t\"./tcaplus/query_def\": 50,\n\t\"./tcaplus/query_def.ts\": 50,\n\t\"./tdmq/datasource\": 114,\n\t\"./tdmq/datasource.ts\": 114,\n\t\"./tdmq/query\": 170,\n\t\"./tdmq/query.ts\": 170,\n\t\"./tdmq/query_def\": 13,\n\t\"./tdmq/query_def.ts\": 13,\n\t\"./tdmq_rabbitmq/datasource\": 115,\n\t\"./tdmq_rabbitmq/datasource.ts\": 115,\n\t\"./tdmq_rabbitmq/query\": 171,\n\t\"./tdmq_rabbitmq/query.ts\": 171,\n\t\"./tdmq_rabbitmq/query_def\": 17,\n\t\"./tdmq_rabbitmq/query_def.ts\": 17,\n\t\"./tdmq_rocketmq/datasource\": 116,\n\t\"./tdmq_rocketmq/datasource.ts\": 116,\n\t\"./tdmq_rocketmq/query\": 172,\n\t\"./tdmq_rocketmq/query.ts\": 172,\n\t\"./tdmq_rocketmq/query_def\": 18,\n\t\"./tdmq_rocketmq/query_def.ts\": 18,\n\t\"./tke/datasource\": 117,\n\t\"./tke/datasource.ts\": 117,\n\t\"./tke/query\": 173,\n\t\"./tke/query.ts\": 173,\n\t\"./tke/query_def\": 69,\n\t\"./tke/query_def.ts\": 69,\n\t\"./tsf/datasource\": 118,\n\t\"./tsf/datasource.ts\": 118,\n\t\"./tsf/query\": 174,\n\t\"./tsf/query.ts\": 174,\n\t\"./tsf/query_def\": 60,\n\t\"./tsf/query_def.ts\": 60,\n\t\"./v_clb/datasource\": 119,\n\t\"./v_clb/datasource.ts\": 119,\n\t\"./v_clb/query\": 175,\n\t\"./v_clb/query.ts\": 175,\n\t\"./v_clb/query_def\": 23,\n\t\"./v_clb/query_def.ts\": 23,\n\t\"./vbc/datasource\": 120,\n\t\"./vbc/datasource.ts\": 120,\n\t\"./vbc/query\": 176,\n\t\"./vbc/query.ts\": 176,\n\t\"./vbc/query_def\": 51,\n\t\"./vbc/query_def.ts\": 51,\n\t\"./vpc_net_detect/datasource\": 121,\n\t\"./vpc_net_detect/datasource.ts\": 121,\n\t\"./vpc_net_detect/query\": 177,\n\t\"./vpc_net_detect/query.ts\": 177,\n\t\"./vpc_net_detect/query_def\": 40,\n\t\"./vpc_net_detect/query_def.ts\": 40,\n\t\"./vpngw/datasource\": 122,\n\t\"./vpngw/datasource.ts\": 122,\n\t\"./vpngw/query\": 178,\n\t\"./vpngw/query.ts\": 178,\n\t\"./vpngw/query_def\": 52,\n\t\"./vpngw/query_def.ts\": 52,\n\t\"./vpnx/datasource\": 123,\n\t\"./vpnx/datasource.ts\": 123,\n\t\"./vpnx/query\": 179,\n\t\"./vpnx/query.ts\": 179,\n\t\"./vpnx/query_def\": 53,\n\t\"./vpnx/query_def.ts\": 53,\n\t\"./waf/datasource\": 124,\n\t\"./waf/datasource.ts\": 124,\n\t\"./waf/query\": 180,\n\t\"./waf/query.ts\": 180,\n\t\"./waf/query_def\": 41,\n\t\"./waf/query_def.ts\": 41\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 181;","import _ from 'lodash';\nimport { Datasources, SERVICES } from './index';\nimport { GetServiceFromNamespace, ParseMetricQuery } from '../common/constants';\nimport { serviceGroupBy } from '../common/utils';\nimport { LoadingState } from '@grafana/data';\n\nexport default interface DatasourceInterface {\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n  query: (options: any) => any;\n  testDatasource: () => any;\n  metricFindQuery: (query: any) => any;\n  getRegions?: (service: string) => any;\n  getMetrics: (service: string, region: string) => any;\n  getInstances: (service: string, region: string, params: any) => any;\n  getZones?: (service: string, region: string) => any;\n}\n\nexport class TCMonitorDatasource implements DatasourceInterface {\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n\n  /** @ngInject */\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    this.instanceSettings = instanceSettings;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    _.forEach(Datasources, (_class: any, key) => {\n      this[key] = new _class(this.instanceSettings, this.backendSrv, this.templateSrv);\n    });\n  }\n\n  //  Datasource Config \n  getNamespaces() {\n    const namespaces: any[] = [];\n    _.forEach(SERVICES, (service) => {\n      if (this.instanceSettings.jsonData[service.service] === true) {\n        // namespaces.push(service.namespace);\n        namespaces.push(service);\n      }\n    });\n    return namespaces;\n  }\n\n  getCascaderNamespaces() {\n    const validServices = SERVICES.filter((service) => this.instanceSettings.jsonData[service.service]);\n    return serviceGroupBy(validServices);\n  }\n\n  getSelectedServices() {\n    const namespaces = this.getNamespaces();\n    return _.map(namespaces, ({ namespace }) => {\n      return GetServiceFromNamespace(namespace);\n    });\n  }\n\n  /**\n   *  Panel \n   *\n   * @param options Panel \n   *  {\n   *     cacheTimeout: undefined,\n   *     dashboardId: 41,\n   *     interval: \"30s\",\n   *     intervalMs: 30000,\n   *     maxDataPoints: 554,\n   *     panelId: 2,\n   *     range: {\n   *        from: Moment,\n   *        to: Moment,\n   *        raw: {from: \"now-6h\", to: \"now\"}\n   *     },\n   *     rangeRaw: {from: \"now-6h\", to: \"now\"},\n   *     scopedVars: {__interval: {}, __interval_ms: {}}\n   *     targets: [\n   *       {\n   *          namespace: \"QCE/CVM\",\n   *          refId: \"A\",\n   *          service: \"cvm\",\n   *          showInstanceDetails: false,\n   *          cvm: {\n   *            dimensionObject: {InstanceId: {}}\n   *            instance: \"\",\n   *            instanceAlias: \"InstanceId\",\n   *            metricName: \"AccOuttraffic\",\n   *            metricUnit: \"MB\",\n   *            period: 10,\n   *            queries: {Filters: {}, InstanceIds: Array(1), Limit: 20, Offset: 0, filtersChecked: false, },\n   *            region: \"ap-beijing\"\n   *          },\n   *          cdb: {},\n   *       },\n   *     ],\n   *     timezone: \"browser\"\n   *   }\n   * @return \n   * {\n   *   data: [\n   *     {\n   *       \"target\": \"AccOuttraffic - ins-123\",\n   *       \"datapoints\": [\n   *         [861, 1450754160000],\n   *         [767, 1450754220000]\n   *       ]\n   *     }\n   *   ]\n   * }\n   */\n  query(options: any) {\n    const promises: any[] = [];\n    const services = this.getSelectedServices();\n    _.forEach(services, (service) => {\n      const optionsTemp = _.cloneDeep(options);\n      const targets = _.filter(optionsTemp.targets, (item) => item.service === service);\n      optionsTemp.targets = targets;\n      if (optionsTemp.targets.length > 0) {\n        const promiseTemp = this[`${_.toUpper(service)}Datasource`].query(optionsTemp);\n        if (promiseTemp) {\n          promises.push(promiseTemp);\n        }\n      }\n    });\n    if (promises.length === 0) {\n      return Promise.resolve({ data: [], state: LoadingState.Done });\n    }\n    return Promise.all(promises).then((results) => {\n      return { data: _.flatten(results), state: LoadingState.Done };\n    });\n  }\n\n  /**\n   * \n   *\n   * @param query  Query \n   */\n  metricFindQuery(query: string, options?: any) {\n    const queries = ParseMetricQuery(query);\n    const service = GetServiceFromNamespace(queries['namespace'] || '');\n\n    if (_.isEmpty(queries) || !queries['namespace'] || !queries['action'] || !service) {\n      return Promise.resolve([]);\n    }\n    if (this[`${_.toUpper(service)}Datasource`].metricFindQuery) {\n      const result = this[`${_.toUpper(service)}Datasource`].metricFindQuery(\n        queries,\n        _.get(options, 'variable.regex', undefined)\n      );\n      if (result) {\n        return result;\n      }\n    }\n    return Promise.resolve([]);\n  }\n\n  /**\n   * \n   * @param service\n   */\n  getRegions(service) {\n    if (this[`${_.toUpper(service)}Datasource`].getRegions) {\n      return this[`${_.toUpper(service)}Datasource`].getRegions();\n    }\n    return [];\n  }\n\n  /**\n   * \n   * @param service\n   * @param region\n   */\n  getMetrics(service, region) {\n    return this[`${_.toUpper(service)}Datasource`].getMetrics(region);\n  }\n\n  /**\n   * \n   * @param service\n   * @param region\n   */\n  getZones(service, region) {\n    if (this[`${_.toUpper(service)}Datasource`].getZones) {\n      return this[`${_.toUpper(service)}Datasource`].getZones(region);\n    }\n    return [];\n  }\n\n  /**\n   * filterdropdown\n   * @param service\n   * @param param\n   */\n  getFilterDropdown(service, param) {\n    if (this[`${_.toUpper(service)}Datasource`].getFilterDropdown) {\n      return this[`${_.toUpper(service)}Datasource`].getFilterDropdown(param);\n    }\n    return [];\n  }\n\n  /**\n   * \n   * @param service\n   * @param region\n   * @param params\n   */\n  getInstances(service, region, params) {\n    return this[`${_.toUpper(service)}Datasource`].getInstances(region, params);\n  }\n\n  /**\n   * \n   * @param service\n   * @param region\n   * @param params\n   */\n  getListeners(service, region, instance) {\n    if (!this[`${_.toUpper(service)}Datasource`].getListeners) {\n      return [];\n    }\n    return this[`${_.toUpper(service)}Datasource`].getListeners(region, instance);\n  }\n\n  /**\n   *  \n   * @param service\n   */\n  getVpcIds(service, region) {\n    if (this[`${_.toUpper(service)}Datasource`].getVpcIds) {\n      return this[`${_.toUpper(service)}Datasource`].getVpcIds(region);\n    }\n  }\n\n  //  Datasource Config  SerectIdSerectKey  API \n  testDatasource() {\n    const promises: any[] = [];\n    const services = this.getSelectedServices();\n    _.forEach(services, (service) => {\n      promises.push(this[`${_.toUpper(service)}Datasource`].testDatasource());\n    });\n    if (promises.length === 0) {\n      return Promise.resolve(null);\n    }\n\n    return Promise.all(promises).then((results) => {\n      let status = 'success';\n      let message = 'DataSource Connection OK';\n\n      const errorMsg = _.reduce(\n        results,\n        (acc, cur) => {\n          if (cur.status === 'error') {\n            if (acc === '') acc += 'Oops! Found an error in: ';\n            acc += `${cur.service}: ${cur.message}; \\n`;\n          }\n          return acc;\n        },\n        ''\n      );\n\n      if (errorMsg) {\n        status = 'error';\n        message = errorMsg;\n      }\n\n      return {\n        status,\n        message,\n        title: _.upperFirst(status),\n      };\n    });\n  }\n\n  getServiceFn(service, fnName) {\n    return (...argu) => {\n      if (!this[`${_.toUpper(service)}Datasource`][fnName]) {\n        return [];\n      }\n      return this[`${_.toUpper(service)}Datasource`][fnName](...argu);\n    };\n  }\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","import coreModule from 'grafana/app/core/core_module';\nimport { DetailQueryConfig } from './types';\n\nclass SPQueryCtrl {\n  static _config: DetailQueryConfig;\n\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    Object.assign($scope, SPQueryCtrl._config);\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"{{instanceDocUrl}}\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      InstanceIds\n      <info-popover mode=\"right-normal\">\n         ID100 InstanceIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n         Filters 10Filter.Values 5 InstanceIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CVMFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n</div>\n`;\n\nexport function queryDDO() {\n  return {\n    template: template,\n    controller: SPQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\nexport default (name: string, config: DetailQueryConfig) => {\n  SPQueryCtrl._config = config;\n  coreModule.directive(name, queryDDO);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","var map = {\n\t\"./_base/query.ts\": 7,\n\t\"./apigateway/datasource\": 70,\n\t\"./apigateway/datasource.ts\": 70,\n\t\"./apigateway/query.ts\": 126,\n\t\"./apigateway/query_def.ts\": 21,\n\t\"./bmIntraLb/datasource\": 71,\n\t\"./bmIntraLb/datasource.ts\": 71,\n\t\"./bmIntraLb/query.ts\": 127,\n\t\"./bmIntraLb/query_def.ts\": 29,\n\t\"./bm_lb/datasource\": 72,\n\t\"./bm_lb/datasource.ts\": 72,\n\t\"./bm_lb/query.ts\": 128,\n\t\"./bm_lb/query_def.ts\": 30,\n\t\"./bm_pcx/datasource\": 73,\n\t\"./bm_pcx/datasource.ts\": 73,\n\t\"./bm_pcx/query.ts\": 129,\n\t\"./bm_pcx/query_def.ts\": 31,\n\t\"./bwp/datasource\": 74,\n\t\"./bwp/datasource.ts\": 74,\n\t\"./bwp/query.ts\": 130,\n\t\"./bwp/query_def.ts\": 61,\n\t\"./cbs/datasource\": 75,\n\t\"./cbs/datasource.ts\": 75,\n\t\"./cbs/query.ts\": 131,\n\t\"./cbs/query_def.ts\": 32,\n\t\"./cdb/datasource\": 76,\n\t\"./cdb/datasource.ts\": 76,\n\t\"./cdb/query.ts\": 132,\n\t\"./cdb/query_def.ts\": 42,\n\t\"./cdn/datasource\": 77,\n\t\"./cdn/datasource.ts\": 77,\n\t\"./cdn/query.ts\": 133,\n\t\"./cdn/query_def.ts\": 62,\n\t\"./cdn_province/datasource\": 78,\n\t\"./cdn_province/datasource.ts\": 78,\n\t\"./cdn_province/query.ts\": 134,\n\t\"./cdn_province/query_def.ts\": 33,\n\t\"./ceip_summary/datasource\": 79,\n\t\"./ceip_summary/datasource.ts\": 79,\n\t\"./ceip_summary/query.ts\": 135,\n\t\"./ceip_summary/query_def.ts\": 34,\n\t\"./ces/datasource\": 80,\n\t\"./ces/datasource.ts\": 80,\n\t\"./ces/query.ts\": 136,\n\t\"./ces/query_def.ts\": 43,\n\t\"./cfs/datasource\": 81,\n\t\"./cfs/datasource.ts\": 81,\n\t\"./cfs/query.ts\": 137,\n\t\"./cfs/query_def.ts\": 55,\n\t\"./ckafka/datasource\": 82,\n\t\"./ckafka/datasource.ts\": 82,\n\t\"./ckafka/query.ts\": 138,\n\t\"./ckafka/query_def.ts\": 10,\n\t\"./clb/datasource\": 83,\n\t\"./clb/datasource.ts\": 83,\n\t\"./clb/query.ts\": 139,\n\t\"./clb/query_def.ts\": 12,\n\t\"./cls/datasource\": 84,\n\t\"./cls/datasource.ts\": 84,\n\t\"./cls/query.ts\": 140,\n\t\"./cls/query_def.ts\": 27,\n\t\"./cmq/datasource\": 85,\n\t\"./cmq/datasource.ts\": 85,\n\t\"./cmq/query.ts\": 141,\n\t\"./cmq/query_def.ts\": 56,\n\t\"./cmq_topic/datasource\": 86,\n\t\"./cmq_topic/datasource.ts\": 86,\n\t\"./cmq_topic/query.ts\": 142,\n\t\"./cmq_topic/query_def.ts\": 35,\n\t\"./cos/datasource\": 87,\n\t\"./cos/datasource.ts\": 87,\n\t\"./cos/query_def.ts\": 143,\n\t\"./cpm/datasource\": 88,\n\t\"./cpm/datasource.ts\": 88,\n\t\"./cpm/query.ts\": 144,\n\t\"./cpm/query_def.ts\": 36,\n\t\"./cvm/datasource\": 89,\n\t\"./cvm/datasource.ts\": 89,\n\t\"./cvm/query.ts\": 145,\n\t\"./cvm/query_def.ts\": 57,\n\t\"./cynosdb_mysql/datasource\": 90,\n\t\"./cynosdb_mysql/datasource.ts\": 90,\n\t\"./cynosdb_mysql/query.ts\": 146,\n\t\"./cynosdb_mysql/query_def.ts\": 24,\n\t\"./dc/datasource\": 91,\n\t\"./dc/datasource.ts\": 91,\n\t\"./dc/query.ts\": 147,\n\t\"./dc/query_def.ts\": 44,\n\t\"./dcdb/datasource\": 92,\n\t\"./dcdb/datasource.ts\": 92,\n\t\"./dcdb/query.ts\": 148,\n\t\"./dcdb/query_def.ts\": 15,\n\t\"./dcg/datasource\": 93,\n\t\"./dcg/datasource.ts\": 93,\n\t\"./dcg/query.ts\": 149,\n\t\"./dcg/query_def.ts\": 45,\n\t\"./dcx/datasource\": 94,\n\t\"./dcx/datasource.ts\": 94,\n\t\"./dcx/query.ts\": 150,\n\t\"./dcx/query_def.ts\": 46,\n\t\"./ecdn/datasource\": 95,\n\t\"./ecdn/datasource.ts\": 95,\n\t\"./ecdn/query.ts\": 151,\n\t\"./ecdn/query_def.ts\": 37,\n\t\"./ecm/datasource\": 96,\n\t\"./ecm/datasource.ts\": 96,\n\t\"./ecm/query.ts\": 152,\n\t\"./ecm/query_def.ts\": 38,\n\t\"./ecm_block_storage/datasource\": 97,\n\t\"./ecm_block_storage/datasource.ts\": 97,\n\t\"./ecm_block_storage/query.ts\": 153,\n\t\"./ecm_block_storage/query_def.ts\": 20,\n\t\"./ecm_lb/datasource\": 98,\n\t\"./ecm_lb/datasource.ts\": 98,\n\t\"./ecm_lb/query.ts\": 154,\n\t\"./ecm_lb/query_def.ts\": 47,\n\t\"./gse/datasource\": 99,\n\t\"./gse/datasource.ts\": 99,\n\t\"./gse/query.ts\": 155,\n\t\"./gse/query_def.ts\": 14,\n\t\"./lb/datasource\": 100,\n\t\"./lb/datasource.ts\": 100,\n\t\"./lb/query.ts\": 156,\n\t\"./lb/query_def.ts\": 63,\n\t\"./lighthouse/datasource\": 101,\n\t\"./lighthouse/datasource.ts\": 101,\n\t\"./lighthouse/query.ts\": 157,\n\t\"./lighthouse/query_def.ts\": 54,\n\t\"./mongodb/datasource\": 102,\n\t\"./mongodb/datasource.ts\": 102,\n\t\"./mongodb/query.ts\": 158,\n\t\"./mongodb/query_def.ts\": 48,\n\t\"./mr/datasource\": 103,\n\t\"./mr/datasource.ts\": 103,\n\t\"./mr/query.ts\": 159,\n\t\"./mr/query_def.ts\": 22,\n\t\"./nat_gateway/datasource\": 104,\n\t\"./nat_gateway/datasource.ts\": 104,\n\t\"./nat_gateway/query.ts\": 160,\n\t\"./nat_gateway/query_def.ts\": 64,\n\t\"./ov_cdn/datasource\": 105,\n\t\"./ov_cdn/datasource.ts\": 105,\n\t\"./ov_cdn/query.ts\": 161,\n\t\"./ov_cdn/query_def.ts\": 65,\n\t\"./pcx/datasource\": 106,\n\t\"./pcx/datasource.ts\": 106,\n\t\"./pcx/query.ts\": 162,\n\t\"./pcx/query_def.ts\": 58,\n\t\"./postgresql/datasource\": 107,\n\t\"./postgresql/datasource.ts\": 107,\n\t\"./postgresql/query.ts\": 163,\n\t\"./postgresql/query_def.ts\": 39,\n\t\"./qaap/datasource\": 108,\n\t\"./qaap/datasource.ts\": 108,\n\t\"./qaap/query.ts\": 164,\n\t\"./qaap/query_def.ts\": 49,\n\t\"./redis/datasource\": 109,\n\t\"./redis/datasource.ts\": 109,\n\t\"./redis/query.ts\": 165,\n\t\"./redis/query_def.ts\": 59,\n\t\"./redis_mem/datasource\": 110,\n\t\"./redis_mem/datasource.ts\": 110,\n\t\"./redis_mem/query.ts\": 166,\n\t\"./redis_mem/query_def.ts\": 16,\n\t\"./scf/datasource\": 111,\n\t\"./scf/datasource.ts\": 111,\n\t\"./scf/query.ts\": 167,\n\t\"./scf/query_def.ts\": 25,\n\t\"./sqlserver/datasource\": 112,\n\t\"./sqlserver/datasource.ts\": 112,\n\t\"./sqlserver/query.ts\": 168,\n\t\"./sqlserver/query_def.ts\": 28,\n\t\"./tcaplus/datasource\": 113,\n\t\"./tcaplus/datasource.ts\": 113,\n\t\"./tcaplus/query.ts\": 169,\n\t\"./tcaplus/query_def.ts\": 50,\n\t\"./tdmq/datasource\": 114,\n\t\"./tdmq/datasource.ts\": 114,\n\t\"./tdmq/query.ts\": 170,\n\t\"./tdmq/query_def.ts\": 13,\n\t\"./tdmq_rabbitmq/datasource\": 115,\n\t\"./tdmq_rabbitmq/datasource.ts\": 115,\n\t\"./tdmq_rabbitmq/query.ts\": 171,\n\t\"./tdmq_rabbitmq/query_def.ts\": 17,\n\t\"./tdmq_rocketmq/datasource\": 116,\n\t\"./tdmq_rocketmq/datasource.ts\": 116,\n\t\"./tdmq_rocketmq/query.ts\": 172,\n\t\"./tdmq_rocketmq/query_def.ts\": 18,\n\t\"./tke/datasource\": 117,\n\t\"./tke/datasource.ts\": 117,\n\t\"./tke/query.ts\": 173,\n\t\"./tke/query_def.ts\": 69,\n\t\"./tsf/datasource\": 118,\n\t\"./tsf/datasource.ts\": 118,\n\t\"./tsf/query.ts\": 174,\n\t\"./tsf/query_def.ts\": 60,\n\t\"./v_clb/datasource\": 119,\n\t\"./v_clb/datasource.ts\": 119,\n\t\"./v_clb/query.ts\": 175,\n\t\"./v_clb/query_def.ts\": 23,\n\t\"./vbc/datasource\": 120,\n\t\"./vbc/datasource.ts\": 120,\n\t\"./vbc/query.ts\": 176,\n\t\"./vbc/query_def.ts\": 51,\n\t\"./vpc_net_detect/datasource\": 121,\n\t\"./vpc_net_detect/datasource.ts\": 121,\n\t\"./vpc_net_detect/query.ts\": 177,\n\t\"./vpc_net_detect/query_def.ts\": 40,\n\t\"./vpngw/datasource\": 122,\n\t\"./vpngw/datasource.ts\": 122,\n\t\"./vpngw/query.ts\": 178,\n\t\"./vpngw/query_def.ts\": 52,\n\t\"./vpnx/datasource\": 123,\n\t\"./vpnx/datasource.ts\": 123,\n\t\"./vpnx/query.ts\": 179,\n\t\"./vpnx/query_def.ts\": 53,\n\t\"./waf/datasource\": 124,\n\t\"./waf/datasource.ts\": 124,\n\t\"./waf/query.ts\": 180,\n\t\"./waf/query_def.ts\": 41\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 191;","module.exports = __WEBPACK_EXTERNAL_MODULE__192__;","module.exports = __WEBPACK_EXTERNAL_MODULE__193__;","module.exports = __WEBPACK_EXTERNAL_MODULE__196__;","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__200__;","module.exports = __WEBPACK_EXTERNAL_MODULE__201__;","module.exports = \"<query-editor-row query-ctrl=\\\"ctrl\\\" class=\\\"generic-datasource-query-row\\\" has-text-edit-mode=\\\"true\\\">\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Namespace</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-cascader\\n          ng-if=\\\"ctrl.isCascader\\\"\\n          style=\\\"width: 160px\\\"\\n          change-on-select=\\\"false\\\"\\n          options=\\\"ctrl.cascaderOptions\\\"\\n          on-select=\\\"ctrl.cascaderChange(_query)\\\"\\n          initial-value=\\\"{{ctrl.target.namespace}}\\\"\\n        ></gf-cascader>\\n\\n        <gf-form-dropdown\\n          ng-if=\\\"!ctrl.isCascader\\\"\\n          model=\\\"ctrl.target.namespace\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getNamespaces($query)\\\"\\n          on-change=\\\"ctrl.onNamespaceChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" ng-if=\\\"!ctrl.hideRegion\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Region</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].region\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getRegions($query)\\\"\\n          on-change=\\\"ctrl.onRegionChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n          disabled\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">MetricName</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].metricName\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getMetrics($query)\\\"\\n          on-change=\\\"ctrl.onMetricChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n    <div class=\\\"gf-form gf-form-label--grow\\\" ng-if=\\\"!!ctrl.getMetricNameDesc()\\\">\\n      <label class=\\\"gf-form-label gf-form-label--grow\\\">({{ctrl.getMetricNameDesc()}})</label>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" style=\\\"align-items: center\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Period</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <select\\n          class=\\\"gf-form-input min-width-10\\\"\\n          ng-change=\\\"ctrl.refresh()\\\"\\n          ng-model=\\\"ctrl.target[ctrl.target.service].period\\\"\\n          ng-options=\\\"f for f in ctrl.sortedPeriodList\\\"\\n        ></select>\\n      </div>\\n    </div>\\n    <span style=\\\"margin-left: 8px; font-size: 12px\\\">({{ctrl.getTimeDesc()}})</span>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" style=\\\"align-items: center\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Timeshift</label>\\n      <input\\n        class=\\\"gf-form-input width-10\\\"\\n        ng-model=\\\"ctrl.target[ctrl.target.service].timeshift\\\"\\n        ng-blur=\\\"ctrl.refresh()\\\"\\n      ></input>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Instance</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <select\\n          class=\\\"gf-form-input min-width-8\\\"\\n          ng-change=\\\"ctrl.onInstanceAliasChange()\\\"\\n          ng-model=\\\"ctrl.target[ctrl.target.service].instanceAlias\\\"\\n          ng-options=\\\"f.value as f.text for f in ctrl.instanceAliasList\\\"\\n        ></select>\\n      </div>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].instance\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getInstances($query)\\\"\\n          on-change=\\\"ctrl.onInstanceChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n    <div class=\\\"gf-form\\\" ng-if=\\\"!ctrl.isVariable('instance')\\\">\\n      <label class=\\\"gf-form-label width-7\\\">Show Details</label>\\n      <gf-form-switch\\n        class=\\\"gf-form tc-switch\\\"\\n        label-class=\\\"width-7\\\"\\n        checked=\\\"ctrl.target.showInstanceDetails\\\"\\n        switch-class=\\\"max-width-5\\\"\\n      ></gf-form-switch>\\n    </div>\\n    <div class=\\\"gf-form gf-form-label--grow\\\">\\n      <!-- this is explain how much items will display to user -->\\n      <label class=\\\"gf-form-label gf-form-label--grow\\\">({{ctrl.getSearchDesc()}})</label>\\n    </div>\\n  </div>\\n</query-editor-row>\\n\";","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../../node_modules/sass-loader/dist/cjs.js!./query_editor.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".tc-sub-params{margin-top:4px;margin-left:125px}.tc-sub-params .gf-form-inline{min-height:42px}.tc-sub-params .gf-form-inline .gf-form-label{margin-bottom:2px}.tc-sub-params .tc-info-label{margin-bottom:6px}.tc-sub-params .tc-info-label>a{margin-left:10px}.tc-switch{border-left:1px solid #262628;margin-bottom:0 !important}.tc-condition-block{margin-right:10px;display:inline-block}.tc-condition-block .tc-condition-input{border-radius:0}.tc-condition-block .tc-condition-minus{vertical-align:top;border-radius:0 3px 3px 0}.tc-condition-block .tc-condition-dropdown{display:inline-block}.tc-condition-block>input{display:inline-block;margin-right:0}.tc-condition-block>label{display:inline-block}.tc-condition-add{display:inline-block;vertical-align:top}.tc-condition-add>label{border-radius:3px}.filtered-color{color:#ff851b}.secret-tips{position:absolute;right:-25px;border-radius:2px;background:#1b1b1b;padding:10px;top:-35px;width:300px;border:1px solid #2c3235}.secret-tips-tri{position:absolute;width:15px;height:15px;left:-8px;top:60px;background:#1b1b1b;border:1px solid #2c3235;border-top:0;border-right:0;transform:rotate(45deg)}.rc-cascader-menu-item{min-width:160px;font-size:14px}\", \"\",{\"version\":3,\"sources\":[\"query_editor.css\"],\"names\":[],\"mappings\":\"AAAA,eAAe,cAAc,CAAC,iBAAiB,CAAC,+BAA+B,eAAe,CAAC,8CAA8C,iBAAiB,CAAC,8BAA8B,iBAAiB,CAAC,gCAAgC,gBAAgB,CAAC,WAAW,6BAA6B,CAAC,0BAA0B,CAAC,oBAAoB,iBAAiB,CAAC,oBAAoB,CAAC,wCAAwC,eAAe,CAAC,wCAAwC,kBAAkB,CAAC,yBAAyB,CAAC,2CAA2C,oBAAoB,CAAC,0BAA0B,oBAAoB,CAAC,cAAc,CAAC,0BAA0B,oBAAoB,CAAC,kBAAkB,oBAAoB,CAAC,kBAAkB,CAAC,wBAAwB,iBAAiB,CAAC,gBAAgB,aAAa,CAAC,aAAa,iBAAiB,CAAC,WAAW,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,YAAY,CAAC,SAAS,CAAC,WAAW,CAAC,wBAAwB,CAAC,iBAAiB,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,YAAY,CAAC,cAAc,CAAC,uBAAuB,CAAC,uBAAuB,eAAe,CAAC,cAAc\",\"file\":\"query_editor.css\",\"sourcesContent\":[\".tc-sub-params{margin-top:4px;margin-left:125px}.tc-sub-params .gf-form-inline{min-height:42px}.tc-sub-params .gf-form-inline .gf-form-label{margin-bottom:2px}.tc-sub-params .tc-info-label{margin-bottom:6px}.tc-sub-params .tc-info-label>a{margin-left:10px}.tc-switch{border-left:1px solid #262628;margin-bottom:0 !important}.tc-condition-block{margin-right:10px;display:inline-block}.tc-condition-block .tc-condition-input{border-radius:0}.tc-condition-block .tc-condition-minus{vertical-align:top;border-radius:0 3px 3px 0}.tc-condition-block .tc-condition-dropdown{display:inline-block}.tc-condition-block>input{display:inline-block;margin-right:0}.tc-condition-block>label{display:inline-block}.tc-condition-add{display:inline-block;vertical-align:top}.tc-condition-add>label{border-radius:3px}.filtered-color{color:#ff851b}.secret-tips{position:absolute;right:-25px;border-radius:2px;background:#1b1b1b;padding:10px;top:-35px;width:300px;border:1px solid #2c3235}.secret-tips-tri{position:absolute;width:15px;height:15px;left:-8px;top:60px;background:#1b1b1b;border:1px solid #2c3235;border-top:0;border-right:0;transform:rotate(45deg)}.rc-cascader-menu-item{min-width:160px;font-size:14px}\"]}]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-1!../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-3!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".log-service-monospaced-font-family {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n.log-service-monospaced-font-family button,\\n.log-service-monospaced-font-family input,\\n.log-service-monospaced-font-family select,\\n.log-service-monospaced-font-family textarea {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,8DAA8D;AAChE;AACA;;;;EAIE,8DAA8D;AAChE\",\"file\":\"index.less\",\"sourcesContent\":[\".log-service-monospaced-font-family {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n.log-service-monospaced-font-family button,\\n.log-service-monospaced-font-family input,\\n.log-service-monospaced-font-family select,\\n.log-service-monospaced-font-family textarea {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","import coreModule from 'grafana/app/core/core_module';\nimport _ from 'lodash';\nimport { isDefined } from 'angular';\n\n// mutilple conditions directive for instance query params\nexport class MultiConditionCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.type = $scope.type || 'input';\n      $scope.placeholder = isDefined($scope.placeholder) ? $scope.placeholder : '';\n      $scope.value = isDefined($scope.value) ? $scope.value : [];\n      $scope.maxCond = _.toInteger($scope.maxCond) > 0 ? _.toInteger($scope.maxCond) : -1;\n    };\n\n    $scope.onInputBlur = () => {\n      $scope.onChangeInternal();\n    };\n\n    $scope.deleteCondition = (index) => {\n      $scope.value.splice(index, 1);\n      $scope.onChangeInternal();\n    };\n\n    $scope.addCondition = (cond) => {\n      $scope.value.push(cond);\n      $scope.onChangeInternal();\n    };\n\n    $scope.onChangeInternal = () => {\n      $scope.onChange({ value: $scope.value });\n    };\n\n    $scope.onSelectChange = (value) => {\n      $scope.onChange({ value });\n    };\n\n    $scope.getSelectedOptions = () => {\n      const selectedOptions = _.filter(\n        $scope.options,\n        (item) => _.get($scope.value, 'value', []).indexOf(item.value) !== -1\n      );\n      return selectedOptions.length > 0\n        ? _.map(selectedOptions, (option) => `${option.text}: ${option.value}`).join('; ')\n        : undefined;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div ng-if=\"type === 'input'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\">\n    <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"value[$index]\" placeholder=\"{{placeholder}}\"\n      ng-blur=\"onInputBlur()\"></input>\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition('')\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<div ng-if=\"type === 'inputNumber'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\">\n    <input type=\"number\" ng-model=\"value[$index]\" ng-blur=\"onInputBlur()\" class=\"gf-form-input width-10 tc-condition-input\"\n      ng-min=\"minNum\" ng-max=\"maxNum\" ng-change=\"onChangeInternal()\">\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition(undefined)\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<div class=\"gf-form\" ng-if=\"type === 'select'\">\n  <custom-select-dropdown value=\"value\" multiple=\"true\" options=\"options\" on-change=\"onSelectChange(value)\"></custom-select-dropdown>\n  <label class=\"gf-form-label tc-info-label\" ng-if=\"getSelectedOptions()\">\n    {{getSelectedOptions()}}\n  </label>\n</div>\n\n<div ng-if=\"type === 'dropdown'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\" style=\"vertical-align: top;\">\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent tc-condition-dropdown\">\n      <gf-form-dropdown model=\"value[$index]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getOptions()\" on-change=\"onChangeInternal()\"\n        css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition('')\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<!-- <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n  <gf-form-dropdown model=\"ctrl.target.cvm.instance\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"ctrl.getInstances($query)\"\n    on-change=\"ctrl.onInstanceChange()\" css-class=\"min-width-10\">\n  </gf-form-dropdown>\n</div> -->\n`;\n\nexport function multiCondition() {\n  return {\n    template: template,\n    controller: MultiConditionCtrl,\n    restrict: 'E',\n    scope: {\n      type: '=',\n      value: '=',\n      maxCond: '=?',\n      placeholder: '=?',\n      options: '=?',\n      maxNum: '=?',\n      minNum: '=?',\n      multiple: '=?',\n      onChange: '&',\n      getOptions: '&',\n    },\n  };\n}\n\ncoreModule.directive('multiCondition', multiCondition);\n","import angular from 'angular';\nimport _ from 'lodash';\nimport coreModule from 'grafana/app/core/core_module';\n\nexport class CustomSelectDropdownCtrl {\n  dropdownVisible: any;\n  highlightIndex: any;\n  linkText: any;\n  oldVariableText: any;\n  selectOptions: any;\n  options: any;\n  value: any;\n  search: any;\n  multiple: boolean | undefined;\n  selectedValues: any;\n  variable: any;\n\n  hide: any;\n  onChange: any;\n\n  /** @ngInject */\n  constructor() {}\n\n  show() {\n    this.oldVariableText = _.get(this.value, 'text', '');\n    this.highlightIndex = -1;\n\n    this.selectOptions = _.cloneDeep(this.options);\n    _.map(this.selectOptions, (option) => {\n      const selectedValue = _.get(this.value, 'value');\n      if (!selectedValue) {\n        option.selected = false;\n      } else if (_.isArray(selectedValue)) {\n        option.selected = _.indexOf(selectedValue, option.value) !== -1 ? true : false;\n      } else {\n        option.selected = selectedValue === option.value;\n      }\n    });\n\n    this.selectedValues = _.filter(this.selectOptions, { selected: true });\n\n    this.search = {\n      query: '',\n      options: this.selectOptions.slice(0, Math.min(this.selectOptions.length, 1000)),\n    };\n\n    this.dropdownVisible = true;\n  }\n\n  updateLinkText() {\n    this.linkText = _.get(this.value, 'text', '');\n  }\n\n  clearSelections() {\n    _.each(this.selectOptions, (option) => {\n      option.selected = false;\n    });\n\n    this.selectionsChanged(false);\n  }\n\n  keyDown(evt) {\n    if (evt.keyCode === 27) {\n      this.hide();\n    }\n    if (evt.keyCode === 40) {\n      this.moveHighlight(1);\n    }\n    if (evt.keyCode === 38) {\n      this.moveHighlight(-1);\n    }\n    if (evt.keyCode === 13) {\n      if (this.search.options.length === 0) {\n        this.commitChanges();\n      } else {\n        this.selectValue(this.search.options[this.highlightIndex], {}, true, false);\n      }\n    }\n    if (evt.keyCode === 32) {\n      this.selectValue(this.search.options[this.highlightIndex], {}, false, false);\n    }\n  }\n\n  moveHighlight(direction) {\n    this.highlightIndex = (this.highlightIndex + direction) % this.search.options.length;\n  }\n\n  selectValue(option, event, commitChange?, excludeOthers?) {\n    if (!option) {\n      return;\n    }\n    option.selected = this.multiple ? !option.selected : true;\n\n    commitChange = commitChange || false;\n    excludeOthers = excludeOthers || false;\n\n    const setAllExceptCurrentTo = (newValue) => {\n      _.each(this.selectOptions, (other) => {\n        if (option !== other) {\n          other.selected = newValue;\n        }\n      });\n    };\n\n    // commit action (enter key), should not deselect it\n    if (commitChange) {\n      option.selected = true;\n    }\n\n    if (excludeOthers) {\n      setAllExceptCurrentTo(false);\n      commitChange = true;\n    } else if (!this.multiple) {\n      setAllExceptCurrentTo(false);\n      commitChange = true;\n    } else if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      commitChange = true;\n      setAllExceptCurrentTo(false);\n    }\n\n    this.selectionsChanged(commitChange);\n  }\n\n  selectionsChanged(commitChange) {\n    this.selectedValues = _.filter(this.selectOptions, { selected: true });\n    this.value.value = _.map(this.selectedValues, 'value');\n    this.value.text = _.map(this.selectedValues, 'text').join(' + ');\n    if (!this.multiple) {\n      this.value.value = _.get(this.selectedValues, '0.value', '');\n    }\n\n    if (commitChange) {\n      this.commitChanges();\n    }\n  }\n\n  commitChanges() {\n    this.dropdownVisible = false;\n\n    this.updateLinkText();\n\n    if (this.value.text !== this.oldVariableText) {\n      this.onChange({ value: this.value });\n    }\n  }\n\n  queryChanged() {\n    this.highlightIndex = -1;\n    this.search.options = _.filter(this.selectOptions, (option) => {\n      return option.text.toLowerCase().indexOf(this.search.query.toLowerCase()) !== -1;\n    });\n\n    this.search.options = this.search.options.slice(0, Math.min(this.search.options.length, 1000));\n  }\n\n  init() {\n    if (_.isEmpty(this.value)) {\n      this.value = { text: '', value: this.multiple ? [] : '' };\n    }\n    this.updateLinkText();\n  }\n}\n\nconst template = `\n<div class=\"variable-link-wrapper\">\n  <a ng-click=\"vm.show()\" class=\"variable-value-link min-width-10\">\n    {{vm.linkText}}\n    <i class=\"fa fa-caret-down\" style=\"font-size:12px;float:right;position:relative;top:4px\"></i>\n  </a>\n\n  <input\n    type=\"text\"\n    class=\"gf-form-input\"\n    style=\"display: none\"\n    ng-keydown=\"vm.keyDown($event)\"\n    ng-model=\"vm.search.query\"\n    ng-change=\"vm.queryChanged()\"\n  ></input>\n\n  <div class=\"variable-value-dropdown\" ng-if=\"vm.dropdownVisible\" ng-class=\"{'multi': vm.multiple, 'single': !vm.multiple}\">\n    <div class=\"variable-options-wrapper\">\n      <div class=\"variable-options-column\">\n        <a class=\"variable-options-column-header\" ng-if=\"!!vm.multiple\" ng-class=\"{'many-selected': vm.selectedValues.length > 1}\"\n          bs-tooltip=\"'Clear selections'\" data-placement=\"top\" ng-click=\"vm.clearSelections()\">\n          <span class=\"variable-option-icon\"></span>\n          Selected ({{vm.selectedValues.length}})\n        </a>\n        <a class=\"variable-option pointer\" ng-repeat=\"option in vm.search.options\" ng-class=\"{'selected': option.selected, 'highlighted': $index === vm.highlightIndex}\"\n          ng-click=\"vm.selectValue(option, $event)\">\n          <span class=\"variable-option-icon\"></span>\n          <span>{{option.text}}</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\n/** @ngInject */\nexport function customSelectDropdown($compile, $window, $timeout, $rootScope) {\n  return {\n    restrict: 'E',\n    scope: { options: '=', multiple: '=', value: '=', onChange: '&' },\n    template: template,\n    controller: 'CustomSelectDropdownCtrl',\n    controllerAs: 'vm',\n    bindToController: true,\n    link: (scope, elem) => {\n      const bodyEl = angular.element($window.document.body);\n      const linkEl = elem.find('.variable-value-link');\n      const inputEl = elem.find('input');\n\n      function bodyOnClick(e) {\n        if (elem.has(e.target).length === 0) {\n          scope.$apply(() => {\n            scope.vm.commitChanges();\n          });\n        }\n      }\n\n      function openDropdown() {\n        inputEl.css('width', Math.max(linkEl.width(), 136) + 'px');\n\n        inputEl.show();\n        linkEl.hide();\n\n        inputEl.focus();\n        $timeout(\n          () => {\n            bodyEl.on('click', bodyOnClick);\n          },\n          0,\n          false\n        );\n      }\n\n      function switchToLink() {\n        inputEl.hide();\n        linkEl.show();\n        bodyEl.off('click', bodyOnClick);\n      }\n\n      scope.$watch('vm.dropdownVisible', (newValue) => {\n        if (newValue) {\n          openDropdown();\n        } else {\n          switchToLink();\n        }\n      });\n\n      scope.vm.init();\n    },\n  };\n}\n\ncoreModule.controller('CustomSelectDropdownCtrl', CustomSelectDropdownCtrl);\ncoreModule.directive('customSelectDropdown', customSelectDropdown);\n","import coreModule from 'grafana/app/core/core_module';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst genController = (component) =>\n  class Controller {\n    _$scope: any;\n    _$element: any;\n\n    /** @ngInject */\n    constructor($scope, $element) {\n      this._$scope = $scope;\n      this._$element = $element;\n    }\n\n    $onInit() {\n      // extract porps\n      const props = Object.entries(this._$scope).reduce((acc, [key, value]) => {\n        if (!key.startsWith('$')) {\n          if (typeof value === 'function') {\n            acc[key] = (...args) => value({ _query: args.length === 1 ? args[0] : args });\n          } else {\n            acc[key] = value;\n          }\n        }\n        return acc;\n      }, {} as any);\n\n      // wating dom mounted\n      setTimeout(() => {\n        ReactDOM.render(React.createElement(component, props), this._$element[0]);\n      });\n    }\n  };\n\nexport function loadReactComponent(\n  RectCompo: React.ComponentType,\n  componentName: string,\n  propTypes: Record<string, string>\n) {\n  coreModule.directive(componentName, () => ({\n    template: `<div class=\"${componentName}\"></div>`,\n    controller: genController(RectCompo),\n    restrict: 'E',\n    scope: propTypes,\n    replace: true,\n  }));\n}\n","import { Cascader } from '@grafana/ui';\nimport { loadReactComponent } from '../../common/react-loader';\n\nloadReactComponent(Cascader, 'gfCascader', {\n  separator: '@?',\n  placeholder: '@?',\n  options: '<',\n  changeOnSelect: '<?',\n  onSelect: '&',\n  width: '@?',\n  initialValue: '@?',\n  allowCustomValue: '<?',\n  formatCreateLabel: '&?',\n  displayAllSelectedLevels: '<?',\n});\n","export const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n\nexport enum SearchSyntaxRule {\n  LUCENE = 0,\n  CQL = 1,\n}\n","/**  */\nimport { DataQuery, DataSourceJsonData } from '@grafana/data';\nimport { RUMQuery } from './rum-service/types';\nimport { t, Language } from '../locale';\nimport { SearchSyntaxRule } from './log-service/common/constants';\n\nexport const enum ServiceType {\n  monitor = 'monitor',\n  logService = 'logService',\n  RUMService = 'RUMService',\n}\n\nexport const ServiceTypeOptions = [\n  {\n    value: ServiceType.monitor,\n    get label() {\n      return t('cloud_monitor');\n    },\n  },\n  {\n    value: ServiceType.logService,\n    get label() {\n      return t('cloud_log_service');\n    },\n  },\n  {\n    value: ServiceType.RUMService,\n    get label() {\n      return t('real_user_monitoring');\n    },\n  },\n];\n\nexport interface QueryInfo extends DataQuery {\n  /** Query or  */\n  serviceType?: ServiceType;\n  logServiceParams?: {\n    region: string;\n    TopicId: string;\n    Query: string;\n    SyntaxRule: number;\n    MaxResultNum?: number;\n  };\n  RUMServiceParams?: RUMQuery;\n}\n\nexport const defaultQueryInfo: Omit<QueryInfo, 'refId'> = {\n  serviceType: ServiceType.logService,\n  logServiceParams: {\n    region: '',\n    TopicId: '',\n    Query: '',\n    SyntaxRule: SearchSyntaxRule.CQL,\n  },\n  RUMServiceParams: {\n    policy: 'default',\n    resultFormat: 'time_series',\n    orderByTime: 'ASC',\n    tags: [],\n    groupBy: [\n      {\n        type: 'time',\n        params: ['$__interval'],\n      },\n      {\n        type: 'fill',\n        params: ['null'],\n      },\n    ],\n    select: [\n      [\n        {\n          type: 'field',\n          params: ['value'],\n        },\n        {\n          type: 'mean',\n          params: [],\n        },\n      ],\n    ],\n  },\n};\n\n/** QueryInfoqueryqueryQueryInfo */\nexport const queryInfoRuntime: Required<QueryInfo> = {\n  refId: '',\n  hide: false,\n  key: '',\n  queryType: '',\n  dataTopic: null as any,\n  datasource: '',\n\n  serviceType: defaultQueryInfo.serviceType,\n  logServiceParams: defaultQueryInfo.logServiceParams,\n  RUMServiceParams: defaultQueryInfo.RUMServiceParams,\n};\n\n/**  */\nexport interface VariableQuery {\n  serviceType: ServiceType;\n  queryString: string;\n  logServiceParams?: QueryInfo['logServiceParams'];\n}\n\n/**\n * These are options configured for each DataSource instance.\n */\nexport interface MyDataSourceOptions extends DataSourceJsonData {\n  secretId?: string;\n  /**  */\n  logServiceEnabled?: boolean;\n  /**  */\n  RUMServiceEnabled?: boolean;\n  /**  product.service  */\n  // [product.service]?: boolean\n  intranet?: boolean;\n  language?: Language;\n}\n\n/**\n * Value that is used in the backend, but never sent over HTTP to the frontend\n */\nexport interface MySecureJsonData {\n  secretKey: string;\n}\n","import editorHtmlTmp from './query.editor.html';\nimport { SERVICES } from '../../tc_monitor';\n\nconst hackModuleName = {\n  loadBalance: 'clb',\n  lbPrivate: 'clb',\n  lbPublic: 'clb',\n  mongoDB: 'mongodb',\n\n  // MapReduce\n  mrHDFS: 'mr',\n  mrHBASE: 'mr',\n  mrHIVE: 'mr',\n  mrNODE: 'mr',\n  mrPRESTO: 'mr',\n  mrSPARK: 'mr',\n  mrYARN: 'mr',\n  mrZOOKEEPER: 'mr',\n};\n\nexport const editorHtml = (function () {\n  let str = editorHtmlTmp;\n  SERVICES.forEach(({ service }) => {\n    const serviceSwitch = hackModuleName[service] || service.replace(/([A-Z])/g, '-$1').toLowerCase();\n    str += `<${serviceSwitch}-query\n      ng-if=\"ctrl.target.service==='${service}'\"\n      target=\"ctrl.target.${service}\"\n      namespace=\"ctrl.target.namespace\"\n      show-detail=\"ctrl.checkShowDetail('instance')\"\n      datasource=\"ctrl.datasource\"\n      on-change=\"ctrl.onInstanceQueryChange()\"\n      on-refresh=\"ctrl.refresh()\"\n      dims=\"ctrl.target.${service}.dimensionObject\"\n      region=\"ctrl.getVariable(ctrl.target.${service}.region)\"\n    ></${serviceSwitch}-query>`;\n  });\n  const footStr = `\n    <div class=\"gf-form\" ng-show=\"ctrl.lastQueryError\">\n      <pre class=\"gf-form-pre alert alert-error\">{{ctrl.lastQueryError}}</pre>\n    </div>\n  </query-editor-row>`;\n  return str + footStr;\n})();\n","import { QueryCtrl } from 'grafana/app/plugins/sdk';\nimport _ from 'lodash';\n\nimport { GetServiceFromNamespace, ReplaceVariable, isVariable } from '../common/constants';\nimport { InitServiceState, InstanceAliasList, GetInstanceQueryParams, SERVICES } from '../tc_monitor';\n\nimport './components/multi_condition';\nimport './components/custom_select_dropdown';\nimport './components/cascader';\nimport './css/query_editor.css';\nimport { editorHtml } from './partials/queryEditorTemplate';\nimport { t, getLanguage, Language } from '../../locale'\nexport class TCMonitorDatasourceQueryCtrl extends QueryCtrl {\n  // static templateUrl = 'datasource/partials/query.editor.html';\n  static template = editorHtml;\n  datasource: any;\n  panelCtrl: any;\n  namespaces: string[] = [];\n  regions: any[] = [];\n  instanceList: any[] = [];\n  // listenerList: any[] = [];\n  metricList: any[] = [];\n  periodList: number[] = [];\n  dimensionList: any[] = [];\n  instanceAliasList: any[] = [];\n  // listenerAliasList: any[] = [];\n  target: {\n    refId: string;\n    service: string;\n    namespace: string;\n    showInstanceDetails: boolean;\n  };\n  defaults = {\n    namespace: '',\n    service: '',\n    showInstanceDetails: false,\n    ...InitServiceState,\n  };\n\n  cascaderOptions: any = [];\n\n  lastQuery: string;\n  lastQueryError?: string;\n\n  isMetricsNeedUpdate: boolean;\n  hideRegion: boolean;\n\n  $scope: any;\n\n  /** @ngInject */\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor($scope, $injector, private templateSrv) {\n    super($scope, $injector);\n    this.$scope = $scope;\n    this.cascaderOptions = this.datasource.getCascaderNamespaces();\n    this.namespaces = this.datasource.getNamespaces();\n    // \n    if (this.namespaces.length > 0) {\n      // if (_.indexOf(this.namespaces, this.target.namespace) === -1) {\n      //   this.target.namespace = this.namespaces[0];\n      // }\n      this.target.namespace =\n        this.target.namespace ?? this.cascaderOptions[0]?.items?.[0].value ?? this.cascaderOptions[0].value;\n      this.target.service = GetServiceFromNamespace(this.target.namespace) || '';\n    }\n    this.hideRegion = !!SERVICES.find((o) => o.service === this.target.service)?.hideRegion;\n    _.defaultsDeep(this.target, this.defaults);\n    this.instanceAliasList = this.getInstanceAliasList(this.target.service);\n    // this.listenerAliasList = this.getListenerAliasList(this.target.service);\n    this.panelCtrl.events.on('data-received', this.onDataReceived.bind(this), $scope);\n    this.panelCtrl.events.on('data-error', this.onDataError.bind(this), $scope);\n  }\n\n  get sortedPeriodList() {\n    return this.periodList.sort((a, b) => a - b);\n  }\n  get isCascader() {\n    return this.cascaderOptions.length > 1;\n  }\n  cascaderChange(namespace) {\n    this.target.namespace = namespace;\n    this.onNamespaceChange();\n  }\n\n  onDataReceived(dataList) {\n    this.lastQueryError = undefined;\n    this.lastQuery = '';\n\n    const anySeriesFromQuery: any = _.find(dataList, { refId: this.target.refId });\n    if (anySeriesFromQuery) {\n      this.lastQuery = anySeriesFromQuery.query;\n    }\n  }\n\n  onDataError(err) {\n    this.handleQueryCtrlError(err);\n  }\n\n  handleQueryCtrlError(err) {\n    if (_.get(err, 'query.refId') !== this.target.refId) {\n      return;\n    }\n\n    if (_.get(err, 'error.data.error.innererror', undefined)) {\n      if (_.get(err, 'error.data.error.innererror.innererror', undefined)) {\n        this.lastQueryError = _.get(err, 'error.data.error.innererror.innererror.message');\n      } else {\n        this.lastQueryError = _.get(err, 'error.data.error.innererror.message');\n      }\n    } else if (_.get(err, 'error.data.error', undefined)) {\n      this.lastQueryError = _.get(err, 'error.data.error.message');\n    } else if (_.get(err, 'error.data', undefined)) {\n      this.lastQueryError = _.get(err, 'error.data.message');\n    } else if (_.get(err, 'data.error', undefined)) {\n      this.lastQueryError = _.get(err, 'data.error.message');\n      // eslint-disable-next-line no-empty\n    } else if (err.data?.message) {\n    } else if (_.get(err, 'data.message', undefined)) {\n      this.lastQueryError = _.get(err, 'data.message');\n    } else {\n      this.lastQueryError = err;\n    }\n  }\n\n  /**\n   * \n   *\n   * @param service \n   */\n  getInstanceAliasList(service) {\n    if (!service) {\n      return [];\n    }\n    return _.map(InstanceAliasList[`${_.toUpper(service)}InstanceAliasList`] || [], (item) => ({\n      text: `As ${item}`,\n      value: item,\n    }));\n  }\n  getNamespaces(query) {\n    return _.map(this.namespaces, (o: any) => ({ text: o.label, value: o.namespace })); // TODO: \n  }\n  onNamespaceChange() {\n    const service = GetServiceFromNamespace(this.target.namespace) || '';\n    this.hideRegion = !!SERVICES.find((o) => o.service === service)?.hideRegion;\n    this.regions = [];\n    this.metricList = [];\n    this.periodList = [];\n    this.dimensionList = [];\n    this.instanceList = [];\n    // this.listenerList = [];\n\n    const initState = InitServiceState[service];\n    this.target[service] = _.cloneDeep(initState);\n    this.target.service = service;\n\n    this.instanceAliasList = this.getInstanceAliasList(service);\n    // this.listenerAliasList = this.getListenerAliasList(service);\n\n    this.refresh();\n    if (this.isCascader) this.$scope.$apply();\n  }\n\n  /**\n   * \n   * output:\n   *  [\n   *    {\n   *      \"Region\": \"ap-beijing\",\n   *      \"RegionName\": \"()\",\n   *      \"RegionState\": \"AVAILABLE\"\n   *    },\n   *    {\n   *      \"Region\": \"ap-guangzhou\",\n   *      \"RegionName\": \"()\",\n   *      \"RegionState\": \"AVAILABLE\"\n   *    }\n   *  ]\n   */\n  getRegions(query) {\n    const service = this.target.service;\n    if (!service || _.startsWith('$')) {\n      return [];\n    }\n    if (this.regions.length) {\n      return this.regions;\n    }\n    return this.datasource\n      .getRegions(service)\n      .then((list) => {\n        this.regions = list;\n        return list;\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n\n  onRegionChange() {\n    const service = this.target.service;\n    this.target[service].instance = '';\n    this.instanceList = [];\n    // this.listenerList = [];\n    this.isMetricsNeedUpdate = true;\n    _.forEach(this.target[service].dimensionObject, (__, key) => {\n      this.target[service].dimensionObject[key] = { Name: key, Value: '' };\n    });\n    this.target[service].queries = _.cloneDeep(InitServiceState[service].queries);\n    this.getInstances();\n    this.refresh();\n  }\n\n  /**\n   * \n   *\n   * @param variable \n   * @param multiple  false\n   */\n  getVariable(variable: string, multiple: boolean) {\n    return ReplaceVariable(this.templateSrv, this.panelCtrl.panel.scopedVars, variable, multiple);\n  }\n\n  getMetricNameDesc() {\n    const service = this.target.service;\n    const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n    if (index === -1) {\n      return '';\n    }\n    return getLanguage() === Language.Chinese ? this.metricList[index].Meaning.Zh : this.metricList[index].Meaning.En;\n  }\n\n  getMetrics(query) {\n    const service = this.target.service;\n    const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n\n    if (!service || !region) {\n      return [];\n    }\n    if (!this.isMetricsNeedUpdate && this.metricList.length > 0) {\n      return _.map(this.metricList, (item) => ({ text: item.MetricName, value: item.MetricName }));\n    }\n    return this.datasource\n      .getMetrics(service, region)\n      .then((list) => {\n        this.metricList = list;\n        this.isMetricsNeedUpdate = false;\n        const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n        if (index !== -1) {\n          this.periodList = _.get(this.metricList[index], 'Period', []);\n          this.dimensionList = _.get(this.metricList[index], 'Dimensions.0.Dimensions', []);\n        }\n        return _.map(list, (item) => ({ text: item.MetricName, value: item.MetricName }));\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n\n  onMetricChange() {\n    const service = this.target.service;\n    let periodList = [];\n    let dimensionList = [];\n    const dimensionObject: any = {};\n    let metricUnit = '';\n    const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n    if (index !== -1) {\n      periodList = _.get(this.metricList[index], 'Period', []);\n      dimensionList = _.get(this.metricList[index], 'Dimensions.0.Dimensions', []);\n      // dimensionList = dimensionList.length > 0 ? dimensionList : (DefaultDimensions[service] ?? []);\n      metricUnit = _.get(this.metricList[index], 'Unit', '');\n    }\n    _.forEach(dimensionList, (item) => {\n      dimensionObject[item] = { Name: item, Value: '' };\n    });\n    this.periodList = periodList;\n    this.dimensionList = dimensionList;\n    this.target[service].period =\n      periodList.length > 0 ? (_.indexOf(periodList, 300) === -1 ? periodList[0] : 300) : undefined;\n    this.target[service].dimensionObject = dimensionObject;\n    this.target[service].metricUnit = metricUnit;\n    this.refresh();\n  }\n\n  getInstances() {\n    const service = this.target.service;\n    const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n    if (!service || !region) {\n      return [];\n    }\n    const params = this.getInstanceQueryParams(service);\n    return this.datasource\n      .getInstances(service, region, params)\n      .then((list) => {\n        this.instanceList = list;\n        const instanceAlias = this.target[service].instanceAlias; // InstanceId\n        const instances: any[] = [];\n        _.forEach(list, (item) => {\n          //  instanceAlias _InstanceAliasValue constants.ts  ParseQueryResult\n          const instanceAliasValue = _.get(item, instanceAlias);\n          // console.log({instanceAliasValue}); InstanceId\n          if (instanceAliasValue) {\n            if (typeof instanceAliasValue === 'string') {\n              item._InstanceAliasValue = instanceAliasValue;\n              instances.push({ text: instanceAliasValue, value: JSON.stringify(item) });\n            } else if (_.isArray(instanceAliasValue)) {\n              _.forEach(instanceAliasValue, (subItem) => {\n                item._InstanceAliasValue = subItem;\n                instances.push({ text: subItem, value: JSON.stringify(item) });\n              });\n            }\n          }\n        });\n        return instances;\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n  onInstanceChange(v) {\n    // const service = this.target.service;\n    // if (this.target[service].listener) {\n    //   this.target[service].listener = '';\n    // }\n    // if (this.target[service].servers) {\n    //   this.target[service].servers = '';\n    // }\n    // if (this.target[service].serverPort) {\n    //   this.target[service].serverPort = '';\n    // }\n    this.refresh();\n  }\n\n  // getListeners() {\n  //   const service = this.target.service;\n  //   const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n  //   const instance = this.getVariable(_.get(this.target[service], 'instance', ''), false);\n  //   if (!service || !region) {\n  //     return [];\n  //   }\n  //   let instanceMap = {};\n  //   // console.log({instance});\n  //   try {\n  //     instanceMap = JSON.parse(instance);\n  //   } catch (e) {\n  //     console.log(e);\n  //   }\n  //   const idKey = IdKeys[service];\n  //   const instanceId = _.get(instanceMap, idKey);\n  //   return this.datasource.getListeners(service, region, instanceId)\n  //     .then(list => {\n  //       this.listenerList = list;\n  //       const listenerAlias = this.target[service].listenerAlias;\n  //       const listeners: any[] = [];\n  //       _.forEach(list, (item) => {\n  //         const listenerAliasValue = _.get(item, listenerAlias);\n  //         if (listenerAliasValue) {\n  //           if (typeof listenerAliasValue === 'string') {\n  //             item._listenerAliasValue = listenerAliasValue;\n  //             listeners.push({ text: listenerAliasValue, value: JSON.stringify(item) });\n  //           } else if (_.isArray(listenerAliasValue)) {\n  //             _.forEach(listenerAliasValue, (subItem) => {\n  //               item._listenerAliasValue = subItem;\n  //               listeners.push({ text: subItem, value: JSON.stringify(item) });\n  //             });\n  //           }\n  //         }\n  //       });\n  //       // console.log({listeners});\n  //       return listeners;\n  //     })\n  //     .catch(this.handleQueryCtrlError.bind(this));\n  // }\n  /**\n   * \n   *\n   * @param service \n   */\n  getInstanceQueryParams(service) {\n    const queries = this.target[service].queries;\n    if (GetInstanceQueryParams[`${_.toUpper(service)}GetInstanceQueryParams`]) {\n      return GetInstanceQueryParams[`${_.toUpper(service)}GetInstanceQueryParams`](queries);\n    } else {\n      return {};\n    }\n  }\n\n  onInstanceAliasChange() {\n    //  instance \n    if (!this.isVariable('instance')) {\n      const service = this.target.service;\n      this.target[service].instance = '';\n      this.refresh();\n    }\n  }\n\n  onInstanceQueryChange() {\n    //  instance \n    if (!this.isVariable('instance')) {\n      const service = this.target.service;\n      this.target[service].instance = '';\n      this.instanceList = [];\n      _.forEach(this.target[service].dimensionObject, (__, key) => {\n        this.target[service].dimensionObject[key] = { Name: key, Value: '' };\n      });\n      this.refresh();\n    }\n  }\n  isVariable(field) {\n    const service = this.target.service;\n    const value = this.target[service]?.[field];\n    return isVariable(value);\n  }\n  checkShowDetail(field) {\n    return !this.isVariable(field) && this.target.showInstanceDetails;\n  }\n  getTimeDesc() {\n    return `${t('time_unit')}: ${t('seconds')}`\n  }\n  getSearchDesc() {\n    return t('search_description')\n  }\n}\n","import {\n  DataQuery,\n  DataSourceApi,\n  EventBusExtended,\n  LoadingState,\n  PanelModel,\n  QueryEditorProps,\n  TimeRange,\n  toLegacyResponseData,\n} from '@grafana/data';\nimport { DashboardModel } from 'grafana/app/features/dashboard/model';\nimport React, { PureComponent } from 'react';\nimport { AngularComponent, getAngularLoader } from '@grafana/runtime';\nimport EventEmitter from 'eventemitter3';\n\ninterface AngularQueryComponentScope<TQuery extends DataQuery> {\n  target: TQuery;\n  panel: PanelModel;\n  dashboard: DashboardModel;\n  events: EventBusExtended;\n  refresh: () => void;\n  render: () => void;\n  datasource: DataSourceApi<TQuery> | null;\n  toggleEditorMode?: () => void;\n  getCollapsedText?: () => string;\n  range: TimeRange;\n}\n\ninterface QueryCtrlProps extends QueryEditorProps<DataSourceApi<any>> {\n  queryCtrl: any;\n}\n\nexport class QueryCtrlRender<TQuery extends DataQuery> extends PureComponent<QueryCtrlProps> {\n  element: HTMLElement | null;\n  angularScope: AngularQueryComponentScope<TQuery> | null = null;\n  angularQueryEditor: AngularComponent | null = null;\n  // EventEmitterangularevents\n  events = new EventEmitter();\n\n  componentDidMount() {\n    if (process.env.NODE_ENV !== 'production') {\n      (window as any).ctrlRender = this;\n    }\n    setTimeout(() => {\n      this.forceUpdate();\n    });\n  }\n\n  componentDidUpdate(prevProps: QueryCtrlProps) {\n    const { data, range } = this.props;\n    if (data !== prevProps.data && data) {\n      if (data.state === LoadingState.Done) {\n        const legacy = data.series.map((v) => toLegacyResponseData(v));\n        this.events.emit('data-received', legacy);\n      } else if (data.state === LoadingState.Error) {\n        this.events.emit('data-error', data.error);\n      }\n      if (this.angularScope) {\n        this.angularScope.range = range!;\n      }\n    }\n    if (!this.element || this.angularQueryEditor) {\n      return;\n    }\n    this.renderAngularQueryEditor();\n  }\n\n  getAngularQueryComponentScope(): AngularQueryComponentScope<TQuery> {\n    const { query, queries, range: timeRange, datasource, queryCtrl } = this.props;\n    datasource.components = {\n      QueryCtrl: queryCtrl,\n    };\n\n    const panel = { scopedVars: {}, targets: queries || [] } as unknown as PanelModel; // new PanelModel({ targets: queries });\n    const dashboard = {} as unknown as DashboardModel;\n\n    return {\n      datasource: datasource,\n      target: query as unknown as TQuery,\n      panel: panel,\n      dashboard: dashboard,\n      refresh: () => {\n        this.props.onChange(query);\n        this.props.onRunQuery();\n      },\n      render: () => () => console.log('legacy render function called, it does nothing'),\n      events: this.events as any,\n      range: timeRange!,\n    };\n  }\n\n  renderAngularQueryEditor = () => {\n    if (!this.element) {\n      return;\n    }\n    if (this.angularQueryEditor) {\n      this.angularQueryEditor.destroy();\n      this.angularQueryEditor = null;\n    }\n\n    const loader = getAngularLoader();\n    const template = '<plugin-component type=\"query-ctrl\" />';\n    const scopeProps = { ctrl: this.getAngularQueryComponentScope() };\n\n    this.angularQueryEditor = loader.load(this.element, scopeProps, template);\n    this.angularScope = scopeProps.ctrl;\n  };\n\n  render() {\n    return (\n      <div\n        ref={(element) => {\n          this.element = element;\n        }}\n      />\n    );\n  }\n}\n","import { useRef } from 'react';\nvar useLatest = function (value) {\n    var ref = useRef(value);\n    ref.current = value;\n    return ref;\n};\nexport default useLatest;\n","import * as TYPES from './types';\nimport { GetRequestParams, GetServiceAPIInfo } from '../../../common/constants';\nimport { DataSourceInstanceSettings } from '@grafana/data';\nimport { getBackendSrv, getTemplateSrv } from '@grafana/runtime';\nimport _ from 'lodash';\nimport { IApiError, IRegionItem, IResourceRegionInfo } from './interface';\n\n/**\n * API\n *  data \n *  \n */\nexport interface IRequestParam {\n  region: string;\n  action: string;\n  data: any;\n}\n\nexport interface ICapiRequestParam extends IRequestParam {\n  serviceType: string;\n}\n\n/** instanceSettingsAPI */\ninterface IRequestOpts {\n  //  Sign \n  instanceSettings: DataSourceInstanceSettings;\n  // internal?: boolean;\n  // clientTimeout?: number;\n}\n\n/**\n * API\n */\nexport async function capiRequest({ serviceType, region, action, data }: ICapiRequestParam, opts: IRequestOpts) {\n  const { instanceSettings } = opts;\n  const serviceInfo = GetServiceAPIInfo(region, serviceType);\n  const requestOptions = await GetRequestParams(\n    { url: instanceSettings.url + serviceInfo.path, data },\n    serviceType,\n    {\n      region: getTemplateSrv().replace(region),\n      action,\n    },\n    '', // \n    instanceSettings.id,\n    getBackendSrv()\n  );\n  return getBackendSrv()\n    .datasourceRequest(requestOptions)\n    .then((response) => {\n      const result = _.get(response, 'data.Response', {});\n      if (result.Error) {\n        // eslint-disable-next-line no-throw-literal,@typescript-eslint/consistent-type-assertions\n        throw {\n          name: result.Error.Code,\n          code: result.Error.Code,\n          message: result.Error.Message,\n          data: {\n            Response: result,\n          },\n        } as IApiError;\n      }\n      return result;\n    })\n    .catch((error: Error) => {\n      console.error('error', error);\n      throw error;\n    });\n}\n\n/**\n * CLS api v3 \n */\nexport async function clsCapiRequest({ action, region, data = {} }: IRequestParam, opts: IRequestOpts) {\n  return capiRequest(\n    {\n      serviceType: 'cls',\n      region,\n      action,\n      data: data,\n    },\n    {\n      ...opts,\n    }\n  );\n}\n\n/**\n * REGION api v3 \n */\nexport async function regionCapiRequest({ action, region, data = {} }: IRequestParam, opts: IRequestOpts) {\n  return capiRequest(\n    {\n      serviceType: 'region',\n      region,\n      action,\n      data: data,\n    },\n    {\n      ...opts,\n    }\n  );\n}\n\n/** , 15 */\nexport async function SearchLog(\n  data: TYPES.SearchLogParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.SearchLogResult> {\n  return clsCapiRequest(\n    {\n      action: 'SearchLog',\n      region,\n      data: {\n        UseNewAnalysis: true,\n        ...data,\n      },\n    },\n    opts\n  );\n}\n\n/**  */\nexport async function DescribeLogContext(\n  data: TYPES.DescribeLogContextParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.DescribeLogContextResult> {\n  return clsCapiRequest(\n    {\n      action: 'DescribeLogContext',\n      data,\n      region,\n    },\n    opts\n  );\n}\n\n/**   */\nexport async function DescribeTopics(\n  data: TYPES.DescribeTopicsParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.DescribeTopicsResult> {\n  return clsCapiRequest(\n    {\n      action: 'DescribeTopics',\n      data,\n      region,\n    },\n    opts\n  );\n}\n\n/**\n * @description cls\n */\nasync function DescribeRegionsAndZonesRequest(product: string, opts?: IRequestOpts): Promise<IResourceRegionInfo[]> {\n  return regionCapiRequest(\n    { action: 'DescribeRegionsAndZones', data: { Product: product }, region: 'ap-guangzhou' },\n    opts\n  ).then((data) => data.ResourceRegionSet);\n}\n\nexport async function DescribeRegions(opts?: IRequestOpts): Promise<{ regionList: IRegionItem[] }> {\n  return DescribeRegionsAndZonesRequest('cls', opts).then((clsRegions) => ({\n    regionList: (clsRegions || []).map(\n      ({ Region, RegionId, RegionName, RegionShortName, RegionTypeMC, RegionType, Location }) => {\n        const regionItem: IRegionItem = {\n          region: Region,\n          regionId: Number(RegionId),\n          regionName: RegionName,\n          regionShortName: RegionShortName,\n\n          oversea: typeof RegionTypeMC === 'number' ? Boolean(RegionTypeMC) : RegionType === '',\n          area: Location,\n        };\n        return regionItem;\n      }\n    ),\n  }));\n}\n","import { useEffect } from 'react';\nvar useEffectOnce = function (effect) {\n    useEffect(effect, []);\n};\nexport default useEffectOnce;\n","import { SelectableValue } from '@grafana/data';\nimport { getTemplateSrv } from '@grafana/runtime';\n\nexport function getStringVariableNameOptions(): SelectableValue<string>[] {\n  const variables = getTemplateSrv()\n    .getVariables()\n    .filter((item) => ['adhoc', 'datasource', 'interval', 'interval'].indexOf(item.type) === -1);\n  const notMultiVariables = variables.filter((item) => !(item as any)?.multi);\n  return notMultiVariables.map((item) => {\n    const refValue = `\\$\\{${item.name}\\}`;\n    return { value: refValue, label: refValue };\n  });\n}\n","import React, { FC, useCallback, useEffect, useRef, useState } from 'react';\nimport { DescribeRegions, DescribeTopics, Filter, IRegionItem, ITopicIdentifier } from '../common/model';\nimport { InlineField, Select, AsyncSelect } from '@grafana/ui';\nimport { uuidRegex } from '../common/constants';\nimport { useEffectOnce } from 'react-use';\nimport { DataSourceApi, SelectableValue } from '@grafana/data';\nimport { getStringVariableNameOptions } from '../common/utils';\nimport { t } from '../../../locale';\n\ninterface Props {\n  value: ITopicIdentifier;\n  onChange: (v: ITopicIdentifier) => void;\n  datasource: DataSourceApi;\n  /**  */\n  preferLastValue?: boolean;\n}\n\nexport const TopicSelector: FC<Props> = React.memo((props) => {\n  const { value, preferLastValue = true, datasource } = props;\n\n  const onChange = useCallback(\n    (v: ITopicIdentifier) => {\n      try {\n        localStorage.setItem('LogServiceTopicSelectorDefaultValue', JSON.stringify(v));\n      } catch (e) {}\n      props.onChange(v);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  useEffectOnce(() => {\n    if (preferLastValue && !value.region && !value.TopicId) {\n      try {\n        const lastValue: ITopicIdentifier = JSON.parse(localStorage.getItem('LogServiceTopicSelectorDefaultValue'));\n        if (lastValue?.region && lastValue.TopicId) {\n          onChange(lastValue);\n        }\n      } catch (e) {}\n    }\n  });\n  const topicSelectOptionsRef = useRef<SelectableValue<string>>([]);\n  const [regionList, setRegionList] = useState<IRegionItem[]>([]);\n  useEffect(() => {\n    fetchRegions();\n  }, []);\n\n  const fetchRegions = useCallback(async () => {\n    try {\n      const { regionList } = await DescribeRegions({ instanceSettings: (datasource as any).instanceSettings });\n      setRegionList(regionList);\n    } catch (e) {}\n  }, []);\n\n  return (\n    <>\n      <InlineField label={t('region')} labelWidth={20}>\n        <Select\n          value={value.region}\n          onChange={(option) => {\n            const region = option.value;\n            DescribeTopics({ Limit: 1 }, region, { instanceSettings: (datasource as any).instanceSettings })\n              .then((result) => {\n                topicSelectOptionsRef.current = result.Topics?.map((item) => ({\n                  value: item.TopicId,\n                  label: `${item.TopicName} (${item.TopicId})`,\n                }));\n                onChange({\n                  region: option.value,\n                  TopicId: result.Topics?.[0]?.TopicId || '',\n                });\n              })\n              .catch((e) => {\n                onChange({\n                  region: option.value,\n                  TopicId: '',\n                });\n              });\n          }}\n          menuPlacement=\"bottom\"\n          options={[\n            ...regionList.map((item) => ({\n              label: `${item.area}(${item.regionName})`,\n              value: item.region,\n            })),\n            ...getStringVariableNameOptions(),\n          ]}\n          width={25}\n          className=\"log-service-monospaced-font-family\"\n        />\n      </InlineField>\n      <InlineField label={t('log_topic')} labelWidth={20}>\n        <AsyncSelect<string>\n          // \n          key={value.region}\n          width={50}\n          defaultOptions\n          cacheOptions={false}\n          loadOptions={async (filterStr) => {\n            const filters: Filter[] = [];\n            if (filterStr) {\n              if (uuidRegex.test(filterStr)) {\n                filters.push({ Key: 'topicId', Values: [filterStr] });\n              } else {\n                filters.push({ Key: 'topicName', Values: [filterStr] });\n              }\n            }\n            const options = await DescribeTopics({ Filters: filters, Limit: 100 }, value.region, {\n              instanceSettings: (datasource as any).instanceSettings,\n            }).then((result) => {\n              return result.Topics.map((item) => ({\n                value: item.TopicId,\n                label: `${item.TopicName} (${item.TopicId})`,\n              }));\n            });\n            const optionsWithVariables = [\n              ...options,\n              ...getStringVariableNameOptions().filter((item) => item.value?.includes(filterStr)),\n            ];\n            topicSelectOptionsRef.current = optionsWithVariables;\n            return optionsWithVariables;\n          }}\n          value={\n            topicSelectOptionsRef?.current?.find((item) => item.value === value.TopicId) || {\n              value: value.TopicId,\n              label: value.TopicId,\n            }\n          }\n          onChange={(e) => {\n            onChange({\n              region: value.region,\n              TopicId: e.value,\n            });\n          }}\n          className=\"log-service-monospaced-font-family\"\n        />\n      </InlineField>\n    </>\n  );\n});\n\nTopicSelector.displayName = 'TopicSelector';\n","import { DataSourceApi, QueryEditorProps } from '@grafana/data';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo, queryInfoRuntime } from '../types';\nimport React, { FC, useCallback } from 'react';\nimport { useLatest } from 'react-use';\nimport { InlineField, InlineLabel, QueryField, Select, InlineFieldRow, Input } from '@grafana/ui';\nimport { TopicSelector } from './components/TopicSelector';\nimport { TcDataSourceId } from '../common/constants';\nimport { t } from '../../locale';\nimport _ from 'lodash';\nimport './index.less';\nimport { SearchSyntaxRule } from './common/constants';\n\ntype Props = QueryEditorProps<DataSourceApi<any>, QueryInfo, MyDataSourceOptions>;\n\nexport const LogServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const propsRef = useLatest(props);\n  const { query, datasource } = props;\n  const logServiceParams = query.logServiceParams || _.clone(defaultQueryInfo.logServiceParams)!;\n\n  const partialOnChange = useCallback(\n    (queryInfo: Partial<QueryInfo>) => {\n      const { onChange, query } = propsRef.current;\n      // queryInfoRuntime\n      const oldQuery = _.pick(query, Object.keys(queryInfoRuntime));\n      onChange({ ...oldQuery, ...queryInfo } as unknown as QueryInfo);\n    },\n    [propsRef]\n  );\n\n  return (\n    <div>\n      <InlineFieldRow>\n        <TopicSelector\n          value={{ region: logServiceParams.region, TopicId: logServiceParams.TopicId }}\n          onChange={(v) => {\n            partialOnChange({\n              logServiceParams: {\n                ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                ...v,\n              },\n            });\n          }}\n          datasource={datasource}\n        />\n        <InlineField label={t('syntax_rule')} labelWidth={20}>\n          <Select\n            value={logServiceParams.SyntaxRule}\n            onChange={(v) => {\n              partialOnChange({\n                logServiceParams: {\n                  ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                  SyntaxRule: v.value,\n                },\n              });\n            }}\n            menuPlacement=\"bottom\"\n            options={[\n              {\n                label: 'Lucene',\n                value: SearchSyntaxRule.LUCENE,\n              },\n              {\n                label: 'CQL',\n                value: SearchSyntaxRule.CQL,\n              },\n            ]}\n            width={25}\n            className=\"log-service-monospaced-font-family\"\n          />\n        </InlineField>\n      </InlineFieldRow>\n\n      <MaxResultNumInput\n        value={logServiceParams.MaxResultNum}\n        onChange={(val) => {\n          partialOnChange({\n            logServiceParams: {\n              ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n              MaxResultNum: val,\n            },\n          });\n        }}\n      />\n\n      <div style={{ display: 'flex' }}>\n        <InlineLabel width={20}>{t('search_statement')}</InlineLabel>\n        <div style={{ flexGrow: 1 }}>\n          <QueryField\n            portalOrigin={TcDataSourceId}\n            placeholder={`e.g. _SOURCE__: 127.0.0.1 AND \"http/1.0\"`}\n            query={logServiceParams.Query}\n            onChange={(v) => {\n              partialOnChange({\n                logServiceParams: {\n                  ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                  Query: v,\n                },\n              });\n            }}\n            // By default QueryField calls onChange if onBlur is not defined, this will trigger a rerender\n            // And slate will claim the focus, making it impossible to leave the field.\n            onBlur={() => {}}\n          />\n        </div>\n      </div>\n    </div>\n  );\n});\n\nLogServiceQueryEditor.displayName = 'LogServiceQueryEditor';\n\ninterface MaxResultNumInputProps {\n  value: string | number;\n  onChange: (value: number | undefined) => void;\n}\n\nconst MaxResultNumInput: FC<MaxResultNumInputProps> = React.memo((props) => {\n  const min = 1;\n  const max = 1000;\n  const { value, onChange: onChangeFromProps } = props;\n\n  const onInputChange = useCallback(\n    (e) => {\n      const currVal = Number(e.currentTarget.value) || undefined;\n      onChangeFromProps(currVal);\n    },\n    [onChangeFromProps]\n  );\n\n  return (\n    <InlineField\n      label={t('max_result_num')}\n      labelWidth={20}\n      invalid={value < min || value > max}\n      // @ts-ignore  error\n      error=\"11000\"\n    >\n      <Input\n        type=\"number\"\n        min={min}\n        max={max}\n        value={value}\n        onChange={onInputChange}\n        width={25}\n        className=\"log-service-monospaced-font-family\"\n      />\n    </InlineField>\n  );\n});\n","import { reduce } from 'lodash';\nimport kbn from 'grafana/app/core/utils/kbn';\n\nfunction renderTagCondition(tag: { operator: any; value: string; condition: any; key: string }, index: number) {\n  // FIXME: merge this function with RUM_query_model/renderTagCondition\n  let str = '';\n  let operator = tag.operator;\n  let value = tag.value;\n  if (index > 0) {\n    str = (tag.condition.toLowerCase() || 'AND') + ' ';\n  }\n\n  if (!operator) {\n    if (/^\\/.*\\/$/.test(tag.value)) {\n      operator = '=~';\n    } else {\n      operator = '=';\n    }\n  }\n\n  // quote value unless regex or number, or if empty-string\n  if (value === '' || (operator !== '=~' && operator !== '!~')) {\n    value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n  }\n\n  return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n}\n\nexport class RUMQueryBuilder {\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor(private target: { measurement: any; tags: any; policy?: any }, private database?: string) {}\n\n  buildExploreQuery(type: string, withKey?: string, withMeasurementFilter?: string): string {\n    let query = '';\n    let measurement;\n    let policy;\n\n    if (type === 'TAG_KEYS') {\n      query = 'show tag keys';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'TAG_VALUES') {\n      query = 'show tag values';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'MEASUREMENTS') {\n      query = 'show measurements';\n      if (withMeasurementFilter) {\n        // we do a case-insensitive regex-based lookup\n        query += ' with measurement =~ /(?i)' + kbn.regexEscape(withMeasurementFilter) + '/';\n      }\n    } else if (type === 'FIELDS') {\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n\n      if (!measurement.match('^/.*/')) {\n        measurement = '\"' + measurement + '\"';\n\n        if (policy && policy !== 'default') {\n          policy = '\"' + policy + '\"';\n          measurement = policy + '.' + measurement;\n        }\n      }\n\n      return 'show field keys from ' + measurement;\n    } else if (type === 'RETENTION POLICIES') {\n      query = 'show retention policies on \"' + this.database + '\"';\n      return query;\n    }\n\n    if (measurement) {\n      if (!measurement.match('^/.*/') && !measurement.match(/^merge\\(.*\\)/)) {\n        measurement = '\"' + measurement + '\"';\n      }\n\n      if (policy && policy !== 'default') {\n        policy = '\"' + policy + '\"';\n        measurement = policy + '.' + measurement;\n      }\n\n      query += ' from ' + measurement;\n    }\n\n    if (withKey) {\n      query += ' with key = \"' + withKey + '\"';\n    }\n\n    if (this.target.tags && this.target.tags.length > 0) {\n      const whereConditions = reduce(\n        this.target.tags,\n        (memo, tag) => {\n          if (type === 'MEASUREMENTS' && tag.key === 'id') {\n            return memo;\n          }\n          // do not add a condition for the key we want to explore for\n          if (tag.key === withKey) {\n            return memo;\n          }\n\n          // value operators not supported in these types of queries\n          if (tag.operator === '>' || tag.operator === '<') {\n            return memo;\n          }\n\n          memo.push(renderTagCondition(tag, memo.length));\n          return memo;\n        },\n        [] as string[]\n      );\n\n      if (whereConditions.length > 0) {\n        query += ' where ' + whereConditions.join(' ');\n      }\n    }\n\n    if (type === 'MEASUREMENTS') {\n      query += ' limit 100';\n      // Solve issue #2524 by limiting the number of measurements returned\n      // LIMIT must be after WITH MEASUREMENT and WHERE clauses\n      // This also could be used for TAG KEYS and TAG VALUES, if desired\n    }\n\n    return query;\n  }\n}\n","import { RUMQueryTag } from './types';\nimport { RUMQueryBuilder } from './query_builder';\nimport { ServiceType } from '../types';\nimport { DataSource } from '../DataSource';\n\nconst runExploreQuery = (\n  type: string,\n  withKey: string | undefined,\n  withMeasurementFilter: string | undefined,\n  target: { measurement: string | undefined; tags: RUMQueryTag[]; policy: string | undefined },\n  datasource: DataSource\n): Promise<Array<{ text: string }>> => {\n  const builder = new RUMQueryBuilder(target);\n  const q = builder.buildExploreQuery(type, withKey, withMeasurementFilter);\n  return datasource.metricFindQuery({\n    serviceType: ServiceType.RUMService,\n    queryString: q,\n  }, undefined);\n};\n\nexport async function getAllPolicies(datasource: DataSource): Promise<string[]> {\n  const target = { tags: [], measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('RETENTION POLICIES', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getAllMeasurementsForTags(\n  measurementFilter: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('MEASUREMENTS', undefined, measurementFilter, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagKeysForMeasurementAndTags(\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_KEYS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagValues(\n  tagKey: string,\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_VALUES', tagKey, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getFieldKeysForMeasurement(\n  measurement: string,\n  policy: string | undefined,\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags: [], measurement, policy };\n  const data = await runExploreQuery('FIELDS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n","import { clone, each, map } from 'lodash';\n\nexport class QueryPartDef {\n  type: string;\n  params: any[];\n  defaultParams: any[];\n  renderer: any;\n  category: any;\n  addStrategy: any;\n\n  constructor(options: any) {\n    this.type = options.type;\n    this.params = options.params;\n    this.defaultParams = options.defaultParams;\n    this.renderer = options.renderer;\n    this.category = options.category;\n    this.addStrategy = options.addStrategy;\n  }\n}\n\nexport class QueryPart {\n  part: any;\n  def: QueryPartDef;\n  params: any[];\n  text: string;\n\n  constructor(part: any, def: any) {\n    this.part = part;\n    this.def = def;\n    if (!this.def) {\n      // eslint-disable-next-line no-throw-literal\n      throw { message: 'Could not find query part ' + part.type };\n    }\n\n    part.params = part.params || clone(this.def.defaultParams);\n    this.params = part.params;\n    this.text = '';\n    this.updateText();\n  }\n\n  render(innerExpr: string) {\n    return this.def.renderer(this, innerExpr);\n  }\n\n  hasMultipleParamsInString(strValue: string, index: number) {\n    if (strValue.indexOf(',') === -1) {\n      return false;\n    }\n\n    return this.def.params[index + 1] && this.def.params[index + 1].optional;\n  }\n\n  updateParam(strValue: string, index: number) {\n    // handle optional parameters\n    // if string contains ',' and next param is optional, split and update both\n    if (this.hasMultipleParamsInString(strValue, index)) {\n      each(strValue.split(','), (partVal, idx) => {\n        this.updateParam(partVal.trim(), idx);\n      });\n      return;\n    }\n\n    if (strValue === '' && this.def.params[index].optional) {\n      this.params.splice(index, 1);\n    } else {\n      this.params[index] = strValue;\n    }\n\n    this.part.params = this.params;\n    this.updateText();\n  }\n\n  updateText() {\n    if (this.params.length === 0) {\n      this.text = this.def.type + '()';\n      return;\n    }\n\n    let text = this.def.type + '(';\n    text += this.params.join(', ');\n    text += ')';\n    this.text = text;\n  }\n}\n\nexport function functionRenderer(part: any, innerExpr: string) {\n  const str = part.def.type + '(';\n  const parameters = map(part.params, (value, index) => {\n    const paramType = part.def.params[index];\n    if (paramType.type === 'time') {\n      if (value === 'auto') {\n        value = '$__interval';\n      }\n    }\n    if (paramType.quote === 'single') {\n      return \"'\" + value + \"'\";\n    } else if (paramType.quote === 'double') {\n      return '\"' + value + '\"';\n    }\n\n    return value;\n  });\n\n  if (innerExpr) {\n    parameters.unshift(innerExpr);\n  }\n  return str + parameters.join(', ') + ')';\n}\n\nexport function suffixRenderer(part: QueryPart, innerExpr: string) {\n  return innerExpr + ' ' + part.params[0];\n}\n\nexport function identityRenderer(part: QueryPart, innerExpr: string) {\n  return part.params[0];\n}\n\nexport function quotedIdentityRenderer(part: QueryPart, innerExpr: string) {\n  return '\"' + part.params[0] + '\"';\n}\n\nconst index: any[] = [];\nconst categories: any = {\n  Aggregations: [],\n  Selectors: [],\n  Transformations: [],\n  Predictors: [],\n  Math: [],\n  Aliasing: [],\n  Fields: [],\n};\n\nfunction createPart(part: any): any {\n  const def = index[part.type];\n  if (!def) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: 'Could not find query part ' + part.type };\n  }\n\n  return new QueryPart(part, def);\n}\n\nfunction register(options: any) {\n  index[options.type] = new QueryPartDef(options);\n  options.category.push(index[options.type]);\n}\n\nconst groupByTimeFunctions: any[] = [];\n\nfunction aliasRenderer(part: { params: string[] }, innerExpr: string) {\n  // eslint-disable-next-line no-useless-concat\n  return innerExpr + ' AS ' + '\"' + part.params[0] + '\"';\n}\n\nfunction fieldRenderer(part: { params: string[] }, innerExpr: any) {\n  if (part.params[0] === '*') {\n    return '*';\n  }\n  return '\"' + part.params[0] + '\"';\n}\n\nfunction replaceAggregationAddStrategy(selectParts: any[], partModel: { def: { type: string } }) {\n  // look for existing aggregation\n  for (let i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Aggregations) {\n      if (part.def.type === partModel.def.type) {\n        return;\n      }\n      // count distinct is allowed\n      if (part.def.type === 'count' && partModel.def.type === 'distinct') {\n        break;\n      }\n      // remove next aggregation if distinct was replaced\n      if (part.def.type === 'distinct') {\n        const morePartsAvailable = selectParts.length >= i + 2;\n        if (partModel.def.type !== 'count' && morePartsAvailable) {\n          const nextPart = selectParts[i + 1];\n          if (nextPart.def.category === categories.Aggregations) {\n            selectParts.splice(i + 1, 1);\n          }\n        } else if (partModel.def.type === 'count') {\n          if (!morePartsAvailable || selectParts[i + 1].def.type !== 'count') {\n            selectParts.splice(i + 1, 0, partModel);\n          }\n          return;\n        }\n      }\n      selectParts[i] = partModel;\n      return;\n    }\n    if (part.def.category === categories.Selectors) {\n      selectParts[i] = partModel;\n      return;\n    }\n  }\n\n  selectParts.splice(1, 0, partModel);\n}\n\nfunction addTransformationStrategy(selectParts: any[], partModel: any) {\n  let i;\n  // look for index to add transformation\n  for (i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Math || part.def.category === categories.Aliasing) {\n      break;\n    }\n  }\n\n  selectParts.splice(i, 0, partModel);\n}\n\nfunction addMathStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is math, replace it\n    if (selectParts[partCount - 1].def.type === 'math') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n    // if next to last is math, replace it\n    if (partCount > 1 && selectParts[partCount - 2].def.type === 'math') {\n      selectParts[partCount - 2] = partModel;\n      return;\n    } else if (selectParts[partCount - 1].def.type === 'alias') {\n      // if last is alias add it before\n      selectParts.splice(partCount - 1, 0, partModel);\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addAliasStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is alias, replace it\n    if (selectParts[partCount - 1].def.type === 'alias') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addFieldStrategy(selectParts: any, partModel: any, query: { selectModels: any[][] }) {\n  // copy all parts\n  const parts = map(selectParts, (part: any) => {\n    return createPart({ type: part.def.type, params: clone(part.params) });\n  });\n\n  query.selectModels.push(parts);\n}\n\nregister({\n  type: 'field',\n  addStrategy: addFieldStrategy,\n  category: categories.Fields,\n  params: [{ type: 'field', dynamicLookup: true }],\n  defaultParams: ['value'],\n  renderer: fieldRenderer,\n});\n\n// Aggregations\nregister({\n  type: 'count',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'distinct',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'integral',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mean',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'median',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mode',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'sum',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\n// transformations\n\nregister({\n  type: 'derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'spread',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'moving_average',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: 'window', type: 'int', options: [5, 10, 20, 30, 40] }],\n  defaultParams: [10],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'cumulative_sum',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'stddev',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'time',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'interval',\n      type: 'time',\n      options: ['$__interval', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['$__interval'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'fill',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'fill',\n      type: 'string',\n      options: ['none', 'null', '0', 'previous', 'linear'],\n    },\n  ],\n  defaultParams: ['null'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'elapsed',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\n// predictions\nregister({\n  type: 'holt_winters',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'holt_winters_with_fit',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\n// Selectors\nregister({\n  type: 'bottom',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'first',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'last',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'max',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'min',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'percentile',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'nth', type: 'int' }],\n  defaultParams: [95],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'top',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'tag',\n  category: groupByTimeFunctions,\n  params: [{ name: 'tag', type: 'string', dynamicLookup: true }],\n  defaultParams: ['tag'],\n  renderer: fieldRenderer,\n});\n\nregister({\n  type: 'math',\n  addStrategy: addMathStrategy,\n  category: categories.Math,\n  params: [{ name: 'expr', type: 'string' }],\n  defaultParams: [' / 100'],\n  renderer: suffixRenderer,\n});\n\nregister({\n  type: 'alias',\n  addStrategy: addAliasStrategy,\n  category: categories.Aliasing,\n  params: [{ name: 'name', type: 'string', quote: 'double' }],\n  defaultParams: ['alias'],\n  renderMode: 'suffix',\n  renderer: aliasRenderer,\n});\n\nexport default {\n  create: createPart,\n  getCategories: () => {\n    return categories;\n  },\n  replaceAggregationAdd: replaceAggregationAddStrategy,\n};\n","import { map, find, filter, indexOf, cloneDeep } from 'lodash';\nimport queryPart from './query_part';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport { RUMQuery, RUMQueryTag } from './types';\nimport { ScopedVars } from '@grafana/data';\nimport { TemplateSrv } from '@grafana/runtime';\nimport { defaultQueryInfo } from '../types';\n\n\nexport default class RUMQueryModel {\n  target: RUMQuery;\n  selectModels: any[] = [];\n  queryBuilder: any;\n  groupByParts: any;\n  templateSrv: any;\n  scopedVars: any;\n  refId?: string;\n\n  /** @ngInject */\n  constructor(target: RUMQuery, templateSrv?: TemplateSrv, scopedVars?: ScopedVars) {\n    this.target = target;\n    this.templateSrv = templateSrv;\n    this.scopedVars = scopedVars;\n\n    target.policy = target.policy || defaultQueryInfo.RUMServiceParams.policy;\n    target.resultFormat = target.resultFormat || defaultQueryInfo.RUMServiceParams.resultFormat;\n    target.orderByTime = target.orderByTime || defaultQueryInfo.RUMServiceParams.orderByTime;\n    target.tags = target.tags || cloneDeep(defaultQueryInfo.RUMServiceParams.tags);\n    target.groupBy = target.groupBy || cloneDeep(defaultQueryInfo.RUMServiceParams.groupBy);\n    target.select = target.select || cloneDeep(defaultQueryInfo.RUMServiceParams.select);\n\n    this.updateProjection();\n  }\n\n  updateProjection() {\n    this.selectModels = map(this.target.select, (parts: any) => {\n      return map(parts, queryPart.create);\n    });\n    this.groupByParts = map(this.target.groupBy, queryPart.create);\n  }\n\n  updatePersistedParts() {\n    this.target.select = map(this.selectModels, (selectParts) => {\n      return map(selectParts, (part: any) => {\n        return { type: part.def.type, params: part.params };\n      });\n    });\n  }\n\n  hasGroupByTime() {\n    return find(this.target.groupBy, (g: any) => g.type === 'time');\n  }\n\n  hasFill() {\n    return find(this.target.groupBy, (g: any) => g.type === 'fill');\n  }\n\n  addGroupBy(value: string) {\n    let stringParts = value.match(/^(\\w+)\\((.*)\\)$/);\n\n    if (!stringParts || !this.target.groupBy) {\n      return;\n    }\n\n    const typePart = stringParts[1];\n    const arg = stringParts[2];\n    const partModel = queryPart.create({ type: typePart, params: [arg] });\n    const partCount = this.target.groupBy.length;\n\n    if (partCount === 0) {\n      this.target.groupBy.push(partModel.part);\n    } else if (typePart === 'time') {\n      this.target.groupBy.splice(0, 0, partModel.part);\n    } else if (typePart === 'tag') {\n      if (this.target.groupBy[partCount - 1].type === 'fill') {\n        this.target.groupBy.splice(partCount - 1, 0, partModel.part);\n      } else {\n        this.target.groupBy.push(partModel.part);\n      }\n    } else {\n      this.target.groupBy.push(partModel.part);\n    }\n\n    this.updateProjection();\n  }\n\n  removeGroupByPart(part: { def: { type: string } }, index: number) {\n    const categories = queryPart.getCategories();\n\n    if (part.def.type === 'time') {\n      // remove fill\n      this.target.groupBy = filter(this.target.groupBy, (g: any) => g.type !== 'fill');\n      // remove aggregations\n      this.target.select = map(this.target.select, (s: any) => {\n        return filter(s, (part: any) => {\n          const partModel = queryPart.create(part);\n          if (partModel.def.category === categories.Aggregations) {\n            return false;\n          }\n          if (partModel.def.category === categories.Selectors) {\n            return false;\n          }\n          return true;\n        });\n      });\n    }\n\n    this.target.groupBy!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelect(index: number) {\n    this.target.select!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelectPart(selectParts: any[], part: any) {\n    // if we remove the field remove the whole statement\n    if (part.def.type === 'field') {\n      if (this.selectModels.length > 1) {\n        const modelsIndex = indexOf(this.selectModels, selectParts);\n        this.selectModels.splice(modelsIndex, 1);\n      }\n    } else {\n      const partIndex = indexOf(selectParts, part);\n      selectParts.splice(partIndex, 1);\n    }\n\n    this.updatePersistedParts();\n  }\n\n  addSelectPart(selectParts: any[], type: string) {\n    const partModel = queryPart.create({ type: type });\n    partModel.def.addStrategy(selectParts, partModel, this);\n    this.updatePersistedParts();\n  }\n\n  getMeasurementAndPolicy(interpolate: any) {\n    let policy = this.target.policy;\n    let measurement = this.target.measurement || 'measurement';\n\n    if (!measurement.match('^/.*/$')) {\n      measurement = '\"' + measurement + '\"';\n    } else if (interpolate) {\n      measurement = this.templateSrv.replace(measurement, this.scopedVars, 'regex');\n    }\n\n    if (policy !== 'default') {\n      policy = '\"' + this.target.policy + '\".';\n    } else {\n      policy = '';\n    }\n\n    return policy + measurement;\n  }\n\n  interpolateQueryStr(value: any[], variable: { multi: any; includeAll: any }, defaultFormatFn: any) {\n    // if no multi or include all do not regexEscape\n    if (!variable.multi && !variable.includeAll) {\n      return value;\n    }\n\n    if (typeof value === 'string') {\n      return kbn.regexEscape(value);\n    }\n\n    const escapedValues = map(value, kbn.regexEscape);\n    return '(' + escapedValues.join('|') + ')';\n  }\n\n  render(interpolate?: boolean) {\n    const target = this.target;\n\n    if (target.rawQuery) {\n      if (interpolate) {\n        return this.templateSrv.replace(target.query, this.scopedVars, this.interpolateQueryStr);\n      } else {\n        return target.query;\n      }\n    }\n\n    let query = 'select ';\n    let i; let y;\n    for (i = 0; i < this.selectModels.length; i++) {\n      const parts = this.selectModels[i];\n      let selectText = '';\n      for (y = 0; y < parts.length; y++) {\n        const part = parts[y];\n        selectText = part.render(selectText);\n      }\n\n      if (i > 0) {\n        query += ', ';\n      }\n      query += selectText;\n    }\n\n    query += ' from ' + this.getMeasurementAndPolicy(interpolate) + ' where ';\n    const conditions = map(target.tags, (tag, index) => {\n      return this.renderTagCondition(tag, index, interpolate);\n    });\n\n    if (conditions.length > 0) {\n      query += '(' + conditions.join(' ') + ') and ';\n    }\n\n    query += '$timeFilter';\n\n    let groupBySection = '';\n    for (i = 0; i < this.groupByParts.length; i++) {\n      const part = this.groupByParts[i];\n      if (i > 0) {\n        // for some reason fill has no separator\n        groupBySection += part.def.type === 'fill' ? ' ' : ', ';\n      }\n      groupBySection += part.render('');\n    }\n\n    if (groupBySection.length) {\n      query += ' group by ' + groupBySection;\n    }\n\n    if (target.fill) {\n      query += ' fill(' + target.fill + ')';\n    }\n\n    if (target.orderByTime === 'DESC') {\n      query += ' order by time desc';\n    }\n\n    if (target.limit) {\n      query += ' limit ' + target.limit;\n    }\n\n    if (target.slimit) {\n      query += ' slimit ' + target.slimit;\n    }\n\n    if (target.tz) {\n      query += \" tz('\" + target.tz + \"')\";\n    }\n\n    return query;\n  }\n\n  renderAdhocFilters(filters: any[]) {\n    const conditions = map(filters, (tag, index) => {\n      return this.renderTagCondition(tag, index, true);\n    });\n    return conditions.join(' ');\n  }\n\n  private renderTagCondition(tag: RUMQueryTag, index: number, interpolate?: boolean) {\n    // FIXME: merge this function with query_builder/renderTagCondition\n    let str = '';\n    let operator = tag.operator;\n    let value = tag.value;\n    if (index > 0) {\n      str = (tag.condition.toLowerCase() || 'and') + ' ';\n    }\n\n    if (!operator) {\n      if (/^\\/.*\\/$/.test(value)) {\n        operator = '=~';\n      } else {\n        operator = '=';\n      }\n    }\n\n    // quote value unless regex\n    if (operator !== '=~' && operator !== '!~') {\n      if (interpolate) {\n        value = this.templateSrv.replace(value, this.scopedVars);\n      }\n      if (operator !== '>' && operator !== '<') {\n        value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n      }\n    } else if (interpolate) {\n      value = this.templateSrv.replace(value, this.scopedVars, 'regex');\n    }\n\n    return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n  }\n}","export function unwrap<T>(value: T | null | undefined): T {\n  if (value === null) {\n    throw new Error('value must not be nullish');\n  }\n  return value;\n}\n","import { SelectableValue } from '@grafana/data';\n\nexport function toSelectableValue<T extends string>(t: T): SelectableValue<T> {\n  return { label: t, value: t };\n}\n","import { RUMQuery, RUMQueryPart } from '../types';\nimport { SelectableValue } from '@grafana/data';\nimport { PartParams } from '../components/PartListSection';\nimport RUMQueryModel from '../RUM_query_model';\nimport { unwrap } from './unwrap';\nimport queryPart, { QueryPartDef } from '../query_part';\nimport { toSelectableValue } from './toSelectableValue';\n\ntype Categories = Record<string, QueryPartDef[]>;\n\nexport function getNewSelectPartOptions(): SelectableValue[] {\n  const categories: Categories = queryPart.getCategories();\n  const options: SelectableValue[] = [];\n\n  const keys = Object.keys(categories);\n\n  keys.forEach((key) => {\n    const children: SelectableValue[] = categories[key].map((x) => toSelectableValue(x.type));\n\n    options.push({\n      label: key,\n      options: children,\n    });\n  });\n\n  return options;\n}\n\nexport async function getNewGroupByPartOptions(\n  query: RUMQuery,\n  getTagKeys: () => Promise<string[]>\n): Promise<Array<SelectableValue<string>>> {\n  const tagKeys = await getTagKeys();\n  const queryCopy = { ...query }; // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  const options: Array<SelectableValue<string>> = [];\n  if (!model.hasFill()) {\n    options.push(toSelectableValue('fill(null)'));\n  }\n  if (!model.hasGroupByTime()) {\n    options.push(toSelectableValue('time($interval)'));\n  }\n  tagKeys.forEach((key) => {\n    options.push(toSelectableValue(`tag(${key})`));\n  });\n  return options;\n}\n\ninterface Part {\n  name: string;\n  params: PartParams;\n};\n\nfunction getPartParams(part: RUMQueryPart, dynamicParamOptions: Map<string, () => Promise<string[]>>): PartParams {\n  // NOTE: the way the system is constructed,\n  // there always can only be one possible dynamic-lookup\n  // field. in case of select it is the field,\n  // in case of group-by it is the tag\n  const def = queryPart.create(part).def;\n\n  // we switch the numbers to strings, it will work that way too,\n  // and it makes the code simpler\n  const paramValues = (part.params ?? []).map((p) => p.toString());\n\n  if (paramValues.length !== def.params.length) {\n    throw new Error('Invalid query-segment');\n  }\n\n  return paramValues.map((val, index) => {\n    const defParam = def.params[index];\n    if (defParam.dynamicLookup) {\n      return {\n        value: val,\n        options: unwrap(dynamicParamOptions.get(`${def.type}_${index}`)),\n      };\n    }\n\n    if (defParam.options !== null || defParam.options !== undefined) {\n      return {\n        value: val,\n        options: () => Promise.resolve(defParam.options),\n      };\n    }\n\n    return {\n      value: val,\n      options: null,\n    };\n  });\n}\n\nexport function makePartList(\n  queryParts: RUMQueryPart[],\n  dynamicParamOptions: Map<string, () => Promise<string[]>>\n): Part[] {\n  return queryParts.map((qp) => {\n    return {\n      name: qp.type,\n      params: getPartParams(qp, dynamicParamOptions),\n    };\n  });\n}\n","import React from 'react';\nimport { css } from 'emotion';\nimport { GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles, InlineFieldRow } from '@grafana/ui';\n\n/**\n * Horizontal section for editor components.\n *\n * @alpha\n */\nexport const SegmentSection = ({\n  label,\n  htmlFor,\n  children,\n  fill,\n}: {\n  // Name of the section\n  label: string;\n  // htmlFor for the label\n  htmlFor?: string;\n  // List of components in the section\n  children: React.ReactNode;\n  // Fill the space at the end\n  fill?: boolean;\n}) => {\n  const styles = useStyles(getStyles);\n  return (\n    <InlineFieldRow>\n      <InlineLabel htmlFor={htmlFor} width={12} className={styles.label}>\n        {label}\n      </InlineLabel>\n      {children}\n      {fill && (\n        <div className={styles.fill}>\n          <InlineLabel>{' '}</InlineLabel>\n        </div>\n      )}\n    </InlineFieldRow>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme) => ({\n  label: css`\n    color: #33a2e5;\n  `,\n  fill: css`\n    flex-grow: 1;\n    margin-bottom: ${theme.spacing.inlineFormMargin};\n  `,\n});\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { __assign } from \"tslib\";\nimport { useCallback, useRef, useState } from 'react';\nimport useMountedState from './useMountedState';\nexport default function useAsyncFn(fn, deps, initialState) {\n    if (deps === void 0) { deps = []; }\n    if (initialState === void 0) { initialState = { loading: false }; }\n    var lastCallId = useRef(0);\n    var isMounted = useMountedState();\n    var _a = useState(initialState), state = _a[0], set = _a[1];\n    var callback = useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callId = ++lastCallId.current;\n        if (!state.loading) {\n            set(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });\n        }\n        return fn.apply(void 0, args).then(function (value) {\n            isMounted() && callId === lastCallId.current && set({ value: value, loading: false });\n            return value;\n        }, function (error) {\n            isMounted() && callId === lastCallId.current && set({ error: error, loading: false });\n            return error;\n        });\n    }, deps);\n    return [state, callback];\n}\n","import { useCallback, useEffect, useRef } from 'react';\nexport default function useMountedState() {\n    var mountedRef = useRef(false);\n    var get = useCallback(function () { return mountedRef.current; }, []);\n    useEffect(function () {\n        mountedRef.current = true;\n        return function () {\n            mountedRef.current = false;\n        };\n    }, []);\n    return get;\n}\n","import { useState, useEffect } from 'react';\nimport { usePrevious } from 'react-use';\n\nexport function useShadowedState<T>(outsideVal: T): [T, (newVal: T) => void] {\n  const [currentVal, setCurrentVal] = useState(outsideVal);\n  const prevOutsideVal = usePrevious(outsideVal);\n\n  useEffect(() => {\n    const isOutsideValChanged = prevOutsideVal !== outsideVal;\n    // if the value changes from the outside, we accept it into the state\n    // (we only set it if it is different from the current value)\n    if (isOutsideValChanged && currentVal !== outsideVal) {\n      setCurrentVal(outsideVal);\n    }\n  }, [outsideVal, currentVal, prevOutsideVal]);\n\n  return [currentVal, setCurrentVal];\n}\n","import { useEffect, useRef } from 'react';\nexport default function usePrevious(state) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = state;\n    });\n    return ref.current;\n}\n","import React, { useState, useEffect } from 'react';\nimport { cx, css } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { useAsyncFn } from 'react-use';\nimport { InlineLabel, Select, AsyncSelect, Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\n\n// this file is a simpler version of `grafana-ui / SegmentAsync.tsx`\n// with some changes:\n// 1. click-outside does not select the value. i think it's better to be explicit here.\n// 2. we set a min-width on the select-element to handle cases where the `value`\n//    is very short, like \"x\", and then you click on it and the select opens,\n//    and it tries to be as short as \"x\" and it does not work well.\n\n// NOTE: maybe these changes could be migrated into the SegmentAsync later\n\ntype SelVal = SelectableValue<string>;\n\n// when allowCustomValue is true, there is no way to enforce the selectableValue\n// enum-type, so i just go with `string`\n\ntype LoadOptions = (filter: string) => Promise<SelVal[]>;\n\ninterface Props {\n  value: string;\n  buttonClassName?: string;\n  loadOptions?: LoadOptions;\n  // if filterByLoadOptions is false,\n  // loadOptions is only executed once,\n  // when the select-box opens,\n  // and as you write, the list gets filtered\n  // by the select-box.\n  // if filterByLoadOptions is true,\n  // as you write the loadOptions is executed again and again,\n  // and it is relied on to filter the results.\n  filterByLoadOptions?: boolean;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n  disabled?: boolean\n};\n\nconst selectClass = css({\n  minWidth: '160px',\n});\n\ninterface SelProps {\n  loadOptions: LoadOptions;\n  filterByLoadOptions?: boolean;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\ninterface SelReloadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\n// when a custom value is written into a select-box,\n// by default the new value is prefixed with \"Create:\",\n// and that sounds confusing because here we do not create\n// anything. we change this to just be the entered string.\nconst formatCreateLabel = (v: string) => v;\n\nconst SelReload = ({ loadOptions, allowCustomValue, onChange, onClose }: SelReloadProps): JSX.Element => {\n  // here we rely on the fact that writing text into the <AsyncSelect/>\n  // does not cause a re-render of the current react component.\n  // this way there is only a single render-call,\n  // so there is only a single `debouncedLoadOptions`.\n  // if we want ot make this \"re-render safe,\n  // we will have to put the debounced call into an useRef,\n  // and probably have an useEffect\n  // const debouncedLoadOptions = debouncePromise(loadOptions, 1000, { leading: true });\n  return (\n    <div className={selectClass}>\n      <AsyncSelect\n        formatCreateLabel={formatCreateLabel}\n        defaultOptions\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        loadOptions={loadOptions}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\ninterface SelSingleLoadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\nconst SelSingleLoad = ({ loadOptions, allowCustomValue, onChange, onClose }: SelSingleLoadProps): JSX.Element => {\n  const [loadState, doLoad] = useAsyncFn(loadOptions, [loadOptions]);\n\n  useEffect(() => {\n    doLoad('');\n  }, [doLoad, loadOptions]);\n\n  return (\n    <div className={selectClass}>\n      <Select\n        isLoading={loadState.loading}\n        formatCreateLabel={formatCreateLabel}\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        options={loadState.value ?? []}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nconst Sel = ({ loadOptions, filterByLoadOptions, allowCustomValue, onChange, onClose }: SelProps): JSX.Element => {\n  // unfortunately <Segment/> and <SegmentAsync/> have somewhat different behavior,\n  // so the simplest approach was to just create two separate wrapper-components\n  return filterByLoadOptions ? (\n    <SelReload loadOptions={loadOptions} allowCustomValue={allowCustomValue} onChange={onChange} onClose={onClose} />\n  ) : (\n    <SelSingleLoad\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={onChange}\n      onClose={onClose}\n    />\n  );\n};\n\ninterface InpProps {\n  initialValue: string;\n  onChange: (newVal: string) => void;\n  onClose: () => void;\n}\n\nconst Inp = ({ initialValue, onChange, onClose }: InpProps): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(initialValue);\n\n  return (\n    <Input\n      autoFocus\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onClose}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          onChange(currentValue);\n        }\n      }}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue}\n    />\n  );\n};\n\nconst defaultButtonClass = css({\n  width: 'auto',\n  cursor: 'pointer',\n});\n\nexport const Seg = ({\n  value,\n  buttonClassName,\n  loadOptions,\n  filterByLoadOptions,\n  allowCustomValue,\n  onChange,\n  disabled\n}: Props): JSX.Element => {\n  const [isOpen, setOpen] = useState(false);\n  if (!isOpen) {\n    const className = cx(defaultButtonClass, buttonClassName);\n    return (\n      <InlineLabel\n        as=\"button\"\n        className={className}\n        onClick={() => {\n          setOpen(!disabled);\n        }}\n      >\n        {value}\n      </InlineLabel>\n    );\n  } else {\n    if (loadOptions !== undefined) {\n      return (\n        <Sel\n          loadOptions={loadOptions}\n          filterByLoadOptions={filterByLoadOptions ?? false}\n          allowCustomValue={allowCustomValue}\n          onChange={(v) => {\n            setOpen(false);\n            onChange(v);\n          }}\n          onClose={() => {\n            setOpen(false);\n          }}\n        />\n      );\n    } else {\n      return (\n        <Inp\n          initialValue={value}\n          onClose={() => {\n            setOpen(false);\n          }}\n          onChange={(v) => {\n            setOpen(false);\n            onChange({ value: v, label: v });\n          }}\n        />\n      );\n    }\n  }\n};\n","import React from 'react';\nimport { Seg } from './Seg';\nimport { toSelectableValue } from '../common/toSelectableValue';\n\nconst DEFAULT_POLICY = 'default';\n\ninterface Props {\n  onChange: (policy: string | undefined, measurement: string | undefined) => void;\n  policy: string | undefined;\n  measurement: string | undefined;\n  getPolicyOptions: () => Promise<string[]>;\n  getMeasurementOptions: (filter: string) => Promise<string[]>;\n};\n\nexport const FromSection = ({\n  policy,\n  measurement,\n  onChange,\n  getPolicyOptions,\n  getMeasurementOptions,\n}: Props): JSX.Element => {\n  const handlePolicyLoadOptions = async () => {\n    const allPolicies = await getPolicyOptions();\n    // if `default` does not exist in the list of policies, we add it\n    const allPoliciesWithDefault = allPolicies.some((p) => p === 'default')\n      ? allPolicies\n      : [DEFAULT_POLICY, ...allPolicies];\n\n    return allPoliciesWithDefault.map(toSelectableValue);\n  };\n\n  const handleMeasurementLoadOptions = async (filter: string) => {\n    const allMeasurements = await getMeasurementOptions(filter);\n    return allMeasurements.map(toSelectableValue);\n  };\n\n  return (\n    <>\n      <Seg\n        allowCustomValue\n        value={policy ?? 'using default policy'}\n        loadOptions={handlePolicyLoadOptions}\n        onChange={(v) => {\n          onChange(v.value, measurement);\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={measurement ?? 'select measurement'}\n        loadOptions={handleMeasurementLoadOptions}\n        filterByLoadOptions\n        onChange={(v) => {\n          onChange(policy, v.value);\n        }}\n      />\n    </>\n  );\n};\n","import { RUMQueryTag } from '../types';\n\nfunction isRegex(text: string): boolean {\n  return /^\\/.*\\/$/.test(text);\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in rum_query_model.ts\nexport function getOperator(tag: RUMQueryTag): string {\n  return tag.operator ?? (isRegex(tag.value) ? '=~' : '=');\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in rum_query_model.ts\nexport function getCondition(tag: RUMQueryTag, isFirst: boolean): string | undefined {\n  return isFirst ? undefined : tag.condition ?? 'AND';\n}\n\nexport function adjustOperatorIfNeeded(currentOperator: string, newTagValue: string): string {\n  const isCurrentOperatorRegex = currentOperator === '=~' || currentOperator === '!~';\n  const isNewTagValueRegex = isRegex(newTagValue);\n\n  if (isNewTagValueRegex) {\n    return isCurrentOperatorRegex ? currentOperator : '=~';\n  } else {\n    return isCurrentOperatorRegex ? '=' : currentOperator;\n  }\n}\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\n\ninterface Props {\n  loadOptions: () => Promise<SelectableValue[]>;\n  allowCustomValue?: boolean;\n  onAdd: (v: string) => void;\n};\n\nexport const AddButton = ({ loadOptions, allowCustomValue, onAdd }: Props): JSX.Element => {\n  return (\n    <Seg\n      value=\"+\"\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={(v) => {\n        onAdd(unwrap(v.value));\n      }}\n    />\n  );\n};\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { RUMQueryTag } from '../types';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { adjustOperatorIfNeeded, getCondition, getOperator } from '../common/tagUtils';\nimport { AddButton } from './AddButton';\n\ntype KnownOperator = '=' | '!=' | '<>' | '<' | '>' | '=~' | '!~';\nconst knownOperators: KnownOperator[] = ['=', '!=', '<>', '<', '>', '=~', '!~'];\n\ntype KnownCondition = 'AND' | 'OR';\nconst knownConditions: KnownCondition[] = ['AND', 'OR'];\n\nconst operatorOptions: Array<SelectableValue<KnownOperator>> = knownOperators.map(toSelectableValue);\nconst condititonOptions: Array<SelectableValue<KnownCondition>> = knownConditions.map(toSelectableValue);\n\ninterface Props {\n  tags: RUMQueryTag[];\n  onChange: (tags: RUMQueryTag[]) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n};\n\ninterface TagProps {\n  tag: RUMQueryTag;\n  isFirst: boolean;\n  onRemove: () => void;\n  onChange: (tag: RUMQueryTag) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n};\n\nconst loadConditionOptions = () => Promise.resolve(condititonOptions);\n\nconst loadOperatorOptions = () => Promise.resolve(operatorOptions);\n\nconst Tag = ({ tag, isFirst, onRemove, onChange, getTagKeyOptions, getTagValueOptions }: TagProps): JSX.Element => {\n  const operator = getOperator(tag);\n  const condition = getCondition(tag, isFirst);\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions()\n      .catch((err) => {\n        // in this UI element we add a special item to the list of options,\n        // that is used to remove the element.\n        // this causes a problem: if `getTagKeyOptions` fails with an error,\n        // the remove-filter option is never added to the list,\n        // and the UI element can not be removed.\n        // to avoid it, we catch any potential errors coming from `getTagKeyOptions`,\n        // log the error, and pretend that the list of options is an empty list.\n        // this way the remove-item option can always be added to the list.\n        console.error(err);\n        return [];\n      })\n      .then((tags) => [{ label: '-- remove filter --', value: undefined }, ...tags.map(toSelectableValue)]);\n  };\n\n  const getTagValueSegmentOptions = () => {\n    return getTagValueOptions(tag.key).then((tags) => tags.map(toSelectableValue));\n  };\n\n  return (\n    <div className=\"gf-form\">\n      {condition !== undefined && (\n        <Seg\n          value={condition}\n          loadOptions={loadConditionOptions}\n          disabled\n          onChange={(v) => {\n            onChange({ ...tag, condition: v.value });\n          }}\n        />\n      )}\n      <Seg\n        allowCustomValue\n        value={tag.key}\n        loadOptions={getTagKeySegmentOptions}\n        onChange={(v) => {\n          const { value } = v;\n          if (value === undefined) {\n            onRemove();\n          } else {\n            onChange({ ...tag, key: value ?? '' });\n          }\n        }}\n      />\n      <Seg\n        value={operator}\n        loadOptions={loadOperatorOptions}\n        onChange={(op) => {\n          onChange({ ...tag, operator: op.value });\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={tag.value}\n        loadOptions={getTagValueSegmentOptions}\n        onChange={(v) => {\n          const value = v.value ?? '';\n          onChange({ ...tag, value, operator: adjustOperatorIfNeeded(operator, value) });\n        }}\n      />\n    </div>\n  );\n};\n\nexport const TagsSection = ({ tags, onChange, getTagKeyOptions, getTagValueOptions }: Props): JSX.Element => {\n  const onTagChange = (newTag: RUMQueryTag, index: number) => {\n    const newTags = tags.map((tag, i) => {\n      return index === i ? newTag : tag;\n    });\n    onChange(newTags);\n  };\n\n  const onTagRemove = (index: number) => {\n    const newTags = tags.filter((t, i) => i !== index);\n    onChange(newTags);\n  };\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions().then((tags) => tags.map(toSelectableValue));\n  };\n\n  const addNewTag = (tagKey: string, isFirst: boolean) => {\n    const minimalTag: RUMQueryTag = {\n      key: tagKey,\n      value: 'select tag value',\n    };\n\n    const newTag: RUMQueryTag = {\n      key: minimalTag.key,\n      value: minimalTag.value,\n      operator: getOperator(minimalTag),\n      condition: getCondition(minimalTag, isFirst),\n    };\n\n    onChange([...tags, newTag]);\n  };\n\n  return (\n    <>\n      {tags.map((t, i) => (\n        <Tag\n          tag={t}\n          isFirst={i === 0}\n          key={i}\n          onChange={(newT) => {\n            onTagChange(newT, i);\n          }}\n          onRemove={() => {\n            onTagRemove(i);\n          }}\n          getTagKeyOptions={getTagKeyOptions}\n          getTagValueOptions={getTagValueOptions}\n        />\n      ))}\n      <AddButton\n        allowCustomValue\n        loadOptions={getTagKeySegmentOptions}\n        onAdd={(v) => {\n          addNewTag(v, tags.length === 0);\n        }}\n      />\n    </>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { cx, css } from 'emotion';\nimport { WithContextMenu, useTheme } from '@grafana/ui';\nimport { SelectableValue, GrafanaTheme } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { AddButton } from './AddButton';\n\nexport type PartParams = Array<{\n  value: string;\n  options: (() => Promise<string[]>) | null;\n}>;\n\ninterface Props {\n  parts: Array<{\n    name: string;\n    params: PartParams;\n  }>;\n  getNewPartOptions: () => Promise<SelectableValue[]>;\n  onChange: (partIndex: number, paramValues: string[]) => void;\n  onRemovePart: (index: number) => void;\n  onAddNewPart: (type: string) => void;\n};\n\nconst renderRemovableNameMenuItems = (onClick: () => void) => {\n  return [{ items: [{ label: 'remove', onClick  }] }]\n};\n\nconst noRightMarginPaddingClass = css({\n  paddingRight: '0',\n  marginRight: '0',\n});\n\nconst RemovableName = ({ name, onRemove }: { name: string; onRemove: () => void }) => {\n  return (\n    <WithContextMenu getContextMenuItems={() => renderRemovableNameMenuItems(onRemove)}>\n      {({ openMenu }) => (\n        <button className={cx('gf-form-label', noRightMarginPaddingClass)} onClick={openMenu}>\n          {name}\n        </button>\n      )}\n    </WithContextMenu>\n  );\n};\n\ninterface PartProps {\n  name: string;\n  params: PartParams;\n  onRemove: () => void;\n  onChange: (paramValues: string[]) => void;\n}\n\nconst noHorizMarginPaddingClass = css({\n  paddingLeft: '0',\n  paddingRight: '0',\n  marginLeft: '0',\n  marginRight: '0',\n});\n\nconst getPartClass = (theme: GrafanaTheme) => {\n  return cx(\n    'gf-form-label',\n    css({\n      paddingLeft: '0',\n      // gf-form-label class makes certain css attributes incorrect\n      // for the selectbox-dropdown, so we have to \"reset\" them back\n      lineHeight: theme.typography.lineHeight.md,\n      fontSize: theme.typography.size.base,\n    })\n  );\n};\n\nconst Part = ({ name, params, onChange, onRemove }: PartProps): JSX.Element => {\n  const theme = useTheme();\n  const partClass = useMemo(() => getPartClass(theme), [theme]);\n\n  const onParamChange = (par: string, i: number) => {\n    const newParams = params.map((p) => p.value);\n    newParams[i] = par;\n    onChange(newParams);\n  };\n\n  return (\n    <div className={partClass}>\n      <RemovableName name={name} onRemove={onRemove} />(\n      {params.map((p, i) => {\n        const { value, options } = p;\n        const isLast = i === params.length - 1;\n        const loadOptions =\n          options !== null ? () => options().then((items) => items.map(toSelectableValue)) : undefined;\n        return (\n          <React.Fragment key={i}>\n            <Seg\n              allowCustomValue\n              value={value}\n              buttonClassName={noHorizMarginPaddingClass}\n              loadOptions={loadOptions}\n              onChange={(v) => {\n                onParamChange(unwrap(v.value), i);\n              }}\n            />\n            {!isLast && ','}\n          </React.Fragment>\n        );\n      })}\n      )\n    </div>\n  );\n};\n\nexport const PartListSection = ({\n  parts,\n  getNewPartOptions,\n  onAddNewPart,\n  onRemovePart,\n  onChange,\n}: Props): JSX.Element => {\n  return (\n    <>\n      {parts.map((part, index) => (\n        <Part\n          key={index}\n          name={part.name}\n          params={part.params}\n          onRemove={() => {\n            onRemovePart(index);\n          }}\n          onChange={(pars) => {\n            onChange(index, pars);\n          }}\n        />\n      ))}\n      <AddButton loadOptions={getNewPartOptions} onAdd={onAddNewPart} />\n    </>\n  );\n};\n","import { css } from 'emotion';\n\nexport const paddingRightClass = css({\n  paddingRight: '4px',\n});\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  value: string | undefined;\n  onChange: (value: string | undefined) => void;\n  isWide?: boolean;\n  placeholder?: string;\n};\n\nexport const InputSection = ({ value, onChange, isWide, placeholder }: Props): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(value);\n\n  const onBlur = () => {\n    // we send empty-string as undefined\n    const newValue = currentValue === '' ? undefined : currentValue;\n    onChange(newValue);\n  };\n\n  return (\n    <Input\n      placeholder={placeholder}\n      className={cx(isWide ?? false ? 'width-14' : 'width-8', paddingRightClass)}\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onBlur}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue ?? ''}\n    />\n  );\n};\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { unwrap } from '../common/unwrap';\nimport { Select } from '@grafana/ui';\nimport { paddingRightClass } from './styles';\n\ntype Mode = 'ASC' | 'DESC';\n\nconst OPTIONS: Array<SelectableValue<Mode>> = [\n  { label: 'ascending', value: 'ASC' },\n  { label: 'descending', value: 'DESC' },\n];\n\nconst className = cx('width-9', paddingRightClass);\n\ninterface Props {\n  value: Mode;\n  onChange: (value: Mode) => void;\n  inputId?: string;\n};\n\nexport const OrderByTimeSection = ({ value, onChange, inputId }: Props): JSX.Element => {\n  return (\n    <Select<Mode>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={value}\n      options={OPTIONS}\n    />\n  );\n};\n","import { SelectableValue } from '@grafana/data';\nimport { ResultFormat } from '../types';\n\nexport const RESULT_FORMATS: Array<SelectableValue<ResultFormat>> = [\n  { label: 'Time series', value: 'time_series' },\n  { label: 'Table', value: 'table' },\n  { label: 'Logs', value: 'logs' },\n];\n\nexport const DEFAULT_RESULT_FORMAT: ResultFormat = 'time_series';\n\nexport const ENABLE_MEASUREMENTS: Array<string> = [\n  'log_url_statistics',\n  'event_url_statistics',\n  'pv_url_statistics',\n  'user_event_user_event_unique',\n  'uv_project_unique',\n  'uv_page_unique',\n  'custom_url_info',\n  'custom_url_statistics',\n  'fetch_url_info',\n  'fetch_url_statistics',\n  'fetch_project_statistics',\n  'set_data_url_statistics',\n  'performance_page_statistics',\n  'performance_project_statistics',\n  'static_url_source',\n  'static_resource_statistics',\n  'static_project_statistics', \n  'webvitals_page_statistics',\n  'webvitals_project_statistics',\n]\n","import { Select } from '@grafana/ui';\nimport { cx } from 'emotion';\nimport { ResultFormat } from '../types';\nimport React from 'react';\nimport { unwrap } from '../common/unwrap';\nimport { RESULT_FORMATS } from '../common/constants';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  inputId?: string;\n  format: ResultFormat;\n  onChange: (newFormat: ResultFormat) => void;\n};\n\nconst className = cx('width-8', paddingRightClass);\n\nexport const FormatAsSection = ({ format, inputId, onChange }: Props): JSX.Element => {\n  return (\n    <Select<ResultFormat>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={format}\n      options={RESULT_FORMATS}\n    />\n  );\n};\n","import React, { useMemo, FC, useEffect } from 'react';\nimport { css } from 'emotion';\nimport { QueryEditorProps, GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles } from '@grafana/ui';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport {\n  getAllMeasurementsForTags,\n  getAllPolicies,\n  getFieldKeysForMeasurement,\n  getTagKeysForMeasurementAndTags,\n  getTagValues,\n} from './RUMMetadataQuery';\nimport {\n  normalizeQuery,\n  addNewSelectPart,\n  removeSelectPart,\n  addNewGroupByPart,\n  removeGroupByPart,\n  changeSelectPart,\n  changeGroupByPart,\n} from './queryUtils';\nimport { getNewSelectPartOptions, getNewGroupByPartOptions, makePartList } from './common/partListUtils';\nimport { SegmentSection } from './components/SegmentSection';\nimport { FromSection } from './components/FromSection';\nimport { TagsSection } from './components/TagsSection';\nimport { PartListSection } from './components/PartListSection';\nimport { InputSection } from './components/InputSection';\nimport { OrderByTimeSection } from './components/OrderByTimeSection';\nimport { FormatAsSection } from './components/FormatAsSection';\nimport { useUniqueId } from './common/useUniqueId';\nimport { DEFAULT_RESULT_FORMAT } from './common/constants';\nimport { RUMQuery, RUMQueryTag } from './types';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo } from '../types';\nimport { clone } from 'lodash';\nimport { DataSource } from '../DataSource';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\n\nfunction getTemplateVariableOptions() {\n  return (\n    getTemplateSrv()\n      .getVariables()\n      // we make them regex-params, i'm not 100% sure why.\n      // probably because this way multi-value variables work ok too.\n      .map((v) => `/^$${v.name}$/`)\n  );\n}\n\n// helper function to make it easy to call this from the widget-render-code\nfunction withTemplateVariableOptions(optionsPromise: Promise<string[]>): Promise<string[]> {\n  return optionsPromise.then((options) => [...getTemplateVariableOptions(), ...options]);\n}\n\nfunction filterTags(parts: RUMQueryTag[], allTagKeys: Set<string>): RUMQueryTag[] {\n  return parts.filter((t) => allTagKeys.has(t.key));\n}\n\nexport const RUMServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const uniqueId = useUniqueId();\n  const formatAsId = `rum-qe-format-as-${uniqueId}`;\n  const orderByTimeId = `rum-qe-order-by${uniqueId}`;\n\n  const styles = useStyles(getStyles);\n\n  const { datasource, onChange, query: queryInfo  } = props;\n  const query = normalizeQuery(queryInfo.RUMServiceParams || clone(defaultQueryInfo.RUMServiceParams));\n  const { measurement, policy } = query;\n\n  useEffect(() => {\n    if (!queryInfo.RUMServiceParams) {\n      onChange({ ...queryInfo, RUMServiceParams: clone(defaultQueryInfo.RUMServiceParams) })\n    }\n  }, [onChange, queryInfo]);\n\n  const allTagKeys = useMemo(() => {\n    return getTagKeysForMeasurementAndTags(measurement, policy, [], datasource)\n      .then((tags) => {\n        return new Set(tags);\n      })\n      .catch((err) => {\n        console.error('getTagKeysForMeasurementAndTags', err);\n        return new Set('');\n      });\n  }, [measurement, policy, datasource]);\n\n  const selectLists = useMemo(() => {\n    const dynamicSelectPartOptions = new Map([\n      [\n        'field_0',\n        () => {\n          return measurement !== undefined\n            ? getFieldKeysForMeasurement(measurement, policy, datasource)\n            : Promise.resolve([]);\n        },\n      ],\n    ]);\n    return (query.select ?? []).map((sel) => makePartList(sel, dynamicSelectPartOptions));\n  }, [measurement, policy, query.select, datasource]);\n\n  // the following function is not complicated enough to memoize, but it's result\n  // is used in both memoized and un-memoized parts, so we have no choice\n  const getTagKeys = useMemo(() => {\n    return () =>\n      allTagKeys.then((keys) =>\n        getTagKeysForMeasurementAndTags(measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n      );\n  }, [measurement, policy, query.tags, datasource, allTagKeys]);\n\n  const groupByList = useMemo(() => {\n    const dynamicGroupByPartOptions = new Map([['tag_0', getTagKeys]]);\n\n    return makePartList(query.groupBy ?? [], dynamicGroupByPartOptions);\n  }, [getTagKeys, query.groupBy]);\n\n  const onAppliedChange = (newQuery: RUMQuery) => {\n    props.onChange({\n      ...props.query,\n      RUMServiceParams: newQuery,\n    });\n    props.onRunQuery();\n  };\n  const handleFromSectionChange = (p: string | undefined, m: string | undefined) => {\n    onAppliedChange({\n      ...query,\n      policy: p,\n      measurement: m,\n    });\n  };\n\n  const handleTagsSectionChange = (tags: RUMQueryTag[]) => {\n    // we set empty-arrays to undefined\n    onAppliedChange({\n      ...query,\n      tags: tags.length === 0 ? undefined : tags,\n    });\n  };\n\n  return (\n    <div>\n      <SegmentSection label=\"FROM\" fill={true}>\n        <FromSection\n          policy={policy}\n          measurement={measurement}\n          getPolicyOptions={() => getAllPolicies(datasource)}\n          getMeasurementOptions={(filter) =>\n            withTemplateVariableOptions(\n              allTagKeys.then((keys) =>\n                getAllMeasurementsForTags(\n                  filter === '' ? undefined : filter,\n                  filterTags(query.tags ?? [], keys),\n                  datasource\n                )\n              )\n            )\n          }\n          onChange={handleFromSectionChange}\n        />\n        <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n          WHERE\n        </InlineLabel>\n        <TagsSection\n          tags={query.tags ?? []}\n          onChange={handleTagsSectionChange}\n          getTagKeyOptions={getTagKeys}\n          getTagValueOptions={(key: string) =>\n            withTemplateVariableOptions(\n              allTagKeys.then((keys) =>\n                getTagValues(key, measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n              )\n            )\n          }\n        />\n      </SegmentSection>\n      {selectLists.map((sel, index) => (\n        <SegmentSection key={index} label={index === 0 ? 'SELECT' : ''} fill={true}>\n          <PartListSection\n            parts={sel}\n            getNewPartOptions={() => Promise.resolve(getNewSelectPartOptions())}\n            onChange={(partIndex, newParams) => {\n              const newQuery = changeSelectPart(query, index, partIndex, newParams);\n              onAppliedChange(newQuery);\n            }}\n            onAddNewPart={(type) => {\n              onAppliedChange(addNewSelectPart(query, type, index));\n            }}\n            onRemovePart={(partIndex) => {\n              onAppliedChange(removeSelectPart(query, partIndex, index));\n            }}\n          />\n        </SegmentSection>\n      ))}\n      <SegmentSection label=\"GROUP BY\" fill={true}>\n        <PartListSection\n          parts={groupByList}\n          getNewPartOptions={() => getNewGroupByPartOptions(query, getTagKeys)}\n          onChange={(partIndex, newParams) => {\n            const newQuery = changeGroupByPart(query, partIndex, newParams);\n            onAppliedChange(newQuery);\n          }}\n          onAddNewPart={(type) => {\n            onAppliedChange(addNewGroupByPart(query, type));\n          }}\n          onRemovePart={(partIndex) => {\n            onAppliedChange(removeGroupByPart(query, partIndex));\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection label=\"TIMEZONE\" fill={true}>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.tz}\n          onChange={(tz) => {\n            onAppliedChange({ ...query, tz });\n          }}\n        />\n        <InlineLabel htmlFor={orderByTimeId} width=\"auto\" className={styles.inlineLabel}>\n          ORDER BY TIME\n        </InlineLabel>\n        <OrderByTimeSection\n          inputId={orderByTimeId}\n          value={query.orderByTime === 'DESC' ? 'DESC' : 'ASC' /* FIXME: make this shared with RUM_query_model */}\n          onChange={(v) => {\n            onAppliedChange({ ...query, orderByTime: v });\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection label=\"LIMIT\" fill={true}>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.limit?.toString()}\n          onChange={(limit) => {\n            onAppliedChange({ ...query, limit });\n          }}\n        />\n        <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n          SLIMIT\n        </InlineLabel>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.slimit?.toString()}\n          onChange={(slimit) => {\n            onAppliedChange({ ...query, slimit });\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection htmlFor={formatAsId} label=\"FORMAT AS\" fill={true}>\n        <FormatAsSection\n          inputId={formatAsId}\n          format={query.resultFormat ?? DEFAULT_RESULT_FORMAT}\n          onChange={(format) => {\n            onAppliedChange({ ...query, resultFormat: format });\n          }}\n        />\n        {query.resultFormat !== 'table' && (\n          <>\n            <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n              ALIAS\n            </InlineLabel>\n            <InputSection\n              isWide\n              placeholder=\"Naming pattern\"\n              value={query.alias}\n              onChange={(alias) => {\n                onAppliedChange({ ...query, alias });\n              }}\n            />\n          </>\n        )}\n      </SegmentSection>\n    </div>\n  );\n});\n\nfunction getStyles(theme: GrafanaTheme) {\n  return {\n    inlineLabel: css`\n      color: #33a2e5;\n    `,\n  };\n}\n\nRUMServiceQueryEditor.displayName = 'RUMServiceQueryEditor';\n","import { useRef } from 'react';\nimport { uniqueId } from 'lodash';\n\nexport function useUniqueId(): string {\n  // we need to lazy-init this ref.\n  // otherwise we would call `uniqueId`\n  // on every render. unfortunately\n  // useRef does not have lazy-init builtin,\n  // like useState does. we do it manually.\n  const idRefLazy = useRef<string | null>(null);\n\n  if (idRefLazy.current === null) {\n    idRefLazy.current = uniqueId();\n  }\n\n  return idRefLazy.current;\n}\n","import { cloneDeep } from 'lodash';\nimport RUMQueryModel from './RUM_query_model';\nimport { RUMQuery } from './types';\n\nexport function normalizeQuery(query: RUMQuery): RUMQuery {\n  // we return the original query if there is no need to update it\n  if (\n    query.policy !== undefined &&\n    query.resultFormat !== undefined &&\n    query.orderByTime !== undefined &&\n    query.tags !== undefined &&\n    query.groupBy !== undefined &&\n    query.select !== undefined\n  ) {\n    return query;\n  }\n\n  // FIXME: we should move the whole normalizeQuery logic here,\n  // and then have RUMQueryModel call this function,\n  // to concentrate the whole logic here\n\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  return new RUMQueryModel(queryCopy).target;\n}\n\nexport function addNewSelectPart(query: RUMQuery, type: string, index: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.addSelectPart(model.selectModels[index], type);\n  return model.target;\n}\n\nexport function removeSelectPart(query: RUMQuery, partIndex: number, index: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  const selectModel = model.selectModels[index];\n  model.removeSelectPart(selectModel, selectModel[partIndex]);\n  return model.target;\n}\n\nexport function changeSelectPart(\n  query: RUMQuery,\n  listIndex: number,\n  partIndex: number,\n  newParams: string[]\n): RUMQuery {\n  // we need to make shallow copy of `query.select` down to `query.select[listIndex][partIndex]`\n  const newSel = [...(query.select ?? [])];\n  newSel[listIndex] = [...newSel[listIndex]];\n  newSel[listIndex][partIndex] = {\n    ...newSel[listIndex][partIndex],\n    params: newParams,\n  };\n  return { ...query, select: newSel };\n}\n\nexport function addNewGroupByPart(query: RUMQuery, type: string): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.addGroupBy(type);\n  return model.target;\n}\n\nexport function removeGroupByPart(query: RUMQuery, partIndex: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.removeGroupByPart(model.groupByParts[partIndex], partIndex);\n  return model.target;\n}\n\nexport function changeGroupByPart(query: RUMQuery, partIndex: number, newParams: string[]): RUMQuery {\n  // we need to make shallow copy of `query.groupBy` down to `query.groupBy[partIndex]`\n  const newGroupBy = [...(query.groupBy ?? [])];\n  newGroupBy[partIndex] = {\n    ...newGroupBy[partIndex],\n    params: newParams,\n  };\n  return { ...query, groupBy: newGroupBy };\n}\n","import React, { PureComponent } from 'react';\nimport { DataSourceApi, QueryEditorProps } from '@grafana/data';\nimport { TCMonitorDatasourceQueryCtrl } from './query-ctrl/query.ctrl';\nimport { QueryCtrlRender } from './query-ctrl/QueryCtrlRender';\nimport { MyDataSourceOptions, QueryInfo, ServiceType, ServiceTypeOptions } from './types';\nimport { Alert, Tab, TabContent, TabsBar } from '@grafana/ui';\nimport { LogServiceQueryEditor } from './log-service/LogServiceQueryEditor';\nimport { RUMServiceQueryEditor } from './rum-service/RUMServiceQueryEditor';\nimport { DataSource } from './DataSource';\nimport { setLanguage, Language } from '../locale';\nimport { CoreApp } from './common/constants';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\nexport class QueryEditor extends PureComponent<Props> {\n  state = {\n    isAlertVisiable: false,\n  };\n\n  constructor(props) {\n    super(props);\n    setLanguage(props.datasource.instanceSettings.jsonData.language || Language.Chinese);\n  }\n\n  componentDidMount() {\n    const { query } = this.props;\n    // @ts-ignore\n    const app = this.props.app as CoreApp;\n    if (app === CoreApp.UnifiedAlerting) {\n      //  \n      this.partialOnChange({ serviceType: ServiceType.logService });\n      return;\n    }\n    const firstEnabledService = this.enabledServices[0];\n    if (!query.serviceType && firstEnabledService) {\n      this.partialOnChange({ serviceType: firstEnabledService });\n    }\n  }\n\n  partialOnChange = (queryInfo: Partial<QueryInfo>) => {\n    const { onChange, query: oldQuery } = this.props;\n    // @ts-ignore\n    const app = this.props.app as CoreApp;\n    const newQuery = { ...oldQuery, ...queryInfo } as unknown as QueryInfo;\n    if (app === CoreApp.UnifiedAlerting) {\n      //  \n      if (newQuery.serviceType === ServiceType.logService) {\n        onChange(newQuery);\n        this.setState({\n          isAlertVisiable: false,\n        });\n      } else {\n        this.setState({\n          isAlertVisiable: true,\n        });\n      }\n    } else {\n      onChange(newQuery);\n    }\n  };\n\n  get enabledServices() {\n    const { datasource } = this.props;\n    const monitorEnabled = datasource?.monitorDataSource.getNamespaces().length > 0;\n    const logServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['logServiceEnabled']);\n    const RUMServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['RUMServiceEnabled']);\n    return [\n      monitorEnabled && ServiceType.monitor,\n      logServiceEnabled && ServiceType.logService,\n      RUMServiceEnabled && ServiceType.RUMService,\n    ].filter(Boolean);\n  }\n\n  render() {\n    const { datasource, query: queryInfo } = this.props;\n    const { isAlertVisiable } = this.state;\n    if (!datasource) {\n      return <div>loading</div>;\n    }\n    return (\n      <div>\n        {this.enabledServices.length > 1 && (\n          <TabsBar>\n            {ServiceTypeOptions.filter((item) => this.enabledServices.includes(item.value)).map((item) => (\n              <Tab\n                key={item.value}\n                label={item.label}\n                active={queryInfo.serviceType === item.value}\n                onChangeTab={() => {\n                  this.partialOnChange({ serviceType: item.value });\n                }}\n              />\n            ))}\n          </TabsBar>\n        )}\n        <TabContent>\n          {queryInfo.serviceType === ServiceType.monitor && this.renderMonitorQueryEditor()}\n          {queryInfo.serviceType === ServiceType.logService && this.renderLogServiceQueryEditor()}\n          {queryInfo.serviceType === ServiceType.RUMService && this.renderRUMServiceQueryEditor()}\n        </TabContent>\n        {isAlertVisiable && <Alert title=\" CLS \" />}\n      </div>\n    );\n  }\n\n  renderMonitorQueryEditor() {\n    const monitorDataSource: DataSourceApi = (this.props.datasource as any).monitorDataSource;\n    return (\n      monitorDataSource && (\n        <QueryCtrlRender {...this.props} queryCtrl={TCMonitorDatasourceQueryCtrl} datasource={monitorDataSource} />\n      )\n    );\n  }\n\n  renderLogServiceQueryEditor() {\n    return <LogServiceQueryEditor {...this.props} />;\n  }\n\n  renderRUMServiceQueryEditor() {\n    const { query, onChange, onRunQuery, datasource } = this.props;\n    return (\n      <RUMServiceQueryEditor query={query} onChange={onChange} onRunQuery={onRunQuery} datasource={datasource as any} />\n    );\n  }\n}\n","import { InlineField, InlineFieldRow, Input, RadioButtonGroup } from '@grafana/ui';\nimport React, { useCallback } from 'react';\nimport { defaultQueryInfo, ServiceType, ServiceTypeOptions, VariableQuery } from './types';\nimport { DataSource } from './DataSource';\nimport { LogServiceQueryEditor } from './log-service/LogServiceQueryEditor';\nimport { useLatest } from 'react-use';\nimport { clone, isString } from 'lodash';\n\ninterface VariableQueryProps {\n  query: VariableQuery;\n  onChange: (v: VariableQuery, definition: string) => void;\n  datasource: DataSource;\n}\n\nconst InfoPopver: React.FC<any> = () => {\n  return (\n    <a target=\"_blank\" href=\"https://cloud.tencent.com/document/product/248/54510\">\n      Click here for more information of query\n    </a>\n  );\n};\nexport const VariableQueryEditor: React.FC<VariableQueryProps> = (props) => {\n  const propsRef = useLatest(props);\n  const { query, datasource } = props;\n\n  const onQueryChange = useCallback(\n    (newQuery: VariableQuery) => {\n      const { onChange } = propsRef.current;\n      let definition;\n      if (newQuery.serviceType === ServiceType.logService) {\n        definition = `SQL:  ${newQuery.logServiceParams?.Query}`;\n      } else {\n        definition = newQuery.queryString;\n      }\n      onChange?.(newQuery, definition);\n    },\n    [propsRef]\n  );\n  return (\n    <>\n      <InlineFieldRow>\n        <InlineField label=\"\" labelWidth={20}>\n          <RadioButtonGroup\n            options={ServiceTypeOptions}\n            value={isString(query) ? ServiceType.monitor : query.serviceType}\n            onChange={(type) => {\n              if (type === ServiceType.monitor) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n              if (type === ServiceType.logService){\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                  logServiceParams: clone(defaultQueryInfo.logServiceParams),\n                });\n              }\n              if (type === ServiceType.RUMService) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n            }}\n          />\n        </InlineField>\n      </InlineFieldRow>\n      {query.serviceType === ServiceType.logService && (\n        <>\n          {/*  */}\n          <LogServiceQueryEditor\n            datasource={datasource}\n            query={query as unknown as any}\n            onRunQuery={() => {}}\n            onChange={(v) => {\n              onQueryChange({\n                serviceType: ServiceType.logService,\n                queryString: '',\n                logServiceParams: v.logServiceParams,\n              });\n            }}\n          />\n        </>\n      )}\n      {query.serviceType === ServiceType.RUMService && (\n        <InlineFieldRow>\n          <InlineField label=\"\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              placeholder=\"metric name or tags query\"\n              onChange={(e) => onQueryChange({\n                serviceType: ServiceType.RUMService,\n                queryString: e.currentTarget.value\n              })}\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {(isString(query) || query.serviceType === ServiceType.monitor) && (\n        <InlineFieldRow>\n          <InlineField label=\"\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              onChange={(e) => onQueryChange({\n                serviceType: ServiceType.monitor,\n                queryString: e.currentTarget.value\n              })}\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n    </>\n  );\n};\nVariableQueryEditor.displayName = 'VariableQueryEditor';\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexport var config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = /*@__PURE__*/ new Error();\n            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\n//# sourceMappingURL=hostReportError.js.map\n","/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nexport var empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isObject(x) {\n    return x !== null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexport var UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map\n","/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\nimport { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nvar Subscription = /*@__PURE__*/ (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._ctorUnsubscribe = true;\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction(_unsubscribe)) {\n            if (_ctorUnsubscribe) {\n                this._unsubscribe = undefined;\n            }\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var rxSubscriber = /*@__PURE__*/ (function () {\n    return typeof Symbol === 'function'\n        ? /*@__PURE__*/ Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n})();\nexport var $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n","/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\n//# sourceMappingURL=Subscriber.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nvar MapOperator = /*@__PURE__*/ (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexport { MapOperator };\nvar MapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=map.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map\n","/** PURE_IMPORTS_START _identity PURE_IMPORTS_END */\nimport { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n","/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nvar Observable = /*@__PURE__*/ (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n","/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n","/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nexport function canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=canReportError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n    function ObjectUnsubscribedErrorImpl() {\n        Error.call(this);\n        this.message = 'object unsubscribed';\n        this.name = 'ObjectUnsubscribedError';\n        return this;\n    }\n    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n})();\nexport var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\nvar SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nvar SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\nvar Subject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function refCount() {\n    return function refCountOperatorFunction(source) {\n        return source.lift(new RefCountOperator(source));\n    };\n}\nvar RefCountOperator = /*@__PURE__*/ (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=refCount.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_Observable,_Subscriber,_Subscription,_operators_refCount PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SubjectSubscriber } from '../Subject';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { refCount as higherOrderRefCount } from '../operators/refCount';\nvar ConnectableObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ConnectableObservable, _super);\n    function ConnectableObservable(source, subjectFactory) {\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.subjectFactory = subjectFactory;\n        _this._refCount = 0;\n        _this._isComplete = false;\n        return _this;\n    }\n    ConnectableObservable.prototype._subscribe = function (subscriber) {\n        return this.getSubject().subscribe(subscriber);\n    };\n    ConnectableObservable.prototype.getSubject = function () {\n        var subject = this._subject;\n        if (!subject || subject.isStopped) {\n            this._subject = this.subjectFactory();\n        }\n        return this._subject;\n    };\n    ConnectableObservable.prototype.connect = function () {\n        var connection = this._connection;\n        if (!connection) {\n            this._isComplete = false;\n            connection = this._connection = new Subscription();\n            connection.add(this.source\n                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n            if (connection.closed) {\n                this._connection = null;\n                connection = Subscription.EMPTY;\n            }\n        }\n        return connection;\n    };\n    ConnectableObservable.prototype.refCount = function () {\n        return higherOrderRefCount()(this);\n    };\n    return ConnectableObservable;\n}(Observable));\nexport { ConnectableObservable };\nexport var connectableObservableDescriptor = /*@__PURE__*/ (function () {\n    var connectableProto = ConnectableObservable.prototype;\n    return {\n        operator: { value: null },\n        _refCount: { value: 0, writable: true },\n        _subject: { value: null, writable: true },\n        _connection: { value: null, writable: true },\n        _subscribe: { value: connectableProto._subscribe },\n        _isComplete: { value: connectableProto._isComplete, writable: true },\n        getSubject: { value: connectableProto.getSubject },\n        connect: { value: connectableProto.connect },\n        refCount: { value: connectableProto.refCount }\n    };\n})();\nvar ConnectableSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ConnectableSubscriber, _super);\n    function ConnectableSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    ConnectableSubscriber.prototype._error = function (err) {\n        this._unsubscribe();\n        _super.prototype._error.call(this, err);\n    };\n    ConnectableSubscriber.prototype._complete = function () {\n        this.connectable._isComplete = true;\n        this._unsubscribe();\n        _super.prototype._complete.call(this);\n    };\n    ConnectableSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (connectable) {\n            this.connectable = null;\n            var connection = connectable._connection;\n            connectable._refCount = 0;\n            connectable._subject = null;\n            connectable._connection = null;\n            if (connection) {\n                connection.unsubscribe();\n            }\n        }\n    };\n    return ConnectableSubscriber;\n}(SubjectSubscriber));\nvar RefCountOperator = /*@__PURE__*/ (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=ConnectableObservable.js.map\n","/** PURE_IMPORTS_START _observable_ConnectableObservable PURE_IMPORTS_END */\nimport { connectableObservableDescriptor } from '../observable/ConnectableObservable';\nexport function multicast(subjectOrSubjectFactory, selector) {\n    return function multicastOperatorFunction(source) {\n        var subjectFactory;\n        if (typeof subjectOrSubjectFactory === 'function') {\n            subjectFactory = subjectOrSubjectFactory;\n        }\n        else {\n            subjectFactory = function subjectFactory() {\n                return subjectOrSubjectFactory;\n            };\n        }\n        if (typeof selector === 'function') {\n            return source.lift(new MulticastOperator(subjectFactory, selector));\n        }\n        var connectable = Object.create(source, connectableObservableDescriptor);\n        connectable.source = source;\n        connectable.subjectFactory = subjectFactory;\n        return connectable;\n    };\n}\nvar MulticastOperator = /*@__PURE__*/ (function () {\n    function MulticastOperator(subjectFactory, selector) {\n        this.subjectFactory = subjectFactory;\n        this.selector = selector;\n    }\n    MulticastOperator.prototype.call = function (subscriber, source) {\n        var selector = this.selector;\n        var subject = this.subjectFactory();\n        var subscription = selector(subject).subscribe(subscriber);\n        subscription.add(source.subscribe(subject));\n        return subscription;\n    };\n    return MulticastOperator;\n}());\nexport { MulticastOperator };\n//# sourceMappingURL=multicast.js.map\n","/** PURE_IMPORTS_START _multicast,_refCount,_Subject PURE_IMPORTS_END */\nimport { multicast } from './multicast';\nimport { refCount } from './refCount';\nimport { Subject } from '../Subject';\nfunction shareSubjectFactory() {\n    return new Subject();\n}\nexport function share() {\n    return function (source) { return refCount()(multicast(shareSubjectFactory)(source)); };\n}\n//# sourceMappingURL=share.js.map\n","import moment from 'moment';\nimport { IAnalysisColumn } from '../model/interface';\nimport { FieldType } from '@grafana/data';\n\nconst ProcessorUtils = {\n  timestampWithTimeZoneRegex: /(\\w+)\\[[\\w/]+]/g,\n};\n\n/** PrestoFieldType\n * @doc https://iwiki.woa.com/pages/viewpage.action?pageId=905584985 */\nconst PrestoAndFieldTypeMap: Omit<IAnalysisColumn, 'Name' | 'Type'>[] = [\n  /**  */\n  {\n    prestoTypeRegex: /^timestamp with time zone$/,\n    fieldType: FieldType.time,\n    // zoneeg: 2021-11-26T18:41:24+08:00[Asia/Shanghai]\n    processor: (value: string) => {\n      const newValue = String(value).replace(ProcessorUtils.timestampWithTimeZoneRegex, '$1');\n      if (moment(newValue).isValid()) {\n        return newValue;\n      }\n      return value;\n    },\n  },\n  {\n    prestoTypeRegex: /^timestamp$|^date$|^datetime$/,\n    fieldType: FieldType.time,\n    // processor: moment,\n  },\n  {\n    prestoTypeRegex: /^time$/,\n    fieldType: FieldType.time,\n    // processor: null,\n  },\n  /**  */\n  {\n    prestoTypeRegex: /^tinyint$|^samllint$|^integer$|^bigint$|^long$/,\n    fieldType: FieldType.number,\n    // processor: Number,\n  },\n  {\n    prestoTypeRegex: /^real$|^double$|^decimal$/,\n    fieldType: FieldType.number,\n    // processor: Number,\n  },\n  /**  */\n  {\n    prestoTypeRegex: /^varchar$|^char$|^text$|^keyword$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^boolean$/,\n    fieldType: FieldType.boolean,\n    // processor: Boolean,\n  },\n\n  /**  */\n  {\n    prestoTypeRegex: /^uuid$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^ipaddress$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^array\\(.*\\)$/,\n    fieldType: FieldType.other,\n    // processor: Array.from,\n  },\n  {\n    prestoTypeRegex: /^json$/,\n    fieldType: FieldType.other,\n    // processor: JSON.parse,\n  },\n  {\n    prestoTypeRegex: /^map\\(.*\\)$/, // /^map\\([\\w\\s,]+,[\\w\\s,]+\\)$/,\n    fieldType: FieldType.other,\n    // processor: (i) => i,\n  },\n  {\n    prestoTypeRegex: /^varbinary$/,\n    fieldType: FieldType.other,\n    // processor: Array.from,\n  },\n  {\n    prestoTypeRegex: /^interval$/,\n    fieldType: FieldType.other,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^row$/,\n    fieldType: FieldType.other,\n    // processor: String,\n  },\n];\n\nexport function getFieldTypeByPrestoType(prestoType: string): Omit<IAnalysisColumn, 'Name' | 'Type'> {\n  return (\n    PrestoAndFieldTypeMap.find((item) => item.prestoTypeRegex.test(prestoType)) || {\n      prestoTypeRegex: /.*/,\n      fieldType: FieldType.other,\n    }\n  );\n}\n","import { ISearchLogResult, ITopicInfo } from '../model';\nimport { DataFrame, DataFrameDTO, FieldDTO, FieldType, toDataFrame } from '@grafana/data';\nimport _ from 'lodash';\nimport { parseLogJsonStr } from './formatSearchLog';\n\n/** SearchResultsDataFrame */\nexport function ConvertSearchResultsToDataFrame(\n  searchLogResult: ISearchLogResult,\n  topic: Partial<ITopicInfo>\n): DataFrame {\n  const frameDTO = searchLogResult.Analysis\n    ? ConvertAnalysisJsonToDataFrameDTO(searchLogResult)\n    : ConvertLogJsonToDataFrameDTO(searchLogResult, topic);\n  return toDataFrame(frameDTO);\n}\n\nfunction ConvertAnalysisJsonToDataFrameDTO(searchLogResult: ISearchLogResult): DataFrameDTO {\n  const { analysisRecords = [], analysisColumns = [] } = searchLogResult ?? {};\n\n  const fields: FieldDTO[] = analysisColumns.map((column) => {\n    const values = analysisRecords.map((r) => r?.[column.Name!]);\n    return {\n      name: column.Name,\n      type: column.fieldType as any,\n      values,\n    };\n  });\n  return {\n    name: '',\n    fields,\n  };\n}\n\nexport const enum LogFieldReservedName {\n  TIMESTAMP = '__TIMESTAMP__',\n  LogJson = '__LogJson__',\n  SOURCE = '__SOURCE__',\n  Filename = '__FILENAME__',\n  HostName = '__HOSTNAME__',\n  META = '__META__',\n}\n\nfunction ConvertLogJsonToDataFrameDTO(searchLogResult: ISearchLogResult, topic: Partial<ITopicInfo>): DataFrameDTO {\n  const { Results = [] } = searchLogResult;\n  // Log\n  // Grafana logSeriesToLogsModelhttps://github.com/grafana/grafana/blob/faca526c169a9a61f119b6fc2819f5a8dfff7ed7/public/app/core/logs_model.ts#L315\n  // Grafana testData runLogsStreamhttps://github.com/grafana/grafana/blob/faca526c169a9a61f119b6fc2819f5a8dfff7ed7/public/app/plugins/datasource/testdata/runStreams.ts#L131\n\n  const timeField: FieldDTO<number> = {\n    name: LogFieldReservedName.TIMESTAMP,\n    type: FieldType.time,\n    values: [],\n  };\n  const logField: FieldDTO<string> = {\n    name: LogFieldReservedName.LogJson,\n    //  \n    type: FieldType.string,\n    config: {\n      custom: { displayMode: 'json-view' },\n    },\n    values: [],\n  };\n  const sourceField: FieldDTO<string> = {\n    name: LogFieldReservedName.SOURCE,\n    type: FieldType.string,\n    values: [],\n  };\n  const filenameField: FieldDTO<string> = {\n    name: LogFieldReservedName.Filename,\n    type: FieldType.string,\n    values: [],\n  };\n  const hostnameField: FieldDTO<string> = {\n    name: LogFieldReservedName.HostName,\n    type: FieldType.string,\n    values: [],\n  };\n  const metaField: FieldDTO<any> = {\n    //  Explore \n    name: LogFieldReservedName.META,\n    type: FieldType.other,\n    config: {\n      custom: {\n        hidden: true,\n      },\n    },\n    labels: { region: topic.region, TopicId: topic.TopicId },\n    values: [],\n  };\n\n  Results.forEach((logItem) => {\n    (timeField.values as number[]).push(logItem['Time']);\n    (sourceField.values as string[]).push(logItem['Source']);\n    (filenameField.values as string[]).push(logItem['FileName']);\n    (hostnameField.values as string[]).push(logItem['HostName']);\n    (metaField.values as any[]).push(JSON.stringify(_.pick(logItem, ['PkgId', 'PkgLogId'])));\n    try {\n      const logJson = parseLogJsonStr(logItem.LogJson);\n\n      /**  LogsParsers.JSON \n       * https://github.com/grafana/grafana/issues/54959\n       */\n      //  string | object, Grafana\n      (logField.values as string[]).push(JSON.stringify(logJson));\n\n      /**  LogsParsers.logfmt LogDetail */\n      // let logStr = '';\n      // Object.entries(logJson).forEach(([k, v])=>{\n      //   logStr += `${k}=${_.isObject(v) ? JSON.stringify(v) : `${v}` } `\n      // });\n      // (logField.values as string[]).push(logStr);\n    } catch (e) {}\n  });\n\n  const frameDTO: DataFrameDTO = {\n    name: '',\n    meta: {\n      preferredVisualisationType: 'logs',\n      custom: {\n        RequestId: (searchLogResult as any).RequestId,\n        SamplingRate: searchLogResult.SamplingRate,\n      },\n      executedQueryString: searchLogResult.Query,\n    },\n    fields: [timeField, logField, sourceField, filenameField, hostnameField, metaField],\n  };\n  return frameDTO;\n}\n","import { IAnalysisColumn, ISearchLogResult, TYPES } from '../model';\n\nimport { getFieldTypeByPrestoType } from './prestoType';\n\nexport function formatSearchLog(param: TYPES.SearchLogResult): ISearchLogResult {\n  const { Analysis, AnalysisRecords = [], Columns = [] } = param;\n  const analysisColumns: IAnalysisColumn[] = [];\n  const analysisRecords: Object[] = [];\n  if (Analysis) {\n    Columns.forEach((column) => {\n      const analysisColumn = getFieldTypeByPrestoType(column.Type);\n      analysisColumns.push({\n        ...column,\n        ...analysisColumn,\n      });\n    });\n    AnalysisRecords.forEach((record) => {\n      try {\n        analysisRecords.push(JSON.parse(record));\n      } catch (e) {\n        analysisRecords.push({});\n      }\n    });\n\n    for (const column of analysisColumns) {\n      if (column.processor) {\n        analysisRecords.forEach((record) => {\n          // eslint-disable-next-line no-param-reassign\n          record[column.Name] = column.processor(record[column.Name]);\n        });\n      }\n    }\n  }\n  return {\n    ...param,\n    analysisRecords,\n    analysisColumns,\n  };\n}\n\n/** stringify __TAG__ */\nexport function parseLogJsonStr(logJsonStr: string): Record<string, any> {\n  try {\n    const logJson = JSON.parse(logJsonStr);\n    const tagContent = logJson['__TAG__'];\n    delete logJson.__TAG__;\n    if (tagContent) {\n      Object.entries(tagContent).forEach(([tagKey, tagValue]) => {\n        logJson[`__TAG__.${tagKey}`] = tagValue;\n      });\n    }\n    return logJson;\n  } catch (e) {\n    console.error('parseLogJsonStr', e);\n    return {};\n  }\n}\n","/* eslint-disable eqeqeq,no-eq-null,max-depth,guard-for-in,no-fallthrough */\n// @link: https://github.com/grafana/grafana/blob/b4faee786f3c3c1e09543ef768f2e2daee429ec7/public/app/core/components/TransformersUI/prepareTimeSeries/prepareTimeSeries.ts\nimport { DataFrame, FieldType, Field, MutableDataFrame, ArrayVector } from '@grafana/data';\n\nexport enum DataFrameType {\n  TimeSeriesWide = 'timeseries-wide',\n  TimeSeriesLong = 'timeseries-long',\n  TimeSeriesMany = 'timeseries-many',\n}\n\ntype Labels = Record<string, string>;\n/**\n * There is currently an effort to figure out consistent names\n * for the various formats/types we produce and use.\n *\n * This transformer will eventually include the required metadata that can assert\n * a DataFrame[] is of a given type\n *\n * @internal -- TBD\n */\nexport enum timeSeriesFormat {\n  TimeSeriesWide = 'wide', // [time,...values]\n  TimeSeriesMany = 'many', // All frames have [time,number]\n  TimeSeriesLong = 'long',\n}\n\n/**\n * Convert to [][time,number]\n */\nexport function toTimeSeriesMany(data: DataFrame[]): DataFrame[] {\n  if (!Array.isArray(data) || data.length === 0) {\n    return data;\n  }\n\n  const result: DataFrame[] = [];\n  for (const frame of toTimeSeriesLong(data)) {\n    const timeField = frame.fields[0];\n    if (!timeField || timeField.type !== FieldType.time) {\n      continue;\n    }\n    const valueFields: Field[] = [];\n    const labelFields: Field[] = [];\n    for (const field of frame.fields) {\n      switch (field.type) {\n        case FieldType.number:\n        case FieldType.boolean:\n          valueFields.push(field);\n          break;\n        case FieldType.string:\n          labelFields.push(field);\n          break;\n      }\n    }\n\n    for (const field of valueFields) {\n      if (labelFields.length) {\n        // new frame for each label key\n        interface frameBuilder {\n          time: number[];\n          value: number[];\n          key: string;\n          labels: Labels;\n        }\n        const builders = new Map<string, frameBuilder>();\n        for (let i = 0; i < frame.length; i++) {\n          const time = timeField.values.get(i);\n          const value = field.values.get(i);\n          if (value === undefined || time == null) {\n            continue; // skip values left over from join\n          }\n\n          const key = labelFields.map((f) => f.values.get(i)).join('/');\n          let builder = builders.get(key);\n          if (!builder) {\n            builder = {\n              key,\n              time: [],\n              value: [],\n              labels: {},\n            };\n            for (const label of labelFields) {\n              builder.labels[label.name] = label.values.get(i);\n            }\n            builders.set(key, builder);\n          }\n          builder.time.push(time);\n          builder.value.push(value);\n        }\n\n        // Add a frame for each distinct value\n        builders.forEach((b) => {\n          result.push({\n            name: frame.name,\n            refId: frame.refId,\n            meta: {\n              ...frame.meta,\n              type: DataFrameType.TimeSeriesMany,\n            } as any,\n            fields: [\n              {\n                ...timeField,\n                values: new ArrayVector(b.time),\n              },\n              {\n                ...field,\n                values: new ArrayVector(b.value),\n                labels: b.labels,\n              },\n            ],\n            length: b.time.length,\n          });\n        });\n      } else {\n        result.push({\n          name: frame.name,\n          refId: frame.refId,\n          meta: {\n            ...frame.meta,\n            type: DataFrameType.TimeSeriesMany,\n          } as any,\n          fields: [timeField, field],\n          length: frame.length,\n        });\n      }\n    }\n  }\n  return result;\n}\n\nfunction toTimeSeriesLong(data: DataFrame[]): DataFrame[] {\n  if (!Array.isArray(data) || data.length === 0) {\n    return data;\n  }\n\n  const result: DataFrame[] = [];\n  for (const frame of data) {\n    let timeField: Field | undefined;\n    const uniqueValueNames: string[] = [];\n    const uniqueValueNamesToType: Record<string, FieldType> = {};\n    const uniqueLabelKeys: Record<string, boolean> = {};\n    const labelKeyToWideIndices: Record<string, number[]> = {};\n    const uniqueFactorNamesToWideIndex: Record<string, number> = {};\n\n    for (let fieldIndex = 0; fieldIndex < frame.fields.length; fieldIndex++) {\n      const field = frame.fields[fieldIndex];\n\n      switch (field.type) {\n        case FieldType.string:\n        case FieldType.boolean:\n          if (field.name in uniqueFactorNamesToWideIndex) {\n            // TODO error?\n          } else {\n            uniqueFactorNamesToWideIndex[field.name] = fieldIndex;\n            uniqueLabelKeys[field.name] = true;\n          }\n          break;\n        case FieldType.time:\n          if (!timeField) {\n            timeField = field;\n            break;\n          }\n        default: {\n          if (field.name in uniqueValueNamesToType) {\n            const type = uniqueValueNamesToType[field.name];\n\n            if (field.type !== type) {\n              // TODO error?\n              continue;\n            }\n          } else {\n            uniqueValueNamesToType[field.name] = field.type;\n            uniqueValueNames.push(field.name);\n          }\n\n          const tKey = JSON.stringify(field.labels);\n          const wideIndices = labelKeyToWideIndices[tKey];\n\n          if (wideIndices !== undefined) {\n            wideIndices.push(fieldIndex);\n          } else {\n            labelKeyToWideIndices[tKey] = [fieldIndex];\n          }\n\n          if (field.labels != null) {\n            for (const labelKey in field.labels) {\n              uniqueLabelKeys[labelKey] = true;\n            }\n          }\n        }\n      }\n    }\n\n    if (!timeField) {\n      continue;\n    }\n\n    interface TimeWideRowIndex {\n      time: any;\n      wideRowIndex: number;\n    }\n    const sortedTimeRowIndices: TimeWideRowIndex[] = [];\n    const sortedUniqueLabelKeys: string[] = [];\n    const uniqueFactorNames: string[] = [];\n    const uniqueFactorNamesWithWideIndices: string[] = [];\n\n    for (let wideRowIndex = 0; wideRowIndex < frame.length; wideRowIndex++) {\n      sortedTimeRowIndices.push({ time: timeField.values.get(wideRowIndex), wideRowIndex });\n    }\n\n    for (const labelKeys in labelKeyToWideIndices) {\n      sortedUniqueLabelKeys.push(labelKeys);\n    }\n    for (const labelKey in uniqueLabelKeys) {\n      uniqueFactorNames.push(labelKey);\n    }\n    for (const name in uniqueFactorNamesToWideIndex) {\n      uniqueFactorNamesWithWideIndices.push(name);\n    }\n\n    sortedTimeRowIndices.sort((a, b) => a.time - b.time);\n    sortedUniqueLabelKeys.sort();\n    uniqueFactorNames.sort();\n    uniqueValueNames.sort();\n\n    const longFrame = new MutableDataFrame({\n      ...frame,\n      meta: { ...frame.meta, type: DataFrameType.TimeSeriesLong } as any,\n      fields: [{ name: timeField.name, type: timeField.type }],\n    });\n\n    for (const name of uniqueValueNames) {\n      longFrame.addField({ name, type: uniqueValueNamesToType[name] });\n    }\n\n    for (const name of uniqueFactorNames) {\n      longFrame.addField({ name, type: FieldType.string });\n    }\n\n    for (const timeWideRowIndex of sortedTimeRowIndices) {\n      const { time, wideRowIndex } = timeWideRowIndex;\n\n      for (const labelKeys of sortedUniqueLabelKeys) {\n        const rowValues: Record<string, any> = {};\n\n        for (const name of uniqueFactorNamesWithWideIndices) {\n          rowValues[name] = frame.fields[uniqueFactorNamesToWideIndex[name]].values.get(wideRowIndex);\n        }\n\n        let index = 0;\n\n        for (const wideFieldIndex of labelKeyToWideIndices[labelKeys]) {\n          const wideField = frame.fields[wideFieldIndex];\n\n          if (index === 0 && wideField.labels != null) {\n            for (const labelKey in wideField.labels) {\n              rowValues[labelKey] = wideField.labels[labelKey];\n            }\n          }\n          index += 1;\n\n          rowValues[wideField.name] = wideField.values.get(wideRowIndex);\n        }\n\n        rowValues[timeField.name] = time;\n        longFrame.add(rowValues);\n      }\n    }\n\n    result.push(longFrame);\n  }\n\n  return result;\n}\n","import { getTemplateSrv } from '@grafana/runtime';\nimport { QueryInfo } from '../../../types';\n\n/**\n * \n */\nexport const CQL_SPLIT_PATTERN = /(\\s*\\|\\s*)(select\\b.*)/i;\n\n/**\n * @param queryString \n * @description \n */\nexport function isQueryContainSql(queryString: string): boolean {\n  const pattern = CQL_SPLIT_PATTERN;\n  return pattern.test(queryString);\n}\n\n/**\n * query\n */\nexport function getQueryLucene(queryString = ''): string {\n  const querySplit = queryString.split(CQL_SPLIT_PATTERN);\n  let luceneQuery = '';\n  if (querySplit.length === 1) {\n    //  lucene \n    luceneQuery = queryString;\n  } else if (querySplit.length >= 2) {\n    luceneQuery = querySplit[0];\n  } else {\n    // \n    return '';\n  }\n  return luceneQuery;\n}\n\nexport function replaceClsQueryWithTemplateSrv(queryString: string, scopedVars: any = {}): string {\n  const luceneQuery = getQueryLucene(queryString ?? '');\n  const sqlQuery = (queryString ?? '').slice(luceneQuery.length);\n  const Query =\n    getTemplateSrv().replace(luceneQuery, scopedVars, 'lucene') + getTemplateSrv().replace(sqlQuery, scopedVars, 'raw');\n  return Query;\n}\n\nexport function addQueryResultLimit(queryString: string, logServiceParams: QueryInfo['logServiceParams']) {\n  const luceneQuery = getQueryLucene(queryString ?? '');\n  const sqlQuery = (queryString ?? '').slice(luceneQuery.length);\n  const resultLimit = logServiceParams.MaxResultNum;\n\n  if (!resultLimit || !sqlQuery) {\n    //   sql resultLimit \n    return queryString;\n  }\n  if (/limit/.test(sqlQuery)) {\n    //   limit \n    return queryString;\n  } else {\n    return queryString + ' limit ' + resultLimit;\n  }\n}\n","import { MyDataSourceOptions, QueryInfo } from '../types';\nimport {\n  DataFrame,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceApi,\n  DataSourceInstanceSettings,\n  FieldType,\n  LoadingState,\n  LogRowModel,\n  MetricFindValue,\n} from '@grafana/data';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport { DescribeLogContext, LogInfo, SearchLog } from './common/model';\nimport {\n  ConvertLogContextToDataFrame,\n  ConvertSearchResultsToDataFrame,\n  formatSearchLog,\n  LogFieldReservedName,\n} from './common/format';\nimport { RowContextOptions } from '@grafana/ui/components/Logs/LogRowContextProvider';\nimport moment from 'moment';\nimport { toTimeSeriesMany } from './common/format/prepareTimeSeries';\nimport { addQueryResultLimit, replaceClsQueryWithTemplateSrv } from './common/utils/query';\n\nexport class LogServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\n    super(instanceSettings);\n    this.instanceSettings = instanceSettings;\n  }\n\n  query(request: DataQueryRequest<QueryInfo>) {\n    const { range, targets, scopedVars } = request;\n    const [from, to] = [range.from, range.to].map((item) => item.valueOf()) as number[];\n    const requestTargets = targets.map<QueryInfo>((target) => {\n      const region = target.logServiceParams?.region ? getTemplateSrv().replace(target.logServiceParams.region) : '';\n      const TopicId = target.logServiceParams?.TopicId ? getTemplateSrv().replace(target.logServiceParams.TopicId) : '';\n      const Query = addQueryResultLimit(\n        replaceClsQueryWithTemplateSrv(target.logServiceParams?.Query || '', scopedVars),\n        target.logServiceParams\n      );\n\n      return {\n        ...target,\n        logServiceParams: {\n          ...target.logServiceParams,\n          region,\n          TopicId,\n          Query,\n        },\n      };\n    });\n\n    const dataFramePromise: Promise<DataFrame>[] = requestTargets\n      .filter((target) => !target.hide && target.logServiceParams.region && target.logServiceParams.TopicId)\n      .map((target) => {\n        return SearchLog(\n          {\n            TopicId: target.logServiceParams.TopicId,\n            Query: target.logServiceParams.Query,\n            From: from,\n            To: to,\n            SyntaxRule: target.logServiceParams.SyntaxRule,\n            Limit: target.logServiceParams.MaxResultNum,\n          },\n          target.logServiceParams.region,\n          { instanceSettings: this.instanceSettings }\n        ).then((result) => {\n          return ConvertSearchResultsToDataFrame(formatSearchLog(result), {\n            region: target.logServiceParams.region,\n            TopicId: target.logServiceParams.TopicId,\n          });\n        });\n      });\n\n    const output$ = new Observable<DataQueryResponse>((subscriber) => {\n      subscriber.next({ data: [], state: LoadingState.Loading });\n\n      Promise.all(dataFramePromise)\n        .then((frames) => {\n          const processedFrames = [];\n          for (const frame of frames) {\n            //  Analysis  TimeSeriesMany, \n            if (!frame?.meta?.preferredVisualisationType) {\n              const fieldTypeSet = new Set();\n              frame.fields.forEach((field) => fieldTypeSet.add(field.type));\n              if (\n                fieldTypeSet.has(FieldType.time) &&\n                fieldTypeSet.has(FieldType.string) &&\n                fieldTypeSet.has(FieldType.number)\n              ) {\n                const timeSeriesMany = toTimeSeriesMany([frame]);\n                if (frame.fields.filter((item) => item.type === 'number')?.length === 1) {\n                  timeSeriesMany.forEach((item) => {\n                    item.fields.forEach((field) => {\n                      if (field.type === FieldType.number) {\n                        field.name = '';\n                      }\n                    });\n                  });\n                }\n                processedFrames.splice(frame.fields.length, 0, ...timeSeriesMany);\n                continue;\n              }\n            }\n            processedFrames.push(frame);\n          }\n          subscriber.next({ data: processedFrames, state: LoadingState.Done });\n        })\n        .catch((e) => {\n          subscriber.next({\n            data: [],\n            state: LoadingState.Error,\n            error: {\n              ...e,\n              message: e?.message || e?.data?.message,\n            },\n          });\n        });\n    }).pipe(share());\n    return output$;\n  }\n\n  async metricFindQuery(query: QueryInfo['logServiceParams'], options): Promise<MetricFindValue[]> {\n    const logServiceParams = query;\n    const region = logServiceParams?.region ? getTemplateSrv().replace(logServiceParams.region) : '';\n    const TopicId = logServiceParams?.TopicId ? getTemplateSrv().replace(logServiceParams.TopicId) : '';\n    const Query = addQueryResultLimit(replaceClsQueryWithTemplateSrv(logServiceParams.Query), logServiceParams);\n\n    if (!options.range) {\n      return [];\n    }\n    if (region && TopicId && Query) {\n      const { analysisColumns, analysisRecords } = formatSearchLog(\n        await SearchLog(\n          {\n            TopicId: TopicId,\n            Query: Query,\n            From: options.range!.from.valueOf(),\n            To: options.range!.to.valueOf(),\n            Limit: logServiceParams?.MaxResultNum,\n          },\n          region,\n          {\n            instanceSettings: this.instanceSettings,\n          }\n        )\n      );\n      if (analysisColumns.length > 0 && analysisRecords.length > 0) {\n        const firstColumn = analysisColumns[0];\n        return analysisRecords.map((record) => {\n          return {\n            text: record[firstColumn.Name],\n            value: record[firstColumn.Name],\n          };\n        });\n      }\n    }\n    return [];\n  }\n\n  async testDatasource() {\n    if (!this.instanceSettings.jsonData['logServiceEnabled']) {\n      return null;\n    }\n    try {\n      // SearchLog\n      await SearchLog(\n        {\n          TopicId: '',\n          Query: '',\n          From: moment().subtract(1, 'h').valueOf(),\n          To: moment().valueOf(),\n        },\n        'ap-shanghai',\n        {\n          instanceSettings: this.instanceSettings,\n        }\n      );\n      return {\n        status: 'success',\n        message: 'DatSource Connection OK',\n      };\n    } catch (e) {\n      if (e?.code && e.code !== 'AuthFailure.SignatureFailure') {\n        return {\n          status: 'success',\n          message: 'DatSource Connection OK',\n        };\n      } else {\n        return {\n          status: 'error',\n          title: e.code,\n          message: e.message,\n        };\n      }\n    }\n  }\n\n  /** histogram support\n   * @link https://github.com/grafana/grafana/blob/942be4215afaea27757fb3a034126452aaf3fab2/public/app/plugins/datasource/loki/datasource.ts#L115-L115\n   */\n  getLogsVolumeDataProvider(request: DataQueryRequest<QueryInfo>): Observable<DataQueryResponse> | undefined {\n    return undefined;\n  }\n\n  /** context disabled */\n  showContextToggle = (row: LogRowModel) => {\n    /** ConvertLogJsonToDataFrameDTO  LogFieldReservedName.META field */\n    const metaField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.META);\n    try {\n      if (metaField?.labels?.region && metaField?.labels.TopicId) {\n        const metaValue: Pick<LogInfo, 'PkgId' | 'PkgLogId'> = JSON.parse(metaField.values.get(row.rowIndex));\n        if (metaValue?.PkgId && metaValue?.PkgLogId) {\n          return true;\n        }\n      }\n      return false;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  getLogRowContext = async (row: LogRowModel, options: RowContextOptions) => {\n    const { limit = 10, direction = 'BACKWARD' } = options;\n    const timeField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.TIMESTAMP);\n    const metaField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.META);\n    if (!timeField || !metaField?.labels || !limit) {\n      return { data: [], state: LoadingState.Done };\n    }\n\n    try {\n      const metaValue: Pick<LogInfo, 'PkgId' | 'PkgLogId'> = JSON.parse(metaField.values.get(row.rowIndex));\n      const bTime = moment(timeField.values.get(row.rowIndex)).format('YYYY-MM-DD HH:MM:SS.SSS');\n      const logContext = await DescribeLogContext(\n        {\n          TopicId: metaField?.labels.TopicId,\n          BTime: bTime,\n          PkgId: metaValue.PkgId,\n          PkgLogId: Number(metaValue.PkgLogId),\n          PrevLogs: direction === 'BACKWARD' ? limit : 0,\n          NextLogs: direction !== 'BACKWARD' ? limit : 0,\n        },\n        metaField?.labels.region,\n        { instanceSettings: this.instanceSettings }\n      );\n      const frame = ConvertLogContextToDataFrame(logContext);\n      return {\n        data: [frame],\n        state: LoadingState.Done,\n      };\n    } catch (e) {\n      return {\n        data: [],\n        state: LoadingState.Error,\n        error: e,\n      };\n    }\n  };\n}\n","import { DescribeLogContextResult } from '../model';\nimport { DataFrameDTO, FieldType, toDataFrame, DataFrame, FieldDTO } from '@grafana/data';\nimport { parseLogJsonStr } from './formatSearchLog';\n\nexport function ConvertLogContextToDataFrame(logContext: DescribeLogContextResult): DataFrame {\n  const { LogContextInfos = [] } = logContext;\n\n  const timeField: FieldDTO<number> = {\n    name: 'ts',\n    type: FieldType.time,\n    config: { displayName: 'Time' },\n    values: [],\n  };\n  const idField: FieldDTO<string | number> = {\n    name: 'id',\n    type: FieldType.string,\n    values: [],\n  };\n  const lineField: FieldDTO<string> = {\n    name: 'line',\n    type: FieldType.string,\n    values: [],\n  };\n\n  LogContextInfos.forEach((item) => {\n    (timeField.values as number[]).unshift(item.BTime);\n    (idField.values as (string | number)[]).unshift(item.PkgLogId);\n    let contextLog;\n    try {\n      contextLog = JSON.stringify(parseLogJsonStr(item.Content) as any);\n    } catch (e) {\n      contextLog = item.Content;\n    }\n    (lineField.values as string[]).unshift(contextLog);\n  });\n\n  const frameDTO: DataFrameDTO = {\n    name: '',\n    meta: {\n      custom: {\n        RequestId: (logContext as any).RequestId,\n      },\n    },\n    fields: [timeField, lineField, idField],\n  };\n  return toDataFrame(frameDTO);\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = /*@__PURE__*/ getSymbolIterator();\nexport var $$iterator = iterator;\n//# sourceMappingURL=iterator.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isPromise(value) {\n    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\n//# sourceMappingURL=isPromise.js.map\n","/** PURE_IMPORTS_START _subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeTo = function (result) {\n    if (!!result && typeof result[Symbol_observable] === 'function') {\n        return subscribeToObservable(result);\n    }\n    else if (isArrayLike(result)) {\n        return subscribeToArray(result);\n    }\n    else if (isPromise(result)) {\n        return subscribeToPromise(result);\n    }\n    else if (!!result && typeof result[Symbol_iterator] === 'function') {\n        return subscribeToIterable(result);\n    }\n    else {\n        var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n//# sourceMappingURL=subscribeTo.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeToObservable = function (obj) {\n    return function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (typeof obs.subscribe !== 'function') {\n            throw new TypeError('Provided object does not correctly implement Symbol.observable');\n        }\n        else {\n            return obs.subscribe(subscriber);\n        }\n    };\n};\n//# sourceMappingURL=subscribeToObservable.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToArray = function (array) {\n    return function (subscriber) {\n        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    };\n};\n//# sourceMappingURL=subscribeToArray.js.map\n","/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */\nimport { hostReportError } from './hostReportError';\nexport var subscribeToPromise = function (promise) {\n    return function (subscriber) {\n        promise.then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, hostReportError);\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToPromise.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport var subscribeToIterable = function (iterable) {\n    return function (subscriber) {\n        var iterator = iterable[Symbol_iterator]();\n        do {\n            var item = void 0;\n            try {\n                item = iterator.next();\n            }\n            catch (err) {\n                subscriber.error(err);\n                return subscriber;\n            }\n            if (item.done) {\n                subscriber.complete();\n                break;\n            }\n            subscriber.next(item.value);\n            if (subscriber.closed) {\n                break;\n            }\n        } while (true);\n        if (typeof iterator.return === 'function') {\n            subscriber.add(function () {\n                if (iterator.return) {\n                    iterator.return();\n                }\n            });\n        }\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToIterable.js.map\n","/** PURE_IMPORTS_START _scheduleObservable,_schedulePromise,_scheduleArray,_scheduleIterable,_util_isInteropObservable,_util_isPromise,_util_isArrayLike,_util_isIterable PURE_IMPORTS_END */\nimport { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        else if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        else if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        else if (isIterable(input) || typeof input === 'string') {\n            return scheduleIterable(input, scheduler);\n        }\n    }\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n//# sourceMappingURL=scheduled.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function isInteropObservable(input) {\n    return input && typeof input[Symbol_observable] === 'function';\n}\n//# sourceMappingURL=isInteropObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function scheduleObservable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            var observable = input[Symbol_observable]();\n            sub.add(observable.subscribe({\n                next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function schedulePromise(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            return input.then(function (value) {\n                sub.add(scheduler.schedule(function () {\n                    subscriber.next(value);\n                    sub.add(scheduler.schedule(function () { return subscriber.complete(); }));\n                }));\n            }, function (err) {\n                sub.add(scheduler.schedule(function () { return subscriber.error(err); }));\n            });\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=schedulePromise.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var i = 0;\n        sub.add(scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n                return;\n            }\n            subscriber.next(input[i++]);\n            if (!subscriber.closed) {\n                sub.add(this.schedule());\n            }\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function isIterable(input) {\n    return input && typeof input[Symbol_iterator] === 'function';\n}\n//# sourceMappingURL=isIterable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function scheduleIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var iterator;\n        sub.add(function () {\n            if (iterator && typeof iterator.return === 'function') {\n                iterator.return();\n            }\n        });\n        sub.add(scheduler.schedule(function () {\n            iterator = input[Symbol_iterator]();\n            sub.add(scheduler.schedule(function () {\n                if (subscriber.closed) {\n                    return;\n                }\n                var value;\n                var done;\n                try {\n                    var result = iterator.next();\n                    value = result.value;\n                    done = result.done;\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                    this.schedule();\n                }\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_util_subscribeTo PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nimport { Observable } from './Observable';\nimport { subscribeTo } from './util/subscribeTo';\nvar SimpleInnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SimpleInnerSubscriber, _super);\n    function SimpleInnerSubscriber(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        return _this;\n    }\n    SimpleInnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(value);\n    };\n    SimpleInnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error);\n        this.unsubscribe();\n    };\n    SimpleInnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete();\n        this.unsubscribe();\n    };\n    return SimpleInnerSubscriber;\n}(Subscriber));\nexport { SimpleInnerSubscriber };\nvar ComplexInnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ComplexInnerSubscriber, _super);\n    function ComplexInnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        return _this;\n    }\n    ComplexInnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this);\n    };\n    ComplexInnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error);\n        this.unsubscribe();\n    };\n    ComplexInnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return ComplexInnerSubscriber;\n}(Subscriber));\nexport { ComplexInnerSubscriber };\nvar SimpleOuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SimpleOuterSubscriber, _super);\n    function SimpleOuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SimpleOuterSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    SimpleOuterSubscriber.prototype.notifyError = function (err) {\n        this.destination.error(err);\n    };\n    SimpleOuterSubscriber.prototype.notifyComplete = function () {\n        this.destination.complete();\n    };\n    return SimpleOuterSubscriber;\n}(Subscriber));\nexport { SimpleOuterSubscriber };\nvar ComplexOuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ComplexOuterSubscriber, _super);\n    function ComplexOuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ComplexOuterSubscriber.prototype.notifyNext = function (_outerValue, innerValue, _outerIndex, _innerSub) {\n        this.destination.next(innerValue);\n    };\n    ComplexOuterSubscriber.prototype.notifyError = function (error) {\n        this.destination.error(error);\n    };\n    ComplexOuterSubscriber.prototype.notifyComplete = function (_innerSub) {\n        this.destination.complete();\n    };\n    return ComplexOuterSubscriber;\n}(Subscriber));\nexport { ComplexOuterSubscriber };\nexport function innerSubscribe(result, innerSubscriber) {\n    if (innerSubscriber.closed) {\n        return undefined;\n    }\n    if (result instanceof Observable) {\n        return result.subscribe(innerSubscriber);\n    }\n    return subscribeTo(result)(innerSubscriber);\n}\n//# sourceMappingURL=innerSubscribe.js.map\n","/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(mergeMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); }, concurrent)); };\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return function (source) { return source.lift(new MergeMapOperator(project, concurrent)); };\n}\nvar MergeMapOperator = /*@__PURE__*/ (function () {\n    function MergeMapOperator(project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        this.project = project;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexport { MergeMapOperator };\nvar MergeMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish) {\n        var innerSubscriber = new SimpleInnerSubscriber(this);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = innerSubscribe(ish, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function () {\n        var buffer = this.buffer;\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(SimpleOuterSubscriber));\nexport { MergeMapSubscriber };\nexport var flatMap = mergeMap;\n//# sourceMappingURL=mergeMap.js.map\n","/** PURE_IMPORTS_START _Observable,_util_subscribeTo,_scheduled_scheduled PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { scheduled } from '../scheduled/scheduled';\nexport function from(input, scheduler) {\n    if (!scheduler) {\n        if (input instanceof Observable) {\n            return input;\n        }\n        return new Observable(subscribeTo(input));\n    }\n    else {\n        return scheduled(input, scheduler);\n    }\n}\n//# sourceMappingURL=from.js.map\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function catchError(selector) {\n    return function catchErrorOperatorFunction(source) {\n        var operator = new CatchOperator(selector);\n        var caught = source.lift(operator);\n        return (operator.caught = caught);\n    };\n}\nvar CatchOperator = /*@__PURE__*/ (function () {\n    function CatchOperator(selector) {\n        this.selector = selector;\n    }\n    CatchOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n    };\n    return CatchOperator;\n}());\nvar CatchSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CatchSubscriber, _super);\n    function CatchSubscriber(destination, selector, caught) {\n        var _this = _super.call(this, destination) || this;\n        _this.selector = selector;\n        _this.caught = caught;\n        return _this;\n    }\n    CatchSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var result = void 0;\n            try {\n                result = this.selector(err, this.caught);\n            }\n            catch (err2) {\n                _super.prototype.error.call(this, err2);\n                return;\n            }\n            this._unsubscribeAndRecycle();\n            var innerSubscriber = new SimpleInnerSubscriber(this);\n            this.add(innerSubscriber);\n            var innerSubscription = innerSubscribe(result, innerSubscriber);\n            if (innerSubscription !== innerSubscriber) {\n                this.add(innerSubscription);\n            }\n        }\n    };\n    return CatchSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=catchError.js.map\n","import { each, map, includes, flatten, keys } from 'lodash';\nimport TableModel from 'grafana/app/core/table_model';\nimport { FieldType, QueryResultMeta, TimeSeries, TableData } from '@grafana/data';\n\nexport default class RUMSeries {\n  refId?: string;\n  series: any;\n  alias: any;\n  annotation: any;\n  meta?: QueryResultMeta;\n\n  constructor(options: { series: any; alias?: any; annotation?: any; meta?: QueryResultMeta; refId?: string }) {\n    this.series = options.series;\n    this.alias = options.alias;\n    this.annotation = options.annotation;\n    this.meta = options.meta;\n    this.refId = options.refId;\n  }\n\n  getTimeSeries(): TimeSeries[] {\n    const output: TimeSeries[] = [];\n    let i;\n    let j;\n\n    if (this.series.length === 0) {\n      return output;\n    }\n\n    each(this.series, (series) => {\n      const columns = series.columns.length;\n      const tags = map(series.tags, (value, key) => {\n        return key + ': ' + value;\n      });\n\n      for (j = 1; j < columns; j++) {\n        let seriesName = series.name;\n        const columnName = series.columns[j];\n        if (columnName !== 'value') {\n          seriesName = seriesName + '.' + columnName;\n        }\n\n        if (this.alias) {\n          seriesName = this._getSeriesName(series, j);\n        } else if (series.tags) {\n          seriesName = seriesName + ' {' + tags.join(', ') + '}';\n        }\n\n        const datapoints = [];\n        if (series.values) {\n          for (i = 0; i < series.values.length; i++) {\n            datapoints[i] = [series.values[i][j], series.values[i][0]];\n          }\n        }\n\n        output.push({\n          title: seriesName,\n          target: seriesName,\n          datapoints: datapoints,\n          tags: series.tags,\n          meta: this.meta,\n          refId: this.refId,\n        });\n      }\n    });\n\n    return output;\n  }\n\n  _getSeriesName(series: any, index: number) {\n    const regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\n    const segments = series.name.split('.');\n\n    return this.alias.replace(regex, (match: any, g1: any, g2: any) => {\n      const group = g1 || g2;\n      const segIndex = parseInt(group, 10);\n\n      if (group === 'm' || group === 'measurement') {\n        return series.name;\n      }\n      if (group === 'col') {\n        return series.columns[index];\n      }\n      if (!isNaN(segIndex)) {\n        return segments[segIndex] ?? match;\n      }\n      if (group.indexOf('tag_') !== 0) {\n        return match;\n      }\n\n      const tag = group.replace('tag_', '');\n      if (!series.tags) {\n        return match;\n      }\n      return series.tags[tag];\n    });\n  }\n\n  getAnnotations() {\n    const list: any[] = [];\n\n    each(this.series, (series) => {\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(series.columns, (column, index) => {\n        if (column === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column === 'sequence_number') {\n          return;\n        }\n        if (column === this.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (includes((this.annotation.tagsColumn || '').replace(' ', '').split(','), column)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column === this.annotation.textColumn) {\n          textCol = index;\n          return;\n        }\n        if (column === this.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(series.values, (value) => {\n        const data = {\n          annotation: this.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n    });\n\n    return list;\n  }\n\n  getTable(): TableData {\n    const table = new TableModel();\n    let i;\n    let j;\n\n    // @ts-ignore\n    table.refId = this.refId;\n    // @ts-ignore\n    table.meta = this.meta;\n\n    if (this.series.length === 0) {\n      return table;\n    }\n\n    // the order is:\n    // - first the first item from the value-array (this is often (always?) the timestamp)\n    // - then all the tag-values\n    // - then the rest of the value-array\n    //\n    // we have to keep this order both in table.columns and table.rows\n\n    each(this.series, (series: any, seriesIndex: number) => {\n      if (seriesIndex === 0) {\n        const firstCol = series.columns[0];\n        // Check the first column's name, if it is `time`, we\n        // mark it as having the type time\n        const firstTableCol = firstCol === 'time' ? { text: 'Time', type: FieldType.time } : { text: firstCol };\n        table.columns.push(firstTableCol);\n        each(keys(series.tags), (key) => {\n          table.columns.push({ text: key });\n        });\n        for (j = 1; j < series.columns.length; j++) {\n          table.columns.push({ text: series.columns[j] });\n        }\n      }\n\n      if (series.values) {\n        for (i = 0; i < series.values.length; i++) {\n          const values = series.values[i];\n          const reordered = [values[0]];\n          if (series.tags) {\n            for (const key in series.tags) {\n              if (series.tags.hasOwnProperty(key)) {\n                reordered.push(series.tags[key]);\n              }\n            }\n          }\n          for (j = 1; j < values.length; j++) {\n            reordered.push(values[j]);\n          }\n          table.rows.push(reordered);\n        }\n      }\n    });\n\n    return table;\n  }\n}\n","import { AnnotationEvent, DataFrame, DataQuery, FieldType, QueryResultMeta } from '@grafana/data';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport TableModel from 'grafana/app/core/table_model';\nimport { each, flatten, groupBy, isArray } from 'lodash';\nimport { ENABLE_MEASUREMENTS } from './common/constants';\nimport { RUMQuery } from './types';\n\nexport default class ResponseParser {\n  parse(query: string, results: { results: any }) {\n    if (!results?.results || results.results.length === 0) {\n      return [];\n    }\n\n    const RUMResults = results.results[0];\n    if (!RUMResults.series) {\n      return [];\n    }\n\n    const normalizedQuery = query.toLowerCase();\n    const isValueFirst =\n      normalizedQuery.indexOf('show field keys') >= 0 || normalizedQuery.indexOf('show retention policies') >= 0;\n    const isShowMeasurements = normalizedQuery.indexOf('show measurements') >= 0\n\n    const res = new Set<string>();\n    each(RUMResults.series, (serie) => {\n      each(serie.values, (value) => {\n        if (isArray(value)) {\n          // In general, there are 2 possible shapes for the returned value.\n          // The first one is a two-element array,\n          // where the first element is somewhat a metadata value:\n          // the tag name for SHOW TAG VALUES queries,\n          // the time field for SELECT queries, etc.\n          // The second shape is an one-element array,\n          // that is containing an immediate value.\n          // For example, SHOW FIELD KEYS queries return such shape.\n          // Note, pre-0.11 versions return\n          // the second shape for SHOW TAG VALUES queries\n          // (while the newer versionsfirst).\n\n          if (isValueFirst) {\n            addUnique(res, value[0]);\n          } else if (value[1] !== undefined) {\n            addUnique(res, value[1]);\n          } else {\n            addUnique(res, value[0]);\n          }\n        } else {\n          addUnique(res, value);\n        }\n      });\n    });\n\n    if (isShowMeasurements) {\n      return Array.from(res).filter(item => ENABLE_MEASUREMENTS.includes(item)).map((v) => ({ text: v }));\n    }\n\n    return Array.from(res).map((v) => ({ text: v }));\n  }\n\n  getTable(dfs: DataFrame[], target: RUMQuery, meta: QueryResultMeta): TableModel {\n    let table = new TableModel();\n\n    if (dfs.length > 0) {\n      // @ts-ignore\n      table.meta = {\n        ...meta,\n        executedQueryString: dfs[0].meta?.executedQueryString,\n      };\n      // @ts-ignore\n      table.refId = target.refId;\n      table = getTableCols(dfs, table, target);\n\n      // if group by tag(s) added\n      if (dfs[0].fields[1]?.labels) {\n        let dfsByLabels: any = groupBy(dfs, (df: DataFrame) =>\n          df.fields[1].labels ? Object.values(df.fields[1].labels!) : null\n        );\n        const labels = Object.keys(dfsByLabels);\n        dfsByLabels = Object.values(dfsByLabels);\n\n        for (let i = 0; i < dfsByLabels.length; i++) {\n          table = getTableRows(dfsByLabels[i], table, [...labels[i].split(',')]);\n        }\n      } else {\n        table = getTableRows(dfs, table, []);\n      }\n    }\n\n    return table;\n  }\n\n  async transformAnnotationResponse(options: any, data: any, target: RUMQuery): Promise<AnnotationEvent[]> {\n    const rsp = toDataQueryResponse(data, [target] as DataQuery[]);\n\n    if (rsp) {\n      const table = this.getTable(rsp.data, target, {});\n      const list: any[] = [];\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(table.columns, (column, index) => {\n        if (column.text.toLowerCase() === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column.text === options.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (colContainsTag(column.text, options.annotation.tagsColumn)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column.text.includes(options.annotation.textColumn)) {\n          textCol = index;\n          return;\n        }\n        if (column.text === options.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(table.rows, (value) => {\n        const data = {\n          annotation: options.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n\n      return list;\n    }\n    return [];\n  }\n}\n\nfunction colContainsTag(colText: string, tagsColumn: string): boolean {\n  const tags = (tagsColumn || '').replace(' ', '').split(',');\n  for (let tag of tags) {\n    if (colText.includes(tag)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getTableCols(dfs: DataFrame[], table: TableModel, target: RUMQuery): TableModel {\n  const selectedParams = getSelectedParams(target);\n\n  dfs[0].fields.forEach((field) => {\n    // Time col\n    if (field.name === 'time') {\n      table.columns.push({ text: 'Time', type: FieldType.time });\n    }\n\n    // Group by (label) column(s)\n    else if (field.name === 'value') {\n      if (field.labels) {\n        Object.keys(field.labels).forEach((key) => {\n          table.columns.push({ text: key });\n        });\n      }\n    }\n  });\n\n  // Get cols for annotationQuery\n  if (dfs[0].refId === 'metricFindQuery') {\n    dfs.forEach((field) => {\n      if (field.name) {\n        table.columns.push({ text: field.name });\n      }\n    });\n  }\n\n  // Select (metric) column(s)\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < selectedParams.length; i++) {\n    table.columns.push({ text: selectedParams[i] });\n  }\n\n  return table;\n}\n\nfunction getTableRows(dfs: DataFrame[], table: TableModel, labels: string[]): TableModel {\n  const values = dfs[0].fields[0].values.toArray();\n\n  for (let i = 0; i < values.length; i++) {\n    const time = values[i];\n    const metrics = dfs.map((df: DataFrame) => {\n      return df.fields[1] ? df.fields[1].values.toArray()[i] : null;\n    });\n    if (metrics.indexOf(null) < 0) {\n      table.rows.push([time, ...labels, ...metrics]);\n    }\n  }\n  return table;\n}\n\nexport function getSelectedParams(target: RUMQuery): string[] {\n  let allParams: string[] = [];\n  target.select?.forEach((select) => {\n    const selector = select.filter((x) => x.type !== 'field');\n    if (selector.length > 0) {\n      allParams.push(selector[0].type);\n    } else {\n      if (select[0]?.params?.[0]) {\n        allParams.push(select[0].params[0].toString());\n      }\n    }\n  });\n\n  let uniqueParams: string[] = [];\n  allParams.forEach((param) => {\n    uniqueParams.push(incrementName(param, param, uniqueParams, 0));\n  });\n\n  return uniqueParams;\n}\n\nfunction incrementName(name: string, nameIncremenet: string, params: string[], index: number): string {\n  if (params.indexOf(nameIncremenet) > -1) {\n    index++;\n    return incrementName(name, name + '_' + index, params, index);\n  }\n  return nameIncremenet;\n}\n\nfunction addUnique(s: Set<string>, value: string | number) {\n  s.add(value.toString());\n}\n","import { cloneDeep, isString, map as _map, get } from 'lodash';\nimport { Observable, of, throwError, from } from 'rxjs';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { getBackendSrv, getTemplateSrv, TemplateSrv } from '@grafana/runtime';\nimport {\n  ArrayVector,\n  DataFrame,\n  DataQueryError,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  MetricFindValue,\n  dateMath,\n  DataSourceApi,\n  FieldType,\n  QueryResultMeta,\n  TIME_SERIES_TIME_FIELD_NAME,\n  TIME_SERIES_VALUE_FIELD_NAME,\n  TimeSeries,\n  LoadingState,\n  RawTimeRange,\n} from '@grafana/data';\nimport RUMQueryModel from './RUM_query_model';\nimport RUMSeries from './RUM_series';\nimport ResponseParser from './response_parser';\nimport { GetRequestParams, GetServiceAPIInfo } from '../../datasource/common/constants';\nimport { MyDataSourceOptions, QueryInfo } from '../types';\nimport { RUMOptions, RUMQuery } from './types';\nimport { RUMQueryBuilder } from './query_builder';\n\n// we detect the field type based on the value-array\nfunction getFieldType(values: unknown[]): FieldType {\n  // the values-array may contain a lot of nulls.\n  // we need the first not-null item\n  const firstNotNull = values.find((v) => v !== null);\n\n  if (firstNotNull === undefined) {\n    // we could not find any not-null values\n    return FieldType.number;\n  }\n\n  const valueType = typeof firstNotNull;\n\n  switch (valueType) {\n    case 'string':\n      return FieldType.string;\n    case 'boolean':\n      return FieldType.boolean;\n    case 'number':\n      return FieldType.number;\n    default:\n      throw new Error(`RUM: invalid value type ${valueType}`);\n  }\n}\n\n// this conversion function is specialized to work with the timeseries\n// data returned by getTimeSeries()\nfunction timeSeriesToDataFrame(timeSeries: TimeSeries): DataFrame {\n  const times: number[] = [];\n  const values: unknown[] = [];\n\n  // the data we process here is not correctly typed.\n  // the typescript types say every data-point is number|null,\n  // but in fact it can be string or boolean too.\n\n  const points = timeSeries.datapoints;\n  for (const point of points) {\n    values.push(point[0]);\n    times.push(point[1] as number);\n  }\n\n  const timeField = {\n    name: TIME_SERIES_TIME_FIELD_NAME,\n    type: FieldType.time,\n    config: {},\n    values: new ArrayVector<number>(times),\n  };\n\n  const valueField = {\n    name: TIME_SERIES_VALUE_FIELD_NAME,\n    type: getFieldType(values),\n    config: {\n      displayNameFromDS: timeSeries.title,\n    },\n    values: new ArrayVector<unknown>(values),\n    labels: timeSeries.tags,\n  };\n\n  const fields = [timeField, valueField];\n\n  return {\n    name: timeSeries.target,\n    refId: timeSeries.refId,\n    meta: timeSeries.meta,\n    fields,\n    length: values.length,\n  };\n}\n\nexport default class RUMServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  type: string;\n  url: string;\n  responseParser: any;\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  private readonly templateSrv: TemplateSrv;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<RUMOptions>) {\n    super(instanceSettings);\n\n    this.instanceSettings = instanceSettings;\n    this.templateSrv = getTemplateSrv();\n    this.responseParser = new ResponseParser();\n    this.type = 'RUMService';\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Promise<DataQueryResponse> | Observable<DataQueryResponse> {\n    return this.classicQuery(request);\n  }\n\n  classicQuery(options: any): Observable<DataQueryResponse> {\n    let timeFilter = this.getTimeFilter(options);\n    const scopedVars = options.scopedVars;\n    const targets = cloneDeep(options.targets);\n    const queryTargets: any[] = [];\n\n    let i;\n    let y;\n\n    let allQueries = _map(targets, (target) => {\n      if (target.hide) {\n        return '';\n      }\n      target.RUMServiceParams = this.fixTimePeriod(target.RUMServiceParams, options);\n      queryTargets.push(target);\n\n      // backward compatibility\n      scopedVars.interval = scopedVars.__interval;\n\n      return new RUMQueryModel(target.RUMServiceParams, this.templateSrv, scopedVars).render(true);\n    }).reduce((acc, current) => {\n      if (current !== '') {\n        acc += ';' + current;\n      }\n      return acc;\n    });\n\n    if (allQueries === '') {\n      return of({ data: [] });\n    }\n\n    // add global adhoc filters to timeFilter\n    // @ts-ignore\n    const adhocFilters = this.templateSrv.getAdhocFilters(this.name);\n    if (adhocFilters.length > 0) {\n      const tmpQuery = new RUMQueryModel({}, this.templateSrv, scopedVars);\n      timeFilter += ' AND ' + tmpQuery.renderAdhocFilters(adhocFilters);\n    }\n\n    // replace grafana variables\n    scopedVars.timeFilter = { value: timeFilter };\n\n    // replace templated variables\n    allQueries = this.templateSrv.replace(allQueries, scopedVars);\n\n    return this._seriesQuery(allQueries, options).pipe(\n      map((data: any) => {\n        if (!data || !data.results) {\n          return { data: [] };\n        }\n\n        const seriesList = [];\n        for (i = 0; i < data.results.length; i++) {\n          const result = data.results[i];\n          if (!result || !result.series) {\n            continue;\n          }\n\n          const target = queryTargets[i];\n          let alias = target.RUMServiceParams.alias;\n          if (alias) {\n            alias = this.templateSrv.replace(target.RUMServiceParams.alias, options.scopedVars);\n          }\n\n          const meta: QueryResultMeta = {\n            executedQueryString: data.executedQueryString,\n          };\n\n          const rumSeries = new RUMSeries({\n            refId: target.refId,\n            series: data.results[i].series,\n            alias: alias,\n            meta,\n          });\n\n          switch (target.RUMServiceParams.resultFormat) {\n            case 'logs':\n              meta.preferredVisualisationType = 'logs';\n            // eslint-disable-next-line no-fallthrough\n            case 'table': {\n              seriesList.push(rumSeries.getTable());\n              break;\n            }\n            default: {\n              const timeSeries = rumSeries.getTimeSeries();\n              for (y = 0; y < timeSeries.length; y++) {\n                seriesList.push(timeSeriesToDataFrame(timeSeries[y]));\n              }\n              break;\n            }\n          }\n        }\n\n        return { data: seriesList, state: LoadingState.Done };\n      })\n    );\n  }\n\n  async metricFindQuery(query: string, options?: any): Promise<MetricFindValue[]> {\n    const interpolated = this.templateSrv.replace(query, undefined, 'regex');\n\n    return this._seriesQuery(interpolated, options)\n      .toPromise()\n      .then((resp) => {\n        return this.responseParser.parse(query, resp);\n      });\n  }\n\n  _seriesQuery(query: string, options?: any) {\n    if (!query) {\n      return of({ results: [] });\n    }\n\n    if (options?.range) {\n      const timeFilter = this.getTimeFilter({ rangeRaw: options.range, timezone: options.timezone });\n      query = query.replace('$timeFilter', timeFilter);\n    }\n\n    return this._RUMRequest(query);\n  }\n\n  _RUMRequest(query) {\n    const serviceType = 'rum';\n    const serviceInfo = GetServiceAPIInfo('', serviceType);\n\n    return from(\n      GetRequestParams(\n        { url: this.instanceSettings.url + serviceInfo.path, data: { Query: btoa(query) } },\n        serviceType,\n        { action: 'DescribeGrafanaData' },\n        '',\n        this.instanceSettings.id,\n        getBackendSrv()\n      )\n    ).pipe(\n      mergeMap((requestOptions) => {\n        return getBackendSrv()\n          .fetch(requestOptions)\n          .pipe(\n            map((result: any) => {\n              if (get(result, 'data.Response.Error')) {\n                // eslint-disable-next-line no-throw-literal\n                throw {\n                  message: 'RUM Error: ' + get(result, 'data.Response.Error.Message'),\n                  data: result.data,\n                  cancelled: true,\n                };\n              }\n              const jsonData = get(result, 'data.Response.Result');\n              const data = JSON.parse(jsonData);\n              data.executedQueryString = query;\n\n              if (data) {\n                if (data.error) {\n                  // eslint-disable-next-line no-throw-literal\n                  throw {\n                    message: 'RUM Error: ' + data.error,\n                    data,\n                  };\n                }\n                if (data.results) {\n                  const errors = data.results.filter((elem: any) => elem.error);\n\n                  if (errors.length > 0) {\n                    // eslint-disable-next-line no-throw-literal\n                    throw {\n                      message: 'RUM Error: ' + errors[0].error,\n                      data,\n                    };\n                  }\n                }\n              }\n              return data;\n            }),\n            catchError((err) => {\n              if (err.cancelled) {\n                return of(err);\n              }\n\n              return throwError(this.handleErrors(err));\n            })\n          );\n      })\n    );\n  }\n\n  handleErrors(err: any) {\n    const error: DataQueryError = {\n      message: err?.status || err?.message || 'Unknown error during query transaction. Please check JS console logs.',\n    };\n\n    if ((Number.isInteger(err.status) && err.status !== 0) || err.status >= 300) {\n      if (err.data?.error) {\n        error.message = 'RUM Error: ' + err.data.error;\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      } else {\n        error.message = 'Network Error: ' + err.statusText + '(' + err.status + ')';\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      }\n    }\n\n    return error;\n  }\n\n  getTimeFilter(options: any) {\n    const from = this.getRUMTime(options.rangeRaw.from, false, options.timezone);\n    const until = this.getRUMTime(options.rangeRaw.to, true, options.timezone);\n\n    return 'time >= ' + from + ' and time <= ' + until;\n  }\n\n  getRUMTime(date: any, roundUp: any, timezone: any) {\n    if (isString(date)) {\n      if (date === 'now') {\n        return 'now()';\n      }\n\n      const parts = /^now-(\\d+)([dhms])$/.exec(date);\n      if (parts) {\n        const amount = parseInt(parts[1], 10);\n        const unit = parts[2];\n        return 'now() - ' + amount + unit;\n      }\n      date = dateMath.parse(date, roundUp, timezone);\n    }\n\n    return date.valueOf() + 'ms';\n  }\n\n  fixTimePeriod(target: any, options: any) {\n    const period = this.getTimePeriod(options.rangeRaw, options.timezone);\n\n    target.groupBy?.forEach((groupBy: any) => {\n      if (groupBy.type === 'time' && groupBy.params[0] !== '1d') {\n        target = this.modifyTime(target, period);\n      }\n    });\n    return target;\n  }\n\n  getTimePeriod(rangeRaw: RawTimeRange, timezone: string): string {\n    const from = dateMath.parse(rangeRaw.from, false, timezone)?.valueOf();\n    const until = dateMath.parse(rangeRaw.to, true, timezone)?.valueOf();\n    const oneHour = 1000 * 60 * 60;\n    let range = 0;\n    let period = '1m';\n    if (from && until) {\n      range = until - from;\n    }\n    // 12h\n    if (range <= oneHour * 12) {\n      period = '1m';\n    }\n    // 3d\n    else if (range <= oneHour * 24 * 3) {\n      period = '30m';\n    }\n    // 7d\n    else if (range <= oneHour * 24 * 7) {\n      period = '1h';\n    } else {\n      period = '1d';\n    }\n    return period;\n  }\n\n  // \n  modifyTime(query: RUMQuery, period: string): RUMQuery {\n    if (!query.groupBy) {\n      return query;\n    }\n    for (const item of query.groupBy) {\n      if (item.type === 'time') {\n        const compareResult = this.periodCompare(String(item.params?.[0]) || '', period);\n        const isPeriodInparamsSmaller = compareResult && compareResult < 0;\n        // !compareResult\n        if (!compareResult || isPeriodInparamsSmaller) {\n          item.params = [period];\n        }\n        return query;\n      }\n    }\n    return query;\n  }\n  /**\n   * @param pre_period \n   * @param period \n   * @return 0=; null\n   */\n  periodCompare(pre_period: string, period: string): number | null {\n    const units = ['s', 'm', 'h', 'd'];\n    const reg = new RegExp(`(^\\\\d+)([${units.join('')}]$)`);\n    const pre = reg.exec(pre_period);\n    const per = reg.exec(period);\n    if (!pre || !per) {\n      return null;\n    }\n    if (units.indexOf(pre[2]) - units.indexOf(per[2])) {\n      return units.indexOf(pre[2]) - units.indexOf(per[2]);\n    }\n    return Number(pre[1]) - Number(per[1]);\n  }\n\n  testDatasource(): Promise<any> {\n    if (!this.instanceSettings.jsonData['RUMServiceEnabled']) {\n      return null;\n    }\n    const queryBuilder = new RUMQueryBuilder({ measurement: '', tags: [] }, '');\n    const query = queryBuilder.buildExploreQuery('MEASUREMENTS');\n\n    return this._seriesQuery(query)\n      .toPromise()\n      .then((res: any) => {\n        const error = get(res, 'data.Response.Error');\n        if (error) {\n          return { status: 'error', message: error?.Message };\n        }\n        return { status: 'success', message: 'Data source is working' };\n      })\n      .catch((err: any) => {\n        return { status: 'error', message: err.message };\n      });\n  }\n}\n","import * as _ from 'lodash';\nimport {\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  LoadingState,\n  LogRowModel,\n  MetricFindValue,\n} from '@grafana/data';\nimport { combineLatest, Observable, of, from } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { DataSourceWithBackend, getBackendSrv, getTemplateSrv } from '@grafana/runtime';\nimport { TCMonitorDatasource } from './tc_monitor/MonitorDatasource';\nimport { MyDataSourceOptions, QueryInfo, ServiceType, VariableQuery } from './types';\nimport { LogServiceDataSource } from './log-service/LogServiceDataSource';\nimport RUMServiceDataSource from './rum-service/RUMServiceDataSource';\nimport { IS_DEVELOPMENT_ENVIRONMENT } from './common/constants';\n\n/** monitor or logService */\nexport class DataSource extends DataSourceWithBackend<QueryInfo, MyDataSourceOptions> {\n  readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  readonly monitorDataSource: TCMonitorDatasource;\n  readonly logServiceDataSource: LogServiceDataSource;\n  readonly RUMServiceDataSource: RUMServiceDataSource;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\n    super(instanceSettings);\n    this.instanceSettings = instanceSettings;\n    if (IS_DEVELOPMENT_ENVIRONMENT) {\n      (window as any).tcDatasource = this;\n    }\n\n    this.monitorDataSource = new TCMonitorDatasource(this.instanceSettings, getBackendSrv(), getTemplateSrv()) as any;\n    (this.monitorDataSource as any).meta = this.meta;\n    this.logServiceDataSource = new LogServiceDataSource(this.instanceSettings);\n    (this.logServiceDataSource as any).meta = this.meta;\n    this.RUMServiceDataSource = new RUMServiceDataSource(this.instanceSettings);\n    (this.RUMServiceDataSource as any).meta = this.meta;\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Observable<DataQueryResponse> {\n    const monitorTargets: QueryInfo[] = [];\n    const logServiceTargets: QueryInfo[] = [];\n    const RUMServiceTargets: QueryInfo[] = [];\n    for (const target of request.targets) {\n      if (target.serviceType === ServiceType.logService) {\n        logServiceTargets.push(target);\n      } else if (target.serviceType === ServiceType.RUMService) {\n        RUMServiceTargets.push(target);\n      } else {\n        monitorTargets.push(target);\n      }\n    }\n\n    const EmptyDataQueryResponse: DataQueryResponse = { data: [], state: LoadingState.Done };\n    return combineLatest<DataQueryResponse[]>([\n      monitorTargets.length\n        ? from(\n            this.monitorDataSource.query({\n              ..._.clone(_.omit(request, 'targets')),\n              targets: monitorTargets,\n            })\n          )\n        : of(EmptyDataQueryResponse),\n      logServiceTargets.length\n        ? this.logServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: logServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n      RUMServiceTargets.length\n        ? this.RUMServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: RUMServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n    ]).pipe(\n      map((responses: DataQueryResponse[]): DataQueryResponse => {\n        const errResponse = responses.find((item) => item.state === LoadingState.Error);\n        if (errResponse) {\n          return errResponse;\n        }\n        if (!responses.every((item) => item.state === LoadingState.Done)) {\n          return { data: [], state: LoadingState.Loading };\n        }\n        return {\n          data: responses.map((item) => item.data).flat(1),\n          state: LoadingState.Done,\n        };\n      })\n    );\n  }\n\n  async testDatasource() {\n    // null\n    const serviceTestResults = (\n      await Promise.all([this.monitorDataSource.testDatasource(), this.logServiceDataSource.testDatasource(), this.RUMServiceDataSource.testDatasource()])\n    ).filter(Boolean);\n\n    if (serviceTestResults.length === 0) {\n      return {\n        status: 'error',\n        message: \"Nothing configured. At least one of the API's services must be configured.\",\n      };\n    }\n\n    const failedResult = serviceTestResults.find((item) => item?.status !== 'success');\n    if (failedResult) {\n      return failedResult;\n    } else {\n      return serviceTestResults[0];\n    }\n  }\n\n  async metricFindQuery(query: string | VariableQuery, options): Promise<MetricFindValue[]> {\n    if (_.isString(query) || query.serviceType === ServiceType.monitor) {\n      return this.monitorDataSource.metricFindQuery(_.isString(query) ? query : query.queryString, options);\n    }\n    if (query.serviceType === ServiceType.logService){\n      return this.logServiceDataSource.metricFindQuery(query.logServiceParams, options);\n    }\n    if (query.serviceType === ServiceType.RUMService){\n      return this.RUMServiceDataSource.metricFindQuery(query.queryString, options);\n    }\n    return [];\n  }\n\n  getLogRowContext = (row: LogRowModel, options) => {\n    return this.logServiceDataSource.getLogRowContext(row, options);\n  };\n\n  showContextToggle = (row: LogRowModel) => {\n    return false;\n    // return this.logServiceDataSource.showContextToggle(row);\n  };\n}\n","import React, { FormEvent, PureComponent } from 'react';\nimport { LegacyForms, InlineFieldRow, InlineField, Input, Switch, Select, Alert } from '@grafana/ui';\nimport { DataSourcePluginOptionsEditorProps, SelectableValue } from '@grafana/data';\nimport { MyDataSourceOptions, MySecureJsonData } from '../types';\nimport { SERVICES } from '../tc_monitor';\nimport { t, setLanguage, Language } from '../../locale';\nconst { SecretFormField } = LegacyForms;\n\ntype Props = DataSourcePluginOptionsEditorProps<MyDataSourceOptions, MySecureJsonData>;\n\ninterface State {\n  monitorFilter: string;\n  isClsAlertVisiable: boolean;\n}\n\nexport class ConfigEditor extends PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      monitorFilter: '',\n      isClsAlertVisiable: false,\n    };\n    setLanguage(props.options.jsonData.language || Language.Chinese);\n  }\n\n  patchJsonData = (kv: Record<string, any>) => {\n    const { onOptionsChange, options } = this.props;\n    if (kv) {\n      const jsonData = {\n        ...options.jsonData,\n        ...kv,\n      };\n      onOptionsChange({ ...options, jsonData });\n    }\n  };\n\n  onJsonDataChange = (event: FormEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const targetName = event?.currentTarget?.name;\n    const targetValue = (event?.currentTarget?.value || '').trim();\n    if (targetName) {\n      const jsonData = {\n        ...options.jsonData,\n        [targetName]: targetValue,\n      };\n      onOptionsChange({ ...options, jsonData });\n    }\n  };\n\n  // Secure field (only sent to the backend)\n  onSecureJsonChange = (event: FormEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const targetName = event?.currentTarget?.name;\n    const targetValue = (event?.currentTarget?.value || '').trim();\n    if (targetName) {\n      onOptionsChange({\n        ...options,\n        secureJsonData: {\n          ...options.secureJsonData,\n          [targetName]: targetValue,\n        },\n      });\n    }\n  };\n\n  onResetSecureJson = (key: string) => {\n    const { onOptionsChange, options } = this.props;\n    if (key) {\n      onOptionsChange({\n        ...options,\n        secureJsonFields: {\n          ...options.secureJsonFields,\n          [key]: false,\n        },\n        secureJsonData: {\n          ...options.secureJsonData,\n          [key]: '',\n        },\n      });\n    }\n  };\n\n  render() {\n    const { options } = this.props;\n    const { jsonData, secureJsonFields, secureJsonData } = options;\n    return (\n      <>\n        <div>\n          <h3 className=\"page-heading\">Security Credentials</h3>\n          <div\n            className=\"card-item\"\n            style={{\n              position: 'relative',\n              marginTop: '16px',\n              padding: '16px',\n              WebkitBoxFlex: 1,\n              flexGrow: 1,\n              borderTop: '3px solid rgb(50, 115, 217)',\n            }}\n          >\n            <div>\n              <h4>Initialize Tencent Cloud Monitor Grafana App</h4>\n              <p>\n                To initialize the App and connect it to your Tencent Cloud service you will need a SecretId and a\n                SecretKey for you Tencent Cloud account.\n                <br />\n                <b>SecretId</b> is used to identify the identity of the API caller.\n                <br />\n                <b>SecretKey</b> is used to encrypt the signature and validate the signature of the server-side.\n              </p>\n            </div>\n            <div>\n              <h5>User Permission</h5>\n              <p>\n                If you are using a\n                <a\n                  className=\"highlight-word\"\n                  href=\"https://intl.cloud.tencent.com/document/product/598/13674\"\n                  target=\"_blank\"\n                  style={{ margin: '0 4px' }}\n                >\n                  sub-user\n                </a>\n                account, you should at least own read permission to the cloud products you wish to monitor.\n              </p>\n              <a className=\"highlight-word\" href=\"https://console.cloud.tencent.com/cam/capi\" target=\"_blank\">\n                Generate a new Tencent Cloud API key\n              </a>\n            </div>\n          </div>\n        </div>\n\n        <div style={{ marginTop: 20 }}>\n          <InlineFieldRow>\n            <InlineField label=\"SecretId\" labelWidth={20} required={true}>\n              <Input\n                width={50}\n                required={true}\n                value={jsonData.secretId}\n                name=\"secretId\"\n                onChange={this.onJsonDataChange}\n              />\n            </InlineField>\n          </InlineFieldRow>\n          <InlineFieldRow>\n            <SecretFormField\n              label=\"SecretKey\"\n              labelWidth={10}\n              inputWidth={25}\n              type=\"password\"\n              name=\"secretKey\"\n              value={secureJsonData?.secretKey || ''}\n              isConfigured={secureJsonFields?.secretKey}\n              onChange={this.onSecureJsonChange}\n              onReset={() => {\n                this.onResetSecureJson('secretKey');\n              }}\n            />\n          </InlineFieldRow>\n          <InlineFieldRow style={{ marginTop: '10px' }}>\n            <InlineField label={t('language')} labelWidth={20}>\n              <Select\n                value={jsonData.language || Language.Chinese}\n                className=\"width-10\"\n                options={[\n                  { value: Language.English, label: 'English' },\n                  { value: Language.Chinese, label: '' },\n                ]}\n                onChange={(option: SelectableValue<Language>) => {\n                  setLanguage(option.value);\n                  this.patchJsonData({\n                    language: option.value,\n                  });\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n          <InlineFieldRow style={{ marginTop: '10px' }}>\n            <InlineField label={t('enable_intranet_API_mode')} labelWidth={20}>\n              <InlineSwitch\n                value={jsonData.intranet}\n                onChange={(e) => {\n                  // onIntranetChange\n                  this.patchJsonData({\n                    intranet: e.currentTarget.checked,\n                  });\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n        </div>\n\n        {this.renderRUMConfig()}\n        {this.renderLogServiceConfig()}\n        {this.renderMonitorConfig()}\n      </>\n    );\n  }\n\n  renderRUMConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Real User Monitoring</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('RUM')}>\n            <InlineSwitch\n              value={jsonData.RUMServiceEnabled}\n              onChange={(e) => {\n                this.patchJsonData({\n                  RUMServiceEnabled: e.currentTarget.checked,\n                });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      </div>\n    );\n  }\n\n  renderLogServiceConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    const { isClsAlertVisiable } = this.state;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Log Service</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('CLS')}>\n            <InlineSwitch\n              value={jsonData.logServiceEnabled}\n              onChange={(e) => {\n                const logServiceEnabled = e.currentTarget.checked;\n                this.patchJsonData({\n                  logServiceEnabled,\n                });\n                if (logServiceEnabled)\n                  this.setState({\n                    isClsAlertVisiable: true,\n                  });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        {isClsAlertVisiable && <Alert severity=\"info\" title=\" CLS  Grafana\" />}\n      </div>\n    );\n  }\n\n  renderMonitorConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    const { monitorFilter } = this.state;\n    //  product \n    const filteredProducts = SERVICES.filter((item) => item.label.toLowerCase().includes(monitorFilter.toLowerCase()));\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Monitor Services</h3>\n        <InlineFieldRow style={{ marginBottom: 10 }}>\n          <InlineField>\n            <Input\n              placeholder=\"Input keyword to filter...\"\n              width={40}\n              value={monitorFilter}\n              onChange={(e) => {\n                this.setState({\n                  monitorFilter: e.currentTarget.value,\n                });\n              }}\n            />\n          </InlineField>\n          <InlineField label=\"Select All\" style={{ marginLeft: 20 }}>\n            <InlineSwitch\n              value={filteredProducts.every((product) => jsonData[product.service])}\n              onChange={(e) => {\n                const toChecked = e.currentTarget.checked;\n                const allCheckObject = {};\n                filteredProducts.forEach((product) => {\n                  allCheckObject[product.service] = toChecked;\n                });\n                this.patchJsonData(allCheckObject);\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        {filteredProducts.map((product) => {\n          return (\n            <InlineFieldRow key={product.service}>\n              <InlineField\n                labelWidth={55}\n                label={product.label}\n                tooltip={\n                  <a target=\"_blank\" href={product.href}>\n                    {`Click here for more information of ${product.label}.`}\n                  </a>\n                }\n              >\n                <InlineSwitch\n                  value={Boolean(jsonData[product.service])}\n                  onChange={(e) => {\n                    this.patchJsonData({\n                      [product.service]: e.currentTarget.checked,\n                    });\n                  }}\n                />\n              </InlineField>\n            </InlineFieldRow>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\n// @grafana/ui 7.3.6 InlineSwitch \nfunction InlineSwitch(props) {\n  return (\n    <div\n      style={{\n        padding: '0px 8px',\n        height: 32,\n        display: 'inline-flex',\n        WebkitBoxAlign: 'center',\n        alignItems: 'center',\n        // background: '#F4F5F5',\n        border: '1px solid rgba(204, 204, 220, 0.15)',\n        borderRadius: 2,\n      }}\n    >\n      <Switch {...props} />\n    </div>\n  );\n}\n","import { DataSourcePlugin } from '@grafana/data';\nimport { QueryEditor } from './QueryEditor';\nimport { VariableQueryEditor } from './VariableQueryEditor';\nimport { DataSource } from './DataSource';\nimport { ConfigEditor } from './config-editor/ConfigEditor';\n\nexport const plugin = new DataSourcePlugin<any>(DataSource)\n  .setQueryEditor(QueryEditor)\n  .setConfigEditor(ConfigEditor)\n  .setVariableQueryEditor(VariableQueryEditor);\n"],"sourceRoot":""}