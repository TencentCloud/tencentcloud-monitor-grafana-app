{"version":3,"sources":["webpack://TencentCloudMonitorGrafanaApp/webpack/bootstrap","webpack://TencentCloudMonitorGrafanaApp/external \"lodash\"","webpack://TencentCloudMonitorGrafanaApp/./locale/zh_CN.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/en_US.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/index.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/sign.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/signV2.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/external \"react\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/utils.ts","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/core_module\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/query.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/data\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/indexedDB.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/datasourceStorage.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/ui\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/types.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/index.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/runtime\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/external \"emotion\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/tslib/tslib.es6.js","webpack://TencentCloudMonitorGrafanaApp/external \"moment\"","webpack://TencentCloudMonitorGrafanaApp/external \"rxjs\"","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subscription.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/identity.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/pipe.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Observable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/toSubscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/canReportError.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cos/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/config.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cos/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor sync ^.*$","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APM_query_model.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/MonitorDatasource.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/observable.js","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/utils/kbn\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/query_part.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/hostReportError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/utils.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/formats.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/query_filter.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/index.js","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/table_model\"","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/iterator.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/innerSubscribe.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/constants.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Observer.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/stringify.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/parse.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor sync ^\\.\\/[a-zA-Z]\\w+\\/(datasource)|(query(_def)","webpack://TencentCloudMonitorGrafanaApp/external \"angular\"","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isFunction.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/query_builder.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isObject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isArrayLike.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isPromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeTo.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/map.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/css-loader/dist/runtime/api.js","webpack://TencentCloudMonitorGrafanaApp/external \"app/plugins/sdk\"","webpack://TencentCloudMonitorGrafanaApp/external \"react-dom\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/partials/query.editor.html","webpack://TencentCloudMonitorGrafanaApp/../node_modules/eventemitter3/index.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APMServiceDataSource.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APM_series.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/response_parser.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/css/query_editor.css?c63a","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/css/query_editor.css","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/index.less?44dc","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/index.less","webpack://TencentCloudMonitorGrafanaApp/../node_modules/buffer/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/@grafana/toolkit/node_modules/webpack/buildin/global.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/base64-js/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/ieee754/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/isarray/index.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/multi_condition.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/custom_select_dropdown.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/react-loader.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/cascader.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/partials/queryEditorTemplate.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/query.ctrl.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/QueryCtrlRender.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useLatest.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/model/api.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useEffectOnce.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/utils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/components/TopicSelector.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/LogServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/query_builder.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMMetadataQuery.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/query_part.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUM_query_model.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/unwrap.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/toSelectableValue.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/partListUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/SegmentSection.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/node_modules/tslib/tslib.es6.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useAsyncFn.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMountedState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/usePrevious.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/useShadowedState.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/Seg.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/FromSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/tagUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/AddButton.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/TagsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/PartListSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/styles.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/InputSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/OrderByTimeSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/FormatAsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/useUniqueId.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/queryUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APMMetadataQuery.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/unwrap.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/toSelectableValue.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/partListUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/SegmentSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/useShadowedState.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/Seg.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/FromSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/tagUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/AddButton.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/TagsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/PartListSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/styles.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/InputSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/FormatAsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/OrderBySeries.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APMServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/useUniqueId.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/queryUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/QueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/VariableQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/SubjectSubscription.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/refCount.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/multicast.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/share.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/prestoType.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/ConvertSearchResultsToDataFrame.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/formatSearchLog.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/prepareTimeSeries.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/utils/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/LogServiceDataSource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/ConvertLogContextToDataFrame.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUM_series.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/response_parser.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMServiceDataSource.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/DataSource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/config-editor/ConfigEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/module.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/catchError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduled.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isInteropObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/mergeMap.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/from.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","language","enable_intranet_API_mode","cloud_database","cloud_load_balancer","virtual_private_cloud","content_delivery_network","message_queue","direct_connect","cloud_physical_machine","elastic_mapReduce","edge_computing_machine","RUM","APM","CLS","CVM","CDB","CMONGO","POSTGRES","REDIS","REDIS_MEM","SQLSERVER","CYNOSDB_MYSQL","TCAPLUS","TDMYSQL","PCX","BWP","NAT_GATEWAY","VPNGW","VPNX","DCG","CEIP_SUMMARY","VPC_NET_DETECT","VBC","LB","LB_PUBLIC","LB_PRIVATE","LOADBALANCE","CDN","CDN_LOG_DATA","OV_CDN","SCF_V2","CFS","COS","CKAFKA","CMQ","CMQTOPIC","TDMQ","TDMQ_ROCKETMQ","TDMQ_RABBITMQ","DCX","DC","CPM","BM_PCX","BM_LB","BM_INTRA_LB","CES","BLOCK_STORAGE","APIGATEWAY","QAAP","ECM","ECM_BLOCK_STORAGE","ECM_LB","GSE","TKE","ECDN","WAF","multi_scene","lite","cloud_monitor","cloud_log_service","real_user_monitoring","apm_monitoring","region","log_topic","syntax_rule","max_result_num","search_statement","time_unit","seconds","search_description","Language","locale_language","Chinese","setLanguage","getLanguage","options","secretId","service","action","host","version","payload","backendSrv","datasourceId","this","JSON","stringify","nowDate","utc","timestamp","unix","date","format","getHeader","getResourceHeader","res","datasourceRequest","url","method","headers","data","Host","Service","Version","Action","Region","Timestamp","Method","Uri","Query","Body","Headers","resp","authorization","token","intranet","grafanaVersion","window","grafanaBootData","settings","buildInfo","Authorization","toString","defaults","path","generateQueryString","getResourceQueryString","assign","secretKey","querystring","queryString","TcDataSourceId","id","FINACE_REGIONS","SERVICES_API_INFO","api","monitor","cls","cvm","cdb","pcx","vpc","mongodb","clb","postgres","cdn","redis","scf","cfs","ckafka","dc","cynosdb","sqlserver","bm","bmeip","bmvpc","bmlb","es","emr","cmq","cbs","tcaplusdb","dcdb","apigateway","tdmq","tdmq_rabbitmq","tdmq_rocketmq","gaap","ecm","gse","lighthouse","tsf","rum","tke","ecdn","waf","apm","FINACE_HOST","GetServiceAPIInfo","indexOf","find","__","getHostAndPath","GetServiceFromNamespace","namespace","ParseMetricQuery","query","result","queries","split","forEach","item","str","trim","val","parse","e","toLower","ReplaceVariable","templateSrv","scopedVars","field","multiple","varname","varFlag","regResult1","String","match","regResult2","parseVariableFormat","replaceVar","replace","error","isArray","GetDimensions","obj","isEmpty","dimensions","Value","undefined","push","Name","ParseQueryResult","response","instances","timeshift","instanceList","cloneDeep","dataPoints","map","dataPoint","instanceAliasValue","length","isInstanceMatch","_InstanceAliasValue","splice","target","MetricName","datapoints","parseDataPoint","timestamps","values","index","instance","isVariable","GetRequestParams","signObj","signParams","pick","headerSigned","GetRequestParamsV2","sign","SliceLength","total","len","num","Math","ceil","Offset","CoreApp","IS_DEVELOPMENT_ENVIRONMENT","instanceSettings","instanceListCache","extraMetricDims","checkKeys","MetricReqConfig","extrasAlias","queryMonitorExtraConfg","CandiateDimensions","jsonData","Namespace","getOtherAlias","alias","extra","extraAlia","getVariable","getAliasValue","Array","join","formatVarDisplay","displayTpl","instanceAlias","a","b","InstanceAliasList","includes","metricFindQuery","regex","display","instancealias","templateQueryIdMap","isObject","isString","getRegions","getVariableInstances","flatMap","insAlias","text","setInstance","getInstance","instanceCache","fetchMetricData","Promise","resolve","dimensionsFormat","dimKeys","ins","dimensionObject","keyTmp","invalidDim","InvalidDimensions","getInvalidDimensions","extraDimValue","dim_KeyInStorage","dim_KeyInTarget","dim_KeyInMap","dim_KeyInIns","extraSourceMap","getExtraStorage","extraStorage","isStringOrNumber","isNumber","otherAlias","getDimensionsVal","Ekey","dimVal","filter","targets","hide","metricName","reduce","prev","cloneTarget","concat","inst","getDefaultInsObj","insInReq","keys","dimResult","Dimensions","StartTime","range","from","subtract","EndTime","to","Period","period","Instances","getMonitorData","all","then","responses","flatten","getInstanceReqConfig","selfIns","metric","rs","valStr","params","serviceInfo","doRequest","RegionSet","RegionName","RegionState","getMetrics","MetricSet","resFilterFn","resultFilter","getInstances","InstanceReqConfig","interceptor","Limit","request","Error","TotalCount","TotalCnt","TotalNumber","param","isValidConfigField","testDatasource","cvmErr","monitorErr","serviceErr","cvmAuthFail","monitorAuthFail","serviceAuthFail","messages","message","compact","uniq","status","title","statusText","code","__WEBPACK_EXTERNAL_MODULE__4__","getFieldsValue","fields","fetchAllFactory","fetcher","_params","omit","Result","firstLists","delta","batchCount","pmList","fill","_","isOffsetPage","acc","cur","lists","list","instanceQueryParamsBaseParse","isFilter","Values","slice","Filters","getNamesapceFromService","serviceName","serviceGroupBy","services","label","groupName","existedGroup","items","isTargetEqual","newTargetString","oldTargetString","newTarget","oldTarget","getTimeShiftInMs","timeShift","parts","exec","amount","parseInt","__WEBPACK_EXTERNAL_MODULE__6__","config","detailConfig","QueryCtrl","newQueryIns","$scope","$rootScope","getDropdown","datasource","getFilterDropdown","directive","template","controller","restrict","scope","showDetail","getDropdownOptions","onChange","__WEBPACK_EXTERNAL_MODULE__8__","store","promisify","type","reject","onsuccess","event","returnMap","msg","onerror","props","initDB","indexedDB","webkitIndexedDB","mozIndexedDB","msIndexedDB","open","onupgradeneeded","db","objectStoreNames","contains","createObjectStore","keyPath","openDB","insertData","storeName","transaction","objectStore","add","oncomplete","addData","isCover","getData","oldData","getObjectStore","newData","requestUpdate","put","seviceName","getAllData","getAll","insKey","cacheWay","setStorage","getStorage","setExtraStorage","EValue","serviceKey","storage","__WEBPACK_EXTERNAL_MODULE__10__","CKAFKAQueryDescriptor","enDescriptor","cnDescriptor","link","min","max","CKAFKA_STATE","metricUnit","topicId","topicName","consumerGroup","partition","Status","InstanceId","SearchWord","TagKey","GetInstanceQueryParams","CKAFKAInstanceAliasList","CKAFKATopicAliasList","CKAFKAInvalidDemensions","Proxy","prop","toLocaleLowerCase","keyInStorage","TopicList","GroupList","PartitionList","TopicId","TopicName","GroupName","PartitionId","queryEditorName","LOADBALANCEFieldsDescriptor","queryEditorConfig","instanceDocUrl","fieldDescriptor","LOADBALANCE_STATE","Port","Protocol","listener","servers","serverPort","LoadBalancerIds","Forward","LoadBalancerName","Domain","LoadBalancerVips","BackendPublicIps","BackendPrivateIps","ProjectId","WithRs","VpcId","SecurityGroup","MasterZone","OrderBy","OrderType","LOADBALANCEListenerAliasList","LOADBALANCEServerAliasList","LOADBALANCEVALIDDIMENSIONS","vip","loadBalancerPort","protocol","lanIp","port","CANDIATEDIMENSIONS","PrivateIpAddresses","ServerPort","TDMQInvalidDemensions","tenantId","tenant","environmentId","TDMQInstanceAliasList","TDMQFilterFieldsDescriptor","CDNPROVINCE_STATE","regionSupported","modifyDimensons","metricItem","metricTmp","EnvironmentId","ServiceType","ServiceTypeOptions","logService","RUMService","APMService","defaultQueryInfo","serviceType","logServiceParams","SyntaxRule","CQL","RUMServiceParams","policy","resultFormat","orderByTime","tags","groupBy","select","APMServiceParams","orderType","orderBy","queryInfoRuntime","refId","queryType","dataTopic","fleetId","GSEInvalidDemensions","instanceid","fleetid","queuename","GSEInstanceAliasList","FleetId","fleet","queue","GSEFilterFieldsDescriptor","GSE_STATE","v","DCDBInvalidDemensions","nodeid","shardid","ShardId","DCDBInstanceAliasList","NodeId","ShardInstanceId","DCDBFilterFieldsDescriptor","DCDB_STATE","InstanceIds","SearchName","SearchKey","ProjectIds","SubnetId","OrderByType","ExclusterType","ExclusterIds","FilterInstanceType","modifyMetricConf","IsFilterVpc","IsFilterExcluster","RedisMemFieldsDescriptor","REDISMEM_STATE","VpcIds","SubnetIds","InstanceName","UniqVpcIds","UniqSubnetIds","TypeVersion","EngineName","AutoRenew","BillingMode","Type","rnodeid","pnodeid","REDISMEMInstanceAliasList","RedisMemInvalidDemensions","NodeType","node","TDMQRABBITMQInstanceAliasList","TDMQ_STATE","NodeName","group","TDMQROCKETMQInstanceAliasList","instanceIdsChecked","filtersChecked","ClusterIdList","includeVip","NamespaceId","SERVICES","href","hideRegion","Datasources","InitStates","hackModuleName","postgresql","mr","filePath","moduleName","fileName","prefix","toUpperCase","getParams","ECMBLOCKSTORAGEInvalidDemensions","uuid","diskId","ECMBLOCKSTORAGEInstanceAliasList","ECMBLOCKSTORAGEFilterFieldsDescriptor","ECMBLOCKSTORAGE_STATE","DiskId","__WEBPACK_EXTERNAL_MODULE__22__","APIGATEWAYInvalidDemensions","serviceId","environmentName","apiid","apiId","APIGATEWAYInstanceAliasList","environmentList","EnvironmentName","APIGATEWAYFilterFieldsDescriptor","APIGATEWAY_STATE","ServiceId","ServiceName","NotUsagePlanId","Environment","IpVersion","InstanceQueryDescriptor","InvalidDemensions","k","receiver","startsWith","Reflect","has","propKey","Ip","nodeIP","DisplayStrategy","Order","OrderField","Asc","VCLBInvalidDemensions","VCLBInstanceAliasList","VCLBFilterFieldsDescriptor","VCLB_STATE","clbNamespaceMap","public","private","__WEBPACK_EXTERNAL_MODULE__26__","cynosdbMysqlFilterFieldsDescriptor","CYNOSDB_STATE","DbType","CYNOSDBMYSQLInstanceAliasList","CYNOSDBInvalidDemensions","instanceId","SCFQueryDescriptor","SCF_STATE","Description","SCFInstanceAliasList","SCFInvalidDemensions","functionName","SCFDefaultDimensionList","CLSInvalidDemensions","CLSInstanceAliasList","CLSFilterFieldsDescriptor","CLS_STATE","uin","logsetName","logsetId","tagKey","storageType","SQLSERVERInvalidDemensions","resourceId","SQLSERVERInstanceAliasList","SQLSERVERNETFilterFieldsDescriptor","SQLSERVER_STATE","InstanceIdSet","PayMode","VipSet","InstanceNameSet","VersionSet","Zone","BMINTRALBInvalidDemensions","vpcId","BMINTRALBInstanceAliasList","BMINTRALBFilterFieldsDescriptor","BMINTRALB_STATE","BMLBValidMetricsT","isValidMetric","validMetrics","toUpper","CPMInvalidDemensions","BMLBInstanceAliasList","CPMFilterFieldsDescriptor","CPM_STATE","BMPCXInvalidDemensions","peeringConnectionId","BMPCXInstanceAliasList","BMPCXFilterFieldsDescriptor","BMPCX_STATE","VpcPeerConnectionIds","CBSInvalidDemensions","diskname","unInstanceId","CBSInstanceAliasList","CBSFilterFieldsDescriptor","CBS_STATE","DiskIds","ReturnBindAutoSnapshotPolicy","metricObj","dimension","CDNPROVINCEInvalidDemensions","domain","projectid","province","appid","CDNPROVINCEInstanceAliasList","CDNPROVINCEFilterFieldsDescriptor","isp","district","origin","projectId","domainType","fullUrlCache","https","originPullProtocol","CEIPInvalidDemensions","eip","CEIPSUMMARYInstanceAliasList","CEIPFilterFieldsDescriptor","CEIP_STATE","subscription","subscriptionId","CPMInstanceAliasList","DeviceClassCode","WanIps","LanIps","Alias","VagueIp","AutoRenewFlag","DeviceType","IsLuckyDevice","ECDNInstanceAliasList","ECDNInvalidDemensions","ECDN_STATE","disable","area","ECDNFilterFieldsDescriptor","_queries","Fuzzy","ECMInvalidDemensions","ECMInstanceAliasList","ECMFilterFieldsDescriptor","ECM_STATE","zone","PostgresFieldsDescriptor","POSTGRESInstanceAliasList","POSTGRES_STATE","PostgreInvalidDemensions","uid","VPCNETInvalidDemensions","netdetectid","netDetectId","VPCNETDETECTInstanceAliasList","VPCNETFilterFieldsDescriptor","VPCNET_STATE","WAFFilterFieldsDescriptor","WAF_STATE","WAFInstanceAliasList","WAFInvalidDemensions","CDBFieldsDescriptor","CDB_STATE","InstanceTypes","Vips","SecurityGroupId","PayTypes","InstanceNames","TaskStatus","EngineVersions","ZoneIds","CdbErrors","OrderDirection","InitFlag","CDBInstanceAliasList","CDBInvalidDemensions","insttype","CESInvalidDemensions","uInstanceId","CESInstanceAliasList","CESFilterFieldsDescriptor","CES_STATE","OrderByKey","IpList","DCFilterFieldsDescriptor","DC_STATE","DirectConnectIds","DCInstanceAliasList","DCInvalidDemensions","directConnectId","directconnectid","DCGInvalidDemensions","directConnectGatewayId","DCGInstanceAliasList","DCGFilterFieldsDescriptor","DCG_STATE","DCXFilterFieldsDescriptor","DCX_STATE","DCXInstanceAliasList","DCXInvalidDemensions","directconnectconnid","directConnectConnId","ECMLBInvalidDemensions","ECMLBInstanceAliasList","ECMLBFilterFieldsDescriptor","MONGODBFieldsDescriptor","MONGODB_STATE","InstanceType","ClusterType","MONGODBInstanceAliasList","MONGODBInvalidDemensions","replica","Replica","Node","QAAPInvalidDemensions","channelId","QAAPInstanceAliasList","QAAPFilterFieldsDescriptor","QAAP_STATE","AccessRegion","RealServerRegion","GroupId","TCAPLUSInvalidDemensions","TCAPLUSInstanceAliasList","TCAPLUSFilterFieldsDescriptor","TCAPLUS_STATE","ClusterId","TableGroupIds","TableName","TableInstanceId","TableIdlType","TableType","ListElementNum","ReservedVolume","ReservedReadQps","ReservedWriteQps","Memo","FileName","FileExtType","FileSize","FileContent","SelectedTables","regonsMap","VBCInvalidDemensions","VBCInstanceAliasList","VBCFilterFieldsDescriptor","VBC_STATE","DRegion","SRegion","state","VPNGWInvalidDemensions","vpnGwId","VPNGWInstanceAliasList","VPNGWFilterFieldsDescriptor","VPNGW_STATE","VPNXInvalidDemensions","vpnConnId","VPNXInstanceAliasList","VPNXFilterFieldsDescriptor","VPNX_STATE","LighthouseFilterFieldsDescriptor","LIGHTHOUSE_STATE","LIGHTHOUSEInstanceAliasList","LighthouseInvalidDemensions","CFSQueryDescriptor","CFS_STATE","FileSystemId","CFSInstanceAliasList","CFSInvalidDemensions","queueId","queueName","QueueName","CVMFilterFieldsDescriptor","CVM_STATE","CVMInstanceAliasList","CVMValidMetricsT","CVMValidMetrics","PCX_STATE","limit","offset","peeringConnectionName","PCXFieldsDescriptor","PCXInstanceAliasList","RedisFieldsDescriptor","REDIS_STATE","REDISInstanceAliasList","RedisInvalidDemensions","redis_uuid","TSFFieldsDescriptor","TSF_STATE","ApplicationType","MicroserviceType","ApplicationResourceTypeList","ApplicationIdList","TSFInstanceAliasList","TSFInvalidDemensions","applicationid","BWPFilterFieldsDescriptor","BWP_STATE","BandwidthPackageIds","BWPInstanceAliasList","BWPInvalidDemensions","bandwidthPackageId","CDNFilterFieldsDescriptor","CDN_STATE","CDNInstanceAliasList","CDNInvalidDemensions","LBFilterDescriptor","LB_STATE","LBInstanceAliasList","LBInvalidDemensions","NATGATEWAYInstanceAliasList","NATGatewayFilterFieldsDescriptor","NATGATEWAY_STATE","NatGatewayIds","NATInvalidDemensions","natId","OVCDNFilterFieldsDescriptor","OVCDN_STATE","OVCDNInstanceAliasList","OVCDNInvalidDemensions","extendStatics","setPrototypeOf","__proto__","__extends","constructor","__WEBPACK_EXTERNAL_MODULE__69__","__WEBPACK_EXTERNAL_MODULE__70__","x","UnsubscriptionError","UnsubscriptionErrorImpl","errors","err","Subscription","unsubscribe","closed","_parentOrParents","_subscriptions","_ctorUnsubscribe","_unsubscribe","empty","remove","isFunction","flattenUnsubscriptionErrors","sub","teardown","EMPTY","tmp","subscriptions","subscriptionIndex","errs","Subscriber","_super","destinationOrNext","complete","_this","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","arguments","destination","SafeSubscriber","next","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentSubscriber","observerOrNext","context","_context","useDeprecatedSynchronousErrorHandling","__tryOrSetError","__tryOrUnsub","wrappedComplete","fn","parent","identity","pipeFromArray","fns","input","Observable","subscribe","_isScalar","_subscribe","lift","operator","observable","source","sink","nextOrObserver","rxSubscriber","toSubscriber","_trySubscribe","observer","_a","closed_1","canReportError","promiseCtor","getPromiseCtor","pipe","operations","_i","toPromise","TKE_STATE","conditions","groupBys","ClusterIds","ClusterName","ClusterStatus","TKEFilterFieldsDescriptor","TKEInstanceAliasList","responseField","getEnvironmentNameList","LoadBalancerType","RegionMap","keyBy","RegionInfoSet","rawSet","getZones","ZoneSet","ZoneName","ZoneId","ZoneState","getConsumerList","MapInfoList","TopicAliasList","consumerGroupCache","getConsumerGroups","groupname","topicid","consumerGoup","topicList","GroupDetailList","uniqBy","SubscribedInfos","ConsumerGroupName","SubscribedInfo","partitions","Partition","formatTopicVarDisplay","topic","topicAlias","topicalias","par","ListenerAliasList","ServerAliasList","tagret","getListenerList","LoadBalancerId","formatVariableDisplay","aliasList","getServerList","listenerId","ListenerIds","Listeners","Rules","Targets","elem","listenAlias","lisId","listenerid","serverprivateip","serveralias","serversList","chain","dims","Set","fetchAllSubscription","SubscriptionId","cosURL","Buckets","BucketName","bucket","DeviceClassSet","Product","extraActionMap","DescribeDCDBShards","pickKey","DescribeDCDBInstanceNodeInfo","RegionList","act","getDiskList","instanceObj","getQueueNameList","getFleetList","ReplicaAliasList","replicaAlias","ReplicaSetId","replicasetid","times","SecondaryNum","nodeId","fetchAllNodes","NodeFlag","resultT","doRequestV2","totalCount","getVpcId","VpcSet","getVpcIds","MonitorVersion","getInstanceNodeInfo","nodetype","ndoeTypeIndex","getVersions","Versions","FunctionName","RegionInfos","DescribeTopics","DescribeEnvironments","DescribeRabbitMQNodeList","DescribeRocketMQNamespaces","DescribeRocketMQGroups","variableToArray","variable","tke_cluster_instance_id","Key","Operator","MetricNames","Module","Conditions","GroupBys","Data","Points","point","dimensionSort","dimensionString","timeshiftString","getAllMetrics","public_metrics","private_metrics","_enable_super_gross_mode_that_will_cause_bad_things","init","getInstanceId","getServiceFn","getExtraDropdown","sQuery","onRefresh","onChecked","srcField","dstField","bwpQuery","BWPQueryCtrl","cdbQuery","CDBQueryCtrl","cdnQuery","CDNQueryCtrl","ExtraFields","scfQuery","SCFQueryCtrl","onInstanceChange","getExtraFields","CKAFKAQueryCtrl","element","attrs","$watch","newValue","oldValue","onFieldChange","getVariableId","variableData","getServersDropdown","getServerPortDropdown","serverPortList","cacheMap","getTopicName","onExtraFieldChange","datas","CmqTopicQueryCtrl","cvmQuery","CVMQueryCtrl","dropdownTextConfig","actionMaps","lbQuery","LBQueryCtrl","lighthouseQuery","LighthouseQueryCtrl","replicaId","mongodbQuery","MongoDBQueryCtrl","some","dataT","mrQuery","MrQueryCtrl","natGatewayQuery","NatGatewayQueryCtrl","ovCdnQuery","OVCDNQueryCtrl","pcxQuery","PCXQueryCtrl","redisQuery","RedisQueryCtrl","clearExtrasAlias","redisMemQuery","RedisMemQueryCtrl","evId","tdmqRocketmqQuery","TdmqRocketmqQueryCtrl","addCondition","deleteCondition","targetCondition","getOperator","tsfQuery","TSFQueryCtrl","VBCQueryCtrl","webpackContext","req","webpackContextResolve","selectModels","updateProjection","groupByParts","updatePersistedParts","selectParts","part","def","hasGroupByTime","g","hasFill","addGroupBy","stringParts","typePart","arg","partModel","partCount","removeGroupByPart","categories","getCategories","category","Aggregations","Selectors","removeSelect","removeSelectPart","modelsIndex","partIndex","addSelectPart","addStrategy","getMeasurementAndPolicy","interpolate","measurement","interpolateQueryStr","defaultFormatFn","multi","includeAll","regexEscape","render","rawQuery","y","selectText","tag","renderTagCondition","groupBySection","slimit","tz","renderAdhocFilters","filters","condition","toLowerCase","test","_class","getNamespaces","namespaces","getCascaderNamespaces","validServices","getSelectedServices","promises","optionsTemp","promiseTemp","Done","results","getListeners","errorMsg","upperFirst","fnName","argu","__WEBPACK_EXTERNAL_MODULE__190__","defaultParams","renderer","updateText","innerExpr","hasMultipleParamsInString","strValue","optional","updateParam","partVal","idx","functionRenderer","parameters","paramType","quote","unshift","Transformations","Predictors","Aliasing","Fields","createPart","QueryPart","register","QueryPartDef","groupByTimeFunctions","fieldRenderer","replaceAggregationAddStrategy","morePartsAvailable","addTransformationStrategy","dynamicLookup","renderMode","replaceAggregationAdd","hostReportError","setTimeout","hexTable","array","arrayToObject","plainObjects","refs","j","pop","compacted","compactQueue","decode","decodeURIComponent","encode","string","out","charCodeAt","charAt","isBuffer","isRegExp","merge","allowPrototypes","mergeTarget","percentTwenties","formatters","RFC1738","RFC3986","SPQueryCtrl","_config","queryDDO","formats","__WEBPACK_EXTERNAL_MODULE__199__","getSymbolIterator","iterator","SimpleInnerSubscriber","notifyNext","notifyError","notifyComplete","SimpleOuterSubscriber","apply","innerValue","innerSubscribe","innerSubscriber","SearchSyntaxRule","uuidRegex","random","RESULT_FORMATS","DEFAULT_RESULT_FORMAT","ENABLE_MEASUREMENTS","utils","arrayPrefixGenerators","brackets","indices","repeat","toISO","Date","toISOString","delimiter","encoder","encodeValuesOnly","serializeDate","skipNulls","strictNullHandling","generateArrayPrefix","sort","allowDots","formatter","objKeys","opts","TypeError","arrayFormat","joined","addQueryPrefix","arrayLimit","decoder","depth","parameterLimit","parseKeys","givenKey","child","segment","leaf","root","cleanRoot","isNaN","parseArrays","parseObject","ignoreQueryPrefix","tempObj","cleanStr","Infinity","bracketEqualsPos","pos","parseValues","newObj","__WEBPACK_EXTERNAL_MODULE__210__","database","buildExploreQuery","withKey","withMeasurementFilter","whereConditions","memo","isArrayLike","isPromise","subscribeTo","obs","promise","iterable","done","return","project","thisArg","MapOperator","MapSubscriber","count","isOldIE","Boolean","document","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","base","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","setAttribute","insert","appendChild","textStore","replaceText","replacement","applyToSingletonTag","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","btoa","unescape","encodeURIComponent","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","lastIdentifiers","newList","newLastIdentifiers","_index","useSourceMap","content","cssMapping","sourceMapping","base64","sourceURLs","sources","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","__WEBPACK_EXTERNAL_MODULE__222__","__WEBPACK_EXTERNAL_MODULE__223__","Events","EE","once","addListener","emitter","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","getOwnPropertySymbols","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","removeListener","on","removeAllListeners","off","prefixed","getFieldType","firstNotNull","number","valueType","timeSeriesToDataFrame","timeSeries","Number","time","displayNameFromDS","labels","meta","responseParser","classicQuery","timeFilter","getTimeFilter","queryTargets","allQueries","custom","fixTimePeriod","interval","__interval","current","adhocFilters","getAdhocFilters","_seriesQuery","seriesList","series","executedQueryString","apmSeries","preferredVisualisationType","getTable","getTimeSeries","interpolated","rangeRaw","timezone","_APMRequest","requestOptions","fetch","cancelled","buf","Buffer","Response","Code","Message","handleErrors","isInteger","getAPMTime","roundUp","valueOf","getTimePeriod","modifyTime","until","oneHour","compareResult","periodCompare","pre_period","units","reg","RegExp","pre","per","annotation","output","columns","seriesName","columnName","_getSeriesName","segments","g1","g2","segIndex","getAnnotations","titleCol","timeCol","timeEndCol","tagsCol","textCol","column","titleColumn","tagsColumn","textColumn","timeEndColumn","timeEnd","table","seriesIndex","firstCol","firstTableCol","reordered","rows","APMResults","normalizedQuery","isValueFirst","isShowMeasurements","serie","addUnique","dfs","selectedParams","allParams","selector","uniqueParams","incrementName","nameIncremenet","getSelectedParams","getTableCols","dfsByLabels","df","getTableRows","transformAnnotationResponse","rsp","colText","colContainsTag","toArray","metrics","default","exported","locals","___CSS_LOADER_API_IMPORT___","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","checked","copy","buffer","fromObject","assertSize","size","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","arr","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","hi","lo","utf16leToBytes","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","configurable","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","ret","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","leadSurrogate","toByteArray","stringtrim","base64clean","src","dst","Function","b64","lens","getLens","validLen","placeHoldersLen","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","log","LN2","placeholder","maxCond","toInteger","onInputBlur","onChangeInternal","cond","onSelectChange","getSelectedOptions","selectedOptions","option","maxNum","minNum","getOptions","show","oldVariableText","highlightIndex","selectOptions","selectedValue","selected","selectedValues","search","dropdownVisible","updateLinkText","linkText","clearSelections","each","selectionsChanged","keyDown","keyCode","moveHighlight","commitChanges","selectValue","direction","commitChange","excludeOthers","setAllExceptCurrentTo","other","ctrlKey","metaKey","shiftKey","queryChanged","customSelectDropdown","$compile","$window","$timeout","controllerAs","bindToController","bodyEl","body","linkEl","inputEl","bodyOnClick","$apply","vm","width","focus","RectCompo","componentName","propTypes","separator","changeOnSelect","onSelect","initialValue","allowCustomValue","formatCreateLabel","displayAllSelectedLevels","component","$element","_$scope","_$element","$onInit","entries","_query","loadBalance","lbPrivate","lbPublic","mongoDB","mrHDFS","mrHBASE","mrHIVE","mrNODE","mrPRESTO","mrSPARK","mrYARN","mrZOOKEEPER","editorHtml","serviceSwitch","$injector","regions","metricList","periodList","dimensionList","instanceAliasList","showInstanceDetails","cascaderOptions","defaultsDeep","getInstanceAliasList","panelCtrl","onDataReceived","onDataError","cascaderChange","onNamespaceChange","dataList","lastQueryError","lastQuery","anySeriesFromQuery","handleQueryCtrlError","initState","refresh","isCascader","onRegionChange","isMetricsNeedUpdate","panel","getMetricNameDesc","findIndex","Meaning","Zh","En","onMetricChange","getInstanceQueryParams","subItem","onInstanceAliasChange","onInstanceQueryChange","checkShowDetail","getTimeDesc","getSearchDesc","angularScope","angularQueryEditor","renderAngularQueryEditor","destroy","loader","scopeProps","ctrl","getAngularQueryComponentScope","load","componentDidMount","forceUpdate","componentDidUpdate","prevProps","legacy","timeRange","queryCtrl","components","dashboard","onRunQuery","ref","capiRequest","clsCapiRequest","regionCapiRequest","SearchLog","UseNewAnalysis","DescribeLogContext","DescribeRegionsAndZonesRequest","product","DescribeRegions","clsRegions","regionList","RegionId","RegionShortName","RegionTypeMC","RegionType","Location","regionId","regionName","regionShortName","oversea","effect","getStringVariableNameOptions","getVariables","refValue","TopicSelector","preferLastValue","localStorage","setItem","lastValue","getItem","topicSelectOptionsRef","setRegionList","fetchRegions","labelWidth","Topics","menuPlacement","className","defaultOptions","cacheOptions","loadOptions","filterStr","optionsWithVariables","displayName","LogServiceQueryEditor","propsRef","clone","partialOnChange","queryInfo","oldQuery","LUCENE","MaxResultNumInput","MaxResultNum","flexGrow","portalOrigin","onBlur","onChangeFromProps","onInputChange","currVal","currentTarget","invalid","q","getTagKeysForMeasurementAndTags","unwrap","toSelectableValue","getPartParams","dynamicParamOptions","paramValues","defParam","makePartList","queryParts","qp","htmlFor","children","styles","theme","spacing","inlineFormMargin","useAsyncFn","deps","initialState","loading","mountedRef","lastCallId","isMounted","callback","callId","prevState","usePrevious","useShadowedState","outsideVal","currentVal","setCurrentVal","prevOutsideVal","selectClass","minWidth","onClose","autoFocus","isOpen","onCloseMenu","loadState","doLoad","isLoading","filterByLoadOptions","currentValue","setCurrentValue","spellCheck","onKeyDown","defaultButtonClass","cursor","buttonClassName","disabled","setOpen","as","onClick","getPolicyOptions","getMeasurementOptions","allPolicies","isRegex","getCondition","isFirst","onAdd","operatorOptions","condititonOptions","loadConditionOptions","loadOperatorOptions","onRemove","getTagKeyOptions","getTagValueOptions","op","currentOperator","newTagValue","isCurrentOperatorRegex","onTagChange","newTag","newTags","newT","minimalTag","noRightMarginPaddingClass","paddingRight","marginRight","getContextMenuItems","openMenu","noHorizMarginPaddingClass","paddingLeft","marginLeft","partClass","lineHeight","typography","md","fontSize","onParamChange","newParams","isLast","Fragment","getNewPartOptions","onAddNewPart","onRemovePart","pars","paddingRightClass","isWide","OPTIONS","inputId","withTemplateVariableOptions","optionsPromise","filterTags","allTagKeys","RUMServiceQueryEditor","idRefLazy","uniqueId","formatAsId","orderByTimeId","queryCopy","normalizeQuery","selectLists","dynamicSelectPartOptions","Map","getFieldKeysForMeasurement","sel","getTagKeys","groupByList","dynamicGroupByPartOptions","onAppliedChange","newQuery","getAllPolicies","measurementFilter","getAllMeasurementsForTags","inlineLabel","getTagValues","listIndex","newSel","changeSelectPart","model","addNewSelectPart","selectModel","tagKeys","getNewGroupByPartOptions","newGroupBy","changeGroupByPart","addNewGroupByPart","APMServiceQueryEditor","orderBySeriesId","isAlertVisiable","app","UnifiedAlerting","setState","firstEnabledService","enabledServices","monitorEnabled","monitorDataSource","logServiceEnabled","RUMServiceEnabled","APMServiceEnabled","active","onChangeTab","renderMonitorQueryEditor","renderLogServiceQueryEditor","renderRUMServiceQueryEditor","renderAPMServiceQueryEditor","onQueryChange","definition","grow","tooltip","required","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscriber","Subject","hasError","thrownError","asObservable","AnonymousSubject","refCount","RefCountOperator","connectable","_refCount","refCounter","connection","connect","RefCountSubscriber","sharedConnection","_connection","ConnectableObservable","subjectFactory","_isComplete","getSubject","_subject","connectableObservableDescriptor","connectableProto","writable","ConnectableSubscriber","MulticastOperator","shareSubjectFactory","share","subjectOrSubjectFactory","ProcessorUtils","PrestoAndFieldTypeMap","prestoTypeRegex","fieldType","processor","isValid","LogFieldReservedName","formatSearchLog","Analysis","AnalysisRecords","analysisColumns","analysisRecords","prestoType","analysisColumn","record","parseLogJsonStr","logJsonStr","tagContent","__TAG__","tagValue","ConvertSearchResultsToDataFrame","searchLogResult","frameDTO","ConvertAnalysisJsonToDataFrameDTO","Results","timeField","TIMESTAMP","logField","LogJson","displayMode","sourceField","SOURCE","filenameField","Filename","hostnameField","HostName","metaField","META","hidden","logItem","logJson","RequestId","SamplingRate","ConvertLogJsonToDataFrameDTO","DataFrameType","timeSeriesFormat","toTimeSeriesMany","frame","valueFields","labelFields","builders","f","builder","TimeSeriesMany","uniqueValueNames","uniqueValueNamesToType","uniqueLabelKeys","labelKeyToWideIndices","uniqueFactorNamesToWideIndex","fieldIndex","tKey","wideIndices","labelKey","sortedTimeRowIndices","sortedUniqueLabelKeys","uniqueFactorNames","uniqueFactorNamesWithWideIndices","wideRowIndex","labelKeys","longFrame","TimeSeriesLong","addField","timeWideRowIndex","rowValues","wideFieldIndex","wideField","toTimeSeriesLong","CQL_SPLIT_PATTERN","getQueryLucene","querySplit","luceneQuery","replaceClsQueryWithTemplateSrv","sqlQuery","addQueryResultLimit","resultLimit","showContextToggle","row","dataFrame","metaValue","rowIndex","PkgId","PkgLogId","getLogRowContext","bTime","BTime","PrevLogs","NextLogs","logContext","LogContextInfos","idField","lineField","contextLog","Content","ConvertLogContextToDataFrame","dataFramePromise","From","To","Loading","frames","processedFrames","timeSeriesMany","getLogsVolumeDataProvider","RUMResults","rumSeries","_RUMRequest","mergeMap","catchError","getRUMTime","logServiceDataSource","tcDatasource","RUMServiceDataSource","APMServiceDataSource","DataSource","monitorTargets","logServiceTargets","RUMServiceTargets","APMServiceTargets","EmptyDataQueryResponse","errResponse","every","flat","serviceTestResults","failedResult","SecretFormField","patchJsonData","kv","onOptionsChange","onJsonDataChange","targetName","targetValue","onSecureJsonChange","secureJsonData","onResetSecureJson","secureJsonFields","monitorFilter","isClsAlertVisiable","position","marginTop","padding","WebkitBoxFlex","borderTop","margin","inputWidth","isConfigured","onReset","English","InlineSwitch","renderRUMConfig","renderAPMConfig","renderLogServiceConfig","renderMonitorConfig","severity","filteredProducts","marginBottom","toChecked","allCheckObject","height","WebkitBoxAlign","alignItems","border","borderRadius","setQueryEditor","setConfigEditor","setVariableQueryEditor","CatchOperator","caught","CatchSubscriber","err2","innerSubscription","scheduled","scheduler","isInteropObservable","schedule","scheduleObservable","schedulePromise","scheduleArray","isIterable","scheduleIterable","resultSelector","concurrent","POSITIVE_INFINITY","ii","MergeMapOperator","MergeMapSubscriber","hasCompleted","_tryNext","_innerSub","ish","shift"],"mappings":"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M,oDAER,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,mDACN,gBACE,OAAO,YAAE,oBAGb,CACEllB,QAAS,UACT,YACE,OAAO,YAAE,WAEX2G,UAAW,aACXue,KAAM,mDACN,gBACE,OAAO,YAAE,oBAGb,CACEllB,QAAS,WACT,YACE,OAAO,YAAE,aAEX2G,UAAW,eACXue,KAAM,uDACN,gBACE,OAAO,YAAE,oBAGb,CACEllB,QAAS,QACT,YACE,OAAO,YAAE,UAEX2G,UAAW,YACXue,KAAM,uDACN,gBACE,OAAO,YAAE,oBAGb,CACEllB,QAAS,WACT,YACE,OAAO,YAAE,cAEX2G,UAAW,gBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,oBAGb,CACEllB,QAAS,YACT,YACE,OAAO,YAAE,cAEX2G,UAAW,gBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,oBAGb,CACEllB,QAAS,eACT,YACE,OAAO,YAAE,kBAEX2G,UAAW,oBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,oBAGb,CACEllB,QAAS,UACT,YACE,OAAO,YAAE,YAEX2G,UAAW,cACXue,KAAM,uDACN,gBACE,OAAO,YAAE,oBAGb,CACEllB,QAAS,OACT,YACE,OAAO,YAAE,YAEX2G,UAAW,cACXue,KAAM,wDAER,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,sDACN,gBACE,OAAO,YAAE,2BAGb,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,mDACN,gBACE,OAAO,YAAE,2BAGb,CACEllB,QAAS,aACT,YACE,OAAO,YAAE,gBAEX2G,UAAW,kBACXue,KAAM,mDACN,gBACE,OAAO,YAAE,2BAGb,CACEllB,QAAS,QACT,YACE,OAAO,YAAE,UAEX2G,UAAW,YACXue,KAAM,uDACN,gBACE,OAAO,YAAE,2BAGb,CACEllB,QAAS,OACT,YACE,OAAO,YAAE,SAEX2G,UAAW,WACXue,KAAM,uDACN,gBACE,OAAO,YAAE,2BAGb,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,uDACN,gBACE,OAAO,YAAE,2BAGb,CACEllB,QAAS,cACT,YACE,OAAO,YAAE,iBAEX2G,UAAW,mBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,2BAGb,CACEllB,QAAS,eACT,YACE,OAAO,YAAE,mBAEX2G,UAAW,qBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,2BAGb,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,uDACN,gBACE,OAAO,YAAE,2BAGb,CACEllB,QAAS,KACT,YACE,OAAO,YAAE,OAEX2G,UAAW,SACXue,KAAM,uDACN,gBACE,OAAO,YAAE,2BAGb,CACEllB,QAAS,WACT,YACE,OAAO,YAAE,cAEX2G,UAAW,gBACXue,KAAM,uDACN,gBACE,MAAO,UAAG,YAAE,uBAAsB,YAAI,YAAE,eAAc,OAG1D,CACEllB,QAAS,YACT,YACE,OAAO,YAAE,eAEX2G,UAAW,iBACXue,KAAM,uDACN,gBACE,MAAO,UAAG,YAAE,uBAAsB,YAAI,YAAE,eAAc,OAG1D,CACEllB,QAAS,cACT,YACE,OAAO,YAAE,gBAEX2G,UAAW,kBACXue,KAAM,uDACN,gBACE,MAAO,UAAG,YAAE,uBAAsB,YAAI,YAAE,eAAc,OAG1D,CACEllB,QAAS,OACT,YACE,MAAO,UAAG,YAAE,uBAAsB,YAAI,YAAE,QAAO,MAEjD2G,UAAW,YACXue,KAAM,uDACN,gBACE,MAAO,UAAG,YAAE,uBAAsB,YAAI,YAAE,QAAO,OAGnD,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXwe,YAAY,EACZD,KAAM,uDACN,gBACE,OAAO,YAAE,8BAGb,CACEllB,QAAS,cACT,YACE,OAAO,YAAE,iBAEX2G,UAAW,mBACXwe,YAAY,EACZD,KAAM,uDACN,gBACE,OAAO,YAAE,8BAGb,CACEllB,QAAS,QACT,YACE,OAAO,YAAE,WAEX2G,UAAW,aACXwe,YAAY,EACZD,KAAM,uDACN,gBACE,OAAO,YAAE,8BAGb,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,WAEX2G,UAAW,aACXue,KAAM,wDAER,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,wDAER,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,wDAER,CACEllB,QAAS,SACT,YACE,OAAO,YAAE,WAEX2G,UAAW,aACXue,KAAM,uDACN,gBACE,OAAO,YAAE,mBAGb,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,uDACN,gBACE,OAAO,YAAE,mBAGb,CACEllB,QAAS,WACT,YACE,OAAO,YAAE,aAEX2G,UAAW,eACXue,KAAM,uDACN,gBACE,OAAO,YAAE,mBAGb,CACEllB,QAAS,OACT,YACE,OAAO,YAAE,SAEX2G,UAAW,WACXue,KAAM,uDACN,gBACE,OAAO,YAAE,mBAGb,CACEllB,QAAS,eACT,YACE,OAAO,YAAE,kBAEX2G,UAAW,eACXue,KAAM,uDACN,gBACE,OAAO,YAAE,mBAGb,CACEllB,QAAS,eACT,YACE,OAAO,YAAE,kBAEX2G,UAAW,eACXue,KAAM,uDACN,gBACE,OAAO,YAAE,mBAGb,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,uDACN,gBACE,OAAO,YAAE,oBAGb,CACEllB,QAAS,KACT,YACE,OAAO,YAAE,OAEX2G,UAAW,SACXue,KAAM,uDACN,gBACE,OAAO,YAAE,oBAGb,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,uDACN,gBACE,OAAO,YAAE,4BAGb,CACEllB,QAAS,QACT,YACE,OAAO,YAAE,WAEX2G,UAAW,aACXue,KAAM,uDACN,gBACE,OAAO,YAAE,4BAGb,CACEllB,QAAS,OACT,YACE,OAAO,YAAE,UAEX2G,UAAW,YACXue,KAAM,uDACN,gBACE,OAAO,YAAE,4BAGb,CACEllB,QAAS,YACT,YACE,OAAO,YAAE,gBAEX2G,UAAW,kBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,4BAGb,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEX2G,UAAW,UACXue,KAAM,wDAER,CACEllB,QAAS,SACT,YACE,MAAO,UAAG,YAAE,qBAAoB,WAElC2G,UAAW,gBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,uBAGb,CACEllB,QAAS,UACT,YACE,MAAO,UAAG,YAAE,qBAAoB,YAElC2G,UAAW,iBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,uBAGb,CACEllB,QAAS,SACT,YACE,MAAO,UAAG,YAAE,qBAAoB,WAElC2G,UAAW,gBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,uBAGb,CACEllB,QAAS,SACT,YACE,MAAO,UAAG,YAAE,qBAAoB,WAElC2G,UAAW,gBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,uBAGb,CACEllB,QAAS,WACT,YACE,MAAO,UAAG,YAAE,qBAAoB,aAElC2G,UAAW,kBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,uBAGb,CACEllB,QAAS,UACT,YACE,MAAO,UAAG,YAAE,qBAAoB,YAElC2G,UAAW,iBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,uBAGb,CACEllB,QAAS,SACT,YACE,MAAO,UAAG,YAAE,qBAAoB,WAElC2G,UAAW,gBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,uBAGb,CACEllB,QAAS,cACT,YACE,MAAO,UAAG,YAAE,qBAAoB,gBAElC2G,UAAW,qBACXue,KAAM,uDACN,gBACE,OAAO,YAAE,uBAGb,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,kBAEX2G,UAAW,oBACXue,KAAM,uDAER,CACEllB,QAAS,aACT,YACE,OAAO,YAAE,eAEX2G,UAAW,iBACXue,KAAM,wDAER,CACEllB,QAAS,OACT,YACE,OAAO,YAAE,SAEX2G,UAAW,WACXue,KAAM,kDAER,CACEllB,QAAS,MACT,YACE,OAAO,YAAE,QAEXmlB,YAAY,EACZxe,UAAW,UACXue,KAAM,kDACN,gBACE,OAAO,YAAE,4BAGb,CACEllB,QAAS,kBACT,YACE,OAAO,YAAE,sBAEXmlB,YAAY,EACZxe,UAAW,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","file":"datasource/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 239);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","const zh_CN = {\n  language: '',\n  enable_intranet_API_mode: 'API',\n  cloud_database: '',\n  cloud_load_balancer: '',\n  virtual_private_cloud: '',\n  content_delivery_network: '',\n  message_queue: '',\n  direct_connect: '',\n  cloud_physical_machine: '',\n  elastic_mapReduce: ' MapReduce',\n  edge_computing_machine: '',\n  // namespace\n  RUM: '(RUM)',\n  APM: '(APM)',\n  CLS: '(CLS)',\n  CVM: '(CVM)',\n  CDB: ' MySQL(CDB)',\n  CMONGO: ' MongoDB(CMONGO)',\n  POSTGRES: ' PostgreSQL(POSTGRES)',\n  REDIS: ' Redis(REDIS)',\n  REDIS_MEM: ' Redis(5s)(REDIS_MEM)',\n  SQLSERVER: ' SQL Server(SQLSERVER)',\n  CYNOSDB_MYSQL: ' CYNOSDB_MYSQL(CYNOSDB_MYSQL)',\n  TCAPLUS: ' TcaplusDB(TCAPLUS)',\n  TDMYSQL: ' TDSQL MySQL(TDMYSQL)',\n  PCX: '-(PCX)',\n  BWP: '-(BWP)',\n  NAT_GATEWAY: '-NAT (NAT_GATEWAY)',\n  VPNGW: '-VPN (VPNGW)',\n  VPNX: '-VPN (VPNX)',\n  DCG: '-(DCG)',\n  CEIP_SUMMARY: '-Anycast IP(CEIP_SUMMARY)',\n  VPC_NET_DETECT: '-(VPC_NET_DETECT)',\n  VBC: '-(VBC)',\n  LB: '-IP(LB)',\n  LB_PUBLIC: '(LB_PUBLIC)',\n  LB_PRIVATE: '(LB_PRIVATE)',\n  LOADBALANCE: '(LOADBALANCE)',\n  CDN: '(CDN)',\n  CDN_LOG_DATA: '(CDN_LOG_DATA)',\n  OV_CDN: '(OV_CDN)',\n  SCF_V2: '(SCF)',\n  CFS: '(CFS)',\n  COS: '(COS)',\n  CKAFKA: ' CKafka(CKAFKA)',\n  CMQ: '-(CMQ)',\n  CMQTOPIC: '-(CMQTOPIC)',\n  TDMQ: ' Pulsar (TDMQ)',\n  TDMQ_ROCKETMQ: ' RocketMQ (ROCKETMQ)',\n  TDMQ_RABBITMQ: ' RabbitMQ (RABBITMQ)',\n  DCX: '-(DCX)',\n  DC: '-(DC)',\n  CPM: '(CPM)',\n  BM_PCX: '(BM_PCX)',\n  BM_LB: '(BM_LB)',\n  BM_INTRA_LB: '(BM_INTRA_LB)',\n  CES: 'Elasticsearch(CES)',\n  BLOCK_STORAGE: '(BLOCK_STORAGE)',\n  APIGATEWAY: 'API (APIGATEWAY)',\n  QAAP: '(GAAP)',\n  ECM: '(ECM)',\n  ECM_BLOCK_STORAGE: '(ECM_BLOCK_STORAGE)',\n  ECM_LB: '(ECM_LB)',\n  GSE: '(GSE)',\n  TKE: '(TKE)',\n  ECDN: '(ECDN)',\n  WAF: 'Web (WAF)',\n  // others\n  multi_scene: '',\n  lite: '',\n  cloud_monitor: '',\n  cloud_log_service: '',\n  real_user_monitoring: '',\n  apm_monitoring: '',\n  region: '',\n  log_topic: '',\n  syntax_rule: '',\n  max_result_num: '',\n  search_statement: '',\n  time_unit: 'Time unit',\n  seconds: 'seconds',\n  search_description: ' 20 ',\n  // region\n  'ap-guangzhou': '()',\n  'ap-shenzhen-fsi': '()',\n  'ap-guangzhou-open': '(OPEN)',\n  'ap-shenzhen': '()',\n  'ap-qingyuan': '()',\n  'ap-shanghai': '()',\n  'ap-shanghai-fsi': '()',\n  'ap-jinan-ec': '()',\n  'ap-hangzhou-ec': '()',\n  'ap-nanjing': '()',\n  'ap-fuzhou-ec': '()',\n  'ap-hefei-ec': '()',\n  'ap-beijing': '()',\n  'ap-tianjin': '()',\n  'ap-beijing-fsi': '()',\n  'ap-shijiazhuang-ec': '()',\n  'ap-wuhan-ec': '()',\n  'ap-changsha-ec': '()',\n  'ap-zhengzhou-ec': '()',\n  'ap-chengdu': '()',\n  'ap-chongqing': '()',\n  'ap-xian-ec': '()',\n  'ap-shenyang-ec': '()',\n  'ap-taipei': '()',\n  'ap-hongkong': '()',\n  'ap-seoul': '()',\n  'ap-tokyo': '()',\n  'ap-singapore': '()',\n  'ap-bangkok': '()',\n  'ap-jakarta': '()',\n  'na-siliconvalley': '()',\n  'eu-frankfurt': '()',\n  'eu-moscow': '()',\n  'ap-mumbai': '()',\n  'na-ashburn': '()',\n  'sa-saopaulo': '()',\n  'na-toronto': '()',\n};\nexport default zh_CN;\n","const en_US = {\n  language: 'Language',\n  enable_intranet_API_mode: 'Enable Intranet API Mode',\n  cloud_database: 'Cloud Database',\n  cloud_load_balancer: 'Cloud Load Balancer',\n  virtual_private_cloud: 'Virtual Private Cloud',\n  content_delivery_network: 'Content Delivery Network',\n  message_queue: 'Message Queue',\n  direct_connect: 'Direct Connect',\n  cloud_physical_machine: 'Cloud Physical Machine',\n  elastic_mapReduce: 'Elastic MapReduce',\n  edge_computing_machine: 'Edge Computing Machine',\n  // namespace\n  RUM: 'Real User Monitoring(RUM)',\n  CLS: 'Cloud Log Service(CLS)',\n  CVM: 'Cloud Virtual Machine(CVM)',\n  CDB: 'TencentDB for MySQL(CDB)',\n  CMONGO: 'TencentDB for MongoDB(CMONGO)',\n  POSTGRES: 'TencentDB for PostgreSQL(POSTGRES)',\n  REDIS: 'TencentDB for Redis(REDIS)',\n  REDIS_MEM: 'TencentDB for Redis(Memory Edition, 5-Second)(REDIS_MEM)',\n  SQLSERVER: 'TencentDB for SQL Server(SQLSERVER)',\n  CYNOSDB_MYSQL: 'TencentDB for CYNOSDB_MYSQL(CYNOSDB_MYSQL)',\n  TCAPLUS: 'TencentDB for TcaplusDB(TCAPLUS)',\n  TDMYSQL: 'TDSQL for MySQL(TDMYSQL)',\n  PCX: 'Peering Connection(PCX)',\n  BWP: 'Bandwidth Packet(BWP)',\n  NAT_GATEWAY: 'NAT Gateway(NAT_GATEWAY)',\n  VPNGW: 'VPN Gateway(VPNGW)',\n  VPNX: 'VPN Tunnel(VPNX)',\n  DCG: 'Direct Connect Gateway(DCG)',\n  CEIP_SUMMARY: 'Anycast EIP(CEIP_SUMMARY)',\n  VPC_NET_DETECT: 'Network Detection(VPC_NET_DETECT)',\n  VBC: 'Cloud Connect Network(VBC)',\n  LB: 'Elastic IP(LB)',\n  LB_PUBLIC: 'Public Network CLB(LB_PUBLIC)',\n  LB_PRIVATE: 'Private Network CLB Layer-4 Protocol(LB_PRIVATE)',\n  LOADBALANCE: 'Private Network CLB Layer-7 Protocol(LOADBALANCE)',\n  CDN: 'Chinese Mainland Domain(CDN)',\n  CDN_LOG_DATA: 'Province(CDN_LOG_DATA)',\n  OV_CDN: 'Overseas Domain(OV_CDN)',\n  SCF_V2: 'Serverless Cloud Function(SCF)',\n  CFS: 'Cloud File Storage(CFS)',\n  COS: 'Cloud Object Storage(COS)',\n  CKAFKA: 'Message Queue CKafka(CKAFKA)',\n  CMQ: 'Message Queue for Queue Service(CMQ)',\n  CMQTOPIC: 'Message Queue for Topic Subscription(CMQTOPIC)',\n  TDMQ: 'Tencent Distributed Message Queue for Pulsar(TDMQ)',\n  TDMQ_ROCKETMQ: 'Tencent Distributed Message Queue for RocketMQ(ROCKETMQ)',\n  TDMQ_RABBITMQ: 'Tencent Distributed Message Queue for RabbitMQ(RABBITMQ)',\n  DCX: 'Direct Connect for Dedicated Tunnel(DCX)',\n  DC: 'Direct Connect for Connection(DC)',\n  CPM: 'Cloud Physical Machine(CPM)',\n  BM_PCX: 'Cloud Physical Machine for Peering Connection(BM_PCX)',\n  BM_LB: 'Cloud Physical Machine for Public Network CLB(BM_LB)',\n  BM_INTRA_LB: 'Cloud Physical Machine for Private Network CLB(BM_INTRA_LB)',\n  CES: 'Elasticsearch Service(CES)',\n  BLOCK_STORAGE: 'Cloud Block Storage(BLOCK_STORAGE)',\n  APIGATEWAY: 'API Gateway(APIGATEWAY)',\n  QAAP: 'Global Application Acceleration Platform(GAAP)',\n  ECM: 'Edge Computing Machine for Computation and Networking(ECM)',\n  ECM_BLOCK_STORAGE: 'Edge Computing Machine for Block Storage(ECM_BLOCK_STORAGE)',\n  ECM_LB: 'Edge Computing Machine for Layer-4 CLB(ECM_LB)',\n  GSE: 'Game Server Elastic-scaling(GSE)',\n  TKE: 'Tencent Kubernetes Engine(TKE)',\n  ECDN: 'Enterprise Content Delivery Network(ECDN)',\n  WAF: 'Web Application Firewall(WAF)',\n  // others\n  multi_scene: 'Multi-Scene',\n  lite: 'Lite',\n  cloud_monitor: 'Cloud Monitor',\n  cloud_log_service: 'Cloud Log Service',\n  real_user_monitoring: 'Real User Monitoring',\n  apm_monitoring: 'Application Monitoring',\n  region: 'Region',\n  log_topic: 'Log Topic',\n  syntax_rule: 'Syntax Rule',\n  max_result_num: 'Maximum result number',\n  search_statement: 'Search Statement',\n  time_unit: 'Time unit',\n  seconds: 'seconds',\n  search_description:\n    'Search for instances according to specific query conditions, and pull the first 20 instances by default',\n  // region\n  'ap-guangzhou': 'South China(Guangzhou)',\n  'ap-shenzhen-fsi': 'South China(Shenzhen Finance)',\n  'ap-guangzhou-open': 'South China(Guangzhou OPEN)',\n  'ap-shenzhen': 'South China(Shenzhen)',\n  'ap-qingyuan': 'South China(Qingyuan)',\n  'ap-shanghai': 'East China(Shanghai)',\n  'ap-shanghai-fsi': 'East China(Shanghai Finance)',\n  'ap-jinan-ec': 'East China(Jinan)',\n  'ap-hangzhou-ec': 'East China(Hangzhou)',\n  'ap-nanjing': 'East China(Nanjing)',\n  'ap-fuzhou-ec': 'East China(Fuzhou)',\n  'ap-hefei-ec': 'East China(Hefei)',\n  'ap-beijing': 'North China region(Beijing)',\n  'ap-tianjin': 'North China region(Tianjin)',\n  'ap-beijing-fsi': 'North China region(Beijing Finance)',\n  'ap-shijiazhuang-ec': 'North China region(Shijiazhuang)',\n  'ap-wuhan-ec': 'Central China(Wuhan)',\n  'ap-changsha-ec': 'Central China(Changsha)',\n  'ap-zhengzhou-ec': 'Central China(Zhengzhou)',\n  'ap-chengdu': 'Southwest China(Chengdu)',\n  'ap-chongqing': 'Southwest China(Chongqing)',\n  'ap-xian-ec': \"Northwest region(Xi'an)\",\n  'ap-shenyang-ec': 'Northeast China(Shenyang)',\n  'ap-taipei': 'Hong Kong, Macau and Taiwan (China)(Taipei, China)',\n  'ap-hongkong': 'Hong Kong, Macau and Taiwan (China)(Hong Kong, China)',\n  'ap-seoul': 'Northeast Asia(Seoul)',\n  'ap-tokyo': 'Northeast Asia(Tokyo)',\n  'ap-singapore': 'Southeast Asia(Singapore)',\n  'ap-bangkok': 'Southeast Asia(Bangkok)',\n  'ap-jakarta': 'Southeast Asia(Jakarta)',\n  'na-siliconvalley': 'US West(Silicon Valley)',\n  'eu-frankfurt': 'Europe(Frankfurt)',\n  'eu-moscow': 'Europe(Northeastern Europe)',\n  'ap-mumbai': 'South Asia(Mumbai)',\n  'na-ashburn': 'US East(Virginia)',\n  'sa-saopaulo': 'South America(So Paulo)',\n  'na-toronto': 'North America(Toronto)',\n};\nexport default en_US;\n","import zh_CN from './zh_CN';\nimport en_US from './en_US';\n\nlet locale_language = 'zh-CN';\n\nexport enum Language {\n  Chinese = 'zh-CN',\n  English = 'en-US',\n}\n\nexport const t = (key: string) => {\n  if (locale_language === Language.Chinese) {\n    return zh_CN[key];\n  }\n  return en_US[key];\n};\n\nexport const setLanguage = (language: Language) => {\n  locale_language = language;\n};\n\nexport const getLanguage = () => locale_language;\n","import moment from 'moment';\n\nconst HttpRequestMethod = 'POST';\nconst CanonicalUri = '/';\nconst CanonicalQueryString = '';\nconst ContentType = 'application/json';\n\nexport default class Sign {\n  /**\n   * Tencent Cloud API Signature v3 reference: https://cloud.tencent.com/document/api/213/30654\n   * secretId: SecretId for identifying identity that is applied for on Cloud API Key.\n   * A SecretId corresponds to a unique SecretKey, which is used to generate the request Signature.\n   * secretKey: SecretKey is used to encrypt the signature string and verify the signature string on the server\n   * service: the name of service, which must be consistent with the request domain, such as cvm\n   * action: The name of the API for the desired operation\n   * host: the domain of servicewhich must be consistent with the request domain, such as cvm.tencentcloudapi.com\n   * version:  PI version, such as 2017-03-12\n   * payload: The request parameters\n   */\n\n  secretId: string;\n\n  service: string;\n  action: string;\n  host: string;\n  version: string;\n  payload: Record<string, any> | string;\n  region: string;\n  timestamp: number;\n  date: string;\n  backendSrv: any;\n  datasourceId: Number;\n  constructor(options) {\n    const { secretId, service, action, host, version, payload = '', region, backendSrv, datasourceId } = options;\n    this.secretId = secretId;\n    // this.secretKey = secretKey;\n    this.service = service;\n    this.action = action;\n    this.host = host;\n    this.version = version;\n    this.payload = typeof payload === 'string' ? payload : JSON.stringify(payload);\n    this.region = region;\n    const nowDate = moment().utc();\n    this.timestamp = nowDate.unix();\n    this.date = nowDate.format('YYYY-MM-DD');\n    this.backendSrv = backendSrv;\n    this.datasourceId = datasourceId;\n  }\n\n  async getHeader() {\n    return this.getResourceHeader();\n  }\n\n  async getResourceHeader() {\n    let res: { authorization?: string; token?: string; intranet?: boolean } = {};\n    try {\n      const resp = await this.backendSrv.datasourceRequest({\n        url: `/api/datasources/${this.datasourceId}/resources/sign_v3`,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        data: {\n          Host: this.host,\n          Service: this.service,\n          Version: this.version,\n          Action: this.action,\n          Region: this.region,\n          Timestamp: this.timestamp,\n          Method: HttpRequestMethod,\n          Uri: CanonicalUri,\n          Query: CanonicalQueryString,\n          Body: this.payload,\n          Headers: {\n            'content-type': ContentType,\n            host: this.host,\n          },\n        },\n      });\n      res = resp.data;\n    } catch (err) {}\n    const { authorization, token, intranet } = res;\n    const grafanaVersion = (window as any).grafanaBootData?.settings?.buildInfo?.version || '0.0.0';\n    const headers = {\n      Authorization: authorization,\n      'Content-Type': ContentType,\n      'X-TC-Action': this.action,\n      'X-TC-Timestamp': this.timestamp.toString(),\n      'X-TC-Version': this.version,\n      'X-TC-RequestClient': `GF_${grafanaVersion}_PL_CM_${process.env.TENCENT_CLOUD_MONITOR_GRAFANA_PLUGIN_VERSION}`,\n      ...(this.region && {\n        'X-TC-Region': this.region,\n      }),\n      ...(token && {\n        'X-TC-Token': token,\n      }),\n      intranet: intranet,\n    };\n    return headers;\n  }\n}\n","/**\n *\n * @param defaults \n * secretId\n * secretKey\n * action\n * region\n * host\n */\n\nexport default class SignV2 {\n  defaults: any = {\n    path: '/v2/index.php',\n    method: 'POST',\n  };\n  backendSrv: any;\n  datasourceId: Number;\n  constructor(defaults: any = {}) {\n    this.defaults = Object.assign(this.defaults, defaults);\n    this.defaults.secretKey = '';\n    this.backendSrv = defaults.backendSrv;\n    this.datasourceId = defaults.datasourceId;\n  }\n\n  generateQueryString = async () => {\n    return this.getResourceQueryString();\n  };\n\n  async getResourceQueryString() {\n    let res: { path?: string; querystring?: any; host?: string; intranet?: boolean } = {};\n    try {\n      const { data } = this.defaults;\n      const payload = typeof data === 'string' ? data : JSON.stringify(data);\n      const resp = await this.backendSrv.datasourceRequest({\n        url: `/api/datasources/${this.datasourceId}/resources/sign_v2`,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        data: {\n          Host: this.defaults.host,\n          Action: this.defaults.action,\n          Version: this.defaults.version,\n          Region: this.defaults.region,\n          Method: this.defaults.method,\n          Uri: this.defaults.path,\n          Query: '',\n          Body: payload,\n        },\n      });\n      res = resp.data;\n    } catch (err) {}\n    const { path, querystring, host, intranet } = res;\n    return { queryString: querystring, path: path, host: host, intranet: intranet };\n  }\n}\n","import _ from 'lodash';\nimport qs from 'qs';\nimport { SERVICES } from '../tc_monitor';\nimport Sign from './sign';\nimport SignV2 from './signV2';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport { getLanguage } from '../../locale';\n\nimport packageInfo from '../plugin.json';\nexport const TcDataSourceId = packageInfo.id;\n\n// the services of tencentcloud monitor api\nconst FINACE_REGIONS = ['ap-shanghai-fsi', 'ap-shenzhen-fsi'];\nconst SERVICES_API_INFO = {\n  api: {\n    service: 'api',\n    version: '2020-11-06',\n    path: '/api',\n    host: 'api.tencentcloudapi.com',\n  },\n  // monitor api info\n  monitor: {\n    service: 'monitor',\n    version: '2018-07-24',\n    path: '/monitor',\n    host: 'monitor.tencentcloudapi.com',\n  },\n  // cls api info\n  cls: {\n    service: 'cls',\n    version: '2020-10-16',\n    path: '/cls',\n    host: 'cls.tencentcloudapi.com',\n  },\n  // cvm api info\n  cvm: {\n    service: 'cvm',\n    version: '2017-03-12',\n    path: '/cvm',\n    host: 'cvm.tencentcloudapi.com',\n  },\n  // cdb api info\n  cdb: {\n    service: 'cdb',\n    version: '2017-03-20',\n    path: '/cdb',\n    host: 'cdb.tencentcloudapi.com',\n  },\n  // pcx api info\n  pcx: {\n    service: 'pcx',\n    version: '',\n    path: '/pcx',\n    host: 'vpc.api.qcloud.com',\n  },\n  // vpc api info\n  vpc: {\n    service: 'vpc',\n    version: '2017-03-12',\n    path: '/vpc',\n    host: 'vpc.tencentcloudapi.com',\n  },\n  // mongodb api info\n  mongodb: {\n    service: 'mongodb',\n    version: '2019-07-25',\n    path: '/mongodb',\n    host: 'mongodb.tencentcloudapi.com',\n  },\n  //  clb\n  clb: {\n    service: 'clb',\n    version: '2018-03-17',\n    path: '/clb',\n    host: 'clb.tencentcloudapi.com',\n  },\n  // postgresql api info\n  postgres: {\n    service: 'postgres',\n    version: '2017-03-12',\n    path: '/postgres',\n    host: 'postgres.tencentcloudapi.com',\n  },\n  // cdn info\n  cdn: {\n    service: 'cdn',\n    version: '2018-06-06',\n    path: '/cdn',\n    host: 'cdn.tencentcloudapi.com',\n  },\n  // redis info\n  redis: {\n    service: 'redis',\n    version: '2018-04-12',\n    path: '/redis',\n    host: 'redis.tencentcloudapi.com',\n  },\n  scf: {\n    service: 'scf',\n    version: '2018-04-16',\n    path: '/scf',\n    host: 'scf.tencentcloudapi.com',\n  },\n  cfs: {\n    service: 'cfs',\n    version: '2019-07-19',\n    path: '/cfs',\n    host: 'cfs.tencentcloudapi.com',\n  },\n  ckafka: {\n    service: 'ckafka',\n    version: '2019-08-19',\n    path: '/ckafka',\n    host: 'ckafka.tencentcloudapi.com',\n  },\n  // \n  dc: {\n    service: 'dc',\n    version: '2018-04-10',\n    path: '/dc',\n    host: 'dc.tencentcloudapi.com',\n  },\n  // cynosdb\n  cynosdb: {\n    service: 'cynosdb',\n    version: '2019-01-07',\n    path: '/cynosdb',\n    host: 'cynosdb.tencentcloudapi.com',\n  },\n  // sqlserver\n  sqlserver: {\n    service: 'sqlserver',\n    version: '2018-03-28',\n    path: '/sqlserver',\n    host: 'sqlserver.tencentcloudapi.com',\n  },\n  // bm\n  bm: {\n    service: 'bm',\n    version: '2018-04-23',\n    path: '/bm',\n    host: 'bm.tencentcloudapi.com',\n  },\n  bmeip: {\n    service: 'bmeip',\n    version: '2018-06-25',\n    path: '/bmeip',\n    host: 'bmeip.tencentcloudapi.com',\n  },\n  bmvpc: {\n    service: 'bmvpc',\n    version: '2018-06-25',\n    path: '/bmvpc',\n    host: 'bmvpc.tencentcloudapi.com',\n  },\n  bmlb: {\n    service: 'bmlb',\n    version: '2018-06-25',\n    path: '/bmlb',\n    host: 'bmlb.tencentcloudapi.com',\n  },\n  // ES\n  es: {\n    service: 'es',\n    version: '2018-04-16',\n    path: '/es',\n    host: 'es.tencentcloudapi.com',\n  },\n  // MapReduce\n  emr: {\n    service: 'emr',\n    version: '2019-01-03',\n    path: '/emr',\n    host: 'emr.tencentcloudapi.com',\n  },\n  // CMQ\n  cmq: {\n    service: 'cmq',\n    version: '2019-03-04',\n    path: '/cmq',\n    host: 'cmq.tencentcloudapi.com',\n  },\n  cbs: {\n    service: 'cbs',\n    version: '2017-03-12',\n    path: '/cbs',\n    host: 'cbs.tencentcloudapi.com',\n  },\n  // tcaplus\n  tcaplusdb: {\n    service: 'tcaplusdb',\n    version: '2019-08-23',\n    path: '/tcaplusdb',\n    host: 'tcaplusdb.tencentcloudapi.com',\n  },\n  // tcaplus\n  dcdb: {\n    service: 'dcdb',\n    version: '2018-04-11',\n    path: '/dcdb',\n    host: 'dcdb.tencentcloudapi.com',\n  },\n  // apigateway\n  apigateway: {\n    service: 'apigateway',\n    version: '2018-08-08',\n    path: '/apigateway',\n    host: 'apigateway.tencentcloudapi.com',\n  },\n  tdmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  tdmq_rabbitmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  tdmq_rocketmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  gaap: {\n    service: 'gaap',\n    version: '2018-05-29',\n    path: '/gaap',\n    host: 'gaap.tencentcloudapi.com',\n  },\n  ecm: {\n    service: 'ecm',\n    version: '2019-07-19',\n    path: '/ecm',\n    host: 'ecm.tencentcloudapi.com',\n  },\n  gse: {\n    service: 'gse',\n    version: '2019-11-12',\n    path: '/gse',\n    host: 'gse.tencentcloudapi.com',\n  },\n  lighthouse: {\n    service: 'lighthouse',\n    version: '2020-03-24',\n    path: '/lighthouse',\n    host: 'lighthouse.tencentcloudapi.com',\n  },\n  tsf: {\n    service: 'tsf',\n    version: '2018-03-26',\n    path: '/tsf',\n    host: 'tsf.tencentcloudapi.com',\n  },\n  rum: {\n    service: 'rum',\n    version: '2021-06-22',\n    path: '/rum',\n    host: 'rum.tencentcloudapi.com',\n  },\n  tke: {\n    service: 'tke',\n    version: '2018-05-25',\n    path: '/tke',\n    host: 'tke.tencentcloudapi.com',\n  },\n  ecdn: {\n    service: 'ecdn',\n    version: '2019-10-12',\n    path: '/ecdn',\n    host: 'ecdn.tencentcloudapi.com',\n  },\n  waf: {\n    service: 'waf',\n    version: '2018-01-25',\n    path: '/waf',\n    host: 'waf.tencentcloudapi.com',\n  },\n  region: {\n    service: 'region',\n    version: '2022-06-27',\n    path: '/region',\n    host: 'region.tencentcloudapi.com',\n  },\n  apm: {\n    service: 'apm',\n    version: '2021-06-22',\n    path: '/apm',\n    host: 'apm.tencentcloudapi.com',\n  },\n  // lblbvpc\n  // lb: {\n  //   service: 'lb',\n  //   version: '2017-03-12',\n  //   path: '/lb',\n  //   host: 'vpc.tencentcloudapi.com'\n  // }\n  //  lbPrivate\n  // lbPrivate: {\n  //   service: 'lbPrivate',\n  //   version: '2018-03-17',\n  //   path: '/clb',\n  //   host: 'clb.tencentcloudapi.com',\n  // },\n};\n\nconst FINACE_HOST = {\n  scf: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/scf/shanghai',\n      host: 'scf.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/scf/shenzhen',\n      host: 'scf.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cfs: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cfs/shanghai',\n      host: 'cfs.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cfs/shenzhen',\n      host: 'cfs.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  ckafka: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/ckafka/shanghai',\n      host: 'ckafka.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/ckafka/shenzhen',\n      host: 'ckafka.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  clb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/clb/shanghai',\n      host: 'clb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/clb/shenzhen',\n      host: 'clb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  mongodb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/mongodb/shanghai',\n      host: 'mongodb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/mongodb/shenzhen',\n      host: 'mongodb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  vpc: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/vpc/shanghai',\n      host: 'vpc.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/vpc/shenzhen',\n      host: 'vpc.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cvm: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cvm/shanghai',\n      host: 'cvm.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cvm/shenzhen',\n      host: 'cvm.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cdb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cdb/shanghai',\n      host: 'cdb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cdb/shenzhen',\n      host: 'cdb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  monitor: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/monitor/shanghai',\n      host: 'monitor.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/monitor/shenzhen',\n      host: 'monitor.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  postgres: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/postgres/shanghai',\n      host: 'postgres.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/postgres/shenzhen',\n      host: 'postgres.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  emr: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/emr/shanghai',\n      host: 'emr.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/emr/shenzhen',\n      host: 'emr.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cmq: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cmq/shanghai',\n      host: 'cmq.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cmq/shenzhen',\n      host: 'cmq.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cls: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cls/shanghai',\n      host: 'cls.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cls/shenzhen',\n      host: 'cls.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n};\n\n//  API \nexport function GetServiceAPIInfo(region, service) {\n  return { ...(SERVICES_API_INFO[service] || {}), ...getHostAndPath(region, service) };\n}\n\n// get host and path for finance regions\nfunction getHostAndPath(region, service) {\n  if (_.indexOf(FINACE_REGIONS, region) === -1) {\n    return {};\n  }\n  return (\n    _.find(\n      _.find(FINACE_HOST, (__, key) => key === service),\n      (__, key) => key === region\n    ) || {}\n  );\n}\n\n// \nexport const VARIABLE_ALIAS = 'instancealias';\n\nexport function GetServiceFromNamespace(namespace) {\n  return _.get(\n    _.find(SERVICES, (service) => service.namespace === namespace),\n    'service'\n  );\n}\n// targetqce/cvm\nexport function GetLabelFromNamespace(namespace) {\n  return _.get(\n    _.find(SERVICES, (service) => service.namespace === namespace || service.label === namespace),\n    'label'\n  );\n}\n// parse template variable query params\nexport function ParseMetricQuery(query = '') {\n  if (!query) {\n    return {};\n  }\n  const result = {};\n  const queries = _.split(query, '&');\n  _.forEach(queries, (item) => {\n    const str = _.split(item, '=');\n    if (_.trim(_.get(str, '0', ''))) {\n      let val = _.trim(_.get(str, '1', ''));\n      try {\n        val = JSON.parse(val);\n      } catch (e) {\n        // console.log({ val });\n      }\n      result[_.toLower(_.trim(_.get(str, '0', '')))] = val;\n    }\n  });\n  return result;\n}\n\n// parse template variable regex params\nexport function ParseMetricRegex(regex = '') {\n  if (!regex) {\n    return [];\n  }\n  regex = regex.replace(//g, ':');\n  regex = regex.replace(//g, ',');\n  const regexParams = ParseMetricQuery(regex);\n  const result: any[] = [];\n  _.forEach(regexParams, (value, key) => {\n    if (key === 'tag:tag-key') {\n      const valuesArr = _.split(value, ',');\n      _.forEach(valuesArr, (item) => {\n        const temp = _.split(item, ':');\n        if (temp.length === 2) {\n          result.push({ Name: `tag:${temp[0]}`, Values: temp.slice(1) });\n        }\n      });\n    } else {\n      result.push({ Name: key, Values: _.split(value, ',') });\n    }\n  });\n  return result;\n}\n\n// get the actual value of template variable\nfunction parseVariableFormat(varname: string) {\n  varname = String(varname || '');\n  // $varname\n  let varFlag = false;\n  const regResult1 = varname.match(/^\\${?(\\w+)}?/);\n  if (regResult1) {\n    varFlag = true;\n    varname = `\\$\\{${regResult1[1]}\\:json\\}`;\n  }\n  // [[varname]]\n  const regResult2 = varname.match(/^\\[\\[(\\w+)(\\:\\w+)?\\]\\]/);\n  if (regResult2) {\n    varFlag = true;\n    varname = `\\$\\{${regResult2[1]}\\:json\\}`;\n  }\n  return { varname, varFlag };\n}\n\nexport function ReplaceVariable(templateSrv, scopedVars, field, multiple = false) {\n  const { varname, varFlag } = parseVariableFormat(field);\n  let replaceVar = templateSrv.replace(varname, scopedVars);\n  if (varFlag) {\n    try {\n      replaceVar = JSON.parse(replaceVar);\n    } catch (error) {}\n  }\n  if (!multiple && _.isArray(replaceVar)) {\n    replaceVar = _.get(replaceVar, '0', '');\n  }\n  return replaceVar;\n}\n\n// get dimensions for instance query param\nexport function GetDimensions(obj) {\n  if (_.isEmpty(obj)) {\n    return [];\n  }\n  const dimensions: any[] = [];\n  _.forEach(obj, (item) => {\n    if (item.Value !== null && item.Value !== undefined && item.Value !== '') {\n      dimensions.push({ Name: item.Name, Value: typeof item.Value === 'string' ? item.Value : `${item.Value}` });\n    }\n  });\n  return dimensions;\n}\n\n// parse query data result for panel\nexport function ParseQueryResult(response, instances: any[] = [], timeshift = 0) {\n  const instanceList = _.cloneDeep(instances);\n\n  const dataPoints = _.get(response, 'DataPoints', []);\n  return _.map(dataPoints, (dataPoint) => {\n    let instanceAliasValue = _.get(dataPoint, 'Dimensions[0].Value');\n    for (let i = 0; i < instanceList.length; i++) {\n      if (isInstanceMatch(instanceList[i], _.get(dataPoint, 'Dimensions', []))) {\n        instanceAliasValue = instanceList[i]._InstanceAliasValue;\n        instanceList.splice(i, 1);\n        break;\n      }\n    }\n    return {\n      target: `${response.MetricName} - ${instanceAliasValue}`,\n      datapoints: parseDataPoint(dataPoint, timeshift),\n    };\n  });\n}\n\n// parse tencent cloud monitor response data to grafana panel data\nfunction parseDataPoint(dataPoint, timeshift = 0) {\n  const timestamps = _.get(dataPoint, 'Timestamps', []);\n  const values = _.get(dataPoint, 'Values', []);\n  const result = timestamps.map((timestamp, index) => {\n    return [values[index], timestamp * 1000 + timeshift];\n  });\n\n  return result;\n}\n\n// check whether instance is match or not\nfunction isInstanceMatch(instance, dimensions) {\n  let match = true;\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < dimensions.length; i++) {\n    if (_.get(instance, dimensions[i].Name, '').toString() !== dimensions[i].Value.toString()) {\n      match = false;\n      break;\n    }\n  }\n  return match;\n}\n\n/**\n *  ${varnam}  [[varname]]\n *\n * @param field \n */\nexport function isVariable(value) {\n  if (value && (value.match(/^\\${?(\\w+)}?/) || value.match(/^\\[\\[(\\w+)(\\:\\w+)?\\]\\]/))) {\n    return true;\n  }\n  return false;\n}\n\n/**\n *  API 3.0 \n * @param options  { url: string, data?: object }\n * @param service  'cvm'\n * @param signObj  { region?: string, action: string }\n * @param secretId\n * @param secretKey\n */\nexport async function GetRequestParams(options, service, signObj: any = {}, secretId, datasourceId, backendSrv) {\n  const signParams = {\n    secretId,\n    payload: options.data || '',\n    ...signObj,\n    ...(_.pick(GetServiceAPIInfo(signObj.region || '', service), ['service', 'host', 'version']) || {}),\n    backendSrv,\n    datasourceId,\n    region: 'ap-guangzhou',\n  };\n  const sign = new Sign(signParams);\n  const { intranet, ...headerSigned } = await sign.getHeader();\n  // x-tc-language\n  // zh-CN en-US ko-KR ja-JP\n  options.headers = Object.assign(options.headers || {}, { ...headerSigned }, { 'x-tc-language': getLanguage() });\n  options.method = 'POST';\n  if (intranet) {\n    options.url += '-internal';\n  }\n  return options;\n}\n\n/**\n *   API 2.0 \n * @param options  { url: string, data?: object }\n * @param service  'cvm'\n * @param signObj  { region?: string, action: string }\n * @param secretId\n * @param secretKey\n */\nexport async function GetRequestParamsV2(\n  options: any = {},\n  service,\n  signObj: any = {},\n  secretId,\n  datasourceId,\n  backendSrv\n) {\n  const data = options.data || {};\n  const signParams = {\n    secretId,\n    data,\n    ...signObj,\n    ...(_.pick(GetServiceAPIInfo(signObj.region || '', service), ['host', 'version']) || {}),\n    backendSrv,\n    datasourceId,\n  };\n  options.method = 'POST';\n  const sign = new SignV2(signParams);\n  options.headers = Object.assign(options.headers || {}, { 'Content-Type': 'application/x-www-form-urlencoded' });\n  const { queryString, path, host, intranet } = await sign.generateQueryString();\n  options.data = qs.stringify({\n    ...options.data,\n    ...queryString,\n    ...(host && { host: host }),\n  });\n  if (intranet) {\n    // TODO: qcloud.com intranet host\n    console.log('got intranet for sign v2');\n  }\n  options.url += path;\n  return options;\n}\n\nexport function SliceLength(total = 0, len = 1) {\n  const result: any[] = [];\n  const num = Math.ceil(total / len);\n  for (let i = 1; i < num; i++) {\n    result.push({ Offset: len * i });\n  }\n  return result;\n}\n\nexport const FilterKeys = ['Namespace', 'Offset', 'Limit', 'SearchKey', 'Description', 'OrderBy', 'Order'];\n\nexport function parseDataFromBackendPlugin(res) {\n  const { data } = toDataQueryResponse(res);\n  return {\n    authorization: _.get(data, '[0].meta.custom', ''),\n  };\n}\n\n/**  */\nexport const IS_DEVELOPMENT_ENVIRONMENT = !(process.env.NODE_ENV === 'production');\n\n/**\n * @link https://github.com/grafana/grafana/blob/3c6e0e8ef85048af952367751e478c08342e17b4/packages/grafana-data/src/types/app.ts#L12\n */\nexport enum CoreApp {\n  CloudAlerting = 'cloud-alerting',\n  UnifiedAlerting = 'unified-alerting',\n  Dashboard = 'dashboard',\n  Explore = 'explore',\n  Unknown = 'unknown',\n  PanelEditor = 'panel-editor',\n  PanelViewer = 'panel-viewer',\n}\n","import _ from 'lodash';\nimport moment from 'moment';\nimport DatasourceInterface from '../MonitorDatasource';\nimport {\n  GetRequestParams,\n  GetServiceAPIInfo,\n  ReplaceVariable,\n  GetDimensions,\n  ParseQueryResult,\n  SliceLength,\n} from '../../common/constants';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { MetricQuery } from './types';\nimport { getNamesapceFromService, getTimeShiftInMs } from '../../common/utils';\nimport { Language, setLanguage } from '../../../locale';\n\nexport interface TemplateQueryIdType {\n  instance: string;\n  listener?: string;\n}\n\ninterface queryConfigType {\n  dim_KeyInStorage: string;\n  dim_KeyInTarget?: string;\n  dim_KeyInIns?: string;\n  dim_KeyInMap: string;\n}\n\nexport abstract class BaseDatasource implements DatasourceInterface {\n  Namespace?: string;\n  service: string;\n  instanceListCache: any[] = [];\n  extraMetricDims: string[] = [];\n  url: string;\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n  secretId: string;\n  checkKeys: string[] = [];\n  MetricReqConfig: {\n    resultFilter?: Function;\n  } = {};\n  extrasAlias?: string[] = [];\n  /*\n  (InstanceId)(RecordkeyInvalidDemsion)\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget getVariableListnerIdLis-xxxxSTATEkeyInvalidDemsionkey\n  3 dim_KeyInMap valueIDsourceMapListkeyListenerIdtemplateQueryIdMap2sourceMap\n  4 dimsourceMapsourceMap[dim]\n  */\n  queryMonitorExtraConfg: Record<string, queryConfigType> = {};\n  CandiateDimensions?: Record<string, string> = {};\n\n  InstanceReqConfig?: {\n    service?: string;\n    action: string;\n    responseField: string;\n    interceptor?: {\n      request?: (params: unknown) => unknown;\n      response?: (data: unknown) => unknown;\n    };\n  };\n  InvalidDimensions?: Record<string, string>;\n\n  abstract InstanceAliasList: string[];\n  abstract templateQueryIdMap: TemplateQueryIdType; // \n\n  /** @ngInject */\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    this.instanceSettings = instanceSettings;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    this.url = instanceSettings.url;\n    this.secretId = (instanceSettings.jsonData || {}).secretId || '';\n    setLanguage(instanceSettings.jsonData.language || Language.Chinese);\n  }\n\n  get namespace() {\n    // this.service\n    return this.Namespace || getNamesapceFromService(this.service);\n  }\n\n  // \n  getOtherAlias(instance: any, target: any): string {\n    let result = '';\n    const alias = instance._InstanceAliasValue;\n    this.extrasAlias?.forEach((extra) => {\n      const extraAlia = this.getVariable(target[extra]);\n      if (extraAlia && alias.indexOf(extraAlia) === -1) {\n        result += ` - ${extraAlia}`;\n      }\n    });\n    return result;\n  }\n\n  /*  */\n  getAliasValue(instance: Record<string, any>, alias: string) {\n    const result = instance[alias];\n    return Array.isArray(result) ? result.join() : result;\n  }\n\n  formatVarDisplay(instance: Record<string, any>, displayTpl: string | undefined, instanceAlias: string) {\n    // display=aaa${InstanceName}bbb${InstanceId}ccc\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !this.InstanceAliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(instance, b);\n      });\n    }\n    return this.getAliasValue(instance, instanceAlias);\n  }\n  /**\n   * @param query  Query \n   */\n  async metricFindQuery(query: MetricQuery, regex?: string) {\n    const { action, namespace, display, payload = {} } = query;\n    let { region, instancealias = this.templateQueryIdMap.instance } = query;\n    if (!action || !namespace) {\n      return [];\n    }\n    // payload\n    if (_.isObject(payload)) {\n      _.forEach(payload, (value, key) => {\n        payload[key] = _.isString(value) ? this.getVariable(value) : value;\n      });\n    }\n\n    // \n    const regionQuery = action.match(/^DescribeRegions$/i);\n    if (regionQuery) {\n      return this.getRegions();\n    }\n\n    region = this.getVariable(region); // region\n\n    // \n    if (region && action.match(/^DescribeInstances/i)) {\n      const result = await this.getVariableInstances(region, payload);\n      instancealias = this.InstanceAliasList.includes(instancealias) ? instancealias : this.templateQueryIdMap.instance;\n\n      const res = result.flatMap((item) => {\n        const insAlias = this.formatVarDisplay(item, display, instancealias);\n\n        item._InstanceAliasValue = insAlias; // FIXME:\n\n        if (!item[instancealias]) return [];\n        return [\n          {\n            text: insAlias,\n            value: item[this.templateQueryIdMap.instance],\n          },\n        ];\n      });\n\n      // \n      await instanceStorage.setInstance(this.service, result);\n      return res;\n    }\n\n    // instance\n    let instance = this.getVariable(query['instance']);\n    if (_.isArray(instance)) instance = instance[0]; // \n    if (region && action && instance) {\n      try {\n        // instance = JSON.parse(instance);\n        const instanceCache = await instanceStorage.getInstance(this.service);\n\n        instance = _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === instance)) ?? {};\n        // eslint-disable-next-line no-empty\n      } catch (error) {}\n      return this.fetchMetricData(action, region, instance, query);\n    }\n\n    return Promise.resolve([]);\n  }\n  // \n  async fetchMetricData(action: string, region: string, instance: any, query?: any) {\n    return [];\n  }\n\n  /**\n   *  Panel \n   *\n   * @param options Panel \n   * @return \n   * [\n   *   {\n   *     \"target\": \"AccOuttraffic - ins-123\",\n   *     \"datapoints\": [\n   *       [861, 1450754160000],\n   *       [767, 1450754220000]\n   *     ]\n   *   }\n   * ]\n   */\n  async dimensionsFormat(dimKeys, ins, dimensionObject, target, service, options) {\n    for (let key of dimKeys) {\n      let keyTmp = key;\n      const invalidDim = this.InvalidDimensions || this.getInvalidDimensions(this, target[service]);\n      if (invalidDim[key]) {\n        //  { functionName: FunctionName }\n        keyTmp = invalidDim[key];\n        ins[key] = ins[keyTmp];\n      }\n\n      let extraDimValue = this.getVariable(target[service][keyTmp]);\n      if (this.queryMonitorExtraConfg[keyTmp]) {\n        const {\n          dim_KeyInStorage,\n          dim_KeyInTarget = keyTmp,\n          dim_KeyInMap,\n          dim_KeyInIns,\n        } = this.queryMonitorExtraConfg[keyTmp];\n        let extraIns = ReplaceVariable(this.templateSrv, options.scopedVars, target[service][dim_KeyInTarget], true);\n        let extraSourceMap: any = {};\n        try {\n          extraSourceMap = JSON.parse(extraIns); // json \n        } catch (error) {\n          if (_.isArray(extraIns)) extraIns = extraIns[0]; // ID \n          const extraStorage = await instanceStorage.getExtraStorage(this.service, dim_KeyInStorage);\n\n          extraSourceMap =\n            extraStorage?.find((item) => {\n              if (_.isArray(item[dim_KeyInMap])) {\n                return item[dim_KeyInMap][0] === extraIns;\n              }\n              return item[dim_KeyInMap] === extraIns;\n            }) ?? {};\n        }\n        const isStringOrNumber = _.isString(extraSourceMap) || _.isNumber(extraSourceMap);\n        // insaliasins._InstanceAliasValue\n        const insAlias = ins._InstanceAliasValue;\n        const otherAlias = isStringOrNumber ? extraSourceMap : extraSourceMap._InstanceAliasValue;\n        if (otherAlias && insAlias.indexOf(otherAlias) === -1) {\n          ins._InstanceAliasValue += ` - ${otherAlias}`;\n        }\n\n        extraDimValue = isStringOrNumber ? extraSourceMap : extraSourceMap?.[dim_KeyInIns || keyTmp];\n      } else {\n        ins._InstanceAliasValue += this.getOtherAlias(ins, target[service]);\n      }\n\n      if (\n        getTimeShiftInMs(target[service].timeshift) > 0 &&\n        ins._InstanceAliasValue.indexOf(target[service].timeshift) === -1\n      ) {\n        ins._InstanceAliasValue += `_${target[service].timeshift}`;\n      }\n      // instance\n      // ins[key] = ins[keyTmp] ?? extraDimValue;\n      ins[key] = this.getDimensionsVal(ins, keyTmp, extraDimValue);\n      // cynosdb\n      if (this.checkKeys.length > 0) {\n        this.checkKeys.forEach((Ekey) => {\n          ins[Ekey] = ins[key];\n        });\n      }\n      dimensionObject[key] = { Name: key, Value: ins[key] };\n    }\n    return dimensionObject;\n  }\n  getDimensionsVal(ins: Record<string, any>, key: string, extraDimValue: string) {\n    let dimVal = ins[key];\n    if (_.isEmpty(dimVal) && this.CandiateDimensions[key]) {\n      dimVal = ins[this.CandiateDimensions[key]];\n    }\n    return dimVal ?? extraDimValue;\n  }\n  query(options: any) {\n    const service = this.service!; // \n\n    const queries = _.filter(options.targets, (item) => {\n      //  target\n      return (\n        item.hide !== true &&\n        !!item.namespace &&\n        !!item[service].metricName &&\n        !_.isEmpty(ReplaceVariable(this.templateSrv, options.scopedVars, item[service].region, false)) &&\n        !_.isEmpty(ReplaceVariable(this.templateSrv, options.scopedVars, item[service].instance, true))\n      );\n    })\n      .reduce((prev, target) => {\n        if (getTimeShiftInMs(target[service].timeshift) > 0) {\n          const cloneTarget = _.cloneDeep(target);\n          cloneTarget[service].timeshift = '';\n          return [...prev, cloneTarget, target];\n        }\n        return [...prev, target];\n      }, [])\n      .map(async (target) => {\n        //  instances \n        // JSONid\n        let instances = ReplaceVariable(this.templateSrv, options.scopedVars, target[service].instance, true);\n        const instanceCache = await instanceStorage.getInstance(this.service);\n        const timeshift = getTimeShiftInMs(target[service].timeshift);\n\n        instances = [].concat(instances).map((inst) => {\n          try {\n            return JSON.parse(inst); // json \n          } catch (error) {\n            // \n            if (!instanceCache) return this.getDefaultInsObj?.(inst);\n            return _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === inst)) ?? {};\n          }\n        });\n        const region = ReplaceVariable(this.templateSrv, options.scopedVars, target[service].region, false);\n        const insInReq: any = [];\n        for (let ins of instances) {\n          const dimensionObject = target[service].dimensionObject;\n          // dimensions\n          const dimKeys = Object.keys(dimensionObject);\n          const dimResult = await this.dimensionsFormat(dimKeys, ins, dimensionObject, target, service, options);\n\n          insInReq.push([{ Dimensions: GetDimensions(dimResult) }]);\n        }\n        const data = {\n          StartTime: moment(options.range.from).subtract(timeshift).format(),\n          EndTime: moment(options.range.to).subtract(timeshift).format(),\n          Period: target[service].period || 300,\n          Instances: _.flatMap(insInReq),\n          Namespace: target.namespace,\n          MetricName: target[service].metricName,\n        };\n        return this.getMonitorData(data, region, instances, target[service], options);\n      });\n\n    if (queries.length === 0) {\n      return [];\n    }\n\n    return Promise.all(queries)\n      .then((responses) => {\n        return _.flatten(responses);\n      })\n      .catch((error) => {\n        return [];\n      });\n  }\n  getDefaultInsObj(ins: string) {\n    return {} as any;\n  }\n  getInstanceReqConfig(selfIns: any) {\n    return {} as any;\n  }\n  getInvalidDimensions(selfIns: any, target?: any) {\n    return {} as any;\n  }\n  // this.templateSrv.replace() \n  getVariable(metric?: string) {\n    const rs = this.templateSrv.replace((metric || '').trim());\n    const valStr = rs.match(/\\{([\\w-,]+)\\}/);\n    // \n    if (valStr) {\n      return valStr[1].split(',');\n    }\n    return rs;\n  }\n\n  /**\n   *  \n   * @param params \n   * @param region \n   * @param instances \n   */\n  getMonitorData(params, region, instances, target, options) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const timeshift = getTimeShiftInMs(target.timeshift);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { action: 'GetMonitorData', region }\n    ).then((response) => {\n      return ParseQueryResult(response, instances, timeshift);\n    });\n  }\n\n  getRegions(): any {\n    return this.doRequest(\n      {\n        url: this.url + '/cvm',\n      },\n      'cvm',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getMetrics(region = 'ap-guangzhou'): Promise<any> {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: this.namespace,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    ).then((response) => {\n      const res = _.filter(\n        _.filter(response.MetricSet || [], (item) => !(item.Namespace !== this.namespace || !item.MetricName))\n      );\n      const resFilterFn = this.MetricReqConfig.resultFilter;\n      if (resFilterFn) {\n        return res.map((item) => resFilterFn(item));\n      }\n      return res;\n    });\n  }\n\n  getInstances(region, params = {}) {\n    const {\n      service = this.service,\n      action,\n      responseField: field,\n      interceptor,\n    } = this.InstanceReqConfig || this.getInstanceReqConfig(this);\n    params = { Offset: 0, Limit: 100, ...params };\n    const serviceInfo = GetServiceAPIInfo(region, service);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: interceptor?.request ? interceptor.request(params) : params,\n      },\n      serviceInfo.service,\n      { region, action }\n    ).then((response) => {\n      // \n      if (response?.Error) {\n        console.error(response.Error);\n        return response;\n      }\n\n      let result;\n      // field\n      if (field) {\n        result = _.get(response, field) ?? _.get(response, `Result.${field}`) ?? [];\n      }\n\n      // \n      if (interceptor?.response) {\n        result = interceptor.response(result);\n      }\n      return result;\n    });\n  }\n\n  getVariableInstances(region, query = {}): Promise<any[]> {\n    let result: any[] = [];\n    const params = { ...{ Offset: 0, Limit: 100 }, ...query };\n\n    const {\n      service = this.service,\n      action,\n      responseField: field,\n      interceptor,\n    } = this.InstanceReqConfig || this.getInstanceReqConfig(this);\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: interceptor?.request ? interceptor.request(params) : params,\n      },\n      serviceInfo.service,\n      { region, action }\n    ).then((response) => {\n      result = _.get(response, field) ?? _.get(response, `Result.${field}`) ?? [];\n      const total =\n        response.TotalCount ?? response.TotalCnt ?? response.TotalNumber ?? _.get(response, `Result.TotalCount`) ?? 0;\n      if (result.length >= total) {\n        return interceptor?.response ? interceptor.response(result) : result;\n      } else {\n        const param = SliceLength(total, params?.Limit || 100);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getInstances(region, { ...item, ...query }));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return interceptor?.response ? interceptor.response(result) : result;\n          })\n          .catch((error) => {\n            return interceptor?.response ? interceptor.response(result) : result;\n          });\n      }\n    });\n  }\n\n  // \n  isValidConfigField(field: string) {\n    return field && field.length > 0;\n  }\n\n  testDatasource() {\n    // const { service = this.service, action } = this.InstanceReqConfig;\n    // const serviceInfo = GetServiceAPIInfo('ap-guangzhou', service);\n\n    if (!this.isValidConfigField(this.secretId)) {\n      return {\n        service: this.service,\n        status: 'error',\n        message: 'The SecretId/SecretKey field is required.',\n      };\n    }\n\n    return Promise.all([\n      this.getRegions(),\n      this.getMetrics(),\n      // this.doRequest(\n      //   {\n      //     url: this.url + serviceInfo.path,\n      //     data: {\n      //       Offset: 0,\n      //       Limit: 1,\n      //     },\n      //   },\n      //   service,\n      //   { region: 'ap-guangzhou', action },\n      // ),\n      this.getInstances('ap-guangzhou', {\n        Offset: 0,\n        Limit: 1,\n      }),\n    ])\n      .then((responses) => {\n        const cvmErr = _.get(responses, '[0].Error', {});\n        const monitorErr = _.get(responses, '[1].Error', {});\n        const serviceErr = _.get(responses, '[2].Error', {});\n        // const cvmAuthFail = _.get(cvmErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        // const monitorAuthFail = _.get(monitorErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        // const serviceAuthFail = _.get(serviceErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        const cvmAuthFail = _.get(cvmErr, 'Code', '');\n        const monitorAuthFail = _.get(monitorErr, 'Code', '');\n        const serviceAuthFail = _.get(serviceErr, 'Code', '');\n        if (cvmAuthFail || monitorAuthFail || serviceAuthFail) {\n          const messages: any[] = [];\n          if (cvmAuthFail) {\n            messages.push(_.get(cvmErr, 'Code'));\n          }\n          if (monitorAuthFail) {\n            messages.push(_.get(monitorErr, 'Code'));\n          }\n          if (serviceAuthFail) {\n            messages.push(_.get(serviceErr, 'Code'));\n          }\n          const message = _.join(_.compact(_.uniq(messages)), '; ');\n          return {\n            service: this.service,\n            status: 'error',\n            message,\n          };\n        } else {\n          return {\n            namespace: this.namespace,\n            service: this.service,\n            status: 'success',\n            message: `Successfully queried the ${this.service} service.`,\n            title: 'Success',\n          };\n        }\n      })\n      .catch((error) => {\n        let message = `${this.service} service:`;\n        message += error.statusText ? error.statusText + '; ' : '';\n        if (_.get(error, 'data.error.code', '')) {\n          message += error.data.error.code + '. ' + error.data.error.message;\n        } else if (_.get(error, 'data.error', '')) {\n          message += error.data.error;\n        } else if (_.get(error, 'data', '')) {\n          message += error.data;\n        } else {\n          message += `Cannot connect to ${this.service} service.`;\n        }\n        return {\n          service: this.service,\n          status: 'error',\n          message: message,\n        };\n      });\n  }\n\n  async doRequest(options, service, signObj: any = {}) {\n    options = await GetRequestParams(\n      options,\n      service,\n      signObj,\n      this.secretId,\n      this.instanceSettings.id,\n      this.backendSrv\n    );\n    return this.backendSrv\n      .datasourceRequest(options)\n      .then((response) => {\n        return _.get(response, 'data.Response', {});\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","import _ from 'lodash';\nimport { SERVICES } from '../tc_monitor';\n\n/*  */\nconst PageSize = 50;\nfunction getFieldsValue(value, fields) {\n  return fields.map((item) => _.get(value, item, _.get(value, `Result.${item}`, [])));\n}\n\nexport async function fetchAllFactory(fetcher: (args: any) => Promise<any>, _params: any, field: string | string[]) {\n  const params = { ..._.omit(_params, ['isOffsetPage']) };\n  params.Limit = params.Limit || PageSize; // Limit50\n  params.Offset = params.Offset ?? 0; // Offset0\n\n  // \n  const rs = (await fetcher(params)) ?? {};\n  const fields = Array.isArray(field) ? field : [field];\n\n  // rs.TotalCount = rs.TotalCount ?? rs.Result.TotalCount ?? [];\n  // const { TotalCount } = rs;\n  const TotalCount = rs.TotalCount ?? rs.Result?.TotalCount ?? rs.TotalCnt ?? rs.Result?.TotalCnt ?? 0;\n  const firstLists = getFieldsValue(rs, fields);\n\n  if (TotalCount === 0 || firstLists[0].length === TotalCount) {\n    // \n    return firstLists;\n  }\n\n  // \n  const delta = TotalCount - firstLists[0].length;\n  const batchCount = Math.ceil(delta / PageSize);\n  const pmList = new Array(batchCount).fill(0).map((_, index) => {\n    params.Offset = _params.isOffsetPage ? 1 + index : (1 + index) * params.Limit;\n    return fetcher(params);\n  });\n\n  // \n  const resultList = await Promise.all(pmList); // [ {a: [], b[] }, { a: [], b:[] }]\n\n  return resultList.reduce((acc, cur) => {\n    const lists = getFieldsValue(cur, fields);\n    // [[], [], []] + [[], [], []]\n    acc.forEach((list, index) => list.push(...lists[index]));\n    return acc;\n  }, firstLists);\n}\n\n/**\n * \n *\n * @param queries \n * @param isFilter Filters\n */\nexport function instanceQueryParamsBaseParse(queries: any, isFilter: boolean) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    const Filters: any[] = [];\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          if (isFilter) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          } else {\n            params[key] = _.uniq(item);\n          }\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          if (isFilter) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          } else {\n            params[key] = _.get(item, 'value');\n          }\n        }\n      } else if (item !== null && item !== undefined && item !== '') {\n        if (isFilter) {\n          Filters.push({ Name: key, Values: item });\n        } else {\n          params[key] = item;\n        }\n      }\n    });\n    if (isFilter && Filters.length > 0) {\n      params.Filters = Filters;\n      return params;\n    }\n  }\n  return params;\n}\n\nexport function getNamesapceFromService(serviceName: string) {\n  return _.get(\n    _.find(SERVICES, (service) => service.service === serviceName),\n    'namespace'\n  );\n}\n\nexport function serviceGroupBy(\n  services: { service: string; label: string; namespace: string; href: string; groupName?: string }[]\n) {\n  const result = services.reduce((acc, cur) => {\n    const { namespace, label, groupName = label } = cur;\n\n    const existedGroup = acc.find((item) => item.label === groupName);\n    if (!existedGroup) {\n      acc.push({ label: groupName, value: groupName, items: [{ label, value: namespace }] });\n      return acc;\n    }\n\n    existedGroup.items.push({ label, value: namespace });\n    return acc;\n  }, [] as any[]);\n\n  // \n  const rs = result.map((item) =>\n    item.items.length === 1 ? { label: item.items[0].label, value: item.items[0].value } : item\n  );\n  return rs;\n}\n\nexport const isTargetEqual = (newTargetString: string, oldTargetString: string, key: string) => {\n  try {\n    const newTarget = JSON.parse(newTargetString);\n    const oldTarget = JSON.parse(oldTargetString);\n    return newTarget[key] === oldTarget[key];\n  } catch (e) {\n    return newTargetString === oldTargetString;\n  }\n};\n\nexport const getTimeShiftInMs = (timeShift: any) => {\n  const parts = /^(\\d+)([d|h|m|s])$/.exec(timeShift);\n  if (!parts) {\n    return 0;\n  }\n  const amount = parseInt(parts[1], 10);\n  const unit = parts[2];\n  switch (unit) {\n    case 'd':\n      return amount * 86400 * 1000;\n    case 'h':\n      return amount * 3600 * 1000;\n    case 'm':\n      return amount * 60 * 1000;\n    case 's':\n      return amount * 1000;\n  }\n  return 0;\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","import coreModule from 'grafana/app/core/core_module';\nimport { DetailQueryConfig } from './types';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nfunction classFactory(detailConfig) {\n  return class QueryCtrl {\n    static _config: DetailQueryConfig;\n\n    /** @ngInject */\n    constructor($scope, $rootScope) {\n      Object.assign($scope, detailConfig);\n\n      $scope.getDropdown = (field) => {\n        const service = GetServiceFromNamespace($scope.namespace);\n        return $scope.datasource.getFilterDropdown(service, { field, region: $scope.region });\n      };\n    }\n  };\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"{{instanceDocUrl}}\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in fieldDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownMulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <gf-form-dropdown \n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\" \n        allow-custom=\"true\" \n        lookup-text=\"true\" \n        get-options=\"getDropdown(field.key)\" \n        css-class=\"min-width-10\"\n        on-change=\"onChange()\">\n      </gf-form-dropdown>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n      <gf-form-switch \n        ng-if=\"field.type === 'switch'\"\n        class=\"gf-form tc-switch\" \n        label-class=\"width-7\" \n        checked=\"target.queries[field.key]\" \n        switch-class=\"max-width-5\"\n      ></gf-form-switch>\n    </div>\n  </div>\n</div>\n  </div>\n`;\nfunction queryDDOFactory(QueryCtrl) {\n  return function queryDDO() {\n    return {\n      template: template,\n      controller: QueryCtrl,\n      restrict: 'E',\n      scope: {\n        target: '=',\n        showDetail: '=',\n        region: '=',\n        datasource: '=',\n        getDropdownOptions: '&',\n        onChange: '&',\n      },\n    };\n  };\n}\n\nexport default (name: string, config: DetailQueryConfig) => {\n  // QueryCtrl._config = config;\n  const newQueryIns = classFactory(config);\n  coreModule.directive(name, queryDDOFactory(newQueryIns));\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","interface DBEvent {\n  target: { result: any; error: any };\n}\n// \ninterface DBTypes {\n  store: StoreType;\n  name?: string;\n  version?: number;\n}\n// store\ninterface StoreType {\n  name: string; // \n  key: string; // \n  cursorIndex?: { name: string; unique: boolean }[]; // \n}\n\n// \n// {service: 'cvm', instance: [{ins: 23}]}\ninterface DataType {\n  service: string;\n  [x: string]: any; // \n}\n\n// interface UpdateProps {\n//   storeName: string;\n//   cursorKey: string;\n//   cursorValue?: any;\n//   data: any;\n// }\n\nconst store: StoreType = {\n  name: 'grafanaInstanceList',\n  key: 'service',\n};\nconst promisify = (request: any, type?: string) => {\n  return new Promise<any>((resolve, reject) => {\n    request.onsuccess = (event: DBEvent) => {\n      const returnMap: any = {\n        event: event.target.result,\n        request: request.result,\n        msg: '',\n      };\n      resolve(returnMap[type || 'msg']);\n    };\n    request.onerror = (event: DBEvent) => reject(event.target.error || '');\n  });\n};\n// \nclass IndexedDB {\n  name = 'grafanaDatabase';\n  version = 1;\n\n  constructor(props: DBTypes) {\n    const { name = 'database', version = 1, store } = props;\n    this.name = name;\n    this.version = version;\n\n    this.initDB(store);\n  }\n\n  /**\n   * \n   * @param store \n   */\n  initDB(store: StoreType) {\n    const indexeddb = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;\n    const request = indexeddb.open(this.name, this.version);\n\n    request.onupgradeneeded = (event: IDBVersionChangeEvent) => {\n      const db = (event.target as IDBOpenDBRequest).result;\n      if (db.objectStoreNames.contains(store.name)) {\n        // store\n      }\n\n      //  store\n      db.createObjectStore(store.name, {\n        keyPath: store.key,\n      });\n    };\n    request.onerror = () => Promise.reject(new Error(''));\n    request.onsuccess = () => Promise.resolve('');\n  }\n\n  openDB() {\n    const indexeddb = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;\n    const request = indexeddb.open(this.name, this.version);\n\n    return promisify(request, 'event');\n  }\n\n  /**\n   * \n   * @param storeName \n   * @param data \n   */\n  async insertData(storeName: string, data: any) {\n    try {\n      // console.time('insertData');\n      const db = await this.openDB();\n      const transaction = db.transaction(storeName, 'readwrite');\n      const objectStore = transaction.objectStore(storeName);\n\n      objectStore.add(data);\n      // console.timeEnd('insertData');\n\n      return new Promise((resolve, reject) => {\n        transaction.oncomplete = function () {\n          // console.timeEnd('insertData');\n          resolve('');\n        };\n\n        transaction.onerror = function (event) {\n          reject(event);\n        };\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  /**\n   * \n   * @param props \n   */\n  async addData(data: DataType, isCover?: boolean) {\n    try {\n      // console.log('addData');\n      const storeName = store.name; // \n      const oldData = await this.getData(data.service);\n      const objectStore = await this.getObjectStore(storeName, 'readwrite');\n\n      if (!oldData) {\n        // \n        this.insertData(storeName, data);\n      }\n      // \n      let newData: any = { ...oldData, ...data };\n      if (isCover) newData = data; // \n      // \n      const requestUpdate = objectStore.put(newData);\n      // console.timeEnd('updateData');\n      return promisify(requestUpdate);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  /**\n   * \n   * @param storeName /\n   * @param cursorKey key\n   * @param cursorValue \n   */\n  async getData(seviceName: string) {\n    try {\n      // console.time('getData');\n      const storeName = store.name;\n      const objectStore = await this.getObjectStore(storeName);\n      const request = objectStore.get(seviceName);\n      // console.timeEnd('getData');\n      return promisify(request, 'request');\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  async getAllData(storeName: string) {\n    try {\n      // console.time('getAllData');\n      const objectStore = await this.getObjectStore(storeName);\n      const request = objectStore.getAll();\n      const result = await promisify(request, 'request');\n      // console.timeEnd('getAllData');\n      return result ? result : [];\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * \n   * @param storeName \n   * @param type readonly  readwrite\n   */\n  private async getObjectStore(storeName: string, type?: any): Promise<IDBObjectStore> {\n    try {\n      const db = await this.openDB();\n      return db.transaction(storeName, type).objectStore(storeName);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n}\n// console.log('testDDB')\n// const indexDB = new IndexedDB({store});\n// indexDB.addData({service: 'cvm', instance: [{ins: 23}]}).then(e=>{\n//   indexDB.getData('cvm').then(dd=>{console.log({dd})})\n// })\nexport default new IndexedDB({ store });\n","import indexedDB from './indexedDB';\nclass InstanceStorage {\n  // prefix = 'Datasource';\n  // storageKey = 'grafanaInstanceCache';\n  insKey = 'Instances';\n  cacheWay = '';\n  constructor() {}\n  setInstance(service: string, value: Record<string, any>) {\n    return this.setStorage(service, this.insKey, value, true);\n  }\n  async getInstance(service: string) {\n    return this.getStorage(service, this.insKey);\n  }\n  setExtraStorage(service: string, Ekey: string, EValue: Record<string, any>) {\n    return this.setStorage(service, Ekey, EValue, false);\n  }\n  async getExtraStorage(service: string, Ekey: string) {\n    return this.getStorage(service, Ekey);\n  }\n  private setStorage(serviceKey: string, key: string, value: Record<string, any>, isCover = false) {\n    // console.log('set', serviceKey, key, value);\n    return indexedDB.addData(\n      {\n        service: serviceKey,\n        [key]: value,\n      },\n      isCover\n    );\n  }\n  // \n  private async getStorage(service: string, key?: string) {\n    const storage = await indexedDB.getData(service);\n    // console.log('get', key, storage);\n    return key ? storage?.[key] : storage;\n  }\n}\nexport default new InstanceStorage();\n","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","import _ from 'lodash';\n\nexport const CKAFKAQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '101100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstanceId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SearchWord',\n    enDescriptor: 'SearchWord',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: 'key',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 0 },\n      { text: '', value: 1 },\n      { text: '', value: 2 },\n    ],\n  },\n];\n\nconst CKAFKA_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  topicId: '',\n  topicName: '',\n  consumerGroup: '',\n  partition: '',\n  queries: {\n    Offset: 0,\n    Limit: 10,\n    Status: [],\n    InstanceId: '',\n    SearchWord: '',\n    TagKey: '',\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst CKAFKAInstanceAliasList = ['InstanceId', 'InstanceName'];\nconst CKAFKATopicAliasList = ['TopicId', 'TopicName'];\n// valuekey\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  topicId: 'TopicId',\n  groupName: 'GroupName',\n  partition: 'PartitionId',\n};\n// dimensionsdimensionkeykey\nconst CKAFKAInvalidDemensions = new Proxy(\n  {\n    topicId: 'TopicId',\n    topicName: 'TopicName',\n    consumerGroup: 'GroupName',\n    partition: 'PartitionId',\n  },\n  {\n    get: (obj, prop) => {\n      if (String(prop).toLocaleLowerCase() === 'instanceid') return 'InstanceId';\n      return obj[prop];\n    },\n  }\n);\n// storagekey\nconst keyInStorage = {\n  TopicList: 'TopicList',\n  GroupList: 'GroupList',\n  PartitionList: 'PartitionList',\n};\n\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  TopicId: {\n    dim_KeyInStorage: keyInStorage.TopicList,\n    dim_KeyInTarget: 'topicId',\n    dim_KeyInMap: templateQueryIdMap.topicId,\n  },\n  // topicNametopicIdstoragesourcetopicId\n  TopicName: {\n    dim_KeyInStorage: keyInStorage.TopicList,\n    dim_KeyInTarget: 'topicId',\n    dim_KeyInMap: templateQueryIdMap.topicId,\n  },\n  GroupName: {\n    dim_KeyInStorage: keyInStorage.GroupList,\n    dim_KeyInTarget: 'consumerGroup',\n    dim_KeyInMap: templateQueryIdMap.groupName,\n  },\n  PartitionId: {\n    dim_KeyInStorage: keyInStorage.PartitionList,\n    dim_KeyInTarget: 'partition',\n    dim_KeyInMap: templateQueryIdMap.partition,\n  },\n};\nexport default CKAFKA_STATE;\nexport {\n  CKAFKAInstanceAliasList,\n  CKAFKATopicAliasList,\n  CKAFKAInvalidDemensions,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  GetInstanceQueryParams as CKAFKAGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/LOADBALANCE';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'loadBalanceQuery';\n\nconst ForwardTypes = [\n  { text: '', value: 1 },\n  { text: '', value: 0 },\n];\n\nconst OrderBy = [\n  { text: 'LoadBalancerName', value: 'LoadBalancerName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'Domain', value: 'Domain' },\n  { text: 'LoadBalancerType', value: 'LoadBalancerType' },\n];\n\nconst OrderType = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\n\nconst WithRs = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: -1 },\n];\nconst LOADBALANCEFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancer ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancer Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Forward',\n    enDescriptor: 'Forward',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: ForwardTypes,\n  },\n  {\n    key: 'Domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancer Vips',\n    cnDescriptor: ' VIP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivate Ips',\n    cnDescriptor: ' IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPublicIps',\n    enDescriptor: 'BackendPublic Ips',\n    cnDescriptor: ' IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroup',\n    enDescriptor: 'Security Group',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'MasterZone',\n    enDescriptor: 'Master Zone',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'WithRs',\n    enDescriptor: 'WithRs',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: WithRs,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/214/30685',\n  namespace,\n  fieldDescriptor: LOADBALANCEFieldsDescriptor,\n};\nconst LBFields = {\n  LoadBalancerIds: [],\n  Forward: undefined,\n  LoadBalancerName: '',\n  Domain: '',\n  LoadBalancerVips: [],\n  BackendPublicIps: [],\n  BackendPrivateIps: [],\n  Limit: 20,\n  Offset: 0,\n  ProjectId: undefined,\n  WithRs: {},\n  VpcId: '',\n  SecurityGroup: '',\n  MasterZone: '',\n  OrderBy: {},\n  OrderType: {},\n};\n\nconst LOADBALANCE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  Port: '',\n  Protocol: '',\n  listener: '',\n  servers: '',\n  serverPort: '',\n  // listenerAlias: 'ListenerId',\n  queries: LBFields,\n};\n\n// function GetInstanceQueryParams(queries: any = {}) {\n//   const params: any = {};\n//   if (!_.isEmpty(queries)) {\n//     params.Limit = _.get(queries, 'Limit', 20) || 20;\n//     params.Offset = _.get(queries, 'Offset', 0) || 0;\n//     queries = _.omit(queries, ['Offset', 'Limit']);\n//     _.forEach(queries, (item: any, key) => {\n//       if (_.isArray(item)) {\n//         item = _.compact(item);\n//         if (item.length > 0) {\n//           params[key] = _.uniq(item);\n//         }\n//       } else if (_.isObject(item)) {\n//         if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n//           params[key] = _.get(item, 'value');\n//         }\n//       } else if (_.isNumber(item) || !_.isEmpty(item)) {\n//         params[key] = item;\n//       }\n//     });\n//   }\n//   return params;\n// }\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nconst InstanceAliasList = ['LoadBalancerId', 'LoadBalancerName', 'LoadBalancerVips'];\nconst LOADBALANCEListenerAliasList = ['ListenerId', 'ListenerName', 'Port'];\nconst LOADBALANCEServerAliasList = ['PrivateIpAddresses', 'InstanceId'];\nconst LOADBALANCEVALIDDIMENSIONS = {\n  vip: 'LoadBalancerVips',\n  // vpcId: 'NumericalVpcId',\n  loadBalancerPort: 'Port',\n  protocol: 'Protocol',\n  lanIp: 'PrivateIpAddresses',\n  port: 'ServerPort',\n};\n// ipv6vipAddressIPv6\nconst CANDIATEDIMENSIONS = {\n  LoadBalancerVips: 'AddressIPv6',\n};\n// dimensionObject[item] = { Name: item, Value: '' };\n// const LOADBALANCE_INSTANCE_DIMENSIONOBJECTS = {\n//   vip: { Name: 'vip', Value: '' },\n// };\n// const LOADBALANCE_LISTENER_DIMENSIONOBJECTS = {\n//   vip: { Name: 'vip', Value: '' },\n//   loadBalancerPort: { Name: 'loadBalancerPort', Value: '' },\n//   protocol: { Name: 'protocol', Value: '' },\n// };\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n  listener: 'ListenerId',\n  servers: 'PrivateIpAddresses',\n  port: 'Port',\n};\n// storagekey\nconst keyInStorage = {\n  listener: 'ListenerList',\n  servers: 'ServersList',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  Port: {\n    dim_KeyInStorage: keyInStorage.listener,\n    dim_KeyInTarget: 'listener',\n    dim_KeyInMap: templateQueryIdMap.listener,\n  },\n  Protocol: {\n    dim_KeyInStorage: keyInStorage.listener,\n    dim_KeyInTarget: 'listener',\n    dim_KeyInMap: templateQueryIdMap.listener,\n  },\n  PrivateIpAddresses: {\n    dim_KeyInStorage: keyInStorage.servers,\n    dim_KeyInTarget: 'servers',\n    dim_KeyInMap: templateQueryIdMap.servers,\n  },\n  ServerPort: {\n    dim_KeyInStorage: keyInStorage.servers,\n    dim_KeyInTarget: 'serverPort',\n    dim_KeyInIns: 'Port',\n    dim_KeyInMap: templateQueryIdMap.port,\n  },\n};\nexport default LOADBALANCE_STATE;\nexport {\n  LOADBALANCEFieldsDescriptor,\n  InstanceAliasList,\n  LOADBALANCEListenerAliasList,\n  LOADBALANCEServerAliasList,\n  LOADBALANCEVALIDDIMENSIONS,\n  templateQueryIdMap,\n  CANDIATEDIMENSIONS,\n  // LOADBALANCE_LISTENER_DIMENSIONOBJECTS,\n  // LOADBALANCE_INSTANCE_DIMENSIONOBJECTS,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  queryEditorConfig,\n  namespace,\n  queryEditorName,\n  GetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/TDMQ';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'tdmqQuery';\n\nconst TDMQInvalidDemensions = {\n  tenantId: 'ClusterId',\n  tenant: 'ClusterId',\n  topicName: 'TopicName',\n  environmentId: 'EnvironmentId',\n};\n\n// \nconst TDMQInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nconst templateQueryIdMap = {\n  instance: 'ClusterId',\n  topicName: 'TopicName',\n  environmentId: 'EnvironmentId',\n};\n\n// select{},multi[],dropdown''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n];\n\nconst CDNPROVINCE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  // keyTDMQInvalidDemensions\n  topicName: '',\n  environmentId: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    if (item.Dimensions.indexOf('topicName') !== -1 && item.Dimensions.indexOf('environmentId') === -1) {\n      item.Dimensions.push('environmentId');\n    }\n  });\n  return metricTmp;\n}\n// storagekey\nconst keyInStorage = {\n  topicName: 'topicName',\n  environmentId: 'environmentId',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  TopicName: {\n    dim_KeyInStorage: keyInStorage.topicName,\n    dim_KeyInTarget: 'topicName',\n    dim_KeyInMap: templateQueryIdMap.topicName,\n  },\n  EnvironmentId: {\n    dim_KeyInStorage: keyInStorage.environmentId,\n    dim_KeyInTarget: 'environmentId',\n    dim_KeyInMap: templateQueryIdMap.environmentId,\n  },\n};\nexport default CDNPROVINCE_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  modifyDimensons,\n  regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as TDMQGetInstanceQueryParams,\n};\n","/**  */\nimport { DataQuery, DataSourceJsonData } from '@grafana/data';\nimport { RUMQuery } from './rum-service/types';\nimport { APMQuery } from './apm-service/types';\nimport { t, Language } from '../locale';\nimport { SearchSyntaxRule } from './log-service/common/constants';\n\nexport const enum ServiceType {\n  monitor = 'monitor',\n  logService = 'logService',\n  RUMService = 'RUMService',\n  APMService = 'APMService',\n}\n\nexport const ServiceTypeOptions = [\n  {\n    value: ServiceType.monitor,\n    get label() {\n      return t('cloud_monitor');\n    },\n  },\n  {\n    value: ServiceType.logService,\n    get label() {\n      return t('cloud_log_service');\n    },\n  },\n  {\n    value: ServiceType.RUMService,\n    get label() {\n      return t('real_user_monitoring');\n    },\n  },\n  {\n    value: ServiceType.APMService,\n    get label() {\n      return t('apm_monitoring');\n    },\n  },\n];\n\nexport interface QueryInfo extends DataQuery {\n  /** Query or  */\n  serviceType?: ServiceType;\n  logServiceParams?: {\n    region: string;\n    TopicId: string;\n    Query: string;\n    SyntaxRule: number;\n    MaxResultNum?: number;\n  };\n  RUMServiceParams?: RUMQuery;\n  APMServiceParams?: APMQuery;\n}\n\nexport const defaultQueryInfo: Omit<QueryInfo, 'refId'> = {\n  serviceType: ServiceType.logService,\n  logServiceParams: {\n    region: '',\n    TopicId: '',\n    Query: '',\n    SyntaxRule: SearchSyntaxRule.CQL,\n  },\n  RUMServiceParams: {\n    policy: 'default',\n    resultFormat: 'time_series',\n    orderByTime: 'ASC',\n    tags: [],\n    groupBy: [\n      {\n        type: 'time',\n        params: ['$__interval'],\n      },\n      {\n        type: 'fill',\n        params: ['null'],\n      },\n    ],\n    select: [\n      [\n        {\n          type: 'field',\n          params: ['value'],\n        },\n        {\n          type: 'mean',\n          params: [],\n        },\n      ],\n    ],\n  },\n  APMServiceParams: {\n    policy: 'default',\n    resultFormat: 'time_series',\n    orderType: 'time',\n    orderBy: 'ASC',\n    tags: [],\n    groupBy: [\n      {\n        type: 'time',\n        params: ['$__interval'],\n      },\n      {\n        type: 'fill',\n        params: ['null'],\n      },\n    ],\n    select: [\n      [\n        {\n          type: 'field',\n          params: ['value'],\n        },\n        {\n          type: 'mean',\n          params: [],\n        },\n      ],\n    ],\n  },\n};\n\n/** QueryInfoqueryqueryQueryInfo */\nexport const queryInfoRuntime: Required<QueryInfo> = {\n  refId: '',\n  hide: false,\n  key: '',\n  queryType: '',\n  dataTopic: null as any,\n  datasource: '',\n\n  serviceType: defaultQueryInfo.serviceType,\n  logServiceParams: defaultQueryInfo.logServiceParams,\n  RUMServiceParams: defaultQueryInfo.RUMServiceParams,\n  APMServiceParams: defaultQueryInfo.APMServiceParams,\n};\n\n/**  */\nexport interface VariableQuery {\n  serviceType: ServiceType;\n  queryString: string;\n  logServiceParams?: QueryInfo['logServiceParams'];\n}\n\n/**\n * These are options configured for each DataSource instance.\n */\nexport interface MyDataSourceOptions extends DataSourceJsonData {\n  secretId?: string;\n  /**  */\n  logServiceEnabled?: boolean;\n  /**  */\n  RUMServiceEnabled?: boolean;\n  /**  product.service  */\n  // [product.service]?: boolean\n  intranet?: boolean;\n  language?: Language;\n  /** APM */\n  APMServiceEnabled?: boolean;\n}\n\n/**\n * Value that is used in the backend, but never sent over HTTP to the frontend\n */\nexport interface MySecureJsonData {\n  secretKey: string;\n}\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/GSE';\nconst fleetId = 'FleetId'; // cvmstring[]Array<{fleetid: xxx}>,key\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'gseQuery';\n\nconst GSEInvalidDemensions = {\n  instanceid: 'InstanceId',\n  fleetid: 'FleetId',\n  queuename: 'Name',\n};\n\n// \nconst GSEInstanceAliasList = ['InstanceId', 'PrivateIpAddress', 'IpAddress'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  Name: 'Name',\n  FleetId: fleetId,\n};\n\n// storagekey\nconst keyInStorage = {\n  fleet: 'fleet', // \n  queue: 'queueName', // \n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  FleetId: {\n    dim_KeyInStorage: keyInStorage.fleet,\n    dim_KeyInTarget: 'FleetId',\n    dim_KeyInMap: templateQueryIdMap.FleetId,\n  },\n  Name: {\n    dim_KeyInStorage: keyInStorage.queue,\n    dim_KeyInTarget: 'Name',\n    dim_KeyInMap: templateQueryIdMap.Name,\n  },\n};\n// select{},multi[],dropdown''\nconst GSEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceId: '',\n  FleetId: '',\n};\n\nconst GSEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'resourceName',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FleetId',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1165/42604',\n  namespace,\n  fieldDescriptor: GSEFilterFieldsDescriptor,\n};\n\nconst GSE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  FleetId: '', //  \n  Name: '', // \n  queries: GSEFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  // { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  // { value: 'ap-shanghai-fsi' },\n  // { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  // { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((v) => GSEInvalidDemensions[v] || v);\n  });\n  return metricTmp;\n}\nexport default GSE_STATE;\nexport {\n  GSEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  GSEInstanceAliasList,\n  GSEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  fleetId,\n  keyInStorage,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as GSEGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { isArray, cloneDeep } from 'lodash';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/TDMYSQL';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'dcdbQuery';\n\nconst DCDBInvalidDemensions = {\n  nodeid: 'NodeId',\n  instanceid: 'InstanceId',\n  shardid: 'ShardInstanceId',\n  ShardId: 'ShardInstanceId',\n};\n\n// \nconst DCDBInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  NodeId: 'NodeId',\n  ShardInstanceId: 'ShardInstanceId',\n};\n\n// select{},multi[],dropdown''\nconst DCDBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceIds: [],\n  SearchName: '',\n  SearchKey: '',\n  ProjectIds: [],\n  // IsFilterVpc\n  VpcId: '',\n  SubnetId: '',\n\n  OrderBy: {},\n  OrderByType: {},\n  // IsFilterExcluster: {},\n  ExclusterType: {},\n\n  ExclusterIds: [],\n  FilterInstanceType: {},\n};\n\nconst DCDBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: ' ID ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'SearchName',\n    enDescriptor: 'SearchName',\n    cnDescriptor: ',instancenamevipall',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: ' ID ',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'projectId', value: 'projectId' },\n      { text: 'createtime', value: 'createtime' },\n      { text: 'instancename', value: 'instancename' },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'desc', value: 'desc' },\n      { text: 'asc', value: 'asc' },\n    ],\n  },\n  {\n    key: 'ExclusterType',\n    enDescriptor: 'ExclusterType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 1 },\n      { text: '', value: 2 },\n      { text: '', value: 0 },\n      { text: 'asc', value: 'asc' },\n    ],\n  },\n  {\n    key: 'ExclusterIds',\n    enDescriptor: 'ExclusterIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'FilterInstanceType',\n    enDescriptor: 'FilterInstanceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 1 },\n      { text: '', value: 2 },\n      { text: '', value: 3 },\n    ],\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/557/16140',\n  namespace,\n  fieldDescriptor: DCDBFilterFieldsDescriptor,\n};\n\nconst DCDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  ShardId: '',\n  NodeId: '',\n  queries: DCDBFilterFields,\n};\nconst modifyMetricConf = {\n  shardid: 'ShardId',\n  instanceid: 'InstanceId',\n  nodeid: 'NodeId',\n};\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((v) => modifyMetricConf[v] || v);\n  });\n  return metricTmp;\n}\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params = instanceQueryParamsBaseParse(queries, false);\n  // \n  params.IsFilterVpc = false;\n  params.IsFilterExcluster = false;\n  if (params.VpcId || params.SubnetId) params.IsFilterVpc = true;\n  if (params.ExclusterType) params.IsFilterExcluster = true;\n  if (isArray(params.FilterInstanceType)) params.FilterInstanceType = params.FilterInstanceType.join(',');\n  return params;\n}\n// storagekey\nconst keyInStorage = {\n  NodeId: 'NodeId',\n  ShardInstanceId: 'ShardId',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NodeId: {\n    dim_KeyInStorage: keyInStorage.NodeId,\n    dim_KeyInTarget: 'NodeId',\n    dim_KeyInMap: templateQueryIdMap.NodeId,\n  },\n  ShardInstanceId: {\n    dim_KeyInStorage: keyInStorage.ShardInstanceId,\n    dim_KeyInTarget: 'ShardId',\n    dim_KeyInMap: templateQueryIdMap.ShardInstanceId,\n  },\n};\n// \nconst regionSupported = [\n  { text: '()', value: 'ap-beijing' },\n  { text: '()', value: 'ap-chengdu' },\n  { text: '()', value: 'ap-chongqing' },\n  { text: '()', value: 'ap-guangzhou' },\n  { text: '()', value: 'ap-hongkong' },\n  { text: '()', value: 'ap-mumbai' },\n  { text: '()', value: 'ap-nanjing' },\n  { text: '()', value: 'ap-shanghai' },\n  { text: '()', value: 'ap-shanghai-fsi' },\n  { text: '()', value: 'ap-shenzhen-fsi' },\n  { text: '()', value: 'ap-singapore' },\n  { text: '()', value: 'ap-tokyo' },\n  { text: '()', value: 'eu-frankfurt' },\n  { text: '()', value: 'na-ashburn' },\n  { text: '()', value: 'na-siliconvalley' },\n  { text: '()', value: 'na-toronto' },\n];\nexport default DCDB_STATE;\nexport {\n  DCDBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCDBInstanceAliasList,\n  DCDBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  keyInStorage,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as DCDBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nconst namespace = 'QCE/REDIS_MEM';\nconst BillingMode = [\n  { text: '', value: 'postpaid' },\n  { text: '', value: 'prepaid' },\n];\n\nconst AutoRenew = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n];\n\nconst Status = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: -2 },\n  { text: '', value: -3 },\n];\n\nconst TypeVersion = [\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: 3 },\n];\n\nconst OrderBy = [\n  { text: 'projectId', value: 'projectId' },\n  { text: 'instancename', value: 'instancename' },\n  { text: 'createtime', value: 'createtime' },\n  { text: 'type', value: 'type' },\n  { text: 'curDeadline', value: 'curDeadline' },\n];\n\nconst OrderType = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\nconst Type = [\n  { text: 'Redis', value: 1 },\n  { text: 'Redis 2.8', value: 2 },\n  { text: 'CKV', value: 3 },\n  { text: 'CKV', value: 4 },\n  { text: 'Redis 2.8', value: 5 },\n  { text: 'Redis 4.0', value: 6 },\n  { text: 'Redis 4.0', value: 7 },\n  { text: 'Redis5.0', value: 8 },\n  { text: 'Redis5.0', value: 9 },\n];\n\nconst RedisFields = {\n  InstanceId: '',\n  OrderBy: '',\n  OrderType: null,\n  VpcIds: [],\n  SubnetIds: [],\n  ProjectIds: [],\n  SearchKey: '',\n  InstanceName: '',\n  UniqVpcIds: [],\n  UniqSubnetIds: [],\n  Status: [],\n  TypeVersion: null,\n  EngineName: '',\n  AutoRenew: null,\n  BillingMode: '',\n  Type: null,\n};\n\nconst RedisMemFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstancesId',\n    cnDescriptor: 'id',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'VpcIds',\n    cnDescriptor: 'ID047525',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'SubnetIds',\n    cnDescriptor: 'ID056854',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: 'ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'InstanceName',\n    enDescriptor: 'InstanceName',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'UniqVpcIds',\n    enDescriptor: 'UniqVpcIds',\n    cnDescriptor: 'ID0vpc-sad23jfdfk',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'UniqSubnetIds',\n    enDescriptor: 'UniqSubnetIds',\n    cnDescriptor: 'ID0subnet-fdj24n34j2',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'TypeVersion',\n    enDescriptor: 'TypeVersion',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: TypeVersion,\n  },\n  {\n    key: 'EngineName',\n    enDescriptor: 'EngineName',\n    cnDescriptor: 'Redis-2.8Redis-4.0CKV',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenew',\n    enDescriptor: 'AutoRenew',\n    cnDescriptor: '',\n    multiple: true,\n    type: 'select',\n    list: AutoRenew,\n  },\n  {\n    key: 'BillingMode',\n    enDescriptor: 'BillingMode',\n    cnDescriptor: 'postpaid-prepaid-',\n    link: '',\n    type: 'select',\n    list: BillingMode,\n  },\n  {\n    key: 'Type',\n    enDescriptor: 'Type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: Type,\n  },\n];\n\nconst REDISMEM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...RedisFields },\n  rnodeid: '',\n  pnodeid: '',\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select \n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst REDISMEMInstanceAliasList = ['InstanceId', 'InstanceName', 'WanIp'];\n\nconst RedisMemInvalidDemensions = {\n  instanceid: 'InstanceId',\n  rnodeid: 'rnodeid',\n  pnodeid: 'pnodeid',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  rnodeid: 'rnodeid',\n  pnodeid: 'pnodeid',\n};\n\nconst NodeType = ['Redis', 'Proxy'];\n\nexport default REDISMEM_STATE;\nexport {\n  RedisMemFieldsDescriptor,\n  RedisMemInvalidDemensions,\n  REDISMEMInstanceAliasList,\n  templateQueryIdMap,\n  namespace,\n  NodeType,\n  GetInstanceQueryParams as REDISMEMGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/RABBITMQ';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'tdmqQuery';\n\nconst TDMQInvalidDemensions = {\n  instanceid: 'InstanceId',\n  node: 'NodeName',\n};\n\n// \nconst TDMQRABBITMQInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  node: 'NodeName',\n};\n\n// select{},multi[],dropdown''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n];\n\nconst TDMQ_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  // keyTDMQInvalidDemensions\n  node: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n\n// storagekey\nconst keyInStorage = {\n  node: 'NodeName',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NodeName: {\n    dim_KeyInStorage: keyInStorage.node,\n    dim_KeyInTarget: 'node',\n    dim_KeyInMap: templateQueryIdMap.node,\n  },\n};\nexport default TDMQ_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQRABBITMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as TDMQGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/ROCKETMQ';\n\nconst TDMQInvalidDemensions = {\n  tenant: 'ClusterId',\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n\n// \nconst TDMQROCKETMQInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nconst templateQueryIdMap = {\n  instance: 'ClusterId',\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n\n// select{},multi[],dropdown''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  instanceIdsChecked: false,\n  filtersChecked: true,\n  ClusterIdList: [''],\n  Filters: {\n    includeVip: { text: '', value: 'true' },\n  },\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'includeVip',\n    enDescriptor: 'includeVip',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'true' },\n      { text: '', value: 'false' },\n    ],\n  },\n];\n\nconst TDMQ_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  // keyTDMQInvalidDemensions\n  namespace: '',\n  group: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.ClusterIdList)) {\n        const ClusterIdList = _.compact(queries.ClusterIdList);\n        if (_.uniq(ClusterIdList).length > 0) {\n          params.ClusterIdList = _.uniq(ClusterIdList).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: [_.get(item, 'value', [])].slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n\n// storagekey\nconst keyInStorage = {\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NamespaceId: {\n    dim_KeyInStorage: keyInStorage.namespace,\n    dim_KeyInTarget: 'namespace',\n    dim_KeyInMap: templateQueryIdMap.namespace,\n  },\n  Name: {\n    dim_KeyInStorage: keyInStorage.group,\n    dim_KeyInTarget: 'group',\n    dim_KeyInMap: templateQueryIdMap.group,\n  },\n};\nexport default TDMQ_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQROCKETMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as TDMQROCKETMQGetInstanceQueryParams,\n};\n","import { t } from '../../locale';\n// name (), serviceservice\ninterface ServiceType {\n  service: string;\n  label: string;\n  namespace: string;\n  href: string;\n  groupName?: string;\n  hideRegion?: boolean;\n}\nconst SERVICES: ServiceType[] = [\n  {\n    service: 'cvm',\n    get label() {\n      return t('CVM');\n    },\n    namespace: 'QCE/CVM',\n    href: 'https://cloud.tencent.com/document/api/213/15688',\n  },\n  {\n    service: 'cdb',\n    get label() {\n      return t('CDB');\n    },\n    namespace: 'QCE/CDB',\n    href: 'https://cloud.tencent.com/document/api/236/15829',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'mongoDB',\n    get label() {\n      return t('CMONGO');\n    },\n    namespace: 'QCE/CMONGO',\n    href: 'https://cloud.tencent.com/document/api/240/38568',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'postgres',\n    get label() {\n      return t('POSTGRES');\n    },\n    namespace: 'QCE/POSTGRES',\n    href: 'https://cloud.tencent.com/document/product/248/45105',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'redis',\n    get label() {\n      return t('REDIS');\n    },\n    namespace: 'QCE/REDIS',\n    href: 'https://cloud.tencent.com/document/product/248/45110',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'redisMem',\n    get label() {\n      return t('REDIS_MEM');\n    },\n    namespace: 'QCE/REDIS_MEM',\n    href: 'https://cloud.tencent.com/document/product/248/49729',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'sqlserver',\n    get label() {\n      return t('SQLSERVER');\n    },\n    namespace: 'QCE/SQLSERVER',\n    href: 'https://cloud.tencent.com/document/product/248/45146',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'cynosdbMysql',\n    get label() {\n      return t('CYNOSDB_MYSQL');\n    },\n    namespace: 'QCE/CYNOSDB_MYSQL',\n    href: 'https://cloud.tencent.com/document/product/248/45106',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'tcaplus',\n    get label() {\n      return t('TCAPLUS');\n    },\n    namespace: 'QCE/TCAPLUS',\n    href: 'https://cloud.tencent.com/document/product/248/45107',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'dcdb',\n    get label() {\n      return t('TDMYSQL');\n    },\n    namespace: 'QCE/TDMYSQL',\n    href: 'https://cloud.tencent.com/document/product/248/45108',\n  },\n  {\n    service: 'pcx',\n    get label() {\n      return t('PCX');\n    },\n    namespace: 'QCE/PCX',\n    href: 'https://cloud.tencent.com/document/product/215/5181',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'bwp',\n    get label() {\n      return t('BWP');\n    },\n    namespace: 'QCE/BWP',\n    href: 'https://cloud.tencent.com/document/api/215/19209',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'natGateway',\n    get label() {\n      return t('NAT_GATEWAY');\n    },\n    namespace: 'QCE/NAT_GATEWAY',\n    href: 'https://cloud.tencent.com/document/api/215/36034',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpngw',\n    get label() {\n      return t('VPNGW');\n    },\n    namespace: 'QCE/VPNGW',\n    href: 'https://cloud.tencent.com/document/product/248/45070',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpnx',\n    get label() {\n      return t('VPNX');\n    },\n    namespace: 'QCE/VPNX',\n    href: 'https://cloud.tencent.com/document/product/248/45071',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'dcg',\n    get label() {\n      return t('DCG');\n    },\n    namespace: 'QCE/DCG',\n    href: 'https://cloud.tencent.com/document/product/248/45072',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'ceipSummary',\n    get label() {\n      return t('CEIP_SUMMARY');\n    },\n    namespace: 'QCE/CEIP_SUMMARY',\n    href: 'https://cloud.tencent.com/document/product/248/50381',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpcNetDetect',\n    get label() {\n      return t('VPC_NET_DETECT');\n    },\n    namespace: 'QCE/VPC_NET_DETECT',\n    href: 'https://cloud.tencent.com/document/product/248/50384',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vbc',\n    get label() {\n      return t('VBC');\n    },\n    namespace: 'QCE/VBC',\n    href: 'https://cloud.tencent.com/document/product/248/45073',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'lb',\n    get label() {\n      return t('LB');\n    },\n    namespace: 'QCE/LB',\n    href: 'https://cloud.tencent.com/document/product/248/45099',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'lbPublic',\n    get label() {\n      return t('LB_PUBLIC');\n    },\n    namespace: 'QCE/LB_PUBLIC',\n    href: 'https://cloud.tencent.com/document/product/248/51898',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'lbPrivate',\n    get label() {\n      return t('LB_PRIVATE');\n    },\n    namespace: 'QCE/LB_PRIVATE',\n    href: 'https://cloud.tencent.com/document/product/248/51899',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'loadBalance',\n    get label() {\n      return t('LOADBALANCE');\n    },\n    namespace: 'QCE/LOADBALANCE',\n    href: 'https://cloud.tencent.com/document/product/248/51901',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'vClb',\n    get label() {\n      return `${t('cloud_load_balancer')}(${t('lite')})`;\n    },\n    namespace: 'QCE/V_CLB',\n    href: 'https://cloud.tencent.com/document/product/248/51901',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('lite')})`;\n    },\n  },\n  {\n    service: 'cdn',\n    get label() {\n      return t('CDN');\n    },\n    namespace: 'QCE/CDN',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50386',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'cdnProvince',\n    get label() {\n      return t('CDN_LOG_DATA');\n    },\n    namespace: 'QCE/CDN_LOG_DATA',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50388',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'ovCdn',\n    get label() {\n      return t('OV_CDN');\n    },\n    namespace: 'QCE/OV_CDN',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50387',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'scf',\n    get label() {\n      return t('SCF_V2');\n    },\n    namespace: 'QCE/SCF_V2',\n    href: 'https://cloud.tencent.com/document/product/248/45130',\n  },\n  {\n    service: 'cfs',\n    get label() {\n      return t('CFS');\n    },\n    namespace: 'QCE/CFS',\n    href: 'https://cloud.tencent.com/document/product/248/45143',\n  },\n  {\n    service: 'cos',\n    get label() {\n      return t('COS');\n    },\n    namespace: 'QCE/COS',\n    href: 'https://cloud.tencent.com/document/product/248/45140',\n  },\n  {\n    service: 'ckafka',\n    get label() {\n      return t('CKAFKA');\n    },\n    namespace: 'QCE/CKAFKA',\n    href: 'https://cloud.tencent.com/document/product/248/45121',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'cmq',\n    get label() {\n      return t('CMQ');\n    },\n    namespace: 'QCE/CMQ',\n    href: 'https://cloud.tencent.com/document/product/248/45114',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'cmqTopic',\n    get label() {\n      return t('CMQTOPIC');\n    },\n    namespace: 'QCE/CMQTOPIC',\n    href: 'https://cloud.tencent.com/document/product/248/45113',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmq',\n    get label() {\n      return t('TDMQ');\n    },\n    namespace: 'QCE/TDMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmqRocketmq',\n    get label() {\n      return t('TDMQ_ROCKETMQ');\n    },\n    namespace: 'QCE/ROCKETMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmqRabbitmq',\n    get label() {\n      return t('TDMQ_RABBITMQ');\n    },\n    namespace: 'QCE/RABBITMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'dcx',\n    get label() {\n      return t('DCX');\n    },\n    namespace: 'QCE/DCX',\n    href: 'https://cloud.tencent.com/document/product/248/45101',\n    get groupName() {\n      return t('direct_connect');\n    },\n  },\n  {\n    service: 'dc',\n    get label() {\n      return t('DC');\n    },\n    namespace: 'QCE/DC',\n    href: 'https://cloud.tencent.com/document/product/248/45102',\n    get groupName() {\n      return t('direct_connect');\n    },\n  },\n  {\n    service: 'cpm',\n    get label() {\n      return t('CPM');\n    },\n    namespace: 'QCE/CPM',\n    href: 'https://cloud.tencent.com/document/product/248/45881',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmPcx',\n    get label() {\n      return t('BM_PCX');\n    },\n    namespace: 'QCE/BM_PCX',\n    href: 'https://cloud.tencent.com/document/product/248/45884',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmLb',\n    get label() {\n      return t('BM_LB');\n    },\n    namespace: 'QCE/BM_LB',\n    href: 'https://cloud.tencent.com/document/product/248/45886',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmIntraLb',\n    get label() {\n      return t('BM_INTRA_LB');\n    },\n    namespace: 'QCE/BM_INTRA_LB',\n    href: 'https://cloud.tencent.com/document/product/248/45885',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'ces',\n    get label() {\n      return t('CES');\n    },\n    namespace: 'QCE/CES',\n    href: 'https://cloud.tencent.com/document/product/248/45129',\n  },\n  {\n    service: 'mrHDFS',\n    get label() {\n      return `${t('elastic_mapReduce')}(HDFS)`;\n    },\n    namespace: 'QCE/TXMR_HDFS',\n    href: 'https://cloud.tencent.com/document/product/248/44797',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrHBASE',\n    get label() {\n      return `${t('elastic_mapReduce')}(HBASE)`;\n    },\n    namespace: 'QCE/TXMR_HBASE',\n    href: 'https://cloud.tencent.com/document/product/248/45567',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrHIVE',\n    get label() {\n      return `${t('elastic_mapReduce')}(HIVE)`;\n    },\n    namespace: 'QCE/TXMR_HIVE',\n    href: 'https://cloud.tencent.com/document/product/248/45569',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrNODE',\n    get label() {\n      return `${t('elastic_mapReduce')}(NODE)`;\n    },\n    namespace: 'QCE/TXMR_NODE',\n    href: 'https://cloud.tencent.com/document/product/248/45570',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrPRESTO',\n    get label() {\n      return `${t('elastic_mapReduce')}(PRESTO)`;\n    },\n    namespace: 'QCE/TXMR_PRESTO',\n    href: 'https://cloud.tencent.com/document/product/248/45571',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrSPARK',\n    get label() {\n      return `${t('elastic_mapReduce')}(SPARK)`;\n    },\n    namespace: 'QCE/TXMR_SPARK',\n    href: 'https://cloud.tencent.com/document/product/248/45572',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrYARN',\n    get label() {\n      return `${t('elastic_mapReduce')}(YARN)`;\n    },\n    namespace: 'QCE/TXMR_YARN',\n    href: 'https://cloud.tencent.com/document/product/248/45573',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrZOOKEEPER',\n    get label() {\n      return `${t('elastic_mapReduce')}(ZOOKEEPER)`;\n    },\n    namespace: 'QCE/TXMR_ZOOKEEPER',\n    href: 'https://cloud.tencent.com/document/product/248/45574',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'cbs',\n    get label() {\n      return t('BLOCK_STORAGE');\n    },\n    namespace: 'QCE/BLOCK_STORAGE',\n    href: 'https://cloud.tencent.com/document/product/362/2345',\n  },\n  {\n    service: 'apigateway',\n    get label() {\n      return t('APIGATEWAY');\n    },\n    namespace: 'QCE/APIGATEWAY',\n    href: 'https://cloud.tencent.com/document/product/248/45127',\n  },\n  {\n    service: 'qaap',\n    get label() {\n      return t('QAAP');\n    },\n    namespace: 'QCE/QAAP',\n    href: 'https://cloud.tencent.com/document/product/608',\n  },\n  {\n    service: 'ecm',\n    get label() {\n      return t('ECM');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'ecmBlockStorage',\n    get label() {\n      return t('ECM_BLOCK_STORAGE');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM_BLOCK_STORAGE',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'ecmLb',\n    get label() {\n      return t('ECM_LB');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM_LB',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'gse',\n    get label() {\n      return t('GSE');\n    },\n    namespace: 'QCE/GSE',\n    href: 'https://cloud.tencent.com/document/product/1165',\n  },\n  {\n    service: 'cls',\n    get label() {\n      return t('CLS');\n    },\n    namespace: 'QCE/CLS',\n    href: 'https://cloud.tencent.com/document/product/614',\n  },\n  {\n    service: 'tke',\n    get label() {\n      return t('TKE');\n    },\n    namespace: 'QCE/TKE2',\n    href: 'https://cloud.tencent.com/document/product/457',\n  },\n  {\n    service: 'ecdn',\n    get label() {\n      return t('ECDN');\n    },\n    namespace: 'QCE/DSA',\n    href: 'https://cloud.tencent.com/document/product/570',\n  },\n  // {\n  //   service: 'lighthouse',\n  //   label: '(LIGHTHOUSE)',\n  //   namespace: 'QCE/LIGHTHOUSE',\n  //   href: 'https://cloud.tencent.com/document/product/1207',\n  // },\n  // {\n  //   service: 'tsf',\n  //   label: ' (TSF)',\n  //   namespace: 'QCE/TSF',\n  //   href: 'https://cloud.tencent.com/document/product/649',\n  // },\n  {\n    service: 'waf',\n    get label() {\n      return t('WAF');\n    },\n    // hideRegion: true,\n    namespace: 'QCE/WAF',\n    href: 'https://cloud.tencent.com/document/product/627',\n  },\n];\nconst Datasources = {};\nconst InitStates = {};\nconst InstanceAliasList = {};\nconst GetInstanceQueryParams = {};\n\n/**\n * service\n */\nconst hackModuleName = {\n  // lb_loadBalance: 'loadBalance',\n  postgresql: 'postgres',\n  mongodb: 'mongoDB',\n  clb: ['lbPrivate', 'lbPublic', 'loadBalance'],\n  mr: ['mrHDFS', 'mrHBASE', 'mrHIVE', 'mrNODE', 'mrPRESTO', 'mrSPARK', 'mrYARN', 'mrZOOKEEPER'],\n};\n\nconst requireModule = (require as any).context('./', true, /^\\.\\/[a-zA-Z]\\w+\\/(datasource)|(query(_def)?)\\.ts$/);\n\nrequireModule.keys().forEach((filePath) => {\n  let [, moduleName, fileName] = filePath.split('/');\n\n  // hack ,\n  moduleName = hackModuleName[moduleName] ?? moduleName;\n\n  // \n  [].concat(moduleName).forEach((module: string) => {\n    // serviceserviceserviceservice\n    const service = module.replace(/_([a-zA-Z])/g, (_, b) => b.toUpperCase());\n    const prefix = service.toUpperCase(); // \n\n    // datasource\n    if (fileName === 'datasource.ts') {\n      const Cls = require(`${filePath}`).default;\n\n      // serviceprototypemrDatasource\n      Datasources[`${prefix}Datasource`] = class {\n        constructor(...params) {\n          const target = new Cls(...params, service);\n          target.service = service;\n          // eslint-disable-next-line no-constructor-return\n          return target;\n        }\n      };\n    }\n    // query\n    if (fileName === 'query.ts') {\n      require(`${filePath}`);\n    }\n    // query_def\n    if (fileName === 'query_def.ts') {\n      const alias = `${prefix}InstanceAliasList`;\n      const getParams = `${prefix}GetInstanceQueryParams`;\n\n      const target = require(`${filePath}`);\n\n      InitStates[service] = target.default; // FIXME: \n      InstanceAliasList[alias] = target[alias] ?? target['InstanceAliasList'];\n      GetInstanceQueryParams[getParams] = target[getParams] ?? target['GetInstanceQueryParams'];\n    }\n  });\n});\n\nexport {\n  InitStates as InitServiceState,\n  SERVICES,\n  Datasources,\n  InstanceAliasList,\n  GetInstanceQueryParams,\n  // DefaultDimensions\n};\n\n// console.log(Datasources, InitStates, InstanceAliasList, GetInstanceQueryParams);\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM_BLOCK_STORAGE';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'ecmBlockStorageQuery';\n\nconst ECMBLOCKSTORAGEInvalidDemensions = {\n  uuid: 'UUID',\n  diskId: 'DiskId',\n};\n\n// \nconst ECMBLOCKSTORAGEInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  diskId: 'DiskId',\n};\n\n// select{},multi[],dropdown''\nconst ECMBLOCKSTORAGEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'zone-name': [],\n  'module-id': [],\n  'module-name': [],\n  'instance-id': [],\n  'instance-name': [],\n  'ip-address': [],\n  'instance-uuid': [],\n  'instance-state': {},\n  'internet-service-provider': [],\n  'instance-family': [],\n  'image-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n};\n\nconst ECMBLOCKSTORAGEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'zone-name',\n    enDescriptor: 'zone-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-id',\n    enDescriptor: 'module-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-name',\n    enDescriptor: 'module-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'instance-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ip-address',\n    enDescriptor: 'ip-address',\n    cnDescriptor: '/IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-uuid',\n    enDescriptor: 'instance-uuid',\n    cnDescriptor: 'uuid',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'instance-state',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'PENDING' },\n      { text: '', value: 'LAUNCH_FAILED' },\n      { text: '', value: 'RUNNING' },\n      { text: '', value: 'STOPPED' },\n      { text: '', value: 'STARTING' },\n      { text: '', value: 'STOPPING' },\n      { text: '', value: 'REBOOTING' },\n      { text: '', value: 'SHUTDOWN' },\n      { text: '', value: 'TERMINATING' },\n    ],\n  },\n  {\n    key: 'internet-service-provider',\n    enDescriptor: 'internet-service-provider',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-family',\n    enDescriptor: 'instance-family',\n    cnDescriptor: 'family',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'image-id',\n    enDescriptor: 'image-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'vpc id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: 'subnet id',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/42565',\n  namespace,\n  fieldDescriptor: ECMBLOCKSTORAGEFilterFieldsDescriptor,\n};\n\nconst ECMBLOCKSTORAGE_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  diskId: '',\n  queries: ECMBLOCKSTORAGEFilterFields,\n};\n\n// storagekey\nconst keyInStorage = {\n  diskId: 'diskId',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  DiskId: {\n    dim_KeyInStorage: keyInStorage.diskId,\n    dim_KeyInTarget: 'diskId',\n    dim_KeyInMap: templateQueryIdMap.diskId,\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default ECMBLOCKSTORAGE_STATE;\nexport {\n  ECMBLOCKSTORAGEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMBLOCKSTORAGEInstanceAliasList,\n  ECMBLOCKSTORAGEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as ECMBLOCKSTORAGEGetInstanceQueryParams,\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__22__;","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/APIGATEWAY';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'apigatewayQuery';\n\nconst APIGATEWAYInvalidDemensions = {\n  serviceId: 'ServiceId',\n  environmentName: 'EnvironmentName',\n  apiid: 'Apiid',\n  apiId: 'Apiid',\n};\n\n// \nconst APIGATEWAYInstanceAliasList = ['ServiceId', 'ServiceName'];\n\nconst templateQueryIdMap = {\n  instance: 'ServiceId',\n  environmentName: 'EnvironmentName',\n};\n\n// storagekey\nconst keyInStorage = {\n  environmentList: 'EnvironmentList',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  EnvironmentName: {\n    dim_KeyInStorage: keyInStorage.environmentList,\n    dim_KeyInTarget: 'EnvironmentName',\n    dim_KeyInMap: templateQueryIdMap.environmentName,\n  },\n};\n// select{},multi[],dropdown''\nconst APIGATEWAYFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ServiceId: [],\n  ServiceName: [],\n  NotUsagePlanId: [],\n  Environment: [],\n  IpVersion: [],\n};\n\nconst APIGATEWAYFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ServiceId',\n    enDescriptor: 'ServiceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ServiceName',\n    enDescriptor: 'ServiceName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'NotUsagePlanId',\n    enDescriptor: 'NotUsagePlanId',\n    cnDescriptor: 'NotUsagePlanId',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Environment',\n    enDescriptor: 'Environment',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'IpVersion',\n    enDescriptor: 'IpVersion',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/628/45198',\n  namespace,\n  fieldDescriptor: APIGATEWAYFilterFieldsDescriptor,\n};\n\nconst APIGATEWAY_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ServiceId',\n  EnvironmentName: '',\n  queries: APIGATEWAYFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nexport default APIGATEWAY_STATE;\nexport {\n  APIGATEWAYFilterFieldsDescriptor,\n  templateQueryIdMap,\n  APIGATEWAYInstanceAliasList,\n  APIGATEWAYInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as APIGATEWAYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nexport const InstanceQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '101100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: 'IDID: emr-xxxxxxxx ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'OrderField',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'ID', value: 'clusterId' },\n      { text: '', value: 'addTime' },\n      { text: '', value: 'status' },\n    ],\n  },\n  {\n    key: 'Asc',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 0 },\n      { text: '', value: 1 },\n    ],\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputnumber',\n  },\n  {\n    key: 'DisplayStrategy',\n    enDescriptor: 'DisplayStrategy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'clusterList' },\n      { text: '', value: 'monitorManage' },\n    ],\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// dimensionsdimensionkeykey\nexport const InvalidDemensions = new Proxy(\n  {},\n  {\n    get(target, k, receiver) {\n      if (typeof k === 'string') {\n        if (k.startsWith('id4')) return 'ClusterId'; // id4****\n        if (k.startsWith('host4')) return 'Ip'; // host4***\n      }\n      return Reflect.get(target, k, receiver);\n    },\n    has(target, propKey) {\n      return true;\n    },\n  }\n);\n\nexport const templateQueryIdMap = {\n  instance: 'ClusterId',\n  node: 'Ip',\n};\n\n// storagekey\nconst keyInStorage = {\n  node: 'nodeIP',\n};\n\n/**\n * InstanceIdmap\n *\n * `key` \n *   InvalidDemensionsstringtopicId => TopicId\n *   topicId\n *\n * `value` \n *   @param {1} dim_KeyInStorage  dimensionstoragekeysourceMapList\n *   @param {2} dim_KeyInTarget   getVariableListnerIdLis-xxxxSTATEkey\n *                                  InvalidDemsionkey\n *   @param {3} dim_KeyInMap      valueIDsourceMapListkeyListenerId\n *                                  templateQueryIdMap\n *                                   2 sourceMap\n */\nconst queryMonitorExtraConfg = {\n  Ip: {\n    dim_KeyInStorage: keyInStorage.node,\n    dim_KeyInTarget: 'nodeIP',\n    dim_KeyInMap: templateQueryIdMap.node,\n  },\n};\n\n// \nconst InstanceAliasList = ['ClusterId', 'ClusterName'];\nexport { InstanceAliasList, GetInstanceQueryParams, queryMonitorExtraConfg, keyInStorage };\n\n// default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  nodeIP: '',\n  queries: {\n    Offset: 0,\n    Limit: 10,\n    DisplayStrategy: '',\n    OrderBy: {},\n    Order: {},\n    InstanceIds: [],\n    ProjectId: -1,\n    OrderField: '',\n    Asc: '',\n  },\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/V_CLB';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'vClbQuery';\n\nconst VCLBInvalidDemensions = {\n  InstanceId: 'LoadBalancerId',\n  // vip: 'LoadBalancerVips',\n  // loadBalancerPort: 'Port',\n  // protocol: 'Protocol',\n};\n\n// ceip_summary=>CEIPSUMMARY\nconst VCLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\nconst ForwardTypes = [\n  { text: '', value: 1 },\n  { text: '', value: 0 },\n];\n\nconst OrderBy = [\n  { text: 'LoadBalancerName', value: 'LoadBalancerName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'Domain', value: 'Domain' },\n  { text: 'LoadBalancerType', value: 'LoadBalancerType' },\n];\n\nconst OrderType = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\n\nconst WithRs = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: -1 },\n];\nconst VCLBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancer ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancer Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Forward',\n    enDescriptor: 'Forward',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: ForwardTypes,\n  },\n  {\n    key: 'Domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancer Vips',\n    cnDescriptor: ' VIP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivate Ips',\n    cnDescriptor: ' IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPublicIps',\n    enDescriptor: 'BackendPublic Ips',\n    cnDescriptor: ' IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroup',\n    enDescriptor: 'Security Group',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'MasterZone',\n    enDescriptor: 'Master Zone',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'WithRs',\n    enDescriptor: 'WithRs',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: WithRs,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/214/30685',\n  namespace,\n  fieldDescriptor: VCLBFilterFieldsDescriptor,\n};\nconst LBFields = {\n  LoadBalancerIds: [],\n  Forward: undefined,\n  LoadBalancerName: '',\n  Domain: '',\n  LoadBalancerVips: [],\n  BackendPublicIps: [],\n  BackendPrivateIps: [],\n  Limit: 20,\n  Offset: 0,\n  ProjectId: undefined,\n  WithRs: {},\n  VpcId: '',\n  SecurityGroup: '',\n  MasterZone: '',\n  OrderBy: {},\n  OrderType: {},\n};\n\nconst VCLB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  Port: '',\n  Protocol: '',\n  listener: '',\n  // listenerAlias: 'ListenerId',\n  queries: LBFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nconst clbNamespaceMap = {\n  public: 'QCE/LB_PUBLIC',\n  private: 'QCE/LB_PRIVATE',\n};\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\nexport default VCLB_STATE;\nexport {\n  VCLBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VCLBInstanceAliasList,\n  VCLBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  clbNamespaceMap,\n  modifyDimensons,\n  regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as BMLBGetInstanceQueryParams,\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__26__;","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CYNOSDB_MYSQL';\n\n// SERVICESabcDeFangular<abc-de-f-query />\nconst queryEditorName = 'cynosdbMysqlQuery';\n\nconst cynosdbMysqlFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  OrderBy: {},\n  OrderByType: {},\n  InstanceIds: [],\n  DbType: {},\n  // Status: '',\n};\n\nconst cynosdbMysqlFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 1000,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'CREATETIME' },\n      { text: '', value: 'PERIODENDTIME' },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'ASC' },\n      { text: '', value: 'DESC' },\n    ],\n  },\n  {\n    key: 'DbType',\n    enDescriptor: 'DbType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'MYSQL', value: 'MYSQL' },\n      { text: 'POSTGRESQL', value: 'POSTGRESQL' },\n    ],\n  },\n  // {\n  //   key: 'Status',\n  //   enDescriptor: 'Status',\n  //   cnDescriptor: '',\n  //   link: '',\n  //   type: 'input',\n  // },\n];\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n];\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1003/48334',\n  namespace,\n  fieldDescriptor: cynosdbMysqlFilterFieldsDescriptor,\n};\n\nconst CYNOSDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: cynosdbMysqlFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// CYNOSDBMYSQL\nconst CYNOSDBMYSQLInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\nconst CYNOSDBInvalidDemensions = {\n  instanceid: 'InstanceId',\n  instanceId: 'InstanceId',\n};\nconst checkKeys = ['instanceId'];\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\n\nexport default CYNOSDB_STATE;\nexport {\n  cynosdbMysqlFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CYNOSDBMYSQLInstanceAliasList,\n  CYNOSDBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  checkKeys,\n  // paramsservice\n  GetInstanceQueryParams as CYNOSDBMYSQLGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nexport const SCFQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: 'FunctionName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Namespace',\n    enDescriptor: 'Namespace',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Description',\n    enDescriptor: 'Description',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'AddTime', value: 'AddTime' },\n      { text: 'ModTime', value: 'ModTime' },\n      { text: 'FunctionName', value: 'FunctionName' },\n    ],\n  },\n  {\n    key: 'Order',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'ASC', value: 'ASC' },\n      { text: 'DESC', value: 'DESC' },\n    ],\n  },\n  // {\n  //   key: 'Filters',\n  //   enDescriptor: 'Filters',\n  //   cnDescriptor: '',\n  //   link: '',\n  //   type: 'dropdownmulti',\n  // },\n];\n\nconst SCF_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'FunctionName',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    OrderBy: {},\n    Order: {},\n    SearchKey: '',\n    Namespace: '',\n    Description: '',\n    // Filters:  {},\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst SCFInstanceAliasList = ['FunctionId', 'FunctionName'];\n\n// dimensionsdimensionkeykey\nconst SCFInvalidDemensions = {\n  functionName: 'FunctionName',\n  namespace: 'Namespace',\n  version: 'Version',\n};\n\nconst templateQueryIdMap = {\n  instance: 'FunctionName',\n  version: 'Version',\n};\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n// storagekey\nconst keyInStorage = {\n  version: 'version',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  Version: {\n    dim_KeyInStorage: keyInStorage.version,\n    dim_KeyInTarget: 'version',\n    dim_KeyInMap: templateQueryIdMap.version,\n  },\n};\nexport default SCF_STATE;\nexport {\n  SCFInstanceAliasList,\n  SCFInvalidDemensions,\n  queryMonitorExtraConfg,\n  regionSupported,\n  templateQueryIdMap,\n  keyInStorage,\n  GetInstanceQueryParams as SCFGetInstanceQueryParams,\n};\n\n// monitor\nexport const SCFDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/CLS';\nconst queryEditorName = 'clsQuery';\n\nconst CLSInvalidDemensions = {\n  // instanceid: 'TopicId',\n};\n\n// \nconst CLSInstanceAliasList = ['TopicId', 'TopicName'];\n\nconst templateQueryIdMap = {\n  instance: 'TopicId',\n};\n\n// storagekey\n// const keyInStorage = {\n//   fleet: 'fleet', // \n//   queue: 'queueName', // \n// };\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\n// const queryMonitorExtraConfg = {\n//   FleetId: {\n//     dim_KeyInStorage: keyInStorage.fleet,\n//     dim_KeyInTarget: 'FleetId',\n//     dim_KeyInMap: templateQueryIdMap.FleetId,\n//   },\n//   Name: {\n//     dim_KeyInStorage: keyInStorage.queue,\n//     dim_KeyInTarget: 'Name',\n//     dim_KeyInMap: templateQueryIdMap.Name,\n//   },\n// };\n// select{},multi[],dropdown''\nconst CLSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  topicName: [],\n  topicId: [],\n  logsetName: [],\n  logsetId: [],\n  tagKey: [],\n  'tag:tagKey': [],\n  storageType: {},\n};\n\nconst CLSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'topicName',\n    enDescriptor: 'topicName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'topicId',\n    enDescriptor: 'topicId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'logsetName',\n    enDescriptor: 'logsetName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'logsetId',\n    enDescriptor: 'logsetId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'tag:tagKey',\n    enDescriptor: 'tag - tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'storageType',\n    enDescriptor: 'storageType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'hot' },\n      { text: '', value: 'cold' },\n    ],\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/614/56454',\n  namespace,\n  fieldDescriptor: CLSFilterFieldsDescriptor,\n};\n\nconst CLS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TopicId',\n  uin: '',\n  queries: CLSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    // item.Dimensions = item.Dimensions.map((v) => CLSInvalidDemensions[v] || v);\n    item.Dimensions = ['uin', 'TopicId'];\n  });\n  return metricTmp;\n}\nexport default CLS_STATE;\nexport {\n  CLSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CLSInstanceAliasList,\n  CLSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  // queryMonitorExtraConfg,\n  // fleetId,\n  // keyInStorage,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as CLSGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/SQLSERVER';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'sqlserverQuery';\n\nconst SQLSERVERInvalidDemensions = {\n  resourceId: 'InstanceId',\n};\n\nconst SQLSERVERInstanceAliasList = ['InstanceId', 'Name'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select{},multi[]\nconst SQLSERVERNETFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ProjectId: null,\n  Status: {},\n  InstanceIdSet: [],\n  PayMode: {},\n  VpcId: '',\n  SubnetId: '',\n  VipSet: [],\n  InstanceNameSet: [],\n  VersionSet: [],\n  Zone: '',\n};\n\nconst SQLSERVERNETFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 1 },\n      { text: '', value: 2 },\n      { text: ' ()', value: 3 },\n      { text: '', value: 4 },\n      { text: '', value: 5 },\n      { text: '', value: 6 },\n      { text: '', value: 7 },\n      { text: '', value: 8 },\n      { text: '', value: 9 },\n      { text: '', value: 10 },\n      { text: '', value: 11 },\n      { text: '', value: 12 },\n    ],\n  },\n  {\n    key: 'InstanceIdSet',\n    enDescriptor: 'InstanceIdSet',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'PayMode',\n    enDescriptor: 'PayMode',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 1 },\n      { text: '', value: 0 },\n    ],\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: 'VPCID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VipSet',\n    enDescriptor: 'VipSet',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'InstanceNameSet',\n    enDescriptor: 'InstanceNameSet',\n    cnDescriptor: ', ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'VersionSet',\n    enDescriptor: 'VersionSet',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '',\n    link: '',\n    type: 'dropdown',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/238/19969',\n  namespace,\n  fieldDescriptor: SQLSERVERNETFilterFieldsDescriptor,\n};\n\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-seoul' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-moscow' },\n  { value: 'na-siliconvalley' },\n];\nconst SQLSERVER_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: SQLSERVERNETFilterFields,\n};\n\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['resourceId'];\n  });\n  return metricTmp;\n}\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default SQLSERVER_STATE;\nexport {\n  SQLSERVERNETFilterFieldsDescriptor,\n  templateQueryIdMap,\n  SQLSERVERInstanceAliasList,\n  SQLSERVERInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  // serviceInstanceQueryParams\n  GetInstanceQueryParams as SQLSERVERGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_INTRA_LB';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'bmIntraLbQuery';\n\nconst BMINTRALBInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n  vpcId: 'VpcId',\n};\n\n// ceip_summary=>CEIPSUMMARY\nconst BMINTRALBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select{},multi[],dropdown\nconst BMINTRALBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n};\n\nconst BMINTRALBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1027/33280',\n  namespace,\n  fieldDescriptor: BMINTRALBFilterFieldsDescriptor,\n};\n\nconst BMINTRALB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: BMINTRALBFilterFields,\n};\nconst BMLBValidMetricsT = ['Inpkg', 'Outpkg', 'Intraffic', 'Outtraffic', 'Connum', 'Req'];\nfunction isValidMetric(metric) {\n  const validMetrics = _.map(BMLBValidMetricsT, _.toUpper);\n  return _.indexOf(validMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default BMINTRALB_STATE;\nexport {\n  BMINTRALBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMINTRALBInstanceAliasList,\n  BMINTRALBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as BMINTRALBGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_LB';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'bmLbQuery';\n\nconst CPMInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n};\n\n// ceip_summary=>CEIPSUMMARY\nconst BMLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select{},multi[],dropdown\nconst CPMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n};\n\nconst CPMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1027/33280',\n  namespace,\n  fieldDescriptor: CPMFilterFieldsDescriptor,\n};\n\nconst CPM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: CPMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nconst BMLBValidMetricsT = ['Inpkg', 'Outpkg', 'Intraffic', 'Outtraffic', 'Connum', 'Req'];\nfunction isValidMetric(metric) {\n  const validMetrics = _.map(BMLBValidMetricsT, _.toUpper);\n  return _.indexOf(validMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nexport default CPM_STATE;\nexport {\n  CPMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMLBInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as BMLBGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_PCX';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'bmPcxQuery';\n\nconst BMPCXInvalidDemensions = {\n  peeringConnectionId: 'VpcPeerConnectionId',\n};\n\n// ceip_summary=>CEIPSUMMARY\nconst BMPCXInstanceAliasList = ['VpcPeerConnectionId', 'VpcPeerConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpcPeerConnectionId',\n};\n\n// select{},multi[],dropdown\nconst BMPCXFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  VpcPeerConnectionIds: [],\n};\n\nconst BMPCXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'VpcPeerConnectionIds',\n    enDescriptor: 'VpcPeerConnectionIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/product/1024/36903',\n  namespace,\n  fieldDescriptor: BMPCXFilterFieldsDescriptor,\n};\n\nconst BMPCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpcPeerConnectionId',\n  queries: BMPCXFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['peeringConnectionId'];\n  });\n  return metricTmp;\n}\nexport default BMPCX_STATE;\nexport {\n  BMPCXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMPCXInstanceAliasList,\n  BMPCXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as BMPCXGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/BLOCK_STORAGE';\nconst queryEditorName = 'cbsQuery';\n\nconst CBSInvalidDemensions = {\n  diskId: 'DiskId',\n  InstanceId: 'InstanceId',\n  diskname: 'DiskName',\n  unInstanceId: 'InstanceId',\n};\n\nconst CBSInstanceAliasList = ['DiskId', 'DiskName'];\n\nconst templateQueryIdMap = {\n  instance: 'DiskId',\n};\n\n// select{},multi[]\nconst CBSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DiskIds: [],\n  OrderField: [],\n  Order: [],\n  ReturnBindAutoSnapshotPolicy: false,\n};\n\nconst CBSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DiskIds',\n    enDescriptor: 'DiskIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Order',\n    enDescriptor: 'Order',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'ASC' },\n      { text: '', value: 'DESC' },\n    ],\n  },\n  {\n    key: 'OrderField',\n    enDescriptor: 'OrderField',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'CREATE_TIME' },\n      { text: '', value: 'DEADLINE' },\n    ],\n  },\n  {\n    key: 'ReturnBindAutoSnapshotPolicy',\n    enDescriptor: 'ReturnBindAutoSnapshotPolicy',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'switch',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/362/16315',\n  namespace,\n  fieldDescriptor: CBSFilterFieldsDescriptor,\n};\n\nconst CBS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DiskId',\n  queries: CBSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n  return dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1;\n}\nexport default CBS_STATE;\nexport {\n  CBSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CBSInstanceAliasList,\n  CBSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  GetInstanceQueryParams as CBSGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CDN_LOG_DATA';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'cdnProvinceQuery';\n\nconst CDNPROVINCEInvalidDemensions = {\n  domain: 'Domain',\n  // isp: 'Isp',\n  projectid: 'ProjectId',\n  province: 'district',\n  appid: 'AppId',\n};\n\n// \nconst CDNPROVINCEInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\n\n// select{},multi[],dropdown''\nconst CDNPROVINCEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst CDNPROVINCEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'cname' },\n      { text: 'cos', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'on' },\n      { text: '', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: 'https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst CDNPROVINCE_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  // Isp Provincestate\n  isp: '',\n  district: '',\n  queries: CDNPROVINCEFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// const regionSupported = [\n//   { text: '()', value: 'ap-beijing' },\n//   { text: '()', value: 'ap-chengdu' },\n//   { text: '()', value: 'ap-chongqing' },\n//   { text: '()', value: 'ap-guangzhou' },\n//   { text: '()', value: 'ap-hongkong' },\n//   { text: '()', value: 'ap-mumbai' },\n//   { text: '()', value: 'ap-nanjing' },\n//   { text: '()', value: 'ap-shanghai' },\n//   { text: '()', value: 'ap-shanghai-fsi' },\n//   { text: '()', value: 'ap-shenzhen-fsi' },\n//   { text: '()', value: 'ap-singapore' },\n//   { text: '()', value: 'ap-tokyo' },\n//   { text: '()', value: 'eu-frankfurt' },\n//   { text: '()', value: 'na-ashburn' },\n//   { text: '()', value: 'na-siliconvalley' },\n//   { text: '()', value: 'na-toronto' },\n// ];\nexport default CDNPROVINCE_STATE;\nexport {\n  CDNPROVINCEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CDNPROVINCEInstanceAliasList,\n  CDNPROVINCEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  // regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as CDNPROVINCEGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CEIP_SUMMARY';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'ceipSummaryQuery';\n\nconst CEIPInvalidDemensions = {\n  vip: 'AddressIp',\n  eip: 'AddressIp',\n};\n\n// ceip_summary=>CEIPSUMMARY\nconst CEIPSUMMARYInstanceAliasList = ['AddressId', 'AddressName', 'AddressIp'];\n\nconst templateQueryIdMap = {\n  instance: 'AddressId',\n};\n\n// select{},multi[]\nconst CEIPFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'address-id': [],\n  'address-name': [],\n  'address-ip': [],\n  'address-status': {},\n  'is-arrears': {},\n  'address-isp': {},\n  'instance-id': [],\n  'private-ip-address': [],\n  'network-interface-id': [],\n};\n\nconst CEIPFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'address-id',\n    enDescriptor: 'address-id',\n    cnDescriptor: ' EIP  ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-name',\n    enDescriptor: 'address-name',\n    cnDescriptor: 'EIP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-ip',\n    enDescriptor: 'address-ip',\n    cnDescriptor: 'EIP  IP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-status',\n    enDescriptor: 'address-status',\n    cnDescriptor: 'EIP ',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'CREATING', value: 'CREATING' },\n      { text: 'BINDING', value: 'BINDING' },\n      { text: 'BIND', value: 'BIND' },\n      { text: 'UNBINDING', value: 'UNBINDING' },\n      { text: 'UNBIND', value: 'UNBIND' },\n      { text: 'OFFLINING', value: 'OFFLINING' },\n      { text: 'BIND_ENI', value: 'BIND_ENI' },\n    ],\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: 'EIP  ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'private-ip-address',\n    cnDescriptor: 'EIP  IP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'network-interface-id',\n    enDescriptor: 'network-interface-id',\n    cnDescriptor: ' EIP  ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'is-arrears',\n    enDescriptor: 'is-arrears',\n    cnDescriptor: 'EIP ',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'TRUE' },\n      { text: '', value: 'FALSE' },\n    ],\n  },\n  {\n    key: 'address-isp',\n    enDescriptor: 'address-isp',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'BGP', value: 'BGP' },\n      { text: 'CMCC', value: 'CMCC' },\n      { text: 'CUCC', value: 'CUCC' },\n      { text: 'CTCC', value: 'CTCC' },\n    ],\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/16702',\n  namespace,\n  fieldDescriptor: CEIPFilterFieldsDescriptor,\n};\n\nconst CEIP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'AddressId',\n  queries: CEIPFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['eip'];\n  });\n  return metricTmp;\n}\nexport default CEIP_STATE;\nexport {\n  CEIPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CEIPSUMMARYInstanceAliasList,\n  CEIPInvalidDemensions,\n  namespace,\n  queryEditorName,\n  modifyDimensons,\n  queryEditorConfig,\n  GetInstanceQueryParams as CEIPSUMMARYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { FildDescriptorType } from '../_base/types';\n\nexport const InstanceQueryDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '101100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'TopicName',\n    enDescriptor: 'TopicName',\n    cnDescriptor: 'TopicName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// dimensionsdimensionkeykey\nexport const InvalidDemensions = {\n  topicId: 'TopicId',\n};\n\n// cmqTopciName\nexport const templateQueryIdMap = {\n  instance: 'TopicName',\n  subscription: 'SubscriptionId',\n};\n\n// storagekey\nconst keyInStorage = {\n  subscriptionId: 'subscriptionId',\n};\n/*\nInstanceIdmap\nkey\n  InvalidDemensionsstringtopicId =TopicId\n  topicId\nvalue\n  1 dim_KeyInStorage dimensionstoragekeysourceMapList\n  2 dim_KeyInTarget  getVariableListnerIdLis-xxxxSTATEkey\n                    InvalidDemsionkey\n  3 dim_KeyInMap     valueIDsourceMapListkeyListenerId\n                    templateQueryIdMap\n                    2sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  subscriptionId: {\n    dim_KeyInStorage: keyInStorage.subscriptionId,\n    dim_KeyInTarget: 'subscriptionId',\n    dim_KeyInMap: templateQueryIdMap.subscription,\n  },\n};\n// \nconst InstanceAliasList = ['TopicName', 'TopicId'];\nexport { InstanceAliasList, GetInstanceQueryParams, queryMonitorExtraConfg, keyInStorage };\n\n// default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TopicName',\n  subscriptionId: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    TopicName: '',\n    TagKey: '',\n  },\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/CPM';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'cpmQuery';\n\nconst CPMInvalidDemensions = {\n  instanceId: 'InstanceId',\n  // uniqid: 'InstanceId',\n};\n\nconst CPMInstanceAliasList = ['InstanceId', 'Name'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select{},multi[],dropdown''\nconst CPMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DeviceClassCode: '',\n  InstanceIds: [],\n  WanIps: [],\n  LanIps: [],\n  Alias: '',\n  VagueIp: '',\n  AutoRenewFlag: {},\n  VpcId: '',\n  SubnetId: '',\n  DeviceType: {},\n  IsLuckyDevice: {},\n};\n\nconst CPMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DeviceClassCode',\n    enDescriptor: 'DeviceClassCode',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'dropdown',\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'WanIps',\n    enDescriptor: 'WanIps',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LanIps',\n    enDescriptor: 'LanIps',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Alias',\n    enDescriptor: 'Alias',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VagueIp',\n    enDescriptor: 'VagueIp',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenewFlag',\n    enDescriptor: 'AutoRenewFlag',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 0 },\n      { text: '', value: 1 },\n    ],\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'DeviceType',\n    enDescriptor: 'DeviceType',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'compute' },\n      { text: '', value: 'standard' },\n      { text: '', value: 'storage' },\n    ],\n  },\n  {\n    key: 'IsLuckyDevice',\n    enDescriptor: 'IsLuckyDevice',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 0 },\n      { text: '', value: 1 },\n    ],\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/386/32904',\n  namespace,\n  fieldDescriptor: CPMFilterFieldsDescriptor,\n};\n\nconst CPM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: CPMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['instanceId'];\n  });\n  return metricTmp;\n}\nexport default CPM_STATE;\nexport {\n  CPMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CPMInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as CPMGetInstanceQueryParams,\n};\n","import { cloneDeep, compact, forEach, get, isArray, isEmpty, isObject, omit, uniq } from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\n\nconst namespace = 'QCE/DSA';\nconst queryEditorName = 'ecdnQuery';\n\nconst ECDNInstanceAliasList = ['Domain'];\n\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\n\nconst ECDNInvalidDemensions = {\n  domain: 'Domain',\n  projectid: 'ProjectId',\n};\n\nconst ECDN_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 100,\n    Offset: 0,\n    origin: [],\n    domain: [],\n    resourceId: [],\n    status: [],\n    disable: [],\n    projectId: [],\n    fullUrlCache: [],\n    https: [],\n    originPullProtocol: [],\n    area: [],\n    tagKey: [],\n  },\n};\n\nconst ECDNFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'Origin',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'ResourceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'disable',\n    enDescriptor: 'Disable',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'normal', value: 'normal' },\n      { text: 'unlicensed', value: 'unlicensed' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'FullUrlCache',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'Https',\n    cnDescriptor: 'https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'OriginPullProtocol',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'https', value: 'https' },\n      { text: 'follow', value: 'follow' },\n    ],\n  },\n  {\n    key: 'area',\n    enDescriptor: 'Area',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'mainland', value: 'mainland' },\n      { text: 'overseas', value: 'overseas' },\n      { text: 'global', value: 'global' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/570/42462',\n  namespace,\n  fieldDescriptor: ECDNFilterFieldsDescriptor,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!isEmpty(queries)) {\n    params.Limit = get(queries, 'Limit', 20) || 20;\n    params.Offset = get(queries, 'Offset', 0) || 0;\n    const _queries = omit(queries, ['Offset', 'Limit']);\n    const Filters: any[] = [];\n    forEach(_queries, (item: any, key) => {\n      if (isArray(item)) {\n        item = compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: uniq(item).slice(0, 5) });\n        }\n      } else if (isObject(item)) {\n        if (!isEmpty(get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: [get(item, 'value', [])].slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters.map((item) => {\n        if (item.Name === 'domain') {\n          return { ...item, Fuzzy: true };\n        }\n        return item;\n      });\n      return params;\n    }\n  }\n  return params;\n}\n\nfunction modifyDimensons(metricItem) {\n  const metricTmp = cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['domain', 'projectid'];\n  });\n  return metricTmp;\n}\n\nexport default ECDN_STATE;\n\nexport {\n  ECDNFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECDNInstanceAliasList,\n  ECDNInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECDNGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM';\nconst queryEditorName = 'ecmQuery';\n\nconst ECMInvalidDemensions = {\n  // diskId: 'InstanceId',\n  uuid: 'UUID',\n  // unInstanceId: 'InstanceId',\n};\n\nconst ECMInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select{},multi[]\nconst ECMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  zone: [],\n  'zone-name': [],\n  'module-id': [],\n  'module-name': [],\n  'instance-id': [],\n  'instance-name': [],\n  'ip-address': [],\n  'instance-uuid': [],\n  'instance-state': {},\n  'internet-service-provider': [],\n  'instance-family': [],\n  'image-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n};\n\nconst ECMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'zone',\n    cnDescriptor: '',\n    link: '',\n    type: 'dropdownMulti',\n  },\n  {\n    key: 'zone-name',\n    enDescriptor: 'zone-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-id',\n    enDescriptor: 'module-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-name',\n    enDescriptor: 'module-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'instance-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ip-address',\n    enDescriptor: 'ip-address',\n    cnDescriptor: '/IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-uuid',\n    enDescriptor: 'instance-uuid',\n    cnDescriptor: 'uuid',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'instance-state',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'PENDING' },\n      { text: '', value: 'LAUNCH_FAILED' },\n      { text: '', value: 'RUNNING' },\n      { text: '', value: 'STOPPED' },\n      { text: '', value: 'STARTING' },\n      { text: '', value: 'STOPPING' },\n      { text: '', value: 'REBOOTING' },\n      { text: '', value: 'SHUTDOWN' },\n      { text: '', value: 'TERMINATING' },\n    ],\n  },\n  {\n    key: 'internet-service-provider',\n    enDescriptor: 'internet-service-provider',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-family',\n    enDescriptor: 'instance-family',\n    cnDescriptor: 'family',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'image-id',\n    enDescriptor: 'image-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'vpc id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: 'subnet id',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/42565',\n  namespace,\n  fieldDescriptor: ECMFilterFieldsDescriptor,\n};\n\nconst ECM_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: ECMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// function isValidMetric(metricObj: any = {}) {\n//   const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n//   // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n//   return dimension.length === 1 &&( _.indexOf(dimension, 'UUID') !== -1 || _.indexOf(dimension, 'uuid') !== -1);\n// }\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['UUID'];\n  });\n  return metricTmp;\n}\nexport default ECM_STATE;\nexport {\n  ECMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMInstanceAliasList,\n  ECMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECMGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nconst namespace = 'QCE/POSTGRES';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'postgresQuery';\n\nconst PostgresFields = {\n  'db-instance-id': [],\n  'db-instance-name': [],\n};\n\nconst PostgresFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'db-instance-id',\n    enDescriptor: 'DB Instance ID',\n    cnDescriptor: 'DB ID',\n    link: '',\n    type: 'inputMulti',\n    min: 0,\n  },\n  {\n    key: 'db-instance-name',\n    enDescriptor: 'DB Instance Name',\n    cnDescriptor: 'DB ',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/409/16773',\n  namespace,\n  fieldDescriptor: PostgresFieldsDescriptor,\n};\nconst POSTGRESInstanceAliasList = ['DBInstanceId', 'DBInstanceName'];\n\nconst POSTGRES_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DBInstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...PostgresFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['resourceId'];\n  });\n  return metricTmp;\n}\nconst PostgreInvalidDemensions = {\n  uid: 'DBInstanceId',\n  resourceId: 'DBInstanceId',\n};\nconst templateQueryIdMap = {\n  instance: 'DBInstanceId',\n};\nexport default POSTGRES_STATE;\n\nexport {\n  PostgresFieldsDescriptor,\n  POSTGRESInstanceAliasList,\n  templateQueryIdMap,\n  modifyDimensons,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  PostgreInvalidDemensions,\n  GetInstanceQueryParams as POSTGRESGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPC_NET_DETECT';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'vpcNetDetectQuery';\n\nconst VPCNETInvalidDemensions = {\n  netdetectid: 'NetDetectId',\n  netDetectId: 'NetDetectId',\n};\n\nconst VPCNETDETECTInstanceAliasList = ['NetDetectId', 'NetDetectName'];\n\nconst templateQueryIdMap = {\n  instance: 'NetDetectId',\n};\n\n// select{},multi[]\nconst VPCNETFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'net-detect-id': [],\n  'subnet-id': [],\n  'net-detect-name': [],\n};\n\nconst VPCNETFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPCID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'net-detect-id',\n    enDescriptor: 'net-detect-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'net-detect-name',\n    enDescriptor: 'net-detect-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/38696',\n  namespace,\n  fieldDescriptor: VPCNETFilterFieldsDescriptor,\n};\n\nconst VPCNET_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'NetDetectId',\n  queries: VPCNETFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['netDetectId'];\n  });\n  return metricTmp;\n}\nexport default VPCNET_STATE;\nexport {\n  VPCNETFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPCNETDETECTInstanceAliasList,\n  VPCNETInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as VPCNETDETECTGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/WAF';\nconst queryEditorName = 'wafQuery';\nconst WAFFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst WAFFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'cname' },\n      { text: 'cos', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'on' },\n      { text: '', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: 'https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/228/41118',\n  namespace,\n  fieldDescriptor: WAFFilterFieldsDescriptor,\n};\nconst WAF_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: WAFFilterFields,\n};\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n];\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n\nconst WAFInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst WAFInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default WAF_STATE;\nexport {\n  WAFFilterFieldsDescriptor,\n  templateQueryIdMap,\n  WAFInstanceAliasList,\n  WAFInvalidDemensions,\n  namespace,\n  regionSupported,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as WAFGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nconst InstanceTypes = [\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: 3 },\n];\n\nconst Status = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 4 },\n  { text: '', value: 5 },\n];\n\nconst PayTypes = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\n\nconst TaskStatus = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: 'Slave', value: 3 },\n  { text: '', value: 4 },\n  { text: '', value: 5 },\n  { text: '', value: 6 },\n  { text: '', value: 7 },\n  { text: '', value: 8 },\n  { text: '', value: 9 },\n  { text: '', value: 10 },\n  { text: '', value: 12 },\n  { text: '', value: 13 },\n  { text: '', value: 14 },\n  { text: '', value: 15 },\n  { text: '', value: 16 },\n  { text: '', value: 17 },\n];\n\nconst EngineVersions = [\n  { text: '5.1', value: '5.1' },\n  { text: '5.5', value: '5.5' },\n  { text: '5.6', value: '5.6' },\n  { text: '5.7', value: '5.7' },\n];\n\nconst OrderBy = [\n  { text: 'InstanceId', value: 'InstanceId' },\n  { text: 'InstanceName', value: 'InstanceName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'DeadlineTime', value: 'DeadlineTime' },\n];\n\nconst OrderDirection = [\n  { text: 'ASC', value: 'ASC' },\n  { text: 'DESC', value: 'DESC' },\n];\n\nconst InitFlag = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\n\nconst CdbErrors = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\n\nconst CDBFields = {\n  ProjectId: '',\n  InstanceTypes: {},\n  Vips: [],\n  Status: {},\n  Offset: 0,\n  Limit: 20,\n  SecurityGroupId: '',\n  PayTypes: {},\n  InstanceNames: [],\n  TaskStatus: {},\n  EngineVersions: {},\n  VpcIds: [],\n  ZoneIds: [],\n  SubnetIds: [],\n  CdbErrors: {},\n  OrderBy: {},\n  OrderDirection: {},\n  InstanceIds: [],\n  InitFlag: {},\n};\n\nconst CDBFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceNames',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ZoneIds',\n    enDescriptor: 'Zone ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'InstanceTypes',\n    enDescriptor: 'Instance Type',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: InstanceTypes,\n  },\n  {\n    key: 'EngineVersions',\n    enDescriptor: 'Engine Version',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: EngineVersions,\n  },\n  {\n    key: 'TaskStatus',\n    enDescriptor: 'Task Status',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: TaskStatus,\n  },\n  {\n    key: 'InitFlag',\n    enDescriptor: 'Init Flag',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: InitFlag,\n  },\n  {\n    key: 'PayTypes',\n    enDescriptor: 'Pay Type',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: PayTypes,\n  },\n  {\n    key: 'CdbErrors',\n    enDescriptor: 'CDB Errors',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: CdbErrors,\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderDirection',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderDirection,\n  },\n  {\n    key: 'Vips',\n    enDescriptor: 'Vip',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: 'ID',\n    link: 'https://cloud.tencent.com/document/api/215/15778',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'Subnet ID',\n    cnDescriptor: 'ID',\n    link: 'https://cloud.tencent.com/document/api/215/15784',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: 'ID',\n    link: 'https://cloud.tencent.com/document/product/378/4400',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroupId',\n    enDescriptor: 'Security Group ID',\n    cnDescriptor: 'ID',\n    link: 'https://cloud.tencent.com/document/api/236/15854',\n    type: 'input',\n  },\n];\n\nconst CDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...CDBFields },\n};\n\nconst CDBInstanceAliasList = ['InstanceId', 'InstanceName', 'Vip'];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  return (\n    dimension.length === 2 &&\n    ((_.indexOf(dimension, 'instanceid') !== -1 && _.indexOf(dimension, 'insttype') !== -1) ||\n      (_.indexOf(dimension, 'InstanceId') !== -1 && _.indexOf(dimension, 'InstanceType') !== -1))\n  );\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((i) => CDBInvalidDemensions[i] || i);\n  });\n  return metricTmp;\n}\nconst CDBInvalidDemensions = {\n  instanceid: 'InstanceId',\n  insttype: 'InstanceType',\n  region: 'Region',\n};\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default CDB_STATE;\n\nexport {\n  CDBFieldsDescriptor,\n  CDBInstanceAliasList,\n  templateQueryIdMap,\n  CDBInvalidDemensions,\n  isValidMetric,\n  modifyDimensons,\n  GetInstanceQueryParams as CDBGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CES';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'cesQuery';\n\nconst CESInvalidDemensions = {\n  uInstanceId: 'InstanceId',\n};\n\nconst CESInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select{},multi[],dropdown\nconst CESFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceIds: [],\n  InstanceNames: [],\n  OrderByKey: {},\n  OrderByType: {},\n  IpList: [],\n};\n\nconst CESFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'InstanceNames',\n    enDescriptor: 'InstanceNames',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'OrderByKey',\n    enDescriptor: 'OrderByKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'ID', value: 1 },\n      { text: '', value: 2 },\n      { text: '', value: 3 },\n      { text: '', value: 4 },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 0 },\n      { text: '', value: 1 },\n    ],\n  },\n  {\n    key: 'IpList',\n    enDescriptor: 'IpList',\n    cnDescriptor: 'vip',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/845/30631',\n  namespace,\n  fieldDescriptor: CESFilterFieldsDescriptor,\n};\n\nconst CES_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: CESFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default CES_STATE;\nexport {\n  CESFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CESInstanceAliasList,\n  CESInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as CESGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DC';\nconst queryEditorName = 'dcQuery';\n\nconst DCFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DirectConnectIds: [],\n};\n\nconst DCFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DirectConnectIds',\n    enDescriptor: 'DirectConnectIds',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/216/34826',\n  namespace,\n  fieldDescriptor: DCFilterFieldsDescriptor,\n};\n\nconst DC_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectId',\n  queries: DCFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nconst DCInstanceAliasList = ['DirectConnectId', 'DirectConnectName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectId',\n};\n\nconst DCInvalidDemensions = {\n  directConnectId: 'DirectConnectId',\n  directconnectid: 'DirectConnectId',\n};\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['directConnectId'];\n  });\n  return metricTmp;\n}\nexport default DC_STATE;\nexport {\n  DCFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCInstanceAliasList,\n  DCInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as DCGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DCG';\nconst queryEditorName = 'dcgQuery';\n\nconst DCGInvalidDemensions = {\n  directConnectGatewayId: 'DirectConnectGatewayId',\n};\n\nconst DCGInstanceAliasList = ['DirectConnectGatewayId', 'DirectConnectGatewayName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectGatewayId',\n};\n\n// select{},multi[]\nconst DCGFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'direct-connect-gateway-id': [],\n  'direct-connect-gateway-name': [],\n  'direct-connect-gateway-ip': [],\n  'gateway-type': {},\n  'network-type': {},\n  'ccn-id': [],\n  'vpc-id': [],\n};\n\nconst DCGFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'direct-connect-gateway-id',\n    enDescriptor: 'direct-connect-gateway-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-gateway-name',\n    enDescriptor: 'direct-connect-gateway-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-gateway-ip',\n    enDescriptor: 'direct-connect-gateway-ip',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'gateway-type',\n    enDescriptor: 'gateway-type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'NORMAL' },\n      { text: 'NAT', value: 'NAT' },\n    ],\n  },\n  {\n    key: 'network-type',\n    enDescriptor: 'network-type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'VPC' },\n      { text: '', value: 'CCN' },\n    ],\n  },\n  {\n    key: 'ccn-id',\n    enDescriptor: 'ccn-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/30644',\n  namespace,\n  fieldDescriptor: DCGFilterFieldsDescriptor,\n};\n\nconst DCG_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectGatewayId',\n  queries: DCGFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default DCG_STATE;\nexport {\n  DCGFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCGInstanceAliasList,\n  DCGInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as DCGGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DCX';\nconst queryEditorName = 'dcxQuery';\n\nconst DCXFilterFields = {\n  'direct-connect-tunnel-name': [],\n  'direct-connect-tunnel-id': [],\n  'direct-connect-id': [],\n};\n\nconst DCXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'direct-connect-tunnel-name',\n    enDescriptor: 'direct-connect-tunnel-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-tunnel-id',\n    enDescriptor: 'direct-connect-tunnel-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-id',\n    enDescriptor: 'direct-connect-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/216/19819',\n  namespace,\n  fieldDescriptor: DCXFilterFieldsDescriptor,\n};\n\nconst DCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectTunnelId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    ...DCXFilterFields,\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n\nconst DCXInstanceAliasList = ['DirectConnectTunnelId', 'DirectConnectTunnelName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectTunnelId',\n};\n\nconst DCXInvalidDemensions = {\n  directconnectconnid: 'DirectConnectTunnelId',\n  directConnectConnId: 'DirectConnectTunnelId',\n};\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['directConnectConnId'];\n  });\n  return metricTmp;\n}\nexport default DCX_STATE;\nexport {\n  DCXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCXInstanceAliasList,\n  DCXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as DCXGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM_LB';\nconst queryEditorName = 'ecmLbQuery';\n\nconst ECMLBInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n};\n\nconst ECMLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select{},multi[]\nconst ECMLBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n  BackendPrivateIps: [],\n  VpcId: '',\n};\n\nconst ECMLBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivateIps',\n    cnDescriptor: ' IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/48459',\n  namespace,\n  fieldDescriptor: ECMLBFilterFieldsDescriptor,\n};\n\nconst ECM_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: ECMLBFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// function isValidMetric(metricObj: any = {}) {\n//   const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n//   // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n//   return dimension.length === 1 &&( _.indexOf(dimension, 'UUID') !== -1 || _.indexOf(dimension, 'uuid') !== -1);\n// }\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    // item.Dimensions = ['UUID'];\n  });\n  return metricTmp;\n}\nexport default ECM_STATE;\nexport {\n  ECMLBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMLBInstanceAliasList,\n  ECMLBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECMLBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst InstanceTypes = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: 3 },\n  { text: '', value: -1 },\n];\n\nconst ClusterTypes = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: -1 },\n];\n\nconst Status = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: -2 },\n];\n\nconst PayMode = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: -1 },\n];\n\nconst OrderBy = [\n  { text: 'ProjectId', value: 'ProjectId' },\n  { text: 'InstanceName', value: 'InstanceName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n];\n\nconst OrderByType = [\n  { text: '', value: 'ASC' },\n  { text: '', value: 'DESC' },\n];\n\nconst MongoDBFields = {\n  InstanceIds: [],\n  InstanceType: {},\n  ClusterType: {},\n  Status: [],\n  VpcId: '',\n  SubnetId: '',\n  PayMode: {},\n  Limit: 20,\n  Offset: 0,\n  OrderBy: '',\n  OrderByType: '',\n};\n\nconst MONGODBFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstancesIds',\n    cnDescriptor: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'InstanceType',\n    enDescriptor: 'InstanceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: InstanceTypes,\n  },\n  {\n    key: 'ClusterType',\n    enDescriptor: 'ClusterType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: ClusterTypes,\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: 'IDVpcId',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'PayMode',\n    enDescriptor: 'PayMode',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: PayMode,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderByType,\n  },\n];\n\nconst MONGODB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...MongoDBFields },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select \n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst MONGODBInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst MONGODBInvalidDemensions = {\n  target: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  replica: 'ReplicaSetId',\n};\n\nconst queryMonitorExtraConfg = {\n  Replica: {\n    dim_KeyInStorage: 'ReplicaSets',\n    dim_KeyInTarget: 'replica',\n    dim_KeyInMap: 'ReplicaSetId',\n    dim_KeyInIns: 'ReplicaSetId',\n  },\n  Node: {\n    dim_KeyInStorage: 'ReplicaNodeSets',\n    dim_KeyInTarget: 'node',\n    dim_KeyInMap: 'NodeId',\n    dim_KeyInIns: 'NodeId',\n  },\n};\nexport default MONGODB_STATE;\nexport {\n  MONGODBFieldsDescriptor,\n  MONGODBInvalidDemensions,\n  MONGODBInstanceAliasList,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n  GetInstanceQueryParams as MONGODBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/QAAP';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'qaapQuery';\n\nconst QAAPInvalidDemensions = {\n  channelId: 'InstanceId',\n};\n\nconst QAAPInstanceAliasList = ['InstanceId'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select{},multi[]\nconst QAAPFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ProjectId: [],\n  AccessRegion: [],\n  RealServerRegion: [],\n  GroupId: [],\n};\n\nconst QAAPFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'AccessRegion',\n    enDescriptor: 'AccessRegion',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'RealServerRegion',\n    enDescriptor: 'RealServerRegion',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'GroupId',\n    enDescriptor: 'GroupId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/608/36963',\n  namespace,\n  fieldDescriptor: QAAPFilterFieldsDescriptor,\n};\n\nconst QAAP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: QAAPFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  // metricTmp.Dimensions.forEach((item) => {\n  //   item.Dimensions = ['netDetectId'];\n  // });\n  return metricTmp;\n}\nexport default QAAP_STATE;\nexport {\n  QAAPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  QAAPInstanceAliasList,\n  QAAPInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as QAAPGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/TCAPLUS';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'tcaplusQuery';\n\nconst TCAPLUSInvalidDemensions = {\n  // TableInstanceId: 'TableInstanceId',\n  // ClusterId: 'ClusterId',\n};\n\n// \nconst TCAPLUSInstanceAliasList = ['TableInstanceId', 'TableName'];\n\nconst templateQueryIdMap = {\n  instance: 'TableInstanceId',\n};\n\n// select{},multi[],dropdown\nconst TCAPLUSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ClusterId: '',\n  TableGroupIds: [],\n\n  TableName: '',\n  TableInstanceId: '',\n  TableIdlType: {},\n  TableType: {},\n  ListElementNum: null,\n  ReservedVolume: null,\n  ReservedReadQps: null,\n  ReservedWriteQps: null,\n  Memo: '',\n  FileName: '',\n  FileExtType: '',\n  FileSize: null,\n  FileContent: '',\n};\n\nconst TCAPLUSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ClusterId',\n    enDescriptor: 'ClusterId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableGroupIds',\n    enDescriptor: 'TableGroupIds',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'TableName',\n    enDescriptor: 'TableName',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableInstanceId',\n    enDescriptor: 'TableInstanceId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableIdlType',\n    enDescriptor: 'TableIdlType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'PROTO', value: 'PROTO' },\n      { text: 'TDR', value: 'TDR' },\n    ],\n  },\n  {\n    key: 'TableType',\n    enDescriptor: 'TableType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'GENERIC', value: 'GENERIC' },\n      { text: 'LIST', value: 'LIST' },\n    ],\n  },\n  {\n    key: 'ListElementNum',\n    enDescriptor: 'ListElementNum',\n    cnDescriptor: 'LIST',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedVolume',\n    enDescriptor: 'ReservedVolume',\n    cnDescriptor: 'GB',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedReadQps',\n    enDescriptor: 'ReservedReadQps',\n    cnDescriptor: 'CU',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedWriteQps',\n    enDescriptor: 'ReservedWriteQps',\n    cnDescriptor: 'CU',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'Memo',\n    enDescriptor: 'Memo',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileName',\n    enDescriptor: 'FileName',\n    cnDescriptor: 'Key',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileExtType',\n    enDescriptor: 'FileExtType',\n    cnDescriptor: 'Key',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileSize',\n    enDescriptor: 'FileSize',\n    cnDescriptor: 'Key',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'FileContent',\n    enDescriptor: 'FileContent',\n    cnDescriptor: 'Key',\n    link: '',\n    type: 'input',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/596/39664',\n  namespace,\n  fieldDescriptor: TCAPLUSFilterFieldsDescriptor,\n};\n\nconst TCAPLUS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TableInstanceId',\n  queries: TCAPLUSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  params.Limit = _.get(queries, 'Limit', 20) || 20;\n  params.Offset = _.get(queries, 'Offset', 0) || 0;\n  params.ClusterId = _.get(queries, 'ClusterId', '') || '';\n  params.TableGroupIds = _.get(queries, 'TableGroupIds', []) || [];\n  queries = _.omit(queries, ['Offset', 'Limit', 'TableGroupIds', 'ClusterId']);\n  const SelectedTables: any[] = [];\n  _.forEach(queries, (item: any, key) => {\n    if (_.isArray(item)) {\n      item = _.compact(item);\n      if (item.length > 0) {\n        SelectedTables[key] = _.uniq(item);\n      }\n    } else if (_.isObject(item)) {\n      if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n        SelectedTables[key] = _.get(item, 'value');\n      }\n    } else if (_.isNumber(item) || !_.isEmpty(item)) {\n      SelectedTables[key] = item;\n    }\n  });\n  params.SelectedTables = SelectedTables;\n  return params;\n}\n// \nconst regonsMap = {\n  'ap-beijing': '()',\n  'ap-guangzhou': '()',\n  'ap-hongkong': '()',\n  'ap-seoul': '()',\n  'ap-shanghai': '()',\n  'ap-singapore': '()',\n  'ap-tokyo': '()',\n  'eu-frankfurt': '()',\n  'na-ashburn': '()',\n  'na-siliconvalley': '()',\n};\nexport default TCAPLUS_STATE;\nexport {\n  TCAPLUSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TCAPLUSInstanceAliasList,\n  TCAPLUSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regonsMap,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as TCAPLUSGetInstanceQueryParams,\n};\n","// service lb_private() => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VBC';\n\n// index.tsSERVICESSERVICESservicequery\nconst queryEditorName = 'vbcQuery';\n\nconst VBCInvalidDemensions = {\n  // CcnId: 'CcnId',\n};\n\n// \nconst VBCInstanceAliasList = ['CcnId', 'CcnName'];\n\nconst templateQueryIdMap = {\n  instance: 'CcnId',\n};\n\n// select{},multi[],dropdown''\nconst VBCFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'ccn-id': [],\n  'ccn-name': [],\n  'ccn-description': [],\n  state: {},\n};\n\nconst VBCFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ccn-id',\n    enDescriptor: 'ccn-id',\n    cnDescriptor: 'CCNID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ccn-name',\n    enDescriptor: 'ccn-name',\n    cnDescriptor: 'CCN',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ccn-description',\n    enDescriptor: 'ccn-description',\n    cnDescriptor: 'CCN',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'state',\n    enDescriptor: 'state',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'ISOLATED' },\n      { text: '', value: 'AVAILABLE' },\n    ],\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/19199',\n  namespace,\n  fieldDescriptor: VBCFilterFieldsDescriptor,\n};\n\nconst VBC_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'CcnId',\n  DRegion: '',\n  SRegion: '',\n  queries: VBCFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// const regionSupported = [\n//   { text: '()', value: 'ap-beijing' },\n//   { text: '()', value: 'ap-chengdu' },\n//   { text: '()', value: 'ap-chongqing' },\n//   { text: '()', value: 'ap-guangzhou' },\n//   { text: '()', value: 'ap-hongkong' },\n//   { text: '()', value: 'ap-mumbai' },\n//   { text: '()', value: 'ap-nanjing' },\n//   { text: '()', value: 'ap-shanghai' },\n//   { text: '()', value: 'ap-shanghai-fsi' },\n//   { text: '()', value: 'ap-shenzhen-fsi' },\n//   { text: '()', value: 'ap-singapore' },\n//   { text: '()', value: 'ap-tokyo' },\n//   { text: '()', value: 'eu-frankfurt' },\n//   { text: '()', value: 'na-ashburn' },\n//   { text: '()', value: 'na-siliconvalley' },\n//   { text: '()', value: 'na-toronto' },\n// ];\nexport default VBC_STATE;\nexport {\n  VBCFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VBCInstanceAliasList,\n  VBCInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  // regionSupported,\n  // serviceGetInstanceQueryParams\n  GetInstanceQueryParams as VBCGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPNGW';\nconst queryEditorName = 'vpngwQuery';\n\nconst VPNGWInvalidDemensions = {\n  vpnGwId: 'VpnGatewayId',\n};\n\nconst VPNGWInstanceAliasList = ['VpnGatewayId', 'VpnGatewayName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpnGatewayId',\n};\n\n// select{},multi[]\nconst VPNGWFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'vpn-gateway-id': [],\n  'vpn-gateway-name': [],\n  type: {},\n  'public-ip-address': [],\n  'renew-flag': {},\n  zone: [],\n};\n\nconst VPNGWFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPCID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-id',\n    enDescriptor: 'vpn-gateway-id',\n    cnDescriptor: 'VPNID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-name',\n    enDescriptor: 'vpn-gateway-name',\n    cnDescriptor: 'VPN',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'type',\n    enDescriptor: 'type',\n    cnDescriptor: 'VPN',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'IPSEC', value: 'IPSEC' },\n      { text: 'SSL', value: 'SSL' },\n    ],\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'public-ip-address',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'renew-flag',\n    enDescriptor: 'renew-flag',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '', value: 'NOTIFY_AND_MANUAL_RENEW' },\n      { text: '', value: 'NOTIFY_AND_AUTO_RENEW' },\n    ],\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'zone',\n    cnDescriptor: 'VPN',\n    link: '',\n    type: 'dropdownMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/17514',\n  namespace,\n  fieldDescriptor: VPNGWFilterFieldsDescriptor,\n};\n\nconst VPNGW_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpnGatewayId',\n  queries: VPNGWFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default VPNGW_STATE;\nexport {\n  VPNGWFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPNGWInstanceAliasList,\n  VPNGWInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as VPNGWGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPNX';\nconst queryEditorName = 'vpnxQuery';\n\nconst VPNXInvalidDemensions = {\n  vpnConnId: 'VpnConnectionId',\n};\n\nconst VPNXInstanceAliasList = ['VpnConnectionId', 'VpnConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpnConnectionId',\n};\n\n// select{},multi[]\nconst VPNXFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'vpn-gateway-id': [],\n  'customer-gateway-id': [],\n  'vpn-connection-name': [],\n  'vpn-connection-id': [],\n};\n\nconst VPNXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPCID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-id',\n    enDescriptor: 'vpn-gateway-id',\n    cnDescriptor: 'VPNID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'customer-gateway-id ',\n    enDescriptor: 'customer-gateway-id ',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-connection-name',\n    enDescriptor: 'vpn-connection-name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-connection-id',\n    enDescriptor: 'vpn-connection-id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// detail\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/17515',\n  namespace,\n  fieldDescriptor: VPNXFilterFieldsDescriptor,\n};\n\nconst VPNX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpnConnectionId',\n  queries: VPNXFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default VPNX_STATE;\nexport {\n  VPNXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPNXInstanceAliasList,\n  VPNXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as VPNXGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nconst LighthouseStateType = [\n  { text: '', value: 'PENDING' },\n  { text: '', value: 'LAUNCH_FAILED' },\n  { text: '', value: 'RUNNING' },\n  { text: '', value: 'STOPPED' },\n  { text: '', value: 'STARTING' },\n  { text: '', value: 'STOPPING' },\n  { text: '', value: 'REBOOTING' },\n  { text: '', value: 'SHUTDOWN' },\n  { text: '', value: 'TERMINATING' },\n];\n\nconst LighthouseFilterFields = {\n  zone: [],\n  'instance-name': [],\n  'instance-state': {},\n  'private-ip-address': [],\n  'public-ip-address': [],\n};\n\nconst LighthouseFilterFieldsDescriptor = [\n  {\n    key: 'instance-name',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'Public IP Address',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'Instance State',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: LighthouseStateType,\n  },\n];\n\nconst LIGHTHOUSE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    InstanceIds: [''],\n    Filters: { ...LighthouseFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst LIGHTHOUSEInstanceAliasList = ['InstanceId', 'InstanceName', 'PrivateIpAddresses', 'PublicIpAddresses'];\n\nconst LighthouseInvalidDemensions = {\n  instanceid: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\n\nexport default LIGHTHOUSE_STATE;\n\nexport {\n  LighthouseFilterFieldsDescriptor,\n  LIGHTHOUSEInstanceAliasList,\n  LighthouseInvalidDemensions,\n  templateQueryIdMap,\n  modifyDimensons,\n  GetInstanceQueryParams as LIGHTHOUSEGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nexport const CFSQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'FileSystemId',\n    enDescriptor: 'File System Id',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: 'VPC ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'input',\n  },\n];\n\nconst CFS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'FileSystemId',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    FileSystemId: '',\n    VpcId: '',\n    SubnetId: '',\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst CFSInstanceAliasList = ['FileSystemId', 'FsName'];\n\n// dimensionsdimensionkeykey\nconst CFSInvalidDemensions = {\n  // functionName: 'FunctionName',\n  // namespace: 'Namespace'\n};\n\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-seoul' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default CFS_STATE;\nexport {\n  CFSInstanceAliasList,\n  CFSInvalidDemensions,\n  templateQueryIdMap,\n  regionSupported,\n  GetInstanceQueryParams as CFSGetInstanceQueryParams,\n};\n\n// monitor\n// export const SCFDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import _ from 'lodash';\nimport { FildDescriptorType } from '../_base/types';\n\nexport const InstanceQueryDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '101100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'QueueName',\n    enDescriptor: 'QueueName',\n    cnDescriptor: 'QueueName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// dimensionsdimensionkeykey\nexport const InvalidDemensions = {\n  queueId: 'QueueId',\n  queueName: 'QueueName',\n};\n\nexport const templateQueryIdMap = {\n  instance: 'QueueName',\n};\n\n// \nconst InstanceAliasList = ['QueueName', 'QueueId'];\nexport { InstanceAliasList, GetInstanceQueryParams };\n\n// default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'QueueName',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    QueueName: '',\n    TagKey: '',\n  },\n};\n","import _ from 'lodash';\nconst instanceChargeTypes = [\n  { text: '', value: 'PREPAID' },\n  { text: '', value: 'POSTPAID_BY_HOUR' },\n  { text: 'CDH', value: 'CDHPAID' },\n];\n\nconst CVMFilterFields = {\n  zone: [],\n  'project-id': [],\n  'host-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n  'instance-id': [],\n  'security-group-id': [],\n  'instance-name': [],\n  'instance-charge-type': {},\n  'private-ip-address': [],\n  'public-ip-address': [],\n  'tag-key': [],\n};\n\nconst CVMFilterFieldsDescriptor = [\n  {\n    key: 'zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'project-id',\n    enDescriptor: 'Project ID',\n    cnDescriptor: 'ID',\n    link: 'https://cloud.tencent.com/document/api/378/4400',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'host-id',\n    enDescriptor: 'CDH ID',\n    cnDescriptor: 'CDH ID',\n    link: 'https://cloud.tencent.com/document/product/416/19730',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC ID',\n    cnDescriptor: 'VPC ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'Subnet ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'security-group-id',\n    enDescriptor: 'Security Group ID',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'tag-key',\n    enDescriptor: '',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-charge-type',\n    enDescriptor: 'Instance Charge Type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: instanceChargeTypes,\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: 'IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'Public IP Address',\n    cnDescriptor: 'IPIPIP',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst CVM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    InstanceIds: [''],\n    Filters: { ...CVMFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst CVMInstanceAliasList = ['InstanceId', 'InstanceName', 'PrivateIpAddresses', 'PublicIpAddresses'];\n\nconst CVMValidMetricsT = [\n  'CPUUsage',\n  'CpuLoadavg',\n  'Cpuloadavg5m',\n  'Cpuloadavg15m',\n  'BaseCpuUsage',\n  'GpuMemTotal',\n  'GpuMemUsage',\n  'GpuMemUsed',\n  'GpuPowDraw',\n  'GpuPowLimit',\n  'GpuPowUsage',\n  'GpuTemp',\n  'GpuUtil',\n  'LanOuttraffic',\n  'LanIntraffic',\n  'LanOutpkg',\n  'LanInpkg',\n  'WanOuttraffic',\n  'WanIntraffic',\n  'WanOutpkg',\n  'WanInpkg',\n  'AccOuttraffic',\n  'TcpCurrEstab',\n  'TimeOffset',\n  'MemUsed',\n  'MemUsage',\n  'CvmDiskUsage',\n  'BaseCpuUsage',\n  'VmDiskReadIops',\n];\n// const CVMInvalidDemensions = {\n//   'vm_uuid': 'InstanceId',\n//   'vmUuid': 'InstanceId',\n// };\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nfunction isValidMetric(metric) {\n  const CVMValidMetrics = _.map(CVMValidMetricsT, _.toUpper);\n  return _.indexOf(CVMValidMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\nexport default CVM_STATE;\nexport {\n  CVMFilterFieldsDescriptor,\n  CVMInstanceAliasList,\n  isValidMetric,\n  modifyDimensons,\n  templateQueryIdMap,\n  // CVMInvalidDemensions,\n  GetInstanceQueryParams as CVMGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst namespace = 'QCE/PCX';\n\nconst PCXFields = {\n  limit: 20,\n  offset: 0,\n  peeringConnectionId: '',\n  peeringConnectionName: '',\n  vpcId: '',\n  state: undefined,\n};\n\nconst PCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'peeringConnectionId',\n  queries: { ...PCXFields },\n};\n\nconst StateTypes = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: 3 },\n  { text: '', value: 4 },\n];\n\nconst PCXFieldsDescriptor = [\n  {\n    key: 'offset',\n    enDescriptor: 'offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'limit',\n    enDescriptor: 'limit',\n    cnDescriptor: '20150',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'peeringConnectionId',\n    enDescriptor: 'PeeringConnection Id',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'peeringConnectionName',\n    enDescriptor: 'PeeringConnection Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'vpcId',\n    enDescriptor: 'vpcId',\n    cnDescriptor: ' ID ',\n    link: 'https://cloud.tencent.com/document/api/215/1372',\n    type: 'dropdown',\n  },\n  {\n    key: 'state',\n    enDescriptor: 'state',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: StateTypes,\n  },\n];\n\nconst PCXInstanceAliasList = ['peeringConnectionId', 'peeringConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'peeringConnectionId',\n};\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.limit = _.get(queries, 'limit', 20) || 20;\n    params.offset = _.get(queries, 'offset', 0) || 0;\n    queries = _.omit(queries, ['offset', 'limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nexport default PCX_STATE;\n\nexport {\n  PCXInstanceAliasList,\n  PCXFieldsDescriptor,\n  templateQueryIdMap,\n  namespace,\n  GetInstanceQueryParams as PCXGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst BillingMode = [\n  { text: '', value: 'postpaid' },\n  { text: '', value: 'prepaid' },\n];\n\nconst AutoRenew = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n];\n\nconst Status = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: -2 },\n  { text: '', value: -3 },\n];\n\nconst TypeVersion = [\n  { text: '', value: 1 },\n  { text: '', value: 2 },\n  { text: '', value: 3 },\n];\n\nconst OrderBy = [\n  { text: 'projectId', value: 'projectId' },\n  { text: 'instancename', value: 'instancename' },\n  { text: 'createtime', value: 'createtime' },\n  { text: 'type', value: 'type' },\n  { text: 'curDeadline', value: 'curDeadline' },\n];\n\nconst OrderType = [\n  { text: '', value: 0 },\n  { text: '', value: 1 },\n];\nconst Type = [\n  { text: 'Redis', value: 1 },\n  { text: 'Redis 2.8', value: 2 },\n  { text: 'CKV', value: 3 },\n  { text: 'CKV', value: 4 },\n  { text: 'Redis 2.8', value: 5 },\n  { text: 'Redis 4.0', value: 6 },\n  { text: 'Redis 4.0', value: 7 },\n  { text: 'Redis5.0', value: 8 },\n  { text: 'Redis5.0', value: 9 },\n];\n\nconst RedisFields = {\n  InstanceId: '',\n  OrderBy: '',\n  OrderType: null,\n  VpcIds: [],\n  SubnetIds: [],\n  ProjectIds: [],\n  SearchKey: '',\n  InstanceName: '',\n  UniqVpcIds: [],\n  UniqSubnetIds: [],\n  Status: [],\n  TypeVersion: null,\n  EngineName: '',\n  AutoRenew: null,\n  BillingMode: '',\n  Type: null,\n};\n\nconst RedisFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstancesId',\n    cnDescriptor: 'id',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'VpcIds',\n    cnDescriptor: 'ID047525',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'SubnetIds',\n    cnDescriptor: 'ID056854',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: 'ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'InstanceName',\n    enDescriptor: 'InstanceName',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'UniqVpcIds',\n    enDescriptor: 'UniqVpcIds',\n    cnDescriptor: 'ID0vpc-sad23jfdfk',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'UniqSubnetIds',\n    enDescriptor: 'UniqSubnetIds',\n    cnDescriptor: 'ID0subnet-fdj24n34j2',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'TypeVersion',\n    enDescriptor: 'TypeVersion',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: TypeVersion,\n  },\n  {\n    key: 'EngineName',\n    enDescriptor: 'EngineName',\n    cnDescriptor: 'Redis-2.8Redis-4.0CKV',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenew',\n    enDescriptor: 'AutoRenew',\n    cnDescriptor: '',\n    multiple: true,\n    type: 'select',\n    list: AutoRenew,\n  },\n  {\n    key: 'BillingMode',\n    enDescriptor: 'BillingMode',\n    cnDescriptor: 'postpaid-prepaid-',\n    link: '',\n    type: 'select',\n    list: BillingMode,\n  },\n  {\n    key: 'Type',\n    enDescriptor: 'Type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: Type,\n  },\n];\n\nconst REDIS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...RedisFields },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select \n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  return dimension.length === 1 && _.indexOf(dimension, 'instanceid') !== -1;\n}\n\nconst REDISInstanceAliasList = ['InstanceId', 'InstanceName', 'WanIp'];\n\nconst RedisInvalidDemensions = {\n  redis_uuid: 'InstanceId',\n  instanceid: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default REDIS_STATE;\nexport {\n  RedisFieldsDescriptor,\n  RedisInvalidDemensions,\n  templateQueryIdMap,\n  REDISInstanceAliasList,\n  isValidMetric,\n  GetInstanceQueryParams as REDISGetInstanceQueryParams,\n};\n","import { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst ApplicationType = [\n  { text: '', value: '' },\n  { text: '', value: 'C' },\n  { text: '/', value: 'V' },\n];\n\nconst MicroserviceType = [\n  { text: '', value: '' },\n  { text: '', value: 'N' },\n  { text: 'Mesh', value: 'M' },\n  { text: '', value: 'G' },\n  { text: '', value: 'NATIVE' },\n];\n\nconst ApplicationResourceType = [\n  { text: '', value: 'DEF' },\n  { text: '', value: 'GW' },\n];\n\nconst TSFFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '201100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'SearchWord',\n    enDescriptor: 'SearchWord',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ApplicationIdList',\n    enDescriptor: 'ApplicationIdList',\n    cnDescriptor: 'ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ApplicationType',\n    enDescriptor: 'ApplicationType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: ApplicationType,\n  },\n  {\n    key: 'MicroserviceType',\n    enDescriptor: 'MicroserviceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: MicroserviceType,\n  },\n  {\n    key: 'ApplicationResourceTypeList',\n    enDescriptor: 'ApplicationResourceTypeList',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: ApplicationResourceType,\n  },\n];\n\nconst TSF_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ApplicationId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    SearchWord: '',\n    OrderBy: '',\n    OrderType: null,\n    ApplicationType: '',\n    MicroserviceType: '',\n    ApplicationResourceTypeList: [],\n    ApplicationIdList: [],\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nconst TSFInstanceAliasList = ['ApplicationId', 'ApplicationName'];\n\nconst TSFInvalidDemensions = {\n  applicationid: 'ApplicationId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'ApplicationId',\n};\n\nexport default TSF_STATE;\nexport {\n  TSFInvalidDemensions,\n  templateQueryIdMap,\n  TSFInstanceAliasList,\n  TSFFieldsDescriptor,\n  GetInstanceQueryParams as TSFGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst networkTypes = [\n  { text: 'BGP', value: 'BGP' },\n  { text: 'SINGLEISP', value: 'SINGLEISP' },\n  { text: 'ANYCAST', value: 'ANYCAST' },\n];\n\nconst chargeTypes = [\n  { text: 'top5', value: 'TOP5_POSTPAID_BY_MONTH' },\n  { text: '95', value: 'PERCENT95_POSTPAID_BY_MONTH' },\n];\nconst BWPFilterFields = {\n  'bandwidth-package_id': [],\n  'bandwidth-package-name': [],\n  'network-type': [],\n  'charge-type': [],\n};\n\nconst BWPFilterFieldsDescriptor = [\n  {\n    key: 'bandwidth-package_id',\n    enDescriptor: 'BandwidthPackage Id',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'bandwidth-package-name',\n    enDescriptor: 'BandwidthPackage Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'network-type',\n    enDescriptor: 'network type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: networkTypes,\n  },\n  {\n    key: 'charge-type',\n    enDescriptor: 'charge type',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: chargeTypes,\n  },\n];\n\nconst BWP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'BandwidthPackageId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    BandwidthPackageIds: [''],\n    Filters: { ...BWPFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.BandwidthPackageIds)) {\n        const BandwidthPackageIds = _.compact(queries.BandwidthPackageIds);\n        if (_.uniq(BandwidthPackageIds).length > 0) {\n          params.BandwidthPackageIds = _.uniq(BandwidthPackageIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst BWPInstanceAliasList = ['BandwidthPackageId', 'BandwidthPackageName'];\n\nconst templateQueryIdMap = {\n  instance: 'BandwidthPackageId',\n};\n\nconst BWPInvalidDemensions = {\n  bandwidthPackageId: 'BandwidthPackageId',\n};\nexport default BWP_STATE;\nexport {\n  BWPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BWPInstanceAliasList,\n  BWPInvalidDemensions,\n  GetInstanceQueryParams as BWPGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst CDNFilterFields = {\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst CDNFilterFieldsDescriptor = [\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'cname' },\n      { text: 'cos', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'on' },\n      { text: '', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: 'https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst CDN_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...CDNFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    const Filters: any[] = [];\n    _.forEach(queries.Filters, (item: any, key) => {\n      // console.log('item', item, queries);\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: _.uniq(item).slice(0, 5) });\n        }\n      } else if (_.isObject(item)) {\n        if (!_.isEmpty(_.get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: _.get(item, 'value', []).slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters;\n    }\n  }\n  return params;\n}\n\nconst CDNInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst CDNInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default CDN_STATE;\nexport {\n  CDNFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CDNInstanceAliasList,\n  CDNInvalidDemensions,\n  GetInstanceQueryParams as CDNGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\n// export const LBQueryDescriptor = [{\n//   key: 'Offset',\n//   enDescriptor: 'Offset',\n//   cnDescriptor: ', Offset=20&Limit=20  20  40 ',\n//   link: '',\n//   type: 'inputnumber',\n//   min: 0,\n// },\n// {\n//   key: 'Limit',\n//   enDescriptor: 'Limit',\n//   cnDescriptor: '2012000',\n//   link: '',\n//   type: 'inputnumber',\n//   min: 1,\n//   max: 2000,\n// },\n// {\n//   key: 'AddressId',\n//   enDescriptor: 'Address Id',\n//   cnDescriptor: ' EIP  ID ',\n//   link: '',\n//   type: 'inputmulti',\n// }\n// ];\n\nexport const LBFilterDescriptor = [\n  {\n    key: 'address-id',\n    enDescriptor: 'Address ID',\n    cnDescriptor: 'EIP  ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-name',\n    enDescriptor: 'Address Name',\n    cnDescriptor: 'EIP  ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-ip',\n    enDescriptor: 'Address IP',\n    cnDescriptor: 'EIP  IP  ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-status',\n    enDescriptor: 'Address Status',\n    cnDescriptor: 'EIP ',\n    link: '',\n    type: 'select',\n    list: [\n      { value: 'CREATING', text: 'CREATING' },\n      { value: 'BINDING', text: 'BINDING' },\n      { value: 'BIND', text: 'BIND' },\n      { value: 'UNBINDING', text: 'UNBINDING' },\n      { value: 'UNBIND', text: 'UNBIND' },\n      { value: 'OFFLINING', text: 'OFFLINING' },\n      { value: 'BIND_ENI', text: 'BIND_ENI' },\n    ],\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: 'ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: 'EIP  IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'network-interface-id',\n    enDescriptor: 'Network Interface ID',\n    cnDescriptor: 'EIP  ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'is-arrears',\n    enDescriptor: 'Arrears',\n    cnDescriptor: 'EIP  ',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'FALSE' },\n      { text: '', value: 'TRUE' },\n    ],\n  },\n];\n\n// const LBFilterFields = {\n//   \"address-id\": [],\n//   \"address-name\": [],\n//   \"address-ip\": [],\n//   \"address-status \": [],\n//   \"instance-id \": [],\n//   \"private-ip-address\": [],\n//   \"network-interface-id \": [],\n//   \"is-arrears \": [],\n// };\n\nconst InstanceKey = 'AddressIds';\nconst LB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'AddressId',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    [InstanceKey]: [''],\n    Filters: {\n      'address-id': [],\n      'address-name': [],\n      'address-ip': [],\n      'address-status ': [],\n      'instance-id ': [],\n      'private-ip-address': [],\n      'network-interface-id ': [],\n      'is-arrears ': [],\n    },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries[InstanceKey])) {\n        const InstanceIds = _.compact(queries[InstanceKey]);\n        if (_.uniq(InstanceIds).length > 0) {\n          params[InstanceKey] = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst LBInstanceAliasList = ['AddressId', 'AddressName', 'AddressIp'];\n\n// eip\nconst LBInvalidDemensions = {\n  eip: 'AddressIp',\n};\n\nconst templateQueryIdMap = {\n  instance: 'AddressId',\n};\n// monitorLB\n// export const metric2Instance = {\n//   functionName: 'FunctionName',\n//   namespace: 'Namespace'\n// };\n\nexport default LB_STATE;\nexport {\n  LBInstanceAliasList,\n  LBInvalidDemensions,\n  templateQueryIdMap,\n  GetInstanceQueryParams as LBGetInstanceQueryParams,\n};\n\n// monitor\n// export const LBDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import _ from 'lodash';\n\nconst NATGATEWAYInstanceAliasList = ['NatGatewayId', 'NatGatewayName'];\n\nconst NATGatewayFilterFields = {\n  'nat-gateway-id': [],\n  'nat-gateway-name': [],\n  'vpc-id': [],\n};\n\nconst NATGatewayFilterFieldsDescriptor = [\n  {\n    key: 'nat-gateway-id',\n    enDescriptor: 'NatGateway ID',\n    cnDescriptor: 'NAT ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'nat-gateway-name',\n    enDescriptor: 'NatGateway Name',\n    cnDescriptor: 'NatGateway Name',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC ID',\n    cnDescriptor: ' ID',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst NATGATEWAY_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'NatGatewayId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    NatGatewayIds: [''],\n    Filters: { ...NATGatewayFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.NatGatewayIds)) {\n        const NatGatewayIds = _.compact(queries.NatGatewayIds);\n        if (_.uniq(NatGatewayIds).length > 0) {\n          params.InstanceIds = _.uniq(NatGatewayIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst templateQueryIdMap = {\n  instance: 'NatGatewayId',\n};\n\nconst NATInvalidDemensions = {\n  natId: 'NatGatewayId',\n};\n\nexport default NATGATEWAY_STATE;\nexport {\n  NATGatewayFilterFieldsDescriptor,\n  NATGATEWAYInstanceAliasList,\n  templateQueryIdMap,\n  NATInvalidDemensions,\n  GetInstanceQueryParams as NATGATEWAYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst CDNFilterFields = {\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: [],\n  serviceType: [],\n  projectId: [],\n  domainType: [],\n  fullUrlCache: [],\n  https: [],\n  originPullProtocol: [],\n  tagKey: [],\n};\n\nconst OVCDNFilterFieldsDescriptor = [\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: 'id',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: 'ID',\n    link: '',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'cname' },\n      { text: 'cos', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '', value: 'on' },\n      { text: '', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: 'https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst OVCDN_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...CDNFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    const Filters: any[] = [];\n    _.forEach(queries.Filters, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: _.uniq(item).slice(0, 5) });\n        }\n      } else if (_.isObject(item)) {\n        if (!_.isEmpty(_.get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: _.get(item, 'value', []).slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters;\n    }\n  }\n  return params;\n}\n\nconst OVCDNInstanceAliasList = ['Domain', 'ResourceId'];\n\nconst OVCDNInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default OVCDN_STATE;\nexport {\n  OVCDNFilterFieldsDescriptor,\n  OVCDNInstanceAliasList,\n  templateQueryIdMap,\n  OVCDNInvalidDemensions,\n  GetInstanceQueryParams as OVCDNGetInstanceQueryParams,\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__69__;","module.exports = __WEBPACK_EXTERNAL_MODULE__70__;","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexport var UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map\n","/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\nimport { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nvar Subscription = /*@__PURE__*/ (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._ctorUnsubscribe = true;\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction(_unsubscribe)) {\n            if (_ctorUnsubscribe) {\n                this._unsubscribe = undefined;\n            }\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n","/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\n//# sourceMappingURL=Subscriber.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map\n","/** PURE_IMPORTS_START _identity PURE_IMPORTS_END */\nimport { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n","/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nvar Observable = /*@__PURE__*/ (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n","/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n","/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nexport function canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=canReportError.js.map\n","import _ from 'lodash';\n\nconst TKE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  conditions: [],\n  groupBys: '',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: true,\n    ClusterIds: [''],\n    Filters: {\n      ClusterName: [],\n      ClusterType: [],\n      ClusterStatus: [],\n      'tag-key': [],\n    },\n  },\n};\n\nconst TKEFilterFieldsDescriptor = [\n  {\n    key: 'ClusterName',\n    enDescriptor: 'Cluster Name',\n    cnDescriptor: '',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ClusterType',\n    enDescriptor: 'Cluster Type',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ClusterStatus',\n    enDescriptor: 'Cluster Status',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Tags',\n    enDescriptor: 'Tags',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC',\n    cnDescriptor: 'VPC',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'tag-key',\n    enDescriptor: 'Tag Key',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'tag-value',\n    enDescriptor: 'Tag Value',\n    cnDescriptor: '',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst TKEInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nexport default TKE_STATE;\n\nexport { TKEFilterFieldsDescriptor, TKEInstanceAliasList, GetInstanceQueryParams as TKEGetInstanceQueryParams };\n","import {\n  APIGATEWAYInstanceAliasList,\n  APIGATEWAYInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = APIGATEWAYInstanceAliasList;\n  InvalidDimensions = APIGATEWAYInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'apigateway',\n    action: 'DescribeServicesStatus',\n    responseField: 'ServiceSet',\n  };\n\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async getEnvironmentNameList(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // \n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeServiceEnvironmentList' }\n        );\n      },\n      {\n        ServiceId: instanceId,\n      },\n      'EnvironmentList'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'DescribeServiceEnvironmentList') {\n      const rs = await this.getEnvironmentNameList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.environmentName];\n        return {\n          text: o[this.templateQueryIdMap.environmentName],\n          value: o[this.templateQueryIdMap.environmentName],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.environmentList, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  BMINTRALBInstanceAliasList,\n  BMINTRALBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  isValidMetric,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMINTRALBInstanceAliasList;\n  InvalidDimensions = BMINTRALBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'bmlb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        LoadBalancerType: 'internal',\n      }), //  \n    },\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return item;\n        }\n        return null;\n      })\n    );\n  }\n}\n","import { BMLBInstanceAliasList, CPMInvalidDemensions, namespace, templateQueryIdMap, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMLBInstanceAliasList;\n  InvalidDimensions = CPMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'bmlb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        LoadBalancerType: 'open',\n      }), //  \n    },\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return item;\n        }\n        return null;\n      })\n    );\n  }\n  // getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n}\n","import {\n  BMPCXInstanceAliasList,\n  BMPCXInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMPCXInstanceAliasList;\n  InvalidDimensions = BMPCXInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'bmvpc',\n    action: 'DescribeVpcPeerConnections',\n    responseField: 'VpcPeerConnectionSet',\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n}\n","import { BWPInstanceAliasList, BWPInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class BWPDatasource extends BaseDatasource {\n  Namespace = 'QCE/BWP';\n  InstanceAliasList = BWPInstanceAliasList;\n  InvalidDimensions = BWPInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'BandwidthPackageId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeBandwidthPackages',\n    responseField: 'BandwidthPackageSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { CBSInstanceAliasList, CBSInvalidDemensions, namespace, templateQueryIdMap, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CBSInstanceAliasList;\n  InvalidDimensions = CBSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'cbs',\n    action: 'DescribeDisks',\n    responseField: 'DiskSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.filter(rawSet, isValidMetric);\n  }\n}\n","import _ from 'lodash';\nimport {\n  CDBInstanceAliasList,\n  CDBInvalidDemensions,\n  isValidMetric,\n  modifyDimensons,\n  templateQueryIdMap,\n} from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDBDatasource extends BaseDatasource {\n  Namespace = 'QCE/CDB';\n  InstanceAliasList = CDBInstanceAliasList;\n  InvalidDimensions = CDBInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'cdb',\n    action: 'DescribeDBInstances',\n    responseField: 'Items',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return modifyDimensons(item);\n        }\n        return null;\n      })\n    );\n  }\n  /**\n   *  \n   * @param region \n   */\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.ZoneId, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n  // InstanceIdInstanceType\n  getDefaultInsObj(ins: string) {\n    return {\n      [templateQueryIdMap.instance]: ins,\n      InstanceType: 1,\n    };\n  }\n}\n","import _ from 'lodash';\nimport { CDNInstanceAliasList, CDNInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDNDatasource extends BaseDatasource {\n  Namespace = 'QCE/CDN';\n  InstanceAliasList = CDNInstanceAliasList;\n  InvalidDimensions = CDNInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'Domain',\n  };\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import { CDNPROVINCEInstanceAliasList, CDNPROVINCEInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CDNPROVINCEInstanceAliasList;\n  InvalidDimensions = CDNPROVINCEInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  extrasAlias = ['isp', 'district'];\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n  async getConsumerList(params: any) {\n    const { region, field } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'cdn');\n\n    // \n    const rs = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Name: field,\n        },\n      },\n      serviceInfo.service,\n      { action: 'DescribeMapInfo' }\n    );\n    return (rs.MapInfoList || []).map((o) => {\n      return {\n        text: o.Name,\n        value: o.Name,\n      };\n    });\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    if (action === 'DescribeMapInfo') {\n      const { name: field } = query;\n      const rs = await this.getConsumerList({ region, field });\n      return rs;\n    }\n    return [];\n  }\n}\n","import {\n  CEIPSUMMARYInstanceAliasList,\n  CEIPInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CEIPSUMMARYInstanceAliasList;\n  InvalidDimensions = CEIPInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeAddresses',\n    responseField: 'AddressSet',\n    interceptor: {\n      request: (params) => {\n        const { Filters } = params;\n        if (!Filters) {\n          params.Filters = [];\n        }\n        params.Filters.push({\n          Name: 'address-type',\n          Values: ['AnycastEIP'],\n        });\n        return params;\n      }, //  \n      // response: (data: unknown[]) =>[\n      //   {\n      //     AddressId: 'AddressId',\n      //     AddressIp: '111.22.3.4'\n      //   },\n      // ],\n    },\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  // async getInstances(region, params = {}) {\n  //   const rawSet = await super.getInstances(region, params);\n  //   return rawSet.filter((item) => item.AddressType === 'AnycastEIP');\n  // }\n\n  // async getVariableInstances(region, query = {}) {\n  //   const rawSet = await super.getVariableInstances(region, query);\n  //   return rawSet.filter((item) => item.AddressType === 'AnycastEIP');\n  // }\n}\n","import { CESInstanceAliasList, CESInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CESInstanceAliasList;\n  InvalidDimensions = CESInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'es',\n    action: 'DescribeInstances',\n    responseField: 'InstanceList',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\nimport { CFSInstanceAliasList, CFSInvalidDemensions, regionSupported } from './query_def';\nimport { t } from '../../../locale';\nexport default class CFSDatasource extends BaseDatasource {\n  InstanceKey: string;\n  Namespace: string;\n  InstanceAliasList: string[];\n  InvalidDimensions: Record<string, string>;\n  templateQueryIdMap = {\n    instance: 'FileSystemId',\n  };\n  extrasAlias = ['version'];\n  InstanceReqConfig: { service?: string | undefined; action: string; responseField: string };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n\n    this.Namespace = 'QCE/CFS';\n    this.InstanceAliasList = CFSInstanceAliasList;\n    this.InvalidDimensions = CFSInvalidDemensions;\n    this.InstanceReqConfig = {\n      service: 'cfs',\n      action: 'DescribeCfsFileSystems',\n      responseField: 'FileSystems',\n    };\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n}\n","import _, { flattenDeep } from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  CKAFKAInstanceAliasList,\n  CKAFKATopicAliasList,\n  CKAFKAInvalidDemensions,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\n\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class CKFKADatasource extends BaseDatasource {\n  Namespace = 'QCE/CKAFKA';\n  InstanceAliasList = CKAFKAInstanceAliasList;\n  TopicAliasList = CKAFKATopicAliasList;\n  InvalidDimensions = CKAFKAInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'ckafka',\n    action: 'DescribeInstances',\n    responseField: 'InstanceList',\n  };\n  extraMetricDims = ['topicId'];\n  // extrasAlias = ['topicId', 'consumerGroup', 'partition'];\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  consumerGroupCache = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getConsumerGroups(region, params) {\n    const serviceInfo = GetServiceAPIInfo(region, 'ckafka');\n    let { InstanceId, groupname = '', topicid = '' } = params;\n    groupname = this.getVariable(groupname); // \n    topicid = this.getVariable(topicid); // \n    try {\n      groupname = JSON.parse(groupname)[templateQueryIdMap.groupName];\n      topicid = JSON.parse(topicid)[templateQueryIdMap.topicId];\n    } catch (e) {}\n    let consumerGoup = this.consumerGroupCache[InstanceId];\n    if (!consumerGoup) {\n      // \n      consumerGoup = await fetchAllFactory(\n        (data) => {\n          return this.doRequest(\n            {\n              url: this.url + serviceInfo.path,\n              data,\n            },\n            serviceInfo.service,\n            { region, action: 'DescribeConsumerGroup' }\n          );\n        },\n        _.pick(params, 'InstanceId'),\n        ['GroupListForMonitor', 'TopicListForMonitor', 'PartitionListForMonitor', 'GroupList']\n      );\n      // topickDescribeTopic\n      const topicList = await fetchAllFactory(\n        (data) => {\n          return this.doRequest(\n            {\n              url: this.url + serviceInfo.path,\n              data,\n            },\n            serviceInfo.service,\n            { region, action: 'DescribeTopic' }\n          );\n        },\n        _.pick(params, 'InstanceId'),\n        ['TopicList']\n      );\n      consumerGoup[1] = flattenDeep(topicList);\n      console.log({ consumerGoup, topicList });\n      this.consumerGroupCache[InstanceId] = consumerGoup;\n    }\n\n    let [GroupList, TopicList, PartitionList, GroupDetailList] = consumerGoup;\n    // \n    TopicList = _.uniqBy(TopicList, (item) => (item as any).TopicId);\n    GroupList = _.uniqBy(GroupList, (item) => (item as any).GroupName);\n    PartitionList = _.uniqBy(PartitionList, (item) => (item as any).PartitionId);\n    GroupDetailList = _.uniqBy(GroupDetailList, (item) => (item as any).ConsumerGroupName);\n    // consumergroupname\n    const SubscribedInfos = GroupDetailList.find((d) => d.ConsumerGroupName === groupname)?.SubscribedInfo || [];\n    // PartitonList\n    const partitions =\n      SubscribedInfos.find((sub) => sub.TopicId === topicid)?.Partition?.map((p) => ({\n        [templateQueryIdMap.partition]: p,\n      })) || [];\n    return {\n      GroupList,\n      TopicList:\n        SubscribedInfos.length > 0\n          ? SubscribedInfos.map(({ TopicId, TopicName }) => ({ TopicId, TopicName }))\n          : TopicList,\n      PartitionList: partitions.length > 0 ? partitions : PartitionList,\n    };\n  }\n  formatTopicVarDisplay(topic: Record<string, any>, displayTpl: string | undefined, topicAlias: string) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !this.TopicAliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(topic, b);\n      });\n    }\n    return this.getAliasValue(topic, topicAlias);\n  }\n  // \n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    let { topicalias, groupname, topicid } = query;\n    const result = await this.getConsumerGroups(region, {\n      InstanceId: instance.InstanceId,\n      groupname,\n      topicid,\n    });\n    let { display } = query;\n    const { TopicList, GroupList, PartitionList } = result;\n    topicalias = this.TopicAliasList.includes(topicalias) ? topicalias : this.templateQueryIdMap.topicId;\n\n    const rs = {\n      GroupList: GroupList.map((group) => {\n        group._InstanceAliasValue = group.GroupName;\n        return {\n          text: group.GroupName,\n          value: group[templateQueryIdMap.groupName],\n        };\n      }),\n      TopicList: TopicList.map((topic) => {\n        const topicAlias = this.formatTopicVarDisplay(topic, display, topicalias);\n        topic._InstanceAliasValue = topicAlias || topic[templateQueryIdMap.topicId];\n        return {\n          text: topicAlias || topic[templateQueryIdMap.topicId],\n          value: topic[templateQueryIdMap.topicId], // JSON.stringify()\n          TopicName: topic.TopicName,\n        };\n      }),\n      PartitionList: PartitionList.map((par) => {\n        par._InstanceAliasValue = par[templateQueryIdMap.partition];\n        return {\n          text: par[templateQueryIdMap.partition],\n          value: par[templateQueryIdMap.partition],\n        };\n      }),\n    };\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.TopicList, TopicList);\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.GroupList, GroupList);\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.PartitionList, PartitionList);\n    // console.log({ res1, res2, res3 });\n    // console.log({rs});\n    // action\n    switch (action) {\n      case 'DescribeTopicList':\n        return rs.TopicList;\n      case 'DescribeGroup':\n        return rs.GroupList;\n      case 'DescribePartion':\n        return rs.PartitionList;\n      default:\n        return [];\n    }\n  }\n\n  // async getOtherAlias(datapoints) {\n  //   let dimension;\n  //   for(let j = 0; j < datapoints.Dimensions.length; j++){\n  //     if(datapoints.Dimensions[j] !== 'InstanceName'){\n  //       dimension.push(datapoints.Dimensions[j])\n  //     }\n  //   }\n  //   console.log(dimension);\n\n  //   return dimension\n  // }\n}\n","import {\n  InstanceAliasList,\n  LOADBALANCEListenerAliasList,\n  LOADBALANCEServerAliasList,\n  LOADBALANCEVALIDDIMENSIONS,\n  templateQueryIdMap,\n  keyInStorage,\n  CANDIATEDIMENSIONS,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class DCDatasource extends BaseDatasource {\n  // Namespace = namespace;\n  InstanceAliasList = InstanceAliasList;\n  ListenerAliasList = LOADBALANCEListenerAliasList;\n  ServerAliasList = LOADBALANCEServerAliasList;\n  CandiateDimensions = CANDIATEDIMENSIONS;\n  // InvalidDimensions = LOADBALANCEVALIDDIMENSIONS;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  // InstanceReqConfig = {\n  //   service: 'clb',\n  //   action: 'DescribeLoadBalancers',\n  //   responseField: 'LoadBalancerSet',\n  // };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getInvalidDimensions(selfIns: any, tagret: any) {\n    if (selfIns.service === 'lbPrivate' || (selfIns.service === 'lbPublic' && tagret.servers))\n      return { ...LOADBALANCEVALIDDIMENSIONS, vpcId: 'NumericalVpcId' };\n    return LOADBALANCEVALIDDIMENSIONS;\n  }\n  getInstanceReqConfig(selfIns: any) {\n    const res: any = {\n      service: 'clb',\n      action: 'DescribeLoadBalancers',\n      responseField: 'LoadBalancerSet',\n    };\n    if (selfIns.service === 'lbPrivate' || selfIns.service === 'loadBalance') {\n      res.interceptor = {\n        request: (param) => ({ ...param, LoadBalancerType: 'INTERNAL' }),\n      };\n    }\n    if (selfIns.service === 'lbPublic') {\n      res.interceptor = {\n        request: (param) => ({ ...param, LoadBalancerType: 'OPEN' }),\n      };\n    }\n    return res;\n  }\n  async getListenerList(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'clb');\n\n    // \n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeListeners' }\n        );\n      },\n      {\n        LoadBalancerId: instanceId,\n      },\n      'Listeners'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  formatVariableDisplay(data: Record<string, any>, displayTpl: string | undefined, alias: string, aliasList: string[]) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !aliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(data, b);\n      });\n    }\n    return this.getAliasValue(data, alias);\n  }\n  async getServerList(params: any) {\n    const { region, instanceId, listenerId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'clb');\n\n    const res = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { LoadBalancerId: instanceId, ListenerIds: [listenerId] },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeTargets' }\n    );\n    const { Listeners } = res;\n    const serversList = _.reduce(\n      Listeners,\n      (prev, item) => {\n        const { Rules, Targets } = item;\n        if (!_.isEmpty(Rules)) {\n          return _.concat(prev, _.flatten(_.map(Rules, (elem) => (_.isEmpty(elem.Targets) ? [] : elem.Targets))));\n        }\n        if (!_.isEmpty(Targets)) {\n          return _.concat(prev, Targets);\n        }\n        return prev;\n      },\n      []\n    );\n    return serversList;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const { display } = query;\n    if (action === 'DescribeListeners') {\n      const rs = await this.getListenerList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      let { listeneralias } = query;\n      listeneralias = this.ListenerAliasList.includes(listeneralias) ? listeneralias : this.templateQueryIdMap.listener;\n      const result = rs.flatMap((o) => {\n        const listenAlias = this.formatVariableDisplay(o, display, listeneralias, this.ListenerAliasList);\n        const lisId = o[this.templateQueryIdMap.listener];\n        o._InstanceAliasValue = listenAlias || lisId;\n        // if (!o[listeneralias]) return [];\n        return {\n          text: listenAlias || lisId,\n          value: lisId,\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.listener, rs);\n      return result;\n    }\n    if (action === 'DescribeServer' || action === 'DescribeServerPort') {\n      const { listenerid, serverprivateip, serveralias } = query;\n      const serverPrivateIp = this.getVariable(serverprivateip);\n      const serversList = await this.getServerList({\n        region,\n        instanceId: instance[this.templateQueryIdMap.instance],\n        listenerId: this.getVariable(listenerid),\n      });\n      const serverAlias = this.ServerAliasList.includes(serveralias) ? serveralias : this.templateQueryIdMap.servers;\n      const result = _.chain(serversList)\n        .filter((item) => {\n          if (action === 'DescribeServer') {\n            return true;\n          }\n          return serverPrivateIp === _.get(item, 'PrivateIpAddresses.0');\n        })\n        .map((item) => {\n          const alias = this.formatVariableDisplay(item, display, serverAlias, this.ServerAliasList);\n          const id = item[this.templateQueryIdMap.servers][0];\n          item._InstanceAliasValue = alias || id;\n          return action === 'DescribeServer'\n            ? {\n                text: alias || id,\n                value: id,\n              }\n            : {\n                text: `${_.get(item, 'Port')}`,\n                value: _.get(item, 'Port'),\n              };\n        })\n        .value();\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.servers, serversList);\n      return action === 'DescribeServer' ? result : _.uniqBy(result, 'text');\n    }\n    return [];\n  }\n}\n","import {\n  CLSInstanceAliasList,\n  CLSInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CLSInstanceAliasList;\n  InvalidDimensions = CLSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'cls',\n    action: 'DescribeTopics',\n    responseField: 'Topics',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  // async getInstances(region, params = {}) {\n  //   const superRes = await super.getInstances(region, params);\n  //   console.log({ superRes });\n  // }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n}\n","import { BaseDatasource } from '../_base/datasource';\nimport { InvalidDemensions, InstanceAliasList, templateQueryIdMap } from './query_def';\n\nexport default class CmqDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'cmq',\n    action: 'DescribeQueueDetail',\n    responseField: 'QueueSet',\n  };\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawMetric = await super.getMetrics(region);\n    return rawMetric.map((metric) => {\n      let dims = metric.Dimensions[0].Dimensions;\n      dims = Array.from(new Set([...dims, 'queueId', 'queueName']));\n      metric.Dimensions[0].Dimensions = dims;\n      return metric;\n    });\n  }\n}\n","import { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  InvalidDemensions,\n  InstanceAliasList,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class CmqTopicDatasource extends BaseDatasource {\n  Namespace = 'QCE/CMQTOPIC';\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'cmq',\n    action: 'DescribeTopicDetail',\n    responseField: 'TopicSet',\n  };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  extraMetricDims = ['subscriptionId']; // \n\n  async fetchAllSubscription(region: string, params: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'cmq');\n    // console.log(serviceInfo, 'serviceinfo');\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeSubscriptionDetail' }\n        );\n      },\n      params,\n      'SubscriptionSet'\n    );\n\n    return rs[0];\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    let result;\n    switch (action) {\n      case 'DescribeSubscriptionDetail':\n        result = await this.fetchAllSubscription(region, { TopicName: instance.TopicName });\n        // eslint-disable-next-line no-case-declarations\n        const rs = result.map((item) => {\n          item._InstanceAliasValue = item.SubscriptionId;\n          return { text: item.SubscriptionId, value: item[templateQueryIdMap.subscription] };\n        });\n        await instanceStorage.setExtraStorage(this.service, this.keyInStorage.subscriptionId, result);\n        return rs;\n      default:\n        return [];\n    }\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawMetric = await super.getMetrics(region);\n    return rawMetric.map((metric) => {\n      let dims = metric.Dimensions[0].Dimensions;\n      dims.push('topicId');\n      if (['NumOfNotify', 'NumOfSuccNotify'].includes(metric.MetricName)) {\n        dims.push('subscriptionId');\n      }\n\n      dims = Array.from(new Set(dims));\n      metric.Dimensions[0].Dimensions = dims;\n      return metric;\n    });\n  }\n}\n","import { BaseDatasource } from '../_base/datasource';\n\ninterface BucketListResult {\n  Owner: { ID: 'string'; DisplayName: 'string' };\n  Buckets: { Name: string; Region: string }[];\n}\n\nexport default class CosDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = {};\n  InstanceAliasList: string[] = ['BucketName'];\n  templateQueryIdMap = {\n    instance: 'BucketName',\n  };\n  InstanceReqConfig = {} as any; // \n  cosURL: string;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n    this.cosURL = `/api/datasources/${this.instanceSettings.id}/resources/tc_cos_list`;\n  }\n  async getInstances(region: string) {\n    return this.backendSrv\n      .datasourceRequest({\n        url: this.cosURL,\n        method: 'GET',\n        params: { region },\n        headers: { 'Content-Type': 'application/json' },\n      })\n      .then((res) => {\n        let { data }: { data: BucketListResult } = res;\n        data = data || ({} as any);\n        let { Buckets } = data;\n        Buckets = Buckets || [];\n\n        // name contains appidsee detail https://cloud.tencent.com/document/product/436/8291\n        return Buckets.map((item) => ({\n          ...item,\n          BucketName: item.Name,\n          bucket: item.Name,\n          appid: item.Name.split('-').slice(-1)[0],\n        }));\n      });\n  }\n\n  async getVariableInstances(region) {\n    return this.getInstances(region);\n  }\n}\n","import {\n  CPMInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CPMInstanceAliasList;\n  InvalidDimensions = CPMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'bm',\n    action: 'DescribeDevices',\n    responseField: 'DeviceInfoSet',\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n\n  getFilterDropdown({ field, region }) {\n    if (field === 'DeviceClassCode') {\n      const serviceInfo = GetServiceAPIInfo(region, 'bm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        'bm',\n        { region, action: 'DescribeDeviceClass' }\n      ).then((response) => {\n        return _.map(response.DeviceClassSet || [], (item) => {\n          return { text: item.DeviceClassCode, value: item.DeviceClassCode };\n        });\n      });\n    }\n    return [];\n  }\n}\n","import _ from 'lodash';\nimport { CVMInstanceAliasList, isValidMetric, modifyDimensons } from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CVMDatasource extends BaseDatasource {\n  Namespace = 'QCE/CVM';\n  InstanceAliasList = CVMInstanceAliasList;\n  InvalidDimensions = {};\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'cvm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return modifyDimensons(item);\n        }\n        return null;\n      })\n    );\n  }\n\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'cvm' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'api');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { Product: 'cvm' },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n}\n","import {\n  CYNOSDBMYSQLInstanceAliasList,\n  CYNOSDBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n  checkKeys,\n} from './query_def';\nimport _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\n// import { t } from '../../../locale';\n\nexport default class CYNOSDBMYSQLDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CYNOSDBMYSQLInstanceAliasList;\n  InvalidDimensions = CYNOSDBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  checkKeys = checkKeys;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'cynosdb',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n  // getRegions() {\n  //   return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  // }\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'cynosdbmysql' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n  // InstanceId\n  getDefaultInsObj(ins: string) {\n    return {\n      [templateQueryIdMap.instance]: ins,\n    };\n  }\n}\n","import { DCInstanceAliasList, DCInvalidDemensions, namespace, modifyDimensons } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCInstanceAliasList;\n  InvalidDimensions = DCInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'DirectConnectId',\n  };\n  InstanceReqConfig = {\n    service: 'dc',\n    action: 'DescribeDirectConnects',\n    responseField: 'DirectConnectSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import {\n  DCDBInstanceAliasList,\n  DCDBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCDBInstanceAliasList;\n  InvalidDimensions = DCDBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'dcdb',\n    action: 'DescribeDCDBInstances',\n    responseField: 'Instances',\n  };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  extraActionMap = {\n    DescribeDCDBShards: {\n      service: 'dcdb',\n      action: 'DescribeDCDBShards',\n      responseField: 'Shards',\n      pickKey: 'ShardInstanceId',\n    },\n    DescribeDCDBInstanceNodeInfo: {\n      service: 'dcdb',\n      action: 'DescribeDCDBInstanceNodeInfo',\n      responseField: 'NodesInfo',\n      pickKey: 'NodeId',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getRegion, region\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/dcdb',\n      },\n      'dcdb',\n      { action: 'DescribeDCDBSaleInfo', region: 'ap-guangzhou' }\n    ).then((response) => {\n      return _.map(response.RegionList || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n          RegionState: item.RegionState,\n        };\n      });\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      InstanceId: instance[this.templateQueryIdMap.instance],\n      Limit: 100,\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import { DCGInstanceAliasList, DCGInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCGInstanceAliasList;\n  InvalidDimensions = DCGInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeDirectConnectGateways',\n    responseField: 'DirectConnectGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { DCXInstanceAliasList, DCXInvalidDemensions, namespace, modifyDimensons } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCXDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCXInstanceAliasList;\n  InvalidDimensions = DCXInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'DirectConnectTunnelId',\n  };\n  InstanceReqConfig = {\n    service: 'dc',\n    action: 'DescribeDirectConnectTunnels',\n    responseField: 'DirectConnectTunnelSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import { BaseDatasource } from '../_base/datasource';\nimport {\n  ECDNInstanceAliasList,\n  ECDNInvalidDemensions,\n  modifyDimensons,\n  namespace,\n  templateQueryIdMap,\n} from './query_def';\n\nexport default class ECDNDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECDNInstanceAliasList;\n  InvalidDimensions = ECDNInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'ecdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import {\n  ECMInstanceAliasList,\n  ECMInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMInstanceAliasList;\n  InvalidDimensions = ECMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import {\n  ECMBLOCKSTORAGEInstanceAliasList,\n  ECMBLOCKSTORAGEInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMBLOCKSTORAGEInstanceAliasList;\n  InvalidDimensions = ECMBLOCKSTORAGEInvalidDemensions;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  templateQueryIdMap = templateQueryIdMap;\n  keyInStorage = keyInStorage;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getDiskList(params: any) {\n    const { payload } = params;\n    const { InstanceId } = payload;\n    const instanceCache = await instanceStorage.getInstance(this.service);\n    const instanceObj: any =\n      _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === InstanceId)) ?? {};\n    const { DataDisks: dataDisks } = instanceObj;\n    return dataDisks;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      InstanceId: instance,\n      Limit: 100,\n    };\n    const rs = await this.getDiskList({ region, action, payload });\n    const result = rs.map((o) => {\n      o._InstanceAliasValue = o[this.templateQueryIdMap.diskId];\n      return {\n        text: o[this.templateQueryIdMap.diskId],\n        value: o[this.templateQueryIdMap.diskId],\n      };\n    });\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.diskId, rs);\n    return result;\n  }\n}\n","import { ECMLBInstanceAliasList, ECMLBInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMLBInstanceAliasList;\n  InvalidDimensions = ECMLBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import {\n  GSEInstanceAliasList,\n  GSEInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = GSEInstanceAliasList;\n  InvalidDimensions = GSEInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'gse',\n    action: 'DescribeInstances',\n    responseField: 'Instances',\n  };\n\n  keyInStorage = keyInStorage;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n  async getQueueNameList(params: any) {\n    const { region } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // \n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeGameServerSessionQueues' }\n        );\n      },\n      {},\n      'GameServerSessionQueues'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  async getFleetList(params: any) {\n    const { region } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // \n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'ListFleets' }\n        );\n      },\n      {},\n      'FleetIds'\n    );\n    const [rs] = res;\n    return rs.map((r) => ({ [this.templateQueryIdMap.FleetId]: r }));\n  }\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'DescribeGameServerSessionQueues') {\n      const rs = await this.getQueueNameList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.Name];\n        return {\n          text: o[this.templateQueryIdMap.Name],\n          value: o[this.templateQueryIdMap.Name],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.queue, rs);\n      return result;\n    }\n    if (action === 'ListFleets') {\n      const rs = await this.getFleetList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.FleetId];\n        return {\n          text: o[this.templateQueryIdMap.FleetId],\n          value: o[this.templateQueryIdMap.FleetId],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.fleet, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\nimport { LBInstanceAliasList, LBInvalidDemensions } from './query_def';\n\nexport default class SCFDatasource extends BaseDatasource {\n  Namespace = 'QCE/LB';\n  InstanceAliasList = LBInstanceAliasList;\n  InvalidDimensions = LBInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'AddressId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeAddresses',\n    responseField: 'AddressSet',\n    interceptor: {\n      request: (params) => {\n        const { Filters } = params;\n        if (!Filters) {\n          params.Filters = [];\n        }\n        params.Filters.push({\n          Name: 'address-type',\n          Values: ['EIP'],\n        });\n        return params;\n      }, //  \n    },\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) =>\n      /* hack eip */\n      item.Dimensions?.[0]?.Dimensions?.includes('eip')\n    );\n  }\n\n  // async getInstances(region, params = {}) {\n  //   const rawSet = await super.getInstances(region, params);\n  //   /* hack eip */\n  //   return rawSet.filter((item) => item.AddressType === 'EIP');\n  // }\n\n  // async getVariableInstances(region, query = {}) {\n  //   const rawSet = await super.getVariableInstances(region, query);\n  //   return rawSet.filter((item) => item.AddressType === 'EIP');\n  // }\n}\n","import _ from 'lodash';\nimport {\n  LIGHTHOUSEInstanceAliasList,\n  templateQueryIdMap,\n  LighthouseInvalidDemensions,\n  modifyDimensons,\n} from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class LighthouseDatasource extends BaseDatasource {\n  Namespace = 'QCE/LIGHTHOUSE';\n  InstanceAliasList = LIGHTHOUSEInstanceAliasList;\n  InvalidDimensions = LighthouseInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'lighthouse',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'lighthouse' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'api');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { Product: 'lighthouse' },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n}\n","import _ from 'lodash';\nimport {\n  MONGODBInstanceAliasList,\n  MONGODBInvalidDemensions,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class MONGODBDatasource extends BaseDatasource {\n  Namespace = 'QCE/CMONGO';\n  InstanceAliasList = MONGODBInstanceAliasList;\n  ReplicaAliasList = ['ReplicaSetId', 'ReplicaSetName'];\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n\n  InstanceReqConfig = {\n    service: 'mongodb',\n    action: 'DescribeDBInstances',\n    responseField: 'InstanceDetails',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getInvalidDimensions(selfIns: any, target: any) {\n    if (target.node && target.node !== '') {\n      return { target: 'Node' };\n    }\n    if (target.replica && target.replica !== '') {\n      return { target: 'Replica' };\n    }\n    return MONGODBInvalidDemensions;\n  }\n  formatVariableDisplay(data: Record<string, any>, displayTpl: string | undefined, alias: string, aliasList: string[]) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !aliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(data, b);\n      });\n    }\n    return this.getAliasValue(data, alias);\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const { display } = query;\n    if (action === 'DescribeReplicas') {\n      const [res] = await this.getInstances(region, { InstanceIds: [instance[this.templateQueryIdMap.instance]] });\n      let { replicaalias } = query;\n      replicaalias = this.ReplicaAliasList.includes(replicaalias) ? replicaalias : this.templateQueryIdMap.replica;\n      const result = _.map(_.get(res, 'ReplicaSets', []), (item) => {\n        const replicaAlias = this.formatVariableDisplay(item, display, replicaalias, this.ReplicaAliasList);\n        item._InstanceAliasValue = replicaAlias || item[this.templateQueryIdMap.replica];\n        return { text: item.ReplicaSetId, value: item.ReplicaSetId };\n      });\n      await instanceStorage.setExtraStorage(\n        this.service,\n        this.queryMonitorExtraConfg.Replica.dim_KeyInStorage,\n        _.get(res, 'ReplicaSets', [])\n      );\n      return result;\n    }\n    if (action === 'DescribeReplicaNodes') {\n      const [res] = await this.getInstances(region, { InstanceIds: [instance[this.templateQueryIdMap.instance]] });\n      const { replicasetid } = query;\n      const targetReplica = _.find(_.get(res, 'ReplicaSets', []), { ReplicaSetId: this.getVariable(replicasetid) });\n      let result = _.times(targetReplica.SecondaryNum, (index) => {\n        const nodeId = `${targetReplica.ReplicaSetId}-node-slave${index}`;\n        return { text: nodeId, value: nodeId };\n      });\n      if (targetReplica) {\n        result = [\n          { text: `${targetReplica.ReplicaSetId}-node-primary`, value: `${targetReplica.ReplicaSetId}-node-primary` },\n          ...result,\n        ];\n      }\n      await instanceStorage.setExtraStorage(\n        this.service,\n        this.queryMonitorExtraConfg.Node.dim_KeyInStorage,\n        result.map((item) => ({ NodeId: item.value, _InstanceAliasValue: item.value }))\n      );\n      return result;\n    }\n\n    return [];\n  }\n}\n","import { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  InvalidDemensions,\n  InstanceAliasList,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class MrHdfsDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  extrasAlias = [];\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  InstanceReqConfig = {\n    service: 'emr',\n    action: 'DescribeInstances',\n    responseField: 'ClusterList',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        DisplayStrategy: params.DisplayStrategy || 'monitorManage',\n        ProjectId: params.ProjectId || -1,\n      }), //  \n      response: (data: any[]) => data.map(({ ClusterId, ClusterName }) => ({ ClusterId, ClusterName })),\n    },\n  };\n\n  async fetchAllNodes(region: string, params: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'emr');\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeClusterNodes' }\n        );\n      },\n      { ...params, isOffsetPage: true },\n      'NodeList'\n    );\n\n    // return rs[0].map((item) => ({ text: item.Ip, value: item.Ip }));\n    return rs[0];\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    let result;\n    switch (action) {\n      case 'DescribeClusterNodes': {\n        const resultT = await this.fetchAllNodes(region, { InstanceId: instance.ClusterId, NodeFlag: 'all' });\n        result = resultT.map((item) => {\n          item._InstanceAliasValue = item[templateQueryIdMap.node];\n          return { text: item[templateQueryIdMap.node], value: item[templateQueryIdMap.node] };\n        });\n        await instanceStorage.setExtraStorage(this.service, this.keyInStorage.node, resultT);\n\n        return result;\n      }\n      default:\n        return [];\n    }\n  }\n}\n","import _ from 'lodash';\nimport { NATGATEWAYInstanceAliasList, NATInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class NATGATEWAYDatasource extends BaseDatasource {\n  Namespace = 'QCE/NAT_GATEWAY';\n  InstanceAliasList = NATGATEWAYInstanceAliasList;\n  InvalidDimensions = NATInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'NatGatewayId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeNatGateways',\n    responseField: 'NatGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import _ from 'lodash';\nimport { OVCDNInstanceAliasList, OVCDNInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class OVCDNDatasource extends BaseDatasource {\n  Namespace = 'QCE/OV_CDN';\n  InstanceAliasList = OVCDNInstanceAliasList;\n  InvalidDimensions = OVCDNInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'Domain',\n  };\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import { PCXInstanceAliasList, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo, GetRequestParamsV2, SliceLength } from '../../common/constants';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = PCXInstanceAliasList;\n  InvalidDimensions = {};\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'xx',\n    action: 'xx',\n    responseField: 'xx',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getInstances(region = 'ap-guangzhou', params = {}) {\n    params = { offset: 0, limit: 50, ...params };\n    const serviceInfo = GetServiceAPIInfo(region, 'pcx');\n    return this.doRequestV2(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcPeeringConnections' }\n    ).then((response) => {\n      return response.data || [];\n    });\n  }\n\n  /**\n   *  PCX \n   * @param region \n   */\n  getVariableInstances(region, query) {\n    let result: any[] = [];\n    const params = { Offset: 0, Limit: 50, ...query };\n    const serviceInfo = GetServiceAPIInfo(region, 'pcx');\n    return this.doRequestV2(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcPeeringConnections' }\n    ).then((response) => {\n      result = response.data || [];\n      const total = response.totalCount || 0;\n      if (result.length >= total) {\n        return result;\n      } else {\n        const param = SliceLength(total, 50);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getInstances(region, item));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return result;\n          })\n          .catch((error) => {\n            return result;\n          });\n      }\n    });\n  }\n\n  getVpcId(region, params: any = {}) {\n    params = { Offset: 0, Limit: 20, ...params };\n    // TODO \n    params.Offset = String(params.Offset);\n    params.Limit = String(params.Limit);\n    const serviceInfo = GetServiceAPIInfo(region, 'vpc');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcs' }\n    ).then((response) => {\n      return _.map(response.VpcSet || [], (item) => ({ text: item.VpcId, value: item.VpcId }));\n    });\n  }\n\n  getVpcIds(region) {\n    let result: any[] = [];\n    const params: any = { Offset: 0, Limit: 100 };\n    // TODO \n    params.Offset = String(params.Offset);\n    params.Limit = String(params.Limit);\n    const serviceInfo = GetServiceAPIInfo(region, 'vpc');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcs' }\n    ).then((response) => {\n      result = _.map(response.VpcSet || [], (item) => ({ text: item.VpcId, value: item.VpcId }));\n      const total = response.TotalCount || 0;\n      if (result.length >= total) {\n        return result;\n      } else {\n        const param = SliceLength(total, 100);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getVpcId(region, item));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return result;\n          })\n          .catch((error) => {\n            return result;\n          });\n      }\n    });\n  }\n\n  /**\n   *  API 2.0 \n   * @param options\n   * @param service\n   * @param signObj\n   */\n  async doRequestV2(options, service, signObj: any = {}) {\n    options = await GetRequestParamsV2(\n      options,\n      service,\n      signObj,\n      this.secretId,\n      this.instanceSettings.id,\n      this.backendSrv\n    );\n    return this.backendSrv\n      .datasourceRequest(options)\n      .then((response) => {\n        return _.get(response, 'data', {});\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n","import _ from 'lodash';\nimport {\n  POSTGRESInstanceAliasList,\n  PostgreInvalidDemensions,\n  namespace,\n  modifyDimensons,\n  templateQueryIdMap,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDBDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = POSTGRESInstanceAliasList;\n  InvalidDimensions = PostgreInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'postgres',\n    action: 'DescribeDBInstances',\n    responseField: 'DBInstanceSet',\n  };\n\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { get } from 'lodash';\nimport { QAAPInstanceAliasList, QAAPInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class QAAPDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = QAAPInstanceAliasList;\n  InvalidDimensions = QAAPInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'gaap',\n    action: 'DescribeProxies',\n    responseField: 'ProxySet',\n    interceptor: {\n      // response: (data: unknown[]) =>[\n      //   {\n      //     \"NetDetectId\": \"netd-12345678\",\n      //   },\n      // ],\n    },\n  };\n  // MetricReqConfig = {\n  //   resultFilter: modifyDimensons,\n  // };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter(\n      (item) =>\n        get(item, 'Dimensions.length') === 1 &&\n        get(item, 'Dimensions[0].Dimensions.length') === 1 &&\n        get(item, 'Dimensions[0].Dimensions[0]') === 'channelId'\n    );\n  }\n}\n","import _ from 'lodash';\nimport { REDISInstanceAliasList, RedisInvalidDemensions, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class REDISDatasource extends BaseDatasource {\n  Namespace = 'QCE/REDIS';\n  InstanceAliasList = REDISInstanceAliasList;\n  InvalidDimensions = RedisInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'redis',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n    interceptor: {\n      request: (params) => ({ ...params, MonitorVersion: '1m' }),\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) => isValidMetric(item));\n  }\n}\n","import _ from 'lodash';\nimport {\n  REDISMEMInstanceAliasList,\n  namespace,\n  RedisMemInvalidDemensions,\n  templateQueryIdMap,\n  NodeType,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\n\nexport default class REDISDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = REDISMEMInstanceAliasList;\n  InvalidDimensions = RedisMemInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  extrasAlias = [RedisMemInvalidDemensions.pnodeid, RedisMemInvalidDemensions.rnodeid];\n  InstanceReqConfig = {\n    service: 'redis',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n    interceptor: {\n      request: (params) => ({ ...params, MonitorVersion: '5s' }),\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getInstanceNodeInfo(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'redis');\n\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeInstanceNodeInfo' }\n        );\n      },\n      {\n        InstanceId: instanceId,\n      },\n      NodeType\n    );\n\n    return res;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    if (action === 'DescribeInstanceNodeInfo') {\n      const rs = await this.getInstanceNodeInfo({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const { nodetype } = query;\n      const ndoeTypeIndex = NodeType.indexOf(nodetype);\n      return ndoeTypeIndex === -1\n        ? []\n        : _.map(rs[ndoeTypeIndex], (item) => ({ text: item.NodeId, value: item.NodeId }));\n    }\n    return [];\n  }\n}\n","import _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  SCFInstanceAliasList,\n  SCFInvalidDemensions,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  templateQueryIdMap,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class SCFDatasource extends BaseDatasource {\n  InstanceKey: string;\n  Namespace: string;\n  InstanceAliasList: string[];\n  InvalidDimensions: Record<string, string>;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  InstanceReqConfig: { service?: string | undefined; action: string; responseField: string };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n\n    this.Namespace = 'QCE/SCF_V2';\n    this.InstanceAliasList = SCFInstanceAliasList;\n    this.InvalidDimensions = SCFInvalidDemensions;\n    this.InstanceReqConfig = {\n      service: 'scf',\n      action: 'ListFunctions',\n      responseField: 'Functions',\n    };\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter(\n      (item) =>\n        /* hack functionName */\n        item.Dimensions?.[0]?.Dimensions?.includes('functionName') &&\n        item.Dimensions?.[0]?.Dimensions?.includes('namespace') &&\n        !item.MetricName.startsWith('Name')\n    );\n  }\n\n  getVersions(region, params) {\n    const serviceInfo = GetServiceAPIInfo(region, 'scf');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'ListVersionByFunction' }\n    ).then((response) => {\n      return response.Versions;\n    });\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'ListVersionByFunction') {\n      const rs = await this.getVersions(region, { FunctionName: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.version];\n        return {\n          text: o[this.templateQueryIdMap.version],\n          value: o[this.templateQueryIdMap.version],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.version, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  SQLSERVERInstanceAliasList,\n  SQLSERVERInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = SQLSERVERInstanceAliasList;\n  InvalidDimensions = SQLSERVERInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'sqlserver',\n    action: 'DescribeDBInstances',\n    responseField: 'DBInstances',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(rawSet.map((item) => modifyDimensons(item)));\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  getFilterDropdown({ field, region }) {\n    if (field === 'Zone') {\n      const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        serviceInfo.service,\n        { region, action: 'DescribeZones' }\n      ).then((response) => {\n        return _.filter(\n          _.map(response.ZoneSet || [], (item) => {\n            return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n          }),\n          (item) => item.ZoneState === 'AVAILABLE'\n        );\n      });\n    }\n    return [];\n  }\n}\n","import { TCAPLUSInstanceAliasList, TCAPLUSInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TCAPLUSInstanceAliasList;\n  InvalidDimensions = TCAPLUSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'tcaplusdb',\n    action: 'DescribeTables',\n    responseField: 'TableInfos',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/tcaplusdb',\n      },\n      'tcaplusdb',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      return _.map(response.RegionInfos || [], (item) => {\n        return {\n          text: t(item.RegionName),\n          value: item.RegionName,\n        };\n      });\n    });\n  }\n}\n","import {\n  TDMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeClusters',\n    responseField: 'ClusterSet',\n  };\n  extraActionMap = {\n    DescribeTopics: {\n      service: 'tdmq',\n      action: 'DescribeTopics',\n      responseField: 'TopicSets',\n      pickKey: 'TopicName',\n    },\n    DescribeEnvironments: {\n      service: 'tdmq',\n      action: 'DescribeEnvironments',\n      responseField: 'EnvironmentSet',\n      pickKey: 'EnvironmentId',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(rawSet.map((item) => modifyDimensons(item)));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    // console.log({ rs });\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      ClusterId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      if (action === 'DescribeTopics') {\n        payload.EnvironmentId = this.getVariable(query['environmentid']);\n      }\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  TDMQRABBITMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQRABBITMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeRabbitMQVipInstances',\n    responseField: 'Instances',\n  };\n  extraActionMap = {\n    DescribeRabbitMQNodeList: {\n      service: 'tdmq',\n      action: 'DescribeRabbitMQNodeList',\n      responseField: 'NodeList',\n      pickKey: 'node',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      InstanceId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  TDMQROCKETMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQROCKETMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeRocketMQClusters',\n    responseField: 'ClusterList',\n    interceptor: {\n      response: (result) =>\n        _.map(result, (item) => ({\n          ...item,\n          ClusterId: _.get(item, 'Info.ClusterId', ''),\n          ClusterName: _.get(item, 'Info.ClusterName', ''),\n        })),\n    },\n  };\n  extraActionMap = {\n    DescribeRocketMQNamespaces: {\n      service: 'tdmq',\n      action: 'DescribeRocketMQNamespaces',\n      responseField: 'Namespaces',\n      pickKey: 'namespace',\n    },\n    DescribeRocketMQGroups: {\n      service: 'tdmq',\n      action: 'DescribeRocketMQGroups',\n      responseField: 'Groups',\n      pickKey: 'group',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) => !item.Dimensions?.[0]?.Dimensions?.includes('rmqcluster'));\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // \n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      ClusterId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      if (action === 'DescribeRocketMQGroups') {\n        payload.NamespaceId = this.getVariable(query['clusternamespace']);\n      }\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import { map, flatten, reduce, isEmpty, filter, split, sortBy, findIndex, trim, isArray, isString } from 'lodash';\nimport { GetServiceAPIInfo, ReplaceVariable } from '../../common/constants';\nimport { getTimeShiftInMs } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\n\nconst variableToArray = (variable) => {\n  if (isEmpty(variable)) {\n    return [];\n  }\n  if (isArray(variable)) {\n    return variable;\n  }\n  if (isString(variable)) {\n    return split(variable, ',').map((item) => trim(item));\n  }\n  return [];\n};\n\nexport default class TKEDatasource extends BaseDatasource {\n  InstanceAliasList = ['ClusterId', 'ClusterName'];\n  templateQueryIdMap = {\n    instance: 'ClusterId',\n  };\n  InvalidDimensions = {\n    tke_cluster_instance_id: 'ClusterId',\n  };\n  InstanceReqConfig = {\n    service: 'tke',\n    action: 'DescribeClusters',\n    responseField: 'Clusters',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getMonitorData(params: any, region: any, instances: any, target: any, options: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const timeshift = getTimeShiftInMs(target.timeshift);\n    const conditions = reduce(\n      target.conditions,\n      (prev, item) => {\n        if (isEmpty(item.Key) || isEmpty(item.Operator) || isEmpty(item.Value)) {\n          return prev;\n        }\n        return [\n          ...filter(prev, (e) => e.Key !== item.Key),\n          {\n            Key: ReplaceVariable(this.templateSrv, options.scopedVars, item.Key, false),\n            Operator: ReplaceVariable(this.templateSrv, options.scopedVars, item.Operator, false),\n            Value: variableToArray(ReplaceVariable(this.templateSrv, options.scopedVars, item.Value, true)),\n          },\n        ];\n      },\n      [{ Key: 'tke_cluster_instance_id', Operator: '=', Value: instances.map((item) => item['ClusterId']) }]\n    );\n\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Period: params.Period,\n          MetricNames: [params.MetricName],\n          Module: 'monitor',\n          Namespace: 'QCE/TKE',\n          EndTime: params.EndTime,\n          StartTime: params.StartTime,\n          Conditions: conditions,\n          GroupBys: variableToArray(ReplaceVariable(this.templateSrv, options.scopedVars, target.groupBys, true)),\n        },\n      },\n      serviceInfo.service,\n      { action: 'DescribeStatisticData', region }\n    ).then((response) => {\n      return flatten(\n        map(response.Data, (data) => {\n          return map(data.Points, (point) => {\n            const dimensionSort = sortBy(point.Dimensions, ['Name']);\n            const dimensionString = [\n              ...dimensionSort.splice(findIndex(dimensionSort, { Name: 'tke_cluster_instance_id' }), 1),\n              ...dimensionSort,\n            ]\n              .map((dimension) => dimension.Value)\n              .join(' - ');\n            const timeshiftString = timeshift > 0 ? `_${target.timeshift}` : '';\n            return {\n              target: `${data.MetricName} - ${dimensionString}${timeshiftString}`,\n              datapoints: map(point.Values, (value) => [value.Value, value.Timestamp * 1000 + timeshift]),\n            };\n          });\n        })\n      );\n    });\n  }\n}\n","import _ from 'lodash';\nimport { TSFInvalidDemensions, TSFInstanceAliasList, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class TSFDatasource extends BaseDatasource {\n  Namespace = 'QCE/TSF';\n  InstanceAliasList = TSFInstanceAliasList;\n  InvalidDimensions = TSFInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'tsf',\n    action: 'DescribeApplications',\n    responseField: 'Content',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import {\n  VCLBInstanceAliasList,\n  VCLBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  clbNamespaceMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VCLBInstanceAliasList;\n  InvalidDimensions = VCLBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'clb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async getAllMetrics(region: string) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const { MetricSet: public_metrics } = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: clbNamespaceMap.public,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    );\n    const { MetricSet: private_metrics } = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: clbNamespaceMap.private,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    );\n    const res = Object.values(_.keyBy(_.concat(private_metrics, public_metrics), 'MetricName'));\n    return res.map((t) => modifyDimensons(t));\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await this.getAllMetrics(region);\n    return _.compact(rawSet);\n  }\n}\n","import { VBCInstanceAliasList, VBCInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VBCInstanceAliasList;\n  InvalidDimensions = VBCInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeCcns',\n    responseField: 'CcnSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getFilterDropdown({ field }) {\n    return super.getRegions();\n  }\n}\n","import {\n  VPCNETDETECTInstanceAliasList,\n  VPCNETInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPCNETDETECTInstanceAliasList;\n  InvalidDimensions = VPCNETInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeNetDetects',\n    responseField: 'NetDetectSet',\n    interceptor: {\n      // response: (data: unknown[]) =>[\n      //   {\n      //     \"NetDetectId\": \"netd-12345678\",\n      //   },\n      // ],\n    },\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { VPNGWInstanceAliasList, VPNGWInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPNGWInstanceAliasList;\n  InvalidDimensions = VPNGWInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeVpnGateways',\n    responseField: 'VpnGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getFilterDropdown({ field, region }) {\n    if (field === 'zone') {\n      const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        serviceInfo.service,\n        { region, action: 'DescribeZones' }\n      ).then((response) => {\n        return _.filter(\n          _.map(response.ZoneSet || [], (item) => {\n            return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n          }),\n          (item) => item.ZoneState === 'AVAILABLE'\n        );\n      });\n    }\n    return [];\n  }\n}\n","import { VPNXInstanceAliasList, VPNXInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPNXInstanceAliasList;\n  InvalidDimensions = VPNXInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // serviceplugin.jsonconstant.tsSERVICES_API_INFO\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeVpnConnections',\n    responseField: 'VpnConnectionSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import _ from 'lodash';\nimport {\n  WAFInstanceAliasList,\n  WAFInvalidDemensions,\n  templateQueryIdMap,\n  namespace,\n  regionSupported,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { t } from '../../../locale';\n\nexport default class CDNDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = WAFInstanceAliasList;\n  InvalidDimensions = WAFInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    // service: 'waf',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexport var config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = /*@__PURE__*/ new Error();\n            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map\n","import coreModule from 'grafana/app/core/core_module';\nimport { APIGATEWAYFilterFieldsDescriptor, templateQueryIdMap, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.APIGATEWAYFilterFieldsDescriptor = APIGATEWAYFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      // console.log({namespace, service});\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraDropdown = async (target) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const instanceId = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getEnvironmentNameList')({ region, instanceId });\n\n      const result = rs.map((o) => {\n        return {\n          text: o.EnvironmentName,\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in APIGATEWAYFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">EnvironmentName</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target.EnvironmentName\" allow-custom=\"true\" lookup-text=\"true\"  get-options=\"getExtraDropdown(target)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { BWPFilterFieldsDescriptor } from './query_def';\n\nexport class BWPQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.BWPFilterFieldsDescriptor = BWPFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      BandwidthPackageIds\n      <info-popover mode=\"right-normal\">\n        ID BandwidthPackageIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.BandwidthPackageIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n         Filters 10Filter.Values 5 BandwidthPackageIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in BWPFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function bwpQuery() {\n  return {\n    template: template,\n    controller: BWPQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('bwpQuery', bwpQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDBFieldsDescriptor } from './query_def';\n\nexport class CDBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDBFieldsDescriptor = CDBFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'ZoneIds':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cdb', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/236/15872\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CDBFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function cdbQuery() {\n  return {\n    template: template,\n    controller: CDBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cdbQuery', cdbQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDNFilterFieldsDescriptor } from './query_def';\n\nexport class CDNQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDNFilterFieldsDescriptor = CDNFilterFieldsDescriptor;\n    };\n\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/228/41118\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-repeat=\"field in CDNFilterFieldsDescriptor\">\n<label class=\"gf-form-label width-14\">\n  {{ field.key }}\n  <info-popover mode=\"right-normal\">\n    {{ field.cnDescriptor }}\n    <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n  </info-popover>\n</label>\n<multi-condition\n  ng-if=\"field.type === 'inputNumbermulti'\"\n  type=\"'inputNumber'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  maxNum=\"field.max\"\n  minNum=\"field.min\"\n  on-change=\"onChange()\"\n></multi-condition>\n<multi-condition\n  ng-if=\"field.type === 'inputmulti'\"\n  type=\"'input'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  on-change=\"onChange()\"\n></multi-condition>\n<custom-select-dropdown\n  ng-if=\"field.type === 'select'\"\n  value=\"target.queries.Filters[field.key]\"\n  options=\"field.list\"\n  multiple=\"true\"\n  on-change=\"onChange()\"\n></custom-select-dropdown>\n</div>\n\n</div>\n`;\n\nexport function cdnQuery() {\n  return {\n    template: template,\n    controller: CDNQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cdnQuery', cdnQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDNPROVINCEFilterFieldsDescriptor, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Isp',\n    field: 'isp',\n  },\n  {\n    label: 'Province',\n    field: 'district',\n  },\n];\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDNPROVINCEFilterFieldsDescriptor = CDNPROVINCEFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, field });\n      return rs;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Domains are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/228/41118\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in CDNPROVINCEFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in ExtraFields\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CFSQueryDescriptor } from './query_def';\n\nexport class SCFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CFSQueryDescriptor = CFSQueryDescriptor;\n    };\n\n    $scope.getVersions = async (target) => {\n      // console.log(2222);\n\n      // return [{ text: 1, value: 1 }];\n      // console.log(target, 'target');\n      const { instance, region } = target;\n      const fetcher = $scope.datasource.getServiceFn('scf', 'getVersions');\n      if (!instance || !region) return [];\n\n      return fetcher(region, { FunctionName: JSON.parse(instance).FunctionName }).then((res) => {\n        // console.log(res, 'res');\n\n        return res;\n      });\n    };\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n  FileSystems are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/582/38170\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CFSQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: SCFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\ncoreModule.directive('cfsQuery', scfQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CKAFKAQueryDescriptor, templateQueryIdMap } from './query_def';\nimport { isTargetEqual } from '../../common/utils';\n\nconst ExtraFields = [\n  {\n    label: 'ConsumerGroup',\n    field: 'consumerGroup',\n  },\n  {\n    label: 'TopicId',\n    field: 'topicId',\n  },\n  {\n    label: 'Partition',\n    field: 'partition',\n  },\n];\n\nexport class CKAFKAQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CKAFKAQueryDescriptor = CKAFKAQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n    $scope.onInstanceChange = (n, o) => {\n      if (isTargetEqual(n, o, 'LoadBalancerId')) return;\n      $scope.target.consumerGroup = '';\n      $scope.target.topicId = '';\n      $scope.target.topicName = '';\n      $scope.target.partition = '';\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('ckafka', 'getVariable')(instance);\n      if (Array.isArray(instance)) instance = instance[0];\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).InstanceId;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      const InstanceId = $scope.getInstanceId();\n      const fetcher = $scope.datasource.getServiceFn('ckafka', 'getConsumerGroups');\n      const region = $scope.datasource.getServiceFn('ckafka', 'getVariable')(target.region);\n      const res = await fetcher(region, { InstanceId, groupname: target.consumerGroup, topicid: target.topicId });\n\n      const { TopicList, GroupList, PartitionList } = res;\n      const data = {\n        GroupList: GroupList.map((group) => {\n          group._InstanceAliasValue = group.GroupName;\n          return {\n            text: group.GroupName,\n            value: JSON.stringify(group),\n          };\n        }),\n        TopicList: TopicList.map((topic) => {\n          topic._InstanceAliasValue = topic[templateQueryIdMap.topicId];\n          return {\n            text: topic[templateQueryIdMap.topicId],\n            value: JSON.stringify(topic), // JSON.stringify()\n          };\n        }),\n        PartitionList: PartitionList.map((par) => {\n          par._InstanceAliasValue = par[templateQueryIdMap.partition];\n          return {\n            text: String(par[templateQueryIdMap.partition]),\n            value: JSON.stringify(par),\n          };\n        }),\n      };\n\n      switch (field) {\n        case 'consumerGroup':\n          return data.GroupList;\n        case 'topicId':\n          return data.TopicList;\n        case 'partition':\n          return data.PartitionList;\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/583/18582\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CKAFKAQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!--  -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: CKAFKAQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n      instance: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\ncoreModule.directive('ckafkaQuery', scfQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { get, chain } from 'lodash';\nimport { LOADBALANCEFieldsDescriptor, templateQueryIdMap, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\nimport { isTargetEqual } from '../../common/utils';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.LOADBALANCEFieldsDescriptor = LOADBALANCEFieldsDescriptor;\n      $scope.serversList = [];\n    };\n    $scope.onFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n    $scope.onInstanceChange = (n, o) => {\n      if (isTargetEqual(n, o, 'InstanceId')) return;\n      $scope.target.listener = '';\n      $scope.target.servers = '';\n      $scope.target.serverPort = '';\n    };\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace(namespace);\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {\n        // console.log();\n      }\n      return variableData;\n    };\n    $scope.getExtraDropdown = async (target) => {\n      const { instance } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getListenerList')({ region, instanceId });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap.listener];\n        return {\n          text: o[templateQueryIdMap.listener],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n    $scope.getServersDropdown = async (target) => {\n      const { instance, listener } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const listenerId = $scope.getVariableId(listener, 'listener');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const serversList = await $scope.datasource.getServiceFn(\n        service,\n        'getServerList'\n      )({ region, instanceId, listenerId });\n      $scope.serversList = serversList;\n      const res = chain(serversList)\n        .map((item) => {\n          item._InstanceAliasValue = get(item, 'PrivateIpAddresses.0');\n          return {\n            text: get(item, 'PrivateIpAddresses.0'),\n            value: JSON.stringify(item),\n          };\n        })\n        .uniqBy('text')\n        .value();\n      return res;\n    };\n    $scope.getServerPortDropdown = async (target) => {\n      const { servers } = $scope.target;\n      let serverPortList: any[] = [];\n      try {\n        const serversSource = JSON.parse(servers);\n        serverPortList = chain($scope.serversList)\n          .filter((item) => get(serversSource, 'PrivateIpAddresses.0') === get(item, 'PrivateIpAddresses.0'))\n          .map((item) => {\n            item._InstanceAliasValue = get(item, 'Port');\n            return {\n              text: `${get(item, 'Port')}`,\n              value: JSON.stringify(item),\n            };\n          })\n          .value();\n      } catch (error) {}\n      return serverPortList;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/214/30685\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in LOADBALANCEFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />\n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!--Listener-->\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Listeners\n      <info-popover mode=\"right-normal\">\n        \n      </info-popover>\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.listener\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.listener && namespace !== '${namespace}'\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">Servers</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.servers\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getServersDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.servers && namespace !== '${namespace}'\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">ServerPort</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.serverPort\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getServerPortDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      namespace: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\ncoreModule.directive('clbQuery', sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CLSFilterFieldsDescriptor, queryEditorName } from './query_def';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.GSEFilterFieldsDescriptor = CLSFilterFieldsDescriptor;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in GSEFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!--   -->\n<div>\n  <div class=\"gf-form-inline\" >\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">uin</label>\n      <input\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.uin\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n    </div>\n  </div>\n</div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import createQuery from '../_base/query';\nimport { InstanceQueryDescriptor } from './query_def';\n\ncreateQuery('cmqQuery', {\n  fieldDescriptor: InstanceQueryDescriptor,\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/406/42624',\n  namespace: 'QCE/CMQ',\n});\n","import coreModule from 'grafana/app/core/core_module';\nimport { InstanceQueryDescriptor } from './query_def';\n\nconst ExtraFields = [\n  {\n    label: 'Subscription()',\n    field: 'subscriptionId',\n  },\n];\n\nexport class CmqTopicQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.InstanceQueryDescriptor = InstanceQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    // { [instanceId]: {   } }\n    $scope.cacheMap = {};\n\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getTopicName = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('cmqTopic', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).TopicName;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.onExtraFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      if (field === 'subscriptionId') {\n        const TopicName = $scope.getTopicName();\n        let data = $scope.cacheMap[TopicName];\n\n        if (!data) {\n          const region = $scope.datasource.getServiceFn('cmqTopic', 'getVariable')(target.region);\n          const fetcher = $scope.datasource.getServiceFn('cmqTopic', 'fetchAllSubscription');\n          const datas = await fetcher(region, { TopicName });\n          data = datas.map((item) => {\n            item._InstanceAliasValue = item.SubscriptionId;\n            return { text: item.SubscriptionId, value: JSON.stringify(item) };\n          });\n        }\n\n        // \n        $scope.cacheMap[TopicName] = data;\n        return data;\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/406/42637\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in InstanceQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- ui -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onExtraFieldChange(extra.field)\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: CmqTopicQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('cmqTopicQuery', scfQuery);\n","import _ from 'lodash';\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// \nconst InstanceAliasList = ['BucketName'];\nexport { InstanceAliasList, GetInstanceQueryParams };\n\n// default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'BucketName',\n  queries: {},\n};\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CVMFilterFieldsDescriptor } from './query_def';\n\nexport class CVMQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CVMFilterFieldsDescriptor = CVMFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      InstanceIds\n      <info-popover mode=\"right-normal\">\n         ID100 InstanceIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n         Filters 10Filter.Values 5 InstanceIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CVMFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function cvmQuery() {\n  return {\n    template: template,\n    controller: CVMQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cvmQuery', cvmQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { DCDBFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'nodeid',\n    field: 'NodeId',\n    action: 'DescribeDCDBInstanceNodeInfo',\n  },\n  {\n    label: 'shardid',\n    field: 'ShardId',\n    action: 'DescribeDCDBShards',\n  },\n];\nconst dropdownTextConfig = {\n  DescribeDCDBInstanceNodeInfo: 'NodeId',\n  DescribeDCDBShards: 'ShardInstanceId',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.DCDBFilterFieldsDescriptor = DCDBFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const instanceId = $scope.getInstanceId();\n      const payload: any = {\n        InstanceId: instanceId,\n        Limit: 100,\n      };\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in DCDBFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { ECMBLOCKSTORAGEFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  // {\n  //   label: 'nodeid',\n  //   field: 'NodeId',\n  //   action: 'DescribeInstanceNodeInfo',\n  // },\n  {\n    label: 'diskId',\n    field: 'diskId',\n  },\n];\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.ECMBLOCKSTORAGEFilterFieldsDescriptor = ECMBLOCKSTORAGEFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    // $scope.getInstanceId = () => {\n    //   let { instance } = $scope.target;\n    //   const service = GetServiceFromNamespace($scope.namespace);\n    //   instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n    //   if (!instance) {\n    //     return '';\n    //   }\n    //   try {\n    //     instance = JSON.parse(instance)[templateQueryIdMap.instance];\n    //   } catch (error) {\n    //     console.log();\n    //   }\n    //   return instance;\n    // };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = (target, action) => {\n      let { instance } = target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      try {\n        instance = JSON.parse(instance);\n        const { DataDisks: dataDisks } = instance;\n        return dataDisks.map((o) => {\n          o._InstanceAliasValue = o[templateQueryIdMap.diskId];\n          return {\n            text: o[templateQueryIdMap.diskId],\n            value: JSON.stringify(o),\n          };\n        });\n      } catch (error) {\n        // console.log('instance error', instance);\n        const payload: any = {\n          InstanceId: instance,\n        };\n        const rs = $scope.datasource.getServiceFn(service, 'getDiskList')({ payload });\n        const result = rs.map((o) => {\n          return {\n            text: o[templateQueryIdMap.diskId],\n            value: JSON.stringify(o),\n          };\n        });\n        return result;\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in ECMBLOCKSTORAGEFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { GSEFilterFieldsDescriptor, templateQueryIdMap, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'fleetId',\n    field: 'FleetId',\n  },\n  {\n    label: 'queueName',\n    field: 'Name',\n  },\n];\nconst actionMaps = {\n  FleetId: 'getFleetList',\n  Name: 'getQueueNameList',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.GSEFilterFieldsDescriptor = GSEFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      // console.log({namespace, service});\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraDropdown = async (target, field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const instanceId = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      // const rs = await $scope.datasource.getServiceFn(service, 'getEnvironmentNameList')({ region, instanceId });\n      let rs = await $scope.datasource.getServiceFn(service, actionMaps[field])({ region, instanceId });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[field]];\n        return {\n          text: o[templateQueryIdMap[field]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in GSEFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!--   -->\n<div>\n  <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n      <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n        <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n          on-change=\"onRefresh()\" css-class=\"min-width-10\">\n        </gf-form-dropdown>\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { LBFilterDescriptor } from './query_def';\n\nexport class LBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      // $scope.LBQueryDescriptor = LBQueryDescriptor;\n      $scope.LBFilterDescriptor = LBFilterDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/16702\">Click here to get API doc.</a>\n</label>\n\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      AddressIds\n      <info-popover mode=\"right-normal\">\n         ID100 AddressIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.AddressIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n         Filters 10Filter.Values 5 AddressIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n\n<!--Filters-->\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in LBFilterDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function lbQuery() {\n  return {\n    template: template,\n    controller: LBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('lbQuery', lbQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { LighthouseFilterFieldsDescriptor } from './query_def';\n\nexport class LighthouseQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.LighthouseFilterFieldsDescriptor = LighthouseFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('lighthouse', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/1207/47573\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        Offset\n        <info-popover mode=\"right-normal\">\n          , Offset=20&Limit=20  20  40 \n        </info-popover>\n      </label>\n      <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        Limit\n        <info-popover mode=\"right-normal\">\n          201100\n        </info-popover>\n      </label>\n      <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-9\">\n        InstanceIds\n        <info-popover mode=\"right-normal\">\n           ID100 InstanceIds  Filters\n        </info-popover>\n      </label>\n      <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n        switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n    </div>\n  </div>\n  <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n    <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n    </multi-condition>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-9\">\n        Filters\n        <info-popover mode=\"right-normal\">\n           Filters 10Filter.Values 5 InstanceIds  Filters\n        </info-popover>\n      </label>\n      <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n        on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n    </div>\n  </div>\n  <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n    <div class=\"gf-form-inline\" ng-repeat=\"field in LighthouseFilterFieldsDescriptor\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputNumbermulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries.Filters[field.key]\"\n        options=\"field.list\"\n        multiple=\"true\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function lighthouseQuery() {\n  return {\n    template: template,\n    controller: LighthouseQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('lighthouseQuery', lighthouseQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { map, get, find, times } from 'lodash';\nimport { MONGODBFieldsDescriptor, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class MongoDBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.MONGODBFieldsDescriptor = MONGODBFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.onInstanceChange = (n, o) => {\n      if (n === o) {\n        return;\n      }\n      $scope.target.replica = '';\n      $scope.target.node = '';\n    };\n\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace('QCE/CMONGO');\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {\n        // console.log();\n      }\n      return variableData;\n    };\n\n    $scope.getExtraDropdown = async (target, type) => {\n      const { instance, replica } = $scope.target;\n      const service = GetServiceFromNamespace('QCE/CMONGO');\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const [res] = await $scope.datasource.getServiceFn(service, 'getInstances')(region, {\n        InstanceIds: [instanceId],\n      });\n      if (type === 'replica') {\n        return map(get(res, 'ReplicaSets', []), (item) => {\n          item._InstanceAliasValue = item.ReplicaSetId;\n          return { text: item.ReplicaSetId, value: JSON.stringify(item) };\n        });\n      }\n      if (type === 'node' && replica !== '') {\n        const replicaId = $scope.getVariableId(replica, 'replica');\n        const targetReplica = find(get(res, 'ReplicaSets', []), { ReplicaSetId: replicaId });\n        const options = times(targetReplica.SecondaryNum, (index) => {\n          const nodeId = `${targetReplica.ReplicaSetId}-node-slave${index}`;\n          return {\n            text: nodeId,\n            value: JSON.stringify({ NodeId: nodeId, _InstanceAliasValue: `${targetReplica.ReplicaSetId} - ${nodeId}` }),\n          };\n        });\n        return [\n          {\n            text: `${targetReplica.ReplicaSetId}-node-primary`,\n            value: JSON.stringify({\n              NodeId: `${targetReplica.ReplicaSetId}-node-primary`,\n              _InstanceAliasValue: `${targetReplica.ReplicaSetId} - ${`${targetReplica.ReplicaSetId}-node-primary`}`,\n            }),\n          },\n          ...options,\n        ];\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in MONGODBFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Replica\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.replica\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'replica')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.replica\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Node\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.node\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'node')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function mongodbQuery() {\n  return {\n    template: template,\n    controller: MongoDBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onRefresh: '&',\n      onChange: '&',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\n\ncoreModule.directive('mongodbQuery', mongodbQuery);\n","import { InstanceQueryDescriptor, templateQueryIdMap } from './query_def';\nimport coreModule from 'grafana/app/core/core_module';\n\nconst ExtraFields = [\n  {\n    label: 'NodeIP',\n    field: 'nodeIP',\n  },\n];\n\nexport class MrQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.InstanceQueryDescriptor = InstanceQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    // { [instanceId]: {   } }\n    $scope.cacheMap = {};\n\n    $scope.getExtraFields = () => {\n      return Object.keys($scope.dims ?? {}).some((item: string) => item.startsWith('host4')) ? ExtraFields : [];\n      // return ExtraFields;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('mrHDFS', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).ClusterId;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.onExtraFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      if (field === 'nodeIP') {\n        const InstanceId = $scope.getInstanceId();\n        let data = $scope.cacheMap[InstanceId];\n\n        if (!data) {\n          const region = $scope.datasource.getServiceFn('mrHDFS', 'getVariable')(target.region);\n          const fetcher = $scope.datasource.getServiceFn('mrHDFS', 'fetchAllNodes');\n          const dataT = await fetcher(region, { InstanceId, NodeFlag: 'all' });\n          data = dataT.map((item) => {\n            item._InstanceAliasValue = item[templateQueryIdMap.node];\n            return {\n              text: item[templateQueryIdMap.node],\n              value: JSON.stringify(item),\n            };\n          });\n        }\n\n        // \n        $scope.cacheMap[InstanceId] = data;\n        return data;\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/589/34266\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in InstanceQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n<!-- ui -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onExtraFieldChange(extra.field)\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function mrQuery() {\n  return {\n    template: template,\n    controller: MrQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('mrQuery', mrQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { NATGatewayFilterFieldsDescriptor } from './query_def';\n\nexport class NatGatewayQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.NATGatewayFilterFieldsDescriptor = NATGatewayFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/36034\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-10\">\n      NatGatewayIds\n      <info-popover mode=\"right-normal\">\n        NAT ID NatGatewayIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" value=\"target.queries.NatGatewayIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-10\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        NatGatewayIdsFilters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in NATGatewayFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function natGatewayQuery() {\n  return {\n    template: template,\n    controller: NatGatewayQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('natGatewayQuery', natGatewayQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { OVCDNFilterFieldsDescriptor } from './query_def';\n\nexport class OVCDNQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.OVCDNFilterFieldsDescriptor = OVCDNFilterFieldsDescriptor;\n    };\n\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-repeat=\"field in OVCDNFilterFieldsDescriptor\">\n<label class=\"gf-form-label width-14\">\n  {{ field.key }}\n  <info-popover mode=\"right-normal\">\n    {{ field.cnDescriptor }}\n    <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n  </info-popover>\n</label>\n<multi-condition\n  ng-if=\"field.type === 'inputNumbermulti'\"\n  type=\"'inputNumber'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  maxNum=\"field.max\"\n  minNum=\"field.min\"\n  on-change=\"onChange()\"\n></multi-condition>\n<multi-condition\n  ng-if=\"field.type === 'inputmulti'\"\n  type=\"'input'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  on-change=\"onChange()\"\n></multi-condition>\n<custom-select-dropdown\n  ng-if=\"field.type === 'select'\"\n  value=\"target.queries.Filters[field.key]\"\n  options=\"field.list\"\n  multiple=\"true\"\n  on-change=\"onChange()\"\n></custom-select-dropdown>\n</div>\n\n</div>\n`;\n\nexport function ovCdnQuery() {\n  return {\n    template: template,\n    controller: OVCDNQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('ovCdnQuery', ovCdnQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { PCXFieldsDescriptor } from './query_def';\n\nexport class PCXQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.PCXFieldsDescriptor = PCXFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'vpcId':\n          return $scope.getVpcIds();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getVpcIds = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getVpcIds('pcx', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/2101\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in PCXFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function pcxQuery() {\n  return {\n    template: template,\n    controller: PCXQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('pcxQuery', pcxQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { RedisFieldsDescriptor } from './query_def';\n\nexport class RedisQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.RedisFieldsDescriptor = RedisFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in RedisFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function redisQuery() {\n  return {\n    template: template,\n    controller: RedisQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('redisQuery', redisQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { map } from 'lodash';\nimport { RedisMemFieldsDescriptor, templateQueryIdMap, NodeType, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class RedisMemQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.RedisMemFieldsDescriptor = RedisMemFieldsDescriptor;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.rnodeid = '';\n      $scope.target.pnodeid = '';\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace(namespace);\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {}\n      return variableData;\n    };\n\n    $scope.getExtraDropdown = async (target, nodetype) => {\n      const { instance } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getInstanceNodeInfo')({ region, instanceId });\n\n      const ndoeTypeIndex = NodeType.indexOf(nodetype);\n      return ndoeTypeIndex === -1 ? [] : map(rs[ndoeTypeIndex], (item) => ({ text: item.NodeId, value: item.NodeId }));\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in RedisMemFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.instance && dims.rnodeid\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      RedisNode\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.rnodeid\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'Redis')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.instance && dims.pnodeid\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      ProxyNode\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.pnodeid\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'Proxy')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function redisMemQuery() {\n  return {\n    template: template,\n    controller: RedisMemQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\n\ncoreModule.directive('redisMemQuery', redisMemQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { SCFQueryDescriptor, templateQueryIdMap } from './query_def';\n\nexport class SCFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.SCFQueryDescriptor = SCFQueryDescriptor;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('scf', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).FunctionName;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.getVersions = async (target) => {\n      // console.log(2222);\n\n      // return [{ text: 1, value: 1 }];\n      // console.log(target, 'target');\n      // let { instance, region } = target;\n      const FunctionName = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn('scf', 'getVariable')(target.region);\n      if (!FunctionName || !region) return [];\n\n      const fetcher = $scope.datasource.getServiceFn('scf', 'getVersions');\n\n      return fetcher(region, { FunctionName }).then((res) => {\n        // console.log(res, 'res');\n        const result = res.map((o) => {\n          o._InstanceAliasValue = o[templateQueryIdMap.version];\n          return {\n            text: o[templateQueryIdMap.version],\n            value: JSON.stringify(o),\n          };\n        });\n        return result;\n      });\n    };\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/583/18582\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in SCFQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- version -->\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">Version</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.version\" allow-custom=\"false\" get-options=\"getVersions(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: SCFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n    },\n  };\n}\ncoreModule.directive('scfQuery', scfQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'environmentId',\n    field: 'environmentId',\n    action: 'DescribeEnvironments',\n  },\n  {\n    label: 'topicName',\n    field: 'topicName',\n    action: 'DescribeTopics',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeTopics: 'topicName',\n  DescribeEnvironments: 'environmentId',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        ClusterId: $scope.getInstanceId(),\n      };\n      if (action === 'DescribeTopics') {\n        let evId = $scope.target.environmentId;\n        try {\n          evId = JSON.parse(evId);\n          evId = evId[templateQueryIdMap.environmentId];\n        } catch (e) {}\n        payload.EnvironmentId = evId;\n      }\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          label: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Node',\n    field: 'node',\n    action: 'DescribeRabbitMQNodeList',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeRabbitMQNodeList: 'node',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.node = '';\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        InstanceId: $scope.getInstanceId(),\n      };\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          label: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\ncoreModule.directive('tdmqRabbitmqQuery', sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Namespace',\n    field: 'namespace',\n    action: 'DescribeRocketMQNamespaces',\n  },\n  {\n    label: 'Group',\n    field: 'group',\n    action: 'DescribeRocketMQGroups',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeRocketMQNamespaces: 'namespace',\n  DescribeRocketMQGroups: 'group',\n};\nexport class TdmqRocketmqQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.namespace = '';\n      $scope.target.group = '';\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        ClusterId: $scope.getInstanceId(),\n      };\n      if (action === 'DescribeRocketMQGroups') {\n        let namespace = $scope.target.namespace;\n        try {\n          namespace = JSON.parse(namespace)[templateQueryIdMap.namespace];\n        } catch (e) {}\n        payload.NamespaceId = $scope.datasource.getServiceFn(service, 'getVariable')(namespace);\n      }\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Offset\n          <info-popover mode=\"right-normal\">\n            , Offset=20&Limit=20  20  40 \n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Limit\n          <info-popover mode=\"right-normal\">\n            201100\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          ClusterIdList\n          <info-popover mode=\"right-normal\">\n             ID100 ClusterIdList  Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n          switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n      <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.ClusterIdList\" on-change=\"onChange()\">\n      </multi-condition>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          Filters\n          <info-popover mode=\"right-normal\">\n             Filters 10Filter.Values 5 ClusterIdList  Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n          on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n      <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <multi-condition\n          ng-if=\"field.type === 'dropdownmulti'\"\n          type=\"'dropdown'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          get-options=\"getDropdown(field.key)\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputNumbermulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputmulti'\"\n          type=\"'input'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries.Filters[field.key]\"\n          options=\"field.list\"\n          multiple=\"false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function tdmqRocketmqQuery() {\n  return {\n    template: template,\n    controller: TdmqRocketmqQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\ncoreModule.directive('tdmqRocketmqQuery', tdmqRocketmqQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { isEmpty } from 'lodash';\nimport { TKEFilterFieldsDescriptor } from './query_def';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TKEFilterFieldsDescriptor = TKEFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.addCondition = () => {\n      $scope.target.conditions.push({ Key: '', Operator: '=', Value: '' });\n    };\n\n    $scope.deleteCondition = (index) => {\n      const targetCondition = $scope.target.conditions[index];\n      if (isEmpty(targetCondition.Key) || isEmpty(targetCondition.Operator) || isEmpty(targetCondition.Value)) {\n        $scope.target.conditions.splice(index, 1);\n      } else {\n        $scope.target.conditions.splice(index, 1);\n        $scope.onRefresh();\n      }\n    };\n\n    $scope.getOperator = () => {\n      return Promise.resolve([\n        { text: '=', value: '=' },\n        { text: 'in', value: 'in' },\n      ]);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Offset\n          <info-popover mode=\"right-normal\">\n            , Offset=20&Limit=20  20  40 \n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Limit\n          <info-popover mode=\"right-normal\">\n            201100\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          ClusterIdList\n          <info-popover mode=\"right-normal\">\n             ID100 ClusterIdList  Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n          switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n      <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.ClusterIdList\" on-change=\"onChange()\">\n      </multi-condition>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          Filters\n          <info-popover mode=\"right-normal\">\n             Filters 10Filter.Values 5 ClusterIdList  Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n          on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n      <div class=\"gf-form-inline\" ng-repeat=\"field in TKEFilterFieldsDescriptor\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />   \n        <multi-condition\n          ng-if=\"field.type === 'dropdownmulti'\"\n          type=\"'dropdown'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          get-options=\"getDropdown(field.key)\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputNumbermulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputmulti'\"\n          type=\"'input'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries.Filters[field.key]\"\n          options=\"field.list\"\n          multiple=\"false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">Conditions</label>\n      <div>\n        <div class=\"gf-form\" ng-repeat=\"condition in target.conditions\">\n          <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"target.conditions[$index].Key\" ng-blur=\"onRefresh()\"></input>\n          <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n            <gf-form-dropdown model=\"target.conditions[$index].Operator\" get-options=\"getOperator()\" on-change=\"onRefresh()\" allow-custom=\"true\" css-class=\"min-width-5\">\n            </gf-form-dropdown>\n          </div>\n          <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"target.conditions[$index].Value\" ng-blur=\"onRefresh()\"></input>\n          <label class=\"gf-form-label pointer\" ng-click=\"deleteCondition($index)\">\n            <i class=\"fa fa-minus\"></i>\n          </label>\n          <label class=\"gf-form-label pointer\" ng-click=\"addCondition()\" ng-if=\"$last\">\n            <i class=\"fa fa-plus\"></i>\n          </label>\n        </div>\n        <div class=\"gf-form\" ng-if=\"target.conditions.length === 0\">\n          <label class=\"gf-form-label pointer\" ng-click=\"addCondition()\">\n            <i class=\"fa fa-plus\"></i>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">GroupBy</label>\n      <input class=\"gf-form-input width-15\" type=\"text\" ng-model=\"target.groupBys\" ng-blur=\"onRefresh()\"></input>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('tkeQuery', sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TSFFieldsDescriptor } from './query_def';\n\nexport class TSFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TSFFieldsDescriptor = TSFFieldsDescriptor;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/649/36090\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in TSFFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function tsfQuery() {\n  return {\n    template: template,\n    controller: TSFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('tsfQuery', tsfQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { VBCFilterFieldsDescriptor, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields: any = [\n  // {\n  //   label: 'SRegion',\n  //   field: 'SRegion',\n  // },\n  // {\n  //   label: 'DRegion',\n  //   field: 'DRegion',\n  // },\n];\n\nexport class VBCQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.VBCFilterFieldsDescriptor = VBCFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getExtraDropdown = (field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      // return $scope.datasource.getServiceFn(service, 'getFilterDropdown')({ field })\n      return $scope.datasource.getFilterDropdown(service, { field });\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in VBCFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!--   -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: VBCQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('vbcQuery', scfQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","var map = {\n\t\".\": 20,\n\t\"./\": 20,\n\t\"./MonitorDatasource\": 188,\n\t\"./MonitorDatasource.ts\": 188,\n\t\"./_base/datasource\": 3,\n\t\"./_base/datasource.ts\": 3,\n\t\"./_base/query\": 7,\n\t\"./_base/query.ts\": 7,\n\t\"./_base/query_filter\": 195,\n\t\"./_base/query_filter.ts\": 195,\n\t\"./_base/types\": 196,\n\t\"./_base/types.ts\": 196,\n\t\"./apigateway/datasource\": 75,\n\t\"./apigateway/datasource.ts\": 75,\n\t\"./apigateway/query\": 131,\n\t\"./apigateway/query.ts\": 131,\n\t\"./apigateway/query_def\": 23,\n\t\"./apigateway/query_def.ts\": 23,\n\t\"./bmIntraLb/datasource\": 76,\n\t\"./bmIntraLb/datasource.ts\": 76,\n\t\"./bmIntraLb/query\": 132,\n\t\"./bmIntraLb/query.ts\": 132,\n\t\"./bmIntraLb/query_def\": 31,\n\t\"./bmIntraLb/query_def.ts\": 31,\n\t\"./bm_lb/datasource\": 77,\n\t\"./bm_lb/datasource.ts\": 77,\n\t\"./bm_lb/query\": 133,\n\t\"./bm_lb/query.ts\": 133,\n\t\"./bm_lb/query_def\": 32,\n\t\"./bm_lb/query_def.ts\": 32,\n\t\"./bm_pcx/datasource\": 78,\n\t\"./bm_pcx/datasource.ts\": 78,\n\t\"./bm_pcx/query\": 134,\n\t\"./bm_pcx/query.ts\": 134,\n\t\"./bm_pcx/query_def\": 33,\n\t\"./bm_pcx/query_def.ts\": 33,\n\t\"./bwp/datasource\": 79,\n\t\"./bwp/datasource.ts\": 79,\n\t\"./bwp/query\": 135,\n\t\"./bwp/query.ts\": 135,\n\t\"./bwp/query_def\": 63,\n\t\"./bwp/query_def.ts\": 63,\n\t\"./cbs/datasource\": 80,\n\t\"./cbs/datasource.ts\": 80,\n\t\"./cbs/query\": 136,\n\t\"./cbs/query.ts\": 136,\n\t\"./cbs/query_def\": 34,\n\t\"./cbs/query_def.ts\": 34,\n\t\"./cdb/datasource\": 81,\n\t\"./cdb/datasource.ts\": 81,\n\t\"./cdb/query\": 137,\n\t\"./cdb/query.ts\": 137,\n\t\"./cdb/query_def\": 44,\n\t\"./cdb/query_def.ts\": 44,\n\t\"./cdn/datasource\": 82,\n\t\"./cdn/datasource.ts\": 82,\n\t\"./cdn/query\": 138,\n\t\"./cdn/query.ts\": 138,\n\t\"./cdn/query_def\": 64,\n\t\"./cdn/query_def.ts\": 64,\n\t\"./cdn_province/datasource\": 83,\n\t\"./cdn_province/datasource.ts\": 83,\n\t\"./cdn_province/query\": 139,\n\t\"./cdn_province/query.ts\": 139,\n\t\"./cdn_province/query_def\": 35,\n\t\"./cdn_province/query_def.ts\": 35,\n\t\"./ceip_summary/datasource\": 84,\n\t\"./ceip_summary/datasource.ts\": 84,\n\t\"./ceip_summary/query\": 140,\n\t\"./ceip_summary/query.ts\": 140,\n\t\"./ceip_summary/query_def\": 36,\n\t\"./ceip_summary/query_def.ts\": 36,\n\t\"./ces/datasource\": 85,\n\t\"./ces/datasource.ts\": 85,\n\t\"./ces/query\": 141,\n\t\"./ces/query.ts\": 141,\n\t\"./ces/query_def\": 45,\n\t\"./ces/query_def.ts\": 45,\n\t\"./cfs/datasource\": 86,\n\t\"./cfs/datasource.ts\": 86,\n\t\"./cfs/query\": 142,\n\t\"./cfs/query.ts\": 142,\n\t\"./cfs/query_def\": 57,\n\t\"./cfs/query_def.ts\": 57,\n\t\"./ckafka/datasource\": 87,\n\t\"./ckafka/datasource.ts\": 87,\n\t\"./ckafka/query\": 143,\n\t\"./ckafka/query.ts\": 143,\n\t\"./ckafka/query_def\": 11,\n\t\"./ckafka/query_def.ts\": 11,\n\t\"./clb/datasource\": 88,\n\t\"./clb/datasource.ts\": 88,\n\t\"./clb/query\": 144,\n\t\"./clb/query.ts\": 144,\n\t\"./clb/query_def\": 12,\n\t\"./clb/query_def.ts\": 12,\n\t\"./cls/datasource\": 89,\n\t\"./cls/datasource.ts\": 89,\n\t\"./cls/query\": 145,\n\t\"./cls/query.ts\": 145,\n\t\"./cls/query_def\": 29,\n\t\"./cls/query_def.ts\": 29,\n\t\"./cmq/datasource\": 90,\n\t\"./cmq/datasource.ts\": 90,\n\t\"./cmq/query\": 146,\n\t\"./cmq/query.ts\": 146,\n\t\"./cmq/query_def\": 58,\n\t\"./cmq/query_def.ts\": 58,\n\t\"./cmq_topic/datasource\": 91,\n\t\"./cmq_topic/datasource.ts\": 91,\n\t\"./cmq_topic/query\": 147,\n\t\"./cmq_topic/query.ts\": 147,\n\t\"./cmq_topic/query_def\": 37,\n\t\"./cmq_topic/query_def.ts\": 37,\n\t\"./cos/datasource\": 92,\n\t\"./cos/datasource.ts\": 92,\n\t\"./cos/query_def\": 148,\n\t\"./cos/query_def.ts\": 148,\n\t\"./cpm/datasource\": 93,\n\t\"./cpm/datasource.ts\": 93,\n\t\"./cpm/query\": 149,\n\t\"./cpm/query.ts\": 149,\n\t\"./cpm/query_def\": 38,\n\t\"./cpm/query_def.ts\": 38,\n\t\"./cvm/datasource\": 94,\n\t\"./cvm/datasource.ts\": 94,\n\t\"./cvm/query\": 150,\n\t\"./cvm/query.ts\": 150,\n\t\"./cvm/query_def\": 59,\n\t\"./cvm/query_def.ts\": 59,\n\t\"./cynosdb_mysql/datasource\": 95,\n\t\"./cynosdb_mysql/datasource.ts\": 95,\n\t\"./cynosdb_mysql/query\": 151,\n\t\"./cynosdb_mysql/query.ts\": 151,\n\t\"./cynosdb_mysql/query_def\": 27,\n\t\"./cynosdb_mysql/query_def.ts\": 27,\n\t\"./dc/datasource\": 96,\n\t\"./dc/datasource.ts\": 96,\n\t\"./dc/query\": 152,\n\t\"./dc/query.ts\": 152,\n\t\"./dc/query_def\": 46,\n\t\"./dc/query_def.ts\": 46,\n\t\"./dcdb/datasource\": 97,\n\t\"./dcdb/datasource.ts\": 97,\n\t\"./dcdb/query\": 153,\n\t\"./dcdb/query.ts\": 153,\n\t\"./dcdb/query_def\": 16,\n\t\"./dcdb/query_def.ts\": 16,\n\t\"./dcg/datasource\": 98,\n\t\"./dcg/datasource.ts\": 98,\n\t\"./dcg/query\": 154,\n\t\"./dcg/query.ts\": 154,\n\t\"./dcg/query_def\": 47,\n\t\"./dcg/query_def.ts\": 47,\n\t\"./dcx/datasource\": 99,\n\t\"./dcx/datasource.ts\": 99,\n\t\"./dcx/query\": 155,\n\t\"./dcx/query.ts\": 155,\n\t\"./dcx/query_def\": 48,\n\t\"./dcx/query_def.ts\": 48,\n\t\"./ecdn/datasource\": 100,\n\t\"./ecdn/datasource.ts\": 100,\n\t\"./ecdn/query\": 156,\n\t\"./ecdn/query.ts\": 156,\n\t\"./ecdn/query_def\": 39,\n\t\"./ecdn/query_def.ts\": 39,\n\t\"./ecm/datasource\": 101,\n\t\"./ecm/datasource.ts\": 101,\n\t\"./ecm/query\": 157,\n\t\"./ecm/query.ts\": 157,\n\t\"./ecm/query_def\": 40,\n\t\"./ecm/query_def.ts\": 40,\n\t\"./ecm_block_storage/datasource\": 102,\n\t\"./ecm_block_storage/datasource.ts\": 102,\n\t\"./ecm_block_storage/query\": 158,\n\t\"./ecm_block_storage/query.ts\": 158,\n\t\"./ecm_block_storage/query_def\": 21,\n\t\"./ecm_block_storage/query_def.ts\": 21,\n\t\"./ecm_lb/datasource\": 103,\n\t\"./ecm_lb/datasource.ts\": 103,\n\t\"./ecm_lb/query\": 159,\n\t\"./ecm_lb/query.ts\": 159,\n\t\"./ecm_lb/query_def\": 49,\n\t\"./ecm_lb/query_def.ts\": 49,\n\t\"./gse/datasource\": 104,\n\t\"./gse/datasource.ts\": 104,\n\t\"./gse/query\": 160,\n\t\"./gse/query.ts\": 160,\n\t\"./gse/query_def\": 15,\n\t\"./gse/query_def.ts\": 15,\n\t\"./index\": 20,\n\t\"./index.ts\": 20,\n\t\"./lb/datasource\": 105,\n\t\"./lb/datasource.ts\": 105,\n\t\"./lb/query\": 161,\n\t\"./lb/query.ts\": 161,\n\t\"./lb/query_def\": 65,\n\t\"./lb/query_def.ts\": 65,\n\t\"./lighthouse/datasource\": 106,\n\t\"./lighthouse/datasource.ts\": 106,\n\t\"./lighthouse/query\": 162,\n\t\"./lighthouse/query.ts\": 162,\n\t\"./lighthouse/query_def\": 56,\n\t\"./lighthouse/query_def.ts\": 56,\n\t\"./mongodb/datasource\": 107,\n\t\"./mongodb/datasource.ts\": 107,\n\t\"./mongodb/query\": 163,\n\t\"./mongodb/query.ts\": 163,\n\t\"./mongodb/query_def\": 50,\n\t\"./mongodb/query_def.ts\": 50,\n\t\"./mr/datasource\": 108,\n\t\"./mr/datasource.ts\": 108,\n\t\"./mr/query\": 164,\n\t\"./mr/query.ts\": 164,\n\t\"./mr/query_def\": 24,\n\t\"./mr/query_def.ts\": 24,\n\t\"./nat_gateway/datasource\": 109,\n\t\"./nat_gateway/datasource.ts\": 109,\n\t\"./nat_gateway/query\": 165,\n\t\"./nat_gateway/query.ts\": 165,\n\t\"./nat_gateway/query_def\": 66,\n\t\"./nat_gateway/query_def.ts\": 66,\n\t\"./ov_cdn/datasource\": 110,\n\t\"./ov_cdn/datasource.ts\": 110,\n\t\"./ov_cdn/query\": 166,\n\t\"./ov_cdn/query.ts\": 166,\n\t\"./ov_cdn/query_def\": 67,\n\t\"./ov_cdn/query_def.ts\": 67,\n\t\"./pcx/datasource\": 111,\n\t\"./pcx/datasource.ts\": 111,\n\t\"./pcx/query\": 167,\n\t\"./pcx/query.ts\": 167,\n\t\"./pcx/query_def\": 60,\n\t\"./pcx/query_def.ts\": 60,\n\t\"./postgresql/datasource\": 112,\n\t\"./postgresql/datasource.ts\": 112,\n\t\"./postgresql/query\": 168,\n\t\"./postgresql/query.ts\": 168,\n\t\"./postgresql/query_def\": 41,\n\t\"./postgresql/query_def.ts\": 41,\n\t\"./qaap/datasource\": 113,\n\t\"./qaap/datasource.ts\": 113,\n\t\"./qaap/query\": 169,\n\t\"./qaap/query.ts\": 169,\n\t\"./qaap/query_def\": 51,\n\t\"./qaap/query_def.ts\": 51,\n\t\"./redis/datasource\": 114,\n\t\"./redis/datasource.ts\": 114,\n\t\"./redis/query\": 170,\n\t\"./redis/query.ts\": 170,\n\t\"./redis/query_def\": 61,\n\t\"./redis/query_def.ts\": 61,\n\t\"./redis_mem/datasource\": 115,\n\t\"./redis_mem/datasource.ts\": 115,\n\t\"./redis_mem/query\": 171,\n\t\"./redis_mem/query.ts\": 171,\n\t\"./redis_mem/query_def\": 17,\n\t\"./redis_mem/query_def.ts\": 17,\n\t\"./scf/datasource\": 116,\n\t\"./scf/datasource.ts\": 116,\n\t\"./scf/query\": 172,\n\t\"./scf/query.ts\": 172,\n\t\"./scf/query_def\": 28,\n\t\"./scf/query_def.ts\": 28,\n\t\"./sqlserver/datasource\": 117,\n\t\"./sqlserver/datasource.ts\": 117,\n\t\"./sqlserver/query\": 173,\n\t\"./sqlserver/query.ts\": 173,\n\t\"./sqlserver/query_def\": 30,\n\t\"./sqlserver/query_def.ts\": 30,\n\t\"./tcaplus/datasource\": 118,\n\t\"./tcaplus/datasource.ts\": 118,\n\t\"./tcaplus/query\": 174,\n\t\"./tcaplus/query.ts\": 174,\n\t\"./tcaplus/query_def\": 52,\n\t\"./tcaplus/query_def.ts\": 52,\n\t\"./tdmq/datasource\": 119,\n\t\"./tdmq/datasource.ts\": 119,\n\t\"./tdmq/query\": 175,\n\t\"./tdmq/query.ts\": 175,\n\t\"./tdmq/query_def\": 13,\n\t\"./tdmq/query_def.ts\": 13,\n\t\"./tdmq_rabbitmq/datasource\": 120,\n\t\"./tdmq_rabbitmq/datasource.ts\": 120,\n\t\"./tdmq_rabbitmq/query\": 176,\n\t\"./tdmq_rabbitmq/query.ts\": 176,\n\t\"./tdmq_rabbitmq/query_def\": 18,\n\t\"./tdmq_rabbitmq/query_def.ts\": 18,\n\t\"./tdmq_rocketmq/datasource\": 121,\n\t\"./tdmq_rocketmq/datasource.ts\": 121,\n\t\"./tdmq_rocketmq/query\": 177,\n\t\"./tdmq_rocketmq/query.ts\": 177,\n\t\"./tdmq_rocketmq/query_def\": 19,\n\t\"./tdmq_rocketmq/query_def.ts\": 19,\n\t\"./tke/datasource\": 122,\n\t\"./tke/datasource.ts\": 122,\n\t\"./tke/query\": 178,\n\t\"./tke/query.ts\": 178,\n\t\"./tke/query_def\": 74,\n\t\"./tke/query_def.ts\": 74,\n\t\"./tsf/datasource\": 123,\n\t\"./tsf/datasource.ts\": 123,\n\t\"./tsf/query\": 179,\n\t\"./tsf/query.ts\": 179,\n\t\"./tsf/query_def\": 62,\n\t\"./tsf/query_def.ts\": 62,\n\t\"./v_clb/datasource\": 124,\n\t\"./v_clb/datasource.ts\": 124,\n\t\"./v_clb/query\": 180,\n\t\"./v_clb/query.ts\": 180,\n\t\"./v_clb/query_def\": 25,\n\t\"./v_clb/query_def.ts\": 25,\n\t\"./vbc/datasource\": 125,\n\t\"./vbc/datasource.ts\": 125,\n\t\"./vbc/query\": 181,\n\t\"./vbc/query.ts\": 181,\n\t\"./vbc/query_def\": 53,\n\t\"./vbc/query_def.ts\": 53,\n\t\"./vpc_net_detect/datasource\": 126,\n\t\"./vpc_net_detect/datasource.ts\": 126,\n\t\"./vpc_net_detect/query\": 182,\n\t\"./vpc_net_detect/query.ts\": 182,\n\t\"./vpc_net_detect/query_def\": 42,\n\t\"./vpc_net_detect/query_def.ts\": 42,\n\t\"./vpngw/datasource\": 127,\n\t\"./vpngw/datasource.ts\": 127,\n\t\"./vpngw/query\": 183,\n\t\"./vpngw/query.ts\": 183,\n\t\"./vpngw/query_def\": 54,\n\t\"./vpngw/query_def.ts\": 54,\n\t\"./vpnx/datasource\": 128,\n\t\"./vpnx/datasource.ts\": 128,\n\t\"./vpnx/query\": 184,\n\t\"./vpnx/query.ts\": 184,\n\t\"./vpnx/query_def\": 55,\n\t\"./vpnx/query_def.ts\": 55,\n\t\"./waf/datasource\": 129,\n\t\"./waf/datasource.ts\": 129,\n\t\"./waf/query\": 185,\n\t\"./waf/query.ts\": 185,\n\t\"./waf/query_def\": 43,\n\t\"./waf/query_def.ts\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 186;","import { map, find, filter, indexOf, cloneDeep } from 'lodash';\nimport queryPart from './query_part';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport { APMQuery, APMQueryTag } from './types';\nimport { ScopedVars } from '@grafana/data';\nimport { TemplateSrv } from '@grafana/runtime';\nimport { defaultQueryInfo } from '../types';\n\nexport default class APMQueryModel {\n  target: APMQuery;\n  selectModels: any[] = [];\n  queryBuilder: any;\n  groupByParts: any;\n  templateSrv: any;\n  scopedVars: any;\n  refId?: string;\n\n  /** @ngInject */\n  constructor(target: APMQuery, templateSrv?: TemplateSrv, scopedVars?: ScopedVars) {\n    this.target = target;\n    this.templateSrv = templateSrv;\n    this.scopedVars = scopedVars;\n\n    target.policy = target.policy || defaultQueryInfo.APMServiceParams.policy;\n    target.resultFormat = target.resultFormat || defaultQueryInfo.APMServiceParams.resultFormat;\n    target.orderBy = target.orderBy || defaultQueryInfo.APMServiceParams.orderBy;\n    target.orderType = target.orderType || defaultQueryInfo.APMServiceParams.orderType;\n    target.tags = target.tags || cloneDeep(defaultQueryInfo.APMServiceParams.tags);\n    target.groupBy = target.groupBy || cloneDeep(defaultQueryInfo.APMServiceParams.groupBy);\n    target.select = target.select || cloneDeep(defaultQueryInfo.APMServiceParams.select);\n\n    this.updateProjection();\n  }\n\n  updateProjection() {\n    this.selectModels = map(this.target.select, (parts: any) => {\n      return map(parts, queryPart.create);\n    });\n    this.groupByParts = map(this.target.groupBy, queryPart.create);\n  }\n\n  updatePersistedParts() {\n    this.target.select = map(this.selectModels, (selectParts) => {\n      return map(selectParts, (part: any) => {\n        return { type: part.def.type, params: part.params };\n      });\n    });\n  }\n\n  hasGroupByTime() {\n    return find(this.target.groupBy, (g: any) => g.type === 'time');\n  }\n\n  hasFill() {\n    return find(this.target.groupBy, (g: any) => g.type === 'fill');\n  }\n\n  addGroupBy(value: string) {\n    let stringParts = value.match(/^(\\w+)\\((.*)\\)$/);\n\n    if (!stringParts || !this.target.groupBy) {\n      return;\n    }\n\n    const typePart = stringParts[1];\n    const arg = stringParts[2];\n    const partModel = queryPart.create({ type: typePart, params: [arg] });\n    const partCount = this.target.groupBy.length;\n\n    if (partCount === 0) {\n      this.target.groupBy.push(partModel.part);\n    } else if (typePart === 'time') {\n      this.target.groupBy.splice(0, 0, partModel.part);\n    } else if (typePart === 'tag') {\n      if (this.target.groupBy[partCount - 1].type === 'fill') {\n        this.target.groupBy.splice(partCount - 1, 0, partModel.part);\n      } else {\n        this.target.groupBy.push(partModel.part);\n      }\n    } else {\n      this.target.groupBy.push(partModel.part);\n    }\n\n    this.updateProjection();\n  }\n\n  removeGroupByPart(part: { def: { type: string } }, index: number) {\n    const categories = queryPart.getCategories();\n\n    if (part.def.type === 'time') {\n      // remove fill\n      this.target.groupBy = filter(this.target.groupBy, (g: any) => g.type !== 'fill');\n      // remove aggregations\n      this.target.select = map(this.target.select, (s: any) => {\n        return filter(s, (part: any) => {\n          const partModel = queryPart.create(part);\n          if (partModel.def.category === categories.Aggregations) {\n            return false;\n          }\n          if (partModel.def.category === categories.Selectors) {\n            return false;\n          }\n          return true;\n        });\n      });\n    }\n\n    this.target.groupBy!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelect(index: number) {\n    this.target.select!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelectPart(selectParts: any[], part: any) {\n    // if we remove the field remove the whole statement\n    if (part.def.type === 'field') {\n      if (this.selectModels.length > 1) {\n        const modelsIndex = indexOf(this.selectModels, selectParts);\n        this.selectModels.splice(modelsIndex, 1);\n      }\n    } else {\n      const partIndex = indexOf(selectParts, part);\n      selectParts.splice(partIndex, 1);\n    }\n\n    this.updatePersistedParts();\n  }\n\n  addSelectPart(selectParts: any[], type: string) {\n    const partModel = queryPart.create({ type: type });\n    partModel.def.addStrategy(selectParts, partModel, this);\n    this.updatePersistedParts();\n  }\n\n  getMeasurementAndPolicy(interpolate: any) {\n    let policy = this.target.policy;\n    let measurement = this.target.measurement || 'measurement';\n\n    if (!measurement.match('^/.*/$')) {\n      measurement = '\"' + measurement + '\"';\n    } else if (interpolate) {\n      measurement = this.templateSrv.replace(measurement, this.scopedVars, 'regex');\n    }\n\n    if (policy !== 'default') {\n      policy = '\"' + this.target.policy + '\".';\n    } else {\n      policy = '';\n    }\n\n    return policy + measurement;\n  }\n\n  interpolateQueryStr(value: any[], variable: { multi: any; includeAll: any }, defaultFormatFn: any) {\n    // if no multi or include all do not regexEscape\n    if (!variable.multi && !variable.includeAll) {\n      return value;\n    }\n\n    if (typeof value === 'string') {\n      return kbn.regexEscape(value);\n    }\n\n    const escapedValues = map(value, kbn.regexEscape);\n    return '(' + escapedValues.join('|') + ')';\n  }\n\n  render(interpolate?: boolean) {\n    const target = this.target;\n\n    if (target.rawQuery) {\n      if (interpolate) {\n        return this.templateSrv.replace(target.query, this.scopedVars, this.interpolateQueryStr);\n      } else {\n        return target.query;\n      }\n    }\n\n    let query = 'select ';\n    let i;\n    let y;\n    // \n    if (this.selectModels[0][1]?.part.type === 'custom') {\n      query += this.selectModels[0][0].params[0];\n    } else {\n      for (i = 0; i < this.selectModels?.length; i++) {\n        const parts = this.selectModels[i];\n        let selectText = '';\n        for (y = 0; y < parts.length; y++) {\n          const part = parts[y];\n          selectText = part.render(selectText);\n        }\n\n        if (i > 0) {\n          query += ', ';\n        }\n        query += selectText;\n      }\n    }\n\n    query += ' from ' + this.getMeasurementAndPolicy(interpolate) + ' where ';\n    const conditions = map(target.tags, (tag, index) => {\n      return this.renderTagCondition(tag, index, interpolate);\n    });\n\n    if (conditions.length > 0) {\n      query += '(' + conditions.join(' ') + ') and ';\n    }\n\n    query += '$timeFilter';\n\n    let groupBySection = '';\n    const len = this.groupByParts.length;\n    let groupByParts = this.groupByParts;\n    if (len > 2) {\n      groupByParts = this.groupByParts.filter((item) => item.def.type !== 'time');\n    }\n    for (i = 0; i < groupByParts.length; i++) {\n      const part = groupByParts[i];\n      if (i > 0) {\n        // for some reason fill has no separator\n        groupBySection += part.def.type === 'fill' ? ' ' : ', ';\n      }\n      groupBySection += part.render('');\n    }\n\n    if (groupBySection.length) {\n      query += ' group by ' + groupBySection;\n    }\n\n    if (target.fill) {\n      query += ' fill(' + target.fill + ')';\n    }\n    if (target.orderType) {\n      query += ' order by ' + target.orderType;\n    }\n    if (target.orderBy) {\n      query += ' ' + target.orderBy;\n    }\n\n    if (target.limit) {\n      query += ' limit ' + target.limit;\n    }\n\n    if (target.slimit) {\n      query += ' slimit ' + target.slimit;\n    }\n\n    if (target.tz) {\n      query += \" tz('\" + target.tz + \"')\";\n    }\n\n    return query;\n  }\n\n  renderAdhocFilters(filters: any[]) {\n    const conditions = map(filters, (tag, index) => {\n      return this.renderTagCondition(tag, index, true);\n    });\n    return conditions.join(' ');\n  }\n\n  private renderTagCondition(tag: APMQueryTag, index: number, interpolate?: boolean) {\n    // FIXME: merge this function with query_builder/renderTagCondition\n    let str = '';\n    let operator = tag.operator;\n    let value = tag.value;\n    if (index > 0) {\n      str = (tag.condition.toLowerCase() || 'and') + ' ';\n    }\n\n    if (!operator) {\n      if (/^\\/.*\\/$/.test(value)) {\n        operator = '=~';\n      } else {\n        operator = '=';\n      }\n    }\n\n    // quote value unless regex\n    if (operator !== '=~' && operator !== '!~') {\n      if (interpolate) {\n        value = this.templateSrv.replace(value, this.scopedVars);\n      }\n      if (operator !== '>' && operator !== '<') {\n        value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n      }\n      if (operator === 'in') {\n        value = '(' + value + ')';\n      }\n    } else if (interpolate) {\n      value = this.templateSrv.replace(value, this.scopedVars, 'regex');\n    }\n\n    return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n  }\n}\n","import _ from 'lodash';\nimport { Datasources, SERVICES } from './index';\nimport { GetServiceFromNamespace, ParseMetricQuery } from '../common/constants';\nimport { serviceGroupBy } from '../common/utils';\nimport { LoadingState } from '@grafana/data';\n\nexport default interface DatasourceInterface {\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n  query: (options: any) => any;\n  testDatasource: () => any;\n  metricFindQuery: (query: any) => any;\n  getRegions?: (service: string) => any;\n  getMetrics: (service: string, region: string) => any;\n  getInstances: (service: string, region: string, params: any) => any;\n  getZones?: (service: string, region: string) => any;\n}\n\nexport class TCMonitorDatasource implements DatasourceInterface {\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n\n  /** @ngInject */\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    this.instanceSettings = instanceSettings;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    _.forEach(Datasources, (_class: any, key) => {\n      this[key] = new _class(this.instanceSettings, this.backendSrv, this.templateSrv);\n    });\n  }\n\n  //  Datasource Config \n  getNamespaces() {\n    const namespaces: any[] = [];\n    _.forEach(SERVICES, (service) => {\n      if (this.instanceSettings.jsonData[service.service] === true) {\n        // namespaces.push(service.namespace);\n        namespaces.push(service);\n      }\n    });\n    return namespaces;\n  }\n\n  getCascaderNamespaces() {\n    const validServices = SERVICES.filter((service) => this.instanceSettings.jsonData[service.service]);\n    return serviceGroupBy(validServices);\n  }\n\n  getSelectedServices() {\n    const namespaces = this.getNamespaces();\n    return _.map(namespaces, ({ namespace }) => {\n      return GetServiceFromNamespace(namespace);\n    });\n  }\n\n  /**\n   *  Panel \n   *\n   * @param options Panel \n   *  {\n   *     cacheTimeout: undefined,\n   *     dashboardId: 41,\n   *     interval: \"30s\",\n   *     intervalMs: 30000,\n   *     maxDataPoints: 554,\n   *     panelId: 2,\n   *     range: {\n   *        from: Moment,\n   *        to: Moment,\n   *        raw: {from: \"now-6h\", to: \"now\"}\n   *     },\n   *     rangeRaw: {from: \"now-6h\", to: \"now\"},\n   *     scopedVars: {__interval: {}, __interval_ms: {}}\n   *     targets: [\n   *       {\n   *          namespace: \"QCE/CVM\",\n   *          refId: \"A\",\n   *          service: \"cvm\",\n   *          showInstanceDetails: false,\n   *          cvm: {\n   *            dimensionObject: {InstanceId: {}}\n   *            instance: \"\",\n   *            instanceAlias: \"InstanceId\",\n   *            metricName: \"AccOuttraffic\",\n   *            metricUnit: \"MB\",\n   *            period: 10,\n   *            queries: {Filters: {}, InstanceIds: Array(1), Limit: 20, Offset: 0, filtersChecked: false, },\n   *            region: \"ap-beijing\"\n   *          },\n   *          cdb: {},\n   *       },\n   *     ],\n   *     timezone: \"browser\"\n   *   }\n   * @return \n   * {\n   *   data: [\n   *     {\n   *       \"target\": \"AccOuttraffic - ins-123\",\n   *       \"datapoints\": [\n   *         [861, 1450754160000],\n   *         [767, 1450754220000]\n   *       ]\n   *     }\n   *   ]\n   * }\n   */\n  query(options: any) {\n    const promises: any[] = [];\n    const services = this.getSelectedServices();\n    _.forEach(services, (service) => {\n      const optionsTemp = _.cloneDeep(options);\n      const targets = _.filter(optionsTemp.targets, (item) => item.service === service);\n      optionsTemp.targets = targets;\n      if (optionsTemp.targets.length > 0) {\n        const promiseTemp = this[`${_.toUpper(service)}Datasource`].query(optionsTemp);\n        if (promiseTemp) {\n          promises.push(promiseTemp);\n        }\n      }\n    });\n    if (promises.length === 0) {\n      return Promise.resolve({ data: [], state: LoadingState.Done });\n    }\n    return Promise.all(promises).then((results) => {\n      return { data: _.flatten(results), state: LoadingState.Done };\n    });\n  }\n\n  /**\n   * \n   *\n   * @param query  Query \n   */\n  metricFindQuery(query: string, options?: any) {\n    const queries = ParseMetricQuery(query);\n    const service = GetServiceFromNamespace(queries['namespace'] || '');\n\n    if (_.isEmpty(queries) || !queries['namespace'] || !queries['action'] || !service) {\n      return Promise.resolve([]);\n    }\n    if (this[`${_.toUpper(service)}Datasource`].metricFindQuery) {\n      const result = this[`${_.toUpper(service)}Datasource`].metricFindQuery(\n        queries,\n        _.get(options, 'variable.regex', undefined)\n      );\n      if (result) {\n        return result;\n      }\n    }\n    return Promise.resolve([]);\n  }\n\n  /**\n   * \n   * @param service\n   */\n  getRegions(service) {\n    if (this[`${_.toUpper(service)}Datasource`].getRegions) {\n      return this[`${_.toUpper(service)}Datasource`].getRegions();\n    }\n    return [];\n  }\n\n  /**\n   * \n   * @param service\n   * @param region\n   */\n  getMetrics(service, region) {\n    return this[`${_.toUpper(service)}Datasource`].getMetrics(region);\n  }\n\n  /**\n   * \n   * @param service\n   * @param region\n   */\n  getZones(service, region) {\n    if (this[`${_.toUpper(service)}Datasource`].getZones) {\n      return this[`${_.toUpper(service)}Datasource`].getZones(region);\n    }\n    return [];\n  }\n\n  /**\n   * filterdropdown\n   * @param service\n   * @param param\n   */\n  getFilterDropdown(service, param) {\n    if (this[`${_.toUpper(service)}Datasource`].getFilterDropdown) {\n      return this[`${_.toUpper(service)}Datasource`].getFilterDropdown(param);\n    }\n    return [];\n  }\n\n  /**\n   * \n   * @param service\n   * @param region\n   * @param params\n   */\n  getInstances(service, region, params) {\n    return this[`${_.toUpper(service)}Datasource`].getInstances(region, params);\n  }\n\n  /**\n   * \n   * @param service\n   * @param region\n   * @param params\n   */\n  getListeners(service, region, instance) {\n    if (!this[`${_.toUpper(service)}Datasource`].getListeners) {\n      return [];\n    }\n    return this[`${_.toUpper(service)}Datasource`].getListeners(region, instance);\n  }\n\n  /**\n   *  \n   * @param service\n   */\n  getVpcIds(service, region) {\n    if (this[`${_.toUpper(service)}Datasource`].getVpcIds) {\n      return this[`${_.toUpper(service)}Datasource`].getVpcIds(region);\n    }\n  }\n\n  //  Datasource Config  SerectIdSerectKey  API \n  testDatasource() {\n    const promises: any[] = [];\n    const services = this.getSelectedServices();\n    _.forEach(services, (service) => {\n      promises.push(this[`${_.toUpper(service)}Datasource`].testDatasource());\n    });\n    if (promises.length === 0) {\n      return Promise.resolve(null);\n    }\n\n    return Promise.all(promises).then((results) => {\n      let status = 'success';\n      let message = 'DataSource Connection OK';\n\n      const errorMsg = _.reduce(\n        results,\n        (acc, cur) => {\n          if (cur.status === 'error') {\n            if (acc === '') acc += 'Oops! Found an error in: ';\n            acc += `${cur.service}: ${cur.message}; \\n`;\n          }\n          return acc;\n        },\n        ''\n      );\n\n      if (errorMsg) {\n        status = 'error';\n        message = errorMsg;\n      }\n\n      return {\n        status,\n        message,\n        title: _.upperFirst(status),\n      };\n    });\n  }\n\n  getServiceFn(service, fnName) {\n    return (...argu) => {\n      if (!this[`${_.toUpper(service)}Datasource`][fnName]) {\n        return [];\n      }\n      return this[`${_.toUpper(service)}Datasource`][fnName](...argu);\n    };\n  }\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__190__;","import { clone, each, map } from 'lodash';\n\nexport class QueryPartDef {\n  type: string;\n  params: any[];\n  defaultParams: any[];\n  renderer: any;\n  category: any;\n  addStrategy: any;\n\n  constructor(options: any) {\n    this.type = options.type;\n    this.params = options.params;\n    this.defaultParams = options.defaultParams;\n    this.renderer = options.renderer;\n    this.category = options.category;\n    this.addStrategy = options.addStrategy;\n  }\n}\n\nexport class QueryPart {\n  part: any;\n  def: QueryPartDef;\n  params: any[];\n  text: string;\n\n  constructor(part: any, def: any) {\n    this.part = part;\n    this.def = def;\n    if (!this.def) {\n      // eslint-disable-next-line no-throw-literal\n      throw { message: 'Could not find query part ' + part.type };\n    }\n\n    part.params = part.params || clone(this.def.defaultParams);\n    this.params = part.params;\n    this.text = '';\n    this.updateText();\n  }\n\n  render(innerExpr: string) {\n    return this.def.renderer(this, innerExpr);\n  }\n\n  hasMultipleParamsInString(strValue: string, index: number) {\n    if (strValue.indexOf(',') === -1) {\n      return false;\n    }\n\n    return this.def.params[index + 1] && this.def.params[index + 1].optional;\n  }\n\n  updateParam(strValue: string, index: number) {\n    // handle optional parameters\n    // if string contains ',' and next param is optional, split and update both\n    if (this.hasMultipleParamsInString(strValue, index)) {\n      each(strValue.split(','), (partVal, idx) => {\n        this.updateParam(partVal.trim(), idx);\n      });\n      return;\n    }\n\n    if (strValue === '' && this.def.params[index].optional) {\n      this.params.splice(index, 1);\n    } else {\n      this.params[index] = strValue;\n    }\n\n    this.part.params = this.params;\n    this.updateText();\n  }\n\n  updateText() {\n    if (this.params.length === 0) {\n      this.text = this.def.type + '()';\n      return;\n    }\n\n    let text = this.def.type + '(';\n    text += this.params.join(', ');\n    text += ')';\n    this.text = text;\n  }\n}\n\nexport function functionRenderer(part: any, innerExpr: string) {\n  const str = part.def.type + '(';\n  const parameters = map(part.params, (value, index) => {\n    const paramType = part.def.params[index];\n    if (paramType.type === 'time') {\n      if (value === 'auto') {\n        value = '$__interval';\n      }\n    }\n    if (paramType.quote === 'single') {\n      return \"'\" + value + \"'\";\n    } else if (paramType.quote === 'double') {\n      return '\"' + value + '\"';\n    }\n\n    return value;\n  });\n\n  if (innerExpr) {\n    parameters.unshift(innerExpr);\n  }\n  return str + parameters.join(', ') + ')';\n}\n\nexport function suffixRenderer(part: QueryPart, innerExpr: string) {\n  return innerExpr + ' ' + part.params[0];\n}\n\nexport function identityRenderer(part: QueryPart, innerExpr: string) {\n  return part.params[0];\n}\n\nexport function quotedIdentityRenderer(part: QueryPart, innerExpr: string) {\n  return '\"' + part.params[0] + '\"';\n}\n\nconst index: any[] = [];\nconst categories: any = {\n  Aggregations: [],\n  Selectors: [],\n  Transformations: [],\n  Predictors: [],\n  Math: [],\n  Aliasing: [],\n  Fields: [],\n};\n\nfunction createPart(part: any): any {\n  const def = index[part.type];\n  if (!def) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: 'Could not find query part ' + part.type };\n  }\n\n  return new QueryPart(part, def);\n}\n\nfunction register(options: any) {\n  index[options.type] = new QueryPartDef(options);\n  options.category.push(index[options.type]);\n}\n\nconst groupByTimeFunctions: any[] = [];\n\nfunction aliasRenderer(part: { params: string[] }, innerExpr: string) {\n  // eslint-disable-next-line no-useless-concat\n  return innerExpr + ' AS ' + '\"' + part.params[0] + '\"';\n}\n\nfunction fieldRenderer(part: { params: string[] }, innerExpr: any) {\n  if (part.params[0] === '*') {\n    return '*';\n  }\n  return '\"' + part.params[0] + '\"';\n}\n\nfunction replaceAggregationAddStrategy(selectParts: any[], partModel: { def: { type: string } }) {\n  // look for existing aggregation\n  for (let i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Aggregations) {\n      if (part.def.type === partModel.def.type) {\n        return;\n      }\n      // count distinct is allowed\n      if (part.def.type === 'count' && partModel.def.type === 'distinct') {\n        break;\n      }\n      // remove next aggregation if distinct was replaced\n      if (part.def.type === 'distinct') {\n        const morePartsAvailable = selectParts.length >= i + 2;\n        if (partModel.def.type !== 'count' && morePartsAvailable) {\n          const nextPart = selectParts[i + 1];\n          if (nextPart.def.category === categories.Aggregations) {\n            selectParts.splice(i + 1, 1);\n          }\n        } else if (partModel.def.type === 'count') {\n          if (!morePartsAvailable || selectParts[i + 1].def.type !== 'count') {\n            selectParts.splice(i + 1, 0, partModel);\n          }\n          return;\n        }\n      }\n      selectParts[i] = partModel;\n      return;\n    }\n    if (part.def.category === categories.Selectors) {\n      selectParts[i] = partModel;\n      return;\n    }\n  }\n\n  selectParts.splice(1, 0, partModel);\n}\n\nfunction addTransformationStrategy(selectParts: any[], partModel: any) {\n  let i;\n  // look for index to add transformation\n  for (i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Math || part.def.category === categories.Aliasing) {\n      break;\n    }\n  }\n\n  selectParts.splice(i, 0, partModel);\n}\n\nfunction addCustomStrategy(selectParts: any[], partModel: { def: { type: string } }) {\n  // look for existing aggregation\n  selectParts.splice(1, 1, partModel);\n}\n\nfunction addMathStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is math, replace it\n    if (selectParts[partCount - 1].def.type === 'math') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n    // if next to last is math, replace it\n    if (partCount > 1 && selectParts[partCount - 2].def.type === 'math') {\n      selectParts[partCount - 2] = partModel;\n      return;\n    } else if (selectParts[partCount - 1].def.type === 'alias') {\n      // if last is alias add it before\n      selectParts.splice(partCount - 1, 0, partModel);\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addAliasStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is alias, replace it\n    if (selectParts[partCount - 1].def.type === 'alias') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addFieldStrategy(selectParts: any, partModel: any, query: { selectModels: any[][] }) {\n  // copy all parts\n  const parts = map(selectParts, (part: any) => {\n    return createPart({ type: part.def.type, params: clone(part.params) });\n  });\n\n  query.selectModels.push(parts);\n}\n\nregister({\n  type: 'field',\n  addStrategy: addFieldStrategy,\n  category: categories.Fields,\n  params: [{ type: 'field', dynamicLookup: true }],\n  defaultParams: ['value'],\n  renderer: fieldRenderer,\n});\n\n// Aggregations\nregister({\n  type: 'count',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'distinct',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'custom',\n  addStrategy: addCustomStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'integral',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mean',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'median',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mode',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'sum',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\n// transformations\n\nregister({\n  type: 'derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'spread',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'moving_average',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: 'window', type: 'int', options: [5, 10, 20, 30, 40] }],\n  defaultParams: [10],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'cumulative_sum',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'stddev',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'time',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'interval',\n      type: 'time',\n      options: ['$__interval', '1m', '5m', '30m', '1h', '1d'],\n    },\n  ],\n  defaultParams: ['$__interval'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'fill',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'fill',\n      type: 'string',\n      options: ['none', 'null', '0', 'previous', 'linear'],\n    },\n  ],\n  defaultParams: ['null'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'elapsed',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\n// predictions\nregister({\n  type: 'holt_winters',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'holt_winters_with_fit',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\n// Selectors\nregister({\n  type: 'bottom',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'first',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'last',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'max',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'min',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'percentile',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'nth', type: 'int' }],\n  defaultParams: [95],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'top',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'tag',\n  category: groupByTimeFunctions,\n  params: [{ name: 'tag', type: 'string', dynamicLookup: true }],\n  defaultParams: ['tag'],\n  renderer: fieldRenderer,\n});\n\nregister({\n  type: 'math',\n  addStrategy: addMathStrategy,\n  category: categories.Math,\n  params: [{ name: 'expr', type: 'string' }],\n  defaultParams: [' / 100'],\n  renderer: suffixRenderer,\n});\n\nregister({\n  type: 'alias',\n  addStrategy: addAliasStrategy,\n  category: categories.Aliasing,\n  params: [{ name: 'name', type: 'string', quote: 'double' }],\n  defaultParams: ['alias'],\n  renderMode: 'suffix',\n  renderer: aliasRenderer,\n});\n\nexport default {\n  create: createPart,\n  getCategories: () => {\n    return categories;\n  },\n  replaceAggregationAdd: replaceAggregationAddStrategy,\n};\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\n//# sourceMappingURL=hostReportError.js.map\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","import coreModule from 'grafana/app/core/core_module';\nimport { DetailQueryConfig } from './types';\n\nclass SPQueryCtrl {\n  static _config: DetailQueryConfig;\n\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    Object.assign($scope, SPQueryCtrl._config);\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"{{instanceDocUrl}}\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        , Offset=20&Limit=20  20  40 \n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        201100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      InstanceIds\n      <info-popover mode=\"right-normal\">\n         ID100 InstanceIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n         Filters 10Filter.Values 5 InstanceIds  Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CVMFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n</div>\n`;\n\nexport function queryDDO() {\n  return {\n    template: template,\n    controller: SPQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\nexport default (name: string, config: DetailQueryConfig) => {\n  SPQueryCtrl._config = config;\n  coreModule.directive(name, queryDDO);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__199__;","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = /*@__PURE__*/ getSymbolIterator();\nexport var $$iterator = iterator;\n//# sourceMappingURL=iterator.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_util_subscribeTo PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nimport { Observable } from './Observable';\nimport { subscribeTo } from './util/subscribeTo';\nvar SimpleInnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SimpleInnerSubscriber, _super);\n    function SimpleInnerSubscriber(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        return _this;\n    }\n    SimpleInnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(value);\n    };\n    SimpleInnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error);\n        this.unsubscribe();\n    };\n    SimpleInnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete();\n        this.unsubscribe();\n    };\n    return SimpleInnerSubscriber;\n}(Subscriber));\nexport { SimpleInnerSubscriber };\nvar ComplexInnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ComplexInnerSubscriber, _super);\n    function ComplexInnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        return _this;\n    }\n    ComplexInnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this);\n    };\n    ComplexInnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error);\n        this.unsubscribe();\n    };\n    ComplexInnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return ComplexInnerSubscriber;\n}(Subscriber));\nexport { ComplexInnerSubscriber };\nvar SimpleOuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SimpleOuterSubscriber, _super);\n    function SimpleOuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SimpleOuterSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    SimpleOuterSubscriber.prototype.notifyError = function (err) {\n        this.destination.error(err);\n    };\n    SimpleOuterSubscriber.prototype.notifyComplete = function () {\n        this.destination.complete();\n    };\n    return SimpleOuterSubscriber;\n}(Subscriber));\nexport { SimpleOuterSubscriber };\nvar ComplexOuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ComplexOuterSubscriber, _super);\n    function ComplexOuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ComplexOuterSubscriber.prototype.notifyNext = function (_outerValue, innerValue, _outerIndex, _innerSub) {\n        this.destination.next(innerValue);\n    };\n    ComplexOuterSubscriber.prototype.notifyError = function (error) {\n        this.destination.error(error);\n    };\n    ComplexOuterSubscriber.prototype.notifyComplete = function (_innerSub) {\n        this.destination.complete();\n    };\n    return ComplexOuterSubscriber;\n}(Subscriber));\nexport { ComplexOuterSubscriber };\nexport function innerSubscribe(result, innerSubscriber) {\n    if (innerSubscriber.closed) {\n        return undefined;\n    }\n    if (result instanceof Observable) {\n        return result.subscribe(innerSubscriber);\n    }\n    return subscribeTo(result)(innerSubscriber);\n}\n//# sourceMappingURL=innerSubscribe.js.map\n","export const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n\nexport enum SearchSyntaxRule {\n  LUCENE = 0,\n  CQL = 1,\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var rxSubscriber = /*@__PURE__*/ (function () {\n    return typeof Symbol === 'function'\n        ? /*@__PURE__*/ Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n})();\nexport var $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n","import { SelectableValue } from '@grafana/data';\nimport { ResultFormat } from '../types';\n\nexport const RESULT_FORMATS: Array<SelectableValue<ResultFormat>> = [\n  { label: 'Time series', value: 'time_series' },\n  { label: 'Table', value: 'table' },\n  { label: 'Logs', value: 'logs' },\n];\n\nexport const DEFAULT_RESULT_FORMAT: ResultFormat = 'time_series';\n\nexport const ENABLE_MEASUREMENTS: Array<string> = [\n  'sql_metric',\n  'service_metric',\n  'error_metric',\n  'runtime_metric',\n  'mq_metric',\n];\n","/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nexport var empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","var map = {\n\t\"./_base/query.ts\": 7,\n\t\"./apigateway/datasource\": 75,\n\t\"./apigateway/datasource.ts\": 75,\n\t\"./apigateway/query.ts\": 131,\n\t\"./apigateway/query_def.ts\": 23,\n\t\"./bmIntraLb/datasource\": 76,\n\t\"./bmIntraLb/datasource.ts\": 76,\n\t\"./bmIntraLb/query.ts\": 132,\n\t\"./bmIntraLb/query_def.ts\": 31,\n\t\"./bm_lb/datasource\": 77,\n\t\"./bm_lb/datasource.ts\": 77,\n\t\"./bm_lb/query.ts\": 133,\n\t\"./bm_lb/query_def.ts\": 32,\n\t\"./bm_pcx/datasource\": 78,\n\t\"./bm_pcx/datasource.ts\": 78,\n\t\"./bm_pcx/query.ts\": 134,\n\t\"./bm_pcx/query_def.ts\": 33,\n\t\"./bwp/datasource\": 79,\n\t\"./bwp/datasource.ts\": 79,\n\t\"./bwp/query.ts\": 135,\n\t\"./bwp/query_def.ts\": 63,\n\t\"./cbs/datasource\": 80,\n\t\"./cbs/datasource.ts\": 80,\n\t\"./cbs/query.ts\": 136,\n\t\"./cbs/query_def.ts\": 34,\n\t\"./cdb/datasource\": 81,\n\t\"./cdb/datasource.ts\": 81,\n\t\"./cdb/query.ts\": 137,\n\t\"./cdb/query_def.ts\": 44,\n\t\"./cdn/datasource\": 82,\n\t\"./cdn/datasource.ts\": 82,\n\t\"./cdn/query.ts\": 138,\n\t\"./cdn/query_def.ts\": 64,\n\t\"./cdn_province/datasource\": 83,\n\t\"./cdn_province/datasource.ts\": 83,\n\t\"./cdn_province/query.ts\": 139,\n\t\"./cdn_province/query_def.ts\": 35,\n\t\"./ceip_summary/datasource\": 84,\n\t\"./ceip_summary/datasource.ts\": 84,\n\t\"./ceip_summary/query.ts\": 140,\n\t\"./ceip_summary/query_def.ts\": 36,\n\t\"./ces/datasource\": 85,\n\t\"./ces/datasource.ts\": 85,\n\t\"./ces/query.ts\": 141,\n\t\"./ces/query_def.ts\": 45,\n\t\"./cfs/datasource\": 86,\n\t\"./cfs/datasource.ts\": 86,\n\t\"./cfs/query.ts\": 142,\n\t\"./cfs/query_def.ts\": 57,\n\t\"./ckafka/datasource\": 87,\n\t\"./ckafka/datasource.ts\": 87,\n\t\"./ckafka/query.ts\": 143,\n\t\"./ckafka/query_def.ts\": 11,\n\t\"./clb/datasource\": 88,\n\t\"./clb/datasource.ts\": 88,\n\t\"./clb/query.ts\": 144,\n\t\"./clb/query_def.ts\": 12,\n\t\"./cls/datasource\": 89,\n\t\"./cls/datasource.ts\": 89,\n\t\"./cls/query.ts\": 145,\n\t\"./cls/query_def.ts\": 29,\n\t\"./cmq/datasource\": 90,\n\t\"./cmq/datasource.ts\": 90,\n\t\"./cmq/query.ts\": 146,\n\t\"./cmq/query_def.ts\": 58,\n\t\"./cmq_topic/datasource\": 91,\n\t\"./cmq_topic/datasource.ts\": 91,\n\t\"./cmq_topic/query.ts\": 147,\n\t\"./cmq_topic/query_def.ts\": 37,\n\t\"./cos/datasource\": 92,\n\t\"./cos/datasource.ts\": 92,\n\t\"./cos/query_def.ts\": 148,\n\t\"./cpm/datasource\": 93,\n\t\"./cpm/datasource.ts\": 93,\n\t\"./cpm/query.ts\": 149,\n\t\"./cpm/query_def.ts\": 38,\n\t\"./cvm/datasource\": 94,\n\t\"./cvm/datasource.ts\": 94,\n\t\"./cvm/query.ts\": 150,\n\t\"./cvm/query_def.ts\": 59,\n\t\"./cynosdb_mysql/datasource\": 95,\n\t\"./cynosdb_mysql/datasource.ts\": 95,\n\t\"./cynosdb_mysql/query.ts\": 151,\n\t\"./cynosdb_mysql/query_def.ts\": 27,\n\t\"./dc/datasource\": 96,\n\t\"./dc/datasource.ts\": 96,\n\t\"./dc/query.ts\": 152,\n\t\"./dc/query_def.ts\": 46,\n\t\"./dcdb/datasource\": 97,\n\t\"./dcdb/datasource.ts\": 97,\n\t\"./dcdb/query.ts\": 153,\n\t\"./dcdb/query_def.ts\": 16,\n\t\"./dcg/datasource\": 98,\n\t\"./dcg/datasource.ts\": 98,\n\t\"./dcg/query.ts\": 154,\n\t\"./dcg/query_def.ts\": 47,\n\t\"./dcx/datasource\": 99,\n\t\"./dcx/datasource.ts\": 99,\n\t\"./dcx/query.ts\": 155,\n\t\"./dcx/query_def.ts\": 48,\n\t\"./ecdn/datasource\": 100,\n\t\"./ecdn/datasource.ts\": 100,\n\t\"./ecdn/query.ts\": 156,\n\t\"./ecdn/query_def.ts\": 39,\n\t\"./ecm/datasource\": 101,\n\t\"./ecm/datasource.ts\": 101,\n\t\"./ecm/query.ts\": 157,\n\t\"./ecm/query_def.ts\": 40,\n\t\"./ecm_block_storage/datasource\": 102,\n\t\"./ecm_block_storage/datasource.ts\": 102,\n\t\"./ecm_block_storage/query.ts\": 158,\n\t\"./ecm_block_storage/query_def.ts\": 21,\n\t\"./ecm_lb/datasource\": 103,\n\t\"./ecm_lb/datasource.ts\": 103,\n\t\"./ecm_lb/query.ts\": 159,\n\t\"./ecm_lb/query_def.ts\": 49,\n\t\"./gse/datasource\": 104,\n\t\"./gse/datasource.ts\": 104,\n\t\"./gse/query.ts\": 160,\n\t\"./gse/query_def.ts\": 15,\n\t\"./lb/datasource\": 105,\n\t\"./lb/datasource.ts\": 105,\n\t\"./lb/query.ts\": 161,\n\t\"./lb/query_def.ts\": 65,\n\t\"./lighthouse/datasource\": 106,\n\t\"./lighthouse/datasource.ts\": 106,\n\t\"./lighthouse/query.ts\": 162,\n\t\"./lighthouse/query_def.ts\": 56,\n\t\"./mongodb/datasource\": 107,\n\t\"./mongodb/datasource.ts\": 107,\n\t\"./mongodb/query.ts\": 163,\n\t\"./mongodb/query_def.ts\": 50,\n\t\"./mr/datasource\": 108,\n\t\"./mr/datasource.ts\": 108,\n\t\"./mr/query.ts\": 164,\n\t\"./mr/query_def.ts\": 24,\n\t\"./nat_gateway/datasource\": 109,\n\t\"./nat_gateway/datasource.ts\": 109,\n\t\"./nat_gateway/query.ts\": 165,\n\t\"./nat_gateway/query_def.ts\": 66,\n\t\"./ov_cdn/datasource\": 110,\n\t\"./ov_cdn/datasource.ts\": 110,\n\t\"./ov_cdn/query.ts\": 166,\n\t\"./ov_cdn/query_def.ts\": 67,\n\t\"./pcx/datasource\": 111,\n\t\"./pcx/datasource.ts\": 111,\n\t\"./pcx/query.ts\": 167,\n\t\"./pcx/query_def.ts\": 60,\n\t\"./postgresql/datasource\": 112,\n\t\"./postgresql/datasource.ts\": 112,\n\t\"./postgresql/query.ts\": 168,\n\t\"./postgresql/query_def.ts\": 41,\n\t\"./qaap/datasource\": 113,\n\t\"./qaap/datasource.ts\": 113,\n\t\"./qaap/query.ts\": 169,\n\t\"./qaap/query_def.ts\": 51,\n\t\"./redis/datasource\": 114,\n\t\"./redis/datasource.ts\": 114,\n\t\"./redis/query.ts\": 170,\n\t\"./redis/query_def.ts\": 61,\n\t\"./redis_mem/datasource\": 115,\n\t\"./redis_mem/datasource.ts\": 115,\n\t\"./redis_mem/query.ts\": 171,\n\t\"./redis_mem/query_def.ts\": 17,\n\t\"./scf/datasource\": 116,\n\t\"./scf/datasource.ts\": 116,\n\t\"./scf/query.ts\": 172,\n\t\"./scf/query_def.ts\": 28,\n\t\"./sqlserver/datasource\": 117,\n\t\"./sqlserver/datasource.ts\": 117,\n\t\"./sqlserver/query.ts\": 173,\n\t\"./sqlserver/query_def.ts\": 30,\n\t\"./tcaplus/datasource\": 118,\n\t\"./tcaplus/datasource.ts\": 118,\n\t\"./tcaplus/query.ts\": 174,\n\t\"./tcaplus/query_def.ts\": 52,\n\t\"./tdmq/datasource\": 119,\n\t\"./tdmq/datasource.ts\": 119,\n\t\"./tdmq/query.ts\": 175,\n\t\"./tdmq/query_def.ts\": 13,\n\t\"./tdmq_rabbitmq/datasource\": 120,\n\t\"./tdmq_rabbitmq/datasource.ts\": 120,\n\t\"./tdmq_rabbitmq/query.ts\": 176,\n\t\"./tdmq_rabbitmq/query_def.ts\": 18,\n\t\"./tdmq_rocketmq/datasource\": 121,\n\t\"./tdmq_rocketmq/datasource.ts\": 121,\n\t\"./tdmq_rocketmq/query.ts\": 177,\n\t\"./tdmq_rocketmq/query_def.ts\": 19,\n\t\"./tke/datasource\": 122,\n\t\"./tke/datasource.ts\": 122,\n\t\"./tke/query.ts\": 178,\n\t\"./tke/query_def.ts\": 74,\n\t\"./tsf/datasource\": 123,\n\t\"./tsf/datasource.ts\": 123,\n\t\"./tsf/query.ts\": 179,\n\t\"./tsf/query_def.ts\": 62,\n\t\"./v_clb/datasource\": 124,\n\t\"./v_clb/datasource.ts\": 124,\n\t\"./v_clb/query.ts\": 180,\n\t\"./v_clb/query_def.ts\": 25,\n\t\"./vbc/datasource\": 125,\n\t\"./vbc/datasource.ts\": 125,\n\t\"./vbc/query.ts\": 181,\n\t\"./vbc/query_def.ts\": 53,\n\t\"./vpc_net_detect/datasource\": 126,\n\t\"./vpc_net_detect/datasource.ts\": 126,\n\t\"./vpc_net_detect/query.ts\": 182,\n\t\"./vpc_net_detect/query_def.ts\": 42,\n\t\"./vpngw/datasource\": 127,\n\t\"./vpngw/datasource.ts\": 127,\n\t\"./vpngw/query.ts\": 183,\n\t\"./vpngw/query_def.ts\": 54,\n\t\"./vpnx/datasource\": 128,\n\t\"./vpnx/datasource.ts\": 128,\n\t\"./vpnx/query.ts\": 184,\n\t\"./vpnx/query_def.ts\": 55,\n\t\"./waf/datasource\": 129,\n\t\"./waf/datasource.ts\": 129,\n\t\"./waf/query.ts\": 185,\n\t\"./waf/query_def.ts\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 209;","module.exports = __WEBPACK_EXTERNAL_MODULE__210__;","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n","import { reduce } from 'lodash';\nimport kbn from 'grafana/app/core/utils/kbn';\n\nfunction renderTagCondition(tag: { operator: any; value: string; condition: any; key: string }, index: number) {\n  // FIXME: merge this function with APM_query_model/renderTagCondition\n  let str = '';\n  let operator = tag.operator;\n  let value = tag.value;\n  if (index > 0) {\n    str = (tag.condition.toLowerCase() || 'AND') + ' ';\n  }\n\n  if (!operator) {\n    if (/^\\/.*\\/$/.test(tag.value)) {\n      operator = '=~';\n    } else {\n      operator = '=';\n    }\n  }\n\n  // quote value unless regex or number, or if empty-string\n  if (value === '' || (operator !== '=~' && operator !== '!~')) {\n    value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n  }\n\n  return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n}\n\nexport class APMQueryBuilder {\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor(private target: { measurement: any; tags: any; policy?: any }, private database?: string) {}\n\n  buildExploreQuery(type: string, withKey?: string, withMeasurementFilter?: string): string {\n    let query = '';\n    let measurement;\n    let policy;\n\n    if (type === 'TAG_KEYS') {\n      query = 'show tag keys';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'TAG_VALUES') {\n      query = 'show tag values';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'MEASUREMENTS') {\n      query = 'show measurements';\n      if (withMeasurementFilter) {\n        // we do a case-insensitive regex-based lookup\n        query += ' with measurement =~ /(?i)' + kbn.regexEscape(withMeasurementFilter) + '/';\n      }\n    } else if (type === 'FIELDS') {\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n\n      if (!measurement.match('^/.*/')) {\n        measurement = '\"' + measurement + '\"';\n\n        if (policy && policy !== 'default') {\n          policy = '\"' + policy + '\"';\n          measurement = policy + '.' + measurement;\n        }\n      }\n\n      return 'show field keys from ' + measurement;\n    } else if (type === 'RETENTION POLICIES') {\n      query = 'show retention policies on \"' + this.database + '\"';\n      return query;\n    }\n\n    if (measurement) {\n      if (!measurement.match('^/.*/') && !measurement.match(/^merge\\(.*\\)/)) {\n        measurement = '\"' + measurement + '\"';\n      }\n\n      if (policy && policy !== 'default') {\n        policy = '\"' + policy + '\"';\n        measurement = policy + '.' + measurement;\n      }\n\n      query += ' from ' + measurement;\n    }\n\n    if (withKey) {\n      query += ' with key = \"' + withKey + '\"';\n    }\n\n    if (this.target.tags && this.target.tags.length > 0) {\n      const whereConditions = reduce(\n        this.target.tags,\n        (memo, tag) => {\n          if (type === 'MEASUREMENTS' && tag.key === 'id') {\n            return memo;\n          }\n          // do not add a condition for the key we want to explore for\n          if (tag.key === withKey) {\n            return memo;\n          }\n\n          // value operators not supported in these types of queries\n          if (tag.operator === '>' || tag.operator === '<') {\n            return memo;\n          }\n\n          memo.push(renderTagCondition(tag, memo.length));\n          return memo;\n        },\n        [] as string[]\n      );\n\n      if (whereConditions.length > 0) {\n        query += ' where ' + whereConditions.join(' ');\n      }\n    }\n\n    if (type === 'MEASUREMENTS') {\n      query += ' limit 100';\n      // Solve issue #2524 by limiting the number of measurements returned\n      // LIMIT must be after WITH MEASUREMENT and WHERE clauses\n      // This also could be used for TAG KEYS and TAG VALUES, if desired\n    }\n\n    return query;\n  }\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isObject(x) {\n    return x !== null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isPromise(value) {\n    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\n//# sourceMappingURL=isPromise.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToArray = function (array) {\n    return function (subscriber) {\n        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    };\n};\n//# sourceMappingURL=subscribeToArray.js.map\n","/** PURE_IMPORTS_START _subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeTo = function (result) {\n    if (!!result && typeof result[Symbol_observable] === 'function') {\n        return subscribeToObservable(result);\n    }\n    else if (isArrayLike(result)) {\n        return subscribeToArray(result);\n    }\n    else if (isPromise(result)) {\n        return subscribeToPromise(result);\n    }\n    else if (!!result && typeof result[Symbol_iterator] === 'function') {\n        return subscribeToIterable(result);\n    }\n    else {\n        var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n//# sourceMappingURL=subscribeTo.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeToObservable = function (obj) {\n    return function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (typeof obs.subscribe !== 'function') {\n            throw new TypeError('Provided object does not correctly implement Symbol.observable');\n        }\n        else {\n            return obs.subscribe(subscriber);\n        }\n    };\n};\n//# sourceMappingURL=subscribeToObservable.js.map\n","/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */\nimport { hostReportError } from './hostReportError';\nexport var subscribeToPromise = function (promise) {\n    return function (subscriber) {\n        promise.then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, hostReportError);\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToPromise.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport var subscribeToIterable = function (iterable) {\n    return function (subscriber) {\n        var iterator = iterable[Symbol_iterator]();\n        do {\n            var item = void 0;\n            try {\n                item = iterator.next();\n            }\n            catch (err) {\n                subscriber.error(err);\n                return subscriber;\n            }\n            if (item.done) {\n                subscriber.complete();\n                break;\n            }\n            subscriber.next(item.value);\n            if (subscriber.closed) {\n                break;\n            }\n        } while (true);\n        if (typeof iterator.return === 'function') {\n            subscriber.add(function () {\n                if (iterator.return) {\n                    iterator.return();\n                }\n            });\n        }\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToIterable.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nvar MapOperator = /*@__PURE__*/ (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexport { MapOperator };\nvar MapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=map.js.map\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__222__;","module.exports = __WEBPACK_EXTERNAL_MODULE__223__;","module.exports = \"<query-editor-row query-ctrl=\\\"ctrl\\\" class=\\\"generic-datasource-query-row\\\" has-text-edit-mode=\\\"true\\\">\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Namespace</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-cascader\\n          ng-if=\\\"ctrl.isCascader\\\"\\n          style=\\\"width: 160px\\\"\\n          change-on-select=\\\"false\\\"\\n          options=\\\"ctrl.cascaderOptions\\\"\\n          on-select=\\\"ctrl.cascaderChange(_query)\\\"\\n          initial-value=\\\"{{ctrl.target.namespace}}\\\"\\n        ></gf-cascader>\\n\\n        <gf-form-dropdown\\n          ng-if=\\\"!ctrl.isCascader\\\"\\n          model=\\\"ctrl.target.namespace\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getNamespaces($query)\\\"\\n          on-change=\\\"ctrl.onNamespaceChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" ng-if=\\\"!ctrl.hideRegion\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Region</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].region\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getRegions($query)\\\"\\n          on-change=\\\"ctrl.onRegionChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n          disabled\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">MetricName</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].metricName\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getMetrics($query)\\\"\\n          on-change=\\\"ctrl.onMetricChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n    <div class=\\\"gf-form gf-form-label--grow\\\" ng-if=\\\"!!ctrl.getMetricNameDesc()\\\">\\n      <label class=\\\"gf-form-label gf-form-label--grow\\\">({{ctrl.getMetricNameDesc()}})</label>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" style=\\\"align-items: center\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Period</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <select\\n          class=\\\"gf-form-input min-width-10\\\"\\n          ng-change=\\\"ctrl.refresh()\\\"\\n          ng-model=\\\"ctrl.target[ctrl.target.service].period\\\"\\n          ng-options=\\\"f for f in ctrl.sortedPeriodList\\\"\\n        ></select>\\n      </div>\\n    </div>\\n    <span style=\\\"margin-left: 8px; font-size: 12px\\\">({{ctrl.getTimeDesc()}})</span>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" style=\\\"align-items: center\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Timeshift</label>\\n      <input\\n        class=\\\"gf-form-input width-10\\\"\\n        ng-model=\\\"ctrl.target[ctrl.target.service].timeshift\\\"\\n        ng-blur=\\\"ctrl.refresh()\\\"\\n      ></input>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Instance</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <select\\n          class=\\\"gf-form-input min-width-8\\\"\\n          ng-change=\\\"ctrl.onInstanceAliasChange()\\\"\\n          ng-model=\\\"ctrl.target[ctrl.target.service].instanceAlias\\\"\\n          ng-options=\\\"f.value as f.text for f in ctrl.instanceAliasList\\\"\\n        ></select>\\n      </div>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].instance\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getInstances($query)\\\"\\n          on-change=\\\"ctrl.onInstanceChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n    <div class=\\\"gf-form\\\" ng-if=\\\"!ctrl.isVariable('instance')\\\">\\n      <label class=\\\"gf-form-label width-7\\\">Show Details</label>\\n      <gf-form-switch\\n        class=\\\"gf-form tc-switch\\\"\\n        label-class=\\\"width-7\\\"\\n        checked=\\\"ctrl.target.showInstanceDetails\\\"\\n        switch-class=\\\"max-width-5\\\"\\n      ></gf-form-switch>\\n    </div>\\n    <div class=\\\"gf-form gf-form-label--grow\\\">\\n      <!-- this is explain how much items will display to user -->\\n      <label class=\\\"gf-form-label gf-form-label--grow\\\">({{ctrl.getSearchDesc()}})</label>\\n    </div>\\n  </div>\\n</query-editor-row>\\n\";","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { cloneDeep, isString, map as _map, get } from 'lodash';\nimport { Observable, of, throwError, from } from 'rxjs';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { getBackendSrv, getTemplateSrv, TemplateSrv } from '@grafana/runtime';\nimport {\n  ArrayVector,\n  DataFrame,\n  DataQueryError,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  MetricFindValue,\n  dateMath,\n  DataSourceApi,\n  FieldType,\n  QueryResultMeta,\n  TIME_SERIES_TIME_FIELD_NAME,\n  TIME_SERIES_VALUE_FIELD_NAME,\n  TimeSeries,\n  LoadingState,\n  RawTimeRange,\n} from '@grafana/data';\nimport APMQueryModel from './APM_query_model';\nimport APMSeries from './APM_series';\nimport ResponseParser from './response_parser';\nimport { GetRequestParams, GetServiceAPIInfo } from '../common/constants';\nimport { MyDataSourceOptions, QueryInfo } from '../types';\nimport { APMOptions, APMQuery } from './types';\nimport { APMQueryBuilder } from './query_builder';\n\n// we detect the field type based on the value-array\nfunction getFieldType(values: unknown[]): FieldType {\n  // the values-array may contain a lot of nulls.\n  // we need the first not-null item\n  const firstNotNull = values.find((v) => v !== null);\n\n  if (firstNotNull === undefined) {\n    // we could not find any not-null values\n    return FieldType.number;\n  }\n\n  const valueType = typeof firstNotNull;\n\n  switch (valueType) {\n    case 'string':\n      return FieldType.string;\n    case 'boolean':\n      return FieldType.boolean;\n    case 'number':\n      return FieldType.number;\n    default:\n      throw new Error(`APM: invalid value type ${valueType}`);\n  }\n}\n\n// this conversion function is specialized to work with the timeseries\n// data returned by getTimeSeries()\nfunction timeSeriesToDataFrame(timeSeries: TimeSeries): DataFrame {\n  const times: number[] = [];\n  const values: unknown[] = [];\n\n  // the data we process here is not correctly typed.\n  // the typescript types say every data-point is number|null,\n  // but in fact it can be string or boolean too.\n\n  const points = timeSeries.datapoints;\n  for (const point of points) {\n    values.push(point[0]);\n    times.push(Number(`${point[1]}000`));\n  }\n\n  const timeField = {\n    name: TIME_SERIES_TIME_FIELD_NAME,\n    type: FieldType.time,\n    config: {},\n    values: new ArrayVector<number>(times),\n  };\n\n  const valueField = {\n    name: TIME_SERIES_VALUE_FIELD_NAME,\n    type: getFieldType(values),\n    config: {\n      displayNameFromDS: timeSeries.title,\n    },\n    values: new ArrayVector<unknown>(values),\n    labels: timeSeries.tags,\n  };\n\n  const fields = [timeField, valueField];\n\n  return {\n    name: timeSeries.target,\n    refId: timeSeries.refId,\n    meta: timeSeries.meta,\n    fields,\n    length: values.length,\n  };\n}\n\nexport default class APMServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  type: string;\n  url: string;\n  responseParser: any;\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  private readonly templateSrv: TemplateSrv;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<APMOptions>) {\n    super(instanceSettings);\n\n    this.instanceSettings = instanceSettings;\n    this.templateSrv = getTemplateSrv();\n    this.responseParser = new ResponseParser();\n    this.type = 'APMService';\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Promise<DataQueryResponse> | Observable<DataQueryResponse> {\n    return this.classicQuery(request);\n  }\n\n  classicQuery(options: any): Observable<DataQueryResponse> {\n    let timeFilter = this.getTimeFilter(options);\n    const scopedVars = options.scopedVars;\n    const targets = cloneDeep(options.targets);\n    const queryTargets: any[] = [];\n\n    let i;\n    let y;\n\n    let allQueries = _map(targets, (target) => {\n      if (target.hide) {\n        return '';\n      }\n      if (target.APMServiceParams.custom) {\n        return target.APMServiceParams.custom;\n      }\n      target.APMServiceParams = this.fixTimePeriod(target.APMServiceParams, options);\n      queryTargets.push(target);\n\n      // backward compatibility\n      scopedVars.interval = scopedVars.__interval;\n\n      return new APMQueryModel(target.APMServiceParams, this.templateSrv, scopedVars).render(true);\n    }).reduce((acc, current) => {\n      if (current !== '') {\n        acc += ';' + current;\n      }\n      return acc;\n    });\n\n    if (allQueries === '') {\n      return of({ data: [] });\n    }\n\n    // add global adhoc filters to timeFilter\n    // @ts-ignore\n    const adhocFilters = this.templateSrv.getAdhocFilters(this.name);\n    if (adhocFilters.length > 0) {\n      const tmpQuery = new APMQueryModel({}, this.templateSrv, scopedVars);\n      timeFilter += ' AND ' + tmpQuery.renderAdhocFilters(adhocFilters);\n    }\n\n    // replace grafana variables\n    scopedVars.timeFilter = { value: timeFilter };\n\n    // replace templated variables\n    allQueries = this.templateSrv.replace(allQueries, scopedVars);\n\n    return this._seriesQuery(allQueries, options).pipe(\n      map((data: any) => {\n        if (!data || !data.results) {\n          return { data: [] };\n        }\n\n        const seriesList = [];\n        for (i = 0; i < data.results.length; i++) {\n          const result = data.results[i];\n          if (!result || !result.series) {\n            continue;\n          }\n\n          const target = queryTargets[i];\n          let alias = target.APMServiceParams.alias;\n          if (alias) {\n            alias = this.templateSrv.replace(target.APMServiceParams.alias, options.scopedVars);\n          }\n\n          const meta: QueryResultMeta = {\n            executedQueryString: data.executedQueryString,\n          };\n\n          const apmSeries = new APMSeries({\n            refId: target.refId,\n            series: data.results[i].series,\n            alias: alias,\n            meta,\n          });\n\n          switch (target.APMServiceParams.resultFormat) {\n            case 'logs':\n              meta.preferredVisualisationType = 'logs';\n            // eslint-disable-next-line no-fallthrough\n            case 'table': {\n              seriesList.push(apmSeries.getTable());\n              break;\n            }\n            default: {\n              const timeSeries = apmSeries.getTimeSeries();\n              for (y = 0; y < timeSeries.length; y++) {\n                seriesList.push(timeSeriesToDataFrame(timeSeries[y]));\n              }\n              break;\n            }\n          }\n        }\n\n        return { data: seriesList, state: LoadingState.Done };\n      })\n    );\n  }\n\n  async metricFindQuery(query: string, options?: any): Promise<MetricFindValue[]> {\n    const interpolated = this.templateSrv.replace(query, undefined, 'regex');\n\n    return this._seriesQuery(interpolated, options)\n      .toPromise()\n      .then((resp) => {\n        return this.responseParser.parse(query, resp);\n      });\n  }\n\n  _seriesQuery(query: string, options?: any) {\n    if (!query) {\n      return of({ results: [] });\n    }\n\n    if (options?.range) {\n      const timeFilter = this.getTimeFilter({ rangeRaw: options.range, timezone: options.timezone });\n      query = query.replace('$timeFilter', timeFilter);\n    }\n\n    return this._APMRequest(query);\n  }\n\n  _APMRequest(query) {\n    const serviceType = 'apm';\n    const serviceInfo = GetServiceAPIInfo('', serviceType);\n\n    return from(\n      GetRequestParams(\n        { url: this.instanceSettings.url + serviceInfo.path, data: { Query: btoa(query) } },\n        serviceType,\n        { action: 'DescribeGrafanaMetricData' },\n        '',\n        this.instanceSettings.id,\n        getBackendSrv()\n      )\n    ).pipe(\n      mergeMap((requestOptions) => {\n        return getBackendSrv()\n          .fetch(requestOptions)\n          .pipe(\n            map((result: any) => {\n              if (get(result, 'data.Response.Error')) {\n                // eslint-disable-next-line no-throw-literal\n                throw {\n                  message: 'APM Error: ' + get(result, 'data.Response.Error.Message'),\n                  data: result.data,\n                  cancelled: true,\n                };\n              }\n              const res = get(result, 'data.Response.Result');\n              const buf = Buffer.from(res, 'base64').toString();\n              const data = JSON.parse(buf);\n              data.executedQueryString = query;\n\n              if (data) {\n                if (data.Response.Error) {\n                  // eslint-disable-next-line no-throw-literal\n                  throw {\n                    message: 'APM Error: ' + data.Response.Error.Code + ': ' + data.Response.Error.Message,\n                    data,\n                  };\n                }\n                if (data.Response.Result) {\n                  const errors = data.Response.Result.results.filter((elem: any) => elem.error);\n\n                  if (errors.length > 0) {\n                    // eslint-disable-next-line no-throw-literal\n                    throw {\n                      message: 'APM Error: ' + errors[0].error,\n                      data,\n                    };\n                  }\n                }\n              }\n              return data.Response.Result;\n            }),\n            catchError((err) => {\n              if (err.cancelled) {\n                return of(err);\n              }\n\n              return throwError(this.handleErrors(err));\n            })\n          );\n      })\n    );\n  }\n\n  handleErrors(err: any) {\n    const error: DataQueryError = {\n      message: err?.status || err?.message || 'Unknown error during query transaction. Please check JS console logs.',\n    };\n\n    if ((Number.isInteger(err.status) && err.status !== 0) || err.status >= 300) {\n      if (err.data?.error) {\n        error.message = 'APM Error: ' + err.data.error;\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      } else {\n        error.message = 'Network Error: ' + err.statusText + '(' + err.status + ')';\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      }\n    }\n\n    return error;\n  }\n\n  getTimeFilter(options: any) {\n    const from = this.getAPMTime(options.rangeRaw.from, false, options.timezone);\n    const until = this.getAPMTime(options.rangeRaw.to, true, options.timezone);\n\n    return 'time >= ' + from + ' and time <= ' + until;\n  }\n\n  getAPMTime(date: any, roundUp: any, timezone: any) {\n    if (isString(date)) {\n      if (date === 'now') {\n        return 'now()';\n      }\n\n      const parts = /^now-(\\d+)([dhms])$/.exec(date);\n      if (parts) {\n        const amount = parseInt(parts[1], 10);\n        const unit = parts[2];\n        return 'now() - ' + amount + unit;\n      }\n      date = dateMath.parse(date, roundUp, timezone);\n    }\n\n    return date.valueOf() + 'ms';\n  }\n\n  fixTimePeriod(target: any, options: any) {\n    const period = this.getTimePeriod(options.rangeRaw, options.timezone);\n\n    target.groupBy?.forEach((groupBy: any) => {\n      if (groupBy.type === 'time' && groupBy.params[0] !== '1d') {\n        target = this.modifyTime(target, period);\n      }\n    });\n    return target;\n  }\n\n  getTimePeriod(rangeRaw: RawTimeRange, timezone: string): string {\n    const from = dateMath.parse(rangeRaw.from, false, timezone)?.valueOf();\n    const until = dateMath.parse(rangeRaw.to, true, timezone)?.valueOf();\n    const oneHour = 1000 * 60 * 60;\n    let range = 0;\n    let period = '1m';\n    if (from && until) {\n      range = until - from;\n    }\n    // 12h\n    if (range <= oneHour * 12) {\n      period = '1m';\n    }\n    // 3d\n    else if (range <= oneHour * 24 * 2) {\n      period = '5m';\n    }\n    // 7d\n    else if (range <= oneHour * 24 * 7) {\n      period = '1h';\n    } else {\n      period = '1d';\n    }\n    return period;\n  }\n\n  // \n  modifyTime(query: APMQuery, period: string): APMQuery {\n    if (!query.groupBy) {\n      return query;\n    }\n    for (const item of query.groupBy) {\n      if (item.type === 'time') {\n        const compareResult = this.periodCompare(String(item.params?.[0]) || '', period);\n        const isPeriodInparamsSmaller = compareResult && compareResult < 0;\n        // !compareResult\n        if (!compareResult || isPeriodInparamsSmaller) {\n          item.params = [period];\n        }\n        return query;\n      }\n    }\n    return query;\n  }\n  /**\n   * @param pre_period \n   * @param period \n   * @return 0=; null\n   */\n  periodCompare(pre_period: string, period: string): number | null {\n    const units = ['s', 'm', 'h', 'd'];\n    const reg = new RegExp(`(^\\\\d+)([${units.join('')}]$)`);\n    const pre = reg.exec(pre_period);\n    const per = reg.exec(period);\n    if (!pre || !per) {\n      return null;\n    }\n    if (units.indexOf(pre[2]) - units.indexOf(per[2])) {\n      return units.indexOf(pre[2]) - units.indexOf(per[2]);\n    }\n    return Number(pre[1]) - Number(per[1]);\n  }\n\n  testDatasource(): Promise<any> {\n    if (!this.instanceSettings.jsonData['APMServiceEnabled']) {\n      return null;\n    }\n    const queryBuilder = new APMQueryBuilder({ measurement: '', tags: [] }, '');\n    const query = queryBuilder.buildExploreQuery('MEASUREMENTS');\n\n    return this._seriesQuery(query)\n      .toPromise()\n      .then((res: any) => {\n        const error = get(res, 'data.Response.Error');\n        if (error) {\n          return { status: 'error', message: error?.Message };\n        }\n        return { status: 'success', message: 'Data source is working' };\n      })\n      .catch((err: any) => {\n        return { status: 'error', message: err.message };\n      });\n  }\n}\n","import { each, map, includes, flatten, keys } from 'lodash';\nimport TableModel from 'grafana/app/core/table_model';\nimport { FieldType, QueryResultMeta, TimeSeries, TableData } from '@grafana/data';\n\nexport default class APMSeries {\n  refId?: string;\n  series: any;\n  alias: any;\n  annotation: any;\n  meta?: QueryResultMeta;\n\n  constructor(options: { series: any; alias?: any; annotation?: any; meta?: QueryResultMeta; refId?: string }) {\n    this.series = options.series;\n    this.alias = options.alias;\n    this.annotation = options.annotation;\n    this.meta = options.meta;\n    this.refId = options.refId;\n  }\n\n  getTimeSeries(): TimeSeries[] {\n    const output: TimeSeries[] = [];\n    let i;\n    let j;\n\n    if (this.series.length === 0) {\n      return output;\n    }\n\n    each(this.series, (series) => {\n      const columns = series.columns.length;\n      const tags = map(series.tags, (value, key) => {\n        return key + ': ' + value;\n      });\n\n      for (j = 1; j < columns; j++) {\n        let seriesName = series.name;\n        const columnName = series.columns[j];\n        if (columnName !== 'value') {\n          seriesName = seriesName + '.' + columnName;\n        }\n\n        if (this.alias) {\n          seriesName = this._getSeriesName(series, j);\n        } else if (series.tags) {\n          seriesName = seriesName + ' {' + tags.join(', ') + '}';\n        }\n\n        const datapoints = [];\n        if (series.values) {\n          for (i = 0; i < series.values.length; i++) {\n            datapoints[i] = [series.values[i][j], series.values[i][0]];\n          }\n        }\n\n        output.push({\n          title: seriesName,\n          target: seriesName,\n          datapoints: datapoints,\n          tags: series.tags,\n          meta: this.meta,\n          refId: this.refId,\n        });\n      }\n    });\n\n    return output;\n  }\n\n  _getSeriesName(series: any, index: number) {\n    const regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\n    const segments = series.name.split('.');\n\n    return this.alias.replace(regex, (match: any, g1: any, g2: any) => {\n      const group = g1 || g2;\n      const segIndex = parseInt(group, 10);\n\n      if (group === 'm' || group === 'measurement') {\n        return series.name;\n      }\n      if (group === 'col') {\n        return series.columns[index];\n      }\n      if (!isNaN(segIndex)) {\n        return segments[segIndex] ?? match;\n      }\n      if (group.indexOf('tag_') !== 0) {\n        return match;\n      }\n\n      const tag = group.replace('tag_', '');\n      if (!series.tags) {\n        return match;\n      }\n      return series.tags[tag];\n    });\n  }\n\n  getAnnotations() {\n    const list: any[] = [];\n\n    each(this.series, (series) => {\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(series.columns, (column, index) => {\n        if (column === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column === 'sequence_number') {\n          return;\n        }\n        if (column === this.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (includes((this.annotation.tagsColumn || '').replace(' ', '').split(','), column)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column === this.annotation.textColumn) {\n          textCol = index;\n          return;\n        }\n        if (column === this.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(series.values, (value) => {\n        const data = {\n          annotation: this.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n    });\n\n    return list;\n  }\n\n  getTable(): TableData {\n    const table = new TableModel();\n    let i;\n    let j;\n\n    // @ts-ignore\n    table.refId = this.refId;\n    // @ts-ignore\n    table.meta = this.meta;\n\n    if (this.series.length === 0) {\n      return table;\n    }\n\n    // the order is:\n    // - first the first item from the value-array (this is often (always?) the timestamp)\n    // - then all the tag-values\n    // - then the rest of the value-array\n    //\n    // we have to keep this order both in table.columns and table.rows\n\n    each(this.series, (series: any, seriesIndex: number) => {\n      if (seriesIndex === 0) {\n        const firstCol = series.columns[0];\n        // Check the first column's name, if it is `time`, we\n        // mark it as having the type time\n        const firstTableCol = firstCol === 'time' ? { text: 'Time', type: FieldType.time } : { text: firstCol };\n        table.columns.push(firstTableCol);\n        each(keys(series.tags), (key) => {\n          table.columns.push({ text: key });\n        });\n        for (j = 1; j < series.columns.length; j++) {\n          table.columns.push({ text: series.columns[j] });\n        }\n      }\n\n      if (series.values) {\n        for (i = 0; i < series.values.length; i++) {\n          const values = series.values[i];\n          const reordered = [values[0]];\n          if (series.tags) {\n            for (const key in series.tags) {\n              if (series.tags.hasOwnProperty(key)) {\n                reordered.push(series.tags[key]);\n              }\n            }\n          }\n          for (j = 1; j < values.length; j++) {\n            reordered.push(values[j]);\n          }\n          table.rows.push(reordered);\n        }\n      }\n    });\n\n    return table;\n  }\n}\n","import { AnnotationEvent, DataFrame, DataQuery, FieldType, QueryResultMeta } from '@grafana/data';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport TableModel from 'grafana/app/core/table_model';\nimport { each, flatten, groupBy, isArray } from 'lodash';\nimport { ENABLE_MEASUREMENTS } from './common/constants';\nimport { APMQuery } from './types';\n\nexport default class ResponseParser {\n  parse(query: string, results: { results: any }) {\n    if (!results?.results || results.results.length === 0) {\n      return [];\n    }\n\n    const APMResults = results.results[0];\n    if (!APMResults.series) {\n      return [];\n    }\n\n    const normalizedQuery = query.toLowerCase();\n    const isValueFirst =\n      normalizedQuery.indexOf('show field keys') >= 0 || normalizedQuery.indexOf('show retention policies') >= 0;\n    const isShowMeasurements = normalizedQuery.indexOf('show measurements') >= 0;\n\n    const res = new Set<string>();\n    each(APMResults.series, (serie) => {\n      each(serie.values, (value) => {\n        if (isArray(value)) {\n          // In general, there are 2 possible shapes for the returned value.\n          // The first one is a two-element array,\n          // where the first element is somewhat a metadata value:\n          // the tag name for SHOW TAG VALUES queries,\n          // the time field for SELECT queries, etc.\n          // The second shape is an one-element array,\n          // that is containing an immediate value.\n          // For example, SHOW FIELD KEYS queries return such shape.\n          // Note, pre-0.11 versions return\n          // the second shape for SHOW TAG VALUES queries\n          // (while the newer versionsfirst).\n\n          if (isValueFirst) {\n            addUnique(res, value[0]);\n          } else if (value[1] !== undefined) {\n            addUnique(res, value[1]);\n          } else {\n            addUnique(res, value[0]);\n          }\n        } else {\n          addUnique(res, value);\n        }\n      });\n    });\n\n    if (isShowMeasurements) {\n      return Array.from(res)\n        .filter((item) => ENABLE_MEASUREMENTS.includes(item))\n        .map((v) => ({ text: v }));\n    }\n\n    return Array.from(res).map((v) => ({ text: v }));\n  }\n\n  getTable(dfs: DataFrame[], target: APMQuery, meta: QueryResultMeta): TableModel {\n    let table = new TableModel();\n\n    if (dfs.length > 0) {\n      // @ts-ignore\n      table.meta = {\n        ...meta,\n        executedQueryString: dfs[0].meta?.executedQueryString,\n      };\n      // @ts-ignore\n      table.refId = target.refId;\n      table = getTableCols(dfs, table, target);\n\n      // if group by tag(s) added\n      if (dfs[0].fields[1]?.labels) {\n        let dfsByLabels: any = groupBy(dfs, (df: DataFrame) =>\n          df.fields[1].labels ? Object.values(df.fields[1].labels!) : null\n        );\n        const labels = Object.keys(dfsByLabels);\n        dfsByLabels = Object.values(dfsByLabels);\n\n        for (let i = 0; i < dfsByLabels.length; i++) {\n          table = getTableRows(dfsByLabels[i], table, [...labels[i].split(',')]);\n        }\n      } else {\n        table = getTableRows(dfs, table, []);\n      }\n    }\n\n    return table;\n  }\n\n  async transformAnnotationResponse(options: any, data: any, target: APMQuery): Promise<AnnotationEvent[]> {\n    const rsp = toDataQueryResponse(data, [target] as DataQuery[]);\n\n    if (rsp) {\n      const table = this.getTable(rsp.data, target, {});\n      const list: any[] = [];\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(table.columns, (column, index) => {\n        if (column.text.toLowerCase() === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column.text === options.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (colContainsTag(column.text, options.annotation.tagsColumn)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column.text.includes(options.annotation.textColumn)) {\n          textCol = index;\n          return;\n        }\n        if (column.text === options.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(table.rows, (value) => {\n        const data = {\n          annotation: options.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n\n      return list;\n    }\n    return [];\n  }\n}\n\nfunction colContainsTag(colText: string, tagsColumn: string): boolean {\n  const tags = (tagsColumn || '').replace(' ', '').split(',');\n  for (let tag of tags) {\n    if (colText.includes(tag)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getTableCols(dfs: DataFrame[], table: TableModel, target: APMQuery): TableModel {\n  const selectedParams = getSelectedParams(target);\n\n  dfs[0].fields.forEach((field) => {\n    // Time col\n    if (field.name === 'time') {\n      table.columns.push({ text: 'Time', type: FieldType.time });\n    }\n\n    // Group by (label) column(s)\n    else if (field.name === 'value') {\n      if (field.labels) {\n        Object.keys(field.labels).forEach((key) => {\n          table.columns.push({ text: key });\n        });\n      }\n    }\n  });\n\n  // Get cols for annotationQuery\n  if (dfs[0].refId === 'metricFindQuery') {\n    dfs.forEach((field) => {\n      if (field.name) {\n        table.columns.push({ text: field.name });\n      }\n    });\n  }\n\n  // Select (metric) column(s)\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < selectedParams.length; i++) {\n    table.columns.push({ text: selectedParams[i] });\n  }\n\n  return table;\n}\n\nfunction getTableRows(dfs: DataFrame[], table: TableModel, labels: string[]): TableModel {\n  const values = dfs[0].fields[0].values.toArray();\n\n  for (let i = 0; i < values.length; i++) {\n    const time = values[i];\n    const metrics = dfs.map((df: DataFrame) => {\n      return df.fields[1] ? df.fields[1].values.toArray()[i] : null;\n    });\n    if (metrics.indexOf(null) < 0) {\n      table.rows.push([time, ...labels, ...metrics]);\n    }\n  }\n  return table;\n}\n\nexport function getSelectedParams(target: APMQuery): string[] {\n  let allParams: string[] = [];\n  target.select?.forEach((select) => {\n    const selector = select.filter((x) => x.type !== 'field');\n    if (selector.length > 0) {\n      allParams.push(selector[0].type);\n    } else {\n      if (select[0]?.params?.[0]) {\n        allParams.push(select[0].params[0].toString());\n      }\n    }\n  });\n\n  let uniqueParams: string[] = [];\n  allParams.forEach((param) => {\n    uniqueParams.push(incrementName(param, param, uniqueParams, 0));\n  });\n\n  return uniqueParams;\n}\n\nfunction incrementName(name: string, nameIncremenet: string, params: string[], index: number): string {\n  if (params.indexOf(nameIncremenet) > -1) {\n    index++;\n    return incrementName(name, name + '_' + index, params, index);\n  }\n  return nameIncremenet;\n}\n\nfunction addUnique(s: Set<string>, value: string | number) {\n  s.add(value.toString());\n}\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../../node_modules/sass-loader/dist/cjs.js!./query_editor.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".tc-sub-params{margin-top:4px;margin-left:125px}.tc-sub-params .gf-form-inline{min-height:42px}.tc-sub-params .gf-form-inline .gf-form-label{margin-bottom:2px}.tc-sub-params .tc-info-label{margin-bottom:6px}.tc-sub-params .tc-info-label>a{margin-left:10px}.tc-switch{border-left:1px solid #262628;margin-bottom:0 !important}.tc-condition-block{margin-right:10px;display:inline-block}.tc-condition-block .tc-condition-input{border-radius:0}.tc-condition-block .tc-condition-minus{vertical-align:top;border-radius:0 3px 3px 0}.tc-condition-block .tc-condition-dropdown{display:inline-block}.tc-condition-block>input{display:inline-block;margin-right:0}.tc-condition-block>label{display:inline-block}.tc-condition-add{display:inline-block;vertical-align:top}.tc-condition-add>label{border-radius:3px}.filtered-color{color:#ff851b}.secret-tips{position:absolute;right:-25px;border-radius:2px;background:#1b1b1b;padding:10px;top:-35px;width:300px;border:1px solid #2c3235}.secret-tips-tri{position:absolute;width:15px;height:15px;left:-8px;top:60px;background:#1b1b1b;border:1px solid #2c3235;border-top:0;border-right:0;transform:rotate(45deg)}.rc-cascader-menu-item{min-width:160px;font-size:14px}\", \"\",{\"version\":3,\"sources\":[\"query_editor.css\"],\"names\":[],\"mappings\":\"AAAA,eAAe,cAAc,CAAC,iBAAiB,CAAC,+BAA+B,eAAe,CAAC,8CAA8C,iBAAiB,CAAC,8BAA8B,iBAAiB,CAAC,gCAAgC,gBAAgB,CAAC,WAAW,6BAA6B,CAAC,0BAA0B,CAAC,oBAAoB,iBAAiB,CAAC,oBAAoB,CAAC,wCAAwC,eAAe,CAAC,wCAAwC,kBAAkB,CAAC,yBAAyB,CAAC,2CAA2C,oBAAoB,CAAC,0BAA0B,oBAAoB,CAAC,cAAc,CAAC,0BAA0B,oBAAoB,CAAC,kBAAkB,oBAAoB,CAAC,kBAAkB,CAAC,wBAAwB,iBAAiB,CAAC,gBAAgB,aAAa,CAAC,aAAa,iBAAiB,CAAC,WAAW,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,YAAY,CAAC,SAAS,CAAC,WAAW,CAAC,wBAAwB,CAAC,iBAAiB,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,YAAY,CAAC,cAAc,CAAC,uBAAuB,CAAC,uBAAuB,eAAe,CAAC,cAAc\",\"file\":\"query_editor.css\",\"sourcesContent\":[\".tc-sub-params{margin-top:4px;margin-left:125px}.tc-sub-params .gf-form-inline{min-height:42px}.tc-sub-params .gf-form-inline .gf-form-label{margin-bottom:2px}.tc-sub-params .tc-info-label{margin-bottom:6px}.tc-sub-params .tc-info-label>a{margin-left:10px}.tc-switch{border-left:1px solid #262628;margin-bottom:0 !important}.tc-condition-block{margin-right:10px;display:inline-block}.tc-condition-block .tc-condition-input{border-radius:0}.tc-condition-block .tc-condition-minus{vertical-align:top;border-radius:0 3px 3px 0}.tc-condition-block .tc-condition-dropdown{display:inline-block}.tc-condition-block>input{display:inline-block;margin-right:0}.tc-condition-block>label{display:inline-block}.tc-condition-add{display:inline-block;vertical-align:top}.tc-condition-add>label{border-radius:3px}.filtered-color{color:#ff851b}.secret-tips{position:absolute;right:-25px;border-radius:2px;background:#1b1b1b;padding:10px;top:-35px;width:300px;border:1px solid #2c3235}.secret-tips-tri{position:absolute;width:15px;height:15px;left:-8px;top:60px;background:#1b1b1b;border:1px solid #2c3235;border-top:0;border-right:0;transform:rotate(45deg)}.rc-cascader-menu-item{min-width:160px;font-size:14px}\"]}]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-1!../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-3!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".log-service-monospaced-font-family {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n.log-service-monospaced-font-family button,\\n.log-service-monospaced-font-family input,\\n.log-service-monospaced-font-family select,\\n.log-service-monospaced-font-family textarea {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,8DAA8D;AAChE;AACA;;;;EAIE,8DAA8D;AAChE\",\"file\":\"index.less\",\"sourcesContent\":[\".log-service-monospaced-font-family {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n.log-service-monospaced-font-family button,\\n.log-service-monospaced-font-family input,\\n.log-service-monospaced-font-family select,\\n.log-service-monospaced-font-family textarea {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","import coreModule from 'grafana/app/core/core_module';\nimport _ from 'lodash';\nimport { isDefined } from 'angular';\n\n// mutilple conditions directive for instance query params\nexport class MultiConditionCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.type = $scope.type || 'input';\n      $scope.placeholder = isDefined($scope.placeholder) ? $scope.placeholder : '';\n      $scope.value = isDefined($scope.value) ? $scope.value : [];\n      $scope.maxCond = _.toInteger($scope.maxCond) > 0 ? _.toInteger($scope.maxCond) : -1;\n    };\n\n    $scope.onInputBlur = () => {\n      $scope.onChangeInternal();\n    };\n\n    $scope.deleteCondition = (index) => {\n      $scope.value.splice(index, 1);\n      $scope.onChangeInternal();\n    };\n\n    $scope.addCondition = (cond) => {\n      $scope.value.push(cond);\n      $scope.onChangeInternal();\n    };\n\n    $scope.onChangeInternal = () => {\n      $scope.onChange({ value: $scope.value });\n    };\n\n    $scope.onSelectChange = (value) => {\n      $scope.onChange({ value });\n    };\n\n    $scope.getSelectedOptions = () => {\n      const selectedOptions = _.filter(\n        $scope.options,\n        (item) => _.get($scope.value, 'value', []).indexOf(item.value) !== -1\n      );\n      return selectedOptions.length > 0\n        ? _.map(selectedOptions, (option) => `${option.text}: ${option.value}`).join('; ')\n        : undefined;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div ng-if=\"type === 'input'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\">\n    <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"value[$index]\" placeholder=\"{{placeholder}}\"\n      ng-blur=\"onInputBlur()\"></input>\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition('')\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<div ng-if=\"type === 'inputNumber'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\">\n    <input type=\"number\" ng-model=\"value[$index]\" ng-blur=\"onInputBlur()\" class=\"gf-form-input width-10 tc-condition-input\"\n      ng-min=\"minNum\" ng-max=\"maxNum\" ng-change=\"onChangeInternal()\">\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition(undefined)\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<div class=\"gf-form\" ng-if=\"type === 'select'\">\n  <custom-select-dropdown value=\"value\" multiple=\"true\" options=\"options\" on-change=\"onSelectChange(value)\"></custom-select-dropdown>\n  <label class=\"gf-form-label tc-info-label\" ng-if=\"getSelectedOptions()\">\n    {{getSelectedOptions()}}\n  </label>\n</div>\n\n<div ng-if=\"type === 'dropdown'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\" style=\"vertical-align: top;\">\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent tc-condition-dropdown\">\n      <gf-form-dropdown model=\"value[$index]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getOptions()\" on-change=\"onChangeInternal()\"\n        css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition('')\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<!-- <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n  <gf-form-dropdown model=\"ctrl.target.cvm.instance\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"ctrl.getInstances($query)\"\n    on-change=\"ctrl.onInstanceChange()\" css-class=\"min-width-10\">\n  </gf-form-dropdown>\n</div> -->\n`;\n\nexport function multiCondition() {\n  return {\n    template: template,\n    controller: MultiConditionCtrl,\n    restrict: 'E',\n    scope: {\n      type: '=',\n      value: '=',\n      maxCond: '=?',\n      placeholder: '=?',\n      options: '=?',\n      maxNum: '=?',\n      minNum: '=?',\n      multiple: '=?',\n      onChange: '&',\n      getOptions: '&',\n    },\n  };\n}\n\ncoreModule.directive('multiCondition', multiCondition);\n","import angular from 'angular';\nimport _ from 'lodash';\nimport coreModule from 'grafana/app/core/core_module';\n\nexport class CustomSelectDropdownCtrl {\n  dropdownVisible: any;\n  highlightIndex: any;\n  linkText: any;\n  oldVariableText: any;\n  selectOptions: any;\n  options: any;\n  value: any;\n  search: any;\n  multiple: boolean | undefined;\n  selectedValues: any;\n  variable: any;\n\n  hide: any;\n  onChange: any;\n\n  /** @ngInject */\n  constructor() {}\n\n  show() {\n    this.oldVariableText = _.get(this.value, 'text', '');\n    this.highlightIndex = -1;\n\n    this.selectOptions = _.cloneDeep(this.options);\n    _.map(this.selectOptions, (option) => {\n      const selectedValue = _.get(this.value, 'value');\n      if (!selectedValue) {\n        option.selected = false;\n      } else if (_.isArray(selectedValue)) {\n        option.selected = _.indexOf(selectedValue, option.value) !== -1 ? true : false;\n      } else {\n        option.selected = selectedValue === option.value;\n      }\n    });\n\n    this.selectedValues = _.filter(this.selectOptions, { selected: true });\n\n    this.search = {\n      query: '',\n      options: this.selectOptions.slice(0, Math.min(this.selectOptions.length, 1000)),\n    };\n\n    this.dropdownVisible = true;\n  }\n\n  updateLinkText() {\n    this.linkText = _.get(this.value, 'text', '');\n  }\n\n  clearSelections() {\n    _.each(this.selectOptions, (option) => {\n      option.selected = false;\n    });\n\n    this.selectionsChanged(false);\n  }\n\n  keyDown(evt) {\n    if (evt.keyCode === 27) {\n      this.hide();\n    }\n    if (evt.keyCode === 40) {\n      this.moveHighlight(1);\n    }\n    if (evt.keyCode === 38) {\n      this.moveHighlight(-1);\n    }\n    if (evt.keyCode === 13) {\n      if (this.search.options.length === 0) {\n        this.commitChanges();\n      } else {\n        this.selectValue(this.search.options[this.highlightIndex], {}, true, false);\n      }\n    }\n    if (evt.keyCode === 32) {\n      this.selectValue(this.search.options[this.highlightIndex], {}, false, false);\n    }\n  }\n\n  moveHighlight(direction) {\n    this.highlightIndex = (this.highlightIndex + direction) % this.search.options.length;\n  }\n\n  selectValue(option, event, commitChange?, excludeOthers?) {\n    if (!option) {\n      return;\n    }\n    option.selected = this.multiple ? !option.selected : true;\n\n    commitChange = commitChange || false;\n    excludeOthers = excludeOthers || false;\n\n    const setAllExceptCurrentTo = (newValue) => {\n      _.each(this.selectOptions, (other) => {\n        if (option !== other) {\n          other.selected = newValue;\n        }\n      });\n    };\n\n    // commit action (enter key), should not deselect it\n    if (commitChange) {\n      option.selected = true;\n    }\n\n    if (excludeOthers) {\n      setAllExceptCurrentTo(false);\n      commitChange = true;\n    } else if (!this.multiple) {\n      setAllExceptCurrentTo(false);\n      commitChange = true;\n    } else if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      commitChange = true;\n      setAllExceptCurrentTo(false);\n    }\n\n    this.selectionsChanged(commitChange);\n  }\n\n  selectionsChanged(commitChange) {\n    this.selectedValues = _.filter(this.selectOptions, { selected: true });\n    this.value.value = _.map(this.selectedValues, 'value');\n    this.value.text = _.map(this.selectedValues, 'text').join(' + ');\n    if (!this.multiple) {\n      this.value.value = _.get(this.selectedValues, '0.value', '');\n    }\n\n    if (commitChange) {\n      this.commitChanges();\n    }\n  }\n\n  commitChanges() {\n    this.dropdownVisible = false;\n\n    this.updateLinkText();\n\n    if (this.value.text !== this.oldVariableText) {\n      this.onChange({ value: this.value });\n    }\n  }\n\n  queryChanged() {\n    this.highlightIndex = -1;\n    this.search.options = _.filter(this.selectOptions, (option) => {\n      return option.text.toLowerCase().indexOf(this.search.query.toLowerCase()) !== -1;\n    });\n\n    this.search.options = this.search.options.slice(0, Math.min(this.search.options.length, 1000));\n  }\n\n  init() {\n    if (_.isEmpty(this.value)) {\n      this.value = { text: '', value: this.multiple ? [] : '' };\n    }\n    this.updateLinkText();\n  }\n}\n\nconst template = `\n<div class=\"variable-link-wrapper\">\n  <a ng-click=\"vm.show()\" class=\"variable-value-link min-width-10\">\n    {{vm.linkText}}\n    <i class=\"fa fa-caret-down\" style=\"font-size:12px;float:right;position:relative;top:4px\"></i>\n  </a>\n\n  <input\n    type=\"text\"\n    class=\"gf-form-input\"\n    style=\"display: none\"\n    ng-keydown=\"vm.keyDown($event)\"\n    ng-model=\"vm.search.query\"\n    ng-change=\"vm.queryChanged()\"\n  ></input>\n\n  <div class=\"variable-value-dropdown\" ng-if=\"vm.dropdownVisible\" ng-class=\"{'multi': vm.multiple, 'single': !vm.multiple}\">\n    <div class=\"variable-options-wrapper\">\n      <div class=\"variable-options-column\">\n        <a class=\"variable-options-column-header\" ng-if=\"!!vm.multiple\" ng-class=\"{'many-selected': vm.selectedValues.length > 1}\"\n          bs-tooltip=\"'Clear selections'\" data-placement=\"top\" ng-click=\"vm.clearSelections()\">\n          <span class=\"variable-option-icon\"></span>\n          Selected ({{vm.selectedValues.length}})\n        </a>\n        <a class=\"variable-option pointer\" ng-repeat=\"option in vm.search.options\" ng-class=\"{'selected': option.selected, 'highlighted': $index === vm.highlightIndex}\"\n          ng-click=\"vm.selectValue(option, $event)\">\n          <span class=\"variable-option-icon\"></span>\n          <span>{{option.text}}</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\n/** @ngInject */\nexport function customSelectDropdown($compile, $window, $timeout, $rootScope) {\n  return {\n    restrict: 'E',\n    scope: { options: '=', multiple: '=', value: '=', onChange: '&' },\n    template: template,\n    controller: 'CustomSelectDropdownCtrl',\n    controllerAs: 'vm',\n    bindToController: true,\n    link: (scope, elem) => {\n      const bodyEl = angular.element($window.document.body);\n      const linkEl = elem.find('.variable-value-link');\n      const inputEl = elem.find('input');\n\n      function bodyOnClick(e) {\n        if (elem.has(e.target).length === 0) {\n          scope.$apply(() => {\n            scope.vm.commitChanges();\n          });\n        }\n      }\n\n      function openDropdown() {\n        inputEl.css('width', Math.max(linkEl.width(), 136) + 'px');\n\n        inputEl.show();\n        linkEl.hide();\n\n        inputEl.focus();\n        $timeout(\n          () => {\n            bodyEl.on('click', bodyOnClick);\n          },\n          0,\n          false\n        );\n      }\n\n      function switchToLink() {\n        inputEl.hide();\n        linkEl.show();\n        bodyEl.off('click', bodyOnClick);\n      }\n\n      scope.$watch('vm.dropdownVisible', (newValue) => {\n        if (newValue) {\n          openDropdown();\n        } else {\n          switchToLink();\n        }\n      });\n\n      scope.vm.init();\n    },\n  };\n}\n\ncoreModule.controller('CustomSelectDropdownCtrl', CustomSelectDropdownCtrl);\ncoreModule.directive('customSelectDropdown', customSelectDropdown);\n","import coreModule from 'grafana/app/core/core_module';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst genController = (component) =>\n  class Controller {\n    _$scope: any;\n    _$element: any;\n\n    /** @ngInject */\n    constructor($scope, $element) {\n      this._$scope = $scope;\n      this._$element = $element;\n    }\n\n    $onInit() {\n      // extract porps\n      const props = Object.entries(this._$scope).reduce((acc, [key, value]) => {\n        if (!key.startsWith('$')) {\n          if (typeof value === 'function') {\n            acc[key] = (...args) => value({ _query: args.length === 1 ? args[0] : args });\n          } else {\n            acc[key] = value;\n          }\n        }\n        return acc;\n      }, {} as any);\n\n      // wating dom mounted\n      setTimeout(() => {\n        ReactDOM.render(React.createElement(component, props), this._$element[0]);\n      });\n    }\n  };\n\nexport function loadReactComponent(\n  RectCompo: React.ComponentType,\n  componentName: string,\n  propTypes: Record<string, string>\n) {\n  coreModule.directive(componentName, () => ({\n    template: `<div class=\"${componentName}\"></div>`,\n    controller: genController(RectCompo),\n    restrict: 'E',\n    scope: propTypes,\n    replace: true,\n  }));\n}\n","import { Cascader } from '@grafana/ui';\nimport { loadReactComponent } from '../../common/react-loader';\n\nloadReactComponent(Cascader, 'gfCascader', {\n  separator: '@?',\n  placeholder: '@?',\n  options: '<',\n  changeOnSelect: '<?',\n  onSelect: '&',\n  width: '@?',\n  initialValue: '@?',\n  allowCustomValue: '<?',\n  formatCreateLabel: '&?',\n  displayAllSelectedLevels: '<?',\n});\n","import editorHtmlTmp from './query.editor.html';\nimport { SERVICES } from '../../tc_monitor';\n\nconst hackModuleName = {\n  loadBalance: 'clb',\n  lbPrivate: 'clb',\n  lbPublic: 'clb',\n  mongoDB: 'mongodb',\n\n  // MapReduce\n  mrHDFS: 'mr',\n  mrHBASE: 'mr',\n  mrHIVE: 'mr',\n  mrNODE: 'mr',\n  mrPRESTO: 'mr',\n  mrSPARK: 'mr',\n  mrYARN: 'mr',\n  mrZOOKEEPER: 'mr',\n};\n\nexport const editorHtml = (function () {\n  let str = editorHtmlTmp;\n  SERVICES.forEach(({ service }) => {\n    const serviceSwitch = hackModuleName[service] || service.replace(/([A-Z])/g, '-$1').toLowerCase();\n    str += `<${serviceSwitch}-query\n      ng-if=\"ctrl.target.service==='${service}'\"\n      target=\"ctrl.target.${service}\"\n      namespace=\"ctrl.target.namespace\"\n      show-detail=\"ctrl.checkShowDetail('instance')\"\n      datasource=\"ctrl.datasource\"\n      on-change=\"ctrl.onInstanceQueryChange()\"\n      on-refresh=\"ctrl.refresh()\"\n      dims=\"ctrl.target.${service}.dimensionObject\"\n      region=\"ctrl.getVariable(ctrl.target.${service}.region)\"\n    ></${serviceSwitch}-query>`;\n  });\n  const footStr = `\n    <div class=\"gf-form\" ng-show=\"ctrl.lastQueryError\">\n      <pre class=\"gf-form-pre alert alert-error\">{{ctrl.lastQueryError}}</pre>\n    </div>\n  </query-editor-row>`;\n  return str + footStr;\n})();\n","import { QueryCtrl } from 'grafana/app/plugins/sdk';\nimport _ from 'lodash';\n\nimport { GetServiceFromNamespace, ReplaceVariable, isVariable } from '../common/constants';\nimport { InitServiceState, InstanceAliasList, GetInstanceQueryParams, SERVICES } from '../tc_monitor';\n\nimport './components/multi_condition';\nimport './components/custom_select_dropdown';\nimport './components/cascader';\nimport './css/query_editor.css';\nimport { editorHtml } from './partials/queryEditorTemplate';\nimport { t, getLanguage, Language } from '../../locale';\nexport class TCMonitorDatasourceQueryCtrl extends QueryCtrl {\n  // static templateUrl = 'datasource/partials/query.editor.html';\n  static template = editorHtml;\n  datasource: any;\n  panelCtrl: any;\n  namespaces: string[] = [];\n  regions: any[] = [];\n  instanceList: any[] = [];\n  // listenerList: any[] = [];\n  metricList: any[] = [];\n  periodList: number[] = [];\n  dimensionList: any[] = [];\n  instanceAliasList: any[] = [];\n  // listenerAliasList: any[] = [];\n  target: {\n    refId: string;\n    service: string;\n    namespace: string;\n    showInstanceDetails: boolean;\n  };\n  defaults = {\n    namespace: '',\n    service: '',\n    showInstanceDetails: false,\n    ...InitServiceState,\n  };\n\n  cascaderOptions: any = [];\n\n  lastQuery: string;\n  lastQueryError?: string;\n\n  isMetricsNeedUpdate: boolean;\n  hideRegion: boolean;\n\n  $scope: any;\n\n  /** @ngInject */\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor($scope, $injector, private templateSrv) {\n    super($scope, $injector);\n    this.$scope = $scope;\n    this.cascaderOptions = this.datasource.getCascaderNamespaces();\n    this.namespaces = this.datasource.getNamespaces();\n    // \n    if (this.namespaces.length > 0) {\n      // if (_.indexOf(this.namespaces, this.target.namespace) === -1) {\n      //   this.target.namespace = this.namespaces[0];\n      // }\n      this.target.namespace =\n        this.target.namespace ?? this.cascaderOptions[0]?.items?.[0].value ?? this.cascaderOptions[0].value;\n      this.target.service = GetServiceFromNamespace(this.target.namespace) || '';\n    }\n    this.hideRegion = !!SERVICES.find((o) => o.service === this.target.service)?.hideRegion;\n    _.defaultsDeep(this.target, this.defaults);\n    this.instanceAliasList = this.getInstanceAliasList(this.target.service);\n    // this.listenerAliasList = this.getListenerAliasList(this.target.service);\n    this.panelCtrl.events.on('data-received', this.onDataReceived.bind(this), $scope);\n    this.panelCtrl.events.on('data-error', this.onDataError.bind(this), $scope);\n  }\n\n  get sortedPeriodList() {\n    return this.periodList.sort((a, b) => a - b);\n  }\n  get isCascader() {\n    return this.cascaderOptions.length > 1;\n  }\n  cascaderChange(namespace) {\n    this.target.namespace = namespace;\n    this.onNamespaceChange();\n  }\n\n  onDataReceived(dataList) {\n    this.lastQueryError = undefined;\n    this.lastQuery = '';\n\n    const anySeriesFromQuery: any = _.find(dataList, { refId: this.target.refId });\n    if (anySeriesFromQuery) {\n      this.lastQuery = anySeriesFromQuery.query;\n    }\n  }\n\n  onDataError(err) {\n    this.handleQueryCtrlError(err);\n  }\n\n  handleQueryCtrlError(err) {\n    if (_.get(err, 'query.refId') !== this.target.refId) {\n      return;\n    }\n\n    if (_.get(err, 'error.data.error.innererror', undefined)) {\n      if (_.get(err, 'error.data.error.innererror.innererror', undefined)) {\n        this.lastQueryError = _.get(err, 'error.data.error.innererror.innererror.message');\n      } else {\n        this.lastQueryError = _.get(err, 'error.data.error.innererror.message');\n      }\n    } else if (_.get(err, 'error.data.error', undefined)) {\n      this.lastQueryError = _.get(err, 'error.data.error.message');\n    } else if (_.get(err, 'error.data', undefined)) {\n      this.lastQueryError = _.get(err, 'error.data.message');\n    } else if (_.get(err, 'data.error', undefined)) {\n      this.lastQueryError = _.get(err, 'data.error.message');\n      // eslint-disable-next-line no-empty\n    } else if (err.data?.message) {\n    } else if (_.get(err, 'data.message', undefined)) {\n      this.lastQueryError = _.get(err, 'data.message');\n    } else {\n      this.lastQueryError = err;\n    }\n  }\n\n  /**\n   * \n   *\n   * @param service \n   */\n  getInstanceAliasList(service) {\n    if (!service) {\n      return [];\n    }\n    return _.map(InstanceAliasList[`${_.toUpper(service)}InstanceAliasList`] || [], (item) => ({\n      text: `As ${item}`,\n      value: item,\n    }));\n  }\n  getNamespaces(query) {\n    return _.map(this.namespaces, (o: any) => ({ text: o.label, value: o.namespace })); // TODO: \n  }\n  onNamespaceChange() {\n    const service = GetServiceFromNamespace(this.target.namespace) || '';\n    this.hideRegion = !!SERVICES.find((o) => o.service === service)?.hideRegion;\n    this.regions = [];\n    this.metricList = [];\n    this.periodList = [];\n    this.dimensionList = [];\n    this.instanceList = [];\n    // this.listenerList = [];\n\n    const initState = InitServiceState[service];\n    this.target[service] = _.cloneDeep(initState);\n    this.target.service = service;\n\n    this.instanceAliasList = this.getInstanceAliasList(service);\n    // this.listenerAliasList = this.getListenerAliasList(service);\n\n    this.refresh();\n    if (this.isCascader) this.$scope.$apply();\n  }\n\n  /**\n   * \n   * output:\n   *  [\n   *    {\n   *      \"Region\": \"ap-beijing\",\n   *      \"RegionName\": \"()\",\n   *      \"RegionState\": \"AVAILABLE\"\n   *    },\n   *    {\n   *      \"Region\": \"ap-guangzhou\",\n   *      \"RegionName\": \"()\",\n   *      \"RegionState\": \"AVAILABLE\"\n   *    }\n   *  ]\n   */\n  getRegions(query) {\n    const service = this.target.service;\n    if (!service || _.startsWith('$')) {\n      return [];\n    }\n    if (this.regions.length) {\n      return this.regions;\n    }\n    return this.datasource\n      .getRegions(service)\n      .then((list) => {\n        this.regions = list;\n        return list;\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n\n  onRegionChange() {\n    const service = this.target.service;\n    this.target[service].instance = '';\n    this.instanceList = [];\n    // this.listenerList = [];\n    this.isMetricsNeedUpdate = true;\n    _.forEach(this.target[service].dimensionObject, (__, key) => {\n      this.target[service].dimensionObject[key] = { Name: key, Value: '' };\n    });\n    this.target[service].queries = _.cloneDeep(InitServiceState[service].queries);\n    this.getInstances();\n    this.refresh();\n  }\n\n  /**\n   * \n   *\n   * @param variable \n   * @param multiple  false\n   */\n  getVariable(variable: string, multiple: boolean) {\n    return ReplaceVariable(this.templateSrv, this.panelCtrl.panel.scopedVars, variable, multiple);\n  }\n\n  getMetricNameDesc() {\n    const service = this.target.service;\n    const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n    if (index === -1) {\n      return '';\n    }\n    return getLanguage() === Language.Chinese ? this.metricList[index].Meaning.Zh : this.metricList[index].Meaning.En;\n  }\n\n  getMetrics(query) {\n    const service = this.target.service;\n    const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n\n    if (!service || !region) {\n      return [];\n    }\n    if (!this.isMetricsNeedUpdate && this.metricList.length > 0) {\n      return _.map(this.metricList, (item) => ({ text: item.MetricName, value: item.MetricName }));\n    }\n    return this.datasource\n      .getMetrics(service, region)\n      .then((list) => {\n        this.metricList = list;\n        this.isMetricsNeedUpdate = false;\n        const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n        if (index !== -1) {\n          this.periodList = _.get(this.metricList[index], 'Period', []);\n          this.dimensionList = _.get(this.metricList[index], 'Dimensions.0.Dimensions', []);\n        }\n        return _.map(list, (item) => ({ text: item.MetricName, value: item.MetricName }));\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n\n  onMetricChange() {\n    const service = this.target.service;\n    let periodList = [];\n    let dimensionList = [];\n    const dimensionObject: any = {};\n    let metricUnit = '';\n    const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n    if (index !== -1) {\n      periodList = _.get(this.metricList[index], 'Period', []);\n      dimensionList = _.get(this.metricList[index], 'Dimensions.0.Dimensions', []);\n      // dimensionList = dimensionList.length > 0 ? dimensionList : (DefaultDimensions[service] ?? []);\n      metricUnit = _.get(this.metricList[index], 'Unit', '');\n    }\n    _.forEach(dimensionList, (item) => {\n      dimensionObject[item] = { Name: item, Value: '' };\n    });\n    this.periodList = periodList;\n    this.dimensionList = dimensionList;\n    this.target[service].period =\n      periodList.length > 0 ? (_.indexOf(periodList, 300) === -1 ? periodList[0] : 300) : undefined;\n    this.target[service].dimensionObject = dimensionObject;\n    this.target[service].metricUnit = metricUnit;\n    this.refresh();\n  }\n\n  getInstances() {\n    const service = this.target.service;\n    const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n    if (!service || !region) {\n      return [];\n    }\n    const params = this.getInstanceQueryParams(service);\n    return this.datasource\n      .getInstances(service, region, params)\n      .then((list) => {\n        this.instanceList = list;\n        const instanceAlias = this.target[service].instanceAlias; // InstanceId\n        const instances: any[] = [];\n        _.forEach(list, (item) => {\n          //  instanceAlias _InstanceAliasValue constants.ts  ParseQueryResult\n          const instanceAliasValue = _.get(item, instanceAlias);\n          // console.log({instanceAliasValue}); InstanceId\n          if (instanceAliasValue) {\n            if (typeof instanceAliasValue === 'string') {\n              item._InstanceAliasValue = instanceAliasValue;\n              instances.push({ text: instanceAliasValue, value: JSON.stringify(item) });\n            } else if (_.isArray(instanceAliasValue)) {\n              _.forEach(instanceAliasValue, (subItem) => {\n                item._InstanceAliasValue = subItem;\n                instances.push({ text: subItem, value: JSON.stringify(item) });\n              });\n            }\n          }\n        });\n        return instances;\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n  onInstanceChange(v) {\n    // const service = this.target.service;\n    // if (this.target[service].listener) {\n    //   this.target[service].listener = '';\n    // }\n    // if (this.target[service].servers) {\n    //   this.target[service].servers = '';\n    // }\n    // if (this.target[service].serverPort) {\n    //   this.target[service].serverPort = '';\n    // }\n    this.refresh();\n  }\n\n  // getListeners() {\n  //   const service = this.target.service;\n  //   const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n  //   const instance = this.getVariable(_.get(this.target[service], 'instance', ''), false);\n  //   if (!service || !region) {\n  //     return [];\n  //   }\n  //   let instanceMap = {};\n  //   // console.log({instance});\n  //   try {\n  //     instanceMap = JSON.parse(instance);\n  //   } catch (e) {\n  //     console.log(e);\n  //   }\n  //   const idKey = IdKeys[service];\n  //   const instanceId = _.get(instanceMap, idKey);\n  //   return this.datasource.getListeners(service, region, instanceId)\n  //     .then(list => {\n  //       this.listenerList = list;\n  //       const listenerAlias = this.target[service].listenerAlias;\n  //       const listeners: any[] = [];\n  //       _.forEach(list, (item) => {\n  //         const listenerAliasValue = _.get(item, listenerAlias);\n  //         if (listenerAliasValue) {\n  //           if (typeof listenerAliasValue === 'string') {\n  //             item._listenerAliasValue = listenerAliasValue;\n  //             listeners.push({ text: listenerAliasValue, value: JSON.stringify(item) });\n  //           } else if (_.isArray(listenerAliasValue)) {\n  //             _.forEach(listenerAliasValue, (subItem) => {\n  //               item._listenerAliasValue = subItem;\n  //               listeners.push({ text: subItem, value: JSON.stringify(item) });\n  //             });\n  //           }\n  //         }\n  //       });\n  //       // console.log({listeners});\n  //       return listeners;\n  //     })\n  //     .catch(this.handleQueryCtrlError.bind(this));\n  // }\n  /**\n   * \n   *\n   * @param service \n   */\n  getInstanceQueryParams(service) {\n    const queries = this.target[service].queries;\n    if (GetInstanceQueryParams[`${_.toUpper(service)}GetInstanceQueryParams`]) {\n      return GetInstanceQueryParams[`${_.toUpper(service)}GetInstanceQueryParams`](queries);\n    } else {\n      return {};\n    }\n  }\n\n  onInstanceAliasChange() {\n    //  instance \n    if (!this.isVariable('instance')) {\n      const service = this.target.service;\n      this.target[service].instance = '';\n      this.refresh();\n    }\n  }\n\n  onInstanceQueryChange() {\n    //  instance \n    if (!this.isVariable('instance')) {\n      const service = this.target.service;\n      this.target[service].instance = '';\n      this.instanceList = [];\n      _.forEach(this.target[service].dimensionObject, (__, key) => {\n        this.target[service].dimensionObject[key] = { Name: key, Value: '' };\n      });\n      this.refresh();\n    }\n  }\n  isVariable(field) {\n    const service = this.target.service;\n    const value = this.target[service]?.[field];\n    return isVariable(value);\n  }\n  checkShowDetail(field) {\n    return !this.isVariable(field) && this.target.showInstanceDetails;\n  }\n  getTimeDesc() {\n    return `${t('time_unit')}: ${t('seconds')}`;\n  }\n  getSearchDesc() {\n    return t('search_description');\n  }\n}\n","import {\n  DataQuery,\n  DataSourceApi,\n  EventBusExtended,\n  LoadingState,\n  PanelModel,\n  QueryEditorProps,\n  TimeRange,\n  toLegacyResponseData,\n} from '@grafana/data';\nimport { DashboardModel } from 'grafana/app/features/dashboard/model';\nimport React, { PureComponent } from 'react';\nimport { AngularComponent, getAngularLoader } from '@grafana/runtime';\nimport EventEmitter from 'eventemitter3';\n\ninterface AngularQueryComponentScope<TQuery extends DataQuery> {\n  target: TQuery;\n  panel: PanelModel;\n  dashboard: DashboardModel;\n  events: EventBusExtended;\n  refresh: () => void;\n  render: () => void;\n  datasource: DataSourceApi<TQuery> | null;\n  toggleEditorMode?: () => void;\n  getCollapsedText?: () => string;\n  range: TimeRange;\n}\n\ninterface QueryCtrlProps extends QueryEditorProps<DataSourceApi<any>> {\n  queryCtrl: any;\n}\n\nexport class QueryCtrlRender<TQuery extends DataQuery> extends PureComponent<QueryCtrlProps> {\n  element: HTMLElement | null;\n  angularScope: AngularQueryComponentScope<TQuery> | null = null;\n  angularQueryEditor: AngularComponent | null = null;\n  // EventEmitterangularevents\n  events = new EventEmitter();\n\n  componentDidMount() {\n    if (process.env.NODE_ENV !== 'production') {\n      (window as any).ctrlRender = this;\n    }\n    setTimeout(() => {\n      this.forceUpdate();\n    });\n  }\n\n  componentDidUpdate(prevProps: QueryCtrlProps) {\n    const { data, range } = this.props;\n    if (data !== prevProps.data && data) {\n      if (data.state === LoadingState.Done) {\n        const legacy = data.series.map((v) => toLegacyResponseData(v));\n        this.events.emit('data-received', legacy);\n      } else if (data.state === LoadingState.Error) {\n        this.events.emit('data-error', data.error);\n      }\n      if (this.angularScope) {\n        this.angularScope.range = range!;\n      }\n    }\n    if (!this.element || this.angularQueryEditor) {\n      return;\n    }\n    this.renderAngularQueryEditor();\n  }\n\n  getAngularQueryComponentScope(): AngularQueryComponentScope<TQuery> {\n    const { query, queries, range: timeRange, datasource, queryCtrl } = this.props;\n    datasource.components = {\n      QueryCtrl: queryCtrl,\n    };\n\n    const panel = { scopedVars: {}, targets: queries || [] } as unknown as PanelModel; // new PanelModel({ targets: queries });\n    const dashboard = {} as unknown as DashboardModel;\n\n    return {\n      datasource: datasource,\n      target: query as unknown as TQuery,\n      panel: panel,\n      dashboard: dashboard,\n      refresh: () => {\n        this.props.onChange(query);\n        this.props.onRunQuery();\n      },\n      render: () => () => console.log('legacy render function called, it does nothing'),\n      events: this.events as any,\n      range: timeRange!,\n    };\n  }\n\n  renderAngularQueryEditor = () => {\n    if (!this.element) {\n      return;\n    }\n    if (this.angularQueryEditor) {\n      this.angularQueryEditor.destroy();\n      this.angularQueryEditor = null;\n    }\n\n    const loader = getAngularLoader();\n    const template = '<plugin-component type=\"query-ctrl\" />';\n    const scopeProps = { ctrl: this.getAngularQueryComponentScope() };\n\n    this.angularQueryEditor = loader.load(this.element, scopeProps, template);\n    this.angularScope = scopeProps.ctrl;\n  };\n\n  render() {\n    return (\n      <div\n        ref={(element) => {\n          this.element = element;\n        }}\n      />\n    );\n  }\n}\n","import { useRef } from 'react';\nvar useLatest = function (value) {\n    var ref = useRef(value);\n    ref.current = value;\n    return ref;\n};\nexport default useLatest;\n","import * as TYPES from './types';\nimport { GetRequestParams, GetServiceAPIInfo } from '../../../common/constants';\nimport { DataSourceInstanceSettings } from '@grafana/data';\nimport { getBackendSrv, getTemplateSrv } from '@grafana/runtime';\nimport _ from 'lodash';\nimport { IApiError, IRegionItem, IResourceRegionInfo } from './interface';\n\n/**\n * API\n *  data \n *  \n */\nexport interface IRequestParam {\n  region: string;\n  action: string;\n  data: any;\n}\n\nexport interface ICapiRequestParam extends IRequestParam {\n  serviceType: string;\n}\n\n/** instanceSettingsAPI */\ninterface IRequestOpts {\n  //  Sign \n  instanceSettings: DataSourceInstanceSettings;\n  // internal?: boolean;\n  // clientTimeout?: number;\n}\n\n/**\n * API\n */\nexport async function capiRequest({ serviceType, region, action, data }: ICapiRequestParam, opts: IRequestOpts) {\n  const { instanceSettings } = opts;\n  const serviceInfo = GetServiceAPIInfo(region, serviceType);\n  const requestOptions = await GetRequestParams(\n    { url: instanceSettings.url + serviceInfo.path, data },\n    serviceType,\n    {\n      region: getTemplateSrv().replace(region),\n      action,\n    },\n    '', // \n    instanceSettings.id,\n    getBackendSrv()\n  );\n  return getBackendSrv()\n    .datasourceRequest(requestOptions)\n    .then((response) => {\n      const result = _.get(response, 'data.Response', {});\n      if (result.Error) {\n        // eslint-disable-next-line no-throw-literal,@typescript-eslint/consistent-type-assertions\n        throw {\n          name: result.Error.Code,\n          code: result.Error.Code,\n          message: result.Error.Message,\n          data: {\n            Response: result,\n          },\n        } as IApiError;\n      }\n      return result;\n    })\n    .catch((error: Error) => {\n      console.error('error', error);\n      throw error;\n    });\n}\n\n/**\n * CLS api v3 \n */\nexport async function clsCapiRequest({ action, region, data = {} }: IRequestParam, opts: IRequestOpts) {\n  return capiRequest(\n    {\n      serviceType: 'cls',\n      region,\n      action,\n      data: data,\n    },\n    {\n      ...opts,\n    }\n  );\n}\n\n/**\n * REGION api v3 \n */\nexport async function regionCapiRequest({ action, region, data = {} }: IRequestParam, opts: IRequestOpts) {\n  return capiRequest(\n    {\n      serviceType: 'region',\n      region,\n      action,\n      data: data,\n    },\n    {\n      ...opts,\n    }\n  );\n}\n\n/** , 15 */\nexport async function SearchLog(\n  data: TYPES.SearchLogParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.SearchLogResult> {\n  return clsCapiRequest(\n    {\n      action: 'SearchLog',\n      region,\n      data: {\n        UseNewAnalysis: true,\n        ...data,\n      },\n    },\n    opts\n  );\n}\n\n/**  */\nexport async function DescribeLogContext(\n  data: TYPES.DescribeLogContextParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.DescribeLogContextResult> {\n  return clsCapiRequest(\n    {\n      action: 'DescribeLogContext',\n      data,\n      region,\n    },\n    opts\n  );\n}\n\n/**   */\nexport async function DescribeTopics(\n  data: TYPES.DescribeTopicsParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.DescribeTopicsResult> {\n  return clsCapiRequest(\n    {\n      action: 'DescribeTopics',\n      data,\n      region,\n    },\n    opts\n  );\n}\n\n/**\n * @description cls\n */\nasync function DescribeRegionsAndZonesRequest(product: string, opts?: IRequestOpts): Promise<IResourceRegionInfo[]> {\n  return regionCapiRequest(\n    { action: 'DescribeRegionsAndZones', data: { Product: product }, region: 'ap-guangzhou' },\n    opts\n  ).then((data) => data.ResourceRegionSet);\n}\n\nexport async function DescribeRegions(opts?: IRequestOpts): Promise<{ regionList: IRegionItem[] }> {\n  return DescribeRegionsAndZonesRequest('cls', opts).then((clsRegions) => ({\n    regionList: (clsRegions || []).map(\n      ({ Region, RegionId, RegionName, RegionShortName, RegionTypeMC, RegionType, Location }) => {\n        const regionItem: IRegionItem = {\n          region: Region,\n          regionId: Number(RegionId),\n          regionName: RegionName,\n          regionShortName: RegionShortName,\n\n          oversea: typeof RegionTypeMC === 'number' ? Boolean(RegionTypeMC) : RegionType === '',\n          area: Location,\n        };\n        return regionItem;\n      }\n    ),\n  }));\n}\n","import { useEffect } from 'react';\nvar useEffectOnce = function (effect) {\n    useEffect(effect, []);\n};\nexport default useEffectOnce;\n","import { SelectableValue } from '@grafana/data';\nimport { getTemplateSrv } from '@grafana/runtime';\n\nexport function getStringVariableNameOptions(): SelectableValue<string>[] {\n  const variables = getTemplateSrv()\n    .getVariables()\n    .filter((item) => ['adhoc', 'datasource', 'interval', 'interval'].indexOf(item.type) === -1);\n  const notMultiVariables = variables.filter((item) => !(item as any)?.multi);\n  return notMultiVariables.map((item) => {\n    const refValue = `\\$\\{${item.name}\\}`;\n    return { value: refValue, label: refValue };\n  });\n}\n","import React, { FC, useCallback, useEffect, useRef, useState } from 'react';\nimport { DescribeRegions, DescribeTopics, Filter, IRegionItem, ITopicIdentifier } from '../common/model';\nimport { InlineField, Select, AsyncSelect } from '@grafana/ui';\nimport { uuidRegex } from '../common/constants';\nimport { useEffectOnce } from 'react-use';\nimport { DataSourceApi, SelectableValue } from '@grafana/data';\nimport { getStringVariableNameOptions } from '../common/utils';\nimport { t } from '../../../locale';\n\ninterface Props {\n  value: ITopicIdentifier;\n  onChange: (v: ITopicIdentifier) => void;\n  datasource: DataSourceApi;\n  /**  */\n  preferLastValue?: boolean;\n}\n\nexport const TopicSelector: FC<Props> = React.memo((props) => {\n  const { value, preferLastValue = true, datasource } = props;\n\n  const onChange = useCallback(\n    (v: ITopicIdentifier) => {\n      try {\n        localStorage.setItem('LogServiceTopicSelectorDefaultValue', JSON.stringify(v));\n      } catch (e) {}\n      props.onChange(v);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  useEffectOnce(() => {\n    if (preferLastValue && !value.region && !value.TopicId) {\n      try {\n        const lastValue: ITopicIdentifier = JSON.parse(localStorage.getItem('LogServiceTopicSelectorDefaultValue'));\n        if (lastValue?.region && lastValue.TopicId) {\n          onChange(lastValue);\n        }\n      } catch (e) {}\n    }\n  });\n  const topicSelectOptionsRef = useRef<SelectableValue<string>>([]);\n  const [regionList, setRegionList] = useState<IRegionItem[]>([]);\n  useEffect(() => {\n    fetchRegions();\n  }, []);\n\n  const fetchRegions = useCallback(async () => {\n    try {\n      const { regionList } = await DescribeRegions({ instanceSettings: (datasource as any).instanceSettings });\n      setRegionList(regionList);\n    } catch (e) {}\n  }, []);\n\n  return (\n    <>\n      <InlineField label={t('region')} labelWidth={20}>\n        <Select\n          value={value.region}\n          onChange={(option) => {\n            const region = option.value;\n            DescribeTopics({ Limit: 1 }, region, { instanceSettings: (datasource as any).instanceSettings })\n              .then((result) => {\n                topicSelectOptionsRef.current = result.Topics?.map((item) => ({\n                  value: item.TopicId,\n                  label: `${item.TopicName} (${item.TopicId})`,\n                }));\n                onChange({\n                  region: option.value,\n                  TopicId: result.Topics?.[0]?.TopicId || '',\n                });\n              })\n              .catch((e) => {\n                onChange({\n                  region: option.value,\n                  TopicId: '',\n                });\n              });\n          }}\n          menuPlacement=\"bottom\"\n          options={[\n            ...regionList.map((item) => ({\n              label: `${item.area}(${item.regionName})`,\n              value: item.region,\n            })),\n            ...getStringVariableNameOptions(),\n          ]}\n          width={25}\n          className=\"log-service-monospaced-font-family\"\n        />\n      </InlineField>\n      <InlineField label={t('log_topic')} labelWidth={20}>\n        <AsyncSelect<string>\n          // \n          key={value.region}\n          width={50}\n          defaultOptions\n          cacheOptions={false}\n          loadOptions={async (filterStr) => {\n            const filters: Filter[] = [];\n            if (filterStr) {\n              if (uuidRegex.test(filterStr)) {\n                filters.push({ Key: 'topicId', Values: [filterStr] });\n              } else {\n                filters.push({ Key: 'topicName', Values: [filterStr] });\n              }\n            }\n            const options = await DescribeTopics({ Filters: filters, Limit: 100 }, value.region, {\n              instanceSettings: (datasource as any).instanceSettings,\n            }).then((result) => {\n              return result.Topics.map((item) => ({\n                value: item.TopicId,\n                label: `${item.TopicName} (${item.TopicId})`,\n              }));\n            });\n            const optionsWithVariables = [\n              ...options,\n              ...getStringVariableNameOptions().filter((item) => item.value?.includes(filterStr)),\n            ];\n            topicSelectOptionsRef.current = optionsWithVariables;\n            return optionsWithVariables;\n          }}\n          value={\n            topicSelectOptionsRef?.current?.find((item) => item.value === value.TopicId) || {\n              value: value.TopicId,\n              label: value.TopicId,\n            }\n          }\n          onChange={(e) => {\n            onChange({\n              region: value.region,\n              TopicId: e.value,\n            });\n          }}\n          className=\"log-service-monospaced-font-family\"\n        />\n      </InlineField>\n    </>\n  );\n});\n\nTopicSelector.displayName = 'TopicSelector';\n","import { DataSourceApi, QueryEditorProps } from '@grafana/data';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo, queryInfoRuntime } from '../types';\nimport React, { FC, useCallback } from 'react';\nimport { useLatest } from 'react-use';\nimport { InlineField, InlineLabel, QueryField, Select, InlineFieldRow, Input } from '@grafana/ui';\nimport { TopicSelector } from './components/TopicSelector';\nimport { TcDataSourceId } from '../common/constants';\nimport { t } from '../../locale';\nimport _ from 'lodash';\nimport './index.less';\nimport { SearchSyntaxRule } from './common/constants';\n\ntype Props = QueryEditorProps<DataSourceApi<any>, QueryInfo, MyDataSourceOptions>;\n\nexport const LogServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const propsRef = useLatest(props);\n  const { query, datasource } = props;\n  const logServiceParams = query.logServiceParams || _.clone(defaultQueryInfo.logServiceParams)!;\n\n  const partialOnChange = useCallback(\n    (queryInfo: Partial<QueryInfo>) => {\n      const { onChange, query } = propsRef.current;\n      // queryInfoRuntime\n      const oldQuery = _.pick(query, Object.keys(queryInfoRuntime));\n      onChange({ ...oldQuery, ...queryInfo } as unknown as QueryInfo);\n    },\n    [propsRef]\n  );\n\n  return (\n    <div>\n      <InlineFieldRow>\n        <TopicSelector\n          value={{ region: logServiceParams.region, TopicId: logServiceParams.TopicId }}\n          onChange={(v) => {\n            partialOnChange({\n              logServiceParams: {\n                ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                ...v,\n              },\n            });\n          }}\n          datasource={datasource}\n        />\n        <InlineField label={t('syntax_rule')} labelWidth={20}>\n          <Select\n            value={logServiceParams.SyntaxRule}\n            onChange={(v) => {\n              partialOnChange({\n                logServiceParams: {\n                  ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                  SyntaxRule: v.value,\n                },\n              });\n            }}\n            menuPlacement=\"bottom\"\n            options={[\n              {\n                label: 'Lucene',\n                value: SearchSyntaxRule.LUCENE,\n              },\n              {\n                label: 'CQL',\n                value: SearchSyntaxRule.CQL,\n              },\n            ]}\n            width={25}\n            className=\"log-service-monospaced-font-family\"\n          />\n        </InlineField>\n      </InlineFieldRow>\n\n      <MaxResultNumInput\n        value={logServiceParams.MaxResultNum}\n        onChange={(val) => {\n          partialOnChange({\n            logServiceParams: {\n              ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n              MaxResultNum: val,\n            },\n          });\n        }}\n      />\n\n      <div style={{ display: 'flex' }}>\n        <InlineLabel width={20}>{t('search_statement')}</InlineLabel>\n        <div style={{ flexGrow: 1 }}>\n          <QueryField\n            portalOrigin={TcDataSourceId}\n            placeholder={`e.g. _SOURCE__: 127.0.0.1 AND \"http/1.0\"`}\n            query={logServiceParams.Query}\n            onChange={(v) => {\n              partialOnChange({\n                logServiceParams: {\n                  ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                  Query: v,\n                },\n              });\n            }}\n            // By default QueryField calls onChange if onBlur is not defined, this will trigger a rerender\n            // And slate will claim the focus, making it impossible to leave the field.\n            onBlur={() => {}}\n          />\n        </div>\n      </div>\n    </div>\n  );\n});\n\nLogServiceQueryEditor.displayName = 'LogServiceQueryEditor';\n\ninterface MaxResultNumInputProps {\n  value: string | number;\n  onChange: (value: number | undefined) => void;\n}\n\nconst MaxResultNumInput: FC<MaxResultNumInputProps> = React.memo((props) => {\n  const min = 1;\n  const max = 1000;\n  const { value, onChange: onChangeFromProps } = props;\n\n  const onInputChange = useCallback(\n    (e) => {\n      const currVal = Number(e.currentTarget.value) || undefined;\n      onChangeFromProps(currVal);\n    },\n    [onChangeFromProps]\n  );\n\n  return (\n    <InlineField\n      label={t('max_result_num')}\n      labelWidth={20}\n      invalid={value < min || value > max}\n      // @ts-ignore  error\n      error=\"11000\"\n    >\n      <Input\n        type=\"number\"\n        min={min}\n        max={max}\n        value={value}\n        onChange={onInputChange}\n        width={25}\n        className=\"log-service-monospaced-font-family\"\n      />\n    </InlineField>\n  );\n});\n","import { reduce } from 'lodash';\nimport kbn from 'grafana/app/core/utils/kbn';\n\nfunction renderTagCondition(tag: { operator: any; value: string; condition: any; key: string }, index: number) {\n  // FIXME: merge this function with RUM_query_model/renderTagCondition\n  let str = '';\n  let operator = tag.operator;\n  let value = tag.value;\n  if (index > 0) {\n    str = (tag.condition.toLowerCase() || 'AND') + ' ';\n  }\n\n  if (!operator) {\n    if (/^\\/.*\\/$/.test(tag.value)) {\n      operator = '=~';\n    } else {\n      operator = '=';\n    }\n  }\n\n  // quote value unless regex or number, or if empty-string\n  if (value === '' || (operator !== '=~' && operator !== '!~')) {\n    value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n  }\n\n  return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n}\n\nexport class RUMQueryBuilder {\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor(private target: { measurement: any; tags: any; policy?: any }, private database?: string) {}\n\n  buildExploreQuery(type: string, withKey?: string, withMeasurementFilter?: string): string {\n    let query = '';\n    let measurement;\n    let policy;\n\n    if (type === 'TAG_KEYS') {\n      query = 'show tag keys';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'TAG_VALUES') {\n      query = 'show tag values';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'MEASUREMENTS') {\n      query = 'show measurements';\n      if (withMeasurementFilter) {\n        // we do a case-insensitive regex-based lookup\n        query += ' with measurement =~ /(?i)' + kbn.regexEscape(withMeasurementFilter) + '/';\n      }\n    } else if (type === 'FIELDS') {\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n\n      if (!measurement.match('^/.*/')) {\n        measurement = '\"' + measurement + '\"';\n\n        if (policy && policy !== 'default') {\n          policy = '\"' + policy + '\"';\n          measurement = policy + '.' + measurement;\n        }\n      }\n\n      return 'show field keys from ' + measurement;\n    } else if (type === 'RETENTION POLICIES') {\n      query = 'show retention policies on \"' + this.database + '\"';\n      return query;\n    }\n\n    if (measurement) {\n      if (!measurement.match('^/.*/') && !measurement.match(/^merge\\(.*\\)/)) {\n        measurement = '\"' + measurement + '\"';\n      }\n\n      if (policy && policy !== 'default') {\n        policy = '\"' + policy + '\"';\n        measurement = policy + '.' + measurement;\n      }\n\n      query += ' from ' + measurement;\n    }\n\n    if (withKey) {\n      query += ' with key = \"' + withKey + '\"';\n    }\n\n    if (this.target.tags && this.target.tags.length > 0) {\n      const whereConditions = reduce(\n        this.target.tags,\n        (memo, tag) => {\n          if (type === 'MEASUREMENTS' && tag.key === 'id') {\n            return memo;\n          }\n          // do not add a condition for the key we want to explore for\n          if (tag.key === withKey) {\n            return memo;\n          }\n\n          // value operators not supported in these types of queries\n          if (tag.operator === '>' || tag.operator === '<') {\n            return memo;\n          }\n\n          memo.push(renderTagCondition(tag, memo.length));\n          return memo;\n        },\n        [] as string[]\n      );\n\n      if (whereConditions.length > 0) {\n        query += ' where ' + whereConditions.join(' ');\n      }\n    }\n\n    if (type === 'MEASUREMENTS') {\n      query += ' limit 100';\n      // Solve issue #2524 by limiting the number of measurements returned\n      // LIMIT must be after WITH MEASUREMENT and WHERE clauses\n      // This also could be used for TAG KEYS and TAG VALUES, if desired\n    }\n\n    return query;\n  }\n}\n","import { RUMQueryTag } from './types';\nimport { RUMQueryBuilder } from './query_builder';\nimport { ServiceType } from '../types';\nimport { DataSource } from '../DataSource';\n\nconst runExploreQuery = (\n  type: string,\n  withKey: string | undefined,\n  withMeasurementFilter: string | undefined,\n  target: { measurement: string | undefined; tags: RUMQueryTag[]; policy: string | undefined },\n  datasource: DataSource\n): Promise<Array<{ text: string }>> => {\n  const builder = new RUMQueryBuilder(target);\n  const q = builder.buildExploreQuery(type, withKey, withMeasurementFilter);\n  return datasource.metricFindQuery(\n    {\n      serviceType: ServiceType.RUMService,\n      queryString: q,\n    },\n    undefined\n  );\n};\n\nexport async function getAllPolicies(datasource: DataSource): Promise<string[]> {\n  const target = { tags: [], measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('RETENTION POLICIES', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getAllMeasurementsForTags(\n  measurementFilter: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('MEASUREMENTS', undefined, measurementFilter, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagKeysForMeasurementAndTags(\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_KEYS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagValues(\n  tagKey: string,\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_VALUES', tagKey, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getFieldKeysForMeasurement(\n  measurement: string,\n  policy: string | undefined,\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags: [], measurement, policy };\n  const data = await runExploreQuery('FIELDS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n","import { clone, each, map } from 'lodash';\n\nexport class QueryPartDef {\n  type: string;\n  params: any[];\n  defaultParams: any[];\n  renderer: any;\n  category: any;\n  addStrategy: any;\n\n  constructor(options: any) {\n    this.type = options.type;\n    this.params = options.params;\n    this.defaultParams = options.defaultParams;\n    this.renderer = options.renderer;\n    this.category = options.category;\n    this.addStrategy = options.addStrategy;\n  }\n}\n\nexport class QueryPart {\n  part: any;\n  def: QueryPartDef;\n  params: any[];\n  text: string;\n\n  constructor(part: any, def: any) {\n    this.part = part;\n    this.def = def;\n    if (!this.def) {\n      // eslint-disable-next-line no-throw-literal\n      throw { message: 'Could not find query part ' + part.type };\n    }\n\n    part.params = part.params || clone(this.def.defaultParams);\n    this.params = part.params;\n    this.text = '';\n    this.updateText();\n  }\n\n  render(innerExpr: string) {\n    return this.def.renderer(this, innerExpr);\n  }\n\n  hasMultipleParamsInString(strValue: string, index: number) {\n    if (strValue.indexOf(',') === -1) {\n      return false;\n    }\n\n    return this.def.params[index + 1] && this.def.params[index + 1].optional;\n  }\n\n  updateParam(strValue: string, index: number) {\n    // handle optional parameters\n    // if string contains ',' and next param is optional, split and update both\n    if (this.hasMultipleParamsInString(strValue, index)) {\n      each(strValue.split(','), (partVal, idx) => {\n        this.updateParam(partVal.trim(), idx);\n      });\n      return;\n    }\n\n    if (strValue === '' && this.def.params[index].optional) {\n      this.params.splice(index, 1);\n    } else {\n      this.params[index] = strValue;\n    }\n\n    this.part.params = this.params;\n    this.updateText();\n  }\n\n  updateText() {\n    if (this.params.length === 0) {\n      this.text = this.def.type + '()';\n      return;\n    }\n\n    let text = this.def.type + '(';\n    text += this.params.join(', ');\n    text += ')';\n    this.text = text;\n  }\n}\n\nexport function functionRenderer(part: any, innerExpr: string) {\n  const str = part.def.type + '(';\n  const parameters = map(part.params, (value, index) => {\n    const paramType = part.def.params[index];\n    if (paramType.type === 'time') {\n      if (value === 'auto') {\n        value = '$__interval';\n      }\n    }\n    if (paramType.quote === 'single') {\n      return \"'\" + value + \"'\";\n    } else if (paramType.quote === 'double') {\n      return '\"' + value + '\"';\n    }\n\n    return value;\n  });\n\n  if (innerExpr) {\n    parameters.unshift(innerExpr);\n  }\n  return str + parameters.join(', ') + ')';\n}\n\nexport function suffixRenderer(part: QueryPart, innerExpr: string) {\n  return innerExpr + ' ' + part.params[0];\n}\n\nexport function identityRenderer(part: QueryPart, innerExpr: string) {\n  return part.params[0];\n}\n\nexport function quotedIdentityRenderer(part: QueryPart, innerExpr: string) {\n  return '\"' + part.params[0] + '\"';\n}\n\nconst index: any[] = [];\nconst categories: any = {\n  Aggregations: [],\n  Selectors: [],\n  Transformations: [],\n  Predictors: [],\n  Math: [],\n  Aliasing: [],\n  Fields: [],\n};\n\nfunction createPart(part: any): any {\n  const def = index[part.type];\n  if (!def) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: 'Could not find query part ' + part.type };\n  }\n\n  return new QueryPart(part, def);\n}\n\nfunction register(options: any) {\n  index[options.type] = new QueryPartDef(options);\n  options.category.push(index[options.type]);\n}\n\nconst groupByTimeFunctions: any[] = [];\n\nfunction aliasRenderer(part: { params: string[] }, innerExpr: string) {\n  // eslint-disable-next-line no-useless-concat\n  return innerExpr + ' AS ' + '\"' + part.params[0] + '\"';\n}\n\nfunction fieldRenderer(part: { params: string[] }, innerExpr: any) {\n  if (part.params[0] === '*') {\n    return '*';\n  }\n  return '\"' + part.params[0] + '\"';\n}\n\nfunction replaceAggregationAddStrategy(selectParts: any[], partModel: { def: { type: string } }) {\n  // look for existing aggregation\n  for (let i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Aggregations) {\n      if (part.def.type === partModel.def.type) {\n        return;\n      }\n      // count distinct is allowed\n      if (part.def.type === 'count' && partModel.def.type === 'distinct') {\n        break;\n      }\n      // remove next aggregation if distinct was replaced\n      if (part.def.type === 'distinct') {\n        const morePartsAvailable = selectParts.length >= i + 2;\n        if (partModel.def.type !== 'count' && morePartsAvailable) {\n          const nextPart = selectParts[i + 1];\n          if (nextPart.def.category === categories.Aggregations) {\n            selectParts.splice(i + 1, 1);\n          }\n        } else if (partModel.def.type === 'count') {\n          if (!morePartsAvailable || selectParts[i + 1].def.type !== 'count') {\n            selectParts.splice(i + 1, 0, partModel);\n          }\n          return;\n        }\n      }\n      selectParts[i] = partModel;\n      return;\n    }\n    if (part.def.category === categories.Selectors) {\n      selectParts[i] = partModel;\n      return;\n    }\n  }\n\n  selectParts.splice(1, 0, partModel);\n}\n\nfunction addTransformationStrategy(selectParts: any[], partModel: any) {\n  let i;\n  // look for index to add transformation\n  for (i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Math || part.def.category === categories.Aliasing) {\n      break;\n    }\n  }\n\n  selectParts.splice(i, 0, partModel);\n}\n\nfunction addMathStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is math, replace it\n    if (selectParts[partCount - 1].def.type === 'math') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n    // if next to last is math, replace it\n    if (partCount > 1 && selectParts[partCount - 2].def.type === 'math') {\n      selectParts[partCount - 2] = partModel;\n      return;\n    } else if (selectParts[partCount - 1].def.type === 'alias') {\n      // if last is alias add it before\n      selectParts.splice(partCount - 1, 0, partModel);\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addAliasStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is alias, replace it\n    if (selectParts[partCount - 1].def.type === 'alias') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addFieldStrategy(selectParts: any, partModel: any, query: { selectModels: any[][] }) {\n  // copy all parts\n  const parts = map(selectParts, (part: any) => {\n    return createPart({ type: part.def.type, params: clone(part.params) });\n  });\n\n  query.selectModels.push(parts);\n}\n\nregister({\n  type: 'field',\n  addStrategy: addFieldStrategy,\n  category: categories.Fields,\n  params: [{ type: 'field', dynamicLookup: true }],\n  defaultParams: ['value'],\n  renderer: fieldRenderer,\n});\n\n// Aggregations\nregister({\n  type: 'count',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'distinct',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'integral',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mean',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'median',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mode',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'sum',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\n// transformations\n\nregister({\n  type: 'derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'spread',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'moving_average',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: 'window', type: 'int', options: [5, 10, 20, 30, 40] }],\n  defaultParams: [10],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'cumulative_sum',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'stddev',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'time',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'interval',\n      type: 'time',\n      options: ['$__interval', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['$__interval'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'fill',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'fill',\n      type: 'string',\n      options: ['none', 'null', '0', 'previous', 'linear'],\n    },\n  ],\n  defaultParams: ['null'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'elapsed',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\n// predictions\nregister({\n  type: 'holt_winters',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'holt_winters_with_fit',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\n// Selectors\nregister({\n  type: 'bottom',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'first',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'last',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'max',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'min',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'percentile',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'nth', type: 'int' }],\n  defaultParams: [95],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'top',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'tag',\n  category: groupByTimeFunctions,\n  params: [{ name: 'tag', type: 'string', dynamicLookup: true }],\n  defaultParams: ['tag'],\n  renderer: fieldRenderer,\n});\n\nregister({\n  type: 'math',\n  addStrategy: addMathStrategy,\n  category: categories.Math,\n  params: [{ name: 'expr', type: 'string' }],\n  defaultParams: [' / 100'],\n  renderer: suffixRenderer,\n});\n\nregister({\n  type: 'alias',\n  addStrategy: addAliasStrategy,\n  category: categories.Aliasing,\n  params: [{ name: 'name', type: 'string', quote: 'double' }],\n  defaultParams: ['alias'],\n  renderMode: 'suffix',\n  renderer: aliasRenderer,\n});\n\nexport default {\n  create: createPart,\n  getCategories: () => {\n    return categories;\n  },\n  replaceAggregationAdd: replaceAggregationAddStrategy,\n};\n","import { map, find, filter, indexOf, cloneDeep } from 'lodash';\nimport queryPart from './query_part';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport { RUMQuery, RUMQueryTag } from './types';\nimport { ScopedVars } from '@grafana/data';\nimport { TemplateSrv } from '@grafana/runtime';\nimport { defaultQueryInfo } from '../types';\n\nexport default class RUMQueryModel {\n  target: RUMQuery;\n  selectModels: any[] = [];\n  queryBuilder: any;\n  groupByParts: any;\n  templateSrv: any;\n  scopedVars: any;\n  refId?: string;\n\n  /** @ngInject */\n  constructor(target: RUMQuery, templateSrv?: TemplateSrv, scopedVars?: ScopedVars) {\n    this.target = target;\n    this.templateSrv = templateSrv;\n    this.scopedVars = scopedVars;\n\n    target.policy = target.policy || defaultQueryInfo.RUMServiceParams.policy;\n    target.resultFormat = target.resultFormat || defaultQueryInfo.RUMServiceParams.resultFormat;\n    target.orderByTime = target.orderByTime || defaultQueryInfo.RUMServiceParams.orderByTime;\n    target.tags = target.tags || cloneDeep(defaultQueryInfo.RUMServiceParams.tags);\n    target.groupBy = target.groupBy || cloneDeep(defaultQueryInfo.RUMServiceParams.groupBy);\n    target.select = target.select || cloneDeep(defaultQueryInfo.RUMServiceParams.select);\n\n    this.updateProjection();\n  }\n\n  updateProjection() {\n    this.selectModels = map(this.target.select, (parts: any) => {\n      return map(parts, queryPart.create);\n    });\n    this.groupByParts = map(this.target.groupBy, queryPart.create);\n  }\n\n  updatePersistedParts() {\n    this.target.select = map(this.selectModels, (selectParts) => {\n      return map(selectParts, (part: any) => {\n        return { type: part.def.type, params: part.params };\n      });\n    });\n  }\n\n  hasGroupByTime() {\n    return find(this.target.groupBy, (g: any) => g.type === 'time');\n  }\n\n  hasFill() {\n    return find(this.target.groupBy, (g: any) => g.type === 'fill');\n  }\n\n  addGroupBy(value: string) {\n    let stringParts = value.match(/^(\\w+)\\((.*)\\)$/);\n\n    if (!stringParts || !this.target.groupBy) {\n      return;\n    }\n\n    const typePart = stringParts[1];\n    const arg = stringParts[2];\n    const partModel = queryPart.create({ type: typePart, params: [arg] });\n    const partCount = this.target.groupBy.length;\n\n    if (partCount === 0) {\n      this.target.groupBy.push(partModel.part);\n    } else if (typePart === 'time') {\n      this.target.groupBy.splice(0, 0, partModel.part);\n    } else if (typePart === 'tag') {\n      if (this.target.groupBy[partCount - 1].type === 'fill') {\n        this.target.groupBy.splice(partCount - 1, 0, partModel.part);\n      } else {\n        this.target.groupBy.push(partModel.part);\n      }\n    } else {\n      this.target.groupBy.push(partModel.part);\n    }\n\n    this.updateProjection();\n  }\n\n  removeGroupByPart(part: { def: { type: string } }, index: number) {\n    const categories = queryPart.getCategories();\n\n    if (part.def.type === 'time') {\n      // remove fill\n      this.target.groupBy = filter(this.target.groupBy, (g: any) => g.type !== 'fill');\n      // remove aggregations\n      this.target.select = map(this.target.select, (s: any) => {\n        return filter(s, (part: any) => {\n          const partModel = queryPart.create(part);\n          if (partModel.def.category === categories.Aggregations) {\n            return false;\n          }\n          if (partModel.def.category === categories.Selectors) {\n            return false;\n          }\n          return true;\n        });\n      });\n    }\n\n    this.target.groupBy!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelect(index: number) {\n    this.target.select!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelectPart(selectParts: any[], part: any) {\n    // if we remove the field remove the whole statement\n    if (part.def.type === 'field') {\n      if (this.selectModels.length > 1) {\n        const modelsIndex = indexOf(this.selectModels, selectParts);\n        this.selectModels.splice(modelsIndex, 1);\n      }\n    } else {\n      const partIndex = indexOf(selectParts, part);\n      selectParts.splice(partIndex, 1);\n    }\n\n    this.updatePersistedParts();\n  }\n\n  addSelectPart(selectParts: any[], type: string) {\n    const partModel = queryPart.create({ type: type });\n    partModel.def.addStrategy(selectParts, partModel, this);\n    this.updatePersistedParts();\n  }\n\n  getMeasurementAndPolicy(interpolate: any) {\n    let policy = this.target.policy;\n    let measurement = this.target.measurement || 'measurement';\n\n    if (!measurement.match('^/.*/$')) {\n      measurement = '\"' + measurement + '\"';\n    } else if (interpolate) {\n      measurement = this.templateSrv.replace(measurement, this.scopedVars, 'regex');\n    }\n\n    if (policy !== 'default') {\n      policy = '\"' + this.target.policy + '\".';\n    } else {\n      policy = '';\n    }\n\n    return policy + measurement;\n  }\n\n  interpolateQueryStr(value: any[], variable: { multi: any; includeAll: any }, defaultFormatFn: any) {\n    // if no multi or include all do not regexEscape\n    if (!variable.multi && !variable.includeAll) {\n      return value;\n    }\n\n    if (typeof value === 'string') {\n      return kbn.regexEscape(value);\n    }\n\n    const escapedValues = map(value, kbn.regexEscape);\n    return '(' + escapedValues.join('|') + ')';\n  }\n\n  render(interpolate?: boolean) {\n    const target = this.target;\n\n    if (target.rawQuery) {\n      if (interpolate) {\n        return this.templateSrv.replace(target.query, this.scopedVars, this.interpolateQueryStr);\n      } else {\n        return target.query;\n      }\n    }\n\n    let query = 'select ';\n    let i;\n    let y;\n    for (i = 0; i < this.selectModels.length; i++) {\n      const parts = this.selectModels[i];\n      let selectText = '';\n      for (y = 0; y < parts.length; y++) {\n        const part = parts[y];\n        selectText = part.render(selectText);\n      }\n\n      if (i > 0) {\n        query += ', ';\n      }\n      query += selectText;\n    }\n\n    query += ' from ' + this.getMeasurementAndPolicy(interpolate) + ' where ';\n    const conditions = map(target.tags, (tag, index) => {\n      return this.renderTagCondition(tag, index, interpolate);\n    });\n\n    if (conditions.length > 0) {\n      query += '(' + conditions.join(' ') + ') and ';\n    }\n\n    query += '$timeFilter';\n\n    let groupBySection = '';\n    for (i = 0; i < this.groupByParts.length; i++) {\n      const part = this.groupByParts[i];\n      if (i > 0) {\n        // for some reason fill has no separator\n        groupBySection += part.def.type === 'fill' ? ' ' : ', ';\n      }\n      groupBySection += part.render('');\n    }\n\n    if (groupBySection.length) {\n      query += ' group by ' + groupBySection;\n    }\n\n    if (target.fill) {\n      query += ' fill(' + target.fill + ')';\n    }\n\n    if (target.orderByTime === 'DESC') {\n      query += ' order by time desc';\n    }\n\n    if (target.limit) {\n      query += ' limit ' + target.limit;\n    }\n\n    if (target.slimit) {\n      query += ' slimit ' + target.slimit;\n    }\n\n    if (target.tz) {\n      query += \" tz('\" + target.tz + \"')\";\n    }\n\n    return query;\n  }\n\n  renderAdhocFilters(filters: any[]) {\n    const conditions = map(filters, (tag, index) => {\n      return this.renderTagCondition(tag, index, true);\n    });\n    return conditions.join(' ');\n  }\n\n  private renderTagCondition(tag: RUMQueryTag, index: number, interpolate?: boolean) {\n    // FIXME: merge this function with query_builder/renderTagCondition\n    let str = '';\n    let operator = tag.operator;\n    let value = tag.value;\n    if (index > 0) {\n      str = (tag.condition.toLowerCase() || 'and') + ' ';\n    }\n\n    if (!operator) {\n      if (/^\\/.*\\/$/.test(value)) {\n        operator = '=~';\n      } else {\n        operator = '=';\n      }\n    }\n\n    // quote value unless regex\n    if (operator !== '=~' && operator !== '!~') {\n      if (interpolate) {\n        value = this.templateSrv.replace(value, this.scopedVars);\n      }\n      if (operator !== '>' && operator !== '<') {\n        value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n      }\n    } else if (interpolate) {\n      value = this.templateSrv.replace(value, this.scopedVars, 'regex');\n    }\n\n    return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n  }\n}\n","export function unwrap<T>(value: T | null | undefined): T {\n  if (value === null) {\n    throw new Error('value must not be nullish');\n  }\n  return value;\n}\n","import { SelectableValue } from '@grafana/data';\n\nexport function toSelectableValue<T extends string>(t: T): SelectableValue<T> {\n  return { label: t, value: t };\n}\n","import { RUMQuery, RUMQueryPart } from '../types';\nimport { SelectableValue } from '@grafana/data';\nimport { PartParams } from '../components/PartListSection';\nimport RUMQueryModel from '../RUM_query_model';\nimport { unwrap } from './unwrap';\nimport queryPart, { QueryPartDef } from '../query_part';\nimport { toSelectableValue } from './toSelectableValue';\n\ntype Categories = Record<string, QueryPartDef[]>;\n\nexport function getNewSelectPartOptions(): SelectableValue[] {\n  const categories: Categories = queryPart.getCategories();\n  const options: SelectableValue[] = [];\n\n  const keys = Object.keys(categories);\n\n  keys.forEach((key) => {\n    const children: SelectableValue[] = categories[key].map((x) => toSelectableValue(x.type));\n\n    options.push({\n      label: key,\n      options: children,\n    });\n  });\n\n  return options;\n}\n\nexport async function getNewGroupByPartOptions(\n  query: RUMQuery,\n  getTagKeys: () => Promise<string[]>\n): Promise<Array<SelectableValue<string>>> {\n  const tagKeys = await getTagKeys();\n  const queryCopy = { ...query }; // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  const options: Array<SelectableValue<string>> = [];\n  if (!model.hasFill()) {\n    options.push(toSelectableValue('fill(null)'));\n  }\n  if (!model.hasGroupByTime()) {\n    options.push(toSelectableValue('time($interval)'));\n  }\n  tagKeys.forEach((key) => {\n    options.push(toSelectableValue(`tag(${key})`));\n  });\n  return options;\n}\n\ninterface Part {\n  name: string;\n  params: PartParams;\n}\n\nfunction getPartParams(part: RUMQueryPart, dynamicParamOptions: Map<string, () => Promise<string[]>>): PartParams {\n  // NOTE: the way the system is constructed,\n  // there always can only be one possible dynamic-lookup\n  // field. in case of select it is the field,\n  // in case of group-by it is the tag\n  const def = queryPart.create(part).def;\n\n  // we switch the numbers to strings, it will work that way too,\n  // and it makes the code simpler\n  const paramValues = (part.params ?? []).map((p) => p.toString());\n\n  if (paramValues.length !== def.params.length) {\n    throw new Error('Invalid query-segment');\n  }\n\n  return paramValues.map((val, index) => {\n    const defParam = def.params[index];\n    if (defParam.dynamicLookup) {\n      return {\n        value: val,\n        options: unwrap(dynamicParamOptions.get(`${def.type}_${index}`)),\n      };\n    }\n\n    if (defParam.options !== null || defParam.options !== undefined) {\n      return {\n        value: val,\n        options: () => Promise.resolve(defParam.options),\n      };\n    }\n\n    return {\n      value: val,\n      options: null,\n    };\n  });\n}\n\nexport function makePartList(\n  queryParts: RUMQueryPart[],\n  dynamicParamOptions: Map<string, () => Promise<string[]>>\n): Part[] {\n  return queryParts.map((qp) => {\n    return {\n      name: qp.type,\n      params: getPartParams(qp, dynamicParamOptions),\n    };\n  });\n}\n","import React from 'react';\nimport { css } from 'emotion';\nimport { GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles, InlineFieldRow } from '@grafana/ui';\n\n/**\n * Horizontal section for editor components.\n *\n * @alpha\n */\nexport const SegmentSection = ({\n  label,\n  htmlFor,\n  children,\n  fill,\n}: {\n  // Name of the section\n  label: string;\n  // htmlFor for the label\n  htmlFor?: string;\n  // List of components in the section\n  children: React.ReactNode;\n  // Fill the space at the end\n  fill?: boolean;\n}) => {\n  const styles = useStyles(getStyles);\n  return (\n    <InlineFieldRow>\n      <InlineLabel htmlFor={htmlFor} width={12} className={styles.label}>\n        {label}\n      </InlineLabel>\n      {children}\n      {fill && (\n        <div className={styles.fill}>\n          <InlineLabel> </InlineLabel>\n        </div>\n      )}\n    </InlineFieldRow>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme) => ({\n  label: css`\n    color: #33a2e5;\n  `,\n  fill: css`\n    flex-grow: 1;\n    margin-bottom: ${theme.spacing.inlineFormMargin};\n  `,\n});\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { __assign } from \"tslib\";\nimport { useCallback, useRef, useState } from 'react';\nimport useMountedState from './useMountedState';\nexport default function useAsyncFn(fn, deps, initialState) {\n    if (deps === void 0) { deps = []; }\n    if (initialState === void 0) { initialState = { loading: false }; }\n    var lastCallId = useRef(0);\n    var isMounted = useMountedState();\n    var _a = useState(initialState), state = _a[0], set = _a[1];\n    var callback = useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callId = ++lastCallId.current;\n        if (!state.loading) {\n            set(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });\n        }\n        return fn.apply(void 0, args).then(function (value) {\n            isMounted() && callId === lastCallId.current && set({ value: value, loading: false });\n            return value;\n        }, function (error) {\n            isMounted() && callId === lastCallId.current && set({ error: error, loading: false });\n            return error;\n        });\n    }, deps);\n    return [state, callback];\n}\n","import { useCallback, useEffect, useRef } from 'react';\nexport default function useMountedState() {\n    var mountedRef = useRef(false);\n    var get = useCallback(function () { return mountedRef.current; }, []);\n    useEffect(function () {\n        mountedRef.current = true;\n        return function () {\n            mountedRef.current = false;\n        };\n    }, []);\n    return get;\n}\n","import { useEffect, useRef } from 'react';\nexport default function usePrevious(state) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = state;\n    });\n    return ref.current;\n}\n","import { useState, useEffect } from 'react';\nimport { usePrevious } from 'react-use';\n\nexport function useShadowedState<T>(outsideVal: T): [T, (newVal: T) => void] {\n  const [currentVal, setCurrentVal] = useState(outsideVal);\n  const prevOutsideVal = usePrevious(outsideVal);\n\n  useEffect(() => {\n    const isOutsideValChanged = prevOutsideVal !== outsideVal;\n    // if the value changes from the outside, we accept it into the state\n    // (we only set it if it is different from the current value)\n    if (isOutsideValChanged && currentVal !== outsideVal) {\n      setCurrentVal(outsideVal);\n    }\n  }, [outsideVal, currentVal, prevOutsideVal]);\n\n  return [currentVal, setCurrentVal];\n}\n","import React, { useState, useEffect } from 'react';\nimport { cx, css } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { useAsyncFn } from 'react-use';\nimport { InlineLabel, Select, AsyncSelect, Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\n\n// this file is a simpler version of `grafana-ui / SegmentAsync.tsx`\n// with some changes:\n// 1. click-outside does not select the value. i think it's better to be explicit here.\n// 2. we set a min-width on the select-element to handle cases where the `value`\n//    is very short, like \"x\", and then you click on it and the select opens,\n//    and it tries to be as short as \"x\" and it does not work well.\n\n// NOTE: maybe these changes could be migrated into the SegmentAsync later\n\ntype SelVal = SelectableValue<string>;\n\n// when allowCustomValue is true, there is no way to enforce the selectableValue\n// enum-type, so i just go with `string`\n\ntype LoadOptions = (filter: string) => Promise<SelVal[]>;\n\ninterface Props {\n  value: string;\n  buttonClassName?: string;\n  loadOptions?: LoadOptions;\n  // if filterByLoadOptions is false,\n  // loadOptions is only executed once,\n  // when the select-box opens,\n  // and as you write, the list gets filtered\n  // by the select-box.\n  // if filterByLoadOptions is true,\n  // as you write the loadOptions is executed again and again,\n  // and it is relied on to filter the results.\n  filterByLoadOptions?: boolean;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n  disabled?: boolean;\n}\n\nconst selectClass = css({\n  minWidth: '160px',\n});\n\ninterface SelProps {\n  loadOptions: LoadOptions;\n  filterByLoadOptions?: boolean;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\ninterface SelReloadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\n// when a custom value is written into a select-box,\n// by default the new value is prefixed with \"Create:\",\n// and that sounds confusing because here we do not create\n// anything. we change this to just be the entered string.\nconst formatCreateLabel = (v: string) => v;\n\nconst SelReload = ({ loadOptions, allowCustomValue, onChange, onClose }: SelReloadProps): JSX.Element => {\n  // here we rely on the fact that writing text into the <AsyncSelect/>\n  // does not cause a re-render of the current react component.\n  // this way there is only a single render-call,\n  // so there is only a single `debouncedLoadOptions`.\n  // if we want ot make this \"re-render safe,\n  // we will have to put the debounced call into an useRef,\n  // and probably have an useEffect\n  // const debouncedLoadOptions = debouncePromise(loadOptions, 1000, { leading: true });\n  return (\n    <div className={selectClass}>\n      <AsyncSelect\n        formatCreateLabel={formatCreateLabel}\n        defaultOptions\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        loadOptions={loadOptions}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\ninterface SelSingleLoadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\nconst SelSingleLoad = ({ loadOptions, allowCustomValue, onChange, onClose }: SelSingleLoadProps): JSX.Element => {\n  const [loadState, doLoad] = useAsyncFn(loadOptions, [loadOptions]);\n\n  useEffect(() => {\n    doLoad('');\n  }, [doLoad, loadOptions]);\n\n  return (\n    <div className={selectClass}>\n      <Select\n        isLoading={loadState.loading}\n        formatCreateLabel={formatCreateLabel}\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        options={loadState.value ?? []}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nconst Sel = ({ loadOptions, filterByLoadOptions, allowCustomValue, onChange, onClose }: SelProps): JSX.Element => {\n  // unfortunately <Segment/> and <SegmentAsync/> have somewhat different behavior,\n  // so the simplest approach was to just create two separate wrapper-components\n  return filterByLoadOptions ? (\n    <SelReload loadOptions={loadOptions} allowCustomValue={allowCustomValue} onChange={onChange} onClose={onClose} />\n  ) : (\n    <SelSingleLoad\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={onChange}\n      onClose={onClose}\n    />\n  );\n};\n\ninterface InpProps {\n  initialValue: string;\n  onChange: (newVal: string) => void;\n  onClose: () => void;\n}\n\nconst Inp = ({ initialValue, onChange, onClose }: InpProps): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(initialValue);\n\n  return (\n    <Input\n      autoFocus\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onClose}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          onChange(currentValue);\n        }\n      }}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue}\n    />\n  );\n};\n\nconst defaultButtonClass = css({\n  width: 'auto',\n  cursor: 'pointer',\n});\n\nexport const Seg = ({\n  value,\n  buttonClassName,\n  loadOptions,\n  filterByLoadOptions,\n  allowCustomValue,\n  onChange,\n  disabled,\n}: Props): JSX.Element => {\n  const [isOpen, setOpen] = useState(false);\n  if (!isOpen) {\n    const className = cx(defaultButtonClass, buttonClassName);\n    return (\n      <InlineLabel\n        as=\"button\"\n        className={className}\n        onClick={() => {\n          setOpen(!disabled);\n        }}\n      >\n        {value}\n      </InlineLabel>\n    );\n  } else {\n    if (loadOptions !== undefined) {\n      return (\n        <Sel\n          loadOptions={loadOptions}\n          filterByLoadOptions={filterByLoadOptions ?? false}\n          allowCustomValue={allowCustomValue}\n          onChange={(v) => {\n            setOpen(false);\n            onChange(v);\n          }}\n          onClose={() => {\n            setOpen(false);\n          }}\n        />\n      );\n    } else {\n      return (\n        <Inp\n          initialValue={value}\n          onClose={() => {\n            setOpen(false);\n          }}\n          onChange={(v) => {\n            setOpen(false);\n            onChange({ value: v, label: v });\n          }}\n        />\n      );\n    }\n  }\n};\n","import React from 'react';\nimport { Seg } from './Seg';\nimport { toSelectableValue } from '../common/toSelectableValue';\n\nconst DEFAULT_POLICY = 'default';\n\ninterface Props {\n  onChange: (policy: string | undefined, measurement: string | undefined) => void;\n  policy: string | undefined;\n  measurement: string | undefined;\n  getPolicyOptions: () => Promise<string[]>;\n  getMeasurementOptions: (filter: string) => Promise<string[]>;\n}\n\nexport const FromSection = ({\n  policy,\n  measurement,\n  onChange,\n  getPolicyOptions,\n  getMeasurementOptions,\n}: Props): JSX.Element => {\n  const handlePolicyLoadOptions = async () => {\n    const allPolicies = await getPolicyOptions();\n    // if `default` does not exist in the list of policies, we add it\n    const allPoliciesWithDefault = allPolicies.some((p) => p === 'default')\n      ? allPolicies\n      : [DEFAULT_POLICY, ...allPolicies];\n\n    return allPoliciesWithDefault.map(toSelectableValue);\n  };\n\n  const handleMeasurementLoadOptions = async (filter: string) => {\n    const allMeasurements = await getMeasurementOptions(filter);\n    return allMeasurements.map(toSelectableValue);\n  };\n\n  return (\n    <>\n      <Seg\n        allowCustomValue\n        value={policy ?? 'using default policy'}\n        loadOptions={handlePolicyLoadOptions}\n        onChange={(v) => {\n          onChange(v.value, measurement);\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={measurement ?? 'select measurement'}\n        loadOptions={handleMeasurementLoadOptions}\n        filterByLoadOptions\n        onChange={(v) => {\n          onChange(policy, v.value);\n        }}\n      />\n    </>\n  );\n};\n","import { RUMQueryTag } from '../types';\n\nfunction isRegex(text: string): boolean {\n  return /^\\/.*\\/$/.test(text);\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in rum_query_model.ts\nexport function getOperator(tag: RUMQueryTag): string {\n  return tag.operator ?? (isRegex(tag.value) ? '=~' : '=');\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in rum_query_model.ts\nexport function getCondition(tag: RUMQueryTag, isFirst: boolean): string | undefined {\n  return isFirst ? undefined : tag.condition ?? 'AND';\n}\n\nexport function adjustOperatorIfNeeded(currentOperator: string, newTagValue: string): string {\n  const isCurrentOperatorRegex = currentOperator === '=~' || currentOperator === '!~';\n  const isNewTagValueRegex = isRegex(newTagValue);\n\n  if (isNewTagValueRegex) {\n    return isCurrentOperatorRegex ? currentOperator : '=~';\n  } else {\n    return isCurrentOperatorRegex ? '=' : currentOperator;\n  }\n}\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\n\ninterface Props {\n  loadOptions: () => Promise<SelectableValue[]>;\n  allowCustomValue?: boolean;\n  onAdd: (v: string) => void;\n}\n\nexport const AddButton = ({ loadOptions, allowCustomValue, onAdd }: Props): JSX.Element => {\n  return (\n    <Seg\n      value=\"+\"\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={(v) => {\n        onAdd(unwrap(v.value));\n      }}\n    />\n  );\n};\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { RUMQueryTag } from '../types';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { adjustOperatorIfNeeded, getCondition, getOperator } from '../common/tagUtils';\nimport { AddButton } from './AddButton';\n\ntype KnownOperator = '=' | '!=' | '<>' | '<' | '>' | '=~' | '!~';\nconst knownOperators: KnownOperator[] = ['=', '!=', '<>', '<', '>', '=~', '!~'];\n\ntype KnownCondition = 'AND' | 'OR';\nconst knownConditions: KnownCondition[] = ['AND', 'OR'];\n\nconst operatorOptions: Array<SelectableValue<KnownOperator>> = knownOperators.map(toSelectableValue);\nconst condititonOptions: Array<SelectableValue<KnownCondition>> = knownConditions.map(toSelectableValue);\n\ninterface Props {\n  tags: RUMQueryTag[];\n  onChange: (tags: RUMQueryTag[]) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\ninterface TagProps {\n  tag: RUMQueryTag;\n  isFirst: boolean;\n  onRemove: () => void;\n  onChange: (tag: RUMQueryTag) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\nconst loadConditionOptions = () => Promise.resolve(condititonOptions);\n\nconst loadOperatorOptions = () => Promise.resolve(operatorOptions);\n\nconst Tag = ({ tag, isFirst, onRemove, onChange, getTagKeyOptions, getTagValueOptions }: TagProps): JSX.Element => {\n  const operator = getOperator(tag);\n  const condition = getCondition(tag, isFirst);\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions()\n      .catch((err) => {\n        // in this UI element we add a special item to the list of options,\n        // that is used to remove the element.\n        // this causes a problem: if `getTagKeyOptions` fails with an error,\n        // the remove-filter option is never added to the list,\n        // and the UI element can not be removed.\n        // to avoid it, we catch any potential errors coming from `getTagKeyOptions`,\n        // log the error, and pretend that the list of options is an empty list.\n        // this way the remove-item option can always be added to the list.\n        console.error(err);\n        return [];\n      })\n      .then((tags) => [{ label: '-- remove filter --', value: undefined }, ...tags.map(toSelectableValue)]);\n  };\n\n  const getTagValueSegmentOptions = () => {\n    return getTagValueOptions(tag.key).then((tags) => tags.map(toSelectableValue));\n  };\n\n  return (\n    <div className=\"gf-form\">\n      {condition !== undefined && (\n        <Seg\n          value={condition}\n          loadOptions={loadConditionOptions}\n          disabled\n          onChange={(v) => {\n            onChange({ ...tag, condition: v.value });\n          }}\n        />\n      )}\n      <Seg\n        allowCustomValue\n        value={tag.key}\n        loadOptions={getTagKeySegmentOptions}\n        onChange={(v) => {\n          const { value } = v;\n          if (value === undefined) {\n            onRemove();\n          } else {\n            onChange({ ...tag, key: value ?? '' });\n          }\n        }}\n      />\n      <Seg\n        value={operator}\n        loadOptions={loadOperatorOptions}\n        onChange={(op) => {\n          onChange({ ...tag, operator: op.value });\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={tag.value}\n        loadOptions={getTagValueSegmentOptions}\n        onChange={(v) => {\n          const value = v.value ?? '';\n          onChange({ ...tag, value, operator: adjustOperatorIfNeeded(operator, value) });\n        }}\n      />\n    </div>\n  );\n};\n\nexport const TagsSection = ({ tags, onChange, getTagKeyOptions, getTagValueOptions }: Props): JSX.Element => {\n  const onTagChange = (newTag: RUMQueryTag, index: number) => {\n    const newTags = tags.map((tag, i) => {\n      return index === i ? newTag : tag;\n    });\n    onChange(newTags);\n  };\n\n  const onTagRemove = (index: number) => {\n    const newTags = tags.filter((t, i) => i !== index);\n    onChange(newTags);\n  };\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions().then((tags) => tags.map(toSelectableValue));\n  };\n\n  const addNewTag = (tagKey: string, isFirst: boolean) => {\n    const minimalTag: RUMQueryTag = {\n      key: tagKey,\n      value: 'select tag value',\n    };\n\n    const newTag: RUMQueryTag = {\n      key: minimalTag.key,\n      value: minimalTag.value,\n      operator: getOperator(minimalTag),\n      condition: getCondition(minimalTag, isFirst),\n    };\n\n    onChange([...tags, newTag]);\n  };\n\n  return (\n    <>\n      {tags.map((t, i) => (\n        <Tag\n          tag={t}\n          isFirst={i === 0}\n          key={i}\n          onChange={(newT) => {\n            onTagChange(newT, i);\n          }}\n          onRemove={() => {\n            onTagRemove(i);\n          }}\n          getTagKeyOptions={getTagKeyOptions}\n          getTagValueOptions={getTagValueOptions}\n        />\n      ))}\n      <AddButton\n        allowCustomValue\n        loadOptions={getTagKeySegmentOptions}\n        onAdd={(v) => {\n          addNewTag(v, tags.length === 0);\n        }}\n      />\n    </>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { cx, css } from 'emotion';\nimport { WithContextMenu, useTheme } from '@grafana/ui';\nimport { SelectableValue, GrafanaTheme } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { AddButton } from './AddButton';\n\nexport type PartParams = Array<{\n  value: string;\n  options: (() => Promise<string[]>) | null;\n}>;\n\ninterface Props {\n  parts: Array<{\n    name: string;\n    params: PartParams;\n  }>;\n  getNewPartOptions: () => Promise<SelectableValue[]>;\n  onChange: (partIndex: number, paramValues: string[]) => void;\n  onRemovePart: (index: number) => void;\n  onAddNewPart: (type: string) => void;\n}\n\nconst renderRemovableNameMenuItems = (onClick: () => void) => {\n  return [{ items: [{ label: 'remove', onClick }] }];\n};\n\nconst noRightMarginPaddingClass = css({\n  paddingRight: '0',\n  marginRight: '0',\n});\n\nconst RemovableName = ({ name, onRemove }: { name: string; onRemove: () => void }) => {\n  return (\n    <WithContextMenu getContextMenuItems={() => renderRemovableNameMenuItems(onRemove)}>\n      {({ openMenu }) => (\n        <button className={cx('gf-form-label', noRightMarginPaddingClass)} onClick={openMenu}>\n          {name}\n        </button>\n      )}\n    </WithContextMenu>\n  );\n};\n\ninterface PartProps {\n  name: string;\n  params: PartParams;\n  onRemove: () => void;\n  onChange: (paramValues: string[]) => void;\n}\n\nconst noHorizMarginPaddingClass = css({\n  paddingLeft: '0',\n  paddingRight: '0',\n  marginLeft: '0',\n  marginRight: '0',\n});\n\nconst getPartClass = (theme: GrafanaTheme) => {\n  return cx(\n    'gf-form-label',\n    css({\n      paddingLeft: '0',\n      // gf-form-label class makes certain css attributes incorrect\n      // for the selectbox-dropdown, so we have to \"reset\" them back\n      lineHeight: theme.typography.lineHeight.md,\n      fontSize: theme.typography.size.base,\n    })\n  );\n};\n\nconst Part = ({ name, params, onChange, onRemove }: PartProps): JSX.Element => {\n  const theme = useTheme();\n  const partClass = useMemo(() => getPartClass(theme), [theme]);\n\n  const onParamChange = (par: string, i: number) => {\n    const newParams = params.map((p) => p.value);\n    newParams[i] = par;\n    onChange(newParams);\n  };\n\n  return (\n    <div className={partClass}>\n      <RemovableName name={name} onRemove={onRemove} />(\n      {params.map((p, i) => {\n        const { value, options } = p;\n        const isLast = i === params.length - 1;\n        const loadOptions =\n          options !== null ? () => options().then((items) => items.map(toSelectableValue)) : undefined;\n        return (\n          <React.Fragment key={i}>\n            <Seg\n              allowCustomValue\n              value={value}\n              buttonClassName={noHorizMarginPaddingClass}\n              loadOptions={loadOptions}\n              onChange={(v) => {\n                onParamChange(unwrap(v.value), i);\n              }}\n            />\n            {!isLast && ','}\n          </React.Fragment>\n        );\n      })}\n      )\n    </div>\n  );\n};\n\nexport const PartListSection = ({\n  parts,\n  getNewPartOptions,\n  onAddNewPart,\n  onRemovePart,\n  onChange,\n}: Props): JSX.Element => {\n  return (\n    <>\n      {parts.map((part, index) => (\n        <Part\n          key={index}\n          name={part.name}\n          params={part.params}\n          onRemove={() => {\n            onRemovePart(index);\n          }}\n          onChange={(pars) => {\n            onChange(index, pars);\n          }}\n        />\n      ))}\n      <AddButton loadOptions={getNewPartOptions} onAdd={onAddNewPart} />\n    </>\n  );\n};\n","import { css } from 'emotion';\n\nexport const paddingRightClass = css({\n  paddingRight: '4px',\n});\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  value: string | undefined;\n  onChange: (value: string | undefined) => void;\n  isWide?: boolean;\n  placeholder?: string;\n}\n\nexport const InputSection = ({ value, onChange, isWide, placeholder }: Props): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(value);\n\n  const onBlur = () => {\n    // we send empty-string as undefined\n    const newValue = currentValue === '' ? undefined : currentValue;\n    onChange(newValue);\n  };\n\n  return (\n    <Input\n      placeholder={placeholder}\n      className={cx(isWide ?? false ? 'width-14' : 'width-8', paddingRightClass)}\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onBlur}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue ?? ''}\n    />\n  );\n};\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { unwrap } from '../common/unwrap';\nimport { Select } from '@grafana/ui';\nimport { paddingRightClass } from './styles';\n\ntype Mode = 'ASC' | 'DESC';\n\nconst OPTIONS: Array<SelectableValue<Mode>> = [\n  { label: 'ascending', value: 'ASC' },\n  { label: 'descending', value: 'DESC' },\n];\n\nconst className = cx('width-9', paddingRightClass);\n\ninterface Props {\n  value: Mode;\n  onChange: (value: Mode) => void;\n  inputId?: string;\n}\n\nexport const OrderByTimeSection = ({ value, onChange, inputId }: Props): JSX.Element => {\n  return (\n    <Select<Mode>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={value}\n      options={OPTIONS}\n    />\n  );\n};\n","import { SelectableValue } from '@grafana/data';\nimport { ResultFormat } from '../types';\n\nexport const RESULT_FORMATS: Array<SelectableValue<ResultFormat>> = [\n  { label: 'Time series', value: 'time_series' },\n  { label: 'Table', value: 'table' },\n  { label: 'Logs', value: 'logs' },\n];\n\nexport const DEFAULT_RESULT_FORMAT: ResultFormat = 'time_series';\n\nexport const ENABLE_MEASUREMENTS: Array<string> = [\n  'log_url_statistics',\n  'event_url_statistics',\n  'pv_url_statistics',\n  'user_event_user_event_unique',\n  'uv_project_unique',\n  'uv_page_unique',\n  'custom_url_info',\n  'custom_url_statistics',\n  'fetch_url_info',\n  'fetch_url_statistics',\n  'fetch_project_statistics',\n  'set_data_url_statistics',\n  'performance_page_statistics',\n  'performance_project_statistics',\n  'static_url_source',\n  'static_resource_statistics',\n  'static_project_statistics',\n  'webvitals_page_statistics',\n  'webvitals_project_statistics',\n];\n","import { Select } from '@grafana/ui';\nimport { cx } from 'emotion';\nimport { ResultFormat } from '../types';\nimport React from 'react';\nimport { unwrap } from '../common/unwrap';\nimport { RESULT_FORMATS } from '../common/constants';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  inputId?: string;\n  format: ResultFormat;\n  onChange: (newFormat: ResultFormat) => void;\n}\n\nconst className = cx('width-8', paddingRightClass);\n\nexport const FormatAsSection = ({ format, inputId, onChange }: Props): JSX.Element => {\n  return (\n    <Select<ResultFormat>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={format}\n      options={RESULT_FORMATS}\n    />\n  );\n};\n","import React, { useMemo, FC, useEffect } from 'react';\nimport { css } from 'emotion';\nimport { QueryEditorProps, GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles } from '@grafana/ui';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport {\n  getAllMeasurementsForTags,\n  getAllPolicies,\n  getFieldKeysForMeasurement,\n  getTagKeysForMeasurementAndTags,\n  getTagValues,\n} from './RUMMetadataQuery';\nimport {\n  normalizeQuery,\n  addNewSelectPart,\n  removeSelectPart,\n  addNewGroupByPart,\n  removeGroupByPart,\n  changeSelectPart,\n  changeGroupByPart,\n} from './queryUtils';\nimport { getNewSelectPartOptions, getNewGroupByPartOptions, makePartList } from './common/partListUtils';\nimport { SegmentSection } from './components/SegmentSection';\nimport { FromSection } from './components/FromSection';\nimport { TagsSection } from './components/TagsSection';\nimport { PartListSection } from './components/PartListSection';\nimport { InputSection } from './components/InputSection';\nimport { OrderByTimeSection } from './components/OrderByTimeSection';\nimport { FormatAsSection } from './components/FormatAsSection';\nimport { useUniqueId } from './common/useUniqueId';\nimport { DEFAULT_RESULT_FORMAT } from './common/constants';\nimport { RUMQuery, RUMQueryTag } from './types';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo } from '../types';\nimport { clone } from 'lodash';\nimport { DataSource } from '../DataSource';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\n\nfunction getTemplateVariableOptions() {\n  return (\n    getTemplateSrv()\n      .getVariables()\n      // we make them regex-params, i'm not 100% sure why.\n      // probably because this way multi-value variables work ok too.\n      .map((v) => `/^$${v.name}$/`)\n  );\n}\n\n// helper function to make it easy to call this from the widget-render-code\nfunction withTemplateVariableOptions(optionsPromise: Promise<string[]>): Promise<string[]> {\n  return optionsPromise.then((options) => [...getTemplateVariableOptions(), ...options]);\n}\n\nfunction filterTags(parts: RUMQueryTag[], allTagKeys: Set<string>): RUMQueryTag[] {\n  return parts.filter((t) => allTagKeys.has(t.key));\n}\n\nexport const RUMServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const uniqueId = useUniqueId();\n  const formatAsId = `rum-qe-format-as-${uniqueId}`;\n  const orderByTimeId = `rum-qe-order-by${uniqueId}`;\n\n  const styles = useStyles(getStyles);\n\n  const { datasource, onChange, query: queryInfo } = props;\n  const query = normalizeQuery(queryInfo.RUMServiceParams || clone(defaultQueryInfo.RUMServiceParams));\n  const { measurement, policy } = query;\n\n  useEffect(() => {\n    if (!queryInfo.RUMServiceParams) {\n      onChange({ ...queryInfo, RUMServiceParams: clone(defaultQueryInfo.RUMServiceParams) });\n    }\n  }, [onChange, queryInfo]);\n\n  const allTagKeys = useMemo(() => {\n    return getTagKeysForMeasurementAndTags(measurement, policy, [], datasource)\n      .then((tags) => {\n        return new Set(tags);\n      })\n      .catch((err) => {\n        console.error('getTagKeysForMeasurementAndTags', err);\n        return new Set('');\n      });\n  }, [measurement, policy, datasource]);\n\n  const selectLists = useMemo(() => {\n    const dynamicSelectPartOptions = new Map([\n      [\n        'field_0',\n        () => {\n          return measurement !== undefined\n            ? getFieldKeysForMeasurement(measurement, policy, datasource)\n            : Promise.resolve([]);\n        },\n      ],\n    ]);\n    return (query.select ?? []).map((sel) => makePartList(sel, dynamicSelectPartOptions));\n  }, [measurement, policy, query.select, datasource]);\n\n  // the following function is not complicated enough to memoize, but it's result\n  // is used in both memoized and un-memoized parts, so we have no choice\n  const getTagKeys = useMemo(() => {\n    return () =>\n      allTagKeys.then((keys) =>\n        getTagKeysForMeasurementAndTags(measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n      );\n  }, [measurement, policy, query.tags, datasource, allTagKeys]);\n\n  const groupByList = useMemo(() => {\n    const dynamicGroupByPartOptions = new Map([['tag_0', getTagKeys]]);\n\n    return makePartList(query.groupBy ?? [], dynamicGroupByPartOptions);\n  }, [getTagKeys, query.groupBy]);\n\n  const onAppliedChange = (newQuery: RUMQuery) => {\n    props.onChange({\n      ...props.query,\n      RUMServiceParams: newQuery,\n    });\n    props.onRunQuery();\n  };\n  const handleFromSectionChange = (p: string | undefined, m: string | undefined) => {\n    onAppliedChange({\n      ...query,\n      policy: p,\n      measurement: m,\n    });\n  };\n\n  const handleTagsSectionChange = (tags: RUMQueryTag[]) => {\n    // we set empty-arrays to undefined\n    onAppliedChange({\n      ...query,\n      tags: tags.length === 0 ? undefined : tags,\n    });\n  };\n\n  return (\n    <div>\n      <SegmentSection label=\"FROM\" fill={true}>\n        <FromSection\n          policy={policy}\n          measurement={measurement}\n          getPolicyOptions={() => getAllPolicies(datasource)}\n          getMeasurementOptions={(filter) =>\n            withTemplateVariableOptions(\n              allTagKeys.then((keys) =>\n                getAllMeasurementsForTags(\n                  filter === '' ? undefined : filter,\n                  filterTags(query.tags ?? [], keys),\n                  datasource\n                )\n              )\n            )\n          }\n          onChange={handleFromSectionChange}\n        />\n        <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n          WHERE\n        </InlineLabel>\n        <TagsSection\n          tags={query.tags ?? []}\n          onChange={handleTagsSectionChange}\n          getTagKeyOptions={getTagKeys}\n          getTagValueOptions={(key: string) =>\n            withTemplateVariableOptions(\n              allTagKeys.then((keys) =>\n                getTagValues(key, measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n              )\n            )\n          }\n        />\n      </SegmentSection>\n      {selectLists.map((sel, index) => (\n        <SegmentSection key={index} label={index === 0 ? 'SELECT' : ''} fill={true}>\n          <PartListSection\n            parts={sel}\n            getNewPartOptions={() => Promise.resolve(getNewSelectPartOptions())}\n            onChange={(partIndex, newParams) => {\n              const newQuery = changeSelectPart(query, index, partIndex, newParams);\n              onAppliedChange(newQuery);\n            }}\n            onAddNewPart={(type) => {\n              onAppliedChange(addNewSelectPart(query, type, index));\n            }}\n            onRemovePart={(partIndex) => {\n              onAppliedChange(removeSelectPart(query, partIndex, index));\n            }}\n          />\n        </SegmentSection>\n      ))}\n      <SegmentSection label=\"GROUP BY\" fill={true}>\n        <PartListSection\n          parts={groupByList}\n          getNewPartOptions={() => getNewGroupByPartOptions(query, getTagKeys)}\n          onChange={(partIndex, newParams) => {\n            const newQuery = changeGroupByPart(query, partIndex, newParams);\n            onAppliedChange(newQuery);\n          }}\n          onAddNewPart={(type) => {\n            onAppliedChange(addNewGroupByPart(query, type));\n          }}\n          onRemovePart={(partIndex) => {\n            onAppliedChange(removeGroupByPart(query, partIndex));\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection label=\"TIMEZONE\" fill={true}>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.tz}\n          onChange={(tz) => {\n            onAppliedChange({ ...query, tz });\n          }}\n        />\n        <InlineLabel htmlFor={orderByTimeId} width=\"auto\" className={styles.inlineLabel}>\n          ORDER BY TIME\n        </InlineLabel>\n        <OrderByTimeSection\n          inputId={orderByTimeId}\n          value={query.orderByTime === 'DESC' ? 'DESC' : 'ASC' /* FIXME: make this shared with RUM_query_model */}\n          onChange={(v) => {\n            onAppliedChange({ ...query, orderByTime: v });\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection label=\"LIMIT\" fill={true}>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.limit?.toString()}\n          onChange={(limit) => {\n            onAppliedChange({ ...query, limit });\n          }}\n        />\n        <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n          SLIMIT\n        </InlineLabel>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.slimit?.toString()}\n          onChange={(slimit) => {\n            onAppliedChange({ ...query, slimit });\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection htmlFor={formatAsId} label=\"FORMAT AS\" fill={true}>\n        <FormatAsSection\n          inputId={formatAsId}\n          format={query.resultFormat ?? DEFAULT_RESULT_FORMAT}\n          onChange={(format) => {\n            onAppliedChange({ ...query, resultFormat: format });\n          }}\n        />\n        {query.resultFormat !== 'table' && (\n          <>\n            <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n              ALIAS\n            </InlineLabel>\n            <InputSection\n              isWide\n              placeholder=\"Naming pattern\"\n              value={query.alias}\n              onChange={(alias) => {\n                onAppliedChange({ ...query, alias });\n              }}\n            />\n          </>\n        )}\n      </SegmentSection>\n    </div>\n  );\n});\n\nfunction getStyles(theme: GrafanaTheme) {\n  return {\n    inlineLabel: css`\n      color: #33a2e5;\n    `,\n  };\n}\n\nRUMServiceQueryEditor.displayName = 'RUMServiceQueryEditor';\n","import { useRef } from 'react';\nimport { uniqueId } from 'lodash';\n\nexport function useUniqueId(): string {\n  // we need to lazy-init this ref.\n  // otherwise we would call `uniqueId`\n  // on every render. unfortunately\n  // useRef does not have lazy-init builtin,\n  // like useState does. we do it manually.\n  const idRefLazy = useRef<string | null>(null);\n\n  if (idRefLazy.current === null) {\n    idRefLazy.current = uniqueId();\n  }\n\n  return idRefLazy.current;\n}\n","import { cloneDeep } from 'lodash';\nimport RUMQueryModel from './RUM_query_model';\nimport { RUMQuery } from './types';\n\nexport function normalizeQuery(query: RUMQuery): RUMQuery {\n  // we return the original query if there is no need to update it\n  if (\n    query.policy !== undefined &&\n    query.resultFormat !== undefined &&\n    query.orderByTime !== undefined &&\n    query.tags !== undefined &&\n    query.groupBy !== undefined &&\n    query.select !== undefined\n  ) {\n    return query;\n  }\n\n  // FIXME: we should move the whole normalizeQuery logic here,\n  // and then have RUMQueryModel call this function,\n  // to concentrate the whole logic here\n\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  return new RUMQueryModel(queryCopy).target;\n}\n\nexport function addNewSelectPart(query: RUMQuery, type: string, index: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.addSelectPart(model.selectModels[index], type);\n  return model.target;\n}\n\nexport function removeSelectPart(query: RUMQuery, partIndex: number, index: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  const selectModel = model.selectModels[index];\n  model.removeSelectPart(selectModel, selectModel[partIndex]);\n  return model.target;\n}\n\nexport function changeSelectPart(query: RUMQuery, listIndex: number, partIndex: number, newParams: string[]): RUMQuery {\n  // we need to make shallow copy of `query.select` down to `query.select[listIndex][partIndex]`\n  const newSel = [...(query.select ?? [])];\n  newSel[listIndex] = [...newSel[listIndex]];\n  newSel[listIndex][partIndex] = {\n    ...newSel[listIndex][partIndex],\n    params: newParams,\n  };\n  return { ...query, select: newSel };\n}\n\nexport function addNewGroupByPart(query: RUMQuery, type: string): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.addGroupBy(type);\n  return model.target;\n}\n\nexport function removeGroupByPart(query: RUMQuery, partIndex: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.removeGroupByPart(model.groupByParts[partIndex], partIndex);\n  return model.target;\n}\n\nexport function changeGroupByPart(query: RUMQuery, partIndex: number, newParams: string[]): RUMQuery {\n  // we need to make shallow copy of `query.groupBy` down to `query.groupBy[partIndex]`\n  const newGroupBy = [...(query.groupBy ?? [])];\n  newGroupBy[partIndex] = {\n    ...newGroupBy[partIndex],\n    params: newParams,\n  };\n  return { ...query, groupBy: newGroupBy };\n}\n","import { APMQueryTag } from './types';\nimport { APMQueryBuilder } from './query_builder';\nimport { ServiceType } from '../types';\nimport { DataSource } from '../DataSource';\n\nconst runExploreQuery = (\n  type: string,\n  withKey: string | undefined,\n  withMeasurementFilter: string | undefined,\n  target: { measurement: string | undefined; tags: APMQueryTag[]; policy: string | undefined },\n  datasource: DataSource\n): Promise<Array<{ text: string }>> => {\n  const builder = new APMQueryBuilder(target);\n  const q = builder.buildExploreQuery(type, withKey, withMeasurementFilter);\n  return datasource.metricFindQuery(\n    {\n      serviceType: ServiceType.APMService,\n      queryString: q,\n    },\n    undefined\n  );\n};\n\nexport async function getAllPolicies(datasource: DataSource): Promise<string[]> {\n  const target = { tags: [], measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('RETENTION POLICIES', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getAllMeasurementsForTags(\n  measurementFilter: string | undefined,\n  tags: APMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('MEASUREMENTS', undefined, measurementFilter, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagKeysForMeasurementAndTags(\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: APMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_KEYS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagValues(\n  tagKey: string,\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: APMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_VALUES', tagKey, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getFieldKeysForMeasurement(\n  measurement: string,\n  policy: string | undefined,\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags: [], measurement, policy };\n  const data = await runExploreQuery('FIELDS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n","export function unwrap<T>(value: T | null | undefined): T {\n  if (value === null) {\n    throw new Error('value must not be nullish');\n  }\n  return value;\n}\n","import { SelectableValue } from '@grafana/data';\n\nexport function toSelectableValue<T extends string>(t: T): SelectableValue<T> {\n  return { label: t, value: t };\n}\n","import { APMQuery, APMQueryPart } from '../types';\nimport { SelectableValue } from '@grafana/data';\nimport { PartParams } from '../components/PartListSection';\nimport APMQueryModel from '../APM_query_model';\nimport { unwrap } from './unwrap';\nimport queryPart, { QueryPartDef } from '../query_part';\nimport { toSelectableValue } from './toSelectableValue';\n\ntype Categories = Record<string, QueryPartDef[]>;\n\nexport function getNewSelectPartOptions(): SelectableValue[] {\n  const categories: Categories = queryPart.getCategories();\n  const options: SelectableValue[] = [];\n\n  const keys = Object.keys(categories);\n\n  keys.forEach((key) => {\n    const children: SelectableValue[] = categories[key].map((x) => toSelectableValue(x.type));\n\n    options.push({\n      label: key,\n      options: children,\n    });\n  });\n\n  return options;\n}\n\nexport async function getNewGroupByPartOptions(\n  query: APMQuery,\n  getTagKeys: () => Promise<string[]>\n): Promise<Array<SelectableValue<string>>> {\n  const tagKeys = await getTagKeys();\n  const queryCopy = { ...query }; // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  const options: Array<SelectableValue<string>> = [];\n  if (!model.hasFill()) {\n    options.push(toSelectableValue('fill(null)'));\n  }\n  if (!model.hasGroupByTime()) {\n    options.push(toSelectableValue('time($interval)'));\n  }\n  tagKeys.forEach((key) => {\n    options.push(toSelectableValue(`tag(${key})`));\n  });\n  return options;\n}\n\ninterface Part {\n  name: string;\n  params: PartParams;\n}\n\nfunction getPartParams(part: APMQueryPart, dynamicParamOptions: Map<string, () => Promise<string[]>>): PartParams {\n  // NOTE: the way the system is constructed,\n  // there always can only be one possible dynamic-lookup\n  // field. in case of select it is the field,\n  // in case of group-by it is the tag\n  const def = queryPart.create(part).def;\n\n  // we switch the numbers to strings, it will work that way too,\n  // and it makes the code simpler\n  const paramValues = (part.params ?? []).map((p) => p.toString());\n\n  if (paramValues.length !== def.params.length) {\n    throw new Error('Invalid query-segment');\n  }\n\n  return paramValues.map((val, index) => {\n    const defParam = def.params[index];\n    if (defParam.dynamicLookup) {\n      return {\n        value: val,\n        options: unwrap(dynamicParamOptions.get(`${def.type}_${index}`)),\n      };\n    }\n\n    if (defParam.options !== null || defParam.options !== undefined) {\n      return {\n        value: val,\n        options: () => Promise.resolve(defParam.options),\n      };\n    }\n\n    return {\n      value: val,\n      options: null,\n    };\n  });\n}\n\nexport function makePartList(\n  queryParts: APMQueryPart[],\n  dynamicParamOptions: Map<string, () => Promise<string[]>>\n): Part[] {\n  return queryParts.map((qp) => {\n    return {\n      name: qp.type,\n      params: getPartParams(qp, dynamicParamOptions),\n    };\n  });\n}\n","import React from 'react';\nimport { css } from 'emotion';\nimport { GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles, InlineFieldRow } from '@grafana/ui';\n\n/**\n * Horizontal section for editor components.\n *\n * @alpha\n */\nexport const SegmentSection = ({\n  label,\n  htmlFor,\n  children,\n  fill,\n}: {\n  // Name of the section\n  label: string;\n  // htmlFor for the label\n  htmlFor?: string;\n  // List of components in the section\n  children: React.ReactNode;\n  // Fill the space at the end\n  fill?: boolean;\n}) => {\n  const styles = useStyles(getStyles);\n  return (\n    <InlineFieldRow>\n      <InlineLabel htmlFor={htmlFor} width={12} className={styles.label}>\n        {label}\n      </InlineLabel>\n      {children}\n      {fill && (\n        <div className={styles.fill}>\n          <InlineLabel> </InlineLabel>\n        </div>\n      )}\n    </InlineFieldRow>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme) => ({\n  label: css`\n    color: #33a2e5;\n  `,\n  fill: css`\n    flex-grow: 1;\n    margin-bottom: ${theme.spacing.inlineFormMargin};\n  `,\n});\n","import { useState, useEffect } from 'react';\nimport { usePrevious } from 'react-use';\n\nexport function useShadowedState<T>(outsideVal: T): [T, (newVal: T) => void] {\n  const [currentVal, setCurrentVal] = useState(outsideVal);\n  const prevOutsideVal = usePrevious(outsideVal);\n\n  useEffect(() => {\n    const isOutsideValChanged = prevOutsideVal !== outsideVal;\n    // if the value changes from the outside, we accept it into the state\n    // (we only set it if it is different from the current value)\n    if (isOutsideValChanged && currentVal !== outsideVal) {\n      setCurrentVal(outsideVal);\n    }\n  }, [outsideVal, currentVal, prevOutsideVal]);\n\n  return [currentVal, setCurrentVal];\n}\n","import React, { useState, useEffect } from 'react';\nimport { cx, css } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { useAsyncFn } from 'react-use';\nimport { InlineLabel, Select, AsyncSelect, Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\n\n// this file is a simpler version of `grafana-ui / SegmentAsync.tsx`\n// with some changes:\n// 1. click-outside does not select the value. i think it's better to be explicit here.\n// 2. we set a min-width on the select-element to handle cases where the `value`\n//    is very short, like \"x\", and then you click on it and the select opens,\n//    and it tries to be as short as \"x\" and it does not work well.\n\n// NOTE: maybe these changes could be migrated into the SegmentAsync later\n\ntype SelVal = SelectableValue<string>;\n\n// when allowCustomValue is true, there is no way to enforce the selectableValue\n// enum-type, so i just go with `string`\n\ntype LoadOptions = (filter: string) => Promise<SelVal[]>;\n\ninterface Props {\n  value: string;\n  buttonClassName?: string;\n  loadOptions?: LoadOptions;\n  // if filterByLoadOptions is false,\n  // loadOptions is only executed once,\n  // when the select-box opens,\n  // and as you write, the list gets filtered\n  // by the select-box.\n  // if filterByLoadOptions is true,\n  // as you write the loadOptions is executed again and again,\n  // and it is relied on to filter the results.\n  filterByLoadOptions?: boolean;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n  disabled?: boolean;\n}\n\nconst selectClass = css({\n  minWidth: '160px',\n});\n\ninterface SelProps {\n  loadOptions: LoadOptions;\n  filterByLoadOptions?: boolean;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\ninterface SelReloadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\n// when a custom value is written into a select-box,\n// by default the new value is prefixed with \"Create:\",\n// and that sounds confusing because here we do not create\n// anything. we change this to just be the entered string.\nconst formatCreateLabel = (v: string) => v;\n\nconst SelReload = ({ loadOptions, allowCustomValue, onChange, onClose }: SelReloadProps): JSX.Element => {\n  // here we rely on the fact that writing text into the <AsyncSelect/>\n  // does not cause a re-render of the current react component.\n  // this way there is only a single render-call,\n  // so there is only a single `debouncedLoadOptions`.\n  // if we want ot make this \"re-render safe,\n  // we will have to put the debounced call into an useRef,\n  // and probably have an useEffect\n  // const debouncedLoadOptions = debouncePromise(loadOptions, 1000, { leading: true });\n  return (\n    <div className={selectClass}>\n      <AsyncSelect\n        formatCreateLabel={formatCreateLabel}\n        defaultOptions\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        loadOptions={loadOptions}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\ninterface SelSingleLoadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\nconst SelSingleLoad = ({ loadOptions, allowCustomValue, onChange, onClose }: SelSingleLoadProps): JSX.Element => {\n  const [loadState, doLoad] = useAsyncFn(loadOptions, [loadOptions]);\n\n  useEffect(() => {\n    doLoad('');\n  }, [doLoad, loadOptions]);\n\n  return (\n    <div className={selectClass}>\n      <Select\n        isLoading={loadState.loading}\n        formatCreateLabel={formatCreateLabel}\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        options={loadState.value ?? []}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nconst Sel = ({ loadOptions, filterByLoadOptions, allowCustomValue, onChange, onClose }: SelProps): JSX.Element => {\n  // unfortunately <Segment/> and <SegmentAsync/> have somewhat different behavior,\n  // so the simplest approach was to just create two separate wrapper-components\n  return filterByLoadOptions ? (\n    <SelReload loadOptions={loadOptions} allowCustomValue={allowCustomValue} onChange={onChange} onClose={onClose} />\n  ) : (\n    <SelSingleLoad\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={onChange}\n      onClose={onClose}\n    />\n  );\n};\n\ninterface InpProps {\n  initialValue: string;\n  onChange: (newVal: string) => void;\n  onClose: () => void;\n}\n\nconst Inp = ({ initialValue, onChange, onClose }: InpProps): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(initialValue);\n\n  return (\n    <Input\n      autoFocus\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onClose}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          onChange(currentValue);\n        }\n      }}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue}\n    />\n  );\n};\n\nconst defaultButtonClass = css({\n  width: 'auto',\n  cursor: 'pointer',\n});\n\nexport const Seg = ({\n  value,\n  buttonClassName,\n  loadOptions,\n  filterByLoadOptions,\n  allowCustomValue,\n  onChange,\n  disabled,\n}: Props): JSX.Element => {\n  const [isOpen, setOpen] = useState(false);\n  if (!isOpen) {\n    const className = cx(defaultButtonClass, buttonClassName);\n    return (\n      <InlineLabel\n        as=\"button\"\n        className={className}\n        onClick={() => {\n          setOpen(!disabled);\n        }}\n      >\n        {value}\n      </InlineLabel>\n    );\n  } else {\n    if (loadOptions !== undefined) {\n      return (\n        <Sel\n          loadOptions={loadOptions}\n          filterByLoadOptions={filterByLoadOptions ?? false}\n          allowCustomValue={allowCustomValue}\n          onChange={(v) => {\n            setOpen(false);\n            onChange(v);\n          }}\n          onClose={() => {\n            setOpen(false);\n          }}\n        />\n      );\n    } else {\n      return (\n        <Inp\n          initialValue={value}\n          onClose={() => {\n            setOpen(false);\n          }}\n          onChange={(v) => {\n            setOpen(false);\n            onChange({ value: v, label: v });\n          }}\n        />\n      );\n    }\n  }\n};\n","import React from 'react';\nimport { Seg } from './Seg';\nimport { toSelectableValue } from '../common/toSelectableValue';\n\nconst DEFAULT_POLICY = 'default';\n\ninterface Props {\n  onChange: (policy: string | undefined, measurement: string | undefined) => void;\n  policy: string | undefined;\n  measurement: string | undefined;\n  getPolicyOptions: () => Promise<string[]>;\n  getMeasurementOptions: (filter: string) => Promise<string[]>;\n}\n\nexport const FromSection = ({\n  policy,\n  measurement,\n  onChange,\n  getPolicyOptions,\n  getMeasurementOptions,\n}: Props): JSX.Element => {\n  const handlePolicyLoadOptions = async () => {\n    const allPolicies = await getPolicyOptions();\n    // if `default` does not exist in the list of policies, we add it\n    const allPoliciesWithDefault = allPolicies.some((p) => p === 'default')\n      ? allPolicies\n      : [DEFAULT_POLICY, ...allPolicies];\n\n    return allPoliciesWithDefault.map(toSelectableValue);\n  };\n\n  const handleMeasurementLoadOptions = async (filter: string) => {\n    const allMeasurements = await getMeasurementOptions(filter);\n    return allMeasurements.map(toSelectableValue);\n  };\n\n  return (\n    <>\n      <Seg\n        allowCustomValue\n        value={policy ?? 'using default policy'}\n        loadOptions={handlePolicyLoadOptions}\n        onChange={(v) => {\n          onChange(v.value, measurement);\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={measurement ?? 'select measurement'}\n        loadOptions={handleMeasurementLoadOptions}\n        filterByLoadOptions\n        onChange={(v) => {\n          onChange(policy, v.value);\n        }}\n      />\n    </>\n  );\n};\n","import { APMQueryTag } from '../types';\n\nfunction isRegex(text: string): boolean {\n  return /^\\/.*\\/$/.test(text);\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in apm_query_model.ts\nexport function getOperator(tag: APMQueryTag): string {\n  return tag.operator ?? (isRegex(tag.value) ? '=~' : '=');\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in apm_query_model.ts\nexport function getCondition(tag: APMQueryTag, isFirst: boolean): string | undefined {\n  return isFirst ? undefined : tag.condition ?? 'AND';\n}\n\nexport function adjustOperatorIfNeeded(currentOperator: string, newTagValue: string): string {\n  const isCurrentOperatorRegex = currentOperator === '=~' || currentOperator === '!~';\n  const isNewTagValueRegex = isRegex(newTagValue);\n\n  if (isNewTagValueRegex) {\n    return isCurrentOperatorRegex ? currentOperator : '=~';\n  } else {\n    return isCurrentOperatorRegex ? '=' : currentOperator;\n  }\n}\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\n\ninterface Props {\n  loadOptions: () => Promise<SelectableValue[]>;\n  allowCustomValue?: boolean;\n  onAdd: (v: string) => void;\n}\n\nexport const AddButton = ({ loadOptions, allowCustomValue, onAdd }: Props): JSX.Element => {\n  return (\n    <Seg\n      value=\"+\"\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={(v) => {\n        onAdd(unwrap(v.value));\n      }}\n    />\n  );\n};\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { APMQueryTag } from '../types';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { adjustOperatorIfNeeded, getCondition, getOperator } from '../common/tagUtils';\nimport { AddButton } from './AddButton';\n\ntype KnownOperator = '=' | '!=' | '<>' | '<' | '>' | '=~' | '!~' | 'in';\nconst knownOperators: KnownOperator[] = ['=', '!=', '<>', '<', '>', '=~', '!~', 'in'];\n\ntype KnownCondition = 'AND' | 'OR';\nconst knownConditions: KnownCondition[] = ['AND', 'OR'];\n\nconst operatorOptions: Array<SelectableValue<KnownOperator>> = knownOperators.map(toSelectableValue);\nconst condititonOptions: Array<SelectableValue<KnownCondition>> = knownConditions.map(toSelectableValue);\n\ninterface Props {\n  tags: APMQueryTag[];\n  onChange: (tags: APMQueryTag[]) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\ninterface TagProps {\n  tag: APMQueryTag;\n  isFirst: boolean;\n  onRemove: () => void;\n  onChange: (tag: APMQueryTag) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\nconst loadConditionOptions = () => Promise.resolve(condititonOptions);\n\nconst loadOperatorOptions = () => Promise.resolve(operatorOptions);\n\nconst Tag = ({ tag, isFirst, onRemove, onChange, getTagKeyOptions, getTagValueOptions }: TagProps): JSX.Element => {\n  const operator = getOperator(tag);\n  const condition = getCondition(tag, isFirst);\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions()\n      .catch((err) => {\n        // in this UI element we add a special item to the list of options,\n        // that is used to remove the element.\n        // this causes a problem: if `getTagKeyOptions` fails with an error,\n        // the remove-filter option is never added to the list,\n        // and the UI element can not be removed.\n        // to avoid it, we catch any potential errors coming from `getTagKeyOptions`,\n        // log the error, and pretend that the list of options is an empty list.\n        // this way the remove-item option can always be added to the list.\n        console.error(err);\n        return [];\n      })\n      .then((tags) => [{ label: '-- remove filter --', value: undefined }, ...tags.map(toSelectableValue)]);\n  };\n\n  const getTagValueSegmentOptions = () => {\n    return getTagValueOptions(tag.key).then((tags) => tags.map(toSelectableValue));\n  };\n\n  return (\n    <div className=\"gf-form\">\n      {condition !== undefined && (\n        <Seg\n          value={condition}\n          loadOptions={loadConditionOptions}\n          disabled\n          onChange={(v) => {\n            onChange({ ...tag, condition: v.value });\n          }}\n        />\n      )}\n      <Seg\n        allowCustomValue\n        value={tag.key}\n        loadOptions={getTagKeySegmentOptions}\n        onChange={(v) => {\n          const { value } = v;\n          if (value === undefined) {\n            onRemove();\n          } else {\n            onChange({ ...tag, key: value ?? '' });\n          }\n        }}\n      />\n      <Seg\n        value={operator}\n        loadOptions={loadOperatorOptions}\n        onChange={(op) => {\n          onChange({ ...tag, operator: op.value });\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={tag.value}\n        loadOptions={getTagValueSegmentOptions}\n        onChange={(v) => {\n          const value = v.value ?? '';\n          onChange({ ...tag, value, operator: adjustOperatorIfNeeded(operator, value) });\n        }}\n      />\n    </div>\n  );\n};\n\nexport const TagsSection = ({ tags, onChange, getTagKeyOptions, getTagValueOptions }: Props): JSX.Element => {\n  const onTagChange = (newTag: APMQueryTag, index: number) => {\n    const newTags = tags.map((tag, i) => {\n      return index === i ? newTag : tag;\n    });\n    onChange(newTags);\n  };\n\n  const onTagRemove = (index: number) => {\n    const newTags = tags.filter((t, i) => i !== index);\n    onChange(newTags);\n  };\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions().then((tags) => tags.map(toSelectableValue));\n  };\n\n  const addNewTag = (tagKey: string, isFirst: boolean) => {\n    const minimalTag: APMQueryTag = {\n      key: tagKey,\n      value: 'select tag value',\n    };\n\n    const newTag: APMQueryTag = {\n      key: minimalTag.key,\n      value: minimalTag.value,\n      operator: getOperator(minimalTag),\n      condition: getCondition(minimalTag, isFirst),\n    };\n\n    onChange([...tags, newTag]);\n  };\n\n  return (\n    <>\n      {tags.map((t, i) => (\n        <Tag\n          tag={t}\n          isFirst={i === 0}\n          key={i}\n          onChange={(newT) => {\n            onTagChange(newT, i);\n          }}\n          onRemove={() => {\n            onTagRemove(i);\n          }}\n          getTagKeyOptions={getTagKeyOptions}\n          getTagValueOptions={getTagValueOptions}\n        />\n      ))}\n      <AddButton\n        allowCustomValue\n        loadOptions={getTagKeySegmentOptions}\n        onAdd={(v) => {\n          addNewTag(v, tags.length === 0);\n        }}\n      />\n    </>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { cx, css } from 'emotion';\nimport { WithContextMenu, useTheme } from '@grafana/ui';\nimport { SelectableValue, GrafanaTheme } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { AddButton } from './AddButton';\n\nexport type PartParams = Array<{\n  value: string;\n  options: (() => Promise<string[]>) | null;\n}>;\n\ninterface Props {\n  parts: Array<{\n    name: string;\n    params: PartParams;\n  }>;\n  getNewPartOptions: () => Promise<SelectableValue[]>;\n  onChange: (partIndex: number, paramValues: string[]) => void;\n  onRemovePart: (index: number) => void;\n  onAddNewPart: (type: string) => void;\n}\n\nconst renderRemovableNameMenuItems = (onClick: () => void) => {\n  return [{ items: [{ label: 'remove', onClick }] }];\n};\n\nconst noRightMarginPaddingClass = css({\n  paddingRight: '0',\n  marginRight: '0',\n});\n\nconst RemovableName = ({ name, onRemove }: { name: string; onRemove: () => void }) => {\n  return (\n    <WithContextMenu getContextMenuItems={() => renderRemovableNameMenuItems(onRemove)}>\n      {({ openMenu }) => (\n        <button className={cx('gf-form-label', noRightMarginPaddingClass)} onClick={openMenu}>\n          {name}\n        </button>\n      )}\n    </WithContextMenu>\n  );\n};\n\ninterface PartProps {\n  name: string;\n  params: PartParams;\n  onRemove: () => void;\n  onChange: (paramValues: string[]) => void;\n}\n\nconst noHorizMarginPaddingClass = css({\n  paddingLeft: '0',\n  paddingRight: '0',\n  marginLeft: '0',\n  marginRight: '0',\n});\n\nconst getPartClass = (theme: GrafanaTheme) => {\n  return cx(\n    'gf-form-label',\n    css({\n      paddingLeft: '0',\n      // gf-form-label class makes certain css attributes incorrect\n      // for the selectbox-dropdown, so we have to \"reset\" them back\n      lineHeight: theme.typography.lineHeight.md,\n      fontSize: theme.typography.size.base,\n    })\n  );\n};\n\nconst Part = ({ name, params, onChange, onRemove }: PartProps): JSX.Element => {\n  const theme = useTheme();\n  const partClass = useMemo(() => getPartClass(theme), [theme]);\n\n  const onParamChange = (par: string, i: number) => {\n    const newParams = params.map((p) => p.value);\n    newParams[i] = par;\n    onChange(newParams);\n  };\n\n  return (\n    <div className={partClass}>\n      <RemovableName name={name} onRemove={onRemove} />(\n      {params.map((p, i) => {\n        const { value, options } = p;\n        const isLast = i === params.length - 1;\n        const loadOptions =\n          options !== null ? () => options().then((items) => items.map(toSelectableValue)) : undefined;\n        return (\n          <React.Fragment key={i}>\n            <Seg\n              allowCustomValue\n              value={value}\n              buttonClassName={noHorizMarginPaddingClass}\n              loadOptions={loadOptions}\n              onChange={(v) => {\n                onParamChange(unwrap(v.value), i);\n              }}\n            />\n            {!isLast && ','}\n          </React.Fragment>\n        );\n      })}\n      )\n    </div>\n  );\n};\n\nexport const PartListSection = ({\n  parts,\n  getNewPartOptions,\n  onAddNewPart,\n  onRemovePart,\n  onChange,\n}: Props): JSX.Element => {\n  return (\n    <>\n      {parts.map((part, index) => (\n        <Part\n          key={index}\n          name={part.name}\n          params={part.params}\n          onRemove={() => {\n            onRemovePart(index);\n          }}\n          onChange={(pars) => {\n            onChange(index, pars);\n          }}\n        />\n      ))}\n      <AddButton loadOptions={getNewPartOptions} onAdd={onAddNewPart} />\n    </>\n  );\n};\n","import { css } from 'emotion';\n\nexport const paddingRightClass = css({\n  paddingRight: '4px',\n});\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  value: string | undefined;\n  onChange: (value: string | undefined) => void;\n  isWide?: boolean;\n  placeholder?: string;\n}\n\nexport const InputSection = ({ value, onChange, isWide, placeholder }: Props): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(value);\n\n  const onBlur = () => {\n    // we send empty-string as undefined\n    const newValue = currentValue === '' ? undefined : currentValue;\n    onChange(newValue);\n  };\n\n  return (\n    <Input\n      placeholder={placeholder}\n      className={cx(isWide ?? false ? 'width-14' : 'width-8', paddingRightClass)}\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onBlur}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue ?? ''}\n    />\n  );\n};\n","import { Select } from '@grafana/ui';\nimport { cx } from 'emotion';\nimport { ResultFormat } from '../types';\nimport React from 'react';\nimport { unwrap } from '../common/unwrap';\nimport { RESULT_FORMATS } from '../common/constants';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  inputId?: string;\n  format: ResultFormat;\n  onChange: (newFormat: ResultFormat) => void;\n}\n\nconst className = cx('width-8', paddingRightClass);\n\nexport const FormatAsSection = ({ format, inputId, onChange }: Props): JSX.Element => {\n  return (\n    <Select<ResultFormat>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={format}\n      options={RESULT_FORMATS}\n    />\n  );\n};\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { unwrap } from '../common/unwrap';\nimport { Select } from '@grafana/ui';\nimport { paddingRightClass } from './styles';\n\n// type Mode = 'string';\n\nconst OPTIONS: Array<SelectableValue<string>> = [\n  { label: 'ascending', value: 'ASC' },\n  { label: 'descending', value: 'DESC' },\n];\n\nconst className = cx('width-9', paddingRightClass);\n\ninterface Props {\n  value: string;\n  onChange: (value: string) => void;\n  inputId?: string;\n}\n\nexport const OrderBySeries = ({ value, onChange, inputId }: Props): JSX.Element => {\n  return (\n    <Select<string>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={value}\n      options={OPTIONS}\n    />\n  );\n};\n","import React, { useMemo, FC, useEffect } from 'react';\nimport { css } from 'emotion';\nimport { QueryEditorProps, GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles } from '@grafana/ui';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport {\n  getAllMeasurementsForTags,\n  getAllPolicies,\n  getFieldKeysForMeasurement,\n  getTagKeysForMeasurementAndTags,\n  getTagValues,\n} from './APMMetadataQuery';\nimport {\n  normalizeQuery,\n  addNewSelectPart,\n  removeSelectPart,\n  addNewGroupByPart,\n  removeGroupByPart,\n  changeSelectPart,\n  changeGroupByPart,\n} from './queryUtils';\nimport { getNewSelectPartOptions, getNewGroupByPartOptions, makePartList } from './common/partListUtils';\nimport { SegmentSection } from './components/SegmentSection';\nimport { FromSection } from './components/FromSection';\nimport { TagsSection } from './components/TagsSection';\nimport { PartListSection } from './components/PartListSection';\nimport { InputSection } from './components/InputSection';\nimport { FormatAsSection } from './components/FormatAsSection';\nimport { useUniqueId } from './common/useUniqueId';\nimport { DEFAULT_RESULT_FORMAT } from './common/constants';\nimport { APMQuery, APMQueryTag } from './types';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo } from '../types';\nimport { clone } from 'lodash';\nimport { DataSource } from '../DataSource';\n// import { TextareaSection } from './components/TextareaSection';\n// import { useShadowedState } from './common/useShadowedState';\nimport { OrderBySeries } from './components/OrderBySeries';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\n\nfunction getTemplateVariableOptions() {\n  return (\n    getTemplateSrv()\n      .getVariables()\n      // we make them regex-params, i'm not 100% sure why.\n      // probably because this way multi-value variables work ok too.\n      .map((v) => `/^$${v.name}$/`)\n  );\n}\n\n// helper function to make it easy to call this from the widget-render-code\nfunction withTemplateVariableOptions(optionsPromise: Promise<string[]>): Promise<string[]> {\n  return optionsPromise.then((options) => [...getTemplateVariableOptions(), ...options]);\n}\n\nfunction filterTags(parts: APMQueryTag[], allTagKeys: Set<string>): APMQueryTag[] {\n  return parts.filter((t) => allTagKeys.has(t.key));\n}\n\nexport const APMServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const uniqueId = useUniqueId();\n  const formatAsId = `apm-qe-format-as-${uniqueId}`;\n  const orderByTimeId = `apm-qe-order-by${uniqueId}`;\n  const orderBySeriesId = `apm-qe-order-by${uniqueId}`;\n\n  const styles = useStyles(getStyles);\n  // const [self] = useShadowedState(true);\n\n  const { datasource, onChange, query: queryInfo } = props;\n  const query = normalizeQuery(queryInfo.APMServiceParams || clone(defaultQueryInfo.APMServiceParams));\n  const { measurement, policy } = query;\n\n  useEffect(() => {\n    if (!queryInfo.APMServiceParams) {\n      onChange({ ...queryInfo, APMServiceParams: clone(defaultQueryInfo.APMServiceParams) });\n    }\n  }, [onChange, queryInfo]);\n\n  const allTagKeys = useMemo(() => {\n    return getTagKeysForMeasurementAndTags(measurement, policy, [], datasource)\n      .then((tags) => {\n        return new Set(tags);\n      })\n      .catch((err) => {\n        console.error('getTagKeysForMeasurementAndTags', err);\n        return new Set('');\n      });\n  }, [measurement, policy, datasource]);\n\n  const selectLists = useMemo(() => {\n    const dynamicSelectPartOptions = new Map([\n      [\n        'field_0',\n        () => {\n          return measurement !== undefined\n            ? getFieldKeysForMeasurement(measurement, policy, datasource)\n            : Promise.resolve([]);\n        },\n      ],\n    ]);\n    return (query.select ?? []).map((sel) => makePartList(sel, dynamicSelectPartOptions));\n  }, [measurement, policy, query.select, datasource]);\n\n  // the following function is not complicated enough to memoize, but it's result\n  // is used in both memoized and un-memoized parts, so we have no choice\n  const getTagKeys = useMemo(() => {\n    return () =>\n      allTagKeys.then((keys) =>\n        getTagKeysForMeasurementAndTags(measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n      );\n  }, [measurement, policy, query.tags, datasource, allTagKeys]);\n\n  const groupByList = useMemo(() => {\n    const dynamicGroupByPartOptions = new Map([['tag_0', getTagKeys]]);\n\n    return makePartList(query.groupBy ?? [], dynamicGroupByPartOptions);\n  }, [getTagKeys, query.groupBy]);\n\n  const onAppliedChange = (newQuery: APMQuery) => {\n    props.onChange({\n      ...props.query,\n      APMServiceParams: newQuery,\n    });\n    props.onRunQuery();\n  };\n  const handleFromSectionChange = (p: string | undefined, m: string | undefined) => {\n    onAppliedChange({\n      ...query,\n      policy: p,\n      measurement: m,\n    });\n  };\n\n  const handleTagsSectionChange = (tags: APMQueryTag[]) => {\n    // we set empty-arrays to undefined\n    onAppliedChange({\n      ...query,\n      tags: tags.length === 0 ? undefined : tags,\n    });\n  };\n\n  return (\n    <div>\n      {/* <SegmentSection label=\"Method\" fill={true}>\n        <Switch\n          value={self}\n          onChange={(e) => {\n            setSelf(e.currentTarget.value === 'true');\n          }}\n        >\n          {self ? 'default' : 'query'}\n        </Switch>\n      </SegmentSection> */}\n      {/* {!self ? ( */}\n      {\n        <>\n          <SegmentSection label=\"FROM\" fill={true}>\n            <FromSection\n              policy={policy}\n              measurement={measurement}\n              getPolicyOptions={() => getAllPolicies(datasource)}\n              getMeasurementOptions={(filter) =>\n                withTemplateVariableOptions(\n                  allTagKeys.then((keys) =>\n                    getAllMeasurementsForTags(\n                      filter === '' ? undefined : filter,\n                      filterTags(query.tags ?? [], keys),\n                      datasource\n                    )\n                  )\n                )\n              }\n              onChange={handleFromSectionChange}\n            />\n            <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n              WHERE\n            </InlineLabel>\n            <TagsSection\n              tags={query.tags ?? []}\n              onChange={handleTagsSectionChange}\n              getTagKeyOptions={getTagKeys}\n              getTagValueOptions={(key: string) =>\n                withTemplateVariableOptions(\n                  allTagKeys.then((keys) =>\n                    getTagValues(key, measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n                  )\n                )\n              }\n            />\n          </SegmentSection>\n          {selectLists.map((sel, index) => (\n            <SegmentSection key={index} label={index === 0 ? 'SELECT' : ''} fill={true}>\n              <PartListSection\n                parts={sel}\n                getNewPartOptions={() => Promise.resolve(getNewSelectPartOptions())}\n                onChange={(partIndex, newParams) => {\n                  const newQuery = changeSelectPart(query, index, partIndex, newParams);\n                  onAppliedChange(newQuery);\n                }}\n                onAddNewPart={(type) => {\n                  onAppliedChange(addNewSelectPart(query, type, index));\n                }}\n                onRemovePart={(partIndex) => {\n                  onAppliedChange(removeSelectPart(query, partIndex, index));\n                }}\n              />\n            </SegmentSection>\n          ))}\n          <SegmentSection label=\"GROUP BY\" fill={true}>\n            <PartListSection\n              parts={groupByList}\n              getNewPartOptions={() => getNewGroupByPartOptions(query, getTagKeys)}\n              onChange={(partIndex, newParams) => {\n                const newQuery = changeGroupByPart(query, partIndex, newParams);\n                onAppliedChange(newQuery);\n              }}\n              onAddNewPart={(type) => {\n                onAppliedChange(addNewGroupByPart(query, type));\n              }}\n              onRemovePart={(partIndex) => {\n                onAppliedChange(removeGroupByPart(query, partIndex));\n              }}\n            />\n          </SegmentSection>\n          <SegmentSection label=\"TIMEZONE\" fill={true}>\n            <InputSection\n              placeholder=\"(optional)\"\n              value={query.tz}\n              onChange={(tz) => {\n                onAppliedChange({ ...query, tz });\n              }}\n            />\n            <InlineLabel htmlFor={orderByTimeId} width=\"auto\" className={styles.inlineLabel}>\n              ORDER BY\n            </InlineLabel>\n            <InputSection\n              placeholder=\"time\"\n              value={query.orderType}\n              onChange={(v) => {\n                onAppliedChange({ ...query, orderType: v });\n              }}\n            />\n            <OrderBySeries\n              inputId={orderBySeriesId}\n              value={query.orderBy}\n              onChange={(v) => {\n                onAppliedChange({ ...query, orderBy: v });\n              }}\n            />\n          </SegmentSection>\n          <SegmentSection htmlFor={formatAsId} label=\"FORMAT AS\" fill={true}>\n            <FormatAsSection\n              inputId={formatAsId}\n              format={query.resultFormat ?? DEFAULT_RESULT_FORMAT}\n              onChange={(format) => {\n                onAppliedChange({ ...query, resultFormat: format });\n              }}\n            />\n            {query.resultFormat !== 'table' && (\n              <>\n                <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n                  ALIAS\n                </InlineLabel>\n                <InputSection\n                  isWide\n                  placeholder=\"Naming pattern\"\n                  value={query.alias}\n                  onChange={(alias) => {\n                    onAppliedChange({ ...query, alias });\n                  }}\n                />\n              </>\n            )}\n          </SegmentSection>\n        </>\n        // ) : (\n        //   <TextareaSection\n        //     value={query.custom}\n        //     placeholder=\"Query\"\n        //     onChange={(custom) => {\n        //       onAppliedChange({ ...query, custom });\n        //     }}\n        //   />\n        // )\n      }\n    </div>\n  );\n});\n\nfunction getStyles(theme: GrafanaTheme) {\n  return {\n    inlineLabel: css`\n      color: #33a2e5;\n    `,\n  };\n}\n\nAPMServiceQueryEditor.displayName = 'APMServiceQueryEditor';\n","import { useRef } from 'react';\nimport { uniqueId } from 'lodash';\n\nexport function useUniqueId(): string {\n  // we need to lazy-init this ref.\n  // otherwise we would call `uniqueId`\n  // on every render. unfortunately\n  // useRef does not have lazy-init builtin,\n  // like useState does. we do it manually.\n  const idRefLazy = useRef<string | null>(null);\n\n  if (idRefLazy.current === null) {\n    idRefLazy.current = uniqueId();\n  }\n\n  return idRefLazy.current;\n}\n","import { cloneDeep } from 'lodash';\nimport APMQueryModel from './APM_query_model';\nimport { APMQuery } from './types';\n\nexport function normalizeQuery(query: APMQuery): APMQuery {\n  // we return the original query if there is no need to update it\n  if (\n    query.policy !== undefined &&\n    query.resultFormat !== undefined &&\n    query.orderBy !== undefined &&\n    query.tags !== undefined &&\n    query.groupBy !== undefined &&\n    query.select !== undefined\n  ) {\n    return query;\n  }\n\n  // FIXME: we should move the whole normalizeQuery logic here,\n  // and then have APMQueryModel call this function,\n  // to concentrate the whole logic here\n\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  return new APMQueryModel(queryCopy).target;\n}\n\nexport function addNewSelectPart(query: APMQuery, type: string, index: number): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  model.addSelectPart(model.selectModels[index], type);\n  return model.target;\n}\n\nexport function removeSelectPart(query: APMQuery, partIndex: number, index: number): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  const selectModel = model.selectModels[index];\n  model.removeSelectPart(selectModel, selectModel[partIndex]);\n  return model.target;\n}\n\nexport function changeSelectPart(query: APMQuery, listIndex: number, partIndex: number, newParams: string[]): APMQuery {\n  // we need to make shallow copy of `query.select` down to `query.select[listIndex][partIndex]`\n  const newSel = [...(query.select ?? [])];\n  newSel[listIndex] = [...newSel[listIndex]];\n  newSel[listIndex][partIndex] = {\n    ...newSel[listIndex][partIndex],\n    params: newParams,\n  };\n  return { ...query, select: newSel };\n}\n\nexport function addNewGroupByPart(query: APMQuery, type: string): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  model.addGroupBy(type);\n  return model.target;\n}\n\nexport function removeGroupByPart(query: APMQuery, partIndex: number): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  model.removeGroupByPart(model.groupByParts[partIndex], partIndex);\n  return model.target;\n}\n\nexport function changeGroupByPart(query: APMQuery, partIndex: number, newParams: string[]): APMQuery {\n  // we need to make shallow copy of `query.groupBy` down to `query.groupBy[partIndex]`\n  const newGroupBy = [...(query.groupBy ?? [])];\n  newGroupBy[partIndex] = {\n    ...newGroupBy[partIndex],\n    params: newParams,\n  };\n  return { ...query, groupBy: newGroupBy };\n}\n","import React, { PureComponent } from 'react';\nimport { DataSourceApi, QueryEditorProps } from '@grafana/data';\nimport { TCMonitorDatasourceQueryCtrl } from './query-ctrl/query.ctrl';\nimport { QueryCtrlRender } from './query-ctrl/QueryCtrlRender';\nimport { MyDataSourceOptions, QueryInfo, ServiceType, ServiceTypeOptions } from './types';\nimport { Alert, Tab, TabContent, TabsBar } from '@grafana/ui';\nimport { LogServiceQueryEditor } from './log-service/LogServiceQueryEditor';\nimport { RUMServiceQueryEditor } from './rum-service/RUMServiceQueryEditor';\nimport { APMServiceQueryEditor } from './apm-service/APMServiceQueryEditor';\nimport { DataSource } from './DataSource';\nimport { setLanguage, Language } from '../locale';\nimport { CoreApp } from './common/constants';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\nexport class QueryEditor extends PureComponent<Props> {\n  state = {\n    isAlertVisiable: false,\n  };\n\n  constructor(props) {\n    super(props);\n    setLanguage(props.datasource.instanceSettings.jsonData.language || Language.Chinese);\n  }\n\n  componentDidMount() {\n    const { query } = this.props;\n    // @ts-ignore\n    const app = this.props.app as CoreApp;\n    if (app === CoreApp.UnifiedAlerting) {\n      //  \n      this.partialOnChange({ serviceType: ServiceType.logService });\n      return;\n    }\n    const firstEnabledService = this.enabledServices[0];\n    if (!query.serviceType && firstEnabledService) {\n      this.partialOnChange({ serviceType: firstEnabledService });\n    }\n  }\n\n  partialOnChange = (queryInfo: Partial<QueryInfo>) => {\n    const { onChange, query: oldQuery } = this.props;\n    // @ts-ignore\n    const app = this.props.app as CoreApp;\n    const newQuery = { ...oldQuery, ...queryInfo } as unknown as QueryInfo;\n    if (app === CoreApp.UnifiedAlerting) {\n      //  \n      if (newQuery.serviceType === ServiceType.logService) {\n        onChange(newQuery);\n        this.setState({\n          isAlertVisiable: false,\n        });\n      } else {\n        this.setState({\n          isAlertVisiable: true,\n        });\n      }\n    } else {\n      onChange(newQuery);\n    }\n  };\n\n  get enabledServices() {\n    const { datasource } = this.props;\n    const monitorEnabled = datasource?.monitorDataSource.getNamespaces().length > 0;\n    const logServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['logServiceEnabled']);\n    const RUMServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['RUMServiceEnabled']);\n    const APMServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['APMServiceEnabled']);\n    return [\n      monitorEnabled && ServiceType.monitor,\n      logServiceEnabled && ServiceType.logService,\n      RUMServiceEnabled && ServiceType.RUMService,\n      APMServiceEnabled && ServiceType.APMService,\n    ].filter(Boolean);\n  }\n\n  render() {\n    const { datasource, query: queryInfo } = this.props;\n    const { isAlertVisiable } = this.state;\n    if (!datasource) {\n      return <div>loading</div>;\n    }\n    return (\n      <div>\n        {this.enabledServices.length > 1 && (\n          <TabsBar>\n            {ServiceTypeOptions.filter((item) => this.enabledServices.includes(item.value)).map((item) => (\n              <Tab\n                key={item.value}\n                label={item.label}\n                active={queryInfo.serviceType === item.value}\n                onChangeTab={() => {\n                  this.partialOnChange({ serviceType: item.value });\n                }}\n              />\n            ))}\n          </TabsBar>\n        )}\n        <TabContent>\n          {queryInfo.serviceType === ServiceType.monitor && this.renderMonitorQueryEditor()}\n          {queryInfo.serviceType === ServiceType.logService && this.renderLogServiceQueryEditor()}\n          {queryInfo.serviceType === ServiceType.RUMService && this.renderRUMServiceQueryEditor()}\n          {queryInfo.serviceType === ServiceType.APMService && this.renderAPMServiceQueryEditor()}\n        </TabContent>\n        {isAlertVisiable && <Alert title=\" CLS \" />}\n      </div>\n    );\n  }\n\n  renderMonitorQueryEditor() {\n    const monitorDataSource: DataSourceApi = (this.props.datasource as any).monitorDataSource;\n    return (\n      monitorDataSource && (\n        <QueryCtrlRender {...this.props} queryCtrl={TCMonitorDatasourceQueryCtrl} datasource={monitorDataSource} />\n      )\n    );\n  }\n\n  renderLogServiceQueryEditor() {\n    return <LogServiceQueryEditor {...this.props} />;\n  }\n\n  renderRUMServiceQueryEditor() {\n    const { query, onChange, onRunQuery, datasource } = this.props;\n    return (\n      <RUMServiceQueryEditor query={query} onChange={onChange} onRunQuery={onRunQuery} datasource={datasource as any} />\n    );\n  }\n  renderAPMServiceQueryEditor() {\n    const { query, onChange, onRunQuery, datasource } = this.props;\n    return (\n      <APMServiceQueryEditor query={query} onChange={onChange} onRunQuery={onRunQuery} datasource={datasource as any} />\n    );\n  }\n}\n","import { InlineField, InlineFieldRow, Input, RadioButtonGroup } from '@grafana/ui';\nimport React, { useCallback } from 'react';\nimport { defaultQueryInfo, ServiceType, ServiceTypeOptions, VariableQuery } from './types';\nimport { DataSource } from './DataSource';\nimport { LogServiceQueryEditor } from './log-service/LogServiceQueryEditor';\nimport { useLatest } from 'react-use';\nimport { clone, isString } from 'lodash';\n\ninterface VariableQueryProps {\n  query: VariableQuery;\n  onChange: (v: VariableQuery, definition: string) => void;\n  datasource: DataSource;\n}\n\nconst InfoPopver: React.FC<any> = () => {\n  return (\n    <a target=\"_blank\" href=\"https://cloud.tencent.com/document/product/248/54510\">\n      Click here for more information of query\n    </a>\n  );\n};\nexport const VariableQueryEditor: React.FC<VariableQueryProps> = (props) => {\n  const propsRef = useLatest(props);\n  const { query, datasource } = props;\n\n  const onQueryChange = useCallback(\n    (newQuery: VariableQuery) => {\n      const { onChange } = propsRef.current;\n      let definition;\n      if (newQuery.serviceType === ServiceType.logService) {\n        definition = `SQL:  ${newQuery.logServiceParams?.Query}`;\n      } else {\n        definition = newQuery.queryString;\n      }\n      onChange?.(newQuery, definition);\n    },\n    [propsRef]\n  );\n  return (\n    <>\n      <InlineFieldRow>\n        <InlineField label=\"\" labelWidth={20}>\n          <RadioButtonGroup\n            options={ServiceTypeOptions}\n            value={isString(query) ? ServiceType.monitor : query.serviceType}\n            onChange={(type) => {\n              if (type === ServiceType.monitor) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n              if (type === ServiceType.logService) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                  logServiceParams: clone(defaultQueryInfo.logServiceParams),\n                });\n              }\n              if (type === ServiceType.RUMService) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n              if (type === ServiceType.APMService) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n            }}\n          />\n        </InlineField>\n      </InlineFieldRow>\n      {query.serviceType === ServiceType.logService && (\n        <>\n          {/*  */}\n          <LogServiceQueryEditor\n            datasource={datasource}\n            query={query as unknown as any}\n            onRunQuery={() => {}}\n            onChange={(v) => {\n              onQueryChange({\n                serviceType: ServiceType.logService,\n                queryString: '',\n                logServiceParams: v.logServiceParams,\n              });\n            }}\n          />\n        </>\n      )}\n      {query.serviceType === ServiceType.RUMService && (\n        <InlineFieldRow>\n          <InlineField label=\"\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              placeholder=\"metric name or tags query\"\n              onChange={(e) =>\n                onQueryChange({\n                  serviceType: ServiceType.RUMService,\n                  queryString: e.currentTarget.value,\n                })\n              }\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {query.serviceType === ServiceType.APMService && (\n        <InlineFieldRow>\n          <InlineField label=\"\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              placeholder=\"metric name or tags query\"\n              onChange={(e) =>\n                onQueryChange({\n                  serviceType: ServiceType.APMService,\n                  queryString: e.currentTarget.value,\n                })\n              }\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {(isString(query) || query.serviceType === ServiceType.monitor) && (\n        <InlineFieldRow>\n          <InlineField label=\"\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              onChange={(e) =>\n                onQueryChange({\n                  serviceType: ServiceType.monitor,\n                  queryString: e.currentTarget.value,\n                })\n              }\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n    </>\n  );\n};\nVariableQueryEditor.displayName = 'VariableQueryEditor';\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n    function ObjectUnsubscribedErrorImpl() {\n        Error.call(this);\n        this.message = 'object unsubscribed';\n        this.name = 'ObjectUnsubscribedError';\n        return this;\n    }\n    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n})();\nexport var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\nvar SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nvar SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\nvar Subject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function refCount() {\n    return function refCountOperatorFunction(source) {\n        return source.lift(new RefCountOperator(source));\n    };\n}\nvar RefCountOperator = /*@__PURE__*/ (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=refCount.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_Observable,_Subscriber,_Subscription,_operators_refCount PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SubjectSubscriber } from '../Subject';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { refCount as higherOrderRefCount } from '../operators/refCount';\nvar ConnectableObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ConnectableObservable, _super);\n    function ConnectableObservable(source, subjectFactory) {\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.subjectFactory = subjectFactory;\n        _this._refCount = 0;\n        _this._isComplete = false;\n        return _this;\n    }\n    ConnectableObservable.prototype._subscribe = function (subscriber) {\n        return this.getSubject().subscribe(subscriber);\n    };\n    ConnectableObservable.prototype.getSubject = function () {\n        var subject = this._subject;\n        if (!subject || subject.isStopped) {\n            this._subject = this.subjectFactory();\n        }\n        return this._subject;\n    };\n    ConnectableObservable.prototype.connect = function () {\n        var connection = this._connection;\n        if (!connection) {\n            this._isComplete = false;\n            connection = this._connection = new Subscription();\n            connection.add(this.source\n                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n            if (connection.closed) {\n                this._connection = null;\n                connection = Subscription.EMPTY;\n            }\n        }\n        return connection;\n    };\n    ConnectableObservable.prototype.refCount = function () {\n        return higherOrderRefCount()(this);\n    };\n    return ConnectableObservable;\n}(Observable));\nexport { ConnectableObservable };\nexport var connectableObservableDescriptor = /*@__PURE__*/ (function () {\n    var connectableProto = ConnectableObservable.prototype;\n    return {\n        operator: { value: null },\n        _refCount: { value: 0, writable: true },\n        _subject: { value: null, writable: true },\n        _connection: { value: null, writable: true },\n        _subscribe: { value: connectableProto._subscribe },\n        _isComplete: { value: connectableProto._isComplete, writable: true },\n        getSubject: { value: connectableProto.getSubject },\n        connect: { value: connectableProto.connect },\n        refCount: { value: connectableProto.refCount }\n    };\n})();\nvar ConnectableSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ConnectableSubscriber, _super);\n    function ConnectableSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    ConnectableSubscriber.prototype._error = function (err) {\n        this._unsubscribe();\n        _super.prototype._error.call(this, err);\n    };\n    ConnectableSubscriber.prototype._complete = function () {\n        this.connectable._isComplete = true;\n        this._unsubscribe();\n        _super.prototype._complete.call(this);\n    };\n    ConnectableSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (connectable) {\n            this.connectable = null;\n            var connection = connectable._connection;\n            connectable._refCount = 0;\n            connectable._subject = null;\n            connectable._connection = null;\n            if (connection) {\n                connection.unsubscribe();\n            }\n        }\n    };\n    return ConnectableSubscriber;\n}(SubjectSubscriber));\nvar RefCountOperator = /*@__PURE__*/ (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=ConnectableObservable.js.map\n","/** PURE_IMPORTS_START _observable_ConnectableObservable PURE_IMPORTS_END */\nimport { connectableObservableDescriptor } from '../observable/ConnectableObservable';\nexport function multicast(subjectOrSubjectFactory, selector) {\n    return function multicastOperatorFunction(source) {\n        var subjectFactory;\n        if (typeof subjectOrSubjectFactory === 'function') {\n            subjectFactory = subjectOrSubjectFactory;\n        }\n        else {\n            subjectFactory = function subjectFactory() {\n                return subjectOrSubjectFactory;\n            };\n        }\n        if (typeof selector === 'function') {\n            return source.lift(new MulticastOperator(subjectFactory, selector));\n        }\n        var connectable = Object.create(source, connectableObservableDescriptor);\n        connectable.source = source;\n        connectable.subjectFactory = subjectFactory;\n        return connectable;\n    };\n}\nvar MulticastOperator = /*@__PURE__*/ (function () {\n    function MulticastOperator(subjectFactory, selector) {\n        this.subjectFactory = subjectFactory;\n        this.selector = selector;\n    }\n    MulticastOperator.prototype.call = function (subscriber, source) {\n        var selector = this.selector;\n        var subject = this.subjectFactory();\n        var subscription = selector(subject).subscribe(subscriber);\n        subscription.add(source.subscribe(subject));\n        return subscription;\n    };\n    return MulticastOperator;\n}());\nexport { MulticastOperator };\n//# sourceMappingURL=multicast.js.map\n","/** PURE_IMPORTS_START _multicast,_refCount,_Subject PURE_IMPORTS_END */\nimport { multicast } from './multicast';\nimport { refCount } from './refCount';\nimport { Subject } from '../Subject';\nfunction shareSubjectFactory() {\n    return new Subject();\n}\nexport function share() {\n    return function (source) { return refCount()(multicast(shareSubjectFactory)(source)); };\n}\n//# sourceMappingURL=share.js.map\n","import moment from 'moment';\nimport { IAnalysisColumn } from '../model/interface';\nimport { FieldType } from '@grafana/data';\n\nconst ProcessorUtils = {\n  timestampWithTimeZoneRegex: /(\\w+)\\[[\\w/]+]/g,\n};\n\n/** PrestoFieldType\n * @doc https://iwiki.woa.com/pages/viewpage.action?pageId=905584985 */\nconst PrestoAndFieldTypeMap: Omit<IAnalysisColumn, 'Name' | 'Type'>[] = [\n  /**  */\n  {\n    prestoTypeRegex: /^timestamp with time zone$/,\n    fieldType: FieldType.time,\n    // zoneeg: 2021-11-26T18:41:24+08:00[Asia/Shanghai]\n    processor: (value: string) => {\n      const newValue = String(value).replace(ProcessorUtils.timestampWithTimeZoneRegex, '$1');\n      if (moment(newValue).isValid()) {\n        return newValue;\n      }\n      return value;\n    },\n  },\n  {\n    prestoTypeRegex: /^timestamp$|^date$|^datetime$/,\n    fieldType: FieldType.time,\n    // processor: moment,\n  },\n  {\n    prestoTypeRegex: /^time$/,\n    fieldType: FieldType.time,\n    // processor: null,\n  },\n  /**  */\n  {\n    prestoTypeRegex: /^tinyint$|^samllint$|^integer$|^bigint$|^long$/,\n    fieldType: FieldType.number,\n    // processor: Number,\n  },\n  {\n    prestoTypeRegex: /^real$|^double$|^decimal$/,\n    fieldType: FieldType.number,\n    // processor: Number,\n  },\n  /**  */\n  {\n    prestoTypeRegex: /^varchar$|^char$|^text$|^keyword$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^boolean$/,\n    fieldType: FieldType.boolean,\n    // processor: Boolean,\n  },\n\n  /**  */\n  {\n    prestoTypeRegex: /^uuid$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^ipaddress$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^array\\(.*\\)$/,\n    fieldType: FieldType.other,\n    // processor: Array.from,\n  },\n  {\n    prestoTypeRegex: /^json$/,\n    fieldType: FieldType.other,\n    // processor: JSON.parse,\n  },\n  {\n    prestoTypeRegex: /^map\\(.*\\)$/, // /^map\\([\\w\\s,]+,[\\w\\s,]+\\)$/,\n    fieldType: FieldType.other,\n    // processor: (i) => i,\n  },\n  {\n    prestoTypeRegex: /^varbinary$/,\n    fieldType: FieldType.other,\n    // processor: Array.from,\n  },\n  {\n    prestoTypeRegex: /^interval$/,\n    fieldType: FieldType.other,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^row$/,\n    fieldType: FieldType.other,\n    // processor: String,\n  },\n];\n\nexport function getFieldTypeByPrestoType(prestoType: string): Omit<IAnalysisColumn, 'Name' | 'Type'> {\n  return (\n    PrestoAndFieldTypeMap.find((item) => item.prestoTypeRegex.test(prestoType)) || {\n      prestoTypeRegex: /.*/,\n      fieldType: FieldType.other,\n    }\n  );\n}\n","import { ISearchLogResult, ITopicInfo } from '../model';\nimport { DataFrame, DataFrameDTO, FieldDTO, FieldType, toDataFrame } from '@grafana/data';\nimport _ from 'lodash';\nimport { parseLogJsonStr } from './formatSearchLog';\n\n/** SearchResultsDataFrame */\nexport function ConvertSearchResultsToDataFrame(\n  searchLogResult: ISearchLogResult,\n  topic: Partial<ITopicInfo>\n): DataFrame {\n  const frameDTO = searchLogResult.Analysis\n    ? ConvertAnalysisJsonToDataFrameDTO(searchLogResult)\n    : ConvertLogJsonToDataFrameDTO(searchLogResult, topic);\n  return toDataFrame(frameDTO);\n}\n\nfunction ConvertAnalysisJsonToDataFrameDTO(searchLogResult: ISearchLogResult): DataFrameDTO {\n  const { analysisRecords = [], analysisColumns = [] } = searchLogResult ?? {};\n\n  const fields: FieldDTO[] = analysisColumns.map((column) => {\n    const values = analysisRecords.map((r) => r?.[column.Name!]);\n    return {\n      name: column.Name,\n      type: column.fieldType as any,\n      values,\n    };\n  });\n  return {\n    name: '',\n    fields,\n  };\n}\n\nexport const enum LogFieldReservedName {\n  TIMESTAMP = '__TIMESTAMP__',\n  LogJson = '__LogJson__',\n  SOURCE = '__SOURCE__',\n  Filename = '__FILENAME__',\n  HostName = '__HOSTNAME__',\n  META = '__META__',\n}\n\nfunction ConvertLogJsonToDataFrameDTO(searchLogResult: ISearchLogResult, topic: Partial<ITopicInfo>): DataFrameDTO {\n  const { Results = [] } = searchLogResult;\n  // Log\n  // Grafana logSeriesToLogsModelhttps://github.com/grafana/grafana/blob/faca526c169a9a61f119b6fc2819f5a8dfff7ed7/public/app/core/logs_model.ts#L315\n  // Grafana testData runLogsStreamhttps://github.com/grafana/grafana/blob/faca526c169a9a61f119b6fc2819f5a8dfff7ed7/public/app/plugins/datasource/testdata/runStreams.ts#L131\n\n  const timeField: FieldDTO<number> = {\n    name: LogFieldReservedName.TIMESTAMP,\n    type: FieldType.time,\n    values: [],\n  };\n  const logField: FieldDTO<string> = {\n    name: LogFieldReservedName.LogJson,\n    //  \n    type: FieldType.string,\n    config: {\n      custom: { displayMode: 'json-view' },\n    },\n    values: [],\n  };\n  const sourceField: FieldDTO<string> = {\n    name: LogFieldReservedName.SOURCE,\n    type: FieldType.string,\n    values: [],\n  };\n  const filenameField: FieldDTO<string> = {\n    name: LogFieldReservedName.Filename,\n    type: FieldType.string,\n    values: [],\n  };\n  const hostnameField: FieldDTO<string> = {\n    name: LogFieldReservedName.HostName,\n    type: FieldType.string,\n    values: [],\n  };\n  const metaField: FieldDTO<any> = {\n    //  Explore \n    name: LogFieldReservedName.META,\n    type: FieldType.other,\n    config: {\n      custom: {\n        hidden: true,\n      },\n    },\n    labels: { region: topic.region, TopicId: topic.TopicId },\n    values: [],\n  };\n\n  Results.forEach((logItem) => {\n    (timeField.values as number[]).push(logItem['Time']);\n    (sourceField.values as string[]).push(logItem['Source']);\n    (filenameField.values as string[]).push(logItem['FileName']);\n    (hostnameField.values as string[]).push(logItem['HostName']);\n    (metaField.values as any[]).push(JSON.stringify(_.pick(logItem, ['PkgId', 'PkgLogId'])));\n    try {\n      const logJson = parseLogJsonStr(logItem.LogJson);\n\n      /**  LogsParsers.JSON \n       * https://github.com/grafana/grafana/issues/54959\n       */\n      //  string | object, Grafana\n      (logField.values as string[]).push(JSON.stringify(logJson));\n\n      /**  LogsParsers.logfmt LogDetail */\n      // let logStr = '';\n      // Object.entries(logJson).forEach(([k, v])=>{\n      //   logStr += `${k}=${_.isObject(v) ? JSON.stringify(v) : `${v}` } `\n      // });\n      // (logField.values as string[]).push(logStr);\n    } catch (e) {}\n  });\n\n  const frameDTO: DataFrameDTO = {\n    name: '',\n    meta: {\n      preferredVisualisationType: 'logs',\n      custom: {\n        RequestId: (searchLogResult as any).RequestId,\n        SamplingRate: searchLogResult.SamplingRate,\n      },\n      executedQueryString: searchLogResult.Query,\n    },\n    fields: [timeField, logField, sourceField, filenameField, hostnameField, metaField],\n  };\n  return frameDTO;\n}\n","import { IAnalysisColumn, ISearchLogResult, TYPES } from '../model';\n\nimport { getFieldTypeByPrestoType } from './prestoType';\n\nexport function formatSearchLog(param: TYPES.SearchLogResult): ISearchLogResult {\n  const { Analysis, AnalysisRecords = [], Columns = [] } = param;\n  const analysisColumns: IAnalysisColumn[] = [];\n  const analysisRecords: Object[] = [];\n  if (Analysis) {\n    Columns.forEach((column) => {\n      const analysisColumn = getFieldTypeByPrestoType(column.Type);\n      analysisColumns.push({\n        ...column,\n        ...analysisColumn,\n      });\n    });\n    AnalysisRecords.forEach((record) => {\n      try {\n        analysisRecords.push(JSON.parse(record));\n      } catch (e) {\n        analysisRecords.push({});\n      }\n    });\n\n    for (const column of analysisColumns) {\n      if (column.processor) {\n        analysisRecords.forEach((record) => {\n          // eslint-disable-next-line no-param-reassign\n          record[column.Name] = column.processor(record[column.Name]);\n        });\n      }\n    }\n  }\n  return {\n    ...param,\n    analysisRecords,\n    analysisColumns,\n  };\n}\n\n/** stringify __TAG__ */\nexport function parseLogJsonStr(logJsonStr: string): Record<string, any> {\n  try {\n    const logJson = JSON.parse(logJsonStr);\n    const tagContent = logJson['__TAG__'];\n    delete logJson.__TAG__;\n    if (tagContent) {\n      Object.entries(tagContent).forEach(([tagKey, tagValue]) => {\n        logJson[`__TAG__.${tagKey}`] = tagValue;\n      });\n    }\n    return logJson;\n  } catch (e) {\n    console.error('parseLogJsonStr', e);\n    return {};\n  }\n}\n","/* eslint-disable eqeqeq,no-eq-null,max-depth,guard-for-in,no-fallthrough */\n// @link: https://github.com/grafana/grafana/blob/b4faee786f3c3c1e09543ef768f2e2daee429ec7/public/app/core/components/TransformersUI/prepareTimeSeries/prepareTimeSeries.ts\nimport { DataFrame, FieldType, Field, MutableDataFrame, ArrayVector } from '@grafana/data';\n\nexport enum DataFrameType {\n  TimeSeriesWide = 'timeseries-wide',\n  TimeSeriesLong = 'timeseries-long',\n  TimeSeriesMany = 'timeseries-many',\n}\n\ntype Labels = Record<string, string>;\n/**\n * There is currently an effort to figure out consistent names\n * for the various formats/types we produce and use.\n *\n * This transformer will eventually include the required metadata that can assert\n * a DataFrame[] is of a given type\n *\n * @internal -- TBD\n */\nexport enum timeSeriesFormat {\n  TimeSeriesWide = 'wide', // [time,...values]\n  TimeSeriesMany = 'many', // All frames have [time,number]\n  TimeSeriesLong = 'long',\n}\n\n/**\n * Convert to [][time,number]\n */\nexport function toTimeSeriesMany(data: DataFrame[]): DataFrame[] {\n  if (!Array.isArray(data) || data.length === 0) {\n    return data;\n  }\n\n  const result: DataFrame[] = [];\n  for (const frame of toTimeSeriesLong(data)) {\n    const timeField = frame.fields[0];\n    if (!timeField || timeField.type !== FieldType.time) {\n      continue;\n    }\n    const valueFields: Field[] = [];\n    const labelFields: Field[] = [];\n    for (const field of frame.fields) {\n      switch (field.type) {\n        case FieldType.number:\n        case FieldType.boolean:\n          valueFields.push(field);\n          break;\n        case FieldType.string:\n          labelFields.push(field);\n          break;\n      }\n    }\n\n    for (const field of valueFields) {\n      if (labelFields.length) {\n        // new frame for each label key\n        interface frameBuilder {\n          time: number[];\n          value: number[];\n          key: string;\n          labels: Labels;\n        }\n        const builders = new Map<string, frameBuilder>();\n        for (let i = 0; i < frame.length; i++) {\n          const time = timeField.values.get(i);\n          const value = field.values.get(i);\n          if (value === undefined || time == null) {\n            continue; // skip values left over from join\n          }\n\n          const key = labelFields.map((f) => f.values.get(i)).join('/');\n          let builder = builders.get(key);\n          if (!builder) {\n            builder = {\n              key,\n              time: [],\n              value: [],\n              labels: {},\n            };\n            for (const label of labelFields) {\n              builder.labels[label.name] = label.values.get(i);\n            }\n            builders.set(key, builder);\n          }\n          builder.time.push(time);\n          builder.value.push(value);\n        }\n\n        // Add a frame for each distinct value\n        builders.forEach((b) => {\n          result.push({\n            name: frame.name,\n            refId: frame.refId,\n            meta: {\n              ...frame.meta,\n              type: DataFrameType.TimeSeriesMany,\n            } as any,\n            fields: [\n              {\n                ...timeField,\n                values: new ArrayVector(b.time),\n              },\n              {\n                ...field,\n                values: new ArrayVector(b.value),\n                labels: b.labels,\n              },\n            ],\n            length: b.time.length,\n          });\n        });\n      } else {\n        result.push({\n          name: frame.name,\n          refId: frame.refId,\n          meta: {\n            ...frame.meta,\n            type: DataFrameType.TimeSeriesMany,\n          } as any,\n          fields: [timeField, field],\n          length: frame.length,\n        });\n      }\n    }\n  }\n  return result;\n}\n\nfunction toTimeSeriesLong(data: DataFrame[]): DataFrame[] {\n  if (!Array.isArray(data) || data.length === 0) {\n    return data;\n  }\n\n  const result: DataFrame[] = [];\n  for (const frame of data) {\n    let timeField: Field | undefined;\n    const uniqueValueNames: string[] = [];\n    const uniqueValueNamesToType: Record<string, FieldType> = {};\n    const uniqueLabelKeys: Record<string, boolean> = {};\n    const labelKeyToWideIndices: Record<string, number[]> = {};\n    const uniqueFactorNamesToWideIndex: Record<string, number> = {};\n\n    for (let fieldIndex = 0; fieldIndex < frame.fields.length; fieldIndex++) {\n      const field = frame.fields[fieldIndex];\n\n      switch (field.type) {\n        case FieldType.string:\n        case FieldType.boolean:\n          if (field.name in uniqueFactorNamesToWideIndex) {\n            // TODO error?\n          } else {\n            uniqueFactorNamesToWideIndex[field.name] = fieldIndex;\n            uniqueLabelKeys[field.name] = true;\n          }\n          break;\n        case FieldType.time:\n          if (!timeField) {\n            timeField = field;\n            break;\n          }\n        default: {\n          if (field.name in uniqueValueNamesToType) {\n            const type = uniqueValueNamesToType[field.name];\n\n            if (field.type !== type) {\n              // TODO error?\n              continue;\n            }\n          } else {\n            uniqueValueNamesToType[field.name] = field.type;\n            uniqueValueNames.push(field.name);\n          }\n\n          const tKey = JSON.stringify(field.labels);\n          const wideIndices = labelKeyToWideIndices[tKey];\n\n          if (wideIndices !== undefined) {\n            wideIndices.push(fieldIndex);\n          } else {\n            labelKeyToWideIndices[tKey] = [fieldIndex];\n          }\n\n          if (field.labels != null) {\n            for (const labelKey in field.labels) {\n              uniqueLabelKeys[labelKey] = true;\n            }\n          }\n        }\n      }\n    }\n\n    if (!timeField) {\n      continue;\n    }\n\n    interface TimeWideRowIndex {\n      time: any;\n      wideRowIndex: number;\n    }\n    const sortedTimeRowIndices: TimeWideRowIndex[] = [];\n    const sortedUniqueLabelKeys: string[] = [];\n    const uniqueFactorNames: string[] = [];\n    const uniqueFactorNamesWithWideIndices: string[] = [];\n\n    for (let wideRowIndex = 0; wideRowIndex < frame.length; wideRowIndex++) {\n      sortedTimeRowIndices.push({ time: timeField.values.get(wideRowIndex), wideRowIndex });\n    }\n\n    for (const labelKeys in labelKeyToWideIndices) {\n      sortedUniqueLabelKeys.push(labelKeys);\n    }\n    for (const labelKey in uniqueLabelKeys) {\n      uniqueFactorNames.push(labelKey);\n    }\n    for (const name in uniqueFactorNamesToWideIndex) {\n      uniqueFactorNamesWithWideIndices.push(name);\n    }\n\n    sortedTimeRowIndices.sort((a, b) => a.time - b.time);\n    sortedUniqueLabelKeys.sort();\n    uniqueFactorNames.sort();\n    uniqueValueNames.sort();\n\n    const longFrame = new MutableDataFrame({\n      ...frame,\n      meta: { ...frame.meta, type: DataFrameType.TimeSeriesLong } as any,\n      fields: [{ name: timeField.name, type: timeField.type }],\n    });\n\n    for (const name of uniqueValueNames) {\n      longFrame.addField({ name, type: uniqueValueNamesToType[name] });\n    }\n\n    for (const name of uniqueFactorNames) {\n      longFrame.addField({ name, type: FieldType.string });\n    }\n\n    for (const timeWideRowIndex of sortedTimeRowIndices) {\n      const { time, wideRowIndex } = timeWideRowIndex;\n\n      for (const labelKeys of sortedUniqueLabelKeys) {\n        const rowValues: Record<string, any> = {};\n\n        for (const name of uniqueFactorNamesWithWideIndices) {\n          rowValues[name] = frame.fields[uniqueFactorNamesToWideIndex[name]].values.get(wideRowIndex);\n        }\n\n        let index = 0;\n\n        for (const wideFieldIndex of labelKeyToWideIndices[labelKeys]) {\n          const wideField = frame.fields[wideFieldIndex];\n\n          if (index === 0 && wideField.labels != null) {\n            for (const labelKey in wideField.labels) {\n              rowValues[labelKey] = wideField.labels[labelKey];\n            }\n          }\n          index += 1;\n\n          rowValues[wideField.name] = wideField.values.get(wideRowIndex);\n        }\n\n        rowValues[timeField.name] = time;\n        longFrame.add(rowValues);\n      }\n    }\n\n    result.push(longFrame);\n  }\n\n  return result;\n}\n","import { getTemplateSrv } from '@grafana/runtime';\nimport { QueryInfo } from '../../../types';\n\n/**\n * \n */\nexport const CQL_SPLIT_PATTERN = /(\\s*\\|\\s*)(select\\b.*)/i;\n\n/**\n * @param queryString \n * @description \n */\nexport function isQueryContainSql(queryString: string): boolean {\n  const pattern = CQL_SPLIT_PATTERN;\n  return pattern.test(queryString);\n}\n\n/**\n * query\n */\nexport function getQueryLucene(queryString = ''): string {\n  const querySplit = queryString.split(CQL_SPLIT_PATTERN);\n  let luceneQuery = '';\n  if (querySplit.length === 1) {\n    //  lucene \n    luceneQuery = queryString;\n  } else if (querySplit.length >= 2) {\n    luceneQuery = querySplit[0];\n  } else {\n    // \n    return '';\n  }\n  return luceneQuery;\n}\n\nexport function replaceClsQueryWithTemplateSrv(queryString: string, scopedVars: any = {}): string {\n  const luceneQuery = getQueryLucene(queryString ?? '');\n  const sqlQuery = (queryString ?? '').slice(luceneQuery.length);\n  const Query =\n    getTemplateSrv().replace(luceneQuery, scopedVars, 'lucene') + getTemplateSrv().replace(sqlQuery, scopedVars, 'raw');\n  return Query;\n}\n\nexport function addQueryResultLimit(queryString: string, logServiceParams: QueryInfo['logServiceParams']) {\n  const luceneQuery = getQueryLucene(queryString ?? '');\n  const sqlQuery = (queryString ?? '').slice(luceneQuery.length);\n  const resultLimit = logServiceParams.MaxResultNum;\n\n  if (!resultLimit || !sqlQuery) {\n    //   sql resultLimit \n    return queryString;\n  }\n  if (/limit/.test(sqlQuery)) {\n    //   limit \n    return queryString;\n  } else {\n    return queryString + ' limit ' + resultLimit;\n  }\n}\n","import { MyDataSourceOptions, QueryInfo } from '../types';\nimport {\n  DataFrame,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceApi,\n  DataSourceInstanceSettings,\n  FieldType,\n  LoadingState,\n  LogRowModel,\n  MetricFindValue,\n} from '@grafana/data';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport { DescribeLogContext, LogInfo, SearchLog } from './common/model';\nimport {\n  ConvertLogContextToDataFrame,\n  ConvertSearchResultsToDataFrame,\n  formatSearchLog,\n  LogFieldReservedName,\n} from './common/format';\nimport { RowContextOptions } from '@grafana/ui/components/Logs/LogRowContextProvider';\nimport moment from 'moment';\nimport { toTimeSeriesMany } from './common/format/prepareTimeSeries';\nimport { addQueryResultLimit, replaceClsQueryWithTemplateSrv } from './common/utils/query';\n\nexport class LogServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\n    super(instanceSettings);\n    this.instanceSettings = instanceSettings;\n  }\n\n  query(request: DataQueryRequest<QueryInfo>) {\n    const { range, targets, scopedVars } = request;\n    const [from, to] = [range.from, range.to].map((item) => item.valueOf()) as number[];\n    const requestTargets = targets.map<QueryInfo>((target) => {\n      const region = target.logServiceParams?.region ? getTemplateSrv().replace(target.logServiceParams.region) : '';\n      const TopicId = target.logServiceParams?.TopicId ? getTemplateSrv().replace(target.logServiceParams.TopicId) : '';\n      const Query = addQueryResultLimit(\n        replaceClsQueryWithTemplateSrv(target.logServiceParams?.Query || '', scopedVars),\n        target.logServiceParams\n      );\n\n      return {\n        ...target,\n        logServiceParams: {\n          ...target.logServiceParams,\n          region,\n          TopicId,\n          Query,\n        },\n      };\n    });\n\n    const dataFramePromise: Promise<DataFrame>[] = requestTargets\n      .filter((target) => !target.hide && target.logServiceParams.region && target.logServiceParams.TopicId)\n      .map((target) => {\n        return SearchLog(\n          {\n            TopicId: target.logServiceParams.TopicId,\n            Query: target.logServiceParams.Query,\n            From: from,\n            To: to,\n            SyntaxRule: target.logServiceParams.SyntaxRule,\n            Limit: target.logServiceParams.MaxResultNum,\n          },\n          target.logServiceParams.region,\n          { instanceSettings: this.instanceSettings }\n        ).then((result) => {\n          return ConvertSearchResultsToDataFrame(formatSearchLog(result), {\n            region: target.logServiceParams.region,\n            TopicId: target.logServiceParams.TopicId,\n          });\n        });\n      });\n\n    const output$ = new Observable<DataQueryResponse>((subscriber) => {\n      subscriber.next({ data: [], state: LoadingState.Loading });\n\n      Promise.all(dataFramePromise)\n        .then((frames) => {\n          const processedFrames = [];\n          for (const frame of frames) {\n            //  Analysis  TimeSeriesMany, \n            if (!frame?.meta?.preferredVisualisationType) {\n              const fieldTypeSet = new Set();\n              frame.fields.forEach((field) => fieldTypeSet.add(field.type));\n              if (\n                fieldTypeSet.has(FieldType.time) &&\n                fieldTypeSet.has(FieldType.string) &&\n                fieldTypeSet.has(FieldType.number)\n              ) {\n                const timeSeriesMany = toTimeSeriesMany([frame]);\n                if (frame.fields.filter((item) => item.type === 'number')?.length === 1) {\n                  timeSeriesMany.forEach((item) => {\n                    item.fields.forEach((field) => {\n                      if (field.type === FieldType.number) {\n                        field.name = '';\n                      }\n                    });\n                  });\n                }\n                processedFrames.splice(frame.fields.length, 0, ...timeSeriesMany);\n                continue;\n              }\n            }\n            processedFrames.push(frame);\n          }\n          subscriber.next({ data: processedFrames, state: LoadingState.Done });\n          subscriber.complete();\n        })\n        .catch((e) => {\n          subscriber.next({\n            data: [],\n            state: LoadingState.Error,\n            error: {\n              ...e,\n              message: e?.message || e?.data?.message,\n            },\n          });\n          subscriber.complete();\n        });\n    }).pipe(share());\n    return output$;\n  }\n\n  async metricFindQuery(query: QueryInfo['logServiceParams'], options): Promise<MetricFindValue[]> {\n    const logServiceParams = query;\n    const region = logServiceParams?.region ? getTemplateSrv().replace(logServiceParams.region) : '';\n    const TopicId = logServiceParams?.TopicId ? getTemplateSrv().replace(logServiceParams.TopicId) : '';\n    const Query = addQueryResultLimit(replaceClsQueryWithTemplateSrv(logServiceParams.Query), logServiceParams);\n\n    if (!options.range) {\n      return [];\n    }\n    if (region && TopicId && Query) {\n      const { analysisColumns, analysisRecords } = formatSearchLog(\n        await SearchLog(\n          {\n            TopicId: TopicId,\n            Query: Query,\n            From: options.range!.from.valueOf(),\n            To: options.range!.to.valueOf(),\n            Limit: logServiceParams?.MaxResultNum,\n          },\n          region,\n          {\n            instanceSettings: this.instanceSettings,\n          }\n        )\n      );\n      if (analysisColumns.length > 0 && analysisRecords.length > 0) {\n        const firstColumn = analysisColumns[0];\n        return analysisRecords.map((record) => {\n          return {\n            text: record[firstColumn.Name],\n            value: record[firstColumn.Name],\n          };\n        });\n      }\n    }\n    return [];\n  }\n\n  async testDatasource() {\n    if (!this.instanceSettings.jsonData['logServiceEnabled']) {\n      return null;\n    }\n    try {\n      // SearchLog\n      await SearchLog(\n        {\n          TopicId: '',\n          Query: '',\n          From: moment().subtract(1, 'h').valueOf(),\n          To: moment().valueOf(),\n        },\n        'ap-shanghai',\n        {\n          instanceSettings: this.instanceSettings,\n        }\n      );\n      return {\n        status: 'success',\n        message: 'DatSource Connection OK',\n      };\n    } catch (e) {\n      if (e?.code && e.code !== 'AuthFailure.SignatureFailure') {\n        return {\n          status: 'success',\n          message: 'DatSource Connection OK',\n        };\n      } else {\n        return {\n          status: 'error',\n          title: e.code,\n          message: e.message,\n        };\n      }\n    }\n  }\n\n  /** histogram support\n   * @link https://github.com/grafana/grafana/blob/942be4215afaea27757fb3a034126452aaf3fab2/public/app/plugins/datasource/loki/datasource.ts#L115-L115\n   */\n  getLogsVolumeDataProvider(request: DataQueryRequest<QueryInfo>): Observable<DataQueryResponse> | undefined {\n    return undefined;\n  }\n\n  /** context disabled */\n  showContextToggle = (row: LogRowModel) => {\n    /** ConvertLogJsonToDataFrameDTO  LogFieldReservedName.META field */\n    const metaField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.META);\n    try {\n      if (metaField?.labels?.region && metaField?.labels.TopicId) {\n        const metaValue: Pick<LogInfo, 'PkgId' | 'PkgLogId'> = JSON.parse(metaField.values.get(row.rowIndex));\n        if (metaValue?.PkgId && metaValue?.PkgLogId) {\n          return true;\n        }\n      }\n      return false;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  getLogRowContext = async (row: LogRowModel, options: RowContextOptions) => {\n    const { limit = 10, direction = 'BACKWARD' } = options;\n    const timeField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.TIMESTAMP);\n    const metaField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.META);\n    if (!timeField || !metaField?.labels || !limit) {\n      return { data: [], state: LoadingState.Done };\n    }\n\n    try {\n      const metaValue: Pick<LogInfo, 'PkgId' | 'PkgLogId'> = JSON.parse(metaField.values.get(row.rowIndex));\n      const bTime = moment(timeField.values.get(row.rowIndex)).format('YYYY-MM-DD HH:MM:SS.SSS');\n      const logContext = await DescribeLogContext(\n        {\n          TopicId: metaField?.labels.TopicId,\n          BTime: bTime,\n          PkgId: metaValue.PkgId,\n          PkgLogId: Number(metaValue.PkgLogId),\n          PrevLogs: direction === 'BACKWARD' ? limit : 0,\n          NextLogs: direction !== 'BACKWARD' ? limit : 0,\n        },\n        metaField?.labels.region,\n        { instanceSettings: this.instanceSettings }\n      );\n      const frame = ConvertLogContextToDataFrame(logContext);\n      return {\n        data: [frame],\n        state: LoadingState.Done,\n      };\n    } catch (e) {\n      return {\n        data: [],\n        state: LoadingState.Error,\n        error: e,\n      };\n    }\n  };\n}\n","import { DescribeLogContextResult } from '../model';\nimport { DataFrameDTO, FieldType, toDataFrame, DataFrame, FieldDTO } from '@grafana/data';\nimport { parseLogJsonStr } from './formatSearchLog';\n\nexport function ConvertLogContextToDataFrame(logContext: DescribeLogContextResult): DataFrame {\n  const { LogContextInfos = [] } = logContext;\n\n  const timeField: FieldDTO<number> = {\n    name: 'ts',\n    type: FieldType.time,\n    config: { displayName: 'Time' },\n    values: [],\n  };\n  const idField: FieldDTO<string | number> = {\n    name: 'id',\n    type: FieldType.string,\n    values: [],\n  };\n  const lineField: FieldDTO<string> = {\n    name: 'line',\n    type: FieldType.string,\n    values: [],\n  };\n\n  LogContextInfos.forEach((item) => {\n    (timeField.values as number[]).unshift(item.BTime);\n    (idField.values as (string | number)[]).unshift(item.PkgLogId);\n    let contextLog;\n    try {\n      contextLog = JSON.stringify(parseLogJsonStr(item.Content) as any);\n    } catch (e) {\n      contextLog = item.Content;\n    }\n    (lineField.values as string[]).unshift(contextLog);\n  });\n\n  const frameDTO: DataFrameDTO = {\n    name: '',\n    meta: {\n      custom: {\n        RequestId: (logContext as any).RequestId,\n      },\n    },\n    fields: [timeField, lineField, idField],\n  };\n  return toDataFrame(frameDTO);\n}\n","import { each, map, includes, flatten, keys } from 'lodash';\nimport TableModel from 'grafana/app/core/table_model';\nimport { FieldType, QueryResultMeta, TimeSeries, TableData } from '@grafana/data';\n\nexport default class RUMSeries {\n  refId?: string;\n  series: any;\n  alias: any;\n  annotation: any;\n  meta?: QueryResultMeta;\n\n  constructor(options: { series: any; alias?: any; annotation?: any; meta?: QueryResultMeta; refId?: string }) {\n    this.series = options.series;\n    this.alias = options.alias;\n    this.annotation = options.annotation;\n    this.meta = options.meta;\n    this.refId = options.refId;\n  }\n\n  getTimeSeries(): TimeSeries[] {\n    const output: TimeSeries[] = [];\n    let i;\n    let j;\n\n    if (this.series.length === 0) {\n      return output;\n    }\n\n    each(this.series, (series) => {\n      const columns = series.columns.length;\n      const tags = map(series.tags, (value, key) => {\n        return key + ': ' + value;\n      });\n\n      for (j = 1; j < columns; j++) {\n        let seriesName = series.name;\n        const columnName = series.columns[j];\n        if (columnName !== 'value') {\n          seriesName = seriesName + '.' + columnName;\n        }\n\n        if (this.alias) {\n          seriesName = this._getSeriesName(series, j);\n        } else if (series.tags) {\n          seriesName = seriesName + ' {' + tags.join(', ') + '}';\n        }\n\n        const datapoints = [];\n        if (series.values) {\n          for (i = 0; i < series.values.length; i++) {\n            datapoints[i] = [series.values[i][j], series.values[i][0]];\n          }\n        }\n\n        output.push({\n          title: seriesName,\n          target: seriesName,\n          datapoints: datapoints,\n          tags: series.tags,\n          meta: this.meta,\n          refId: this.refId,\n        });\n      }\n    });\n\n    return output;\n  }\n\n  _getSeriesName(series: any, index: number) {\n    const regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\n    const segments = series.name.split('.');\n\n    return this.alias.replace(regex, (match: any, g1: any, g2: any) => {\n      const group = g1 || g2;\n      const segIndex = parseInt(group, 10);\n\n      if (group === 'm' || group === 'measurement') {\n        return series.name;\n      }\n      if (group === 'col') {\n        return series.columns[index];\n      }\n      if (!isNaN(segIndex)) {\n        return segments[segIndex] ?? match;\n      }\n      if (group.indexOf('tag_') !== 0) {\n        return match;\n      }\n\n      const tag = group.replace('tag_', '');\n      if (!series.tags) {\n        return match;\n      }\n      return series.tags[tag];\n    });\n  }\n\n  getAnnotations() {\n    const list: any[] = [];\n\n    each(this.series, (series) => {\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(series.columns, (column, index) => {\n        if (column === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column === 'sequence_number') {\n          return;\n        }\n        if (column === this.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (includes((this.annotation.tagsColumn || '').replace(' ', '').split(','), column)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column === this.annotation.textColumn) {\n          textCol = index;\n          return;\n        }\n        if (column === this.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(series.values, (value) => {\n        const data = {\n          annotation: this.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n    });\n\n    return list;\n  }\n\n  getTable(): TableData {\n    const table = new TableModel();\n    let i;\n    let j;\n\n    // @ts-ignore\n    table.refId = this.refId;\n    // @ts-ignore\n    table.meta = this.meta;\n\n    if (this.series.length === 0) {\n      return table;\n    }\n\n    // the order is:\n    // - first the first item from the value-array (this is often (always?) the timestamp)\n    // - then all the tag-values\n    // - then the rest of the value-array\n    //\n    // we have to keep this order both in table.columns and table.rows\n\n    each(this.series, (series: any, seriesIndex: number) => {\n      if (seriesIndex === 0) {\n        const firstCol = series.columns[0];\n        // Check the first column's name, if it is `time`, we\n        // mark it as having the type time\n        const firstTableCol = firstCol === 'time' ? { text: 'Time', type: FieldType.time } : { text: firstCol };\n        table.columns.push(firstTableCol);\n        each(keys(series.tags), (key) => {\n          table.columns.push({ text: key });\n        });\n        for (j = 1; j < series.columns.length; j++) {\n          table.columns.push({ text: series.columns[j] });\n        }\n      }\n\n      if (series.values) {\n        for (i = 0; i < series.values.length; i++) {\n          const values = series.values[i];\n          const reordered = [values[0]];\n          if (series.tags) {\n            for (const key in series.tags) {\n              if (series.tags.hasOwnProperty(key)) {\n                reordered.push(series.tags[key]);\n              }\n            }\n          }\n          for (j = 1; j < values.length; j++) {\n            reordered.push(values[j]);\n          }\n          table.rows.push(reordered);\n        }\n      }\n    });\n\n    return table;\n  }\n}\n","import { AnnotationEvent, DataFrame, DataQuery, FieldType, QueryResultMeta } from '@grafana/data';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport TableModel from 'grafana/app/core/table_model';\nimport { each, flatten, groupBy, isArray } from 'lodash';\nimport { ENABLE_MEASUREMENTS } from './common/constants';\nimport { RUMQuery } from './types';\n\nexport default class ResponseParser {\n  parse(query: string, results: { results: any }) {\n    if (!results?.results || results.results.length === 0) {\n      return [];\n    }\n\n    const RUMResults = results.results[0];\n    if (!RUMResults.series) {\n      return [];\n    }\n\n    const normalizedQuery = query.toLowerCase();\n    const isValueFirst =\n      normalizedQuery.indexOf('show field keys') >= 0 || normalizedQuery.indexOf('show retention policies') >= 0;\n    const isShowMeasurements = normalizedQuery.indexOf('show measurements') >= 0;\n\n    const res = new Set<string>();\n    each(RUMResults.series, (serie) => {\n      each(serie.values, (value) => {\n        if (isArray(value)) {\n          // In general, there are 2 possible shapes for the returned value.\n          // The first one is a two-element array,\n          // where the first element is somewhat a metadata value:\n          // the tag name for SHOW TAG VALUES queries,\n          // the time field for SELECT queries, etc.\n          // The second shape is an one-element array,\n          // that is containing an immediate value.\n          // For example, SHOW FIELD KEYS queries return such shape.\n          // Note, pre-0.11 versions return\n          // the second shape for SHOW TAG VALUES queries\n          // (while the newer versionsfirst).\n\n          if (isValueFirst) {\n            addUnique(res, value[0]);\n          } else if (value[1] !== undefined) {\n            addUnique(res, value[1]);\n          } else {\n            addUnique(res, value[0]);\n          }\n        } else {\n          addUnique(res, value);\n        }\n      });\n    });\n\n    if (isShowMeasurements) {\n      return Array.from(res)\n        .filter((item) => ENABLE_MEASUREMENTS.includes(item))\n        .map((v) => ({ text: v }));\n    }\n\n    return Array.from(res).map((v) => ({ text: v }));\n  }\n\n  getTable(dfs: DataFrame[], target: RUMQuery, meta: QueryResultMeta): TableModel {\n    let table = new TableModel();\n\n    if (dfs.length > 0) {\n      // @ts-ignore\n      table.meta = {\n        ...meta,\n        executedQueryString: dfs[0].meta?.executedQueryString,\n      };\n      // @ts-ignore\n      table.refId = target.refId;\n      table = getTableCols(dfs, table, target);\n\n      // if group by tag(s) added\n      if (dfs[0].fields[1]?.labels) {\n        let dfsByLabels: any = groupBy(dfs, (df: DataFrame) =>\n          df.fields[1].labels ? Object.values(df.fields[1].labels!) : null\n        );\n        const labels = Object.keys(dfsByLabels);\n        dfsByLabels = Object.values(dfsByLabels);\n\n        for (let i = 0; i < dfsByLabels.length; i++) {\n          table = getTableRows(dfsByLabels[i], table, [...labels[i].split(',')]);\n        }\n      } else {\n        table = getTableRows(dfs, table, []);\n      }\n    }\n\n    return table;\n  }\n\n  async transformAnnotationResponse(options: any, data: any, target: RUMQuery): Promise<AnnotationEvent[]> {\n    const rsp = toDataQueryResponse(data, [target] as DataQuery[]);\n\n    if (rsp) {\n      const table = this.getTable(rsp.data, target, {});\n      const list: any[] = [];\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(table.columns, (column, index) => {\n        if (column.text.toLowerCase() === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column.text === options.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (colContainsTag(column.text, options.annotation.tagsColumn)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column.text.includes(options.annotation.textColumn)) {\n          textCol = index;\n          return;\n        }\n        if (column.text === options.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(table.rows, (value) => {\n        const data = {\n          annotation: options.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n\n      return list;\n    }\n    return [];\n  }\n}\n\nfunction colContainsTag(colText: string, tagsColumn: string): boolean {\n  const tags = (tagsColumn || '').replace(' ', '').split(',');\n  for (let tag of tags) {\n    if (colText.includes(tag)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getTableCols(dfs: DataFrame[], table: TableModel, target: RUMQuery): TableModel {\n  const selectedParams = getSelectedParams(target);\n\n  dfs[0].fields.forEach((field) => {\n    // Time col\n    if (field.name === 'time') {\n      table.columns.push({ text: 'Time', type: FieldType.time });\n    }\n\n    // Group by (label) column(s)\n    else if (field.name === 'value') {\n      if (field.labels) {\n        Object.keys(field.labels).forEach((key) => {\n          table.columns.push({ text: key });\n        });\n      }\n    }\n  });\n\n  // Get cols for annotationQuery\n  if (dfs[0].refId === 'metricFindQuery') {\n    dfs.forEach((field) => {\n      if (field.name) {\n        table.columns.push({ text: field.name });\n      }\n    });\n  }\n\n  // Select (metric) column(s)\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < selectedParams.length; i++) {\n    table.columns.push({ text: selectedParams[i] });\n  }\n\n  return table;\n}\n\nfunction getTableRows(dfs: DataFrame[], table: TableModel, labels: string[]): TableModel {\n  const values = dfs[0].fields[0].values.toArray();\n\n  for (let i = 0; i < values.length; i++) {\n    const time = values[i];\n    const metrics = dfs.map((df: DataFrame) => {\n      return df.fields[1] ? df.fields[1].values.toArray()[i] : null;\n    });\n    if (metrics.indexOf(null) < 0) {\n      table.rows.push([time, ...labels, ...metrics]);\n    }\n  }\n  return table;\n}\n\nexport function getSelectedParams(target: RUMQuery): string[] {\n  let allParams: string[] = [];\n  target.select?.forEach((select) => {\n    const selector = select.filter((x) => x.type !== 'field');\n    if (selector.length > 0) {\n      allParams.push(selector[0].type);\n    } else {\n      if (select[0]?.params?.[0]) {\n        allParams.push(select[0].params[0].toString());\n      }\n    }\n  });\n\n  let uniqueParams: string[] = [];\n  allParams.forEach((param) => {\n    uniqueParams.push(incrementName(param, param, uniqueParams, 0));\n  });\n\n  return uniqueParams;\n}\n\nfunction incrementName(name: string, nameIncremenet: string, params: string[], index: number): string {\n  if (params.indexOf(nameIncremenet) > -1) {\n    index++;\n    return incrementName(name, name + '_' + index, params, index);\n  }\n  return nameIncremenet;\n}\n\nfunction addUnique(s: Set<string>, value: string | number) {\n  s.add(value.toString());\n}\n","import { cloneDeep, isString, map as _map, get } from 'lodash';\nimport { Observable, of, throwError, from } from 'rxjs';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { getBackendSrv, getTemplateSrv, TemplateSrv } from '@grafana/runtime';\nimport {\n  ArrayVector,\n  DataFrame,\n  DataQueryError,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  MetricFindValue,\n  dateMath,\n  DataSourceApi,\n  FieldType,\n  QueryResultMeta,\n  TIME_SERIES_TIME_FIELD_NAME,\n  TIME_SERIES_VALUE_FIELD_NAME,\n  TimeSeries,\n  LoadingState,\n  RawTimeRange,\n} from '@grafana/data';\nimport RUMQueryModel from './RUM_query_model';\nimport RUMSeries from './RUM_series';\nimport ResponseParser from './response_parser';\nimport { GetRequestParams, GetServiceAPIInfo } from '../../datasource/common/constants';\nimport { MyDataSourceOptions, QueryInfo } from '../types';\nimport { RUMOptions, RUMQuery } from './types';\nimport { RUMQueryBuilder } from './query_builder';\n\n// we detect the field type based on the value-array\nfunction getFieldType(values: unknown[]): FieldType {\n  // the values-array may contain a lot of nulls.\n  // we need the first not-null item\n  const firstNotNull = values.find((v) => v !== null);\n\n  if (firstNotNull === undefined) {\n    // we could not find any not-null values\n    return FieldType.number;\n  }\n\n  const valueType = typeof firstNotNull;\n\n  switch (valueType) {\n    case 'string':\n      return FieldType.string;\n    case 'boolean':\n      return FieldType.boolean;\n    case 'number':\n      return FieldType.number;\n    default:\n      throw new Error(`RUM: invalid value type ${valueType}`);\n  }\n}\n\n// this conversion function is specialized to work with the timeseries\n// data returned by getTimeSeries()\nfunction timeSeriesToDataFrame(timeSeries: TimeSeries): DataFrame {\n  const times: number[] = [];\n  const values: unknown[] = [];\n\n  // the data we process here is not correctly typed.\n  // the typescript types say every data-point is number|null,\n  // but in fact it can be string or boolean too.\n\n  const points = timeSeries.datapoints;\n  for (const point of points) {\n    values.push(point[0]);\n    times.push(point[1] as number);\n  }\n\n  const timeField = {\n    name: TIME_SERIES_TIME_FIELD_NAME,\n    type: FieldType.time,\n    config: {},\n    values: new ArrayVector<number>(times),\n  };\n\n  const valueField = {\n    name: TIME_SERIES_VALUE_FIELD_NAME,\n    type: getFieldType(values),\n    config: {\n      displayNameFromDS: timeSeries.title,\n    },\n    values: new ArrayVector<unknown>(values),\n    labels: timeSeries.tags,\n  };\n\n  const fields = [timeField, valueField];\n\n  return {\n    name: timeSeries.target,\n    refId: timeSeries.refId,\n    meta: timeSeries.meta,\n    fields,\n    length: values.length,\n  };\n}\n\nexport default class RUMServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  type: string;\n  url: string;\n  responseParser: any;\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  private readonly templateSrv: TemplateSrv;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<RUMOptions>) {\n    super(instanceSettings);\n\n    this.instanceSettings = instanceSettings;\n    this.templateSrv = getTemplateSrv();\n    this.responseParser = new ResponseParser();\n    this.type = 'RUMService';\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Promise<DataQueryResponse> | Observable<DataQueryResponse> {\n    return this.classicQuery(request);\n  }\n\n  classicQuery(options: any): Observable<DataQueryResponse> {\n    let timeFilter = this.getTimeFilter(options);\n    const scopedVars = options.scopedVars;\n    const targets = cloneDeep(options.targets);\n    const queryTargets: any[] = [];\n\n    let i;\n    let y;\n\n    let allQueries = _map(targets, (target) => {\n      if (target.hide) {\n        return '';\n      }\n      target.RUMServiceParams = this.fixTimePeriod(target.RUMServiceParams, options);\n      queryTargets.push(target);\n\n      // backward compatibility\n      scopedVars.interval = scopedVars.__interval;\n\n      return new RUMQueryModel(target.RUMServiceParams, this.templateSrv, scopedVars).render(true);\n    }).reduce((acc, current) => {\n      if (current !== '') {\n        acc += ';' + current;\n      }\n      return acc;\n    });\n\n    if (allQueries === '') {\n      return of({ data: [] });\n    }\n\n    // add global adhoc filters to timeFilter\n    // @ts-ignore\n    const adhocFilters = this.templateSrv.getAdhocFilters(this.name);\n    if (adhocFilters.length > 0) {\n      const tmpQuery = new RUMQueryModel({}, this.templateSrv, scopedVars);\n      timeFilter += ' AND ' + tmpQuery.renderAdhocFilters(adhocFilters);\n    }\n\n    // replace grafana variables\n    scopedVars.timeFilter = { value: timeFilter };\n\n    // replace templated variables\n    allQueries = this.templateSrv.replace(allQueries, scopedVars);\n\n    return this._seriesQuery(allQueries, options).pipe(\n      map((data: any) => {\n        if (!data || !data.results) {\n          return { data: [] };\n        }\n\n        const seriesList = [];\n        for (i = 0; i < data.results.length; i++) {\n          const result = data.results[i];\n          if (!result || !result.series) {\n            continue;\n          }\n\n          const target = queryTargets[i];\n          let alias = target.RUMServiceParams.alias;\n          if (alias) {\n            alias = this.templateSrv.replace(target.RUMServiceParams.alias, options.scopedVars);\n          }\n\n          const meta: QueryResultMeta = {\n            executedQueryString: data.executedQueryString,\n          };\n\n          const rumSeries = new RUMSeries({\n            refId: target.refId,\n            series: data.results[i].series,\n            alias: alias,\n            meta,\n          });\n\n          switch (target.RUMServiceParams.resultFormat) {\n            case 'logs':\n              meta.preferredVisualisationType = 'logs';\n            // eslint-disable-next-line no-fallthrough\n            case 'table': {\n              seriesList.push(rumSeries.getTable());\n              break;\n            }\n            default: {\n              const timeSeries = rumSeries.getTimeSeries();\n              for (y = 0; y < timeSeries.length; y++) {\n                seriesList.push(timeSeriesToDataFrame(timeSeries[y]));\n              }\n              break;\n            }\n          }\n        }\n\n        return { data: seriesList, state: LoadingState.Done };\n      })\n    );\n  }\n\n  async metricFindQuery(query: string, options?: any): Promise<MetricFindValue[]> {\n    const interpolated = this.templateSrv.replace(query, undefined, 'regex');\n\n    return this._seriesQuery(interpolated, options)\n      .toPromise()\n      .then((resp) => {\n        return this.responseParser.parse(query, resp);\n      });\n  }\n\n  _seriesQuery(query: string, options?: any) {\n    if (!query) {\n      return of({ results: [] });\n    }\n\n    if (options?.range) {\n      const timeFilter = this.getTimeFilter({ rangeRaw: options.range, timezone: options.timezone });\n      query = query.replace('$timeFilter', timeFilter);\n    }\n\n    return this._RUMRequest(query);\n  }\n\n  _RUMRequest(query) {\n    const serviceType = 'rum';\n    const serviceInfo = GetServiceAPIInfo('', serviceType);\n\n    return from(\n      GetRequestParams(\n        { url: this.instanceSettings.url + serviceInfo.path, data: { Query: btoa(query) } },\n        serviceType,\n        { action: 'DescribeGrafanaData' },\n        '',\n        this.instanceSettings.id,\n        getBackendSrv()\n      )\n    ).pipe(\n      mergeMap((requestOptions) => {\n        return getBackendSrv()\n          .fetch(requestOptions)\n          .pipe(\n            map((result: any) => {\n              if (get(result, 'data.Response.Error')) {\n                // eslint-disable-next-line no-throw-literal\n                throw {\n                  message: 'RUM Error: ' + get(result, 'data.Response.Error.Message'),\n                  data: result.data,\n                  cancelled: true,\n                };\n              }\n              const jsonData = get(result, 'data.Response.Result');\n              const data = JSON.parse(jsonData);\n              data.executedQueryString = query;\n\n              if (data) {\n                if (data.error) {\n                  // eslint-disable-next-line no-throw-literal\n                  throw {\n                    message: 'RUM Error: ' + data.error,\n                    data,\n                  };\n                }\n                if (data.results) {\n                  const errors = data.results.filter((elem: any) => elem.error);\n\n                  if (errors.length > 0) {\n                    // eslint-disable-next-line no-throw-literal\n                    throw {\n                      message: 'RUM Error: ' + errors[0].error,\n                      data,\n                    };\n                  }\n                }\n              }\n              return data;\n            }),\n            catchError((err) => {\n              if (err.cancelled) {\n                return of(err);\n              }\n\n              return throwError(this.handleErrors(err));\n            })\n          );\n      })\n    );\n  }\n\n  handleErrors(err: any) {\n    const error: DataQueryError = {\n      message: err?.status || err?.message || 'Unknown error during query transaction. Please check JS console logs.',\n    };\n\n    if ((Number.isInteger(err.status) && err.status !== 0) || err.status >= 300) {\n      if (err.data?.error) {\n        error.message = 'RUM Error: ' + err.data.error;\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      } else {\n        error.message = 'Network Error: ' + err.statusText + '(' + err.status + ')';\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      }\n    }\n\n    return error;\n  }\n\n  getTimeFilter(options: any) {\n    const from = this.getRUMTime(options.rangeRaw.from, false, options.timezone);\n    const until = this.getRUMTime(options.rangeRaw.to, true, options.timezone);\n\n    return 'time >= ' + from + ' and time <= ' + until;\n  }\n\n  getRUMTime(date: any, roundUp: any, timezone: any) {\n    if (isString(date)) {\n      if (date === 'now') {\n        return 'now()';\n      }\n\n      const parts = /^now-(\\d+)([dhms])$/.exec(date);\n      if (parts) {\n        const amount = parseInt(parts[1], 10);\n        const unit = parts[2];\n        return 'now() - ' + amount + unit;\n      }\n      date = dateMath.parse(date, roundUp, timezone);\n    }\n\n    return date.valueOf() + 'ms';\n  }\n\n  fixTimePeriod(target: any, options: any) {\n    const period = this.getTimePeriod(options.rangeRaw, options.timezone);\n\n    target.groupBy?.forEach((groupBy: any) => {\n      if (groupBy.type === 'time' && groupBy.params[0] !== '1d') {\n        target = this.modifyTime(target, period);\n      }\n    });\n    return target;\n  }\n\n  getTimePeriod(rangeRaw: RawTimeRange, timezone: string): string {\n    const from = dateMath.parse(rangeRaw.from, false, timezone)?.valueOf();\n    const until = dateMath.parse(rangeRaw.to, true, timezone)?.valueOf();\n    const oneHour = 1000 * 60 * 60;\n    let range = 0;\n    let period = '1m';\n    if (from && until) {\n      range = until - from;\n    }\n    // 12h\n    if (range <= oneHour * 12) {\n      period = '1m';\n    }\n    // 3d\n    else if (range <= oneHour * 24 * 3) {\n      period = '30m';\n    }\n    // 7d\n    else if (range <= oneHour * 24 * 7) {\n      period = '1h';\n    } else {\n      period = '1d';\n    }\n    return period;\n  }\n\n  // \n  modifyTime(query: RUMQuery, period: string): RUMQuery {\n    if (!query.groupBy) {\n      return query;\n    }\n    for (const item of query.groupBy) {\n      if (item.type === 'time') {\n        const compareResult = this.periodCompare(String(item.params?.[0]) || '', period);\n        const isPeriodInparamsSmaller = compareResult && compareResult < 0;\n        // !compareResult\n        if (!compareResult || isPeriodInparamsSmaller) {\n          item.params = [period];\n        }\n        return query;\n      }\n    }\n    return query;\n  }\n  /**\n   * @param pre_period \n   * @param period \n   * @return 0=; null\n   */\n  periodCompare(pre_period: string, period: string): number | null {\n    const units = ['s', 'm', 'h', 'd'];\n    const reg = new RegExp(`(^\\\\d+)([${units.join('')}]$)`);\n    const pre = reg.exec(pre_period);\n    const per = reg.exec(period);\n    if (!pre || !per) {\n      return null;\n    }\n    if (units.indexOf(pre[2]) - units.indexOf(per[2])) {\n      return units.indexOf(pre[2]) - units.indexOf(per[2]);\n    }\n    return Number(pre[1]) - Number(per[1]);\n  }\n\n  testDatasource(): Promise<any> {\n    if (!this.instanceSettings.jsonData['RUMServiceEnabled']) {\n      return null;\n    }\n    const queryBuilder = new RUMQueryBuilder({ measurement: '', tags: [] }, '');\n    const query = queryBuilder.buildExploreQuery('MEASUREMENTS');\n\n    return this._seriesQuery(query)\n      .toPromise()\n      .then((res: any) => {\n        const error = get(res, 'data.Response.Error');\n        if (error) {\n          return { status: 'error', message: error?.Message };\n        }\n        return { status: 'success', message: 'Data source is working' };\n      })\n      .catch((err: any) => {\n        return { status: 'error', message: err.message };\n      });\n  }\n}\n","import * as _ from 'lodash';\nimport {\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  LoadingState,\n  LogRowModel,\n  MetricFindValue,\n} from '@grafana/data';\nimport { combineLatest, Observable, of, from } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { DataSourceWithBackend, getBackendSrv, getTemplateSrv } from '@grafana/runtime';\nimport { TCMonitorDatasource } from './tc_monitor/MonitorDatasource';\nimport { MyDataSourceOptions, QueryInfo, ServiceType, VariableQuery } from './types';\nimport { LogServiceDataSource } from './log-service/LogServiceDataSource';\nimport RUMServiceDataSource from './rum-service/RUMServiceDataSource';\nimport APMServiceDataSource from './apm-service/APMServiceDataSource';\nimport { IS_DEVELOPMENT_ENVIRONMENT } from './common/constants';\n\n/** monitor or logService */\nexport class DataSource extends DataSourceWithBackend<QueryInfo, MyDataSourceOptions> {\n  readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  readonly monitorDataSource: TCMonitorDatasource;\n  readonly logServiceDataSource: LogServiceDataSource;\n  readonly RUMServiceDataSource: RUMServiceDataSource;\n  readonly APMServiceDataSource: APMServiceDataSource;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\n    super(instanceSettings);\n    this.instanceSettings = instanceSettings;\n    if (IS_DEVELOPMENT_ENVIRONMENT) {\n      (window as any).tcDatasource = this;\n    }\n\n    this.monitorDataSource = new TCMonitorDatasource(this.instanceSettings, getBackendSrv(), getTemplateSrv()) as any;\n    (this.monitorDataSource as any).meta = this.meta;\n    this.logServiceDataSource = new LogServiceDataSource(this.instanceSettings);\n    (this.logServiceDataSource as any).meta = this.meta;\n    this.RUMServiceDataSource = new RUMServiceDataSource(this.instanceSettings);\n    (this.RUMServiceDataSource as any).meta = this.meta;\n    this.APMServiceDataSource = new APMServiceDataSource(this.instanceSettings);\n    (this.APMServiceDataSource as any).meta = this.meta;\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Observable<DataQueryResponse> {\n    const monitorTargets: QueryInfo[] = [];\n    const logServiceTargets: QueryInfo[] = [];\n    const RUMServiceTargets: QueryInfo[] = [];\n    const APMServiceTargets: QueryInfo[] = [];\n    for (const target of request.targets) {\n      if (target.serviceType === ServiceType.logService) {\n        logServiceTargets.push(target);\n      } else if (target.serviceType === ServiceType.RUMService) {\n        RUMServiceTargets.push(target);\n      } else if (target.serviceType === ServiceType.APMService) {\n        APMServiceTargets.push(target);\n      } else {\n        monitorTargets.push(target);\n      }\n    }\n\n    const EmptyDataQueryResponse: DataQueryResponse = { data: [], state: LoadingState.Done };\n    return combineLatest<DataQueryResponse[]>([\n      monitorTargets.length\n        ? from(\n            this.monitorDataSource.query({\n              ..._.clone(_.omit(request, 'targets')),\n              targets: monitorTargets,\n            })\n          )\n        : of(EmptyDataQueryResponse),\n      logServiceTargets.length\n        ? this.logServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: logServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n      RUMServiceTargets.length\n        ? this.RUMServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: RUMServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n      APMServiceTargets.length\n        ? this.APMServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: APMServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n    ]).pipe(\n      map((responses: DataQueryResponse[]): DataQueryResponse => {\n        const errResponse = responses.find((item) => item.state === LoadingState.Error);\n        if (errResponse) {\n          return errResponse;\n        }\n        if (!responses.every((item) => item.state === LoadingState.Done)) {\n          return { data: [], state: LoadingState.Loading };\n        }\n        return {\n          data: responses.map((item) => item.data).flat(1),\n          state: LoadingState.Done,\n        };\n      })\n    );\n  }\n\n  async testDatasource() {\n    // null\n    const serviceTestResults = (\n      await Promise.all([\n        this.monitorDataSource.testDatasource(),\n        this.logServiceDataSource.testDatasource(),\n        this.RUMServiceDataSource.testDatasource(),\n        this.APMServiceDataSource.testDatasource(),\n      ])\n    ).filter(Boolean);\n\n    if (serviceTestResults.length === 0) {\n      return {\n        status: 'error',\n        message: \"Nothing configured. At least one of the API's services must be configured.\",\n      };\n    }\n\n    const failedResult = serviceTestResults.find((item) => item?.status !== 'success');\n    if (failedResult) {\n      return failedResult;\n    } else {\n      return serviceTestResults[0];\n    }\n  }\n\n  async metricFindQuery(query: string | VariableQuery, options): Promise<MetricFindValue[]> {\n    if (_.isString(query) || query.serviceType === ServiceType.monitor) {\n      return this.monitorDataSource.metricFindQuery(_.isString(query) ? query : query.queryString, options);\n    }\n    if (query.serviceType === ServiceType.logService) {\n      return this.logServiceDataSource.metricFindQuery(query.logServiceParams, options);\n    }\n    if (query.serviceType === ServiceType.RUMService) {\n      return this.RUMServiceDataSource.metricFindQuery(query.queryString, options);\n    }\n    if (query.serviceType === ServiceType.APMService) {\n      return this.APMServiceDataSource.metricFindQuery(query.queryString, options);\n    }\n    return [];\n  }\n\n  getLogRowContext = (row: LogRowModel, options) => {\n    return this.logServiceDataSource.getLogRowContext(row, options);\n  };\n\n  showContextToggle = (row: LogRowModel) => {\n    return false;\n    // return this.logServiceDataSource.showContextToggle(row);\n  };\n}\n","import React, { FormEvent, PureComponent } from 'react';\nimport { LegacyForms, InlineFieldRow, InlineField, Input, Switch, Select, Alert } from '@grafana/ui';\nimport { DataSourcePluginOptionsEditorProps, SelectableValue } from '@grafana/data';\nimport { MyDataSourceOptions, MySecureJsonData } from '../types';\nimport { SERVICES } from '../tc_monitor';\nimport { t, setLanguage, Language } from '../../locale';\nconst { SecretFormField } = LegacyForms;\n\ntype Props = DataSourcePluginOptionsEditorProps<MyDataSourceOptions, MySecureJsonData>;\n\ninterface State {\n  monitorFilter: string;\n  isClsAlertVisiable: boolean;\n}\n\nexport class ConfigEditor extends PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      monitorFilter: '',\n      isClsAlertVisiable: false,\n    };\n    setLanguage(props.options.jsonData.language || Language.Chinese);\n  }\n\n  patchJsonData = (kv: Record<string, any>) => {\n    const { onOptionsChange, options } = this.props;\n    if (kv) {\n      const jsonData = {\n        ...options.jsonData,\n        ...kv,\n      };\n      onOptionsChange({ ...options, jsonData });\n    }\n  };\n\n  onJsonDataChange = (event: FormEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const targetName = event?.currentTarget?.name;\n    const targetValue = (event?.currentTarget?.value || '').trim();\n    if (targetName) {\n      const jsonData = {\n        ...options.jsonData,\n        [targetName]: targetValue,\n      };\n      onOptionsChange({ ...options, jsonData });\n    }\n  };\n\n  // Secure field (only sent to the backend)\n  onSecureJsonChange = (event: FormEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const targetName = event?.currentTarget?.name;\n    const targetValue = (event?.currentTarget?.value || '').trim();\n    if (targetName) {\n      onOptionsChange({\n        ...options,\n        secureJsonData: {\n          ...options.secureJsonData,\n          [targetName]: targetValue,\n        },\n      });\n    }\n  };\n\n  onResetSecureJson = (key: string) => {\n    const { onOptionsChange, options } = this.props;\n    if (key) {\n      onOptionsChange({\n        ...options,\n        secureJsonFields: {\n          ...options.secureJsonFields,\n          [key]: false,\n        },\n        secureJsonData: {\n          ...options.secureJsonData,\n          [key]: '',\n        },\n      });\n    }\n  };\n\n  render() {\n    const { options } = this.props;\n    const { jsonData, secureJsonFields, secureJsonData } = options;\n    return (\n      <>\n        <div>\n          <h3 className=\"page-heading\">Security Credentials</h3>\n          <div\n            className=\"card-item\"\n            style={{\n              position: 'relative',\n              marginTop: '16px',\n              padding: '16px',\n              WebkitBoxFlex: 1,\n              flexGrow: 1,\n              borderTop: '3px solid rgb(50, 115, 217)',\n            }}\n          >\n            <div>\n              <h4>Initialize Tencent Cloud Monitor Grafana App</h4>\n              <p>\n                To initialize the App and connect it to your Tencent Cloud service you will need a SecretId and a\n                SecretKey for you Tencent Cloud account.\n                <br />\n                <b>SecretId</b> is used to identify the identity of the API caller.\n                <br />\n                <b>SecretKey</b> is used to encrypt the signature and validate the signature of the server-side.\n              </p>\n            </div>\n            <div>\n              <h5>User Permission</h5>\n              <p>\n                If you are using a\n                <a\n                  className=\"highlight-word\"\n                  href=\"https://intl.cloud.tencent.com/document/product/598/13674\"\n                  target=\"_blank\"\n                  style={{ margin: '0 4px' }}\n                >\n                  sub-user\n                </a>\n                account, you should at least own read permission to the cloud products you wish to monitor.\n              </p>\n              <a className=\"highlight-word\" href=\"https://console.cloud.tencent.com/cam/capi\" target=\"_blank\">\n                Generate a new Tencent Cloud API key\n              </a>\n            </div>\n          </div>\n        </div>\n\n        <div style={{ marginTop: 20 }}>\n          <InlineFieldRow>\n            <InlineField label=\"SecretId\" labelWidth={20} required={true}>\n              <Input\n                width={50}\n                required={true}\n                value={jsonData.secretId}\n                name=\"secretId\"\n                onChange={this.onJsonDataChange}\n              />\n            </InlineField>\n          </InlineFieldRow>\n          <InlineFieldRow>\n            <SecretFormField\n              label=\"SecretKey\"\n              labelWidth={10}\n              inputWidth={25}\n              type=\"password\"\n              name=\"secretKey\"\n              value={secureJsonData?.secretKey || ''}\n              isConfigured={secureJsonFields?.secretKey}\n              onChange={this.onSecureJsonChange}\n              onReset={() => {\n                this.onResetSecureJson('secretKey');\n              }}\n            />\n          </InlineFieldRow>\n          <InlineFieldRow style={{ marginTop: '10px' }}>\n            <InlineField label={t('language')} labelWidth={20}>\n              <Select\n                value={jsonData.language || Language.Chinese}\n                className=\"width-10\"\n                options={[\n                  { value: Language.English, label: 'English' },\n                  { value: Language.Chinese, label: '' },\n                ]}\n                onChange={(option: SelectableValue<Language>) => {\n                  setLanguage(option.value);\n                  this.patchJsonData({\n                    language: option.value,\n                  });\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n          <InlineFieldRow style={{ marginTop: '10px' }}>\n            <InlineField label={t('enable_intranet_API_mode')} labelWidth={20}>\n              <InlineSwitch\n                value={jsonData.intranet}\n                onChange={(e) => {\n                  // onIntranetChange\n                  this.patchJsonData({\n                    intranet: e.currentTarget.checked,\n                  });\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n        </div>\n\n        {this.renderRUMConfig()}\n        {this.renderAPMConfig()}\n        {this.renderLogServiceConfig()}\n        {this.renderMonitorConfig()}\n      </>\n    );\n  }\n\n  renderRUMConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Real User Monitoring</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('RUM')}>\n            <InlineSwitch\n              value={jsonData.RUMServiceEnabled}\n              onChange={(e) => {\n                this.patchJsonData({\n                  RUMServiceEnabled: e.currentTarget.checked,\n                });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      </div>\n    );\n  }\n\n  renderAPMConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">APM Monitoring</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('APM')}>\n            <InlineSwitch\n              value={jsonData.APMServiceEnabled}\n              onChange={(e) => {\n                this.patchJsonData({\n                  APMServiceEnabled: e.currentTarget.checked,\n                });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      </div>\n    );\n  }\n\n  renderLogServiceConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    const { isClsAlertVisiable } = this.state;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Log Service</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('CLS')}>\n            <InlineSwitch\n              value={jsonData.logServiceEnabled}\n              onChange={(e) => {\n                const logServiceEnabled = e.currentTarget.checked;\n                this.patchJsonData({\n                  logServiceEnabled,\n                });\n                if (logServiceEnabled)\n                  this.setState({\n                    isClsAlertVisiable: true,\n                  });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        {isClsAlertVisiable && <Alert severity=\"info\" title=\" CLS  Grafana\" />}\n      </div>\n    );\n  }\n\n  renderMonitorConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    const { monitorFilter } = this.state;\n    //  product \n    const filteredProducts = SERVICES.filter((item) => item.label.toLowerCase().includes(monitorFilter.toLowerCase()));\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Monitor Services</h3>\n        <InlineFieldRow style={{ marginBottom: 10 }}>\n          <InlineField>\n            <Input\n              placeholder=\"Input keyword to filter...\"\n              width={40}\n              value={monitorFilter}\n              onChange={(e) => {\n                this.setState({\n                  monitorFilter: e.currentTarget.value,\n                });\n              }}\n            />\n          </InlineField>\n          <InlineField label=\"Select All\" style={{ marginLeft: 20 }}>\n            <InlineSwitch\n              value={filteredProducts.every((product) => jsonData[product.service])}\n              onChange={(e) => {\n                const toChecked = e.currentTarget.checked;\n                const allCheckObject = {};\n                filteredProducts.forEach((product) => {\n                  allCheckObject[product.service] = toChecked;\n                });\n                this.patchJsonData(allCheckObject);\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        {filteredProducts.map((product) => {\n          return (\n            <InlineFieldRow key={product.service}>\n              <InlineField\n                labelWidth={55}\n                label={product.label}\n                tooltip={\n                  <a target=\"_blank\" href={product.href}>\n                    {`Click here for more information of ${product.label}.`}\n                  </a>\n                }\n              >\n                <InlineSwitch\n                  value={Boolean(jsonData[product.service])}\n                  onChange={(e) => {\n                    this.patchJsonData({\n                      [product.service]: e.currentTarget.checked,\n                    });\n                  }}\n                />\n              </InlineField>\n            </InlineFieldRow>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\n// @grafana/ui 7.3.6 InlineSwitch \nfunction InlineSwitch(props) {\n  return (\n    <div\n      style={{\n        padding: '0px 8px',\n        height: 32,\n        display: 'inline-flex',\n        WebkitBoxAlign: 'center',\n        alignItems: 'center',\n        // background: '#F4F5F5',\n        border: '1px solid rgba(204, 204, 220, 0.15)',\n        borderRadius: 2,\n      }}\n    >\n      <Switch {...props} />\n    </div>\n  );\n}\n","import { DataSourcePlugin } from '@grafana/data';\nimport { QueryEditor } from './QueryEditor';\nimport { VariableQueryEditor } from './VariableQueryEditor';\nimport { DataSource } from './DataSource';\nimport { ConfigEditor } from './config-editor/ConfigEditor';\n\nexport const plugin = new DataSourcePlugin<any>(DataSource)\n  .setQueryEditor(QueryEditor)\n  .setConfigEditor(ConfigEditor)\n  .setVariableQueryEditor(VariableQueryEditor);\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function catchError(selector) {\n    return function catchErrorOperatorFunction(source) {\n        var operator = new CatchOperator(selector);\n        var caught = source.lift(operator);\n        return (operator.caught = caught);\n    };\n}\nvar CatchOperator = /*@__PURE__*/ (function () {\n    function CatchOperator(selector) {\n        this.selector = selector;\n    }\n    CatchOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n    };\n    return CatchOperator;\n}());\nvar CatchSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CatchSubscriber, _super);\n    function CatchSubscriber(destination, selector, caught) {\n        var _this = _super.call(this, destination) || this;\n        _this.selector = selector;\n        _this.caught = caught;\n        return _this;\n    }\n    CatchSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var result = void 0;\n            try {\n                result = this.selector(err, this.caught);\n            }\n            catch (err2) {\n                _super.prototype.error.call(this, err2);\n                return;\n            }\n            this._unsubscribeAndRecycle();\n            var innerSubscriber = new SimpleInnerSubscriber(this);\n            this.add(innerSubscriber);\n            var innerSubscription = innerSubscribe(result, innerSubscriber);\n            if (innerSubscription !== innerSubscriber) {\n                this.add(innerSubscription);\n            }\n        }\n    };\n    return CatchSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=catchError.js.map\n","/** PURE_IMPORTS_START _scheduleObservable,_schedulePromise,_scheduleArray,_scheduleIterable,_util_isInteropObservable,_util_isPromise,_util_isArrayLike,_util_isIterable PURE_IMPORTS_END */\nimport { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        else if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        else if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        else if (isIterable(input) || typeof input === 'string') {\n            return scheduleIterable(input, scheduler);\n        }\n    }\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n//# sourceMappingURL=scheduled.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function isInteropObservable(input) {\n    return input && typeof input[Symbol_observable] === 'function';\n}\n//# sourceMappingURL=isInteropObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function scheduleObservable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            var observable = input[Symbol_observable]();\n            sub.add(observable.subscribe({\n                next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function schedulePromise(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            return input.then(function (value) {\n                sub.add(scheduler.schedule(function () {\n                    subscriber.next(value);\n                    sub.add(scheduler.schedule(function () { return subscriber.complete(); }));\n                }));\n            }, function (err) {\n                sub.add(scheduler.schedule(function () { return subscriber.error(err); }));\n            });\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=schedulePromise.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var i = 0;\n        sub.add(scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n                return;\n            }\n            subscriber.next(input[i++]);\n            if (!subscriber.closed) {\n                sub.add(this.schedule());\n            }\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function isIterable(input) {\n    return input && typeof input[Symbol_iterator] === 'function';\n}\n//# sourceMappingURL=isIterable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function scheduleIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var iterator;\n        sub.add(function () {\n            if (iterator && typeof iterator.return === 'function') {\n                iterator.return();\n            }\n        });\n        sub.add(scheduler.schedule(function () {\n            iterator = input[Symbol_iterator]();\n            sub.add(scheduler.schedule(function () {\n                if (subscriber.closed) {\n                    return;\n                }\n                var value;\n                var done;\n                try {\n                    var result = iterator.next();\n                    value = result.value;\n                    done = result.done;\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                    this.schedule();\n                }\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map\n","/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(mergeMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); }, concurrent)); };\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return function (source) { return source.lift(new MergeMapOperator(project, concurrent)); };\n}\nvar MergeMapOperator = /*@__PURE__*/ (function () {\n    function MergeMapOperator(project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        this.project = project;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexport { MergeMapOperator };\nvar MergeMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish) {\n        var innerSubscriber = new SimpleInnerSubscriber(this);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = innerSubscribe(ish, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function () {\n        var buffer = this.buffer;\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(SimpleOuterSubscriber));\nexport { MergeMapSubscriber };\nexport var flatMap = mergeMap;\n//# sourceMappingURL=mergeMap.js.map\n","/** PURE_IMPORTS_START _Observable,_util_subscribeTo,_scheduled_scheduled PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { scheduled } from '../scheduled/scheduled';\nexport function from(input, scheduler) {\n    if (!scheduler) {\n        if (input instanceof Observable) {\n            return input;\n        }\n        return new Observable(subscribeTo(input));\n    }\n    else {\n        return scheduled(input, scheduler);\n    }\n}\n//# sourceMappingURL=from.js.map\n"],"sourceRoot":""}