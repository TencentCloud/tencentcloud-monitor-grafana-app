{"version":3,"sources":["webpack://TencentCloudMonitorGrafanaApp/webpack/bootstrap","webpack://TencentCloudMonitorGrafanaApp/external \"lodash\"","webpack://TencentCloudMonitorGrafanaApp/./locale/zh_CN.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/en_US.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/index.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/sign.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/signV2.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/external \"react\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/utils.ts","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/core_module\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/query.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/data\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/indexedDB.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/datasourceStorage.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/ui\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/types.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/index.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/runtime\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/external \"emotion\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/tslib/tslib.es6.js","webpack://TencentCloudMonitorGrafanaApp/external \"moment\"","webpack://TencentCloudMonitorGrafanaApp/external \"rxjs\"","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subscription.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/identity.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/pipe.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Observable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/toSubscriber.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/canReportError.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cos/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/config.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cos/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor sync ^.*$","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APM_query_model.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/MonitorDatasource.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/observable.js","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/utils/kbn\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/query_part.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/hostReportError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/utils.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/formats.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/query_filter.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/index.js","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/table_model\"","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/iterator.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/innerSubscribe.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/constants.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Observer.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/stringify.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/parse.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor sync ^\\.\\/[a-zA-Z]\\w+\\/(datasource)|(query(_def)","webpack://TencentCloudMonitorGrafanaApp/external \"angular\"","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isFunction.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/query_builder.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isObject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isArrayLike.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isPromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeTo.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/map.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/css-loader/dist/runtime/api.js","webpack://TencentCloudMonitorGrafanaApp/external \"app/plugins/sdk\"","webpack://TencentCloudMonitorGrafanaApp/external \"react-dom\"","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/partials/query.editor.html","webpack://TencentCloudMonitorGrafanaApp/../node_modules/eventemitter3/index.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APMServiceDataSource.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APM_series.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/response_parser.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/css/query_editor.css?c63a","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/css/query_editor.css","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/index.less?44dc","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/index.less","webpack://TencentCloudMonitorGrafanaApp/../node_modules/buffer/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/@grafana/toolkit/node_modules/webpack/buildin/global.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/base64-js/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/ieee754/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/isarray/index.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/multi_condition.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/custom_select_dropdown.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/react-loader.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/components/cascader.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/partials/queryEditorTemplate.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/query.ctrl.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/query-ctrl/QueryCtrlRender.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useLatest.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/model/api.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useEffectOnce.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/utils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/components/TopicSelector.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/LogServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/query_builder.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMMetadataQuery.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/query_part.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUM_query_model.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/unwrap.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/toSelectableValue.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/partListUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/SegmentSection.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/node_modules/tslib/tslib.es6.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useAsyncFn.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/useMountedState.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/react-use/esm/usePrevious.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/useShadowedState.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/Seg.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/FromSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/tagUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/AddButton.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/TagsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/PartListSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/styles.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/InputSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/OrderByTimeSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/components/FormatAsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/common/useUniqueId.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/queryUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APMMetadataQuery.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/unwrap.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/toSelectableValue.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/partListUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/SegmentSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/useShadowedState.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/Seg.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/FromSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/tagUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/AddButton.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/TagsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/PartListSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/styles.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/InputSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/FormatAsSection.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/components/OrderBySeries.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/APMServiceQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/common/useUniqueId.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/apm-service/queryUtils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/QueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/VariableQueryEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/SubjectSubscription.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/Subject.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/refCount.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/ConnectableObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/multicast.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/share.js","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/prestoType.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/ConvertSearchResultsToDataFrame.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/formatSearchLog.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/prepareTimeSeries.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/utils/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/LogServiceDataSource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/log-service/common/format/ConvertLogContextToDataFrame.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUM_series.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/response_parser.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/rum-service/RUMServiceDataSource.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/DataSource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/config-editor/ConfigEditor.tsx","webpack://TencentCloudMonitorGrafanaApp/./datasource/module.ts","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/catchError.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduled.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isInteropObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleObservable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/schedulePromise.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleArray.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/util/isIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/scheduled/scheduleIterable.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/operators/mergeMap.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/rxjs/_esm5/internal/observable/from.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","language","enable_intranet_API_mode","cloud_database","cloud_load_balancer","virtual_private_cloud","content_delivery_network","message_queue","direct_connect","cloud_physical_machine","elastic_mapReduce","edge_computing_machine","RUM","APM","CLS","CVM","CDB","CMONGO","POSTGRES","REDIS","REDIS_MEM","SQLSERVER","CYNOSDB_MYSQL","TCAPLUS","TDMYSQL","PCX","BWP","NAT_GATEWAY","VPNGW","VPNX","DCG","CEIP_SUMMARY","VPC_NET_DETECT","VBC","LB","LB_PUBLIC","LB_PRIVATE","LOADBALANCE","CDN","CDN_LOG_DATA","OV_CDN","SCF_V2","CFS","COS","CKAFKA","CMQ","CMQTOPIC","TDMQ","TDMQ_ROCKETMQ","TDMQ_RABBITMQ","DCX","DC","CPM","BM_PCX","BM_LB","BM_INTRA_LB","CES","BLOCK_STORAGE","APIGATEWAY","QAAP","ECM","ECM_BLOCK_STORAGE","ECM_LB","GSE","TKE","ECDN","WAF","multi_scene","lite","cloud_monitor","cloud_log_service","real_user_monitoring","apm_monitoring","region","log_topic","syntax_rule","max_result_num","search_statement","time_unit","seconds","search_description","Language","locale_language","Chinese","setLanguage","getLanguage","options","secretId","service","action","host","version","payload","backendSrv","datasourceId","this","JSON","stringify","nowDate","utc","timestamp","unix","date","format","getHeader","getResourceHeader","res","datasourceRequest","url","method","headers","data","Host","Service","Version","Action","Region","Timestamp","Method","Uri","Query","Body","Headers","resp","authorization","token","intranet","grafanaVersion","window","grafanaBootData","settings","buildInfo","Authorization","toString","defaults","path","generateQueryString","getResourceQueryString","assign","secretKey","querystring","queryString","TcDataSourceId","id","FINACE_REGIONS","SERVICES_API_INFO","api","monitor","cls","cvm","cdb","pcx","vpc","mongodb","clb","postgres","cdn","redis","scf","cfs","ckafka","dc","cynosdb","sqlserver","bm","bmeip","bmvpc","bmlb","es","emr","cmq","cbs","tcaplusdb","dcdb","apigateway","tdmq","tdmq_rabbitmq","tdmq_rocketmq","gaap","ecm","gse","lighthouse","tsf","rum","tke","ecdn","waf","apm","FINACE_HOST","GetServiceAPIInfo","indexOf","find","__","getHostAndPath","GetServiceFromNamespace","namespace","ParseMetricQuery","query","result","queries","split","forEach","item","str","trim","val","parse","e","toLower","ReplaceVariable","templateSrv","scopedVars","field","multiple","varname","varFlag","regResult1","String","match","regResult2","parseVariableFormat","replaceVar","replace","error","isArray","GetDimensions","obj","isEmpty","dimensions","Value","undefined","push","Name","ParseQueryResult","response","instances","timeshift","instanceList","cloneDeep","dataPoints","map","dataPoint","instanceAliasValue","length","isInstanceMatch","_InstanceAliasValue","splice","target","MetricName","datapoints","parseDataPoint","timestamps","values","index","instance","isVariable","GetRequestParams","signObj","signParams","pick","headerSigned","GetRequestParamsV2","sign","SliceLength","total","len","num","Math","ceil","Offset","CoreApp","IS_DEVELOPMENT_ENVIRONMENT","instanceSettings","instanceListCache","extraMetricDims","checkKeys","MetricReqConfig","extrasAlias","queryMonitorExtraConfg","CandiateDimensions","jsonData","Namespace","getOtherAlias","alias","extra","extraAlia","getVariable","getAliasValue","Array","join","formatVarDisplay","displayTpl","instanceAlias","a","b","InstanceAliasList","includes","metricFindQuery","regex","display","instancealias","templateQueryIdMap","isObject","isString","getRegions","getVariableInstances","flatMap","insAlias","text","setInstance","getInstance","instanceCache","fetchMetricData","Promise","resolve","dimensionsFormat","dimKeys","ins","dimensionObject","keyTmp","invalidDim","InvalidDimensions","getInvalidDimensions","extraDimValue","dim_KeyInStorage","dim_KeyInTarget","dim_KeyInMap","dim_KeyInIns","extraSourceMap","getExtraStorage","extraStorage","isStringOrNumber","isNumber","otherAlias","getDimensionsVal","Ekey","tt","getOwnDimension","dimVal","filter","targets","hide","metricName","reduce","prev","cloneTarget","concat","inst","getDefaultInsObj","insInReq","keys","dimResult","Dimensions","StartTime","range","from","subtract","EndTime","to","Period","period","Instances","getMonitorData","all","then","responses","flatten","getInstanceReqConfig","selfIns","metric","rs","valStr","params","serviceInfo","doRequest","RegionSet","RegionName","RegionState","getMetrics","MetricSet","resFilterFn","resultFilter","getInstances","InstanceReqConfig","interceptor","Limit","Edition","request","Error","TotalCount","TotalCnt","TotalNumber","param","isValidConfigField","testDatasource","cvmErr","monitorErr","serviceErr","cvmAuthFail","monitorAuthFail","serviceAuthFail","messages","message","compact","uniq","status","title","statusText","code","__WEBPACK_EXTERNAL_MODULE__4__","getFieldsValue","fields","fetchAllFactory","fetcher","_params","omit","Result","firstLists","delta","batchCount","pmList","fill","_","isOffsetPage","acc","cur","lists","list","instanceQueryParamsBaseParse","isFilter","Values","slice","Filters","getNamesapceFromService","serviceName","serviceGroupBy","services","label","groupName","existedGroup","items","isTargetEqual","newTargetString","oldTargetString","newTarget","oldTarget","getTimeShiftInMs","timeShift","parts","exec","amount","parseInt","__WEBPACK_EXTERNAL_MODULE__6__","config","detailConfig","QueryCtrl","newQueryIns","$scope","$rootScope","getDropdown","datasource","getFilterDropdown","directive","template","controller","restrict","scope","showDetail","getDropdownOptions","onChange","__WEBPACK_EXTERNAL_MODULE__8__","store","promisify","type","reject","onsuccess","event","returnMap","msg","onerror","props","initDB","indexedDB","webkitIndexedDB","mozIndexedDB","msIndexedDB","open","onupgradeneeded","db","objectStoreNames","contains","createObjectStore","keyPath","openDB","insertData","storeName","transaction","objectStore","add","oncomplete","addData","isCover","getData","oldData","getObjectStore","newData","requestUpdate","put","seviceName","getAllData","getAll","insKey","cacheWay","setStorage","getStorage","setExtraStorage","EValue","serviceKey","storage","__WEBPACK_EXTERNAL_MODULE__10__","CKAFKAQueryDescriptor","enDescriptor","cnDescriptor","link","min","max","CKAFKA_STATE","metricUnit","topicId","topicName","consumerGroup","partition","Status","InstanceId","SearchWord","TagKey","GetInstanceQueryParams","CKAFKAInstanceAliasList","CKAFKATopicAliasList","CKAFKAInvalidDemensions","Proxy","prop","toLocaleLowerCase","keyInStorage","TopicList","GroupList","PartitionList","TopicId","TopicName","GroupName","PartitionId","queryEditorName","LOADBALANCEFieldsDescriptor","queryEditorConfig","instanceDocUrl","fieldDescriptor","LOADBALANCE_STATE","Port","Protocol","listener","servers","serverPort","LoadBalancerIds","Forward","LoadBalancerName","Domain","LoadBalancerVips","BackendPublicIps","BackendPrivateIps","ProjectId","WithRs","VpcId","SecurityGroup","MasterZone","OrderBy","OrderType","LOADBALANCEListenerAliasList","LOADBALANCEServerAliasList","LOADBALANCEVALIDDIMENSIONS","vip","loadBalancerPort","protocol","lanIp","port","CANDIATEDIMENSIONS","PrivateIpAddresses","ServerPort","TDMQInvalidDemensions","tenantId","tenant","environmentId","TDMQInstanceAliasList","TDMQFilterFieldsDescriptor","CDNPROVINCE_STATE","regionSupported","modifyDimensons","metricItem","metricTmp","EnvironmentId","ServiceType","ServiceTypeOptions","logService","RUMService","APMService","defaultQueryInfo","serviceType","logServiceParams","SyntaxRule","CQL","RUMServiceParams","policy","resultFormat","orderByTime","tags","groupBy","select","APMServiceParams","orderType","orderBy","queryInfoRuntime","refId","queryType","dataTopic","fleetId","GSEInvalidDemensions","instanceid","fleetid","queuename","GSEInstanceAliasList","FleetId","fleet","queue","GSEFilterFieldsDescriptor","GSE_STATE","v","DCDBInvalidDemensions","nodeid","shardid","ShardId","DCDBInstanceAliasList","NodeId","ShardInstanceId","DCDBFilterFieldsDescriptor","DCDB_STATE","InstanceIds","SearchName","SearchKey","ProjectIds","SubnetId","OrderByType","ExclusterType","ExclusterIds","FilterInstanceType","modifyMetricConf","IsFilterVpc","IsFilterExcluster","RedisMemFieldsDescriptor","REDISMEM_STATE","VpcIds","SubnetIds","InstanceName","UniqVpcIds","UniqSubnetIds","TypeVersion","EngineName","AutoRenew","BillingMode","Type","rnodeid","pnodeid","REDISMEMInstanceAliasList","RedisMemInvalidDemensions","NodeType","node","TDMQRABBITMQInstanceAliasList","TDMQ_STATE","NodeName","group","TDMQROCKETMQInstanceAliasList","instanceIdsChecked","filtersChecked","ClusterIdList","includeVip","NamespaceId","SERVICES","href","hideRegion","Datasources","InitStates","hackModuleName","postgresql","mr","filePath","moduleName","fileName","prefix","toUpperCase","getParams","ECMBLOCKSTORAGEInvalidDemensions","uuid","diskId","ECMBLOCKSTORAGEInstanceAliasList","ECMBLOCKSTORAGEFilterFieldsDescriptor","ECMBLOCKSTORAGE_STATE","DiskId","__WEBPACK_EXTERNAL_MODULE__22__","APIGATEWAYInvalidDemensions","serviceId","environmentName","apiid","apiId","APIGATEWAYInstanceAliasList","environmentList","EnvironmentName","APIGATEWAYFilterFieldsDescriptor","APIGATEWAY_STATE","ServiceId","ServiceName","NotUsagePlanId","Environment","IpVersion","InstanceQueryDescriptor","InvalidDemensions","k","receiver","startsWith","Reflect","has","propKey","Ip","nodeIP","DisplayStrategy","Order","OrderField","Asc","VCLBInvalidDemensions","VCLBInstanceAliasList","VCLBFilterFieldsDescriptor","VCLB_STATE","clbNamespaceMap","public","private","__WEBPACK_EXTERNAL_MODULE__26__","cynosdbMysqlFilterFieldsDescriptor","CYNOSDB_STATE","DbType","CYNOSDBMYSQLInstanceAliasList","CYNOSDBInvalidDemensions","instanceId","SCFQueryDescriptor","SCF_STATE","Description","SCFInstanceAliasList","SCFInvalidDemensions","functionName","SCFDefaultDimensionList","CLSInvalidDemensions","CLSInstanceAliasList","CLSFilterFieldsDescriptor","CLS_STATE","uin","logsetName","logsetId","tagKey","storageType","SQLSERVERInvalidDemensions","resourceId","SQLSERVERInstanceAliasList","SQLSERVERNETFilterFieldsDescriptor","SQLSERVER_STATE","InstanceIdSet","PayMode","VipSet","InstanceNameSet","VersionSet","Zone","BMINTRALBInvalidDemensions","vpcId","BMINTRALBInstanceAliasList","BMINTRALBFilterFieldsDescriptor","BMINTRALB_STATE","BMLBValidMetricsT","isValidMetric","validMetrics","toUpper","CPMInvalidDemensions","BMLBInstanceAliasList","CPMFilterFieldsDescriptor","CPM_STATE","BMPCXInvalidDemensions","peeringConnectionId","BMPCXInstanceAliasList","BMPCXFilterFieldsDescriptor","BMPCX_STATE","VpcPeerConnectionIds","CBSInvalidDemensions","diskname","unInstanceId","CBSInstanceAliasList","CBSFilterFieldsDescriptor","CBS_STATE","DiskIds","ReturnBindAutoSnapshotPolicy","metricObj","dimension","CDNPROVINCEInvalidDemensions","domain","projectid","province","appid","CDNPROVINCEInstanceAliasList","CDNPROVINCEFilterFieldsDescriptor","isp","district","origin","projectId","domainType","fullUrlCache","https","originPullProtocol","CEIPInvalidDemensions","eip","CEIPSUMMARYInstanceAliasList","CEIPFilterFieldsDescriptor","CEIP_STATE","subscription","subscriptionId","CPMInstanceAliasList","DeviceClassCode","WanIps","LanIps","Alias","VagueIp","AutoRenewFlag","DeviceType","IsLuckyDevice","ECDNInstanceAliasList","ECDNInvalidDemensions","ECDN_STATE","disable","area","ECDNFilterFieldsDescriptor","_queries","Fuzzy","ECMInvalidDemensions","ECMInstanceAliasList","ECMFilterFieldsDescriptor","ECM_STATE","zone","PostgresFieldsDescriptor","POSTGRESInstanceAliasList","POSTGRES_STATE","PostgreInvalidDemensions","uid","VPCNETInvalidDemensions","netdetectid","netDetectId","VPCNETDETECTInstanceAliasList","VPCNETFilterFieldsDescriptor","VPCNET_STATE","WAFFilterFieldsDescriptor","WAF_STATE","WAFInstanceAliasList","WAFInvalidDemensions","CDBFieldsDescriptor","CDB_STATE","InstanceTypes","Vips","SecurityGroupId","PayTypes","InstanceNames","TaskStatus","EngineVersions","ZoneIds","CdbErrors","OrderDirection","InitFlag","CDBInstanceAliasList","CDBInvalidDemensions","insttype","CESInvalidDemensions","uInstanceId","CESInstanceAliasList","CESFilterFieldsDescriptor","CES_STATE","OrderByKey","IpList","DCFilterFieldsDescriptor","DC_STATE","DirectConnectIds","DCInstanceAliasList","DCInvalidDemensions","directConnectId","directconnectid","DCGInvalidDemensions","directConnectGatewayId","DCGInstanceAliasList","DCGFilterFieldsDescriptor","DCG_STATE","DCXFilterFieldsDescriptor","DCX_STATE","DCXInstanceAliasList","DCXInvalidDemensions","directconnectconnid","directConnectConnId","ECMLBInvalidDemensions","ECMLBInstanceAliasList","ECMLBFilterFieldsDescriptor","MONGODBFieldsDescriptor","MONGODB_STATE","InstanceType","ClusterType","MONGODBInstanceAliasList","MONGODBInvalidDemensions","replica","Replica","Node","QAAPInvalidDemensions","channelId","QAAPInstanceAliasList","QAAPFilterFieldsDescriptor","QAAP_STATE","AccessRegion","RealServerRegion","GroupId","TCAPLUSInvalidDemensions","TCAPLUSInstanceAliasList","TCAPLUSFilterFieldsDescriptor","TCAPLUS_STATE","ClusterId","TableGroupIds","TableName","TableInstanceId","TableIdlType","TableType","ListElementNum","ReservedVolume","ReservedReadQps","ReservedWriteQps","Memo","FileName","FileExtType","FileSize","FileContent","SelectedTables","regonsMap","VBCInvalidDemensions","VBCInstanceAliasList","VBCFilterFieldsDescriptor","VBC_STATE","DRegion","SRegion","state","VPNGWInvalidDemensions","vpnGwId","VPNGWInstanceAliasList","VPNGWFilterFieldsDescriptor","VPNGW_STATE","VPNXInvalidDemensions","vpnConnId","VPNXInstanceAliasList","VPNXFilterFieldsDescriptor","VPNX_STATE","LighthouseFilterFieldsDescriptor","LIGHTHOUSE_STATE","LIGHTHOUSEInstanceAliasList","LighthouseInvalidDemensions","CFSQueryDescriptor","CFS_STATE","FileSystemId","CFSInstanceAliasList","CFSInvalidDemensions","queueId","queueName","QueueName","CVMFilterFieldsDescriptor","CVM_STATE","CVMInstanceAliasList","CVMValidMetricsT","CVMValidMetrics","PCX_STATE","limit","offset","peeringConnectionName","PCXFieldsDescriptor","PCXInstanceAliasList","RedisFieldsDescriptor","REDIS_STATE","REDISInstanceAliasList","RedisInvalidDemensions","redis_uuid","TSFFieldsDescriptor","TSF_STATE","ApplicationType","MicroserviceType","ApplicationResourceTypeList","ApplicationIdList","TSFInstanceAliasList","TSFInvalidDemensions","applicationid","BWPFilterFieldsDescriptor","BWP_STATE","BandwidthPackageIds","BWPInstanceAliasList","BWPInvalidDemensions","bandwidthPackageId","CDNFilterFieldsDescriptor","CDN_STATE","CDNInstanceAliasList","CDNInvalidDemensions","LBFilterDescriptor","LB_STATE","LBInstanceAliasList","LBInvalidDemensions","NATGATEWAYInstanceAliasList","NATGatewayFilterFieldsDescriptor","NATGATEWAY_STATE","NatGatewayIds","NATInvalidDemensions","natId","OVCDNFilterFieldsDescriptor","OVCDN_STATE","OVCDNInstanceAliasList","OVCDNInvalidDemensions","extendStatics","setPrototypeOf","__proto__","__extends","constructor","__WEBPACK_EXTERNAL_MODULE__69__","__WEBPACK_EXTERNAL_MODULE__70__","x","UnsubscriptionError","UnsubscriptionErrorImpl","errors","err","Subscription","unsubscribe","closed","_parentOrParents","_subscriptions","_ctorUnsubscribe","_unsubscribe","empty","remove","isFunction","flattenUnsubscriptionErrors","sub","teardown","EMPTY","tmp","subscriptions","subscriptionIndex","errs","Subscriber","_super","destinationOrNext","complete","_this","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","arguments","destination","SafeSubscriber","next","subscriber","_next","_error","_complete","_unsubscribeAndRecycle","_parentSubscriber","observerOrNext","context","_context","useDeprecatedSynchronousErrorHandling","__tryOrSetError","__tryOrUnsub","wrappedComplete","fn","parent","identity","pipeFromArray","fns","input","Observable","subscribe","_isScalar","_subscribe","lift","operator","observable","source","sink","nextOrObserver","rxSubscriber","toSubscriber","_trySubscribe","observer","_a","closed_1","canReportError","promiseCtor","getPromiseCtor","pipe","operations","_i","toPromise","TKE_STATE","conditions","groupBys","ClusterIds","ClusterName","ClusterStatus","TKEFilterFieldsDescriptor","TKEInstanceAliasList","responseField","getEnvironmentNameList","LoadBalancerType","RegionMap","keyBy","RegionInfoSet","rawSet","getZones","ZoneSet","ZoneName","ZoneId","ZoneState","getConsumerList","MapInfoList","TopicAliasList","consumerGroupCache","getConsumerGroups","groupname","topicid","consumerGoup","topicList","GroupDetailList","uniqBy","SubscribedInfos","ConsumerGroupName","SubscribedInfo","partitions","Partition","formatTopicVarDisplay","topic","topicAlias","topicalias","par","ListenerAliasList","ServerAliasList","tagret","getListenerList","LoadBalancerId","formatVariableDisplay","aliasList","getServerList","listenerId","ListenerIds","Listeners","Rules","Targets","elem","listenAlias","lisId","listenerid","serverprivateip","serveralias","serversList","chain","dims","Set","fetchAllSubscription","SubscriptionId","cosURL","Buckets","BucketName","bucket","DeviceClassSet","Product","extraActionMap","DescribeDCDBShards","pickKey","DescribeDCDBInstanceNodeInfo","RegionList","act","getDiskList","instanceObj","getQueueNameList","getFleetList","ReplicaAliasList","replicaAlias","ReplicaSetId","replicasetid","times","SecondaryNum","nodeId","fetchAllNodes","NodeFlag","resultT","doRequestV2","totalCount","getVpcId","VpcSet","getVpcIds","MonitorVersion","getInstanceNodeInfo","nodetype","ndoeTypeIndex","getVersions","Versions","FunctionName","RegionInfos","DescribeTopics","DescribeEnvironments","DescribeRabbitMQNodeList","DescribeRocketMQNamespaces","DescribeRocketMQGroups","variableToArray","variable","tke_cluster_instance_id","Key","Operator","MetricNames","Module","Conditions","GroupBys","Data","Points","point","dimensionSort","dimensionString","timeshiftString","getAllMetrics","public_metrics","private_metrics","edition","_enable_super_gross_mode_that_will_cause_bad_things","init","getInstanceId","getServiceFn","getExtraDropdown","sQuery","onRefresh","onChecked","srcField","dstField","bwpQuery","BWPQueryCtrl","cdbQuery","CDBQueryCtrl","cdnQuery","CDNQueryCtrl","ExtraFields","scfQuery","SCFQueryCtrl","onInstanceChange","getExtraFields","CKAFKAQueryCtrl","element","attrs","$watch","newValue","oldValue","onFieldChange","getVariableId","variableData","getServersDropdown","getServerPortDropdown","serverPortList","cacheMap","getTopicName","onExtraFieldChange","datas","CmqTopicQueryCtrl","cvmQuery","CVMQueryCtrl","dropdownTextConfig","actionMaps","lbQuery","LBQueryCtrl","lighthouseQuery","LighthouseQueryCtrl","replicaId","mongodbQuery","MongoDBQueryCtrl","some","dataT","mrQuery","MrQueryCtrl","natGatewayQuery","NatGatewayQueryCtrl","ovCdnQuery","OVCDNQueryCtrl","pcxQuery","PCXQueryCtrl","redisQuery","RedisQueryCtrl","clearExtrasAlias","redisMemQuery","RedisMemQueryCtrl","evId","tdmqRocketmqQuery","TdmqRocketmqQueryCtrl","addCondition","deleteCondition","targetCondition","getOperator","tsfQuery","TSFQueryCtrl","VBCQueryCtrl","webpackContext","req","webpackContextResolve","selectModels","updateProjection","groupByParts","updatePersistedParts","selectParts","part","def","hasGroupByTime","g","hasFill","addGroupBy","stringParts","typePart","arg","partModel","partCount","removeGroupByPart","categories","getCategories","category","Aggregations","Selectors","removeSelect","removeSelectPart","modelsIndex","partIndex","addSelectPart","addStrategy","getMeasurementAndPolicy","interpolate","measurement","interpolateQueryStr","defaultFormatFn","multi","includeAll","regexEscape","render","rawQuery","y","selectText","tag","renderTagCondition","groupBySection","slimit","tz","renderAdhocFilters","filters","condition","toLowerCase","test","_class","getNamespaces","namespaces","getCascaderNamespaces","validServices","getSelectedServices","promises","optionsTemp","promiseTemp","Done","results","getListeners","errorMsg","upperFirst","fnName","argu","__WEBPACK_EXTERNAL_MODULE__190__","defaultParams","renderer","updateText","innerExpr","hasMultipleParamsInString","strValue","optional","updateParam","partVal","idx","functionRenderer","parameters","paramType","quote","unshift","Transformations","Predictors","Aliasing","Fields","createPart","QueryPart","register","QueryPartDef","groupByTimeFunctions","fieldRenderer","replaceAggregationAddStrategy","morePartsAvailable","addTransformationStrategy","dynamicLookup","renderMode","replaceAggregationAdd","hostReportError","setTimeout","hexTable","array","arrayToObject","plainObjects","refs","j","pop","compacted","compactQueue","decode","decodeURIComponent","encode","string","out","charCodeAt","charAt","isBuffer","isRegExp","merge","allowPrototypes","mergeTarget","percentTwenties","formatters","RFC1738","RFC3986","SPQueryCtrl","_config","queryDDO","formats","__WEBPACK_EXTERNAL_MODULE__199__","getSymbolIterator","iterator","SimpleInnerSubscriber","notifyNext","notifyError","notifyComplete","SimpleOuterSubscriber","apply","innerValue","innerSubscribe","innerSubscriber","SearchSyntaxRule","uuidRegex","random","RESULT_FORMATS","DEFAULT_RESULT_FORMAT","ENABLE_MEASUREMENTS","utils","arrayPrefixGenerators","brackets","indices","repeat","toISO","Date","toISOString","delimiter","encoder","encodeValuesOnly","serializeDate","skipNulls","strictNullHandling","generateArrayPrefix","sort","allowDots","formatter","objKeys","opts","TypeError","arrayFormat","joined","addQueryPrefix","arrayLimit","decoder","depth","parameterLimit","parseKeys","givenKey","child","segment","leaf","root","cleanRoot","isNaN","parseArrays","parseObject","ignoreQueryPrefix","tempObj","cleanStr","Infinity","bracketEqualsPos","pos","parseValues","newObj","__WEBPACK_EXTERNAL_MODULE__210__","database","buildExploreQuery","withKey","withMeasurementFilter","whereConditions","memo","isArrayLike","isPromise","subscribeTo","obs","promise","iterable","done","return","project","thisArg","MapOperator","MapSubscriber","count","isOldIE","Boolean","document","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","base","css","media","sourceMap","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","setAttribute","insert","appendChild","textStore","replaceText","replacement","applyToSingletonTag","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","btoa","unescape","encodeURIComponent","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","lastIdentifiers","newList","newLastIdentifiers","_index","useSourceMap","content","cssMapping","sourceMapping","base64","sourceURLs","sources","sourceRoot","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","__WEBPACK_EXTERNAL_MODULE__222__","__WEBPACK_EXTERNAL_MODULE__223__","Events","EE","once","addListener","emitter","evt","_events","_eventsCount","clearEvent","EventEmitter","eventNames","events","names","getOwnPropertySymbols","listeners","handlers","ee","listenerCount","emit","a1","a2","a3","a4","a5","args","removeListener","on","removeAllListeners","off","prefixed","getFieldType","firstNotNull","number","valueType","timeSeriesToDataFrame","timeSeries","Number","time","displayNameFromDS","labels","meta","responseParser","classicQuery","timeFilter","getTimeFilter","queryTargets","allQueries","custom","fixTimePeriod","interval","__interval","current","adhocFilters","getAdhocFilters","_seriesQuery","seriesList","series","executedQueryString","apmSeries","preferredVisualisationType","getTable","getTimeSeries","interpolated","rangeRaw","timezone","_APMRequest","requestOptions","fetch","cancelled","buf","Buffer","Response","Code","Message","handleErrors","isInteger","getAPMTime","roundUp","valueOf","getTimePeriod","modifyTime","until","oneHour","compareResult","periodCompare","pre_period","units","reg","RegExp","pre","per","annotation","output","columns","seriesName","columnName","_getSeriesName","segments","g1","g2","segIndex","getAnnotations","titleCol","timeCol","timeEndCol","tagsCol","textCol","column","titleColumn","tagsColumn","textColumn","timeEndColumn","timeEnd","table","seriesIndex","firstCol","firstTableCol","reordered","rows","APMResults","normalizedQuery","isValueFirst","isShowMeasurements","serie","addUnique","dfs","selectedParams","allParams","selector","uniqueParams","incrementName","nameIncremenet","getSelectedParams","getTableCols","dfsByLabels","df","getTableRows","transformAnnotationResponse","rsp","colText","colContainsTag","toArray","metrics","default","exported","locals","___CSS_LOADER_API_IMPORT___","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","Uint8Array","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","encoding","isEncoding","actual","write","fromString","checked","copy","buffer","fromObject","assertSize","size","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","arr","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","parsed","substr","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","hi","lo","utf16leToBytes","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","typedArraySupport","poolSize","_augment","species","configurable","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","isFinite","toJSON","_arr","ret","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","leadSurrogate","toByteArray","stringtrim","base64clean","src","dst","Function","b64","lens","getLens","validLen","placeHoldersLen","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","log","LN2","placeholder","maxCond","toInteger","onInputBlur","onChangeInternal","cond","onSelectChange","getSelectedOptions","selectedOptions","option","maxNum","minNum","getOptions","show","oldVariableText","highlightIndex","selectOptions","selectedValue","selected","selectedValues","search","dropdownVisible","updateLinkText","linkText","clearSelections","each","selectionsChanged","keyDown","keyCode","moveHighlight","commitChanges","selectValue","direction","commitChange","excludeOthers","setAllExceptCurrentTo","other","ctrlKey","metaKey","shiftKey","queryChanged","customSelectDropdown","$compile","$window","$timeout","controllerAs","bindToController","bodyEl","body","linkEl","inputEl","bodyOnClick","$apply","vm","width","focus","RectCompo","componentName","propTypes","separator","changeOnSelect","onSelect","initialValue","allowCustomValue","formatCreateLabel","displayAllSelectedLevels","component","$element","_$scope","_$element","$onInit","entries","_query","loadBalance","lbPrivate","lbPublic","mongoDB","mrHDFS","mrHBASE","mrHIVE","mrNODE","mrPRESTO","mrSPARK","mrYARN","mrZOOKEEPER","editorHtml","serviceSwitch","$injector","regions","metricList","periodList","dimensionList","instanceAliasList","showInstanceDetails","cascaderOptions","defaultsDeep","getInstanceAliasList","panelCtrl","onDataReceived","onDataError","cascaderChange","onNamespaceChange","dataList","lastQueryError","lastQuery","anySeriesFromQuery","handleQueryCtrlError","initState","refresh","isCascader","onRegionChange","isMetricsNeedUpdate","panel","getMetricNameDesc","findIndex","Meaning","Zh","En","onMetricChange","getInstanceQueryParams","subItem","onInstanceAliasChange","onInstanceQueryChange","checkShowDetail","getTimeDesc","getSearchDesc","angularScope","angularQueryEditor","renderAngularQueryEditor","destroy","loader","scopeProps","ctrl","getAngularQueryComponentScope","load","componentDidMount","forceUpdate","componentDidUpdate","prevProps","legacy","timeRange","queryCtrl","components","dashboard","onRunQuery","ref","capiRequest","clsCapiRequest","regionCapiRequest","SearchLog","UseNewAnalysis","DescribeLogContext","DescribeRegionsAndZonesRequest","product","DescribeRegions","clsRegions","regionList","RegionId","RegionShortName","RegionTypeMC","RegionType","Location","regionId","regionName","regionShortName","oversea","effect","getStringVariableNameOptions","getVariables","refValue","TopicSelector","preferLastValue","localStorage","setItem","lastValue","getItem","topicSelectOptionsRef","setRegionList","fetchRegions","labelWidth","Topics","menuPlacement","className","defaultOptions","cacheOptions","loadOptions","filterStr","optionsWithVariables","displayName","LogServiceQueryEditor","propsRef","clone","partialOnChange","queryInfo","oldQuery","LUCENE","MaxResultNumInput","MaxResultNum","flexGrow","portalOrigin","onBlur","onChangeFromProps","onInputChange","currVal","currentTarget","invalid","q","getTagKeysForMeasurementAndTags","unwrap","toSelectableValue","getPartParams","dynamicParamOptions","paramValues","defParam","makePartList","queryParts","qp","htmlFor","children","styles","theme","spacing","inlineFormMargin","useAsyncFn","deps","initialState","loading","mountedRef","lastCallId","isMounted","callback","callId","prevState","usePrevious","useShadowedState","outsideVal","currentVal","setCurrentVal","prevOutsideVal","selectClass","minWidth","onClose","autoFocus","isOpen","onCloseMenu","loadState","doLoad","isLoading","filterByLoadOptions","currentValue","setCurrentValue","spellCheck","onKeyDown","defaultButtonClass","cursor","buttonClassName","disabled","setOpen","as","onClick","getPolicyOptions","getMeasurementOptions","allPolicies","isRegex","getCondition","isFirst","onAdd","operatorOptions","condititonOptions","loadConditionOptions","loadOperatorOptions","onRemove","getTagKeyOptions","getTagValueOptions","op","currentOperator","newTagValue","isCurrentOperatorRegex","onTagChange","newTag","newTags","newT","minimalTag","noRightMarginPaddingClass","paddingRight","marginRight","getContextMenuItems","openMenu","noHorizMarginPaddingClass","paddingLeft","marginLeft","partClass","lineHeight","typography","md","fontSize","onParamChange","newParams","isLast","Fragment","getNewPartOptions","onAddNewPart","onRemovePart","pars","paddingRightClass","isWide","OPTIONS","inputId","withTemplateVariableOptions","optionsPromise","filterTags","allTagKeys","RUMServiceQueryEditor","idRefLazy","uniqueId","formatAsId","orderByTimeId","queryCopy","normalizeQuery","selectLists","dynamicSelectPartOptions","Map","getFieldKeysForMeasurement","sel","getTagKeys","groupByList","dynamicGroupByPartOptions","onAppliedChange","newQuery","getAllPolicies","measurementFilter","getAllMeasurementsForTags","inlineLabel","getTagValues","listIndex","newSel","changeSelectPart","model","addNewSelectPart","selectModel","tagKeys","getNewGroupByPartOptions","newGroupBy","changeGroupByPart","addNewGroupByPart","APMServiceQueryEditor","orderBySeriesId","isAlertVisiable","app","UnifiedAlerting","setState","firstEnabledService","enabledServices","monitorEnabled","monitorDataSource","logServiceEnabled","RUMServiceEnabled","APMServiceEnabled","active","onChangeTab","renderMonitorQueryEditor","renderLogServiceQueryEditor","renderRUMServiceQueryEditor","renderAPMServiceQueryEditor","onQueryChange","definition","grow","tooltip","required","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","SubjectSubscription","subject","observers","subscriberIndex","SubjectSubscriber","Subject","hasError","thrownError","asObservable","AnonymousSubject","refCount","RefCountOperator","connectable","_refCount","refCounter","connection","connect","RefCountSubscriber","sharedConnection","_connection","ConnectableObservable","subjectFactory","_isComplete","getSubject","_subject","connectableObservableDescriptor","connectableProto","writable","ConnectableSubscriber","MulticastOperator","shareSubjectFactory","share","subjectOrSubjectFactory","ProcessorUtils","PrestoAndFieldTypeMap","prestoTypeRegex","fieldType","processor","isValid","LogFieldReservedName","formatSearchLog","Analysis","AnalysisRecords","analysisColumns","analysisRecords","prestoType","analysisColumn","record","parseLogJsonStr","logJsonStr","tagContent","__TAG__","tagValue","ConvertSearchResultsToDataFrame","searchLogResult","frameDTO","ConvertAnalysisJsonToDataFrameDTO","Results","timeField","TIMESTAMP","logField","LogJson","displayMode","sourceField","SOURCE","filenameField","Filename","hostnameField","HostName","metaField","META","hidden","logItem","logJson","RequestId","SamplingRate","ConvertLogJsonToDataFrameDTO","DataFrameType","timeSeriesFormat","toTimeSeriesMany","frame","valueFields","labelFields","builders","f","builder","TimeSeriesMany","uniqueValueNames","uniqueValueNamesToType","uniqueLabelKeys","labelKeyToWideIndices","uniqueFactorNamesToWideIndex","fieldIndex","tKey","wideIndices","labelKey","sortedTimeRowIndices","sortedUniqueLabelKeys","uniqueFactorNames","uniqueFactorNamesWithWideIndices","wideRowIndex","labelKeys","longFrame","TimeSeriesLong","addField","timeWideRowIndex","rowValues","wideFieldIndex","wideField","toTimeSeriesLong","CQL_SPLIT_PATTERN","getQueryLucene","querySplit","luceneQuery","replaceClsQueryWithTemplateSrv","sqlQuery","addQueryResultLimit","resultLimit","showContextToggle","row","dataFrame","metaValue","rowIndex","PkgId","PkgLogId","getLogRowContext","bTime","BTime","PrevLogs","NextLogs","logContext","LogContextInfos","idField","lineField","contextLog","Content","ConvertLogContextToDataFrame","dataFramePromise","From","To","Loading","frames","processedFrames","timeSeriesMany","getLogsVolumeDataProvider","RUMResults","rumSeries","_RUMRequest","mergeMap","catchError","getRUMTime","logServiceDataSource","tcDatasource","RUMServiceDataSource","APMServiceDataSource","DataSource","monitorTargets","logServiceTargets","RUMServiceTargets","APMServiceTargets","EmptyDataQueryResponse","errResponse","every","flat","serviceTestResults","failedResult","SecretFormField","patchJsonData","kv","onOptionsChange","onJsonDataChange","targetName","targetValue","onSecureJsonChange","secureJsonData","onResetSecureJson","secureJsonFields","monitorFilter","isClsAlertVisiable","position","marginTop","padding","WebkitBoxFlex","borderTop","margin","inputWidth","isConfigured","onReset","English","InlineSwitch","renderRUMConfig","renderAPMConfig","renderLogServiceConfig","renderMonitorConfig","severity","filteredProducts","marginBottom","toChecked","allCheckObject","height","WebkitBoxAlign","alignItems","border","borderRadius","setQueryEditor","setConfigEditor","setVariableQueryEditor","CatchOperator","caught","CatchSubscriber","err2","innerSubscription","scheduled","scheduler","isInteropObservable","schedule","scheduleObservable","schedulePromise","scheduleArray","isIterable","scheduleIterable","resultSelector","concurrent","POSITIVE_INFINITY","ii","MergeMapOperator","MergeMapSubscriber","hasCompleted","_tryNext","_innerSub","ish","shift"],"mappings":"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","file":"datasource/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 239);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","const zh_CN = {\n  language: '语言',\n  enable_intranet_API_mode: '开启内网API模式',\n  cloud_database: '云数据库',\n  cloud_load_balancer: '负载均衡',\n  virtual_private_cloud: '私有网络',\n  content_delivery_network: '内容分发网络',\n  message_queue: '消息队列',\n  direct_connect: '专线接入',\n  cloud_physical_machine: '黑石物理服务器',\n  elastic_mapReduce: '弹性 MapReduce',\n  edge_computing_machine: '边缘计算机器',\n  // namespace\n  RUM: '前端性能监控(RUM)',\n  APM: '应用性能监控(APM)',\n  CLS: '日志服务(CLS)',\n  CVM: '云服务器(CVM)',\n  CDB: '云数据库 MySQL(CDB)',\n  CMONGO: '云数据库 MongoDB(CMONGO)',\n  POSTGRES: '云数据库 PostgreSQL(POSTGRES)',\n  REDIS: '云数据库 Redis(REDIS)',\n  REDIS_MEM: '云数据库 Redis内存版(5s)(REDIS_MEM)',\n  SQLSERVER: '云数据库 SQL Server(SQLSERVER)',\n  CYNOSDB_MYSQL: '云数据库 CYNOSDB_MYSQL(CYNOSDB_MYSQL)',\n  TCAPLUS: '云数据库 TcaplusDB(TCAPLUS)',\n  TDMYSQL: '分布式数据库 TDSQL MySQL(TDMYSQL)',\n  PCX: '私有网络-对等连接(PCX)',\n  BWP: '私有网络-带宽包(BWP)',\n  NAT_GATEWAY: '私有网络-NAT 网关(NAT_GATEWAY)',\n  VPNGW: '私有网络-VPN 网关(VPNGW)',\n  VPNX: '私有网络-VPN 通道(VPNX)',\n  DCG: '私有网络-专线网关(DCG)',\n  CEIP_SUMMARY: '私有网络-Anycast 弹性公网IP(CEIP_SUMMARY)',\n  VPC_NET_DETECT: '私有网络-网络探测(VPC_NET_DETECT)',\n  VBC: '私有网络-云联网(VBC)',\n  LB: '私有网络-弹性公网IP(LB)',\n  LB_PUBLIC: '公网负载均衡监控指标(LB_PUBLIC)',\n  LB_PRIVATE: '内网负载均衡四层协议监控指标(LB_PRIVATE)',\n  LOADBALANCE: '内网负载均衡七层协议监控指标(LOADBALANCE)',\n  CDN: '国内域名(CDN)',\n  CDN_LOG_DATA: '省份域名(CDN_LOG_DATA)',\n  OV_CDN: '国外域名(OV_CDN)',\n  SCF_V2: '云函数(SCF)',\n  CFS: '文件存储(CFS)',\n  COS: '对象存储(COS)',\n  CKAFKA: '消息队列 CKafka(CKAFKA)',\n  CMQ: '消息队列-队列服务监控(CMQ)',\n  CMQTOPIC: '消息队列-主题订阅监控(CMQTOPIC)',\n  TDMQ: '消息队列 Pulsar 版(TDMQ)',\n  TDMQ_ROCKETMQ: '消息队列 RocketMQ 版(ROCKETMQ)',\n  TDMQ_RABBITMQ: '消息队列 RabbitMQ 版(RABBITMQ)',\n  DCX: '专线接入-专用通道(DCX)',\n  DC: '专线接入-物理专线(DC)',\n  CPM: '黑石物理服务器(CPM)',\n  BM_PCX: '黑石对等连接(BM_PCX)',\n  BM_LB: '黑石外网负载均衡(BM_LB)',\n  BM_INTRA_LB: '黑石内网负载均衡(BM_INTRA_LB)',\n  CES: 'Elasticsearch指标(CES)',\n  BLOCK_STORAGE: '云硬盘(BLOCK_STORAGE)',\n  APIGATEWAY: 'API 网关(APIGATEWAY)',\n  QAAP: '全球应用加速(GAAP)',\n  ECM: '边缘计算和网络监控(ECM)',\n  ECM_BLOCK_STORAGE: '边缘计算存储监控(ECM_BLOCK_STORAGE)',\n  ECM_LB: '边缘计算负载均衡(ECM_LB)',\n  GSE: '游戏服务器伸缩(GSE)',\n  TKE: '容器服务(TKE)',\n  ECDN: '全站加速网络(ECDN)',\n  WAF: 'Web 应用防火墙(WAF)',\n  // others\n  multi_scene: '多场景版',\n  lite: '精简版',\n  cloud_monitor: '云监控',\n  cloud_log_service: '日志服务',\n  real_user_monitoring: '前端性能监控',\n  apm_monitoring: '应用性能监控',\n  region: '地域',\n  log_topic: '日志主题',\n  syntax_rule: '语法规则',\n  max_result_num: '最大结果条数',\n  search_statement: '检索语句',\n  time_unit: 'Time unit',\n  seconds: 'seconds',\n  search_description: '按照具体的查询条件搜索实例，默认拉取前 20 条实例',\n  // region\n  'ap-guangzhou': '华南地区(广州)',\n  'ap-shenzhen-fsi': '华南地区(深圳金融)',\n  'ap-guangzhou-open': '华南地区(广州OPEN)',\n  'ap-shenzhen': '华南地区(深圳)',\n  'ap-qingyuan': '华南地区(清远)',\n  'ap-shanghai': '华东地区(上海)',\n  'ap-shanghai-fsi': '华东地区(上海金融)',\n  'ap-jinan-ec': '华东地区(济南)',\n  'ap-hangzhou-ec': '华东地区(杭州)',\n  'ap-nanjing': '华东地区(南京)',\n  'ap-fuzhou-ec': '华东地区(福州)',\n  'ap-hefei-ec': '华东地区(合肥)',\n  'ap-beijing': '华北地区(北京)',\n  'ap-tianjin': '华北地区(天津)',\n  'ap-beijing-fsi': '华北地区(北京金融)',\n  'ap-shijiazhuang-ec': '华北地区(石家庄)',\n  'ap-wuhan-ec': '华中地区(武汉)',\n  'ap-changsha-ec': '华中地区(长沙)',\n  'ap-zhengzhou-ec': '华中地区(郑州)',\n  'ap-chengdu': '西南地区(成都)',\n  'ap-chongqing': '西南地区(重庆)',\n  'ap-xian-ec': '西北地区(西安)',\n  'ap-shenyang-ec': '东北地区(沈阳)',\n  'ap-taipei': '港澳台地区(中国台北)',\n  'ap-hongkong': '港澳台地区(中国香港)',\n  'ap-seoul': '亚太东北(首尔)',\n  'ap-tokyo': '亚太东北(东京)',\n  'ap-singapore': '亚太东南(新加坡)',\n  'ap-bangkok': '亚太东南(曼谷)',\n  'ap-jakarta': '亚太东南(雅加达)',\n  'na-siliconvalley': '美国西部(硅谷)',\n  'eu-frankfurt': '欧洲地区(法兰克福)',\n  'eu-moscow': '欧洲地区(莫斯科)',\n  'ap-mumbai': '亚太南部(孟买)',\n  'na-ashburn': '美国东部(弗吉尼亚)',\n  'sa-saopaulo': '南美地区(圣保罗)',\n  'na-toronto': '北美地区(多伦多)',\n};\nexport default zh_CN;\n","const en_US = {\n  language: 'Language',\n  enable_intranet_API_mode: 'Enable Intranet API Mode',\n  cloud_database: 'Cloud Database',\n  cloud_load_balancer: 'Cloud Load Balancer',\n  virtual_private_cloud: 'Virtual Private Cloud',\n  content_delivery_network: 'Content Delivery Network',\n  message_queue: 'Message Queue',\n  direct_connect: 'Direct Connect',\n  cloud_physical_machine: 'Cloud Physical Machine',\n  elastic_mapReduce: 'Elastic MapReduce',\n  edge_computing_machine: 'Edge Computing Machine',\n  // namespace\n  RUM: 'Real User Monitoring(RUM)',\n  CLS: 'Cloud Log Service(CLS)',\n  CVM: 'Cloud Virtual Machine(CVM)',\n  CDB: 'TencentDB for MySQL(CDB)',\n  CMONGO: 'TencentDB for MongoDB(CMONGO)',\n  POSTGRES: 'TencentDB for PostgreSQL(POSTGRES)',\n  REDIS: 'TencentDB for Redis(REDIS)',\n  REDIS_MEM: 'TencentDB for Redis(Memory Edition, 5-Second)(REDIS_MEM)',\n  SQLSERVER: 'TencentDB for SQL Server(SQLSERVER)',\n  CYNOSDB_MYSQL: 'TencentDB for CYNOSDB_MYSQL(CYNOSDB_MYSQL)',\n  TCAPLUS: 'TencentDB for TcaplusDB(TCAPLUS)',\n  TDMYSQL: 'TDSQL for MySQL(TDMYSQL)',\n  PCX: 'Peering Connection(PCX)',\n  BWP: 'Bandwidth Packet(BWP)',\n  NAT_GATEWAY: 'NAT Gateway(NAT_GATEWAY)',\n  VPNGW: 'VPN Gateway(VPNGW)',\n  VPNX: 'VPN Tunnel(VPNX)',\n  DCG: 'Direct Connect Gateway(DCG)',\n  CEIP_SUMMARY: 'Anycast EIP(CEIP_SUMMARY)',\n  VPC_NET_DETECT: 'Network Detection(VPC_NET_DETECT)',\n  VBC: 'Cloud Connect Network(VBC)',\n  LB: 'Elastic IP(LB)',\n  LB_PUBLIC: 'Public Network CLB(LB_PUBLIC)',\n  LB_PRIVATE: 'Private Network CLB Layer-4 Protocol(LB_PRIVATE)',\n  LOADBALANCE: 'Private Network CLB Layer-7 Protocol(LOADBALANCE)',\n  CDN: 'Chinese Mainland Domain(CDN)',\n  CDN_LOG_DATA: 'Province(CDN_LOG_DATA)',\n  OV_CDN: 'Overseas Domain(OV_CDN)',\n  SCF_V2: 'Serverless Cloud Function(SCF)',\n  CFS: 'Cloud File Storage(CFS)',\n  COS: 'Cloud Object Storage(COS)',\n  CKAFKA: 'Message Queue CKafka(CKAFKA)',\n  CMQ: 'Message Queue for Queue Service(CMQ)',\n  CMQTOPIC: 'Message Queue for Topic Subscription(CMQTOPIC)',\n  TDMQ: 'Tencent Distributed Message Queue for Pulsar(TDMQ)',\n  TDMQ_ROCKETMQ: 'Tencent Distributed Message Queue for RocketMQ(ROCKETMQ)',\n  TDMQ_RABBITMQ: 'Tencent Distributed Message Queue for RabbitMQ(RABBITMQ)',\n  DCX: 'Direct Connect for Dedicated Tunnel(DCX)',\n  DC: 'Direct Connect for Connection(DC)',\n  CPM: 'Cloud Physical Machine(CPM)',\n  BM_PCX: 'Cloud Physical Machine for Peering Connection(BM_PCX)',\n  BM_LB: 'Cloud Physical Machine for Public Network CLB(BM_LB)',\n  BM_INTRA_LB: 'Cloud Physical Machine for Private Network CLB(BM_INTRA_LB)',\n  CES: 'Elasticsearch Service(CES)',\n  BLOCK_STORAGE: 'Cloud Block Storage(BLOCK_STORAGE)',\n  APIGATEWAY: 'API Gateway(APIGATEWAY)',\n  QAAP: 'Global Application Acceleration Platform(GAAP)',\n  ECM: 'Edge Computing Machine for Computation and Networking(ECM)',\n  ECM_BLOCK_STORAGE: 'Edge Computing Machine for Block Storage(ECM_BLOCK_STORAGE)',\n  ECM_LB: 'Edge Computing Machine for Layer-4 CLB(ECM_LB)',\n  GSE: 'Game Server Elastic-scaling(GSE)',\n  TKE: 'Tencent Kubernetes Engine(TKE)',\n  ECDN: 'Enterprise Content Delivery Network(ECDN)',\n  WAF: 'Web Application Firewall(WAF)',\n  // others\n  multi_scene: 'Multi-Scene',\n  lite: 'Lite',\n  cloud_monitor: 'Cloud Monitor',\n  cloud_log_service: 'Cloud Log Service',\n  real_user_monitoring: 'Real User Monitoring',\n  apm_monitoring: 'Application Monitoring',\n  region: 'Region',\n  log_topic: 'Log Topic',\n  syntax_rule: 'Syntax Rule',\n  max_result_num: 'Maximum result number',\n  search_statement: 'Search Statement',\n  time_unit: 'Time unit',\n  seconds: 'seconds',\n  search_description:\n    'Search for instances according to specific query conditions, and pull the first 20 instances by default',\n  // region\n  'ap-guangzhou': 'South China(Guangzhou)',\n  'ap-shenzhen-fsi': 'South China(Shenzhen Finance)',\n  'ap-guangzhou-open': 'South China(Guangzhou OPEN)',\n  'ap-shenzhen': 'South China(Shenzhen)',\n  'ap-qingyuan': 'South China(Qingyuan)',\n  'ap-shanghai': 'East China(Shanghai)',\n  'ap-shanghai-fsi': 'East China(Shanghai Finance)',\n  'ap-jinan-ec': 'East China(Jinan)',\n  'ap-hangzhou-ec': 'East China(Hangzhou)',\n  'ap-nanjing': 'East China(Nanjing)',\n  'ap-fuzhou-ec': 'East China(Fuzhou)',\n  'ap-hefei-ec': 'East China(Hefei)',\n  'ap-beijing': 'North China region(Beijing)',\n  'ap-tianjin': 'North China region(Tianjin)',\n  'ap-beijing-fsi': 'North China region(Beijing Finance)',\n  'ap-shijiazhuang-ec': 'North China region(Shijiazhuang)',\n  'ap-wuhan-ec': 'Central China(Wuhan)',\n  'ap-changsha-ec': 'Central China(Changsha)',\n  'ap-zhengzhou-ec': 'Central China(Zhengzhou)',\n  'ap-chengdu': 'Southwest China(Chengdu)',\n  'ap-chongqing': 'Southwest China(Chongqing)',\n  'ap-xian-ec': \"Northwest region(Xi'an)\",\n  'ap-shenyang-ec': 'Northeast China(Shenyang)',\n  'ap-taipei': 'Hong Kong, Macau and Taiwan (China)(Taipei, China)',\n  'ap-hongkong': 'Hong Kong, Macau and Taiwan (China)(Hong Kong, China)',\n  'ap-seoul': 'Northeast Asia(Seoul)',\n  'ap-tokyo': 'Northeast Asia(Tokyo)',\n  'ap-singapore': 'Southeast Asia(Singapore)',\n  'ap-bangkok': 'Southeast Asia(Bangkok)',\n  'ap-jakarta': 'Southeast Asia(Jakarta)',\n  'na-siliconvalley': 'US West(Silicon Valley)',\n  'eu-frankfurt': 'Europe(Frankfurt)',\n  'eu-moscow': 'Europe(Northeastern Europe)',\n  'ap-mumbai': 'South Asia(Mumbai)',\n  'na-ashburn': 'US East(Virginia)',\n  'sa-saopaulo': 'South America(São Paulo)',\n  'na-toronto': 'North America(Toronto)',\n};\nexport default en_US;\n","import zh_CN from './zh_CN';\nimport en_US from './en_US';\n\nlet locale_language = 'zh-CN';\n\nexport enum Language {\n  Chinese = 'zh-CN',\n  English = 'en-US',\n}\n\nexport const t = (key: string) => {\n  if (locale_language === Language.Chinese) {\n    return zh_CN[key];\n  }\n  return en_US[key];\n};\n\nexport const setLanguage = (language: Language) => {\n  locale_language = language;\n};\n\nexport const getLanguage = () => locale_language;\n","import moment from 'moment';\n\nconst HttpRequestMethod = 'POST';\nconst CanonicalUri = '/';\nconst CanonicalQueryString = '';\nconst ContentType = 'application/json';\n\nexport default class Sign {\n  /**\n   * Tencent Cloud API Signature v3 reference: https://cloud.tencent.com/document/api/213/30654\n   * secretId: SecretId for identifying identity that is applied for on Cloud API Key.\n   * A SecretId corresponds to a unique SecretKey, which is used to generate the request Signature.\n   * secretKey: SecretKey is used to encrypt the signature string and verify the signature string on the server\n   * service: the name of service, which must be consistent with the request domain, such as cvm\n   * action: The name of the API for the desired operation\n   * host: the domain of service，which must be consistent with the request domain, such as cvm.tencentcloudapi.com\n   * version:  PI version, such as 2017-03-12\n   * payload: The request parameters\n   */\n\n  secretId: string;\n\n  service: string;\n  action: string;\n  host: string;\n  version: string;\n  payload: Record<string, any> | string;\n  region: string;\n  timestamp: number;\n  date: string;\n  backendSrv: any;\n  datasourceId: Number;\n  constructor(options) {\n    const { secretId, service, action, host, version, payload = '', region, backendSrv, datasourceId } = options;\n    this.secretId = secretId;\n    // this.secretKey = secretKey;\n    this.service = service;\n    this.action = action;\n    this.host = host;\n    this.version = version;\n    this.payload = typeof payload === 'string' ? payload : JSON.stringify(payload);\n    this.region = region;\n    const nowDate = moment().utc();\n    this.timestamp = nowDate.unix();\n    this.date = nowDate.format('YYYY-MM-DD');\n    this.backendSrv = backendSrv;\n    this.datasourceId = datasourceId;\n  }\n\n  async getHeader() {\n    return this.getResourceHeader();\n  }\n\n  async getResourceHeader() {\n    let res: { authorization?: string; token?: string; intranet?: boolean } = {};\n    try {\n      const resp = await this.backendSrv.datasourceRequest({\n        url: `/api/datasources/${this.datasourceId}/resources/sign_v3`,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        data: {\n          Host: this.host,\n          Service: this.service,\n          Version: this.version,\n          Action: this.action,\n          Region: this.region,\n          Timestamp: this.timestamp,\n          Method: HttpRequestMethod,\n          Uri: CanonicalUri,\n          Query: CanonicalQueryString,\n          Body: this.payload,\n          Headers: {\n            'content-type': ContentType,\n            host: this.host,\n          },\n        },\n      });\n      res = resp.data;\n    } catch (err) {}\n    const { authorization, token, intranet } = res;\n    const grafanaVersion = (window as any).grafanaBootData?.settings?.buildInfo?.version || '0.0.0';\n    const headers = {\n      Authorization: authorization,\n      'Content-Type': ContentType,\n      'X-TC-Action': this.action,\n      'X-TC-Timestamp': this.timestamp.toString(),\n      'X-TC-Version': this.version,\n      'X-TC-RequestClient': `GF_${grafanaVersion}_PL_CM_${process.env.TENCENT_CLOUD_MONITOR_GRAFANA_PLUGIN_VERSION}`,\n      ...(this.region && {\n        'X-TC-Region': this.region,\n      }),\n      ...(token && {\n        'X-TC-Token': token,\n      }),\n      intranet: intranet,\n    };\n    return headers;\n  }\n}\n","/**\n *\n * @param defaults 为对象\n * secretId\n * secretKey\n * action\n * region\n * host\n */\n\nexport default class SignV2 {\n  defaults: any = {\n    path: '/v2/index.php',\n    method: 'POST',\n  };\n  backendSrv: any;\n  datasourceId: Number;\n  constructor(defaults: any = {}) {\n    this.defaults = Object.assign(this.defaults, defaults);\n    this.defaults.secretKey = '';\n    this.backendSrv = defaults.backendSrv;\n    this.datasourceId = defaults.datasourceId;\n  }\n\n  generateQueryString = async () => {\n    return this.getResourceQueryString();\n  };\n\n  async getResourceQueryString() {\n    let res: { path?: string; querystring?: any; host?: string; intranet?: boolean } = {};\n    try {\n      const { data } = this.defaults;\n      const payload = typeof data === 'string' ? data : JSON.stringify(data);\n      const resp = await this.backendSrv.datasourceRequest({\n        url: `/api/datasources/${this.datasourceId}/resources/sign_v2`,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        data: {\n          Host: this.defaults.host,\n          Action: this.defaults.action,\n          Version: this.defaults.version,\n          Region: this.defaults.region,\n          Method: this.defaults.method,\n          Uri: this.defaults.path,\n          Query: '',\n          Body: payload,\n        },\n      });\n      res = resp.data;\n    } catch (err) {}\n    const { path, querystring, host, intranet } = res;\n    return { queryString: querystring, path: path, host: host, intranet: intranet };\n  }\n}\n","import _ from 'lodash';\nimport qs from 'qs';\nimport { SERVICES } from '../tc_monitor';\nimport Sign from './sign';\nimport SignV2 from './signV2';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport { getLanguage } from '../../locale';\n\nimport packageInfo from '../plugin.json';\nexport const TcDataSourceId = packageInfo.id;\n\n// the services of tencentcloud monitor api\nconst FINACE_REGIONS = ['ap-shanghai-fsi', 'ap-shenzhen-fsi'];\nconst SERVICES_API_INFO = {\n  api: {\n    service: 'api',\n    version: '2020-11-06',\n    path: '/api',\n    host: 'api.tencentcloudapi.com',\n  },\n  // monitor api info\n  monitor: {\n    service: 'monitor',\n    version: '2018-07-24',\n    path: '/monitor',\n    host: 'monitor.tencentcloudapi.com',\n  },\n  // cls api info\n  cls: {\n    service: 'cls',\n    version: '2020-10-16',\n    path: '/cls',\n    host: 'cls.tencentcloudapi.com',\n  },\n  // cvm api info\n  cvm: {\n    service: 'cvm',\n    version: '2017-03-12',\n    path: '/cvm',\n    host: 'cvm.tencentcloudapi.com',\n  },\n  // cdb api info\n  cdb: {\n    service: 'cdb',\n    version: '2017-03-20',\n    path: '/cdb',\n    host: 'cdb.tencentcloudapi.com',\n  },\n  // pcx api info\n  pcx: {\n    service: 'pcx',\n    version: '',\n    path: '/pcx',\n    host: 'vpc.api.qcloud.com',\n  },\n  // vpc api info\n  vpc: {\n    service: 'vpc',\n    version: '2017-03-12',\n    path: '/vpc',\n    host: 'vpc.tencentcloudapi.com',\n  },\n  // mongodb api info\n  mongodb: {\n    service: 'mongodb',\n    version: '2019-07-25',\n    path: '/mongodb',\n    host: 'mongodb.tencentcloudapi.com',\n  },\n  // 负载均衡 clb\n  clb: {\n    service: 'clb',\n    version: '2018-03-17',\n    path: '/clb',\n    host: 'clb.tencentcloudapi.com',\n  },\n  // postgresql api info\n  postgres: {\n    service: 'postgres',\n    version: '2017-03-12',\n    path: '/postgres',\n    host: 'postgres.tencentcloudapi.com',\n  },\n  // cdn info\n  cdn: {\n    service: 'cdn',\n    version: '2018-06-06',\n    path: '/cdn',\n    host: 'cdn.tencentcloudapi.com',\n  },\n  // redis info\n  redis: {\n    service: 'redis',\n    version: '2018-04-12',\n    path: '/redis',\n    host: 'redis.tencentcloudapi.com',\n  },\n  scf: {\n    service: 'scf',\n    version: '2018-04-16',\n    path: '/scf',\n    host: 'scf.tencentcloudapi.com',\n  },\n  cfs: {\n    service: 'cfs',\n    version: '2019-07-19',\n    path: '/cfs',\n    host: 'cfs.tencentcloudapi.com',\n  },\n  ckafka: {\n    service: 'ckafka',\n    version: '2019-08-19',\n    path: '/ckafka',\n    host: 'ckafka.tencentcloudapi.com',\n  },\n  // 专线接入实例列表\n  dc: {\n    service: 'dc',\n    version: '2018-04-10',\n    path: '/dc',\n    host: 'dc.tencentcloudapi.com',\n  },\n  // cynosdb实例列表\n  cynosdb: {\n    service: 'cynosdb',\n    version: '2019-01-07',\n    path: '/cynosdb',\n    host: 'cynosdb.tencentcloudapi.com',\n  },\n  // sqlserver实例列表\n  sqlserver: {\n    service: 'sqlserver',\n    version: '2018-03-28',\n    path: '/sqlserver',\n    host: 'sqlserver.tencentcloudapi.com',\n  },\n  // bm实例列表\n  bm: {\n    service: 'bm',\n    version: '2018-04-23',\n    path: '/bm',\n    host: 'bm.tencentcloudapi.com',\n  },\n  bmeip: {\n    service: 'bmeip',\n    version: '2018-06-25',\n    path: '/bmeip',\n    host: 'bmeip.tencentcloudapi.com',\n  },\n  bmvpc: {\n    service: 'bmvpc',\n    version: '2018-06-25',\n    path: '/bmvpc',\n    host: 'bmvpc.tencentcloudapi.com',\n  },\n  bmlb: {\n    service: 'bmlb',\n    version: '2018-06-25',\n    path: '/bmlb',\n    host: 'bmlb.tencentcloudapi.com',\n  },\n  // ES集群实例\n  es: {\n    service: 'es',\n    version: '2018-04-16',\n    path: '/es',\n    host: 'es.tencentcloudapi.com',\n  },\n  // MapReduce\n  emr: {\n    service: 'emr',\n    version: '2019-01-03',\n    path: '/emr',\n    host: 'emr.tencentcloudapi.com',\n  },\n  // CMQ消息队列\n  cmq: {\n    service: 'cmq',\n    version: '2019-03-04',\n    path: '/cmq',\n    host: 'cmq.tencentcloudapi.com',\n  },\n  cbs: {\n    service: 'cbs',\n    version: '2017-03-12',\n    path: '/cbs',\n    host: 'cbs.tencentcloudapi.com',\n  },\n  // tcaplus实例\n  tcaplusdb: {\n    service: 'tcaplusdb',\n    version: '2019-08-23',\n    path: '/tcaplusdb',\n    host: 'tcaplusdb.tencentcloudapi.com',\n  },\n  // tcaplus实例\n  dcdb: {\n    service: 'dcdb',\n    version: '2018-04-11',\n    path: '/dcdb',\n    host: 'dcdb.tencentcloudapi.com',\n  },\n  // apigateway实例\n  apigateway: {\n    service: 'apigateway',\n    version: '2018-08-08',\n    path: '/apigateway',\n    host: 'apigateway.tencentcloudapi.com',\n  },\n  tdmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  tdmq_rabbitmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  tdmq_rocketmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  gaap: {\n    service: 'gaap',\n    version: '2018-05-29',\n    path: '/gaap',\n    host: 'gaap.tencentcloudapi.com',\n  },\n  ecm: {\n    service: 'ecm',\n    version: '2019-07-19',\n    path: '/ecm',\n    host: 'ecm.tencentcloudapi.com',\n  },\n  gse: {\n    service: 'gse',\n    version: '2019-11-12',\n    path: '/gse',\n    host: 'gse.tencentcloudapi.com',\n  },\n  lighthouse: {\n    service: 'lighthouse',\n    version: '2020-03-24',\n    path: '/lighthouse',\n    host: 'lighthouse.tencentcloudapi.com',\n  },\n  tsf: {\n    service: 'tsf',\n    version: '2018-03-26',\n    path: '/tsf',\n    host: 'tsf.tencentcloudapi.com',\n  },\n  rum: {\n    service: 'rum',\n    version: '2021-06-22',\n    path: '/rum',\n    host: 'rum.tencentcloudapi.com',\n  },\n  tke: {\n    service: 'tke',\n    version: '2018-05-25',\n    path: '/tke',\n    host: 'tke.tencentcloudapi.com',\n  },\n  ecdn: {\n    service: 'ecdn',\n    version: '2019-10-12',\n    path: '/ecdn',\n    host: 'ecdn.tencentcloudapi.com',\n  },\n  waf: {\n    service: 'waf',\n    version: '2018-01-25',\n    path: '/waf',\n    host: 'waf.tencentcloudapi.com',\n  },\n  region: {\n    service: 'region',\n    version: '2022-06-27',\n    path: '/region',\n    host: 'region.tencentcloudapi.com',\n  },\n  apm: {\n    service: 'apm',\n    version: '2021-06-22',\n    path: '/apm',\n    host: 'apm.tencentcloudapi.com',\n  },\n  // 不单独定义lb，因为lb同样用的是vpc的配置，同上\n  // lb: {\n  //   service: 'lb',\n  //   version: '2017-03-12',\n  //   path: '/lb',\n  //   host: 'vpc.tencentcloudapi.com'\n  // }\n  // 负载均衡四层协议 lbPrivate\n  // lbPrivate: {\n  //   service: 'lbPrivate',\n  //   version: '2018-03-17',\n  //   path: '/clb',\n  //   host: 'clb.tencentcloudapi.com',\n  // },\n};\n\nconst FINACE_HOST = {\n  scf: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/scf/shanghai',\n      host: 'scf.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/scf/shenzhen',\n      host: 'scf.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cfs: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cfs/shanghai',\n      host: 'cfs.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cfs/shenzhen',\n      host: 'cfs.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  ckafka: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/ckafka/shanghai',\n      host: 'ckafka.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/ckafka/shenzhen',\n      host: 'ckafka.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  clb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/clb/shanghai',\n      host: 'clb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/clb/shenzhen',\n      host: 'clb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  mongodb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/mongodb/shanghai',\n      host: 'mongodb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/mongodb/shenzhen',\n      host: 'mongodb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  vpc: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/vpc/shanghai',\n      host: 'vpc.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/vpc/shenzhen',\n      host: 'vpc.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cvm: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cvm/shanghai',\n      host: 'cvm.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cvm/shenzhen',\n      host: 'cvm.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cdb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cdb/shanghai',\n      host: 'cdb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cdb/shenzhen',\n      host: 'cdb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  monitor: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/monitor/shanghai',\n      host: 'monitor.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/monitor/shenzhen',\n      host: 'monitor.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  postgres: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/postgres/shanghai',\n      host: 'postgres.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/postgres/shenzhen',\n      host: 'postgres.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  emr: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/emr/shanghai',\n      host: 'emr.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/emr/shenzhen',\n      host: 'emr.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cmq: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cmq/shanghai',\n      host: 'cmq.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cmq/shenzhen',\n      host: 'cmq.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cls: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cls/shanghai',\n      host: 'cls.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cls/shenzhen',\n      host: 'cls.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n};\n\n// 获取对应业务的 API 接口信息\nexport function GetServiceAPIInfo(region, service) {\n  return { ...(SERVICES_API_INFO[service] || {}), ...getHostAndPath(region, service) };\n}\n\n// get host and path for finance regions\nfunction getHostAndPath(region, service) {\n  if (_.indexOf(FINACE_REGIONS, region) === -1) {\n    return {};\n  }\n  return (\n    _.find(\n      _.find(FINACE_HOST, (__, key) => key === service),\n      (__, key) => key === region\n    ) || {}\n  );\n}\n\n// 变量替换指定实例按照那个字段展示\nexport const VARIABLE_ALIAS = 'instancealias';\n\nexport function GetServiceFromNamespace(namespace) {\n  return _.get(\n    _.find(SERVICES, (service) => service.namespace === namespace),\n    'service'\n  );\n}\n// 处理存量target中保存的qce/cvm\nexport function GetLabelFromNamespace(namespace) {\n  return _.get(\n    _.find(SERVICES, (service) => service.namespace === namespace || service.label === namespace),\n    'label'\n  );\n}\n// parse template variable query params\nexport function ParseMetricQuery(query = '') {\n  if (!query) {\n    return {};\n  }\n  const result = {};\n  const queries = _.split(query, '&');\n  _.forEach(queries, (item) => {\n    const str = _.split(item, '=');\n    if (_.trim(_.get(str, '0', ''))) {\n      let val = _.trim(_.get(str, '1', ''));\n      try {\n        val = JSON.parse(val);\n      } catch (e) {\n        // console.log({ val });\n      }\n      result[_.toLower(_.trim(_.get(str, '0', '')))] = val;\n    }\n  });\n  return result;\n}\n\n// parse template variable regex params\nexport function ParseMetricRegex(regex = '') {\n  if (!regex) {\n    return [];\n  }\n  regex = regex.replace(/：/g, ':');\n  regex = regex.replace(/，/g, ',');\n  const regexParams = ParseMetricQuery(regex);\n  const result: any[] = [];\n  _.forEach(regexParams, (value, key) => {\n    if (key === 'tag:tag-key') {\n      const valuesArr = _.split(value, ',');\n      _.forEach(valuesArr, (item) => {\n        const temp = _.split(item, ':');\n        if (temp.length === 2) {\n          result.push({ Name: `tag:${temp[0]}`, Values: temp.slice(1) });\n        }\n      });\n    } else {\n      result.push({ Name: key, Values: _.split(value, ',') });\n    }\n  });\n  return result;\n}\n\n// get the actual value of template variable\nfunction parseVariableFormat(varname: string) {\n  varname = String(varname || '');\n  // $varname\n  let varFlag = false;\n  const regResult1 = varname.match(/^\\${?(\\w+)}?/);\n  if (regResult1) {\n    varFlag = true;\n    varname = `\\$\\{${regResult1[1]}\\:json\\}`;\n  }\n  // [[varname]]\n  const regResult2 = varname.match(/^\\[\\[(\\w+)(\\:\\w+)?\\]\\]/);\n  if (regResult2) {\n    varFlag = true;\n    varname = `\\$\\{${regResult2[1]}\\:json\\}`;\n  }\n  return { varname, varFlag };\n}\n\nexport function ReplaceVariable(templateSrv, scopedVars, field, multiple = false) {\n  const { varname, varFlag } = parseVariableFormat(field);\n  let replaceVar = templateSrv.replace(varname, scopedVars);\n  if (varFlag) {\n    try {\n      replaceVar = JSON.parse(replaceVar);\n    } catch (error) {}\n  }\n  if (!multiple && _.isArray(replaceVar)) {\n    replaceVar = _.get(replaceVar, '0', '');\n  }\n  return replaceVar;\n}\n\n// get dimensions for instance query param\nexport function GetDimensions(obj) {\n  if (_.isEmpty(obj)) {\n    return [];\n  }\n  const dimensions: any[] = [];\n  _.forEach(obj, (item) => {\n    if (item.Value !== null && item.Value !== undefined && item.Value !== '') {\n      dimensions.push({ Name: item.Name, Value: typeof item.Value === 'string' ? item.Value : `${item.Value}` });\n    }\n  });\n  return dimensions;\n}\n\n// parse query data result for panel\nexport function ParseQueryResult(response, instances: any[] = [], timeshift = 0) {\n  const instanceList = _.cloneDeep(instances);\n\n  const dataPoints = _.get(response, 'DataPoints', []);\n  return _.map(dataPoints, (dataPoint) => {\n    let instanceAliasValue = _.get(dataPoint, 'Dimensions[0].Value');\n    for (let i = 0; i < instanceList.length; i++) {\n      if (isInstanceMatch(instanceList[i], _.get(dataPoint, 'Dimensions', []))) {\n        instanceAliasValue = instanceList[i]._InstanceAliasValue;\n        instanceList.splice(i, 1);\n        break;\n      }\n    }\n    return {\n      target: `${response.MetricName} - ${instanceAliasValue}`,\n      datapoints: parseDataPoint(dataPoint, timeshift),\n    };\n  });\n}\n\n// parse tencent cloud monitor response data to grafana panel data\nfunction parseDataPoint(dataPoint, timeshift = 0) {\n  const timestamps = _.get(dataPoint, 'Timestamps', []);\n  const values = _.get(dataPoint, 'Values', []);\n  const result = timestamps.map((timestamp, index) => {\n    return [values[index], timestamp * 1000 + timeshift];\n  });\n\n  return result;\n}\n\n// check whether instance is match or not\nfunction isInstanceMatch(instance, dimensions) {\n  let match = true;\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < dimensions.length; i++) {\n    if (_.get(instance, dimensions[i].Name, '').toString() !== dimensions[i].Value.toString()) {\n      match = false;\n      break;\n    }\n  }\n  return match;\n}\n\n/**\n * 检查某个变量是否模板变量，即是否匹配 ${varnam} 或 [[varname]]\n *\n * @param field 变量字段名\n */\nexport function isVariable(value) {\n  if (value && (value.match(/^\\${?(\\w+)}?/) || value.match(/^\\[\\[(\\w+)(\\:\\w+)?\\]\\]/))) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * 腾讯云 API 3.0 接口协议\n * @param options 接口请求对象 { url: string, data?: object }\n * @param service 产品名字 'cvm'\n * @param signObj 接口请求相关信息 { region?: string, action: string }\n * @param secretId\n * @param secretKey\n */\nexport async function GetRequestParams(options, service, signObj: any = {}, secretId, datasourceId, backendSrv) {\n  const signParams = {\n    region: 'ap-guangzhou', // apm参数覆盖，这里先做兼容处理，后期重写apm时公共函数不写死值\n    secretId,\n    payload: options.data || '',\n    ...signObj,\n    ...(_.pick(GetServiceAPIInfo(signObj.region || '', service), ['service', 'host', 'version']) || {}),\n    backendSrv,\n    datasourceId,\n  };\n  const sign = new Sign(signParams);\n  const { intranet, ...headerSigned } = await sign.getHeader();\n  // 传入x-tc-language实现国际化\n  // zh-CN en-US ko-KR ja-JP\n  options.headers = Object.assign(options.headers || {}, { ...headerSigned }, { 'x-tc-language': getLanguage() });\n  options.method = 'POST';\n  if (intranet) {\n    options.url += '-internal';\n  }\n  return options;\n}\n\n/**\n *  腾讯云 API 2.0 接口协议\n * @param options 接口请求对象 { url: string, data?: object }\n * @param service 产品名字 'cvm'\n * @param signObj 接口请求相关信息 { region?: string, action: string }\n * @param secretId\n * @param secretKey\n */\nexport async function GetRequestParamsV2(\n  options: any = {},\n  service,\n  signObj: any = {},\n  secretId,\n  datasourceId,\n  backendSrv\n) {\n  const data = options.data || {};\n  const signParams = {\n    secretId,\n    data,\n    ...signObj,\n    ...(_.pick(GetServiceAPIInfo(signObj.region || '', service), ['host', 'version']) || {}),\n    backendSrv,\n    datasourceId,\n  };\n  options.method = 'POST';\n  const sign = new SignV2(signParams);\n  options.headers = Object.assign(options.headers || {}, { 'Content-Type': 'application/x-www-form-urlencoded' });\n  const { queryString, path, host, intranet } = await sign.generateQueryString();\n  options.data = qs.stringify({\n    ...options.data,\n    ...queryString,\n    ...(host && { host: host }),\n  });\n  if (intranet) {\n    // TODO: qcloud.com intranet host\n    console.log('got intranet for sign v2');\n  }\n  options.url += path;\n  return options;\n}\n\nexport function SliceLength(total = 0, len = 1) {\n  const result: any[] = [];\n  const num = Math.ceil(total / len);\n  for (let i = 1; i < num; i++) {\n    result.push({ Offset: len * i });\n  }\n  return result;\n}\n\nexport const FilterKeys = ['Namespace', 'Offset', 'Limit', 'SearchKey', 'Description', 'OrderBy', 'Order'];\n\nexport function parseDataFromBackendPlugin(res) {\n  const { data } = toDataQueryResponse(res);\n  return {\n    authorization: _.get(data, '[0].meta.custom', ''),\n  };\n}\n\n/** 当前环境是否为非生产环境 */\nexport const IS_DEVELOPMENT_ENVIRONMENT = !(process.env.NODE_ENV === 'production');\n\n/**\n * @link https://github.com/grafana/grafana/blob/3c6e0e8ef85048af952367751e478c08342e17b4/packages/grafana-data/src/types/app.ts#L12\n */\nexport enum CoreApp {\n  CloudAlerting = 'cloud-alerting',\n  UnifiedAlerting = 'unified-alerting',\n  Dashboard = 'dashboard',\n  Explore = 'explore',\n  Unknown = 'unknown',\n  PanelEditor = 'panel-editor',\n  PanelViewer = 'panel-viewer',\n}\n","import _ from 'lodash';\nimport moment from 'moment';\nimport DatasourceInterface from '../MonitorDatasource';\nimport {\n  GetRequestParams,\n  GetServiceAPIInfo,\n  ReplaceVariable,\n  GetDimensions,\n  ParseQueryResult,\n  SliceLength,\n} from '../../common/constants';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { MetricQuery } from './types';\nimport { getNamesapceFromService, getTimeShiftInMs } from '../../common/utils';\nimport { Language, setLanguage } from '../../../locale';\n\nexport interface TemplateQueryIdType {\n  instance: string;\n  listener?: string;\n}\n\ninterface queryConfigType {\n  dim_KeyInStorage: string;\n  dim_KeyInTarget?: string;\n  dim_KeyInIns?: string;\n  dim_KeyInMap: string;\n}\n\nexport abstract class BaseDatasource implements DatasourceInterface {\n  Namespace?: string;\n  service: string;\n  instanceListCache: any[] = [];\n  extraMetricDims: string[] = [];\n  url: string;\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n  secretId: string;\n  checkKeys: string[] = [];\n  MetricReqConfig: {\n    resultFilter?: Function;\n  } = {};\n  extrasAlias?: string[] = [];\n  /*\n  一个配置：(用于处理除了InstanceId之外的)(Record中的key是指标修正之后的维度，即通过InvalidDemsion处理后)\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget 通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。为空则取即通过InvalidDemsion处理后的key\n  3 dim_KeyInMap 保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。即：templateQueryIdMap中内容。联合上面2的内容筛选出原始sourceMap\n  4 通过这个dim和sourceMap获取维度值。即sourceMap[dim]\n  */\n  queryMonitorExtraConfg: Record<string, queryConfigType> = {};\n  CandiateDimensions?: Record<string, string> = {};\n\n  InstanceReqConfig?: {\n    service?: string;\n    action: string;\n    responseField: string;\n    interceptor?: {\n      request?: (params: unknown) => unknown;\n      response?: (data: unknown) => unknown;\n    };\n  };\n  InvalidDimensions?: Record<string, string>;\n\n  abstract InstanceAliasList: string[];\n  abstract templateQueryIdMap: TemplateQueryIdType; // 必须为标识\n\n  /** @ngInject */\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    this.instanceSettings = instanceSettings;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    this.url = instanceSettings.url;\n    this.secretId = (instanceSettings.jsonData || {}).secretId || '';\n    setLanguage(instanceSettings.jsonData.language || Language.Chinese);\n  }\n\n  get namespace() {\n    // 需要注意的是this.service来自于原型上，在实例中导入时注入\n    return this.Namespace || getNamesapceFromService(this.service);\n  }\n\n  // 获取额外要显示到图例里的内容\n  getOtherAlias(instance: any, target: any): string {\n    let result = '';\n    const alias = instance._InstanceAliasValue;\n    this.extrasAlias?.forEach((extra) => {\n      const extraAlia = this.getVariable(target[extra]);\n      if (extraAlia && alias.indexOf(extraAlia) === -1) {\n        result += ` - ${extraAlia}`;\n      }\n    });\n    return result;\n  }\n\n  /* 格式化模板变量上的显示 */\n  getAliasValue(instance: Record<string, any>, alias: string) {\n    const result = instance[alias];\n    return Array.isArray(result) ? result.join() : result;\n  }\n\n  formatVarDisplay(instance: Record<string, any>, displayTpl: string | undefined, instanceAlias: string) {\n    // 获取display=aaa${InstanceName}bbb${InstanceId}ccc\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !this.InstanceAliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(instance, b);\n      });\n    }\n    return this.getAliasValue(instance, instanceAlias);\n  }\n  /**\n   * @param query 模板变量配置填写的 Query 参数对象，由顶层将字符串转换为了对象\n   */\n  async metricFindQuery(query: MetricQuery, regex?: string) {\n    const { action, namespace, display, payload = {} } = query;\n    let { region, instancealias = this.templateQueryIdMap.instance } = query;\n    if (!action || !namespace) {\n      return [];\n    }\n    // 支持payload里传入模板变量\n    if (_.isObject(payload)) {\n      _.forEach(payload, (value, key) => {\n        payload[key] = _.isString(value) ? this.getVariable(value) : value;\n      });\n    }\n\n    // 查询地域列表\n    const regionQuery = action.match(/^DescribeRegions$/i);\n    if (regionQuery) {\n      return this.getRegions();\n    }\n\n    region = this.getVariable(region); // 将模板region转换为真实值\n\n    // 查询实例列表\n    if (region && action.match(/^DescribeInstances/i)) {\n      const result = await this.getVariableInstances(region, payload);\n      instancealias = this.InstanceAliasList.includes(instancealias) ? instancealias : this.templateQueryIdMap.instance;\n\n      const res = result.flatMap((item) => {\n        const insAlias = this.formatVarDisplay(item, display, instancealias);\n\n        item._InstanceAliasValue = insAlias; // FIXME:\n\n        if (!item[instancealias]) return [];\n        return [\n          {\n            text: insAlias,\n            value: item[this.templateQueryIdMap.instance],\n          },\n        ];\n      });\n\n      // 缓存全量实例列表\n      await instanceStorage.setInstance(this.service, result);\n      return res;\n    }\n\n    // 在instance实例的基础上查询其他数据\n    let instance = this.getVariable(query['instance']);\n    if (_.isArray(instance)) instance = instance[0]; // 有额外维度，仅支持实例单选情况\n    if (region && action && instance) {\n      try {\n        // instance = JSON.parse(instance);\n        const instanceCache = await instanceStorage.getInstance(this.service);\n\n        instance = _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === instance)) ?? {};\n        // eslint-disable-next-line no-empty\n      } catch (error) {}\n      return this.fetchMetricData(action, region, instance, query);\n    }\n\n    return Promise.resolve([]);\n  }\n  // 获取指标数据\n  async fetchMetricData(action: string, region: string, instance: any, query?: any) {\n    return [];\n  }\n\n  /**\n   * 根据 Panel 的配置项，获取相应的监控数据\n   *\n   * @param options Panel 的配置参数\n   * @return 返回数据数组，示例如下\n   * [\n   *   {\n   *     \"target\": \"AccOuttraffic - ins-123\",\n   *     \"datapoints\": [\n   *       [861, 1450754160000],\n   *       [767, 1450754220000]\n   *     ]\n   *   }\n   * ]\n   */\n  async dimensionsFormat(dimKeys, ins, dimensionObject, target, service, options) {\n    for (let key of dimKeys) {\n      let keyTmp = key;\n      const invalidDim = this.InvalidDimensions || this.getInvalidDimensions(this, target[service]);\n      if (invalidDim[key]) {\n        // 从【维度中】的字段到【实例中】字段的映射。 { functionName: FunctionName }\n        keyTmp = invalidDim[key];\n        ins[key] = ins[keyTmp];\n      }\n\n      let extraDimValue = this.getVariable(target[service][keyTmp]);\n      if (this.queryMonitorExtraConfg[keyTmp]) {\n        const {\n          dim_KeyInStorage,\n          dim_KeyInTarget = keyTmp,\n          dim_KeyInMap,\n          dim_KeyInIns,\n        } = this.queryMonitorExtraConfg[keyTmp];\n        let extraIns = ReplaceVariable(this.templateSrv, options.scopedVars, target[service][dim_KeyInTarget], true);\n        let extraSourceMap: any = {};\n        try {\n          extraSourceMap = JSON.parse(extraIns); // 兼容json字符串的 形式\n        } catch (error) {\n          if (_.isArray(extraIns)) extraIns = extraIns[0]; // 如果多个，取第一个。除了实例ID 暂不支持其他纬度多选\n          const extraStorage = await instanceStorage.getExtraStorage(this.service, dim_KeyInStorage);\n\n          extraSourceMap =\n            extraStorage?.find((item) => {\n              if (_.isArray(item[dim_KeyInMap])) {\n                return item[dim_KeyInMap][0] === extraIns;\n              }\n              return item[dim_KeyInMap] === extraIns;\n            }) ?? {};\n        }\n        const isStringOrNumber = _.isString(extraSourceMap) || _.isNumber(extraSourceMap);\n        // 增加ins实例之外的alias，填入到ins._InstanceAliasValue\n        const insAlias = ins._InstanceAliasValue;\n        const otherAlias = isStringOrNumber ? extraSourceMap : extraSourceMap._InstanceAliasValue;\n        if (otherAlias && insAlias.indexOf(otherAlias) === -1) {\n          ins._InstanceAliasValue += ` - ${otherAlias}`;\n        }\n\n        extraDimValue = isStringOrNumber ? extraSourceMap : extraSourceMap?.[dim_KeyInIns || keyTmp];\n      } else {\n        ins._InstanceAliasValue += this.getOtherAlias(ins, target[service]);\n      }\n\n      if (\n        getTimeShiftInMs(target[service].timeshift) > 0 &&\n        ins._InstanceAliasValue.indexOf(target[service].timeshift) === -1\n      ) {\n        ins._InstanceAliasValue += `_${target[service].timeshift}`;\n      }\n      // 设置instance，针对额外的维度，需要注意模板变量的值\n      // ins[key] = ins[keyTmp] ?? extraDimValue;\n      ins[key] = this.getDimensionsVal(ins, keyTmp, extraDimValue);\n      // cynosdb产品接口返回维度和入参不一致\n      if (this.checkKeys.length > 0) {\n        this.checkKeys.forEach((Ekey) => {\n          ins[Ekey] = ins[key];\n        });\n      }\n      dimensionObject[key] = { Name: key, Value: ins[key] };\n    }\n    // 处理waf逻辑\n    const tt = this.getOwnDimension(dimensionObject, ins);\n    if (tt) {\n      return tt;\n    }\n    return dimensionObject;\n  }\n  getOwnDimension(dimensionObject: any, ins: any) {\n    return null;\n  }\n  getDimensionsVal(ins: Record<string, any>, key: string, extraDimValue: string) {\n    let dimVal = ins[key];\n    if (_.isEmpty(dimVal) && this.CandiateDimensions[key]) {\n      dimVal = ins[this.CandiateDimensions[key]];\n    }\n    return dimVal ?? extraDimValue;\n  }\n  query(options: any) {\n    const service = this.service!; // 强制声明非空\n\n    const queries = _.filter(options.targets, (item) => {\n      // 过滤无效的查询 target\n      return (\n        item.hide !== true &&\n        !!item.namespace &&\n        !!item[service].metricName &&\n        !_.isEmpty(ReplaceVariable(this.templateSrv, options.scopedVars, item[service].region, false)) &&\n        !_.isEmpty(ReplaceVariable(this.templateSrv, options.scopedVars, item[service].instance, true))\n      );\n    })\n      .reduce((prev, target) => {\n        if (getTimeShiftInMs(target[service].timeshift) > 0) {\n          const cloneTarget = _.cloneDeep(target);\n          cloneTarget[service].timeshift = '';\n          return [...prev, cloneTarget, target];\n        }\n        return [...prev, target];\n      }, [])\n      .map(async (target) => {\n        // 实例 instances 可能为模板变量，需先获取实际值\n        // 针对JSON字符串和id的形式，分开做处理\n        let instances = ReplaceVariable(this.templateSrv, options.scopedVars, target[service].instance, true);\n        const instanceCache = await instanceStorage.getInstance(this.service);\n        const timeshift = getTimeShiftInMs(target[service].timeshift);\n\n        instances = [].concat(instances).map((inst) => {\n          try {\n            return JSON.parse(inst); // 兼容json字符串的 形式\n          } catch (error) {\n            // 如果没拿到缓存，取默认实例组\n            if (!instanceCache) return this.getDefaultInsObj?.(inst);\n            return _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === inst)) ?? {};\n          }\n        });\n        const region = ReplaceVariable(this.templateSrv, options.scopedVars, target[service].region, false);\n        const insInReq: any = [];\n        for (let ins of instances) {\n          const dimensionObject = target[service].dimensionObject;\n          // 处理dimensions的值\n          const dimKeys = Object.keys(dimensionObject);\n          const dimResult = await this.dimensionsFormat(dimKeys, ins, dimensionObject, target, service, options);\n\n          insInReq.push([{ Dimensions: GetDimensions(dimResult) }]);\n        }\n        const data = {\n          StartTime: moment(options.range.from).subtract(timeshift).format(),\n          EndTime: moment(options.range.to).subtract(timeshift).format(),\n          Period: target[service].period || 300,\n          Instances: _.flatMap(insInReq),\n          Namespace: target.namespace,\n          MetricName: target[service].metricName,\n        };\n        return this.getMonitorData(data, region, instances, target[service], options);\n      });\n\n    if (queries.length === 0) {\n      return [];\n    }\n\n    return Promise.all(queries)\n      .then((responses) => {\n        return _.flatten(responses);\n      })\n      .catch((error) => {\n        return [];\n      });\n  }\n  getDefaultInsObj(ins: string) {\n    return {} as any;\n  }\n  getInstanceReqConfig(selfIns: any) {\n    return {} as any;\n  }\n  getInvalidDimensions(selfIns: any, target?: any) {\n    return {} as any;\n  }\n  // 获取某个变量的实际值，this.templateSrv.replace() 函数返回实际值的字符串\n  getVariable(metric?: string) {\n    const rs = this.templateSrv.replace((metric || '').trim());\n    const valStr = rs.match(/\\{([\\w-,]+)\\}/);\n    // 判断是否为多选\n    if (valStr) {\n      return valStr[1].split(',');\n    }\n    return rs;\n  }\n\n  /**\n   * 获取 监控数据\n   * @param params 获取监控数据的请求参数\n   * @param region 地域信息\n   * @param instances 实例列表，用于对返回结果的匹配解析\n   */\n  getMonitorData(params, region, instances, target, options) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const timeshift = getTimeShiftInMs(target.timeshift);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { action: 'GetMonitorData', region }\n    ).then((response) => {\n      return ParseQueryResult(response, instances, timeshift);\n    });\n  }\n\n  getRegions(): any {\n    return this.doRequest(\n      {\n        url: this.url + '/cvm',\n      },\n      'cvm',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getMetrics(region = 'ap-guangzhou'): Promise<any> {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: this.namespace,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    ).then((response) => {\n      const res = _.filter(\n        _.filter(response.MetricSet || [], (item) => !(item.Namespace !== this.namespace || !item.MetricName))\n      );\n      const resFilterFn = this.MetricReqConfig.resultFilter;\n      if (resFilterFn) {\n        return res.map((item) => resFilterFn(item));\n      }\n      return res;\n    });\n  }\n\n  getInstances(region, params = {}) {\n    const {\n      service = this.service,\n      action,\n      responseField: field,\n      interceptor,\n    } = this.InstanceReqConfig || this.getInstanceReqConfig(this);\n    params =\n      service === 'waf'\n        ? { Offset: 0, Limit: 100, Edition: 'sparta-waf', ...params }\n        : { Offset: 0, Limit: 100, ...params };\n    const serviceInfo = GetServiceAPIInfo(region, service);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: interceptor?.request ? interceptor.request(params) : params,\n      },\n      serviceInfo.service,\n      { region, action }\n    ).then((response) => {\n      // 处理异常，则不按正常的情况处理，直接抛出错误\n      if (response?.Error) {\n        console.error(response.Error);\n        return response;\n      }\n\n      let result;\n      // 先，field处理\n      if (field) {\n        result = _.get(response, field) ?? _.get(response, `Result.${field}`) ?? [];\n      }\n\n      // 后，拦截器处理\n      if (interceptor?.response) {\n        result = interceptor.response(result);\n      }\n      return result;\n    });\n  }\n\n  getVariableInstances(region, query = {}): Promise<any[]> {\n    let result: any[] = [];\n    const params = { ...{ Offset: 0, Limit: 100 }, ...query };\n\n    const {\n      service = this.service,\n      action,\n      responseField: field,\n      interceptor,\n    } = this.InstanceReqConfig || this.getInstanceReqConfig(this);\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: interceptor?.request ? interceptor.request(params) : params,\n      },\n      serviceInfo.service,\n      { region, action }\n    ).then((response) => {\n      result = _.get(response, field) ?? _.get(response, `Result.${field}`) ?? [];\n      const total =\n        response.TotalCount ?? response.TotalCnt ?? response.TotalNumber ?? _.get(response, `Result.TotalCount`) ?? 0;\n      if (result.length >= total) {\n        return interceptor?.response ? interceptor.response(result) : result;\n      } else {\n        const param = SliceLength(total, params?.Limit || 100);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getInstances(region, { ...item, ...query }));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return interceptor?.response ? interceptor.response(result) : result;\n          })\n          .catch((error) => {\n            return interceptor?.response ? interceptor.response(result) : result;\n          });\n      }\n    });\n  }\n\n  // 检查某变量字段是否有值\n  isValidConfigField(field: string) {\n    return field && field.length > 0;\n  }\n\n  testDatasource() {\n    // const { service = this.service, action } = this.InstanceReqConfig;\n    // const serviceInfo = GetServiceAPIInfo('ap-guangzhou', service);\n\n    if (!this.isValidConfigField(this.secretId)) {\n      return {\n        service: this.service,\n        status: 'error',\n        message: 'The SecretId/SecretKey field is required.',\n      };\n    }\n\n    return Promise.all([\n      this.getRegions(),\n      this.getMetrics(),\n      // this.doRequest(\n      //   {\n      //     url: this.url + serviceInfo.path,\n      //     data: {\n      //       Offset: 0,\n      //       Limit: 1,\n      //     },\n      //   },\n      //   service,\n      //   { region: 'ap-guangzhou', action },\n      // ),\n      this.getInstances('ap-guangzhou', {\n        Offset: 0,\n        Limit: 1,\n      }),\n    ])\n      .then((responses) => {\n        const cvmErr = _.get(responses, '[0].Error', {});\n        const monitorErr = _.get(responses, '[1].Error', {});\n        const serviceErr = _.get(responses, '[2].Error', {});\n        // const cvmAuthFail = _.get(cvmErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        // const monitorAuthFail = _.get(monitorErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        // const serviceAuthFail = _.get(serviceErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        const cvmAuthFail = _.get(cvmErr, 'Code', '');\n        const monitorAuthFail = _.get(monitorErr, 'Code', '');\n        const serviceAuthFail = _.get(serviceErr, 'Code', '');\n        if (cvmAuthFail || monitorAuthFail || serviceAuthFail) {\n          const messages: any[] = [];\n          if (cvmAuthFail) {\n            messages.push(_.get(cvmErr, 'Code'));\n          }\n          if (monitorAuthFail) {\n            messages.push(_.get(monitorErr, 'Code'));\n          }\n          if (serviceAuthFail) {\n            messages.push(_.get(serviceErr, 'Code'));\n          }\n          const message = _.join(_.compact(_.uniq(messages)), '; ');\n          return {\n            service: this.service,\n            status: 'error',\n            message,\n          };\n        } else {\n          return {\n            namespace: this.namespace,\n            service: this.service,\n            status: 'success',\n            message: `Successfully queried the ${this.service} service.`,\n            title: 'Success',\n          };\n        }\n      })\n      .catch((error) => {\n        let message = `${this.service} service:`;\n        message += error.statusText ? error.statusText + '; ' : '';\n        if (_.get(error, 'data.error.code', '')) {\n          message += error.data.error.code + '. ' + error.data.error.message;\n        } else if (_.get(error, 'data.error', '')) {\n          message += error.data.error;\n        } else if (_.get(error, 'data', '')) {\n          message += error.data;\n        } else {\n          message += `Cannot connect to ${this.service} service.`;\n        }\n        return {\n          service: this.service,\n          status: 'error',\n          message: message,\n        };\n      });\n  }\n\n  async doRequest(options, service, signObj: any = {}) {\n    options = await GetRequestParams(\n      options,\n      service,\n      signObj,\n      this.secretId,\n      this.instanceSettings.id,\n      this.backendSrv\n    );\n    return this.backendSrv\n      .datasourceRequest(options)\n      .then((response) => {\n        return _.get(response, 'data.Response', {});\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","import _ from 'lodash';\nimport { SERVICES } from '../tc_monitor';\n\n/* 从分页数据获取全量数据 */\nconst PageSize = 50;\nfunction getFieldsValue(value, fields) {\n  return fields.map((item) => _.get(value, item, _.get(value, `Result.${item}`, [])));\n}\n\nexport async function fetchAllFactory(fetcher: (args: any) => Promise<any>, _params: any, field: string | string[]) {\n  const params = { ..._.omit(_params, ['isOffsetPage']) };\n  params.Limit = params.Limit || PageSize; // 默认给个Limit大小为50\n  params.Offset = params.Offset ?? 0; // 默认给个Offset为0\n\n  // 第一次请求，获取总数\n  const rs = (await fetcher(params)) ?? {};\n  const fields = Array.isArray(field) ? field : [field];\n\n  // rs.TotalCount = rs.TotalCount ?? rs.Result.TotalCount ?? [];\n  // const { TotalCount } = rs;\n  const TotalCount = rs.TotalCount ?? rs.Result?.TotalCount ?? rs.TotalCnt ?? rs.Result?.TotalCnt ?? 0;\n  const firstLists = getFieldsValue(rs, fields);\n\n  if (TotalCount === 0 || firstLists[0].length === TotalCount) {\n    // 只有一页，结束\n    return firstLists;\n  }\n\n  // 批量请求\n  const delta = TotalCount - firstLists[0].length;\n  const batchCount = Math.ceil(delta / PageSize);\n  const pmList = new Array(batchCount).fill(0).map((_, index) => {\n    params.Offset = _params.isOffsetPage ? 1 + index : (1 + index) * params.Limit;\n    return fetcher(params);\n  });\n\n  // 合并\n  const resultList = await Promise.all(pmList); // [ {a: [], b[] }, { a: [], b:[] }]\n\n  return resultList.reduce((acc, cur) => {\n    const lists = getFieldsValue(cur, fields);\n    // [[], [], []] + [[], [], []]\n    acc.forEach((list, index) => list.push(...lists[index]));\n    return acc;\n  }, firstLists);\n}\n\n/**\n * 实例列表接口入参处理\n *\n * @param queries 表单键入内容\n * @param isFilter 是否需要设置为Filters格式\n */\nexport function instanceQueryParamsBaseParse(queries: any, isFilter: boolean) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    const Filters: any[] = [];\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          if (isFilter) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          } else {\n            params[key] = _.uniq(item);\n          }\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          if (isFilter) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          } else {\n            params[key] = _.get(item, 'value');\n          }\n        }\n      } else if (item !== null && item !== undefined && item !== '') {\n        if (isFilter) {\n          Filters.push({ Name: key, Values: item });\n        } else {\n          params[key] = item;\n        }\n      }\n    });\n    if (isFilter && Filters.length > 0) {\n      params.Filters = Filters;\n      return params;\n    }\n  }\n  return params;\n}\n\nexport function getNamesapceFromService(serviceName: string) {\n  return _.get(\n    _.find(SERVICES, (service) => service.service === serviceName),\n    'namespace'\n  );\n}\n\nexport function serviceGroupBy(\n  services: { service: string; label: string; namespace: string; href: string; groupName?: string }[]\n) {\n  const result = services.reduce((acc, cur) => {\n    const { namespace, label, groupName = label } = cur;\n\n    const existedGroup = acc.find((item) => item.label === groupName);\n    if (!existedGroup) {\n      acc.push({ label: groupName, value: groupName, items: [{ label, value: namespace }] });\n      return acc;\n    }\n\n    existedGroup.items.push({ label, value: namespace });\n    return acc;\n  }, [] as any[]);\n\n  // 将只有一个子元素的项目进行特殊处理\n  const rs = result.map((item) =>\n    item.items.length === 1 ? { label: item.items[0].label, value: item.items[0].value } : item\n  );\n  return rs;\n}\n\nexport const isTargetEqual = (newTargetString: string, oldTargetString: string, key: string) => {\n  try {\n    const newTarget = JSON.parse(newTargetString);\n    const oldTarget = JSON.parse(oldTargetString);\n    return newTarget[key] === oldTarget[key];\n  } catch (e) {\n    return newTargetString === oldTargetString;\n  }\n};\n\nexport const getTimeShiftInMs = (timeShift: any) => {\n  const parts = /^(\\d+)([d|h|m|s])$/.exec(timeShift);\n  if (!parts) {\n    return 0;\n  }\n  const amount = parseInt(parts[1], 10);\n  const unit = parts[2];\n  switch (unit) {\n    case 'd':\n      return amount * 86400 * 1000;\n    case 'h':\n      return amount * 3600 * 1000;\n    case 'm':\n      return amount * 60 * 1000;\n    case 's':\n      return amount * 1000;\n  }\n  return 0;\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","import coreModule from 'grafana/app/core/core_module';\nimport { DetailQueryConfig } from './types';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nfunction classFactory(detailConfig) {\n  return class QueryCtrl {\n    static _config: DetailQueryConfig;\n\n    /** @ngInject */\n    constructor($scope, $rootScope) {\n      Object.assign($scope, detailConfig);\n\n      $scope.getDropdown = (field) => {\n        const service = GetServiceFromNamespace($scope.namespace);\n        return $scope.datasource.getFilterDropdown(service, { field, region: $scope.region });\n      };\n    }\n  };\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"{{instanceDocUrl}}\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in fieldDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownMulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <gf-form-dropdown \n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\" \n        allow-custom=\"true\" \n        lookup-text=\"true\" \n        get-options=\"getDropdown(field.key)\" \n        css-class=\"min-width-10\"\n        on-change=\"onChange()\">\n      </gf-form-dropdown>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n      <gf-form-switch \n        ng-if=\"field.type === 'switch'\"\n        class=\"gf-form tc-switch\" \n        label-class=\"width-7\" \n        checked=\"target.queries[field.key]\" \n        switch-class=\"max-width-5\"\n      ></gf-form-switch>\n    </div>\n  </div>\n</div>\n  </div>\n`;\nfunction queryDDOFactory(QueryCtrl) {\n  return function queryDDO() {\n    return {\n      template: template,\n      controller: QueryCtrl,\n      restrict: 'E',\n      scope: {\n        target: '=',\n        showDetail: '=',\n        region: '=',\n        datasource: '=',\n        getDropdownOptions: '&',\n        onChange: '&',\n      },\n    };\n  };\n}\n\nexport default (name: string, config: DetailQueryConfig) => {\n  // QueryCtrl._config = config;\n  const newQueryIns = classFactory(config);\n  coreModule.directive(name, queryDDOFactory(newQueryIns));\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","interface DBEvent {\n  target: { result: any; error: any };\n}\n// 数据库结构\ninterface DBTypes {\n  store: StoreType;\n  name?: string;\n  version?: number;\n}\n// store表结构\ninterface StoreType {\n  name: string; // 表名\n  key: string; // 主键名\n  cursorIndex?: { name: string; unique: boolean }[]; // 索引列表\n}\n\n// 数据结构\n// {service: 'cvm', instance: [{ins: 23}]}\ninterface DataType {\n  service: string;\n  [x: string]: any; // 有产品需缓存其他列表\n}\n\n// interface UpdateProps {\n//   storeName: string;\n//   cursorKey: string;\n//   cursorValue?: any;\n//   data: any;\n// }\n\nconst store: StoreType = {\n  name: 'grafanaInstanceList',\n  key: 'service',\n};\nconst promisify = (request: any, type?: string) => {\n  return new Promise<any>((resolve, reject) => {\n    request.onsuccess = (event: DBEvent) => {\n      const returnMap: any = {\n        event: event.target.result,\n        request: request.result,\n        msg: '操作成功',\n      };\n      resolve(returnMap[type || 'msg']);\n    };\n    request.onerror = (event: DBEvent) => reject(event.target.error || '操作失败');\n  });\n};\n// 固定表名和数据库名\nclass IndexedDB {\n  name = 'grafanaDatabase';\n  version = 1;\n\n  constructor(props: DBTypes) {\n    const { name = 'database', version = 1, store } = props;\n    this.name = name;\n    this.version = version;\n\n    this.initDB(store);\n  }\n\n  /**\n   * 初始化数据库\n   * @param store 库表的结构\n   */\n  initDB(store: StoreType) {\n    const indexeddb = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;\n    const request = indexeddb.open(this.name, this.version);\n\n    request.onupgradeneeded = (event: IDBVersionChangeEvent) => {\n      const db = (event.target as IDBOpenDBRequest).result;\n      if (db.objectStoreNames.contains(store.name)) {\n        // 存在表store\n      }\n\n      //  遍历store，设置数据表结构\n      db.createObjectStore(store.name, {\n        keyPath: store.key,\n      });\n    };\n    request.onerror = () => Promise.reject(new Error('初始化数据库失败'));\n    request.onsuccess = () => Promise.resolve('初始化数据库成功');\n  }\n\n  openDB() {\n    const indexeddb = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;\n    const request = indexeddb.open(this.name, this.version);\n\n    return promisify(request, 'event');\n  }\n\n  /**\n   * 新增数据\n   * @param storeName 表名\n   * @param data 添加的数据\n   */\n  async insertData(storeName: string, data: any) {\n    try {\n      // console.time('insertData');\n      const db = await this.openDB();\n      const transaction = db.transaction(storeName, 'readwrite');\n      const objectStore = transaction.objectStore(storeName);\n\n      objectStore.add(data);\n      // console.timeEnd('insertData');\n\n      return new Promise((resolve, reject) => {\n        transaction.oncomplete = function () {\n          // console.timeEnd('insertData');\n          resolve('所有数据插入成功');\n        };\n\n        transaction.onerror = function (event) {\n          reject(event);\n        };\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  /**\n   * 更新数据\n   * @param props 查询数据的参数以及要修改的值的参数\n   */\n  async addData(data: DataType, isCover?: boolean) {\n    try {\n      // console.log('addData');\n      const storeName = store.name; // 表名\n      const oldData = await this.getData(data.service);\n      const objectStore = await this.getObjectStore(storeName, 'readwrite');\n\n      if (!oldData) {\n        // 不存在则新建\n        this.insertData(storeName, data);\n      }\n      // 存在则更新\n      let newData: any = { ...oldData, ...data };\n      if (isCover) newData = data; // 需要覆盖之前内容\n      // 把更新过的对象放回数据库\n      const requestUpdate = objectStore.put(newData);\n      // console.timeEnd('updateData');\n      return promisify(requestUpdate);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  /**\n   * 获取数据库的值，返回查询到的第一项\n   * @param storeName 表名/存储对象的键\n   * @param cursorKey key\n   * @param cursorValue 要查询索引的值\n   */\n  async getData(seviceName: string) {\n    try {\n      // console.time('getData');\n      const storeName = store.name;\n      const objectStore = await this.getObjectStore(storeName);\n      const request = objectStore.get(seviceName);\n      // console.timeEnd('getData');\n      return promisify(request, 'request');\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  async getAllData(storeName: string) {\n    try {\n      // console.time('getAllData');\n      const objectStore = await this.getObjectStore(storeName);\n      const request = objectStore.getAll();\n      const result = await promisify(request, 'request');\n      // console.timeEnd('getAllData');\n      return result ? result : [];\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * 获取对象仓库\n   * @param storeName 表名\n   * @param type readonly 或者 readwrite等\n   */\n  private async getObjectStore(storeName: string, type?: any): Promise<IDBObjectStore> {\n    try {\n      const db = await this.openDB();\n      return db.transaction(storeName, type).objectStore(storeName);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n}\n// console.log('testDDB')\n// const indexDB = new IndexedDB({store});\n// indexDB.addData({service: 'cvm', instance: [{ins: 23}]}).then(e=>{\n//   indexDB.getData('cvm').then(dd=>{console.log({dd})})\n// })\nexport default new IndexedDB({ store });\n","import indexedDB from './indexedDB';\nclass InstanceStorage {\n  // prefix = 'Datasource';\n  // storageKey = 'grafanaInstanceCache';\n  insKey = 'Instances';\n  cacheWay = '';\n  constructor() {}\n  setInstance(service: string, value: Record<string, any>) {\n    return this.setStorage(service, this.insKey, value, true);\n  }\n  async getInstance(service: string) {\n    return this.getStorage(service, this.insKey);\n  }\n  setExtraStorage(service: string, Ekey: string, EValue: Record<string, any>) {\n    return this.setStorage(service, Ekey, EValue, false);\n  }\n  async getExtraStorage(service: string, Ekey: string) {\n    return this.getStorage(service, Ekey);\n  }\n  private setStorage(serviceKey: string, key: string, value: Record<string, any>, isCover = false) {\n    // console.log('set', serviceKey, key, value);\n    return indexedDB.addData(\n      {\n        service: serviceKey,\n        [key]: value,\n      },\n      isCover\n    );\n  }\n  // 获取到模版变量信息\n  private async getStorage(service: string, key?: string) {\n    const storage = await indexedDB.getData(service);\n    // console.log('get', key, storage);\n    return key ? storage?.[key] : storage;\n  }\n}\nexport default new InstanceStorage();\n","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","import _ from 'lodash';\n\nexport const CKAFKAQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstanceId',\n    cnDescriptor: '按照实例ID过滤',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SearchWord',\n    enDescriptor: 'SearchWord',\n    cnDescriptor: '按照实例名称过滤，支持模糊查询',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '匹配标签key值',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例的状态，不填默认返回全部',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '创建中', value: 0 },\n      { text: '运行中', value: 1 },\n      { text: '删除中', value: 2 },\n    ],\n  },\n];\n\nconst CKAFKA_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  topicId: '',\n  topicName: '',\n  consumerGroup: '',\n  partition: '',\n  queries: {\n    Offset: 0,\n    Limit: 10,\n    Status: [],\n    InstanceId: '',\n    SearchWord: '',\n    TagKey: '',\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst CKAFKAInstanceAliasList = ['InstanceId', 'InstanceName'];\nconst CKAFKATopicAliasList = ['TopicId', 'TopicName'];\n// 保存在模板变量value中的key\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  topicId: 'TopicId',\n  groupName: 'GroupName',\n  partition: 'PartitionId',\n};\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nconst CKAFKAInvalidDemensions = new Proxy(\n  {\n    topicId: 'TopicId',\n    topicName: 'TopicName',\n    consumerGroup: 'GroupName',\n    partition: 'PartitionId',\n  },\n  {\n    get: (obj, prop) => {\n      if (String(prop).toLocaleLowerCase() === 'instanceid') return 'InstanceId';\n      return obj[prop];\n    },\n  }\n);\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  TopicList: 'TopicList',\n  GroupList: 'GroupList',\n  PartitionList: 'PartitionList',\n};\n\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  TopicId: {\n    dim_KeyInStorage: keyInStorage.TopicList,\n    dim_KeyInTarget: 'topicId',\n    dim_KeyInMap: templateQueryIdMap.topicId,\n  },\n  // topicName和topicId是同一个storage中的source，所以根据topicId帅选\n  TopicName: {\n    dim_KeyInStorage: keyInStorage.TopicList,\n    dim_KeyInTarget: 'topicId',\n    dim_KeyInMap: templateQueryIdMap.topicId,\n  },\n  GroupName: {\n    dim_KeyInStorage: keyInStorage.GroupList,\n    dim_KeyInTarget: 'consumerGroup',\n    dim_KeyInMap: templateQueryIdMap.groupName,\n  },\n  PartitionId: {\n    dim_KeyInStorage: keyInStorage.PartitionList,\n    dim_KeyInTarget: 'partition',\n    dim_KeyInMap: templateQueryIdMap.partition,\n  },\n};\nexport default CKAFKA_STATE;\nexport {\n  CKAFKAInstanceAliasList,\n  CKAFKATopicAliasList,\n  CKAFKAInvalidDemensions,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  GetInstanceQueryParams as CKAFKAGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/LOADBALANCE';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'loadBalanceQuery';\n\nconst ForwardTypes = [\n  { text: '通用的负载均衡', value: 1 },\n  { text: '传统的负载均衡', value: 0 },\n];\n\nconst OrderBy = [\n  { text: 'LoadBalancerName', value: 'LoadBalancerName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'Domain', value: 'Domain' },\n  { text: 'LoadBalancerType', value: 'LoadBalancerType' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\n\nconst WithRs = [\n  { text: '没有绑定后端服务', value: 0 },\n  { text: '绑定后端服务', value: 1 },\n  { text: '查询全部', value: -1 },\n];\nconst LOADBALANCEFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancer ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancer Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Forward',\n    enDescriptor: 'Forward',\n    cnDescriptor: '负载均衡实例类型',\n    link: '',\n    type: 'select',\n    list: ForwardTypes,\n  },\n  {\n    key: 'Domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '域名，腾讯云为负载均衡实例分配的域名，本参数仅对传统型公网负载均衡才有意义',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancer Vips',\n    cnDescriptor: '负载均衡实例的 VIP 地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivate Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的内网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPublicIps',\n    enDescriptor: 'BackendPublic Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的外网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '负载均衡实例所属的项目 ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '负载均衡实例所属私有网络',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroup',\n    enDescriptor: 'Security Group',\n    cnDescriptor: '安全组ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'MasterZone',\n    enDescriptor: 'Master Zone',\n    cnDescriptor: '主可用区ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'WithRs',\n    enDescriptor: 'WithRs',\n    cnDescriptor: '负载均衡是否绑定后端服务',\n    link: '',\n    type: 'select',\n    list: WithRs,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/214/30685',\n  namespace,\n  fieldDescriptor: LOADBALANCEFieldsDescriptor,\n};\nconst LBFields = {\n  LoadBalancerIds: [],\n  Forward: undefined,\n  LoadBalancerName: '',\n  Domain: '',\n  LoadBalancerVips: [],\n  BackendPublicIps: [],\n  BackendPrivateIps: [],\n  Limit: 20,\n  Offset: 0,\n  ProjectId: undefined,\n  WithRs: {},\n  VpcId: '',\n  SecurityGroup: '',\n  MasterZone: '',\n  OrderBy: {},\n  OrderType: {},\n};\n\nconst LOADBALANCE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  Port: '',\n  Protocol: '',\n  listener: '',\n  servers: '',\n  serverPort: '',\n  // listenerAlias: 'ListenerId',\n  queries: LBFields,\n};\n\n// function GetInstanceQueryParams(queries: any = {}) {\n//   const params: any = {};\n//   if (!_.isEmpty(queries)) {\n//     params.Limit = _.get(queries, 'Limit', 20) || 20;\n//     params.Offset = _.get(queries, 'Offset', 0) || 0;\n//     queries = _.omit(queries, ['Offset', 'Limit']);\n//     _.forEach(queries, (item: any, key) => {\n//       if (_.isArray(item)) {\n//         item = _.compact(item);\n//         if (item.length > 0) {\n//           params[key] = _.uniq(item);\n//         }\n//       } else if (_.isObject(item)) {\n//         if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n//           params[key] = _.get(item, 'value');\n//         }\n//       } else if (_.isNumber(item) || !_.isEmpty(item)) {\n//         params[key] = item;\n//       }\n//     });\n//   }\n//   return params;\n// }\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nconst InstanceAliasList = ['LoadBalancerId', 'LoadBalancerName', 'LoadBalancerVips'];\nconst LOADBALANCEListenerAliasList = ['ListenerId', 'ListenerName', 'Port'];\nconst LOADBALANCEServerAliasList = ['PrivateIpAddresses', 'InstanceId'];\nconst LOADBALANCEVALIDDIMENSIONS = {\n  vip: 'LoadBalancerVips',\n  // vpcId: 'NumericalVpcId',\n  loadBalancerPort: 'Port',\n  protocol: 'Protocol',\n  lanIp: 'PrivateIpAddresses',\n  port: 'ServerPort',\n};\n// 对于ipv6类型，vip应该取AddressIPv6。\nconst CANDIATEDIMENSIONS = {\n  LoadBalancerVips: 'AddressIPv6',\n};\n// dimensionObject[item] = { Name: item, Value: '' };\n// const LOADBALANCE_INSTANCE_DIMENSIONOBJECTS = {\n//   vip: { Name: 'vip', Value: '' },\n// };\n// const LOADBALANCE_LISTENER_DIMENSIONOBJECTS = {\n//   vip: { Name: 'vip', Value: '' },\n//   loadBalancerPort: { Name: 'loadBalancerPort', Value: '' },\n//   protocol: { Name: 'protocol', Value: '' },\n// };\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n  listener: 'ListenerId',\n  servers: 'PrivateIpAddresses',\n  port: 'Port',\n};\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  listener: 'ListenerList',\n  servers: 'ServersList',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  Port: {\n    dim_KeyInStorage: keyInStorage.listener,\n    dim_KeyInTarget: 'listener',\n    dim_KeyInMap: templateQueryIdMap.listener,\n  },\n  Protocol: {\n    dim_KeyInStorage: keyInStorage.listener,\n    dim_KeyInTarget: 'listener',\n    dim_KeyInMap: templateQueryIdMap.listener,\n  },\n  PrivateIpAddresses: {\n    dim_KeyInStorage: keyInStorage.servers,\n    dim_KeyInTarget: 'servers',\n    dim_KeyInMap: templateQueryIdMap.servers,\n  },\n  ServerPort: {\n    dim_KeyInStorage: keyInStorage.servers,\n    dim_KeyInTarget: 'serverPort',\n    dim_KeyInIns: 'Port',\n    dim_KeyInMap: templateQueryIdMap.port,\n  },\n};\nexport default LOADBALANCE_STATE;\nexport {\n  LOADBALANCEFieldsDescriptor,\n  InstanceAliasList,\n  LOADBALANCEListenerAliasList,\n  LOADBALANCEServerAliasList,\n  LOADBALANCEVALIDDIMENSIONS,\n  templateQueryIdMap,\n  CANDIATEDIMENSIONS,\n  // LOADBALANCE_LISTENER_DIMENSIONOBJECTS,\n  // LOADBALANCE_INSTANCE_DIMENSIONOBJECTS,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  queryEditorConfig,\n  namespace,\n  queryEditorName,\n  GetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/TDMQ';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'tdmqQuery';\n\nconst TDMQInvalidDemensions = {\n  tenantId: 'ClusterId',\n  tenant: 'ClusterId',\n  topicName: 'TopicName',\n  environmentId: 'EnvironmentId',\n};\n\n// 需和文件名对应\nconst TDMQInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nconst templateQueryIdMap = {\n  instance: 'ClusterId',\n  topicName: 'TopicName',\n  environmentId: 'EnvironmentId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n];\n\nconst CDNPROVINCE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  // 此处key应该是经过TDMQInvalidDemensions处理后的\n  topicName: '',\n  environmentId: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    if (item.Dimensions.indexOf('topicName') !== -1 && item.Dimensions.indexOf('environmentId') === -1) {\n      item.Dimensions.push('environmentId');\n    }\n  });\n  return metricTmp;\n}\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  topicName: 'topicName',\n  environmentId: 'environmentId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  TopicName: {\n    dim_KeyInStorage: keyInStorage.topicName,\n    dim_KeyInTarget: 'topicName',\n    dim_KeyInMap: templateQueryIdMap.topicName,\n  },\n  EnvironmentId: {\n    dim_KeyInStorage: keyInStorage.environmentId,\n    dim_KeyInTarget: 'environmentId',\n    dim_KeyInMap: templateQueryIdMap.environmentId,\n  },\n};\nexport default CDNPROVINCE_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  modifyDimensons,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TDMQGetInstanceQueryParams,\n};\n","/** 此文件放置通用业务的配置项，用于区分业务类型 */\nimport { DataQuery, DataSourceJsonData } from '@grafana/data';\nimport { RUMQuery } from './rum-service/types';\nimport { APMQuery } from './apm-service/types';\nimport { t, Language } from '../locale';\nimport { SearchSyntaxRule } from './log-service/common/constants';\n\nexport const enum ServiceType {\n  monitor = 'monitor',\n  logService = 'logService',\n  RUMService = 'RUMService',\n  APMService = 'APMService',\n}\n\nexport const ServiceTypeOptions = [\n  {\n    value: ServiceType.monitor,\n    get label() {\n      return t('cloud_monitor');\n    },\n  },\n  {\n    value: ServiceType.logService,\n    get label() {\n      return t('cloud_log_service');\n    },\n  },\n  {\n    value: ServiceType.RUMService,\n    get label() {\n      return t('real_user_monitoring');\n    },\n  },\n  {\n    value: ServiceType.APMService,\n    get label() {\n      return t('apm_monitoring');\n    },\n  },\n];\n\nexport interface QueryInfo extends DataQuery {\n  /** 数据源Query针对的查询服务，监控 or 日志 */\n  serviceType?: ServiceType;\n  logServiceParams?: {\n    region: string;\n    TopicId: string;\n    Query: string;\n    SyntaxRule: number;\n    MaxResultNum?: number;\n  };\n  RUMServiceParams?: RUMQuery;\n  APMServiceParams?: APMQuery;\n}\n\nexport const defaultQueryInfo: Omit<QueryInfo, 'refId'> = {\n  serviceType: ServiceType.logService,\n  logServiceParams: {\n    region: '',\n    TopicId: '',\n    Query: '',\n    SyntaxRule: SearchSyntaxRule.CQL,\n  },\n  RUMServiceParams: {\n    policy: 'default',\n    resultFormat: 'time_series',\n    orderByTime: 'ASC',\n    tags: [],\n    groupBy: [\n      {\n        type: 'time',\n        params: ['$__interval'],\n      },\n      {\n        type: 'fill',\n        params: ['null'],\n      },\n    ],\n    select: [\n      [\n        {\n          type: 'field',\n          params: ['value'],\n        },\n        {\n          type: 'mean',\n          params: [],\n        },\n      ],\n    ],\n  },\n  APMServiceParams: {\n    policy: 'default',\n    resultFormat: 'time_series',\n    orderType: 'time',\n    orderBy: 'ASC',\n    tags: [],\n    groupBy: [\n      {\n        type: 'time',\n        params: ['$__interval'],\n      },\n      {\n        type: 'fill',\n        params: ['null'],\n      },\n    ],\n    select: [\n      [\n        {\n          type: 'field',\n          params: ['value'],\n        },\n        {\n          type: 'mean',\n          params: [],\n        },\n      ],\n    ],\n  },\n};\n\n/** QueryInfo的运行时版本，用于将query中的不合法字段进去移除，保证query是个QueryInfo类型的数据 */\nexport const queryInfoRuntime: Required<QueryInfo> = {\n  refId: '',\n  hide: false,\n  key: '',\n  queryType: '',\n  dataTopic: null as any,\n  datasource: '',\n\n  serviceType: defaultQueryInfo.serviceType,\n  logServiceParams: defaultQueryInfo.logServiceParams,\n  RUMServiceParams: defaultQueryInfo.RUMServiceParams,\n  APMServiceParams: defaultQueryInfo.APMServiceParams,\n};\n\n/** 变量数据类型。字符场景为云监控配置，对象场景由内部字段决定 */\nexport interface VariableQuery {\n  serviceType: ServiceType;\n  queryString: string;\n  logServiceParams?: QueryInfo['logServiceParams'];\n}\n\n/**\n * These are options configured for each DataSource instance.\n */\nexport interface MyDataSourceOptions extends DataSourceJsonData {\n  secretId?: string;\n  /** 控制是否开启日志服务功能 */\n  logServiceEnabled?: boolean;\n  /** 控制是否开启前端性能监控 */\n  RUMServiceEnabled?: boolean;\n  /** 根据 product.service 字段，判断云监控功能是否开启。字段混杂，不写入类型声明中 */\n  // [product.service]?: boolean\n  intranet?: boolean;\n  language?: Language;\n  /** 控制是否开启APM监控 */\n  APMServiceEnabled?: boolean;\n}\n\n/**\n * Value that is used in the backend, but never sent over HTTP to the frontend\n */\nexport interface MySecureJsonData {\n  secretKey: string;\n}\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/GSE';\nconst fleetId = 'FleetId'; // 为和cvm其他产品保持一致，即将string[]改为Array<{fleetid: xxx}>,在此声明key\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'gseQuery';\n\nconst GSEInvalidDemensions = {\n  instanceid: 'InstanceId',\n  fleetid: 'FleetId',\n  queuename: 'Name',\n};\n\n// 需和文件名对应\nconst GSEInstanceAliasList = ['InstanceId', 'PrivateIpAddress', 'IpAddress'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  Name: 'Name',\n  FleetId: fleetId,\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  fleet: 'fleet', // 实例队列\n  queue: 'queueName', // 会话队列\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  FleetId: {\n    dim_KeyInStorage: keyInStorage.fleet,\n    dim_KeyInTarget: 'FleetId',\n    dim_KeyInMap: templateQueryIdMap.FleetId,\n  },\n  Name: {\n    dim_KeyInStorage: keyInStorage.queue,\n    dim_KeyInTarget: 'Name',\n    dim_KeyInMap: templateQueryIdMap.Name,\n  },\n};\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst GSEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceId: '',\n  FleetId: '',\n};\n\nconst GSEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'resourceName',\n    cnDescriptor: '资源名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FleetId',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'input',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1165/42604',\n  namespace,\n  fieldDescriptor: GSEFilterFieldsDescriptor,\n};\n\nconst GSE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  FleetId: '', //  服务器实例\n  Name: '', // 队列名称\n  queries: GSEFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  // { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  // { value: 'ap-shanghai-fsi' },\n  // { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  // { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((v) => GSEInvalidDemensions[v] || v);\n  });\n  return metricTmp;\n}\nexport default GSE_STATE;\nexport {\n  GSEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  GSEInstanceAliasList,\n  GSEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  fleetId,\n  keyInStorage,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as GSEGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { isArray, cloneDeep } from 'lodash';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/TDMYSQL';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'dcdbQuery';\n\nconst DCDBInvalidDemensions = {\n  nodeid: 'NodeId',\n  instanceid: 'InstanceId',\n  shardid: 'ShardInstanceId',\n  ShardId: 'ShardInstanceId',\n};\n\n// 需和文件名对应\nconst DCDBInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  NodeId: 'NodeId',\n  ShardInstanceId: 'ShardInstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst DCDBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceIds: [],\n  SearchName: '',\n  SearchKey: '',\n  ProjectIds: [],\n  // IsFilterVpc\n  VpcId: '',\n  SubnetId: '',\n\n  OrderBy: {},\n  OrderByType: {},\n  // IsFilterExcluster: {},\n  ExclusterType: {},\n\n  ExclusterIds: [],\n  FilterInstanceType: {},\n};\n\nconst DCDBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '实例 ID 查询',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'SearchName',\n    enDescriptor: 'SearchName',\n    cnDescriptor: '搜索的字段名,当前支持的值有：instancename、vip、all',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '搜索的关键字',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: '按项目 ID 查询',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '私有网络的子网 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'projectId', value: 'projectId' },\n      { text: 'createtime', value: 'createtime' },\n      { text: 'instancename', value: 'instancename' },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '私有网络 ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'desc', value: 'desc' },\n      { text: 'asc', value: 'asc' },\n    ],\n  },\n  {\n    key: 'ExclusterType',\n    enDescriptor: 'ExclusterType',\n    cnDescriptor: '集群类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '非独享集群', value: 1 },\n      { text: '独享集群', value: 2 },\n      { text: '全部', value: 0 },\n      { text: 'asc', value: 'asc' },\n    ],\n  },\n  {\n    key: 'ExclusterIds',\n    enDescriptor: 'ExclusterIds',\n    cnDescriptor: '独享集群ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'FilterInstanceType',\n    enDescriptor: 'FilterInstanceType',\n    cnDescriptor: '实例类型过滤',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '独享实例', value: 1 },\n      { text: '主实例', value: 2 },\n      { text: '灾备实例', value: 3 },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/557/16140',\n  namespace,\n  fieldDescriptor: DCDBFilterFieldsDescriptor,\n};\n\nconst DCDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  ShardId: '',\n  NodeId: '',\n  queries: DCDBFilterFields,\n};\nconst modifyMetricConf = {\n  shardid: 'ShardId',\n  instanceid: 'InstanceId',\n  nodeid: 'NodeId',\n};\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((v) => modifyMetricConf[v] || v);\n  });\n  return metricTmp;\n}\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params = instanceQueryParamsBaseParse(queries, false);\n  // 特殊处理\n  params.IsFilterVpc = false;\n  params.IsFilterExcluster = false;\n  if (params.VpcId || params.SubnetId) params.IsFilterVpc = true;\n  if (params.ExclusterType) params.IsFilterExcluster = true;\n  if (isArray(params.FilterInstanceType)) params.FilterInstanceType = params.FilterInstanceType.join(',');\n  return params;\n}\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  NodeId: 'NodeId',\n  ShardInstanceId: 'ShardId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NodeId: {\n    dim_KeyInStorage: keyInStorage.NodeId,\n    dim_KeyInTarget: 'NodeId',\n    dim_KeyInMap: templateQueryIdMap.NodeId,\n  },\n  ShardInstanceId: {\n    dim_KeyInStorage: keyInStorage.ShardInstanceId,\n    dim_KeyInTarget: 'ShardId',\n    dim_KeyInMap: templateQueryIdMap.ShardInstanceId,\n  },\n};\n// 和其他产品的展示保持一致\nconst regionSupported = [\n  { text: '华北地区(北京)', value: 'ap-beijing' },\n  { text: '西南地区(成都)', value: 'ap-chengdu' },\n  { text: '西南地区(重庆)', value: 'ap-chongqing' },\n  { text: '华南地区(广州)', value: 'ap-guangzhou' },\n  { text: '港澳台地区(中国香港)', value: 'ap-hongkong' },\n  { text: '亚太南部(孟买)', value: 'ap-mumbai' },\n  { text: '华东地区(南京)', value: 'ap-nanjing' },\n  { text: '华东地区(上海)', value: 'ap-shanghai' },\n  { text: '华东地区(上海金融)', value: 'ap-shanghai-fsi' },\n  { text: '华南地区(深圳金融)', value: 'ap-shenzhen-fsi' },\n  { text: '亚太东南(新加坡)', value: 'ap-singapore' },\n  { text: '亚太东北(东京)', value: 'ap-tokyo' },\n  { text: '欧洲地区(法兰克福)', value: 'eu-frankfurt' },\n  { text: '美国东部(弗吉尼亚)', value: 'na-ashburn' },\n  { text: '美国西部(硅谷)', value: 'na-siliconvalley' },\n  { text: '北美地区(多伦多)', value: 'na-toronto' },\n];\nexport default DCDB_STATE;\nexport {\n  DCDBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCDBInstanceAliasList,\n  DCDBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  keyInStorage,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as DCDBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nconst namespace = 'QCE/REDIS_MEM';\nconst BillingMode = [\n  { text: '按量计费', value: 'postpaid' },\n  { text: '包年包月', value: 'prepaid' },\n];\n\nconst AutoRenew = [\n  { text: '手动续费', value: 0 },\n  { text: '自动续费', value: 1 },\n  { text: '明确不自动续费', value: 2 },\n];\n\nconst Status = [\n  { text: '待初始化', value: 0 },\n  { text: '流程执行中', value: 1 },\n  { text: '运行中', value: 2 },\n  { text: '已隔离', value: -2 },\n  { text: '待删除', value: -3 },\n];\n\nconst TypeVersion = [\n  { text: '单机版', value: 1 },\n  { text: '主从版', value: 2 },\n  { text: '集群版', value: 3 },\n];\n\nconst OrderBy = [\n  { text: 'projectId', value: 'projectId' },\n  { text: 'instancename', value: 'instancename' },\n  { text: 'createtime', value: 'createtime' },\n  { text: 'type', value: 'type' },\n  { text: 'curDeadline', value: 'curDeadline' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\nconst Type = [\n  { text: 'Redis老集群版', value: 1 },\n  { text: 'Redis 2.8主从版', value: 2 },\n  { text: 'CKV主从版', value: 3 },\n  { text: 'CKV集群版', value: 4 },\n  { text: 'Redis 2.8单机版', value: 5 },\n  { text: 'Redis 4.0主从版', value: 6 },\n  { text: 'Redis 4.0集群版', value: 7 },\n  { text: 'Redis5.0主从版', value: 8 },\n  { text: 'Redis5.0集群版', value: 9 },\n];\n\nconst RedisFields = {\n  InstanceId: '',\n  OrderBy: '',\n  OrderType: null,\n  VpcIds: [],\n  SubnetIds: [],\n  ProjectIds: [],\n  SearchKey: '',\n  InstanceName: '',\n  UniqVpcIds: [],\n  UniqSubnetIds: [],\n  Status: [],\n  TypeVersion: null,\n  EngineName: '',\n  AutoRenew: null,\n  BillingMode: '',\n  Type: null,\n};\n\nconst RedisMemFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstancesId',\n    cnDescriptor: '实例id',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderType',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'VpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：47525',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'SubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：56854',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: '项目ID 组成的数组',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '查找实例的ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'InstanceName',\n    enDescriptor: 'InstanceName',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'UniqVpcIds',\n    enDescriptor: 'UniqVpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：vpc-sad23jfdfk',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'UniqSubnetIds',\n    enDescriptor: 'UniqSubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：subnet-fdj24n34j2',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'TypeVersion',\n    enDescriptor: 'TypeVersion',\n    cnDescriptor: '类型版本',\n    link: '',\n    type: 'select',\n    list: TypeVersion,\n  },\n  {\n    key: 'EngineName',\n    enDescriptor: 'EngineName',\n    cnDescriptor: '引擎信息：Redis-2.8，Redis-4.0，CKV',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenew',\n    enDescriptor: 'AutoRenew',\n    cnDescriptor: '续费模式',\n    multiple: true,\n    type: 'select',\n    list: AutoRenew,\n  },\n  {\n    key: 'BillingMode',\n    enDescriptor: 'BillingMode',\n    cnDescriptor: '计费模式：postpaid-按量计费；prepaid-包年包月',\n    link: '',\n    type: 'select',\n    list: BillingMode,\n  },\n  {\n    key: 'Type',\n    enDescriptor: 'Type',\n    cnDescriptor: '实例类型',\n    link: '',\n    type: 'select',\n    list: Type,\n  },\n];\n\nconst REDISMEM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...RedisFields },\n  rnodeid: '',\n  pnodeid: '',\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select 单选\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst REDISMEMInstanceAliasList = ['InstanceId', 'InstanceName', 'WanIp'];\n\nconst RedisMemInvalidDemensions = {\n  instanceid: 'InstanceId',\n  rnodeid: 'rnodeid',\n  pnodeid: 'pnodeid',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  rnodeid: 'rnodeid',\n  pnodeid: 'pnodeid',\n};\n\nconst NodeType = ['Redis', 'Proxy'];\n\nexport default REDISMEM_STATE;\nexport {\n  RedisMemFieldsDescriptor,\n  RedisMemInvalidDemensions,\n  REDISMEMInstanceAliasList,\n  templateQueryIdMap,\n  namespace,\n  NodeType,\n  GetInstanceQueryParams as REDISMEMGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/RABBITMQ';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'tdmqQuery';\n\nconst TDMQInvalidDemensions = {\n  instanceid: 'InstanceId',\n  node: 'NodeName',\n};\n\n// 需和文件名对应\nconst TDMQRABBITMQInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  node: 'NodeName',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n];\n\nconst TDMQ_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  // 此处key应该是经过TDMQInvalidDemensions处理后的\n  node: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  node: 'NodeName',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NodeName: {\n    dim_KeyInStorage: keyInStorage.node,\n    dim_KeyInTarget: 'node',\n    dim_KeyInMap: templateQueryIdMap.node,\n  },\n};\nexport default TDMQ_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQRABBITMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TDMQGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/ROCKETMQ';\n\nconst TDMQInvalidDemensions = {\n  tenant: 'ClusterId',\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n\n// 需和文件名对应\nconst TDMQROCKETMQInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nconst templateQueryIdMap = {\n  instance: 'ClusterId',\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  instanceIdsChecked: false,\n  filtersChecked: true,\n  ClusterIdList: [''],\n  Filters: {\n    includeVip: { text: '是', value: 'true' },\n  },\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'includeVip',\n    enDescriptor: 'includeVip',\n    cnDescriptor: '包含专享集群',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '是', value: 'true' },\n      { text: '否', value: 'false' },\n    ],\n  },\n];\n\nconst TDMQ_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  // 此处key应该是经过TDMQInvalidDemensions处理后的\n  namespace: '',\n  group: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.ClusterIdList)) {\n        const ClusterIdList = _.compact(queries.ClusterIdList);\n        if (_.uniq(ClusterIdList).length > 0) {\n          params.ClusterIdList = _.uniq(ClusterIdList).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: [_.get(item, 'value', [])].slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NamespaceId: {\n    dim_KeyInStorage: keyInStorage.namespace,\n    dim_KeyInTarget: 'namespace',\n    dim_KeyInMap: templateQueryIdMap.namespace,\n  },\n  Name: {\n    dim_KeyInStorage: keyInStorage.group,\n    dim_KeyInTarget: 'group',\n    dim_KeyInMap: templateQueryIdMap.group,\n  },\n};\nexport default TDMQ_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQROCKETMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TDMQROCKETMQGetInstanceQueryParams,\n};\n","import { t } from '../../locale';\n// name (产品名称), service（对应的真实service）\ninterface ServiceType {\n  service: string;\n  label: string;\n  namespace: string;\n  href: string;\n  groupName?: string;\n  hideRegion?: boolean;\n}\nconst SERVICES: ServiceType[] = [\n  {\n    service: 'cvm',\n    get label() {\n      return t('CVM');\n    },\n    namespace: 'QCE/CVM',\n    href: 'https://cloud.tencent.com/document/api/213/15688',\n  },\n  {\n    service: 'cdb',\n    get label() {\n      return t('CDB');\n    },\n    namespace: 'QCE/CDB',\n    href: 'https://cloud.tencent.com/document/api/236/15829',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'mongoDB',\n    get label() {\n      return t('CMONGO');\n    },\n    namespace: 'QCE/CMONGO',\n    href: 'https://cloud.tencent.com/document/api/240/38568',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'postgres',\n    get label() {\n      return t('POSTGRES');\n    },\n    namespace: 'QCE/POSTGRES',\n    href: 'https://cloud.tencent.com/document/product/248/45105',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'redis',\n    get label() {\n      return t('REDIS');\n    },\n    namespace: 'QCE/REDIS',\n    href: 'https://cloud.tencent.com/document/product/248/45110',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'redisMem',\n    get label() {\n      return t('REDIS_MEM');\n    },\n    namespace: 'QCE/REDIS_MEM',\n    href: 'https://cloud.tencent.com/document/product/248/49729',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'sqlserver',\n    get label() {\n      return t('SQLSERVER');\n    },\n    namespace: 'QCE/SQLSERVER',\n    href: 'https://cloud.tencent.com/document/product/248/45146',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'cynosdbMysql',\n    get label() {\n      return t('CYNOSDB_MYSQL');\n    },\n    namespace: 'QCE/CYNOSDB_MYSQL',\n    href: 'https://cloud.tencent.com/document/product/248/45106',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'tcaplus',\n    get label() {\n      return t('TCAPLUS');\n    },\n    namespace: 'QCE/TCAPLUS',\n    href: 'https://cloud.tencent.com/document/product/248/45107',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'dcdb',\n    get label() {\n      return t('TDMYSQL');\n    },\n    namespace: 'QCE/TDMYSQL',\n    href: 'https://cloud.tencent.com/document/product/248/45108',\n  },\n  {\n    service: 'pcx',\n    get label() {\n      return t('PCX');\n    },\n    namespace: 'QCE/PCX',\n    href: 'https://cloud.tencent.com/document/product/215/5181',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'bwp',\n    get label() {\n      return t('BWP');\n    },\n    namespace: 'QCE/BWP',\n    href: 'https://cloud.tencent.com/document/api/215/19209',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'natGateway',\n    get label() {\n      return t('NAT_GATEWAY');\n    },\n    namespace: 'QCE/NAT_GATEWAY',\n    href: 'https://cloud.tencent.com/document/api/215/36034',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpngw',\n    get label() {\n      return t('VPNGW');\n    },\n    namespace: 'QCE/VPNGW',\n    href: 'https://cloud.tencent.com/document/product/248/45070',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpnx',\n    get label() {\n      return t('VPNX');\n    },\n    namespace: 'QCE/VPNX',\n    href: 'https://cloud.tencent.com/document/product/248/45071',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'dcg',\n    get label() {\n      return t('DCG');\n    },\n    namespace: 'QCE/DCG',\n    href: 'https://cloud.tencent.com/document/product/248/45072',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'ceipSummary',\n    get label() {\n      return t('CEIP_SUMMARY');\n    },\n    namespace: 'QCE/CEIP_SUMMARY',\n    href: 'https://cloud.tencent.com/document/product/248/50381',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpcNetDetect',\n    get label() {\n      return t('VPC_NET_DETECT');\n    },\n    namespace: 'QCE/VPC_NET_DETECT',\n    href: 'https://cloud.tencent.com/document/product/248/50384',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vbc',\n    get label() {\n      return t('VBC');\n    },\n    namespace: 'QCE/VBC',\n    href: 'https://cloud.tencent.com/document/product/248/45073',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'lb',\n    get label() {\n      return t('LB');\n    },\n    namespace: 'QCE/LB',\n    href: 'https://cloud.tencent.com/document/product/248/45099',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'lbPublic',\n    get label() {\n      return t('LB_PUBLIC');\n    },\n    namespace: 'QCE/LB_PUBLIC',\n    href: 'https://cloud.tencent.com/document/product/248/51898',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'lbPrivate',\n    get label() {\n      return t('LB_PRIVATE');\n    },\n    namespace: 'QCE/LB_PRIVATE',\n    href: 'https://cloud.tencent.com/document/product/248/51899',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'loadBalance',\n    get label() {\n      return t('LOADBALANCE');\n    },\n    namespace: 'QCE/LOADBALANCE',\n    href: 'https://cloud.tencent.com/document/product/248/51901',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'vClb',\n    get label() {\n      return `${t('cloud_load_balancer')}(${t('lite')})`;\n    },\n    namespace: 'QCE/V_CLB',\n    href: 'https://cloud.tencent.com/document/product/248/51901',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('lite')})`;\n    },\n  },\n  {\n    service: 'cdn',\n    get label() {\n      return t('CDN');\n    },\n    namespace: 'QCE/CDN',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50386',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'cdnProvince',\n    get label() {\n      return t('CDN_LOG_DATA');\n    },\n    namespace: 'QCE/CDN_LOG_DATA',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50388',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'ovCdn',\n    get label() {\n      return t('OV_CDN');\n    },\n    namespace: 'QCE/OV_CDN',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50387',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'scf',\n    get label() {\n      return t('SCF_V2');\n    },\n    namespace: 'QCE/SCF_V2',\n    href: 'https://cloud.tencent.com/document/product/248/45130',\n  },\n  {\n    service: 'cfs',\n    get label() {\n      return t('CFS');\n    },\n    namespace: 'QCE/CFS',\n    href: 'https://cloud.tencent.com/document/product/248/45143',\n  },\n  {\n    service: 'cos',\n    get label() {\n      return t('COS');\n    },\n    namespace: 'QCE/COS',\n    href: 'https://cloud.tencent.com/document/product/248/45140',\n  },\n  {\n    service: 'ckafka',\n    get label() {\n      return t('CKAFKA');\n    },\n    namespace: 'QCE/CKAFKA',\n    href: 'https://cloud.tencent.com/document/product/248/45121',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'cmq',\n    get label() {\n      return t('CMQ');\n    },\n    namespace: 'QCE/CMQ',\n    href: 'https://cloud.tencent.com/document/product/248/45114',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'cmqTopic',\n    get label() {\n      return t('CMQTOPIC');\n    },\n    namespace: 'QCE/CMQTOPIC',\n    href: 'https://cloud.tencent.com/document/product/248/45113',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmq',\n    get label() {\n      return t('TDMQ');\n    },\n    namespace: 'QCE/TDMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmqRocketmq',\n    get label() {\n      return t('TDMQ_ROCKETMQ');\n    },\n    namespace: 'QCE/ROCKETMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmqRabbitmq',\n    get label() {\n      return t('TDMQ_RABBITMQ');\n    },\n    namespace: 'QCE/RABBITMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'dcx',\n    get label() {\n      return t('DCX');\n    },\n    namespace: 'QCE/DCX',\n    href: 'https://cloud.tencent.com/document/product/248/45101',\n    get groupName() {\n      return t('direct_connect');\n    },\n  },\n  {\n    service: 'dc',\n    get label() {\n      return t('DC');\n    },\n    namespace: 'QCE/DC',\n    href: 'https://cloud.tencent.com/document/product/248/45102',\n    get groupName() {\n      return t('direct_connect');\n    },\n  },\n  {\n    service: 'cpm',\n    get label() {\n      return t('CPM');\n    },\n    namespace: 'QCE/CPM',\n    href: 'https://cloud.tencent.com/document/product/248/45881',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmPcx',\n    get label() {\n      return t('BM_PCX');\n    },\n    namespace: 'QCE/BM_PCX',\n    href: 'https://cloud.tencent.com/document/product/248/45884',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmLb',\n    get label() {\n      return t('BM_LB');\n    },\n    namespace: 'QCE/BM_LB',\n    href: 'https://cloud.tencent.com/document/product/248/45886',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmIntraLb',\n    get label() {\n      return t('BM_INTRA_LB');\n    },\n    namespace: 'QCE/BM_INTRA_LB',\n    href: 'https://cloud.tencent.com/document/product/248/45885',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'ces',\n    get label() {\n      return t('CES');\n    },\n    namespace: 'QCE/CES',\n    href: 'https://cloud.tencent.com/document/product/248/45129',\n  },\n  {\n    service: 'mrHDFS',\n    get label() {\n      return `${t('elastic_mapReduce')}(HDFS)`;\n    },\n    namespace: 'QCE/TXMR_HDFS',\n    href: 'https://cloud.tencent.com/document/product/248/44797',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrHBASE',\n    get label() {\n      return `${t('elastic_mapReduce')}(HBASE)`;\n    },\n    namespace: 'QCE/TXMR_HBASE',\n    href: 'https://cloud.tencent.com/document/product/248/45567',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrHIVE',\n    get label() {\n      return `${t('elastic_mapReduce')}(HIVE)`;\n    },\n    namespace: 'QCE/TXMR_HIVE',\n    href: 'https://cloud.tencent.com/document/product/248/45569',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrNODE',\n    get label() {\n      return `${t('elastic_mapReduce')}(NODE)`;\n    },\n    namespace: 'QCE/TXMR_NODE',\n    href: 'https://cloud.tencent.com/document/product/248/45570',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrPRESTO',\n    get label() {\n      return `${t('elastic_mapReduce')}(PRESTO)`;\n    },\n    namespace: 'QCE/TXMR_PRESTO',\n    href: 'https://cloud.tencent.com/document/product/248/45571',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrSPARK',\n    get label() {\n      return `${t('elastic_mapReduce')}(SPARK)`;\n    },\n    namespace: 'QCE/TXMR_SPARK',\n    href: 'https://cloud.tencent.com/document/product/248/45572',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrYARN',\n    get label() {\n      return `${t('elastic_mapReduce')}(YARN)`;\n    },\n    namespace: 'QCE/TXMR_YARN',\n    href: 'https://cloud.tencent.com/document/product/248/45573',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrZOOKEEPER',\n    get label() {\n      return `${t('elastic_mapReduce')}(ZOOKEEPER)`;\n    },\n    namespace: 'QCE/TXMR_ZOOKEEPER',\n    href: 'https://cloud.tencent.com/document/product/248/45574',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'cbs',\n    get label() {\n      return t('BLOCK_STORAGE');\n    },\n    namespace: 'QCE/BLOCK_STORAGE',\n    href: 'https://cloud.tencent.com/document/product/362/2345',\n  },\n  {\n    service: 'apigateway',\n    get label() {\n      return t('APIGATEWAY');\n    },\n    namespace: 'QCE/APIGATEWAY',\n    href: 'https://cloud.tencent.com/document/product/248/45127',\n  },\n  {\n    service: 'qaap',\n    get label() {\n      return t('QAAP');\n    },\n    namespace: 'QCE/QAAP',\n    href: 'https://cloud.tencent.com/document/product/608',\n  },\n  {\n    service: 'ecm',\n    get label() {\n      return t('ECM');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'ecmBlockStorage',\n    get label() {\n      return t('ECM_BLOCK_STORAGE');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM_BLOCK_STORAGE',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'ecmLb',\n    get label() {\n      return t('ECM_LB');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM_LB',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'gse',\n    get label() {\n      return t('GSE');\n    },\n    namespace: 'QCE/GSE',\n    href: 'https://cloud.tencent.com/document/product/1165',\n  },\n  {\n    service: 'cls',\n    get label() {\n      return t('CLS');\n    },\n    namespace: 'QCE/CLS',\n    href: 'https://cloud.tencent.com/document/product/614',\n  },\n  {\n    service: 'tke',\n    get label() {\n      return t('TKE');\n    },\n    namespace: 'QCE/TKE2',\n    href: 'https://cloud.tencent.com/document/product/457',\n  },\n  {\n    service: 'ecdn',\n    get label() {\n      return t('ECDN');\n    },\n    namespace: 'QCE/DSA',\n    href: 'https://cloud.tencent.com/document/product/570',\n  },\n  // {\n  //   service: 'lighthouse',\n  //   label: '轻量应用服务器(LIGHTHOUSE)',\n  //   namespace: 'QCE/LIGHTHOUSE',\n  //   href: 'https://cloud.tencent.com/document/product/1207',\n  // },\n  // {\n  //   service: 'tsf',\n  //   label: ' 微服务平台(TSF)',\n  //   namespace: 'QCE/TSF',\n  //   href: 'https://cloud.tencent.com/document/product/649',\n  // },\n  {\n    service: 'waf',\n    get label() {\n      return t('WAF');\n    },\n    // hideRegion: true,\n    namespace: 'QCE/WAF',\n    href: 'https://cloud.tencent.com/document/product/627',\n  },\n];\nconst Datasources = {};\nconst InitStates = {};\nconst InstanceAliasList = {};\nconst GetInstanceQueryParams = {};\n\n/**\n * 由于目录命名不规范，导致需要使用额外逻辑保证正确性。从目录到具体service的映射\n */\nconst hackModuleName = {\n  // lb_loadBalance: 'loadBalance',\n  postgresql: 'postgres',\n  mongodb: 'mongoDB',\n  clb: ['lbPrivate', 'lbPublic', 'loadBalance'],\n  mr: ['mrHDFS', 'mrHBASE', 'mrHIVE', 'mrNODE', 'mrPRESTO', 'mrSPARK', 'mrYARN', 'mrZOOKEEPER'],\n};\n\nconst requireModule = (require as any).context('./', true, /^\\.\\/[a-zA-Z]\\w+\\/(datasource)|(query(_def)?)\\.ts$/);\n\nrequireModule.keys().forEach((filePath) => {\n  let [, moduleName, fileName] = filePath.split('/');\n\n  // hack： 这里是由于产品目录命名不规范,所以才会多这么一段代码\n  moduleName = hackModuleName[moduleName] ?? moduleName;\n\n  // 目录与模块的映射关系，不管是一对一还是一对多，均按数组进行统一处理\n  [].concat(moduleName).forEach((module: string) => {\n    // 这个service就是产品配置中的service，需要注意这里的service是根据目录名称算出来的，因此目录名称一定要和service对应\n    const service = module.replace(/_([a-zA-Z])/g, (_, b) => b.toUpperCase());\n    const prefix = service.toUpperCase(); // 命名规则\n\n    // datasource\n    if (fileName === 'datasource.ts') {\n      const Cls = require(`${filePath}`).default;\n\n      // 想办法为实例注入service，不能为prototype或则类本身注入，因为会造成互相污染，详尽mrDatasource\n      Datasources[`${prefix}Datasource`] = class {\n        constructor(...params) {\n          const target = new Cls(...params, service);\n          target.service = service;\n          // eslint-disable-next-line no-constructor-return\n          return target;\n        }\n      };\n    }\n    // query\n    if (fileName === 'query.ts') {\n      require(`${filePath}`);\n    }\n    // query_def\n    if (fileName === 'query_def.ts') {\n      const alias = `${prefix}InstanceAliasList`;\n      const getParams = `${prefix}GetInstanceQueryParams`;\n\n      const target = require(`${filePath}`);\n\n      InitStates[service] = target.default; // FIXME: 这里需不需要深拷贝？\n      InstanceAliasList[alias] = target[alias] ?? target['InstanceAliasList'];\n      GetInstanceQueryParams[getParams] = target[getParams] ?? target['GetInstanceQueryParams'];\n    }\n  });\n});\n\nexport {\n  InitStates as InitServiceState,\n  SERVICES,\n  Datasources,\n  InstanceAliasList,\n  GetInstanceQueryParams,\n  // DefaultDimensions\n};\n\n// console.log(Datasources, InitStates, InstanceAliasList, GetInstanceQueryParams);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM_BLOCK_STORAGE';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'ecmBlockStorageQuery';\n\nconst ECMBLOCKSTORAGEInvalidDemensions = {\n  uuid: 'UUID',\n  diskId: 'DiskId',\n};\n\n// 需和文件名对应\nconst ECMBLOCKSTORAGEInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  diskId: 'DiskId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst ECMBLOCKSTORAGEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'zone-name': [],\n  'module-id': [],\n  'module-name': [],\n  'instance-id': [],\n  'instance-name': [],\n  'ip-address': [],\n  'instance-uuid': [],\n  'instance-state': {},\n  'internet-service-provider': [],\n  'instance-family': [],\n  'image-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n};\n\nconst ECMBLOCKSTORAGEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'zone-name',\n    enDescriptor: 'zone-name',\n    cnDescriptor: '排列顺序',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-id',\n    enDescriptor: 'module-id',\n    cnDescriptor: '模块ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-name',\n    enDescriptor: 'module-name',\n    cnDescriptor: '模块名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'instance-name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ip-address',\n    enDescriptor: 'ip-address',\n    cnDescriptor: '内网/公网IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-uuid',\n    enDescriptor: 'instance-uuid',\n    cnDescriptor: '实例uuid',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'instance-state',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '创建中', value: 'PENDING' },\n      { text: '创建失败', value: 'LAUNCH_FAILED' },\n      { text: '运行中', value: 'RUNNING' },\n      { text: '关机', value: 'STOPPED' },\n      { text: '开机中', value: 'STARTING' },\n      { text: '关机中', value: 'STOPPING' },\n      { text: '重启中', value: 'REBOOTING' },\n      { text: '停止待销毁', value: 'SHUTDOWN' },\n      { text: '销毁中', value: 'TERMINATING' },\n    ],\n  },\n  {\n    key: 'internet-service-provider',\n    enDescriptor: 'internet-service-provider',\n    cnDescriptor: '公网IP所属的运营商',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-family',\n    enDescriptor: 'instance-family',\n    cnDescriptor: '机型family',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'image-id',\n    enDescriptor: 'image-id',\n    cnDescriptor: '镜像ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: '实例的vpc id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: '实例的subnet id',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/42565',\n  namespace,\n  fieldDescriptor: ECMBLOCKSTORAGEFilterFieldsDescriptor,\n};\n\nconst ECMBLOCKSTORAGE_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  diskId: '',\n  queries: ECMBLOCKSTORAGEFilterFields,\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  diskId: 'diskId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  DiskId: {\n    dim_KeyInStorage: keyInStorage.diskId,\n    dim_KeyInTarget: 'diskId',\n    dim_KeyInMap: templateQueryIdMap.diskId,\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default ECMBLOCKSTORAGE_STATE;\nexport {\n  ECMBLOCKSTORAGEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMBLOCKSTORAGEInstanceAliasList,\n  ECMBLOCKSTORAGEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as ECMBLOCKSTORAGEGetInstanceQueryParams,\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__22__;","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/APIGATEWAY';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'apigatewayQuery';\n\nconst APIGATEWAYInvalidDemensions = {\n  serviceId: 'ServiceId',\n  environmentName: 'EnvironmentName',\n  apiid: 'Apiid',\n  apiId: 'Apiid',\n};\n\n// 需和文件名对应\nconst APIGATEWAYInstanceAliasList = ['ServiceId', 'ServiceName'];\n\nconst templateQueryIdMap = {\n  instance: 'ServiceId',\n  environmentName: 'EnvironmentName',\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  environmentList: 'EnvironmentList',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  EnvironmentName: {\n    dim_KeyInStorage: keyInStorage.environmentList,\n    dim_KeyInTarget: 'EnvironmentName',\n    dim_KeyInMap: templateQueryIdMap.environmentName,\n  },\n};\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst APIGATEWAYFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ServiceId: [],\n  ServiceName: [],\n  NotUsagePlanId: [],\n  Environment: [],\n  IpVersion: [],\n};\n\nconst APIGATEWAYFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ServiceId',\n    enDescriptor: 'ServiceId',\n    cnDescriptor: '服务id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ServiceName',\n    enDescriptor: 'ServiceName',\n    cnDescriptor: '服务名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'NotUsagePlanId',\n    enDescriptor: 'NotUsagePlanId',\n    cnDescriptor: 'NotUsagePlanId',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Environment',\n    enDescriptor: 'Environment',\n    cnDescriptor: '环境名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'IpVersion',\n    enDescriptor: 'IpVersion',\n    cnDescriptor: 'IP版本',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/628/45198',\n  namespace,\n  fieldDescriptor: APIGATEWAYFilterFieldsDescriptor,\n};\n\nconst APIGATEWAY_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ServiceId',\n  EnvironmentName: '',\n  queries: APIGATEWAYFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nexport default APIGATEWAY_STATE;\nexport {\n  APIGATEWAYFilterFieldsDescriptor,\n  templateQueryIdMap,\n  APIGATEWAYInstanceAliasList,\n  APIGATEWAYInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as APIGATEWAYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nexport const InstanceQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '按照一个或者多个实例ID查询。实例ID形如: emr-xxxxxxxx ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'OrderField',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '实例ID', value: 'clusterId' },\n      { text: '创建时间', value: 'addTime' },\n      { text: '状态', value: 'status' },\n    ],\n  },\n  {\n    key: 'Asc',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '降序', value: 0 },\n      { text: '升序', value: 1 },\n    ],\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '实例所属项目ID',\n    link: '',\n    type: 'inputnumber',\n  },\n  {\n    key: 'DisplayStrategy',\n    enDescriptor: 'DisplayStrategy',\n    cnDescriptor: '集群筛选策略',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '未销毁的实例', value: 'clusterList' },\n      { text: '正常运行的实例', value: 'monitorManage' },\n    ],\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nexport const InvalidDemensions = new Proxy(\n  {},\n  {\n    get(target, k, receiver) {\n      if (typeof k === 'string') {\n        if (k.startsWith('id4')) return 'ClusterId'; // id4****\n        if (k.startsWith('host4')) return 'Ip'; // host4***\n      }\n      return Reflect.get(target, k, receiver);\n    },\n    has(target, propKey) {\n      return true;\n    },\n  }\n);\n\nexport const templateQueryIdMap = {\n  instance: 'ClusterId',\n  node: 'Ip',\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  node: 'nodeIP',\n};\n\n/**\n * 如果有InstanceId额外的维度，原则上都需要传入此map结构配置\n *\n * `key` 的含义：\n *   经过InvalidDemensions处理后的string。topicId => TopicId。\n *   否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\n *\n * `value` 的含义：\n *   @param {1} dim_KeyInStorage  指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n *   @param {2} dim_KeyInTarget   通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n *                                  默认取通过InvalidDemsion处理后的key\n *   @param {3} dim_KeyInMap      保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n *                                  即：templateQueryIdMap中内容。\n *                                  联合上面 2 的内容筛选出原始sourceMap\n */\nconst queryMonitorExtraConfg = {\n  Ip: {\n    dim_KeyInStorage: keyInStorage.node,\n    dim_KeyInTarget: 'nodeIP',\n    dim_KeyInMap: templateQueryIdMap.node,\n  },\n};\n\n// 与名称挂钩的变量\nconst InstanceAliasList = ['ClusterId', 'ClusterName'];\nexport { InstanceAliasList, GetInstanceQueryParams, queryMonitorExtraConfg, keyInStorage };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  nodeIP: '',\n  queries: {\n    Offset: 0,\n    Limit: 10,\n    DisplayStrategy: '',\n    OrderBy: {},\n    Order: {},\n    InstanceIds: [],\n    ProjectId: -1,\n    OrderField: '',\n    Asc: '',\n  },\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/V_CLB';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'vClbQuery';\n\nconst VCLBInvalidDemensions = {\n  InstanceId: 'LoadBalancerId',\n  // vip: 'LoadBalancerVips',\n  // loadBalancerPort: 'Port',\n  // protocol: 'Protocol',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst VCLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\nconst ForwardTypes = [\n  { text: '通用的负载均衡', value: 1 },\n  { text: '传统的负载均衡', value: 0 },\n];\n\nconst OrderBy = [\n  { text: 'LoadBalancerName', value: 'LoadBalancerName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'Domain', value: 'Domain' },\n  { text: 'LoadBalancerType', value: 'LoadBalancerType' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\n\nconst WithRs = [\n  { text: '没有绑定后端服务', value: 0 },\n  { text: '绑定后端服务', value: 1 },\n  { text: '查询全部', value: -1 },\n];\nconst VCLBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancer ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancer Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Forward',\n    enDescriptor: 'Forward',\n    cnDescriptor: '负载均衡实例类型',\n    link: '',\n    type: 'select',\n    list: ForwardTypes,\n  },\n  {\n    key: 'Domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '域名，腾讯云为负载均衡实例分配的域名，本参数仅对传统型公网负载均衡才有意义',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancer Vips',\n    cnDescriptor: '负载均衡实例的 VIP 地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivate Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的内网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPublicIps',\n    enDescriptor: 'BackendPublic Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的外网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '负载均衡实例所属的项目 ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '负载均衡实例所属私有网络',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroup',\n    enDescriptor: 'Security Group',\n    cnDescriptor: '安全组ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'MasterZone',\n    enDescriptor: 'Master Zone',\n    cnDescriptor: '主可用区ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'WithRs',\n    enDescriptor: 'WithRs',\n    cnDescriptor: '负载均衡是否绑定后端服务',\n    link: '',\n    type: 'select',\n    list: WithRs,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/214/30685',\n  namespace,\n  fieldDescriptor: VCLBFilterFieldsDescriptor,\n};\nconst LBFields = {\n  LoadBalancerIds: [],\n  Forward: undefined,\n  LoadBalancerName: '',\n  Domain: '',\n  LoadBalancerVips: [],\n  BackendPublicIps: [],\n  BackendPrivateIps: [],\n  Limit: 20,\n  Offset: 0,\n  ProjectId: undefined,\n  WithRs: {},\n  VpcId: '',\n  SecurityGroup: '',\n  MasterZone: '',\n  OrderBy: {},\n  OrderType: {},\n};\n\nconst VCLB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  Port: '',\n  Protocol: '',\n  listener: '',\n  // listenerAlias: 'ListenerId',\n  queries: LBFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nconst clbNamespaceMap = {\n  public: 'QCE/LB_PUBLIC',\n  private: 'QCE/LB_PRIVATE',\n};\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\nexport default VCLB_STATE;\nexport {\n  VCLBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VCLBInstanceAliasList,\n  VCLBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  clbNamespaceMap,\n  modifyDimensons,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMLBGetInstanceQueryParams,\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__26__;","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CYNOSDB_MYSQL';\n\n// 按照驼峰方式命名，和SERVICES保持一致，abcDeF会成为angular组件名字<abc-de-f-query />\nconst queryEditorName = 'cynosdbMysqlQuery';\n\nconst cynosdbMysqlFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  OrderBy: {},\n  OrderByType: {},\n  InstanceIds: [],\n  DbType: {},\n  // Status: '',\n};\n\nconst cynosdbMysqlFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 1000,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '实例id列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '创建时间', value: 'CREATETIME' },\n      { text: '过期时间', value: 'PERIODENDTIME' },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '升序', value: 'ASC' },\n      { text: '降序', value: 'DESC' },\n    ],\n  },\n  {\n    key: 'DbType',\n    enDescriptor: 'DbType',\n    cnDescriptor: '引擎类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'MYSQL', value: 'MYSQL' },\n      { text: 'POSTGRESQL', value: 'POSTGRESQL' },\n    ],\n  },\n  // {\n  //   key: 'Status',\n  //   enDescriptor: 'Status',\n  //   cnDescriptor: '实例状态',\n  //   link: '',\n  //   type: 'input',\n  // },\n];\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n];\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1003/48334',\n  namespace,\n  fieldDescriptor: cynosdbMysqlFilterFieldsDescriptor,\n};\n\nconst CYNOSDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: cynosdbMysqlFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// 和文件名字一样CYNOSDBMYSQL\nconst CYNOSDBMYSQLInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\nconst CYNOSDBInvalidDemensions = {\n  instanceid: 'InstanceId',\n  instanceId: 'InstanceId',\n};\nconst checkKeys = ['instanceId'];\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\n\nexport default CYNOSDB_STATE;\nexport {\n  cynosdbMysqlFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CYNOSDBMYSQLInstanceAliasList,\n  CYNOSDBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  checkKeys,\n  // params前缀为service的全大写\n  GetInstanceQueryParams as CYNOSDBMYSQLGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nexport const SCFQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '支持FunctionName模糊匹配',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Namespace',\n    enDescriptor: 'Namespace',\n    cnDescriptor: '云函数命名空间',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Description',\n    enDescriptor: 'Description',\n    cnDescriptor: '函数描述，支持模糊搜索',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'AddTime', value: 'AddTime' },\n      { text: 'ModTime', value: 'ModTime' },\n      { text: 'FunctionName', value: 'FunctionName' },\n    ],\n  },\n  {\n    key: 'Order',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'ASC', value: 'ASC' },\n      { text: 'DESC', value: 'DESC' },\n    ],\n  },\n  // {\n  //   key: 'Filters',\n  //   enDescriptor: 'Filters',\n  //   cnDescriptor: '按照标签键值对进行过滤',\n  //   link: '',\n  //   type: 'dropdownmulti',\n  // },\n];\n\nconst SCF_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'FunctionName',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    OrderBy: {},\n    Order: {},\n    SearchKey: '',\n    Namespace: '',\n    Description: '',\n    // Filters:  {},\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst SCFInstanceAliasList = ['FunctionId', 'FunctionName'];\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nconst SCFInvalidDemensions = {\n  functionName: 'FunctionName',\n  namespace: 'Namespace',\n  version: 'Version',\n};\n\nconst templateQueryIdMap = {\n  instance: 'FunctionName',\n  version: 'Version',\n};\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  version: 'version',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  Version: {\n    dim_KeyInStorage: keyInStorage.version,\n    dim_KeyInTarget: 'version',\n    dim_KeyInMap: templateQueryIdMap.version,\n  },\n};\nexport default SCF_STATE;\nexport {\n  SCFInstanceAliasList,\n  SCFInvalidDemensions,\n  queryMonitorExtraConfg,\n  regionSupported,\n  templateQueryIdMap,\n  keyInStorage,\n  GetInstanceQueryParams as SCFGetInstanceQueryParams,\n};\n\n// monitor监控数据默认支持的维度\nexport const SCFDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/CLS';\nconst queryEditorName = 'clsQuery';\n\nconst CLSInvalidDemensions = {\n  // instanceid: 'TopicId',\n};\n\n// 需和文件名对应\nconst CLSInstanceAliasList = ['TopicId', 'TopicName'];\n\nconst templateQueryIdMap = {\n  instance: 'TopicId',\n};\n\n// 需要缓存到storage的内容的key列表\n// const keyInStorage = {\n//   fleet: 'fleet', // 实例队列\n//   queue: 'queueName', // 会话队列\n// };\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\n// const queryMonitorExtraConfg = {\n//   FleetId: {\n//     dim_KeyInStorage: keyInStorage.fleet,\n//     dim_KeyInTarget: 'FleetId',\n//     dim_KeyInMap: templateQueryIdMap.FleetId,\n//   },\n//   Name: {\n//     dim_KeyInStorage: keyInStorage.queue,\n//     dim_KeyInTarget: 'Name',\n//     dim_KeyInMap: templateQueryIdMap.Name,\n//   },\n// };\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst CLSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  topicName: [],\n  topicId: [],\n  logsetName: [],\n  logsetId: [],\n  tagKey: [],\n  'tag:tagKey': [],\n  storageType: {},\n};\n\nconst CLSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'topicName',\n    enDescriptor: 'topicName',\n    cnDescriptor: '日志主题名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'topicId',\n    enDescriptor: 'topicId',\n    cnDescriptor: '日志主题ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'logsetName',\n    enDescriptor: 'logsetName',\n    cnDescriptor: '日志集名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'logsetId',\n    enDescriptor: 'logsetId',\n    cnDescriptor: '日志集ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'tag:tagKey',\n    enDescriptor: 'tag - tagKey',\n    cnDescriptor: '标签键值对',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'storageType',\n    enDescriptor: 'storageType',\n    cnDescriptor: '日志主题的存储类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '实时存储', value: 'hot' },\n      { text: '离线存储', value: 'cold' },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/614/56454',\n  namespace,\n  fieldDescriptor: CLSFilterFieldsDescriptor,\n};\n\nconst CLS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TopicId',\n  uin: '',\n  queries: CLSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    // item.Dimensions = item.Dimensions.map((v) => CLSInvalidDemensions[v] || v);\n    item.Dimensions = ['uin', 'TopicId'];\n  });\n  return metricTmp;\n}\nexport default CLS_STATE;\nexport {\n  CLSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CLSInstanceAliasList,\n  CLSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  // queryMonitorExtraConfg,\n  // fleetId,\n  // keyInStorage,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CLSGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/SQLSERVER';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'sqlserverQuery';\n\nconst SQLSERVERInvalidDemensions = {\n  resourceId: 'InstanceId',\n};\n\nconst SQLSERVERInstanceAliasList = ['InstanceId', 'Name'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst SQLSERVERNETFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ProjectId: null,\n  Status: {},\n  InstanceIdSet: [],\n  PayMode: {},\n  VpcId: '',\n  SubnetId: '',\n  VipSet: [],\n  InstanceNameSet: [],\n  VersionSet: [],\n  Zone: '',\n};\n\nconst SQLSERVERNETFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '申请中', value: 1 },\n      { text: '运行中', value: 2 },\n      { text: '受限运行中 (主备切换中)', value: 3 },\n      { text: '已隔离', value: 4 },\n      { text: '回收中', value: 5 },\n      { text: '已回收', value: 6 },\n      { text: '任务执行中', value: 7 },\n      { text: '已下线', value: 8 },\n      { text: '实例扩容中', value: 9 },\n      { text: '实例迁移中', value: 10 },\n      { text: '只读', value: 11 },\n      { text: '重启中', value: 12 },\n    ],\n  },\n  {\n    key: 'InstanceIdSet',\n    enDescriptor: 'InstanceIdSet',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'PayMode',\n    enDescriptor: 'PayMode',\n    cnDescriptor: '子网实例ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '包年包月', value: 1 },\n      { text: '按量计费', value: 0 },\n    ],\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '实例所属VPC的唯一字符串ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '实例所属子网的唯一字符串ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VipSet',\n    enDescriptor: 'VipSet',\n    cnDescriptor: '实例内网地址列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'InstanceNameSet',\n    enDescriptor: 'InstanceNameSet',\n    cnDescriptor: '实例名称列表, 模糊查询',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'VersionSet',\n    enDescriptor: 'VersionSet',\n    cnDescriptor: '实例版本代号列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '实例可用区',\n    link: '',\n    type: 'dropdown',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/238/19969',\n  namespace,\n  fieldDescriptor: SQLSERVERNETFilterFieldsDescriptor,\n};\n\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-seoul' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-moscow' },\n  { value: 'na-siliconvalley' },\n];\nconst SQLSERVER_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: SQLSERVERNETFilterFields,\n};\n\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['resourceId'];\n  });\n  return metricTmp;\n}\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default SQLSERVER_STATE;\nexport {\n  SQLSERVERNETFilterFieldsDescriptor,\n  templateQueryIdMap,\n  SQLSERVERInstanceAliasList,\n  SQLSERVERInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  // 对应产品的service的全大写拼接InstanceQueryParams\n  GetInstanceQueryParams as SQLSERVERGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_INTRA_LB';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'bmIntraLbQuery';\n\nconst BMINTRALBInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n  vpcId: 'VpcId',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst BMINTRALBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst BMINTRALBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n};\n\nconst BMINTRALBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: '负载均衡器ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '负载均衡器名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: '负载均衡获得的公网IP地址',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1027/33280',\n  namespace,\n  fieldDescriptor: BMINTRALBFilterFieldsDescriptor,\n};\n\nconst BMINTRALB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: BMINTRALBFilterFields,\n};\nconst BMLBValidMetricsT = ['Inpkg', 'Outpkg', 'Intraffic', 'Outtraffic', 'Connum', 'Req'];\nfunction isValidMetric(metric) {\n  const validMetrics = _.map(BMLBValidMetricsT, _.toUpper);\n  return _.indexOf(validMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default BMINTRALB_STATE;\nexport {\n  BMINTRALBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMINTRALBInstanceAliasList,\n  BMINTRALBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMINTRALBGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_LB';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'bmLbQuery';\n\nconst CPMInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst BMLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst CPMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n};\n\nconst CPMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: '负载均衡器ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '负载均衡器名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: '负载均衡获得的公网IP地址',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1027/33280',\n  namespace,\n  fieldDescriptor: CPMFilterFieldsDescriptor,\n};\n\nconst CPM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: CPMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nconst BMLBValidMetricsT = ['Inpkg', 'Outpkg', 'Intraffic', 'Outtraffic', 'Connum', 'Req'];\nfunction isValidMetric(metric) {\n  const validMetrics = _.map(BMLBValidMetricsT, _.toUpper);\n  return _.indexOf(validMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nexport default CPM_STATE;\nexport {\n  CPMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMLBInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMLBGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_PCX';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'bmPcxQuery';\n\nconst BMPCXInvalidDemensions = {\n  peeringConnectionId: 'VpcPeerConnectionId',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst BMPCXInstanceAliasList = ['VpcPeerConnectionId', 'VpcPeerConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpcPeerConnectionId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst BMPCXFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  VpcPeerConnectionIds: [],\n};\n\nconst BMPCXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'VpcPeerConnectionIds',\n    enDescriptor: 'VpcPeerConnectionIds',\n    cnDescriptor: '对等连接实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/product/1024/36903',\n  namespace,\n  fieldDescriptor: BMPCXFilterFieldsDescriptor,\n};\n\nconst BMPCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpcPeerConnectionId',\n  queries: BMPCXFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['peeringConnectionId'];\n  });\n  return metricTmp;\n}\nexport default BMPCX_STATE;\nexport {\n  BMPCXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMPCXInstanceAliasList,\n  BMPCXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMPCXGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/BLOCK_STORAGE';\nconst queryEditorName = 'cbsQuery';\n\nconst CBSInvalidDemensions = {\n  diskId: 'DiskId',\n  InstanceId: 'InstanceId',\n  diskname: 'DiskName',\n  unInstanceId: 'InstanceId',\n};\n\nconst CBSInstanceAliasList = ['DiskId', 'DiskName'];\n\nconst templateQueryIdMap = {\n  instance: 'DiskId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst CBSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DiskIds: [],\n  OrderField: [],\n  Order: [],\n  ReturnBindAutoSnapshotPolicy: false,\n};\n\nconst CBSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DiskIds',\n    enDescriptor: 'DiskIds',\n    cnDescriptor: '云硬盘ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Order',\n    enDescriptor: 'Order',\n    cnDescriptor: '排列顺序',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '升序排列', value: 'ASC' },\n      { text: '降序排列', value: 'DESC' },\n    ],\n  },\n  {\n    key: 'OrderField',\n    enDescriptor: 'OrderField',\n    cnDescriptor: '排序的依据字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '云盘的创建时间排序', value: 'CREATE_TIME' },\n      { text: '云盘的到期时间排序', value: 'DEADLINE' },\n    ],\n  },\n  {\n    key: 'ReturnBindAutoSnapshotPolicy',\n    enDescriptor: 'ReturnBindAutoSnapshotPolicy',\n    cnDescriptor: '否需要返回云盘绑定的定期快照策略ID',\n    link: '',\n    type: 'switch',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/362/16315',\n  namespace,\n  fieldDescriptor: CBSFilterFieldsDescriptor,\n};\n\nconst CBS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DiskId',\n  queries: CBSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n  return dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1;\n}\nexport default CBS_STATE;\nexport {\n  CBSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CBSInstanceAliasList,\n  CBSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  GetInstanceQueryParams as CBSGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CDN_LOG_DATA';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'cdnProvinceQuery';\n\nconst CDNPROVINCEInvalidDemensions = {\n  domain: 'Domain',\n  // isp: 'Isp',\n  projectid: 'ProjectId',\n  province: 'district',\n  appid: 'AppId',\n};\n\n// 需和文件名对应\nconst CDNPROVINCEInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst CDNPROVINCEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst CDNPROVINCEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst CDNPROVINCE_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  // Isp Province分别在两个接口，单独保存在state\n  isp: '',\n  district: '',\n  queries: CDNPROVINCEFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// const regionSupported = [\n//   { text: '华北地区(北京)', value: 'ap-beijing' },\n//   { text: '西南地区(成都)', value: 'ap-chengdu' },\n//   { text: '西南地区(重庆)', value: 'ap-chongqing' },\n//   { text: '华南地区(广州)', value: 'ap-guangzhou' },\n//   { text: '港澳台地区(中国香港)', value: 'ap-hongkong' },\n//   { text: '亚太南部(孟买)', value: 'ap-mumbai' },\n//   { text: '华东地区(南京)', value: 'ap-nanjing' },\n//   { text: '华东地区(上海)', value: 'ap-shanghai' },\n//   { text: '华东地区(上海金融)', value: 'ap-shanghai-fsi' },\n//   { text: '华南地区(深圳金融)', value: 'ap-shenzhen-fsi' },\n//   { text: '亚太东南(新加坡)', value: 'ap-singapore' },\n//   { text: '亚太东北(东京)', value: 'ap-tokyo' },\n//   { text: '欧洲地区(法兰克福)', value: 'eu-frankfurt' },\n//   { text: '美国东部(弗吉尼亚)', value: 'na-ashburn' },\n//   { text: '美国西部(硅谷)', value: 'na-siliconvalley' },\n//   { text: '北美地区(多伦多)', value: 'na-toronto' },\n// ];\nexport default CDNPROVINCE_STATE;\nexport {\n  CDNPROVINCEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CDNPROVINCEInstanceAliasList,\n  CDNPROVINCEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  // regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CDNPROVINCEGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CEIP_SUMMARY';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'ceipSummaryQuery';\n\nconst CEIPInvalidDemensions = {\n  vip: 'AddressIp',\n  eip: 'AddressIp',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst CEIPSUMMARYInstanceAliasList = ['AddressId', 'AddressName', 'AddressIp'];\n\nconst templateQueryIdMap = {\n  instance: 'AddressId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst CEIPFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'address-id': [],\n  'address-name': [],\n  'address-ip': [],\n  'address-status': {},\n  'is-arrears': {},\n  'address-isp': {},\n  'instance-id': [],\n  'private-ip-address': [],\n  'network-interface-id': [],\n};\n\nconst CEIPFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'address-id',\n    enDescriptor: 'address-id',\n    cnDescriptor: ' EIP 的唯一 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-name',\n    enDescriptor: 'address-name',\n    cnDescriptor: 'EIP 名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-ip',\n    enDescriptor: 'address-ip',\n    cnDescriptor: 'EIP 的 IP 地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-status',\n    enDescriptor: 'address-status',\n    cnDescriptor: 'EIP 的状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'CREATING', value: 'CREATING' },\n      { text: 'BINDING', value: 'BINDING' },\n      { text: 'BIND', value: 'BIND' },\n      { text: 'UNBINDING', value: 'UNBINDING' },\n      { text: 'UNBIND', value: 'UNBIND' },\n      { text: 'OFFLINING', value: 'OFFLINING' },\n      { text: 'BIND_ENI', value: 'BIND_ENI' },\n    ],\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: 'EIP 绑定的实例 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'private-ip-address',\n    cnDescriptor: 'EIP 绑定的内网 IP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'network-interface-id',\n    enDescriptor: 'network-interface-id',\n    cnDescriptor: ' EIP 绑定的弹性网卡 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'is-arrears',\n    enDescriptor: 'is-arrears',\n    cnDescriptor: 'EIP 是否欠费',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '欠费状态', value: 'TRUE' },\n      { text: '费用状态正常', value: 'FALSE' },\n    ],\n  },\n  {\n    key: 'address-isp',\n    enDescriptor: 'address-isp',\n    cnDescriptor: '运营商类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'BGP', value: 'BGP' },\n      { text: 'CMCC', value: 'CMCC' },\n      { text: 'CUCC', value: 'CUCC' },\n      { text: 'CTCC', value: 'CTCC' },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/16702',\n  namespace,\n  fieldDescriptor: CEIPFilterFieldsDescriptor,\n};\n\nconst CEIP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'AddressId',\n  queries: CEIPFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['eip'];\n  });\n  return metricTmp;\n}\nexport default CEIP_STATE;\nexport {\n  CEIPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CEIPSUMMARYInstanceAliasList,\n  CEIPInvalidDemensions,\n  namespace,\n  queryEditorName,\n  modifyDimensons,\n  queryEditorConfig,\n  GetInstanceQueryParams as CEIPSUMMARYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { FildDescriptorType } from '../_base/types';\n\nexport const InstanceQueryDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'TopicName',\n    enDescriptor: 'TopicName',\n    cnDescriptor: '精确匹配TopicName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '标签搜索',\n    link: '',\n    type: 'input',\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nexport const InvalidDemensions = {\n  topicId: 'TopicId',\n};\n\n// 因为cmq那边，以TopciName为主键\nexport const templateQueryIdMap = {\n  instance: 'TopicName',\n  subscription: 'SubscriptionId',\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  subscriptionId: 'subscriptionId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  subscriptionId: {\n    dim_KeyInStorage: keyInStorage.subscriptionId,\n    dim_KeyInTarget: 'subscriptionId',\n    dim_KeyInMap: templateQueryIdMap.subscription,\n  },\n};\n// 与名称挂钩的变量\nconst InstanceAliasList = ['TopicName', 'TopicId'];\nexport { InstanceAliasList, GetInstanceQueryParams, queryMonitorExtraConfg, keyInStorage };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TopicName',\n  subscriptionId: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    TopicName: '',\n    TagKey: '',\n  },\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/CPM';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'cpmQuery';\n\nconst CPMInvalidDemensions = {\n  instanceId: 'InstanceId',\n  // uniqid: 'InstanceId',\n};\n\nconst CPMInstanceAliasList = ['InstanceId', 'Name'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst CPMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DeviceClassCode: '',\n  InstanceIds: [],\n  WanIps: [],\n  LanIps: [],\n  Alias: '',\n  VagueIp: '',\n  AutoRenewFlag: {},\n  VpcId: '',\n  SubnetId: '',\n  DeviceType: {},\n  IsLuckyDevice: {},\n};\n\nconst CPMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DeviceClassCode',\n    enDescriptor: 'DeviceClassCode',\n    cnDescriptor: '机型ID',\n    link: '',\n    type: 'dropdown',\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '设备ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'WanIps',\n    enDescriptor: 'WanIps',\n    cnDescriptor: '外网IP数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LanIps',\n    enDescriptor: 'LanIps',\n    cnDescriptor: '内网IP数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Alias',\n    enDescriptor: 'Alias',\n    cnDescriptor: '设备名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VagueIp',\n    enDescriptor: 'VagueIp',\n    cnDescriptor: '模糊IP查询',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenewFlag',\n    enDescriptor: 'AutoRenewFlag',\n    cnDescriptor: '自动续费标志',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '不自动续费', value: 0 },\n      { text: '自动续费', value: 1 },\n    ],\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络唯一ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '子网唯一ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'DeviceType',\n    enDescriptor: 'DeviceType',\n    cnDescriptor: '子网实例ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '计算型', value: 'compute' },\n      { text: '标准型', value: 'standard' },\n      { text: '存储型', value: 'storage' },\n    ],\n  },\n  {\n    key: 'IsLuckyDevice',\n    enDescriptor: 'IsLuckyDevice',\n    cnDescriptor: '竞价实例机器过滤',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '非竞价实例机器', value: 0 },\n      { text: '竞价实例的机器', value: 1 },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/386/32904',\n  namespace,\n  fieldDescriptor: CPMFilterFieldsDescriptor,\n};\n\nconst CPM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: CPMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['instanceId'];\n  });\n  return metricTmp;\n}\nexport default CPM_STATE;\nexport {\n  CPMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CPMInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CPMGetInstanceQueryParams,\n};\n","import { cloneDeep, compact, forEach, get, isArray, isEmpty, isObject, omit, uniq } from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\n\nconst namespace = 'QCE/DSA';\nconst queryEditorName = 'ecdnQuery';\n\nconst ECDNInstanceAliasList = ['Domain'];\n\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\n\nconst ECDNInvalidDemensions = {\n  domain: 'Domain',\n  projectid: 'ProjectId',\n};\n\nconst ECDN_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 100,\n    Offset: 0,\n    origin: [],\n    domain: [],\n    resourceId: [],\n    status: [],\n    disable: [],\n    projectId: [],\n    fullUrlCache: [],\n    https: [],\n    originPullProtocol: [],\n    area: [],\n    tagKey: [],\n  },\n};\n\nconst ECDNFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'Origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'ResourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'Status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'disable',\n    enDescriptor: 'Disable',\n    cnDescriptor: '域名封禁状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'normal', value: 'normal' },\n      { text: 'unlicensed', value: 'unlicensed' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'FullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'Https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'OriginPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'https', value: 'https' },\n      { text: 'follow', value: 'follow' },\n    ],\n  },\n  {\n    key: 'area',\n    enDescriptor: 'Area',\n    cnDescriptor: '加速区域',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'mainland', value: 'mainland' },\n      { text: 'overseas', value: 'overseas' },\n      { text: 'global', value: 'global' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/570/42462',\n  namespace,\n  fieldDescriptor: ECDNFilterFieldsDescriptor,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!isEmpty(queries)) {\n    params.Limit = get(queries, 'Limit', 20) || 20;\n    params.Offset = get(queries, 'Offset', 0) || 0;\n    const _queries = omit(queries, ['Offset', 'Limit']);\n    const Filters: any[] = [];\n    forEach(_queries, (item: any, key) => {\n      if (isArray(item)) {\n        item = compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: uniq(item).slice(0, 5) });\n        }\n      } else if (isObject(item)) {\n        if (!isEmpty(get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: [get(item, 'value', [])].slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters.map((item) => {\n        if (item.Name === 'domain') {\n          return { ...item, Fuzzy: true };\n        }\n        return item;\n      });\n      return params;\n    }\n  }\n  return params;\n}\n\nfunction modifyDimensons(metricItem) {\n  const metricTmp = cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['domain', 'projectid'];\n  });\n  return metricTmp;\n}\n\nexport default ECDN_STATE;\n\nexport {\n  ECDNFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECDNInstanceAliasList,\n  ECDNInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECDNGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM';\nconst queryEditorName = 'ecmQuery';\n\nconst ECMInvalidDemensions = {\n  // diskId: 'InstanceId',\n  uuid: 'UUID',\n  // unInstanceId: 'InstanceId',\n};\n\nconst ECMInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst ECMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  zone: [],\n  'zone-name': [],\n  'module-id': [],\n  'module-name': [],\n  'instance-id': [],\n  'instance-name': [],\n  'ip-address': [],\n  'instance-uuid': [],\n  'instance-state': {},\n  'internet-service-provider': [],\n  'instance-family': [],\n  'image-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n};\n\nconst ECMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'zone',\n    cnDescriptor: '可用区英文标识',\n    link: '',\n    type: 'dropdownMulti',\n  },\n  {\n    key: 'zone-name',\n    enDescriptor: 'zone-name',\n    cnDescriptor: '排列顺序',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-id',\n    enDescriptor: 'module-id',\n    cnDescriptor: '模块ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-name',\n    enDescriptor: 'module-name',\n    cnDescriptor: '模块名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'instance-name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ip-address',\n    enDescriptor: 'ip-address',\n    cnDescriptor: '内网/公网IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-uuid',\n    enDescriptor: 'instance-uuid',\n    cnDescriptor: '实例uuid',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'instance-state',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '创建中', value: 'PENDING' },\n      { text: '创建失败', value: 'LAUNCH_FAILED' },\n      { text: '运行中', value: 'RUNNING' },\n      { text: '关机', value: 'STOPPED' },\n      { text: '开机中', value: 'STARTING' },\n      { text: '关机中', value: 'STOPPING' },\n      { text: '重启中', value: 'REBOOTING' },\n      { text: '停止待销毁', value: 'SHUTDOWN' },\n      { text: '销毁中', value: 'TERMINATING' },\n    ],\n  },\n  {\n    key: 'internet-service-provider',\n    enDescriptor: 'internet-service-provider',\n    cnDescriptor: '公网IP所属的运营商',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-family',\n    enDescriptor: 'instance-family',\n    cnDescriptor: '机型family',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'image-id',\n    enDescriptor: 'image-id',\n    cnDescriptor: '镜像ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: '实例的vpc id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: '实例的subnet id',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/42565',\n  namespace,\n  fieldDescriptor: ECMFilterFieldsDescriptor,\n};\n\nconst ECM_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: ECMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// function isValidMetric(metricObj: any = {}) {\n//   const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n//   // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n//   return dimension.length === 1 &&( _.indexOf(dimension, 'UUID') !== -1 || _.indexOf(dimension, 'uuid') !== -1);\n// }\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['UUID'];\n  });\n  return metricTmp;\n}\nexport default ECM_STATE;\nexport {\n  ECMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMInstanceAliasList,\n  ECMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECMGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nconst namespace = 'QCE/POSTGRES';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'postgresQuery';\n\nconst PostgresFields = {\n  'db-instance-id': [],\n  'db-instance-name': [],\n};\n\nconst PostgresFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'db-instance-id',\n    enDescriptor: 'DB Instance ID',\n    cnDescriptor: 'DB 实例ID',\n    link: '',\n    type: 'inputMulti',\n    min: 0,\n  },\n  {\n    key: 'db-instance-name',\n    enDescriptor: 'DB Instance Name',\n    cnDescriptor: 'DB 实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/409/16773',\n  namespace,\n  fieldDescriptor: PostgresFieldsDescriptor,\n};\nconst POSTGRESInstanceAliasList = ['DBInstanceId', 'DBInstanceName'];\n\nconst POSTGRES_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DBInstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...PostgresFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['resourceId'];\n  });\n  return metricTmp;\n}\nconst PostgreInvalidDemensions = {\n  uid: 'DBInstanceId',\n  resourceId: 'DBInstanceId',\n};\nconst templateQueryIdMap = {\n  instance: 'DBInstanceId',\n};\nexport default POSTGRES_STATE;\n\nexport {\n  PostgresFieldsDescriptor,\n  POSTGRESInstanceAliasList,\n  templateQueryIdMap,\n  modifyDimensons,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  PostgreInvalidDemensions,\n  GetInstanceQueryParams as POSTGRESGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPC_NET_DETECT';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'vpcNetDetectQuery';\n\nconst VPCNETInvalidDemensions = {\n  netdetectid: 'NetDetectId',\n  netDetectId: 'NetDetectId',\n};\n\nconst VPCNETDETECTInstanceAliasList = ['NetDetectId', 'NetDetectName'];\n\nconst templateQueryIdMap = {\n  instance: 'NetDetectId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst VPCNETFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'net-detect-id': [],\n  'subnet-id': [],\n  'net-detect-name': [],\n};\n\nconst VPCNETFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPC实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'net-detect-id',\n    enDescriptor: 'net-detect-id',\n    cnDescriptor: '网络探测实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: '子网实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'net-detect-name',\n    enDescriptor: 'net-detect-name',\n    cnDescriptor: '网络探测名称',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/38696',\n  namespace,\n  fieldDescriptor: VPCNETFilterFieldsDescriptor,\n};\n\nconst VPCNET_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'NetDetectId',\n  queries: VPCNETFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['netDetectId'];\n  });\n  return metricTmp;\n}\nexport default VPCNET_STATE;\nexport {\n  VPCNETFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPCNETDETECTInstanceAliasList,\n  VPCNETInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as VPCNETDETECTGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/WAF';\nconst queryEditorName = 'wafQuery';\nconst WAFFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst WAFFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/228/41118',\n  namespace,\n  fieldDescriptor: WAFFilterFieldsDescriptor,\n};\nconst WAF_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: WAFFilterFields,\n};\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n];\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n\nconst WAFInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst WAFInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default WAF_STATE;\nexport {\n  WAFFilterFieldsDescriptor,\n  templateQueryIdMap,\n  WAFInstanceAliasList,\n  WAFInvalidDemensions,\n  namespace,\n  regionSupported,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as WAFGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nconst InstanceTypes = [\n  { text: '主实例', value: 1 },\n  { text: '备灾实例', value: 2 },\n  { text: '只读实例', value: 3 },\n];\n\nconst Status = [\n  { text: '创建中', value: 0 },\n  { text: '运行中', value: 1 },\n  { text: '隔离中', value: 4 },\n  { text: '已隔离', value: 5 },\n];\n\nconst PayTypes = [\n  { text: '包年包月', value: 0 },\n  { text: '小时计费', value: 1 },\n];\n\nconst TaskStatus = [\n  { text: '没有任务', value: 0 },\n  { text: '升级中', value: 1 },\n  { text: '数据导入中', value: 2 },\n  { text: '开放Slave中', value: 3 },\n  { text: '外网访问开通中', value: 4 },\n  { text: '批量操作执行中', value: 5 },\n  { text: '回档中', value: 6 },\n  { text: '外网访问关闭中', value: 7 },\n  { text: '密码修改中', value: 8 },\n  { text: '实例名修改中', value: 9 },\n  { text: '重启中', value: 10 },\n  { text: '自建迁移中', value: 12 },\n  { text: '删除库表中', value: 13 },\n  { text: '灾备实例创建同步中', value: 14 },\n  { text: '升级待切换', value: 15 },\n  { text: '升级切换中', value: 16 },\n  { text: '升级切换完成', value: 17 },\n];\n\nconst EngineVersions = [\n  { text: '5.1', value: '5.1' },\n  { text: '5.5', value: '5.5' },\n  { text: '5.6', value: '5.6' },\n  { text: '5.7', value: '5.7' },\n];\n\nconst OrderBy = [\n  { text: 'InstanceId', value: 'InstanceId' },\n  { text: 'InstanceName', value: 'InstanceName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'DeadlineTime', value: 'DeadlineTime' },\n];\n\nconst OrderDirection = [\n  { text: 'ASC', value: 'ASC' },\n  { text: 'DESC', value: 'DESC' },\n];\n\nconst InitFlag = [\n  { text: '未初始化', value: 0 },\n  { text: '初始化', value: 1 },\n];\n\nconst CdbErrors = [\n  { text: '未锁定', value: 0 },\n  { text: '锁定', value: 1 },\n];\n\nconst CDBFields = {\n  ProjectId: '',\n  InstanceTypes: {},\n  Vips: [],\n  Status: {},\n  Offset: 0,\n  Limit: 20,\n  SecurityGroupId: '',\n  PayTypes: {},\n  InstanceNames: [],\n  TaskStatus: {},\n  EngineVersions: {},\n  VpcIds: [],\n  ZoneIds: [],\n  SubnetIds: [],\n  CdbErrors: {},\n  OrderBy: {},\n  OrderDirection: {},\n  InstanceIds: [],\n  InitFlag: {},\n};\n\nconst CDBFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceNames',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ZoneIds',\n    enDescriptor: 'Zone ID',\n    cnDescriptor: '可用区的ID',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'InstanceTypes',\n    enDescriptor: 'Instance Type',\n    cnDescriptor: '实例类型',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: InstanceTypes,\n  },\n  {\n    key: 'EngineVersions',\n    enDescriptor: 'Engine Version',\n    cnDescriptor: '实例数据库引擎版本',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: EngineVersions,\n  },\n  {\n    key: 'TaskStatus',\n    enDescriptor: 'Task Status',\n    cnDescriptor: '实例任务',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: TaskStatus,\n  },\n  {\n    key: 'InitFlag',\n    enDescriptor: 'Init Flag',\n    cnDescriptor: '实例初始化状态',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: InitFlag,\n  },\n  {\n    key: 'PayTypes',\n    enDescriptor: 'Pay Type',\n    cnDescriptor: '付费类型',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: PayTypes,\n  },\n  {\n    key: 'CdbErrors',\n    enDescriptor: 'CDB Errors',\n    cnDescriptor: '实例锁定标记',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: CdbErrors,\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderDirection',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderDirection,\n  },\n  {\n    key: 'Vips',\n    enDescriptor: 'Vip',\n    cnDescriptor: '实例内网IP地址',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '私有网络ID',\n    link: 'https://cloud.tencent.com/document/api/215/15778',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'Subnet ID',\n    cnDescriptor: '子网ID',\n    link: 'https://cloud.tencent.com/document/api/215/15784',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '项目ID',\n    link: 'https://cloud.tencent.com/document/product/378/4400',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroupId',\n    enDescriptor: 'Security Group ID',\n    cnDescriptor: '安全组ID',\n    link: 'https://cloud.tencent.com/document/api/236/15854',\n    type: 'input',\n  },\n];\n\nconst CDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...CDBFields },\n};\n\nconst CDBInstanceAliasList = ['InstanceId', 'InstanceName', 'Vip'];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  return (\n    dimension.length === 2 &&\n    ((_.indexOf(dimension, 'instanceid') !== -1 && _.indexOf(dimension, 'insttype') !== -1) ||\n      (_.indexOf(dimension, 'InstanceId') !== -1 && _.indexOf(dimension, 'InstanceType') !== -1))\n  );\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((i) => CDBInvalidDemensions[i] || i);\n  });\n  return metricTmp;\n}\nconst CDBInvalidDemensions = {\n  instanceid: 'InstanceId',\n  insttype: 'InstanceType',\n  region: 'Region',\n};\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default CDB_STATE;\n\nexport {\n  CDBFieldsDescriptor,\n  CDBInstanceAliasList,\n  templateQueryIdMap,\n  CDBInvalidDemensions,\n  isValidMetric,\n  modifyDimensons,\n  GetInstanceQueryParams as CDBGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CES';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'cesQuery';\n\nconst CESInvalidDemensions = {\n  uInstanceId: 'InstanceId',\n};\n\nconst CESInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst CESFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceIds: [],\n  InstanceNames: [],\n  OrderByKey: {},\n  OrderByType: {},\n  IpList: [],\n};\n\nconst CESFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '集群实例ID列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'InstanceNames',\n    enDescriptor: 'InstanceNames',\n    cnDescriptor: '集群实例名称列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'OrderByKey',\n    enDescriptor: 'OrderByKey',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '实例ID', value: 1 },\n      { text: '实例名称', value: 2 },\n      { text: '可用区', value: 3 },\n      { text: '创建时间', value: 4 },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '升序', value: 0 },\n      { text: '降序', value: 1 },\n    ],\n  },\n  {\n    key: 'IpList',\n    enDescriptor: 'IpList',\n    cnDescriptor: '私有网络vip列表',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/845/30631',\n  namespace,\n  fieldDescriptor: CESFilterFieldsDescriptor,\n};\n\nconst CES_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: CESFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default CES_STATE;\nexport {\n  CESFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CESInstanceAliasList,\n  CESInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CESGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DC';\nconst queryEditorName = 'dcQuery';\n\nconst DCFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DirectConnectIds: [],\n};\n\nconst DCFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DirectConnectIds',\n    enDescriptor: 'DirectConnectIds',\n    cnDescriptor: '物理专线 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/216/34826',\n  namespace,\n  fieldDescriptor: DCFilterFieldsDescriptor,\n};\n\nconst DC_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectId',\n  queries: DCFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nconst DCInstanceAliasList = ['DirectConnectId', 'DirectConnectName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectId',\n};\n\nconst DCInvalidDemensions = {\n  directConnectId: 'DirectConnectId',\n  directconnectid: 'DirectConnectId',\n};\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['directConnectId'];\n  });\n  return metricTmp;\n}\nexport default DC_STATE;\nexport {\n  DCFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCInstanceAliasList,\n  DCInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as DCGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DCG';\nconst queryEditorName = 'dcgQuery';\n\nconst DCGInvalidDemensions = {\n  directConnectGatewayId: 'DirectConnectGatewayId',\n};\n\nconst DCGInstanceAliasList = ['DirectConnectGatewayId', 'DirectConnectGatewayName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectGatewayId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst DCGFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'direct-connect-gateway-id': [],\n  'direct-connect-gateway-name': [],\n  'direct-connect-gateway-ip': [],\n  'gateway-type': {},\n  'network-type': {},\n  'ccn-id': [],\n  'vpc-id': [],\n};\n\nconst DCGFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'direct-connect-gateway-id',\n    enDescriptor: 'direct-connect-gateway-id',\n    cnDescriptor: '专线网关唯一ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-gateway-name',\n    enDescriptor: 'direct-connect-gateway-name',\n    cnDescriptor: '专线网关名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-gateway-ip',\n    enDescriptor: 'direct-connect-gateway-ip',\n    cnDescriptor: '专线网关IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'gateway-type',\n    enDescriptor: 'gateway-type',\n    cnDescriptor: '网关类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '普通型', value: 'NORMAL' },\n      { text: 'NAT型', value: 'NAT' },\n    ],\n  },\n  {\n    key: 'network-type',\n    enDescriptor: 'network-type',\n    cnDescriptor: '网络类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '私有网络类型', value: 'VPC' },\n      { text: '云联网类型', value: 'CCN' },\n    ],\n  },\n  {\n    key: 'ccn-id',\n    enDescriptor: 'ccn-id',\n    cnDescriptor: '专线网关所在云联网ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: '专线网关所在私有网络ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/30644',\n  namespace,\n  fieldDescriptor: DCGFilterFieldsDescriptor,\n};\n\nconst DCG_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectGatewayId',\n  queries: DCGFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default DCG_STATE;\nexport {\n  DCGFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCGInstanceAliasList,\n  DCGInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as DCGGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DCX';\nconst queryEditorName = 'dcxQuery';\n\nconst DCXFilterFields = {\n  'direct-connect-tunnel-name': [],\n  'direct-connect-tunnel-id': [],\n  'direct-connect-id': [],\n};\n\nconst DCXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'direct-connect-tunnel-name',\n    enDescriptor: 'direct-connect-tunnel-name',\n    cnDescriptor: '专用通道名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-tunnel-id',\n    enDescriptor: 'direct-connect-tunnel-id',\n    cnDescriptor: '专用通道实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-id',\n    enDescriptor: 'direct-connect-id',\n    cnDescriptor: '物理专线实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/216/19819',\n  namespace,\n  fieldDescriptor: DCXFilterFieldsDescriptor,\n};\n\nconst DCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectTunnelId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    ...DCXFilterFields,\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n\nconst DCXInstanceAliasList = ['DirectConnectTunnelId', 'DirectConnectTunnelName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectTunnelId',\n};\n\nconst DCXInvalidDemensions = {\n  directconnectconnid: 'DirectConnectTunnelId',\n  directConnectConnId: 'DirectConnectTunnelId',\n};\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['directConnectConnId'];\n  });\n  return metricTmp;\n}\nexport default DCX_STATE;\nexport {\n  DCXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCXInstanceAliasList,\n  DCXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as DCXGetInstanceQueryParams,\n};\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM_LB';\nconst queryEditorName = 'ecmLbQuery';\n\nconst ECMLBInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n};\n\nconst ECMLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst ECMLBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n  BackendPrivateIps: [],\n  VpcId: '',\n};\n\nconst ECMLBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: '负载均衡器ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '负载均衡器名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: '负载均衡获得的公网IP地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivateIps',\n    cnDescriptor: '绑定的后端服务的内网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '实例所属私有网络唯一ID',\n    link: '',\n    type: 'input',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/48459',\n  namespace,\n  fieldDescriptor: ECMLBFilterFieldsDescriptor,\n};\n\nconst ECM_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: ECMLBFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// function isValidMetric(metricObj: any = {}) {\n//   const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n//   // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n//   return dimension.length === 1 &&( _.indexOf(dimension, 'UUID') !== -1 || _.indexOf(dimension, 'uuid') !== -1);\n// }\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    // item.Dimensions = ['UUID'];\n  });\n  return metricTmp;\n}\nexport default ECM_STATE;\nexport {\n  ECMLBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMLBInstanceAliasList,\n  ECMLBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECMLBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst InstanceTypes = [\n  { text: '所有实例', value: 0 },\n  { text: '正式实例', value: 1 },\n  { text: '临时实例', value: 2 },\n  { text: '只读实例', value: 3 },\n  { text: '正式，只读，灾备实例', value: -1 },\n];\n\nconst ClusterTypes = [\n  { text: '副本集实例', value: 0 },\n  { text: '分片实例', value: 1 },\n  { text: '所有实例', value: -1 },\n];\n\nconst Status = [\n  { text: '待初始化', value: 0 },\n  { text: '流程执行中', value: 1 },\n  { text: '实例有效', value: 2 },\n  { text: '实例已过期', value: -2 },\n];\n\nconst PayMode = [\n  { text: '按量计费', value: 0 },\n  { text: '包年包月', value: 1 },\n  { text: '按量包年包月计费', value: -1 },\n];\n\nconst OrderBy = [\n  { text: 'ProjectId', value: 'ProjectId' },\n  { text: 'InstanceName', value: 'InstanceName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n];\n\nconst OrderByType = [\n  { text: '升序', value: 'ASC' },\n  { text: '降序', value: 'DESC' },\n];\n\nconst MongoDBFields = {\n  InstanceIds: [],\n  InstanceType: {},\n  ClusterType: {},\n  Status: [],\n  VpcId: '',\n  SubnetId: '',\n  PayMode: {},\n  Limit: 20,\n  Offset: 0,\n  OrderBy: '',\n  OrderByType: '',\n};\n\nconst MONGODBFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstancesIds',\n    cnDescriptor: '实例名称',\n    type: 'inputmulti',\n  },\n  {\n    key: 'InstanceType',\n    enDescriptor: 'InstanceType',\n    cnDescriptor: '实例类型',\n    link: '',\n    type: 'select',\n    list: InstanceTypes,\n  },\n  {\n    key: 'ClusterType',\n    enDescriptor: 'ClusterType',\n    cnDescriptor: '集群类型',\n    link: '',\n    type: 'select',\n    list: ClusterTypes,\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络的ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '私有网络的子网ID，基础网络则不传该参数。入参设置该参数的同时，必须设置相应的VpcId',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'PayMode',\n    enDescriptor: 'PayMode',\n    cnDescriptor: '付费类型',\n    link: '',\n    type: 'select',\n    list: PayMode,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderByType,\n  },\n];\n\nconst MONGODB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...MongoDBFields },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select 单选\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst MONGODBInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst MONGODBInvalidDemensions = {\n  target: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  replica: 'ReplicaSetId',\n};\n\nconst queryMonitorExtraConfg = {\n  Replica: {\n    dim_KeyInStorage: 'ReplicaSets',\n    dim_KeyInTarget: 'replica',\n    dim_KeyInMap: 'ReplicaSetId',\n    dim_KeyInIns: 'ReplicaSetId',\n  },\n  Node: {\n    dim_KeyInStorage: 'ReplicaNodeSets',\n    dim_KeyInTarget: 'node',\n    dim_KeyInMap: 'NodeId',\n    dim_KeyInIns: 'NodeId',\n  },\n};\nexport default MONGODB_STATE;\nexport {\n  MONGODBFieldsDescriptor,\n  MONGODBInvalidDemensions,\n  MONGODBInstanceAliasList,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n  GetInstanceQueryParams as MONGODBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/QAAP';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'qaapQuery';\n\nconst QAAPInvalidDemensions = {\n  channelId: 'InstanceId',\n};\n\nconst QAAPInstanceAliasList = ['InstanceId'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst QAAPFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ProjectId: [],\n  AccessRegion: [],\n  RealServerRegion: [],\n  GroupId: [],\n};\n\nconst QAAPFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'AccessRegion',\n    enDescriptor: 'AccessRegion',\n    cnDescriptor: '接入地域',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'RealServerRegion',\n    enDescriptor: 'RealServerRegion',\n    cnDescriptor: '源站地域',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'GroupId',\n    enDescriptor: 'GroupId',\n    cnDescriptor: '通道组ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/608/36963',\n  namespace,\n  fieldDescriptor: QAAPFilterFieldsDescriptor,\n};\n\nconst QAAP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: QAAPFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  // metricTmp.Dimensions.forEach((item) => {\n  //   item.Dimensions = ['netDetectId'];\n  // });\n  return metricTmp;\n}\nexport default QAAP_STATE;\nexport {\n  QAAPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  QAAPInstanceAliasList,\n  QAAPInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as QAAPGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/TCAPLUS';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'tcaplusQuery';\n\nconst TCAPLUSInvalidDemensions = {\n  // TableInstanceId: 'TableInstanceId',\n  // ClusterId: 'ClusterId',\n};\n\n// 需和文件名对应\nconst TCAPLUSInstanceAliasList = ['TableInstanceId', 'TableName'];\n\nconst templateQueryIdMap = {\n  instance: 'TableInstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst TCAPLUSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ClusterId: '',\n  TableGroupIds: [],\n\n  TableName: '',\n  TableInstanceId: '',\n  TableIdlType: {},\n  TableType: {},\n  ListElementNum: null,\n  ReservedVolume: null,\n  ReservedReadQps: null,\n  ReservedWriteQps: null,\n  Memo: '',\n  FileName: '',\n  FileExtType: '',\n  FileSize: null,\n  FileContent: '',\n};\n\nconst TCAPLUSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ClusterId',\n    enDescriptor: 'ClusterId',\n    cnDescriptor: '表格所属集群ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableGroupIds',\n    enDescriptor: 'TableGroupIds',\n    cnDescriptor: '表格组ID列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'TableName',\n    enDescriptor: 'TableName',\n    cnDescriptor: '表格名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableInstanceId',\n    enDescriptor: 'TableInstanceId',\n    cnDescriptor: '表实例ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableIdlType',\n    enDescriptor: 'TableIdlType',\n    cnDescriptor: '表格描述语言类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'PROTO', value: 'PROTO' },\n      { text: 'TDR', value: 'TDR' },\n    ],\n  },\n  {\n    key: 'TableType',\n    enDescriptor: 'TableType',\n    cnDescriptor: '表格数据结构类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'GENERIC', value: 'GENERIC' },\n      { text: 'LIST', value: 'LIST' },\n    ],\n  },\n  {\n    key: 'ListElementNum',\n    enDescriptor: 'ListElementNum',\n    cnDescriptor: 'LIST表元素个数',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedVolume',\n    enDescriptor: 'ReservedVolume',\n    cnDescriptor: '表格预留容量（GB）',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedReadQps',\n    enDescriptor: 'ReservedReadQps',\n    cnDescriptor: '表格预留读CU',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedWriteQps',\n    enDescriptor: 'ReservedWriteQps',\n    cnDescriptor: '表格预留写CU',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'Memo',\n    enDescriptor: 'Memo',\n    cnDescriptor: '表格备注信息',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileName',\n    enDescriptor: 'FileName',\n    cnDescriptor: 'Key回档文件名，回档专用',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileExtType',\n    enDescriptor: 'FileExtType',\n    cnDescriptor: 'Key回档文件扩展名，回档专用',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileSize',\n    enDescriptor: 'FileSize',\n    cnDescriptor: 'Key回档文件大小，回档专用',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'FileContent',\n    enDescriptor: 'FileContent',\n    cnDescriptor: 'Key回档文件内容，回档专用',\n    link: '',\n    type: 'input',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/596/39664',\n  namespace,\n  fieldDescriptor: TCAPLUSFilterFieldsDescriptor,\n};\n\nconst TCAPLUS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TableInstanceId',\n  queries: TCAPLUSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  params.Limit = _.get(queries, 'Limit', 20) || 20;\n  params.Offset = _.get(queries, 'Offset', 0) || 0;\n  params.ClusterId = _.get(queries, 'ClusterId', '') || '';\n  params.TableGroupIds = _.get(queries, 'TableGroupIds', []) || [];\n  queries = _.omit(queries, ['Offset', 'Limit', 'TableGroupIds', 'ClusterId']);\n  const SelectedTables: any[] = [];\n  _.forEach(queries, (item: any, key) => {\n    if (_.isArray(item)) {\n      item = _.compact(item);\n      if (item.length > 0) {\n        SelectedTables[key] = _.uniq(item);\n      }\n    } else if (_.isObject(item)) {\n      if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n        SelectedTables[key] = _.get(item, 'value');\n      }\n    } else if (_.isNumber(item) || !_.isEmpty(item)) {\n      SelectedTables[key] = item;\n    }\n  });\n  params.SelectedTables = SelectedTables;\n  return params;\n}\n// 和其他产品的展示保持一致\nconst regonsMap = {\n  'ap-beijing': '华北地区(北京)',\n  'ap-guangzhou': '华南地区(广州)',\n  'ap-hongkong': '港澳台地区(中国香港)',\n  'ap-seoul': '亚太东北(首尔)',\n  'ap-shanghai': '华东地区(上海)',\n  'ap-singapore': '亚太东南(新加坡)',\n  'ap-tokyo': '亚太东北(东京)',\n  'eu-frankfurt': '欧洲地区(法兰克福)',\n  'na-ashburn': '美国东部(弗吉尼亚)',\n  'na-siliconvalley': '美国西部(硅谷)',\n};\nexport default TCAPLUS_STATE;\nexport {\n  TCAPLUSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TCAPLUSInstanceAliasList,\n  TCAPLUSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regonsMap,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TCAPLUSGetInstanceQueryParams,\n};\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VBC';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'vbcQuery';\n\nconst VBCInvalidDemensions = {\n  // CcnId: 'CcnId',\n};\n\n// 需和文件名对应\nconst VBCInstanceAliasList = ['CcnId', 'CcnName'];\n\nconst templateQueryIdMap = {\n  instance: 'CcnId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst VBCFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'ccn-id': [],\n  'ccn-name': [],\n  'ccn-description': [],\n  state: {},\n};\n\nconst VBCFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ccn-id',\n    enDescriptor: 'ccn-id',\n    cnDescriptor: 'CCN实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ccn-name',\n    enDescriptor: 'ccn-name',\n    cnDescriptor: 'CCN名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ccn-description',\n    enDescriptor: 'ccn-description',\n    cnDescriptor: 'CCN描述',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'state',\n    enDescriptor: 'state',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '隔离中', value: 'ISOLATED' },\n      { text: '运行中', value: 'AVAILABLE' },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/19199',\n  namespace,\n  fieldDescriptor: VBCFilterFieldsDescriptor,\n};\n\nconst VBC_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'CcnId',\n  DRegion: '',\n  SRegion: '',\n  queries: VBCFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// const regionSupported = [\n//   { text: '华北地区(北京)', value: 'ap-beijing' },\n//   { text: '西南地区(成都)', value: 'ap-chengdu' },\n//   { text: '西南地区(重庆)', value: 'ap-chongqing' },\n//   { text: '华南地区(广州)', value: 'ap-guangzhou' },\n//   { text: '港澳台地区(中国香港)', value: 'ap-hongkong' },\n//   { text: '亚太南部(孟买)', value: 'ap-mumbai' },\n//   { text: '华东地区(南京)', value: 'ap-nanjing' },\n//   { text: '华东地区(上海)', value: 'ap-shanghai' },\n//   { text: '华东地区(上海金融)', value: 'ap-shanghai-fsi' },\n//   { text: '华南地区(深圳金融)', value: 'ap-shenzhen-fsi' },\n//   { text: '亚太东南(新加坡)', value: 'ap-singapore' },\n//   { text: '亚太东北(东京)', value: 'ap-tokyo' },\n//   { text: '欧洲地区(法兰克福)', value: 'eu-frankfurt' },\n//   { text: '美国东部(弗吉尼亚)', value: 'na-ashburn' },\n//   { text: '美国西部(硅谷)', value: 'na-siliconvalley' },\n//   { text: '北美地区(多伦多)', value: 'na-toronto' },\n// ];\nexport default VBC_STATE;\nexport {\n  VBCFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VBCInstanceAliasList,\n  VBCInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  // regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as VBCGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPNGW';\nconst queryEditorName = 'vpngwQuery';\n\nconst VPNGWInvalidDemensions = {\n  vpnGwId: 'VpnGatewayId',\n};\n\nconst VPNGWInstanceAliasList = ['VpnGatewayId', 'VpnGatewayName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpnGatewayId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst VPNGWFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'vpn-gateway-id': [],\n  'vpn-gateway-name': [],\n  type: {},\n  'public-ip-address': [],\n  'renew-flag': {},\n  zone: [],\n};\n\nconst VPNGWFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPC实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-id',\n    enDescriptor: 'vpn-gateway-id',\n    cnDescriptor: 'VPN实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-name',\n    enDescriptor: 'vpn-gateway-name',\n    cnDescriptor: 'VPN实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'type',\n    enDescriptor: 'type',\n    cnDescriptor: 'VPN网关类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'IPSEC', value: 'IPSEC' },\n      { text: 'SSL', value: 'SSL' },\n    ],\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'public-ip-address',\n    cnDescriptor: '公网IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'renew-flag',\n    enDescriptor: 'renew-flag',\n    cnDescriptor: '网关续费类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '手动续费', value: 'NOTIFY_AND_MANUAL_RENEW' },\n      { text: '自动续费', value: 'NOTIFY_AND_AUTO_RENEW' },\n    ],\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'zone',\n    cnDescriptor: 'VPN所在可用区',\n    link: '',\n    type: 'dropdownMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/17514',\n  namespace,\n  fieldDescriptor: VPNGWFilterFieldsDescriptor,\n};\n\nconst VPNGW_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpnGatewayId',\n  queries: VPNGWFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default VPNGW_STATE;\nexport {\n  VPNGWFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPNGWInstanceAliasList,\n  VPNGWInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as VPNGWGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPNX';\nconst queryEditorName = 'vpnxQuery';\n\nconst VPNXInvalidDemensions = {\n  vpnConnId: 'VpnConnectionId',\n};\n\nconst VPNXInstanceAliasList = ['VpnConnectionId', 'VpnConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpnConnectionId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst VPNXFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'vpn-gateway-id': [],\n  'customer-gateway-id': [],\n  'vpn-connection-name': [],\n  'vpn-connection-id': [],\n};\n\nconst VPNXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPC实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-id',\n    enDescriptor: 'vpn-gateway-id',\n    cnDescriptor: 'VPN实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'customer-gateway-id ',\n    enDescriptor: 'customer-gateway-id ',\n    cnDescriptor: '对端网关实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-connection-name',\n    enDescriptor: 'vpn-connection-name',\n    cnDescriptor: '通道名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-connection-id',\n    enDescriptor: 'vpn-connection-id',\n    cnDescriptor: '通道实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/17515',\n  namespace,\n  fieldDescriptor: VPNXFilterFieldsDescriptor,\n};\n\nconst VPNX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpnConnectionId',\n  queries: VPNXFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default VPNX_STATE;\nexport {\n  VPNXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPNXInstanceAliasList,\n  VPNXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as VPNXGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nconst LighthouseStateType = [\n  { text: '创建中', value: 'PENDING' },\n  { text: '创建失败', value: 'LAUNCH_FAILED' },\n  { text: '运行中', value: 'RUNNING' },\n  { text: '关机', value: 'STOPPED' },\n  { text: '开机中', value: 'STARTING' },\n  { text: '关机中', value: 'STOPPING' },\n  { text: '重启中', value: 'REBOOTING' },\n  { text: '停止待销毁', value: 'SHUTDOWN' },\n  { text: '销毁中', value: 'TERMINATING' },\n];\n\nconst LighthouseFilterFields = {\n  zone: [],\n  'instance-name': [],\n  'instance-state': {},\n  'private-ip-address': [],\n  'public-ip-address': [],\n};\n\nconst LighthouseFilterFieldsDescriptor = [\n  {\n    key: 'instance-name',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: '实例主网卡的内网IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'Public IP Address',\n    cnDescriptor: '实例主网卡的公网IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '可用区',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'Instance State',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    list: LighthouseStateType,\n  },\n];\n\nconst LIGHTHOUSE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    InstanceIds: [''],\n    Filters: { ...LighthouseFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst LIGHTHOUSEInstanceAliasList = ['InstanceId', 'InstanceName', 'PrivateIpAddresses', 'PublicIpAddresses'];\n\nconst LighthouseInvalidDemensions = {\n  instanceid: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\n\nexport default LIGHTHOUSE_STATE;\n\nexport {\n  LighthouseFilterFieldsDescriptor,\n  LIGHTHOUSEInstanceAliasList,\n  LighthouseInvalidDemensions,\n  templateQueryIdMap,\n  modifyDimensons,\n  GetInstanceQueryParams as LIGHTHOUSEGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\nexport const CFSQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'FileSystemId',\n    enDescriptor: 'File System Id',\n    cnDescriptor: '文件系统 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络（VPC） ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '子网 ID',\n    link: '',\n    type: 'input',\n  },\n];\n\nconst CFS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'FileSystemId',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    FileSystemId: '',\n    VpcId: '',\n    SubnetId: '',\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst CFSInstanceAliasList = ['FileSystemId', 'FsName'];\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nconst CFSInvalidDemensions = {\n  // functionName: 'FunctionName',\n  // namespace: 'Namespace'\n};\n\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-seoul' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default CFS_STATE;\nexport {\n  CFSInstanceAliasList,\n  CFSInvalidDemensions,\n  templateQueryIdMap,\n  regionSupported,\n  GetInstanceQueryParams as CFSGetInstanceQueryParams,\n};\n\n// monitor监控数据默认支持的维度\n// export const SCFDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import _ from 'lodash';\nimport { FildDescriptorType } from '../_base/types';\n\nexport const InstanceQueryDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'QueueName',\n    enDescriptor: 'QueueName',\n    cnDescriptor: '精确匹配QueueName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '标签搜索',\n    link: '',\n    type: 'input',\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nexport const InvalidDemensions = {\n  queueId: 'QueueId',\n  queueName: 'QueueName',\n};\n\nexport const templateQueryIdMap = {\n  instance: 'QueueName',\n};\n\n// 与名称挂钩的变量\nconst InstanceAliasList = ['QueueName', 'QueueId'];\nexport { InstanceAliasList, GetInstanceQueryParams };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'QueueName',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    QueueName: '',\n    TagKey: '',\n  },\n};\n","import _ from 'lodash';\nconst instanceChargeTypes = [\n  { text: '预付费', value: 'PREPAID' },\n  { text: '后付费', value: 'POSTPAID_BY_HOUR' },\n  { text: 'CDH付费', value: 'CDHPAID' },\n];\n\nconst CVMFilterFields = {\n  zone: [],\n  'project-id': [],\n  'host-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n  'instance-id': [],\n  'security-group-id': [],\n  'instance-name': [],\n  'instance-charge-type': {},\n  'private-ip-address': [],\n  'public-ip-address': [],\n  'tag-key': [],\n};\n\nconst CVMFilterFieldsDescriptor = [\n  {\n    key: 'zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '可用区',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'project-id',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '项目ID',\n    link: 'https://cloud.tencent.com/document/api/378/4400',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'host-id',\n    enDescriptor: 'CDH ID',\n    cnDescriptor: 'CDH ID',\n    link: 'https://cloud.tencent.com/document/product/416/19730',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC ID',\n    cnDescriptor: 'VPC ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'Subnet ID',\n    cnDescriptor: '子网ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'security-group-id',\n    enDescriptor: 'Security Group ID',\n    cnDescriptor: '安全组ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'tag-key',\n    enDescriptor: '标签简',\n    cnDescriptor: '标签简',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-charge-type',\n    enDescriptor: 'Instance Charge Type',\n    cnDescriptor: '实例计费模式',\n    link: '',\n    type: 'select',\n    list: instanceChargeTypes,\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: '实例主网卡的内网IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'Public IP Address',\n    cnDescriptor: '实例主网卡的公网IP，包含实例创建时自动分配的IP和实例创建后手动绑定的弹性IP',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst CVM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    InstanceIds: [''],\n    Filters: { ...CVMFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst CVMInstanceAliasList = ['InstanceId', 'InstanceName', 'PrivateIpAddresses', 'PublicIpAddresses'];\n\nconst CVMValidMetricsT = [\n  'CPUUsage',\n  'CpuLoadavg',\n  'Cpuloadavg5m',\n  'Cpuloadavg15m',\n  'BaseCpuUsage',\n  'GpuMemTotal',\n  'GpuMemUsage',\n  'GpuMemUsed',\n  'GpuPowDraw',\n  'GpuPowLimit',\n  'GpuPowUsage',\n  'GpuTemp',\n  'GpuUtil',\n  'LanOuttraffic',\n  'LanIntraffic',\n  'LanOutpkg',\n  'LanInpkg',\n  'WanOuttraffic',\n  'WanIntraffic',\n  'WanOutpkg',\n  'WanInpkg',\n  'AccOuttraffic',\n  'TcpCurrEstab',\n  'TimeOffset',\n  'MemUsed',\n  'MemUsage',\n  'CvmDiskUsage',\n  'BaseCpuUsage',\n  'VmDiskReadIops',\n];\n// const CVMInvalidDemensions = {\n//   'vm_uuid': 'InstanceId',\n//   'vmUuid': 'InstanceId',\n// };\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nfunction isValidMetric(metric) {\n  const CVMValidMetrics = _.map(CVMValidMetricsT, _.toUpper);\n  return _.indexOf(CVMValidMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\nexport default CVM_STATE;\nexport {\n  CVMFilterFieldsDescriptor,\n  CVMInstanceAliasList,\n  isValidMetric,\n  modifyDimensons,\n  templateQueryIdMap,\n  // CVMInvalidDemensions,\n  GetInstanceQueryParams as CVMGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst namespace = 'QCE/PCX';\n\nconst PCXFields = {\n  limit: 20,\n  offset: 0,\n  peeringConnectionId: '',\n  peeringConnectionName: '',\n  vpcId: '',\n  state: undefined,\n};\n\nconst PCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'peeringConnectionId',\n  queries: { ...PCXFields },\n};\n\nconst StateTypes = [\n  { text: '申请中', value: 0 },\n  { text: '连接成功', value: 1 },\n  { text: '已过期', value: 2 },\n  { text: '对端已拒绝', value: 3 },\n  { text: '对端已删除', value: 4 },\n];\n\nconst PCXFieldsDescriptor = [\n  {\n    key: 'offset',\n    enDescriptor: 'offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'limit',\n    enDescriptor: 'limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为50',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'peeringConnectionId',\n    enDescriptor: 'PeeringConnection Id',\n    cnDescriptor: '私有网络对等连接 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'peeringConnectionName',\n    enDescriptor: 'PeeringConnection Name',\n    cnDescriptor: '对等连接名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'vpcId',\n    enDescriptor: 'vpcId',\n    cnDescriptor: '发起方私有网络 ID 值',\n    link: 'https://cloud.tencent.com/document/api/215/1372',\n    type: 'dropdown',\n  },\n  {\n    key: 'state',\n    enDescriptor: 'state',\n    cnDescriptor: '连接状态',\n    link: '',\n    type: 'select',\n    list: StateTypes,\n  },\n];\n\nconst PCXInstanceAliasList = ['peeringConnectionId', 'peeringConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'peeringConnectionId',\n};\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.limit = _.get(queries, 'limit', 20) || 20;\n    params.offset = _.get(queries, 'offset', 0) || 0;\n    queries = _.omit(queries, ['offset', 'limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nexport default PCX_STATE;\n\nexport {\n  PCXInstanceAliasList,\n  PCXFieldsDescriptor,\n  templateQueryIdMap,\n  namespace,\n  GetInstanceQueryParams as PCXGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst BillingMode = [\n  { text: '按量计费', value: 'postpaid' },\n  { text: '包年包月', value: 'prepaid' },\n];\n\nconst AutoRenew = [\n  { text: '手动续费', value: 0 },\n  { text: '自动续费', value: 1 },\n  { text: '明确不自动续费', value: 2 },\n];\n\nconst Status = [\n  { text: '待初始化', value: 0 },\n  { text: '流程执行中', value: 1 },\n  { text: '运行中', value: 2 },\n  { text: '已隔离', value: -2 },\n  { text: '待删除', value: -3 },\n];\n\nconst TypeVersion = [\n  { text: '单机版', value: 1 },\n  { text: '主从版', value: 2 },\n  { text: '集群版', value: 3 },\n];\n\nconst OrderBy = [\n  { text: 'projectId', value: 'projectId' },\n  { text: 'instancename', value: 'instancename' },\n  { text: 'createtime', value: 'createtime' },\n  { text: 'type', value: 'type' },\n  { text: 'curDeadline', value: 'curDeadline' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\nconst Type = [\n  { text: 'Redis老集群版', value: 1 },\n  { text: 'Redis 2.8主从版', value: 2 },\n  { text: 'CKV主从版', value: 3 },\n  { text: 'CKV集群版', value: 4 },\n  { text: 'Redis 2.8单机版', value: 5 },\n  { text: 'Redis 4.0主从版', value: 6 },\n  { text: 'Redis 4.0集群版', value: 7 },\n  { text: 'Redis5.0主从版', value: 8 },\n  { text: 'Redis5.0集群版', value: 9 },\n];\n\nconst RedisFields = {\n  InstanceId: '',\n  OrderBy: '',\n  OrderType: null,\n  VpcIds: [],\n  SubnetIds: [],\n  ProjectIds: [],\n  SearchKey: '',\n  InstanceName: '',\n  UniqVpcIds: [],\n  UniqSubnetIds: [],\n  Status: [],\n  TypeVersion: null,\n  EngineName: '',\n  AutoRenew: null,\n  BillingMode: '',\n  Type: null,\n};\n\nconst RedisFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstancesId',\n    cnDescriptor: '实例id',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderType',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'VpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：47525',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'SubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：56854',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: '项目ID 组成的数组',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '查找实例的ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'InstanceName',\n    enDescriptor: 'InstanceName',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'UniqVpcIds',\n    enDescriptor: 'UniqVpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：vpc-sad23jfdfk',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'UniqSubnetIds',\n    enDescriptor: 'UniqSubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：subnet-fdj24n34j2',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'TypeVersion',\n    enDescriptor: 'TypeVersion',\n    cnDescriptor: '类型版本',\n    link: '',\n    type: 'select',\n    list: TypeVersion,\n  },\n  {\n    key: 'EngineName',\n    enDescriptor: 'EngineName',\n    cnDescriptor: '引擎信息：Redis-2.8，Redis-4.0，CKV',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenew',\n    enDescriptor: 'AutoRenew',\n    cnDescriptor: '续费模式',\n    multiple: true,\n    type: 'select',\n    list: AutoRenew,\n  },\n  {\n    key: 'BillingMode',\n    enDescriptor: 'BillingMode',\n    cnDescriptor: '计费模式：postpaid-按量计费；prepaid-包年包月',\n    link: '',\n    type: 'select',\n    list: BillingMode,\n  },\n  {\n    key: 'Type',\n    enDescriptor: 'Type',\n    cnDescriptor: '实例类型',\n    link: '',\n    type: 'select',\n    list: Type,\n  },\n];\n\nconst REDIS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...RedisFields },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select 单选\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  return dimension.length === 1 && _.indexOf(dimension, 'instanceid') !== -1;\n}\n\nconst REDISInstanceAliasList = ['InstanceId', 'InstanceName', 'WanIp'];\n\nconst RedisInvalidDemensions = {\n  redis_uuid: 'InstanceId',\n  instanceid: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default REDIS_STATE;\nexport {\n  RedisFieldsDescriptor,\n  RedisInvalidDemensions,\n  templateQueryIdMap,\n  REDISInstanceAliasList,\n  isValidMetric,\n  GetInstanceQueryParams as REDISGetInstanceQueryParams,\n};\n","import { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst ApplicationType = [\n  { text: '所有', value: '' },\n  { text: '容器应用', value: 'C' },\n  { text: '普通应用/虚拟机应用', value: 'V' },\n];\n\nconst MicroserviceType = [\n  { text: '所有', value: '' },\n  { text: '普通应用', value: 'N' },\n  { text: 'Mesh应用', value: 'M' },\n  { text: '微服务网关应用', value: 'G' },\n  { text: '原生应用', value: 'NATIVE' },\n];\n\nconst ApplicationResourceType = [\n  { text: '默认资源类型', value: 'DEF' },\n  { text: '微服务网关资源', value: 'GW' },\n];\n\nconst TSFFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'SearchWord',\n    enDescriptor: 'SearchWord',\n    cnDescriptor: '搜索关键字',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ApplicationIdList',\n    enDescriptor: 'ApplicationIdList',\n    cnDescriptor: '应用ID 组成的数组',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ApplicationType',\n    enDescriptor: 'ApplicationType',\n    cnDescriptor: '应用类型',\n    link: '',\n    type: 'select',\n    list: ApplicationType,\n  },\n  {\n    key: 'MicroserviceType',\n    enDescriptor: 'MicroserviceType',\n    cnDescriptor: '应用的微服务类型',\n    link: '',\n    type: 'select',\n    list: MicroserviceType,\n  },\n  {\n    key: 'ApplicationResourceTypeList',\n    enDescriptor: 'ApplicationResourceTypeList',\n    cnDescriptor: '应用资源类型数组',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: ApplicationResourceType,\n  },\n];\n\nconst TSF_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ApplicationId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    SearchWord: '',\n    OrderBy: '',\n    OrderType: null,\n    ApplicationType: '',\n    MicroserviceType: '',\n    ApplicationResourceTypeList: [],\n    ApplicationIdList: [],\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nconst TSFInstanceAliasList = ['ApplicationId', 'ApplicationName'];\n\nconst TSFInvalidDemensions = {\n  applicationid: 'ApplicationId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'ApplicationId',\n};\n\nexport default TSF_STATE;\nexport {\n  TSFInvalidDemensions,\n  templateQueryIdMap,\n  TSFInstanceAliasList,\n  TSFFieldsDescriptor,\n  GetInstanceQueryParams as TSFGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst networkTypes = [\n  { text: 'BGP', value: 'BGP' },\n  { text: 'SINGLEISP', value: 'SINGLEISP' },\n  { text: 'ANYCAST', value: 'ANYCAST' },\n];\n\nconst chargeTypes = [\n  { text: 'top5计费', value: 'TOP5_POSTPAID_BY_MONTH' },\n  { text: '月95计费', value: 'PERCENT95_POSTPAID_BY_MONTH' },\n];\nconst BWPFilterFields = {\n  'bandwidth-package_id': [],\n  'bandwidth-package-name': [],\n  'network-type': [],\n  'charge-type': [],\n};\n\nconst BWPFilterFieldsDescriptor = [\n  {\n    key: 'bandwidth-package_id',\n    enDescriptor: 'BandwidthPackage Id',\n    cnDescriptor: '带宽包ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'bandwidth-package-name',\n    enDescriptor: 'BandwidthPackage Name',\n    cnDescriptor: '带宽包名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'network-type',\n    enDescriptor: 'network type',\n    cnDescriptor: '带宽包类型',\n    link: '',\n    type: 'select',\n    list: networkTypes,\n  },\n  {\n    key: 'charge-type',\n    enDescriptor: 'charge type',\n    cnDescriptor: '带宽包计费类型',\n    link: '',\n    type: 'select',\n    list: chargeTypes,\n  },\n];\n\nconst BWP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'BandwidthPackageId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    BandwidthPackageIds: [''],\n    Filters: { ...BWPFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.BandwidthPackageIds)) {\n        const BandwidthPackageIds = _.compact(queries.BandwidthPackageIds);\n        if (_.uniq(BandwidthPackageIds).length > 0) {\n          params.BandwidthPackageIds = _.uniq(BandwidthPackageIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst BWPInstanceAliasList = ['BandwidthPackageId', 'BandwidthPackageName'];\n\nconst templateQueryIdMap = {\n  instance: 'BandwidthPackageId',\n};\n\nconst BWPInvalidDemensions = {\n  bandwidthPackageId: 'BandwidthPackageId',\n};\nexport default BWP_STATE;\nexport {\n  BWPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BWPInstanceAliasList,\n  BWPInvalidDemensions,\n  GetInstanceQueryParams as BWPGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst CDNFilterFields = {\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst CDNFilterFieldsDescriptor = [\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst CDN_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...CDNFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    const Filters: any[] = [];\n    _.forEach(queries.Filters, (item: any, key) => {\n      // console.log('item', item, queries);\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: _.uniq(item).slice(0, 5) });\n        }\n      } else if (_.isObject(item)) {\n        if (!_.isEmpty(_.get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: _.get(item, 'value', []).slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters;\n    }\n  }\n  return params;\n}\n\nconst CDNInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst CDNInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default CDN_STATE;\nexport {\n  CDNFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CDNInstanceAliasList,\n  CDNInvalidDemensions,\n  GetInstanceQueryParams as CDNGetInstanceQueryParams,\n};\n","import _ from 'lodash';\n\n// export const LBQueryDescriptor = [{\n//   key: 'Offset',\n//   enDescriptor: 'Offset',\n//   cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n//   link: '',\n//   type: 'inputnumber',\n//   min: 0,\n// },\n// {\n//   key: 'Limit',\n//   enDescriptor: 'Limit',\n//   cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为2000',\n//   link: '',\n//   type: 'inputnumber',\n//   min: 1,\n//   max: 2000,\n// },\n// {\n//   key: 'AddressId',\n//   enDescriptor: 'Address Id',\n//   cnDescriptor: '标识 EIP 的唯一 ID ',\n//   link: '',\n//   type: 'inputmulti',\n// }\n// ];\n\nexport const LBFilterDescriptor = [\n  {\n    key: 'address-id',\n    enDescriptor: 'Address ID',\n    cnDescriptor: 'EIP 的唯一 ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-name',\n    enDescriptor: 'Address Name',\n    cnDescriptor: 'EIP 名称 ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-ip',\n    enDescriptor: 'Address IP',\n    cnDescriptor: 'EIP 的 IP 地址 ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-status',\n    enDescriptor: 'Address Status',\n    cnDescriptor: 'EIP 的状态',\n    link: '',\n    type: 'select',\n    list: [\n      { value: 'CREATING', text: 'CREATING' },\n      { value: 'BINDING', text: 'BINDING' },\n      { value: 'BIND', text: 'BIND' },\n      { value: 'UNBINDING', text: 'UNBINDING' },\n      { value: 'UNBIND', text: 'UNBIND' },\n      { value: 'OFFLINING', text: 'OFFLINING' },\n      { value: 'BIND_ENI', text: 'BIND_ENI' },\n    ],\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: '实例ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: 'EIP 绑定的内网 IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'network-interface-id',\n    enDescriptor: 'Network Interface ID',\n    cnDescriptor: 'EIP 绑定的弹性网卡 ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'is-arrears',\n    enDescriptor: 'Arrears',\n    cnDescriptor: 'EIP 是否欠费 ',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '正常', value: 'FALSE' },\n      { text: '欠费', value: 'TRUE' },\n    ],\n  },\n];\n\n// const LBFilterFields = {\n//   \"address-id\": [],\n//   \"address-name\": [],\n//   \"address-ip\": [],\n//   \"address-status \": [],\n//   \"instance-id \": [],\n//   \"private-ip-address\": [],\n//   \"network-interface-id \": [],\n//   \"is-arrears \": [],\n// };\n\nconst InstanceKey = 'AddressIds';\nconst LB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'AddressId',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    [InstanceKey]: [''],\n    Filters: {\n      'address-id': [],\n      'address-name': [],\n      'address-ip': [],\n      'address-status ': [],\n      'instance-id ': [],\n      'private-ip-address': [],\n      'network-interface-id ': [],\n      'is-arrears ': [],\n    },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries[InstanceKey])) {\n        const InstanceIds = _.compact(queries[InstanceKey]);\n        if (_.uniq(InstanceIds).length > 0) {\n          params[InstanceKey] = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst LBInstanceAliasList = ['AddressId', 'AddressName', 'AddressIp'];\n\n// 维度eip对应于实例中的哪个字段？映射\nconst LBInvalidDemensions = {\n  eip: 'AddressIp',\n};\n\nconst templateQueryIdMap = {\n  instance: 'AddressId',\n};\n// 从monitor维度到LB实例对应字段的映射\n// export const metric2Instance = {\n//   functionName: 'FunctionName',\n//   namespace: 'Namespace'\n// };\n\nexport default LB_STATE;\nexport {\n  LBInstanceAliasList,\n  LBInvalidDemensions,\n  templateQueryIdMap,\n  GetInstanceQueryParams as LBGetInstanceQueryParams,\n};\n\n// monitor监控数据默认支持的维度\n// export const LBDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import _ from 'lodash';\n\nconst NATGATEWAYInstanceAliasList = ['NatGatewayId', 'NatGatewayName'];\n\nconst NATGatewayFilterFields = {\n  'nat-gateway-id': [],\n  'nat-gateway-name': [],\n  'vpc-id': [],\n};\n\nconst NATGatewayFilterFieldsDescriptor = [\n  {\n    key: 'nat-gateway-id',\n    enDescriptor: 'NatGateway ID',\n    cnDescriptor: 'NAT网关统一 ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'nat-gateway-name',\n    enDescriptor: 'NatGateway Name',\n    cnDescriptor: 'NatGateway Name',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC ID',\n    cnDescriptor: '私有网络 ID',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst NATGATEWAY_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'NatGatewayId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    NatGatewayIds: [''],\n    Filters: { ...NATGatewayFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.NatGatewayIds)) {\n        const NatGatewayIds = _.compact(queries.NatGatewayIds);\n        if (_.uniq(NatGatewayIds).length > 0) {\n          params.InstanceIds = _.uniq(NatGatewayIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst templateQueryIdMap = {\n  instance: 'NatGatewayId',\n};\n\nconst NATInvalidDemensions = {\n  natId: 'NatGatewayId',\n};\n\nexport default NATGATEWAY_STATE;\nexport {\n  NATGatewayFilterFieldsDescriptor,\n  NATGATEWAYInstanceAliasList,\n  templateQueryIdMap,\n  NATInvalidDemensions,\n  GetInstanceQueryParams as NATGATEWAYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nconst CDNFilterFields = {\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: [],\n  serviceType: [],\n  projectId: [],\n  domainType: [],\n  fullUrlCache: [],\n  https: [],\n  originPullProtocol: [],\n  tagKey: [],\n};\n\nconst OVCDNFilterFieldsDescriptor = [\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst OVCDN_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...CDNFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    const Filters: any[] = [];\n    _.forEach(queries.Filters, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: _.uniq(item).slice(0, 5) });\n        }\n      } else if (_.isObject(item)) {\n        if (!_.isEmpty(_.get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: _.get(item, 'value', []).slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters;\n    }\n  }\n  return params;\n}\n\nconst OVCDNInstanceAliasList = ['Domain', 'ResourceId'];\n\nconst OVCDNInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default OVCDN_STATE;\nexport {\n  OVCDNFilterFieldsDescriptor,\n  OVCDNInstanceAliasList,\n  templateQueryIdMap,\n  OVCDNInvalidDemensions,\n  GetInstanceQueryParams as OVCDNGetInstanceQueryParams,\n};\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__69__;","module.exports = __WEBPACK_EXTERNAL_MODULE__70__;","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexport var UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map\n","/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\nimport { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nvar Subscription = /*@__PURE__*/ (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._ctorUnsubscribe = true;\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _ctorUnsubscribe = _a._ctorUnsubscribe, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction(_unsubscribe)) {\n            if (_ctorUnsubscribe) {\n                this._unsubscribe = undefined;\n            }\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n","/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\n//# sourceMappingURL=Subscriber.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map\n","/** PURE_IMPORTS_START _identity PURE_IMPORTS_END */\nimport { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n","/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nvar Observable = /*@__PURE__*/ (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n","/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n","/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nexport function canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=canReportError.js.map\n","import _ from 'lodash';\n\nconst TKE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  conditions: [],\n  groupBys: '',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: true,\n    ClusterIds: [''],\n    Filters: {\n      ClusterName: [],\n      ClusterType: [],\n      ClusterStatus: [],\n      'tag-key': [],\n    },\n  },\n};\n\nconst TKEFilterFieldsDescriptor = [\n  {\n    key: 'ClusterName',\n    enDescriptor: 'Cluster Name',\n    cnDescriptor: '集群名',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ClusterType',\n    enDescriptor: 'Cluster Type',\n    cnDescriptor: '集群类型',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ClusterStatus',\n    enDescriptor: 'Cluster Status',\n    cnDescriptor: '集群状态',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Tags',\n    enDescriptor: 'Tags',\n    cnDescriptor: '标签键值对',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC',\n    cnDescriptor: 'VPC',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'tag-key',\n    enDescriptor: 'Tag Key',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'tag-value',\n    enDescriptor: 'Tag Value',\n    cnDescriptor: '标签值',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst TKEInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nexport default TKE_STATE;\n\nexport { TKEFilterFieldsDescriptor, TKEInstanceAliasList, GetInstanceQueryParams as TKEGetInstanceQueryParams };\n","import {\n  APIGATEWAYInstanceAliasList,\n  APIGATEWAYInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = APIGATEWAYInstanceAliasList;\n  InvalidDimensions = APIGATEWAYInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'apigateway',\n    action: 'DescribeServicesStatus',\n    responseField: 'ServiceSet',\n  };\n\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async getEnvironmentNameList(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeServiceEnvironmentList' }\n        );\n      },\n      {\n        ServiceId: instanceId,\n      },\n      'EnvironmentList'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'DescribeServiceEnvironmentList') {\n      const rs = await this.getEnvironmentNameList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.environmentName];\n        return {\n          text: o[this.templateQueryIdMap.environmentName],\n          value: o[this.templateQueryIdMap.environmentName],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.environmentList, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  BMINTRALBInstanceAliasList,\n  BMINTRALBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  isValidMetric,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMINTRALBInstanceAliasList;\n  InvalidDimensions = BMINTRALBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bmlb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        LoadBalancerType: 'internal',\n      }), // 设置一些请求参数的 默认值\n    },\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return item;\n        }\n        return null;\n      })\n    );\n  }\n}\n","import { BMLBInstanceAliasList, CPMInvalidDemensions, namespace, templateQueryIdMap, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMLBInstanceAliasList;\n  InvalidDimensions = CPMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bmlb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        LoadBalancerType: 'open',\n      }), // 设置一些请求参数的 默认值\n    },\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return item;\n        }\n        return null;\n      })\n    );\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n}\n","import {\n  BMPCXInstanceAliasList,\n  BMPCXInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMPCXInstanceAliasList;\n  InvalidDimensions = BMPCXInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bmvpc',\n    action: 'DescribeVpcPeerConnections',\n    responseField: 'VpcPeerConnectionSet',\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n}\n","import { BWPInstanceAliasList, BWPInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class BWPDatasource extends BaseDatasource {\n  Namespace = 'QCE/BWP';\n  InstanceAliasList = BWPInstanceAliasList;\n  InvalidDimensions = BWPInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'BandwidthPackageId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeBandwidthPackages',\n    responseField: 'BandwidthPackageSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { CBSInstanceAliasList, CBSInvalidDemensions, namespace, templateQueryIdMap, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CBSInstanceAliasList;\n  InvalidDimensions = CBSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cbs',\n    action: 'DescribeDisks',\n    responseField: 'DiskSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.filter(rawSet, isValidMetric);\n  }\n}\n","import _ from 'lodash';\nimport {\n  CDBInstanceAliasList,\n  CDBInvalidDemensions,\n  isValidMetric,\n  modifyDimensons,\n  templateQueryIdMap,\n} from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDBDatasource extends BaseDatasource {\n  Namespace = 'QCE/CDB';\n  InstanceAliasList = CDBInstanceAliasList;\n  InvalidDimensions = CDBInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'cdb',\n    action: 'DescribeDBInstances',\n    responseField: 'Items',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return modifyDimensons(item);\n        }\n        return null;\n      })\n    );\n  }\n  /**\n   * 获取 可用区\n   * @param region 地域信息\n   */\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.ZoneId, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n  // 仅对维度组合是InstanceId和InstanceType的指标，其他指标不支持\n  getDefaultInsObj(ins: string) {\n    return {\n      [templateQueryIdMap.instance]: ins,\n      InstanceType: 1,\n    };\n  }\n}\n","import _ from 'lodash';\nimport { CDNInstanceAliasList, CDNInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDNDatasource extends BaseDatasource {\n  Namespace = 'QCE/CDN';\n  InstanceAliasList = CDNInstanceAliasList;\n  InvalidDimensions = CDNInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'Domain',\n  };\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import { CDNPROVINCEInstanceAliasList, CDNPROVINCEInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CDNPROVINCEInstanceAliasList;\n  InvalidDimensions = CDNPROVINCEInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  extrasAlias = ['isp', 'district'];\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n  async getConsumerList(params: any) {\n    const { region, field } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'cdn');\n\n    // 从分页数据，获取全量数据\n    const rs = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Name: field,\n        },\n      },\n      serviceInfo.service,\n      { action: 'DescribeMapInfo' }\n    );\n    return (rs.MapInfoList || []).map((o) => {\n      return {\n        text: o.Name,\n        value: o.Name,\n      };\n    });\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    if (action === 'DescribeMapInfo') {\n      const { name: field } = query;\n      const rs = await this.getConsumerList({ region, field });\n      return rs;\n    }\n    return [];\n  }\n}\n","import {\n  CEIPSUMMARYInstanceAliasList,\n  CEIPInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CEIPSUMMARYInstanceAliasList;\n  InvalidDimensions = CEIPInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeAddresses',\n    responseField: 'AddressSet',\n    interceptor: {\n      request: (params) => {\n        const { Filters } = params;\n        if (!Filters) {\n          params.Filters = [];\n        }\n        params.Filters.push({\n          Name: 'address-type',\n          Values: ['AnycastEIP'],\n        });\n        return params;\n      }, // 设置一些请求参数的 默认值\n      // response: (data: unknown[]) =>[\n      //   {\n      //     AddressId: 'AddressId',\n      //     AddressIp: '111.22.3.4'\n      //   },\n      // ],\n    },\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  // async getInstances(region, params = {}) {\n  //   const rawSet = await super.getInstances(region, params);\n  //   return rawSet.filter((item) => item.AddressType === 'AnycastEIP');\n  // }\n\n  // async getVariableInstances(region, query = {}) {\n  //   const rawSet = await super.getVariableInstances(region, query);\n  //   return rawSet.filter((item) => item.AddressType === 'AnycastEIP');\n  // }\n}\n","import { CESInstanceAliasList, CESInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CESInstanceAliasList;\n  InvalidDimensions = CESInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'es',\n    action: 'DescribeInstances',\n    responseField: 'InstanceList',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\nimport { CFSInstanceAliasList, CFSInvalidDemensions, regionSupported } from './query_def';\nimport { t } from '../../../locale';\nexport default class CFSDatasource extends BaseDatasource {\n  InstanceKey: string;\n  Namespace: string;\n  InstanceAliasList: string[];\n  InvalidDimensions: Record<string, string>;\n  templateQueryIdMap = {\n    instance: 'FileSystemId',\n  };\n  extrasAlias = ['version'];\n  InstanceReqConfig: { service?: string | undefined; action: string; responseField: string };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n\n    this.Namespace = 'QCE/CFS';\n    this.InstanceAliasList = CFSInstanceAliasList;\n    this.InvalidDimensions = CFSInvalidDemensions;\n    this.InstanceReqConfig = {\n      service: 'cfs',\n      action: 'DescribeCfsFileSystems',\n      responseField: 'FileSystems',\n    };\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n}\n","import _, { flattenDeep } from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  CKAFKAInstanceAliasList,\n  CKAFKATopicAliasList,\n  CKAFKAInvalidDemensions,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\n\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class CKFKADatasource extends BaseDatasource {\n  Namespace = 'QCE/CKAFKA';\n  InstanceAliasList = CKAFKAInstanceAliasList;\n  TopicAliasList = CKAFKATopicAliasList;\n  InvalidDimensions = CKAFKAInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'ckafka',\n    action: 'DescribeInstances',\n    responseField: 'InstanceList',\n  };\n  extraMetricDims = ['topicId'];\n  // extrasAlias = ['topicId', 'consumerGroup', 'partition'];\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  consumerGroupCache = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getConsumerGroups(region, params) {\n    const serviceInfo = GetServiceAPIInfo(region, 'ckafka');\n    let { InstanceId, groupname = '', topicid = '' } = params;\n    groupname = this.getVariable(groupname); // 将模板转换为真实值\n    topicid = this.getVariable(topicid); // 将模板转换为真实值\n    try {\n      groupname = JSON.parse(groupname)[templateQueryIdMap.groupName];\n      topicid = JSON.parse(topicid)[templateQueryIdMap.topicId];\n    } catch (e) {}\n    let consumerGoup = this.consumerGroupCache[InstanceId];\n    if (!consumerGoup) {\n      // 从分页数据，获取全量数据\n      consumerGoup = await fetchAllFactory(\n        (data) => {\n          return this.doRequest(\n            {\n              url: this.url + serviceInfo.path,\n              data,\n            },\n            serviceInfo.service,\n            { region, action: 'DescribeConsumerGroup' }\n          );\n        },\n        _.pick(params, 'InstanceId'),\n        ['GroupListForMonitor', 'TopicListForMonitor', 'PartitionListForMonitor', 'GroupList']\n      );\n      // topick数据从DescribeTopic\n      const topicList = await fetchAllFactory(\n        (data) => {\n          return this.doRequest(\n            {\n              url: this.url + serviceInfo.path,\n              data,\n            },\n            serviceInfo.service,\n            { region, action: 'DescribeTopic' }\n          );\n        },\n        _.pick(params, 'InstanceId'),\n        ['TopicList']\n      );\n      consumerGoup[1] = flattenDeep(topicList);\n      console.log({ consumerGoup, topicList });\n      this.consumerGroupCache[InstanceId] = consumerGoup;\n    }\n\n    let [GroupList, TopicList, PartitionList, GroupDetailList] = consumerGoup;\n    // 无重复数组\n    TopicList = _.uniqBy(TopicList, (item) => (item as any).TopicId);\n    GroupList = _.uniqBy(GroupList, (item) => (item as any).GroupName);\n    PartitionList = _.uniqBy(PartitionList, (item) => (item as any).PartitionId);\n    GroupDetailList = _.uniqBy(GroupDetailList, (item) => (item as any).ConsumerGroupName);\n    // 如果传入消费者信息，consumergroupname，获取该用户的订阅信息列表\n    const SubscribedInfos = GroupDetailList.find((d) => d.ConsumerGroupName === groupname)?.SubscribedInfo || [];\n    // 这里为了兼容PartitonList格式，最后转化为数组对象的方式\n    const partitions =\n      SubscribedInfos.find((sub) => sub.TopicId === topicid)?.Partition?.map((p) => ({\n        [templateQueryIdMap.partition]: p,\n      })) || [];\n    return {\n      GroupList,\n      TopicList:\n        SubscribedInfos.length > 0\n          ? SubscribedInfos.map(({ TopicId, TopicName }) => ({ TopicId, TopicName }))\n          : TopicList,\n      PartitionList: partitions.length > 0 ? partitions : PartitionList,\n    };\n  }\n  formatTopicVarDisplay(topic: Record<string, any>, displayTpl: string | undefined, topicAlias: string) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !this.TopicAliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(topic, b);\n      });\n    }\n    return this.getAliasValue(topic, topicAlias);\n  }\n  // 查询指标下的数据\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    let { topicalias, groupname, topicid } = query;\n    const result = await this.getConsumerGroups(region, {\n      InstanceId: instance.InstanceId,\n      groupname,\n      topicid,\n    });\n    let { display } = query;\n    const { TopicList, GroupList, PartitionList } = result;\n    topicalias = this.TopicAliasList.includes(topicalias) ? topicalias : this.templateQueryIdMap.topicId;\n\n    const rs = {\n      GroupList: GroupList.map((group) => {\n        group._InstanceAliasValue = group.GroupName;\n        return {\n          text: group.GroupName,\n          value: group[templateQueryIdMap.groupName],\n        };\n      }),\n      TopicList: TopicList.map((topic) => {\n        const topicAlias = this.formatTopicVarDisplay(topic, display, topicalias);\n        topic._InstanceAliasValue = topicAlias || topic[templateQueryIdMap.topicId];\n        return {\n          text: topicAlias || topic[templateQueryIdMap.topicId],\n          value: topic[templateQueryIdMap.topicId], // 为了获取多维度的值，这里完全可以使用JSON.stringify()将整个对象放进去\n          TopicName: topic.TopicName,\n        };\n      }),\n      PartitionList: PartitionList.map((par) => {\n        par._InstanceAliasValue = par[templateQueryIdMap.partition];\n        return {\n          text: par[templateQueryIdMap.partition],\n          value: par[templateQueryIdMap.partition],\n        };\n      }),\n    };\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.TopicList, TopicList);\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.GroupList, GroupList);\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.PartitionList, PartitionList);\n    // console.log({ res1, res2, res3 });\n    // console.log({rs});\n    // 根据action返回指定的维度数据列表\n    switch (action) {\n      case 'DescribeTopicList':\n        return rs.TopicList;\n      case 'DescribeGroup':\n        return rs.GroupList;\n      case 'DescribePartion':\n        return rs.PartitionList;\n      default:\n        return [];\n    }\n  }\n\n  // async getOtherAlias(datapoints) {\n  //   let dimension;\n  //   for(let j = 0; j < datapoints.Dimensions.length; j++){\n  //     if(datapoints.Dimensions[j] !== 'InstanceName'){\n  //       dimension.push(datapoints.Dimensions[j])\n  //     }\n  //   }\n  //   console.log(dimension);\n\n  //   return dimension\n  // }\n}\n","import {\n  InstanceAliasList,\n  LOADBALANCEListenerAliasList,\n  LOADBALANCEServerAliasList,\n  LOADBALANCEVALIDDIMENSIONS,\n  templateQueryIdMap,\n  keyInStorage,\n  CANDIATEDIMENSIONS,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class DCDatasource extends BaseDatasource {\n  // Namespace = namespace;\n  InstanceAliasList = InstanceAliasList;\n  ListenerAliasList = LOADBALANCEListenerAliasList;\n  ServerAliasList = LOADBALANCEServerAliasList;\n  CandiateDimensions = CANDIATEDIMENSIONS;\n  // InvalidDimensions = LOADBALANCEVALIDDIMENSIONS;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  // InstanceReqConfig = {\n  //   service: 'clb',\n  //   action: 'DescribeLoadBalancers',\n  //   responseField: 'LoadBalancerSet',\n  // };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getInvalidDimensions(selfIns: any, tagret: any) {\n    if (selfIns.service === 'lbPrivate' || (selfIns.service === 'lbPublic' && tagret.servers))\n      return { ...LOADBALANCEVALIDDIMENSIONS, vpcId: 'NumericalVpcId' };\n    return LOADBALANCEVALIDDIMENSIONS;\n  }\n  getInstanceReqConfig(selfIns: any) {\n    const res: any = {\n      service: 'clb',\n      action: 'DescribeLoadBalancers',\n      responseField: 'LoadBalancerSet',\n    };\n    if (selfIns.service === 'lbPrivate' || selfIns.service === 'loadBalance') {\n      res.interceptor = {\n        request: (param) => ({ ...param, LoadBalancerType: 'INTERNAL' }),\n      };\n    }\n    if (selfIns.service === 'lbPublic') {\n      res.interceptor = {\n        request: (param) => ({ ...param, LoadBalancerType: 'OPEN' }),\n      };\n    }\n    return res;\n  }\n  async getListenerList(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'clb');\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeListeners' }\n        );\n      },\n      {\n        LoadBalancerId: instanceId,\n      },\n      'Listeners'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  formatVariableDisplay(data: Record<string, any>, displayTpl: string | undefined, alias: string, aliasList: string[]) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !aliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(data, b);\n      });\n    }\n    return this.getAliasValue(data, alias);\n  }\n  async getServerList(params: any) {\n    const { region, instanceId, listenerId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'clb');\n\n    const res = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { LoadBalancerId: instanceId, ListenerIds: [listenerId] },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeTargets' }\n    );\n    const { Listeners } = res;\n    const serversList = _.reduce(\n      Listeners,\n      (prev, item) => {\n        const { Rules, Targets } = item;\n        if (!_.isEmpty(Rules)) {\n          return _.concat(prev, _.flatten(_.map(Rules, (elem) => (_.isEmpty(elem.Targets) ? [] : elem.Targets))));\n        }\n        if (!_.isEmpty(Targets)) {\n          return _.concat(prev, Targets);\n        }\n        return prev;\n      },\n      []\n    );\n    return serversList;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const { display } = query;\n    if (action === 'DescribeListeners') {\n      const rs = await this.getListenerList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      let { listeneralias } = query;\n      listeneralias = this.ListenerAliasList.includes(listeneralias) ? listeneralias : this.templateQueryIdMap.listener;\n      const result = rs.flatMap((o) => {\n        const listenAlias = this.formatVariableDisplay(o, display, listeneralias, this.ListenerAliasList);\n        const lisId = o[this.templateQueryIdMap.listener];\n        o._InstanceAliasValue = listenAlias || lisId;\n        // if (!o[listeneralias]) return [];\n        return {\n          text: listenAlias || lisId,\n          value: lisId,\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.listener, rs);\n      return result;\n    }\n    if (action === 'DescribeServer' || action === 'DescribeServerPort') {\n      const { listenerid, serverprivateip, serveralias } = query;\n      const serverPrivateIp = this.getVariable(serverprivateip);\n      const serversList = await this.getServerList({\n        region,\n        instanceId: instance[this.templateQueryIdMap.instance],\n        listenerId: this.getVariable(listenerid),\n      });\n      const serverAlias = this.ServerAliasList.includes(serveralias) ? serveralias : this.templateQueryIdMap.servers;\n      const result = _.chain(serversList)\n        .filter((item) => {\n          if (action === 'DescribeServer') {\n            return true;\n          }\n          return serverPrivateIp === _.get(item, 'PrivateIpAddresses.0');\n        })\n        .map((item) => {\n          const alias = this.formatVariableDisplay(item, display, serverAlias, this.ServerAliasList);\n          const id = item[this.templateQueryIdMap.servers][0];\n          item._InstanceAliasValue = alias || id;\n          return action === 'DescribeServer'\n            ? {\n                text: alias || id,\n                value: id,\n              }\n            : {\n                text: `${_.get(item, 'Port')}`,\n                value: _.get(item, 'Port'),\n              };\n        })\n        .value();\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.servers, serversList);\n      return action === 'DescribeServer' ? result : _.uniqBy(result, 'text');\n    }\n    return [];\n  }\n}\n","import {\n  CLSInstanceAliasList,\n  CLSInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CLSInstanceAliasList;\n  InvalidDimensions = CLSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cls',\n    action: 'DescribeTopics',\n    responseField: 'Topics',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  // async getInstances(region, params = {}) {\n  //   const superRes = await super.getInstances(region, params);\n  //   console.log({ superRes });\n  // }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n}\n","import { BaseDatasource } from '../_base/datasource';\nimport { InvalidDemensions, InstanceAliasList, templateQueryIdMap } from './query_def';\n\nexport default class CmqDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'cmq',\n    action: 'DescribeQueueDetail',\n    responseField: 'QueueSet',\n  };\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawMetric = await super.getMetrics(region);\n    return rawMetric.map((metric) => {\n      let dims = metric.Dimensions[0].Dimensions;\n      dims = Array.from(new Set([...dims, 'queueId', 'queueName']));\n      metric.Dimensions[0].Dimensions = dims;\n      return metric;\n    });\n  }\n}\n","import { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  InvalidDemensions,\n  InstanceAliasList,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class CmqTopicDatasource extends BaseDatasource {\n  Namespace = 'QCE/CMQTOPIC';\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'cmq',\n    action: 'DescribeTopicDetail',\n    responseField: 'TopicSet',\n  };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  extraMetricDims = ['subscriptionId']; // 多选\n\n  async fetchAllSubscription(region: string, params: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'cmq');\n    // console.log(serviceInfo, 'serviceinfo');\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeSubscriptionDetail' }\n        );\n      },\n      params,\n      'SubscriptionSet'\n    );\n\n    return rs[0];\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    let result;\n    switch (action) {\n      case 'DescribeSubscriptionDetail':\n        result = await this.fetchAllSubscription(region, { TopicName: instance.TopicName });\n        // eslint-disable-next-line no-case-declarations\n        const rs = result.map((item) => {\n          item._InstanceAliasValue = item.SubscriptionId;\n          return { text: item.SubscriptionId, value: item[templateQueryIdMap.subscription] };\n        });\n        await instanceStorage.setExtraStorage(this.service, this.keyInStorage.subscriptionId, result);\n        return rs;\n      default:\n        return [];\n    }\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawMetric = await super.getMetrics(region);\n    return rawMetric.map((metric) => {\n      let dims = metric.Dimensions[0].Dimensions;\n      dims.push('topicId');\n      if (['NumOfNotify', 'NumOfSuccNotify'].includes(metric.MetricName)) {\n        dims.push('subscriptionId');\n      }\n\n      dims = Array.from(new Set(dims));\n      metric.Dimensions[0].Dimensions = dims;\n      return metric;\n    });\n  }\n}\n","import { BaseDatasource } from '../_base/datasource';\n\ninterface BucketListResult {\n  Owner: { ID: 'string'; DisplayName: 'string' };\n  Buckets: { Name: string; Region: string }[];\n}\n\nexport default class CosDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = {};\n  InstanceAliasList: string[] = ['BucketName'];\n  templateQueryIdMap = {\n    instance: 'BucketName',\n  };\n  InstanceReqConfig = {} as any; // 不必要的配置\n  cosURL: string;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n    this.cosURL = `/api/datasources/${this.instanceSettings.id}/resources/tc_cos_list`;\n  }\n  async getInstances(region: string) {\n    return this.backendSrv\n      .datasourceRequest({\n        url: this.cosURL,\n        method: 'GET',\n        params: { region },\n        headers: { 'Content-Type': 'application/json' },\n      })\n      .then((res) => {\n        let { data }: { data: BucketListResult } = res;\n        data = data || ({} as any);\n        let { Buckets } = data;\n        Buckets = Buckets || [];\n\n        // name contains appid，see detail https://cloud.tencent.com/document/product/436/8291\n        return Buckets.map((item) => ({\n          ...item,\n          BucketName: item.Name,\n          bucket: item.Name,\n          appid: item.Name.split('-').slice(-1)[0],\n        }));\n      });\n  }\n\n  async getVariableInstances(region) {\n    return this.getInstances(region);\n  }\n}\n","import {\n  CPMInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CPMInstanceAliasList;\n  InvalidDimensions = CPMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bm',\n    action: 'DescribeDevices',\n    responseField: 'DeviceInfoSet',\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n\n  getFilterDropdown({ field, region }) {\n    if (field === 'DeviceClassCode') {\n      const serviceInfo = GetServiceAPIInfo(region, 'bm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        'bm',\n        { region, action: 'DescribeDeviceClass' }\n      ).then((response) => {\n        return _.map(response.DeviceClassSet || [], (item) => {\n          return { text: item.DeviceClassCode, value: item.DeviceClassCode };\n        });\n      });\n    }\n    return [];\n  }\n}\n","import _ from 'lodash';\nimport { CVMInstanceAliasList, isValidMetric, modifyDimensons } from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CVMDatasource extends BaseDatasource {\n  Namespace = 'QCE/CVM';\n  InstanceAliasList = CVMInstanceAliasList;\n  InvalidDimensions = {};\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'cvm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return modifyDimensons(item);\n        }\n        return null;\n      })\n    );\n  }\n\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'cvm' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'api');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { Product: 'cvm' },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n}\n","import {\n  CYNOSDBMYSQLInstanceAliasList,\n  CYNOSDBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n  checkKeys,\n} from './query_def';\nimport _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\n// import { t } from '../../../locale';\n\nexport default class CYNOSDBMYSQLDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CYNOSDBMYSQLInstanceAliasList;\n  InvalidDimensions = CYNOSDBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  checkKeys = checkKeys;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cynosdb',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n  // getRegions() {\n  //   return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  // }\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'cynosdbmysql' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n  // 仅对维度组合是InstanceId的指标，其他指标不支持\n  getDefaultInsObj(ins: string) {\n    return {\n      [templateQueryIdMap.instance]: ins,\n    };\n  }\n}\n","import { DCInstanceAliasList, DCInvalidDemensions, namespace, modifyDimensons } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCInstanceAliasList;\n  InvalidDimensions = DCInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'DirectConnectId',\n  };\n  InstanceReqConfig = {\n    service: 'dc',\n    action: 'DescribeDirectConnects',\n    responseField: 'DirectConnectSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import {\n  DCDBInstanceAliasList,\n  DCDBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCDBInstanceAliasList;\n  InvalidDimensions = DCDBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'dcdb',\n    action: 'DescribeDCDBInstances',\n    responseField: 'Instances',\n  };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  extraActionMap = {\n    DescribeDCDBShards: {\n      service: 'dcdb',\n      action: 'DescribeDCDBShards',\n      responseField: 'Shards',\n      pickKey: 'ShardInstanceId',\n    },\n    DescribeDCDBInstanceNodeInfo: {\n      service: 'dcdb',\n      action: 'DescribeDCDBInstanceNodeInfo',\n      responseField: 'NodesInfo',\n      pickKey: 'NodeId',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion, 入参的region用广州\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/dcdb',\n      },\n      'dcdb',\n      { action: 'DescribeDCDBSaleInfo', region: 'ap-guangzhou' }\n    ).then((response) => {\n      return _.map(response.RegionList || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n          RegionState: item.RegionState,\n        };\n      });\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      InstanceId: instance[this.templateQueryIdMap.instance],\n      Limit: 100,\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import { DCGInstanceAliasList, DCGInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCGInstanceAliasList;\n  InvalidDimensions = DCGInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeDirectConnectGateways',\n    responseField: 'DirectConnectGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { DCXInstanceAliasList, DCXInvalidDemensions, namespace, modifyDimensons } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCXDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCXInstanceAliasList;\n  InvalidDimensions = DCXInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'DirectConnectTunnelId',\n  };\n  InstanceReqConfig = {\n    service: 'dc',\n    action: 'DescribeDirectConnectTunnels',\n    responseField: 'DirectConnectTunnelSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import { BaseDatasource } from '../_base/datasource';\nimport {\n  ECDNInstanceAliasList,\n  ECDNInvalidDemensions,\n  modifyDimensons,\n  namespace,\n  templateQueryIdMap,\n} from './query_def';\n\nexport default class ECDNDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECDNInstanceAliasList;\n  InvalidDimensions = ECDNInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'ecdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import {\n  ECMInstanceAliasList,\n  ECMInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMInstanceAliasList;\n  InvalidDimensions = ECMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import {\n  ECMBLOCKSTORAGEInstanceAliasList,\n  ECMBLOCKSTORAGEInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMBLOCKSTORAGEInstanceAliasList;\n  InvalidDimensions = ECMBLOCKSTORAGEInvalidDemensions;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  templateQueryIdMap = templateQueryIdMap;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getDiskList(params: any) {\n    const { payload } = params;\n    const { InstanceId } = payload;\n    const instanceCache = await instanceStorage.getInstance(this.service);\n    const instanceObj: any =\n      _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === InstanceId)) ?? {};\n    const { DataDisks: dataDisks } = instanceObj;\n    return dataDisks;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      InstanceId: instance,\n      Limit: 100,\n    };\n    const rs = await this.getDiskList({ region, action, payload });\n    const result = rs.map((o) => {\n      o._InstanceAliasValue = o[this.templateQueryIdMap.diskId];\n      return {\n        text: o[this.templateQueryIdMap.diskId],\n        value: o[this.templateQueryIdMap.diskId],\n      };\n    });\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.diskId, rs);\n    return result;\n  }\n}\n","import { ECMLBInstanceAliasList, ECMLBInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMLBInstanceAliasList;\n  InvalidDimensions = ECMLBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import {\n  GSEInstanceAliasList,\n  GSEInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = GSEInstanceAliasList;\n  InvalidDimensions = GSEInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'gse',\n    action: 'DescribeInstances',\n    responseField: 'Instances',\n  };\n\n  keyInStorage = keyInStorage;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n  async getQueueNameList(params: any) {\n    const { region } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeGameServerSessionQueues' }\n        );\n      },\n      {},\n      'GameServerSessionQueues'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  async getFleetList(params: any) {\n    const { region } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'ListFleets' }\n        );\n      },\n      {},\n      'FleetIds'\n    );\n    const [rs] = res;\n    return rs.map((r) => ({ [this.templateQueryIdMap.FleetId]: r }));\n  }\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'DescribeGameServerSessionQueues') {\n      const rs = await this.getQueueNameList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.Name];\n        return {\n          text: o[this.templateQueryIdMap.Name],\n          value: o[this.templateQueryIdMap.Name],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.queue, rs);\n      return result;\n    }\n    if (action === 'ListFleets') {\n      const rs = await this.getFleetList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.FleetId];\n        return {\n          text: o[this.templateQueryIdMap.FleetId],\n          value: o[this.templateQueryIdMap.FleetId],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.fleet, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\nimport { LBInstanceAliasList, LBInvalidDemensions } from './query_def';\n\nexport default class SCFDatasource extends BaseDatasource {\n  Namespace = 'QCE/LB';\n  InstanceAliasList = LBInstanceAliasList;\n  InvalidDimensions = LBInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'AddressId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeAddresses',\n    responseField: 'AddressSet',\n    interceptor: {\n      request: (params) => {\n        const { Filters } = params;\n        if (!Filters) {\n          params.Filters = [];\n        }\n        params.Filters.push({\n          Name: 'address-type',\n          Values: ['EIP'],\n        });\n        return params;\n      }, // 设置一些请求参数的 默认值\n    },\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) =>\n      /* hack：这里多加了筛选条件，是因为后端数据不准确，坑啊！ 只拿取包含eip的指标 */\n      item.Dimensions?.[0]?.Dimensions?.includes('eip')\n    );\n  }\n\n  // async getInstances(region, params = {}) {\n  //   const rawSet = await super.getInstances(region, params);\n  //   /* hack：这里多加了筛选条件，是因为后端数据不准确，坑啊！ 只拿取包含eip的指标 */\n  //   return rawSet.filter((item) => item.AddressType === 'EIP');\n  // }\n\n  // async getVariableInstances(region, query = {}) {\n  //   const rawSet = await super.getVariableInstances(region, query);\n  //   return rawSet.filter((item) => item.AddressType === 'EIP');\n  // }\n}\n","import _ from 'lodash';\nimport {\n  LIGHTHOUSEInstanceAliasList,\n  templateQueryIdMap,\n  LighthouseInvalidDemensions,\n  modifyDimensons,\n} from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class LighthouseDatasource extends BaseDatasource {\n  Namespace = 'QCE/LIGHTHOUSE';\n  InstanceAliasList = LIGHTHOUSEInstanceAliasList;\n  InvalidDimensions = LighthouseInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'lighthouse',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'lighthouse' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'api');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { Product: 'lighthouse' },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n}\n","import _ from 'lodash';\nimport {\n  MONGODBInstanceAliasList,\n  MONGODBInvalidDemensions,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class MONGODBDatasource extends BaseDatasource {\n  Namespace = 'QCE/CMONGO';\n  InstanceAliasList = MONGODBInstanceAliasList;\n  ReplicaAliasList = ['ReplicaSetId', 'ReplicaSetName'];\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n\n  InstanceReqConfig = {\n    service: 'mongodb',\n    action: 'DescribeDBInstances',\n    responseField: 'InstanceDetails',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getInvalidDimensions(selfIns: any, target: any) {\n    if (target.node && target.node !== '') {\n      return { target: 'Node' };\n    }\n    if (target.replica && target.replica !== '') {\n      return { target: 'Replica' };\n    }\n    return MONGODBInvalidDemensions;\n  }\n  formatVariableDisplay(data: Record<string, any>, displayTpl: string | undefined, alias: string, aliasList: string[]) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !aliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(data, b);\n      });\n    }\n    return this.getAliasValue(data, alias);\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const { display } = query;\n    if (action === 'DescribeReplicas') {\n      const [res] = await this.getInstances(region, { InstanceIds: [instance[this.templateQueryIdMap.instance]] });\n      let { replicaalias } = query;\n      replicaalias = this.ReplicaAliasList.includes(replicaalias) ? replicaalias : this.templateQueryIdMap.replica;\n      const result = _.map(_.get(res, 'ReplicaSets', []), (item) => {\n        const replicaAlias = this.formatVariableDisplay(item, display, replicaalias, this.ReplicaAliasList);\n        item._InstanceAliasValue = replicaAlias || item[this.templateQueryIdMap.replica];\n        return { text: item.ReplicaSetId, value: item.ReplicaSetId };\n      });\n      await instanceStorage.setExtraStorage(\n        this.service,\n        this.queryMonitorExtraConfg.Replica.dim_KeyInStorage,\n        _.get(res, 'ReplicaSets', [])\n      );\n      return result;\n    }\n    if (action === 'DescribeReplicaNodes') {\n      const [res] = await this.getInstances(region, { InstanceIds: [instance[this.templateQueryIdMap.instance]] });\n      const { replicasetid } = query;\n      const targetReplica = _.find(_.get(res, 'ReplicaSets', []), { ReplicaSetId: this.getVariable(replicasetid) });\n      let result = _.times(targetReplica.SecondaryNum, (index) => {\n        const nodeId = `${targetReplica.ReplicaSetId}-node-slave${index}`;\n        return { text: nodeId, value: nodeId };\n      });\n      if (targetReplica) {\n        result = [\n          { text: `${targetReplica.ReplicaSetId}-node-primary`, value: `${targetReplica.ReplicaSetId}-node-primary` },\n          ...result,\n        ];\n      }\n      await instanceStorage.setExtraStorage(\n        this.service,\n        this.queryMonitorExtraConfg.Node.dim_KeyInStorage,\n        result.map((item) => ({ NodeId: item.value, _InstanceAliasValue: item.value }))\n      );\n      return result;\n    }\n\n    return [];\n  }\n}\n","import { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  InvalidDemensions,\n  InstanceAliasList,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class MrHdfsDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  extrasAlias = [];\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  InstanceReqConfig = {\n    service: 'emr',\n    action: 'DescribeInstances',\n    responseField: 'ClusterList',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        DisplayStrategy: params.DisplayStrategy || 'monitorManage',\n        ProjectId: params.ProjectId || -1,\n      }), // 设置一些请求参数的 默认值\n      response: (data: any[]) => data.map(({ ClusterId, ClusterName }) => ({ ClusterId, ClusterName })),\n    },\n  };\n\n  async fetchAllNodes(region: string, params: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'emr');\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeClusterNodes' }\n        );\n      },\n      { ...params, isOffsetPage: true },\n      'NodeList'\n    );\n\n    // return rs[0].map((item) => ({ text: item.Ip, value: item.Ip }));\n    return rs[0];\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    let result;\n    switch (action) {\n      case 'DescribeClusterNodes': {\n        const resultT = await this.fetchAllNodes(region, { InstanceId: instance.ClusterId, NodeFlag: 'all' });\n        result = resultT.map((item) => {\n          item._InstanceAliasValue = item[templateQueryIdMap.node];\n          return { text: item[templateQueryIdMap.node], value: item[templateQueryIdMap.node] };\n        });\n        await instanceStorage.setExtraStorage(this.service, this.keyInStorage.node, resultT);\n\n        return result;\n      }\n      default:\n        return [];\n    }\n  }\n}\n","import _ from 'lodash';\nimport { NATGATEWAYInstanceAliasList, NATInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class NATGATEWAYDatasource extends BaseDatasource {\n  Namespace = 'QCE/NAT_GATEWAY';\n  InstanceAliasList = NATGATEWAYInstanceAliasList;\n  InvalidDimensions = NATInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'NatGatewayId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeNatGateways',\n    responseField: 'NatGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import _ from 'lodash';\nimport { OVCDNInstanceAliasList, OVCDNInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class OVCDNDatasource extends BaseDatasource {\n  Namespace = 'QCE/OV_CDN';\n  InstanceAliasList = OVCDNInstanceAliasList;\n  InvalidDimensions = OVCDNInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'Domain',\n  };\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import { PCXInstanceAliasList, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo, GetRequestParamsV2, SliceLength } from '../../common/constants';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = PCXInstanceAliasList;\n  InvalidDimensions = {};\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'xx',\n    action: 'xx',\n    responseField: 'xx',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getInstances(region = 'ap-guangzhou', params = {}) {\n    params = { offset: 0, limit: 50, ...params };\n    const serviceInfo = GetServiceAPIInfo(region, 'pcx');\n    return this.doRequestV2(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcPeeringConnections' }\n    ).then((response) => {\n      return response.data || [];\n    });\n  }\n\n  /**\n   * 模板变量中获取全量的 PCX 实例列表\n   * @param region 地域信息\n   */\n  getVariableInstances(region, query) {\n    let result: any[] = [];\n    const params = { Offset: 0, Limit: 50, ...query };\n    const serviceInfo = GetServiceAPIInfo(region, 'pcx');\n    return this.doRequestV2(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcPeeringConnections' }\n    ).then((response) => {\n      result = response.data || [];\n      const total = response.totalCount || 0;\n      if (result.length >= total) {\n        return result;\n      } else {\n        const param = SliceLength(total, 50);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getInstances(region, item));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return result;\n          })\n          .catch((error) => {\n            return result;\n          });\n      }\n    });\n  }\n\n  getVpcId(region, params: any = {}) {\n    params = { Offset: 0, Limit: 20, ...params };\n    // TODO 等待腾讯云接口查问题\n    params.Offset = String(params.Offset);\n    params.Limit = String(params.Limit);\n    const serviceInfo = GetServiceAPIInfo(region, 'vpc');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcs' }\n    ).then((response) => {\n      return _.map(response.VpcSet || [], (item) => ({ text: item.VpcId, value: item.VpcId }));\n    });\n  }\n\n  getVpcIds(region) {\n    let result: any[] = [];\n    const params: any = { Offset: 0, Limit: 100 };\n    // TODO 等待腾讯云接口查问题\n    params.Offset = String(params.Offset);\n    params.Limit = String(params.Limit);\n    const serviceInfo = GetServiceAPIInfo(region, 'vpc');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcs' }\n    ).then((response) => {\n      result = _.map(response.VpcSet || [], (item) => ({ text: item.VpcId, value: item.VpcId }));\n      const total = response.TotalCount || 0;\n      if (result.length >= total) {\n        return result;\n      } else {\n        const param = SliceLength(total, 100);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getVpcId(region, item));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return result;\n          })\n          .catch((error) => {\n            return result;\n          });\n      }\n    });\n  }\n\n  /**\n   * 腾讯云 API 2.0 请求接口\n   * @param options\n   * @param service\n   * @param signObj\n   */\n  async doRequestV2(options, service, signObj: any = {}) {\n    options = await GetRequestParamsV2(\n      options,\n      service,\n      signObj,\n      this.secretId,\n      this.instanceSettings.id,\n      this.backendSrv\n    );\n    return this.backendSrv\n      .datasourceRequest(options)\n      .then((response) => {\n        return _.get(response, 'data', {});\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n","import _ from 'lodash';\nimport {\n  POSTGRESInstanceAliasList,\n  PostgreInvalidDemensions,\n  namespace,\n  modifyDimensons,\n  templateQueryIdMap,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDBDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = POSTGRESInstanceAliasList;\n  InvalidDimensions = PostgreInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'postgres',\n    action: 'DescribeDBInstances',\n    responseField: 'DBInstanceSet',\n  };\n\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { get } from 'lodash';\nimport { QAAPInstanceAliasList, QAAPInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class QAAPDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = QAAPInstanceAliasList;\n  InvalidDimensions = QAAPInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'gaap',\n    action: 'DescribeProxies',\n    responseField: 'ProxySet',\n    interceptor: {\n      // response: (data: unknown[]) =>[\n      //   {\n      //     \"NetDetectId\": \"netd-12345678\",\n      //   },\n      // ],\n    },\n  };\n  // MetricReqConfig = {\n  //   resultFilter: modifyDimensons,\n  // };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter(\n      (item) =>\n        get(item, 'Dimensions.length') === 1 &&\n        get(item, 'Dimensions[0].Dimensions.length') === 1 &&\n        get(item, 'Dimensions[0].Dimensions[0]') === 'channelId'\n    );\n  }\n}\n","import _ from 'lodash';\nimport { REDISInstanceAliasList, RedisInvalidDemensions, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class REDISDatasource extends BaseDatasource {\n  Namespace = 'QCE/REDIS';\n  InstanceAliasList = REDISInstanceAliasList;\n  InvalidDimensions = RedisInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'redis',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n    interceptor: {\n      request: (params) => ({ ...params, MonitorVersion: '1m' }),\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) => isValidMetric(item));\n  }\n}\n","import _ from 'lodash';\nimport {\n  REDISMEMInstanceAliasList,\n  namespace,\n  RedisMemInvalidDemensions,\n  templateQueryIdMap,\n  NodeType,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\n\nexport default class REDISDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = REDISMEMInstanceAliasList;\n  InvalidDimensions = RedisMemInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  extrasAlias = [RedisMemInvalidDemensions.pnodeid, RedisMemInvalidDemensions.rnodeid];\n  InstanceReqConfig = {\n    service: 'redis',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n    interceptor: {\n      request: (params) => ({ ...params, MonitorVersion: '5s' }),\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getInstanceNodeInfo(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'redis');\n\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeInstanceNodeInfo' }\n        );\n      },\n      {\n        InstanceId: instanceId,\n      },\n      NodeType\n    );\n\n    return res;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    if (action === 'DescribeInstanceNodeInfo') {\n      const rs = await this.getInstanceNodeInfo({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const { nodetype } = query;\n      const ndoeTypeIndex = NodeType.indexOf(nodetype);\n      return ndoeTypeIndex === -1\n        ? []\n        : _.map(rs[ndoeTypeIndex], (item) => ({ text: item.NodeId, value: item.NodeId }));\n    }\n    return [];\n  }\n}\n","import _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  SCFInstanceAliasList,\n  SCFInvalidDemensions,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  templateQueryIdMap,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class SCFDatasource extends BaseDatasource {\n  InstanceKey: string;\n  Namespace: string;\n  InstanceAliasList: string[];\n  InvalidDimensions: Record<string, string>;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  InstanceReqConfig: { service?: string | undefined; action: string; responseField: string };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n\n    this.Namespace = 'QCE/SCF_V2';\n    this.InstanceAliasList = SCFInstanceAliasList;\n    this.InvalidDimensions = SCFInvalidDemensions;\n    this.InstanceReqConfig = {\n      service: 'scf',\n      action: 'ListFunctions',\n      responseField: 'Functions',\n    };\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter(\n      (item) =>\n        /* hack：这里多加了筛选条件，是因为后端数据不准确，坑啊！ 只拿取包含functionName的指标 */\n        item.Dimensions?.[0]?.Dimensions?.includes('functionName') &&\n        item.Dimensions?.[0]?.Dimensions?.includes('namespace') &&\n        !item.MetricName.startsWith('Name')\n    );\n  }\n\n  getVersions(region, params) {\n    const serviceInfo = GetServiceAPIInfo(region, 'scf');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'ListVersionByFunction' }\n    ).then((response) => {\n      return response.Versions;\n    });\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'ListVersionByFunction') {\n      const rs = await this.getVersions(region, { FunctionName: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.version];\n        return {\n          text: o[this.templateQueryIdMap.version],\n          value: o[this.templateQueryIdMap.version],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.version, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  SQLSERVERInstanceAliasList,\n  SQLSERVERInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = SQLSERVERInstanceAliasList;\n  InvalidDimensions = SQLSERVERInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'sqlserver',\n    action: 'DescribeDBInstances',\n    responseField: 'DBInstances',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(rawSet.map((item) => modifyDimensons(item)));\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  getFilterDropdown({ field, region }) {\n    if (field === 'Zone') {\n      const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        serviceInfo.service,\n        { region, action: 'DescribeZones' }\n      ).then((response) => {\n        return _.filter(\n          _.map(response.ZoneSet || [], (item) => {\n            return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n          }),\n          (item) => item.ZoneState === 'AVAILABLE'\n        );\n      });\n    }\n    return [];\n  }\n}\n","import { TCAPLUSInstanceAliasList, TCAPLUSInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TCAPLUSInstanceAliasList;\n  InvalidDimensions = TCAPLUSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tcaplusdb',\n    action: 'DescribeTables',\n    responseField: 'TableInfos',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/tcaplusdb',\n      },\n      'tcaplusdb',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      return _.map(response.RegionInfos || [], (item) => {\n        return {\n          text: t(item.RegionName),\n          value: item.RegionName,\n        };\n      });\n    });\n  }\n}\n","import {\n  TDMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeClusters',\n    responseField: 'ClusterSet',\n  };\n  extraActionMap = {\n    DescribeTopics: {\n      service: 'tdmq',\n      action: 'DescribeTopics',\n      responseField: 'TopicSets',\n      pickKey: 'TopicName',\n    },\n    DescribeEnvironments: {\n      service: 'tdmq',\n      action: 'DescribeEnvironments',\n      responseField: 'EnvironmentSet',\n      pickKey: 'EnvironmentId',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(rawSet.map((item) => modifyDimensons(item)));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    // console.log({ rs });\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      ClusterId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      if (action === 'DescribeTopics') {\n        payload.EnvironmentId = this.getVariable(query['environmentid']);\n      }\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  TDMQRABBITMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQRABBITMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeRabbitMQVipInstances',\n    responseField: 'Instances',\n  };\n  extraActionMap = {\n    DescribeRabbitMQNodeList: {\n      service: 'tdmq',\n      action: 'DescribeRabbitMQNodeList',\n      responseField: 'NodeList',\n      pickKey: 'node',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      InstanceId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import {\n  TDMQROCKETMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQROCKETMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeRocketMQClusters',\n    responseField: 'ClusterList',\n    interceptor: {\n      response: (result) =>\n        _.map(result, (item) => ({\n          ...item,\n          ClusterId: _.get(item, 'Info.ClusterId', ''),\n          ClusterName: _.get(item, 'Info.ClusterName', ''),\n        })),\n    },\n  };\n  extraActionMap = {\n    DescribeRocketMQNamespaces: {\n      service: 'tdmq',\n      action: 'DescribeRocketMQNamespaces',\n      responseField: 'Namespaces',\n      pickKey: 'namespace',\n    },\n    DescribeRocketMQGroups: {\n      service: 'tdmq',\n      action: 'DescribeRocketMQGroups',\n      responseField: 'Groups',\n      pickKey: 'group',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) => !item.Dimensions?.[0]?.Dimensions?.includes('rmqcluster'));\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      ClusterId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      if (action === 'DescribeRocketMQGroups') {\n        payload.NamespaceId = this.getVariable(query['clusternamespace']);\n      }\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import { map, flatten, reduce, isEmpty, filter, split, sortBy, findIndex, trim, isArray, isString } from 'lodash';\nimport { GetServiceAPIInfo, ReplaceVariable } from '../../common/constants';\nimport { getTimeShiftInMs } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\n\nconst variableToArray = (variable) => {\n  if (isEmpty(variable)) {\n    return [];\n  }\n  if (isArray(variable)) {\n    return variable;\n  }\n  if (isString(variable)) {\n    return split(variable, ',').map((item) => trim(item));\n  }\n  return [];\n};\n\nexport default class TKEDatasource extends BaseDatasource {\n  InstanceAliasList = ['ClusterId', 'ClusterName'];\n  templateQueryIdMap = {\n    instance: 'ClusterId',\n  };\n  InvalidDimensions = {\n    tke_cluster_instance_id: 'ClusterId',\n  };\n  InstanceReqConfig = {\n    service: 'tke',\n    action: 'DescribeClusters',\n    responseField: 'Clusters',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getMonitorData(params: any, region: any, instances: any, target: any, options: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const timeshift = getTimeShiftInMs(target.timeshift);\n    const conditions = reduce(\n      target.conditions,\n      (prev, item) => {\n        if (isEmpty(item.Key) || isEmpty(item.Operator) || isEmpty(item.Value)) {\n          return prev;\n        }\n        return [\n          ...filter(prev, (e) => e.Key !== item.Key),\n          {\n            Key: ReplaceVariable(this.templateSrv, options.scopedVars, item.Key, false),\n            Operator: ReplaceVariable(this.templateSrv, options.scopedVars, item.Operator, false),\n            Value: variableToArray(ReplaceVariable(this.templateSrv, options.scopedVars, item.Value, true)),\n          },\n        ];\n      },\n      [{ Key: 'tke_cluster_instance_id', Operator: '=', Value: instances.map((item) => item['ClusterId']) }]\n    );\n\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Period: params.Period,\n          MetricNames: [params.MetricName],\n          Module: 'monitor',\n          Namespace: 'QCE/TKE',\n          EndTime: params.EndTime,\n          StartTime: params.StartTime,\n          Conditions: conditions,\n          GroupBys: variableToArray(ReplaceVariable(this.templateSrv, options.scopedVars, target.groupBys, true)),\n        },\n      },\n      serviceInfo.service,\n      { action: 'DescribeStatisticData', region }\n    ).then((response) => {\n      return flatten(\n        map(response.Data, (data) => {\n          return map(data.Points, (point) => {\n            const dimensionSort = sortBy(point.Dimensions, ['Name']);\n            const dimensionString = [\n              ...dimensionSort.splice(findIndex(dimensionSort, { Name: 'tke_cluster_instance_id' }), 1),\n              ...dimensionSort,\n            ]\n              .map((dimension) => dimension.Value)\n              .join(' - ');\n            const timeshiftString = timeshift > 0 ? `_${target.timeshift}` : '';\n            return {\n              target: `${data.MetricName} - ${dimensionString}${timeshiftString}`,\n              datapoints: map(point.Values, (value) => [value.Value, value.Timestamp * 1000 + timeshift]),\n            };\n          });\n        })\n      );\n    });\n  }\n}\n","import _ from 'lodash';\nimport { TSFInvalidDemensions, TSFInstanceAliasList, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class TSFDatasource extends BaseDatasource {\n  Namespace = 'QCE/TSF';\n  InstanceAliasList = TSFInstanceAliasList;\n  InvalidDimensions = TSFInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'tsf',\n    action: 'DescribeApplications',\n    responseField: 'Content',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import {\n  VCLBInstanceAliasList,\n  VCLBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  clbNamespaceMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VCLBInstanceAliasList;\n  InvalidDimensions = VCLBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'clb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async getAllMetrics(region: string) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const { MetricSet: public_metrics } = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: clbNamespaceMap.public,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    );\n    const { MetricSet: private_metrics } = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: clbNamespaceMap.private,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    );\n    const res = Object.values(_.keyBy(_.concat(private_metrics, public_metrics), 'MetricName'));\n    return res.map((t) => modifyDimensons(t));\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await this.getAllMetrics(region);\n    return _.compact(rawSet);\n  }\n}\n","import { VBCInstanceAliasList, VBCInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VBCInstanceAliasList;\n  InvalidDimensions = VBCInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeCcns',\n    responseField: 'CcnSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getFilterDropdown({ field }) {\n    return super.getRegions();\n  }\n}\n","import {\n  VPCNETDETECTInstanceAliasList,\n  VPCNETInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPCNETDETECTInstanceAliasList;\n  InvalidDimensions = VPCNETInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeNetDetects',\n    responseField: 'NetDetectSet',\n    interceptor: {\n      // response: (data: unknown[]) =>[\n      //   {\n      //     \"NetDetectId\": \"netd-12345678\",\n      //   },\n      // ],\n    },\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import { VPNGWInstanceAliasList, VPNGWInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPNGWInstanceAliasList;\n  InvalidDimensions = VPNGWInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeVpnGateways',\n    responseField: 'VpnGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getFilterDropdown({ field, region }) {\n    if (field === 'zone') {\n      const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        serviceInfo.service,\n        { region, action: 'DescribeZones' }\n      ).then((response) => {\n        return _.filter(\n          _.map(response.ZoneSet || [], (item) => {\n            return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n          }),\n          (item) => item.ZoneState === 'AVAILABLE'\n        );\n      });\n    }\n    return [];\n  }\n}\n","import { VPNXInstanceAliasList, VPNXInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPNXInstanceAliasList;\n  InvalidDimensions = VPNXInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeVpnConnections',\n    responseField: 'VpnConnectionSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import _ from 'lodash';\nimport {\n  WAFInstanceAliasList,\n  WAFInvalidDemensions,\n  templateQueryIdMap,\n  namespace,\n  regionSupported,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { t } from '../../../locale';\n\nexport default class CDNDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = WAFInstanceAliasList;\n  InvalidDimensions = WAFInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'waf',\n    // action: 'DescribeDomains', // DescribeMonitorDomains\n    action: 'DescribeMonitorDomains', //\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n\n  getOwnDimension(dimensionObject: any, ins: any) {\n    const { Edition = '' } = ins;\n    return {\n      ...dimensionObject,\n      edition: {\n        Name: 'edition',\n        Value: Edition,\n      },\n    };\n  }\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexport var config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = /*@__PURE__*/ new Error();\n            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map\n","import coreModule from 'grafana/app/core/core_module';\nimport { APIGATEWAYFilterFieldsDescriptor, templateQueryIdMap, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.APIGATEWAYFilterFieldsDescriptor = APIGATEWAYFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      // console.log({namespace, service});\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraDropdown = async (target) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const instanceId = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getEnvironmentNameList')({ region, instanceId });\n\n      const result = rs.map((o) => {\n        return {\n          text: o.EnvironmentName,\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in APIGATEWAYFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">EnvironmentName</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target.EnvironmentName\" allow-custom=\"true\" lookup-text=\"true\"  get-options=\"getExtraDropdown(target)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { BWPFilterFieldsDescriptor } from './query_def';\n\nexport class BWPQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.BWPFilterFieldsDescriptor = BWPFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      BandwidthPackageIds\n      <info-popover mode=\"right-normal\">\n        带宽包唯一ID列表，参数不支持同时指定 BandwidthPackageIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.BandwidthPackageIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 BandwidthPackageIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in BWPFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function bwpQuery() {\n  return {\n    template: template,\n    controller: BWPQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('bwpQuery', bwpQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDBFieldsDescriptor } from './query_def';\n\nexport class CDBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDBFieldsDescriptor = CDBFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'ZoneIds':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cdb', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/236/15872\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CDBFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function cdbQuery() {\n  return {\n    template: template,\n    controller: CDBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cdbQuery', cdbQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDNFilterFieldsDescriptor } from './query_def';\n\nexport class CDNQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDNFilterFieldsDescriptor = CDNFilterFieldsDescriptor;\n    };\n\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/228/41118\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-repeat=\"field in CDNFilterFieldsDescriptor\">\n<label class=\"gf-form-label width-14\">\n  {{ field.key }}\n  <info-popover mode=\"right-normal\">\n    {{ field.cnDescriptor }}\n    <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n  </info-popover>\n</label>\n<multi-condition\n  ng-if=\"field.type === 'inputNumbermulti'\"\n  type=\"'inputNumber'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  maxNum=\"field.max\"\n  minNum=\"field.min\"\n  on-change=\"onChange()\"\n></multi-condition>\n<multi-condition\n  ng-if=\"field.type === 'inputmulti'\"\n  type=\"'input'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  on-change=\"onChange()\"\n></multi-condition>\n<custom-select-dropdown\n  ng-if=\"field.type === 'select'\"\n  value=\"target.queries.Filters[field.key]\"\n  options=\"field.list\"\n  multiple=\"true\"\n  on-change=\"onChange()\"\n></custom-select-dropdown>\n</div>\n\n</div>\n`;\n\nexport function cdnQuery() {\n  return {\n    template: template,\n    controller: CDNQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cdnQuery', cdnQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDNPROVINCEFilterFieldsDescriptor, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Isp',\n    field: 'isp',\n  },\n  {\n    label: 'Province',\n    field: 'district',\n  },\n];\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDNPROVINCEFilterFieldsDescriptor = CDNPROVINCEFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, field });\n      return rs;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Domains are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/228/41118\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in CDNPROVINCEFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in ExtraFields\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CFSQueryDescriptor } from './query_def';\n\nexport class SCFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CFSQueryDescriptor = CFSQueryDescriptor;\n    };\n\n    $scope.getVersions = async (target) => {\n      // console.log(2222);\n\n      // return [{ text: 1, value: 1 }];\n      // console.log(target, 'target');\n      const { instance, region } = target;\n      const fetcher = $scope.datasource.getServiceFn('scf', 'getVersions');\n      if (!instance || !region) return [];\n\n      return fetcher(region, { FunctionName: JSON.parse(instance).FunctionName }).then((res) => {\n        // console.log(res, 'res');\n\n        return res;\n      });\n    };\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n  FileSystems are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/582/38170\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CFSQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: SCFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\ncoreModule.directive('cfsQuery', scfQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CKAFKAQueryDescriptor, templateQueryIdMap } from './query_def';\nimport { isTargetEqual } from '../../common/utils';\n\nconst ExtraFields = [\n  {\n    label: 'ConsumerGroup',\n    field: 'consumerGroup',\n  },\n  {\n    label: 'TopicId',\n    field: 'topicId',\n  },\n  {\n    label: 'Partition',\n    field: 'partition',\n  },\n];\n\nexport class CKAFKAQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CKAFKAQueryDescriptor = CKAFKAQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n    $scope.onInstanceChange = (n, o) => {\n      if (isTargetEqual(n, o, 'LoadBalancerId')) return;\n      $scope.target.consumerGroup = '';\n      $scope.target.topicId = '';\n      $scope.target.topicName = '';\n      $scope.target.partition = '';\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('ckafka', 'getVariable')(instance);\n      if (Array.isArray(instance)) instance = instance[0];\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).InstanceId;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      const InstanceId = $scope.getInstanceId();\n      const fetcher = $scope.datasource.getServiceFn('ckafka', 'getConsumerGroups');\n      const region = $scope.datasource.getServiceFn('ckafka', 'getVariable')(target.region);\n      const res = await fetcher(region, { InstanceId, groupname: target.consumerGroup, topicid: target.topicId });\n\n      const { TopicList, GroupList, PartitionList } = res;\n      const data = {\n        GroupList: GroupList.map((group) => {\n          group._InstanceAliasValue = group.GroupName;\n          return {\n            text: group.GroupName,\n            value: JSON.stringify(group),\n          };\n        }),\n        TopicList: TopicList.map((topic) => {\n          topic._InstanceAliasValue = topic[templateQueryIdMap.topicId];\n          return {\n            text: topic[templateQueryIdMap.topicId],\n            value: JSON.stringify(topic), // 为了获取多维度的值，这里完全可以使用JSON.stringify()将整个对象放进去\n          };\n        }),\n        PartitionList: PartitionList.map((par) => {\n          par._InstanceAliasValue = par[templateQueryIdMap.partition];\n          return {\n            text: String(par[templateQueryIdMap.partition]),\n            value: JSON.stringify(par),\n          };\n        }),\n      };\n\n      switch (field) {\n        case 'consumerGroup':\n          return data.GroupList;\n        case 'topicId':\n          return data.TopicList;\n        case 'partition':\n          return data.PartitionList;\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/583/18582\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CKAFKAQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 主题，消费分组，分区 -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: CKAFKAQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n      instance: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\ncoreModule.directive('ckafkaQuery', scfQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { get, chain } from 'lodash';\nimport { LOADBALANCEFieldsDescriptor, templateQueryIdMap, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\nimport { isTargetEqual } from '../../common/utils';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.LOADBALANCEFieldsDescriptor = LOADBALANCEFieldsDescriptor;\n      $scope.serversList = [];\n    };\n    $scope.onFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n    $scope.onInstanceChange = (n, o) => {\n      if (isTargetEqual(n, o, 'InstanceId')) return;\n      $scope.target.listener = '';\n      $scope.target.servers = '';\n      $scope.target.serverPort = '';\n    };\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace(namespace);\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {\n        // console.log();\n      }\n      return variableData;\n    };\n    $scope.getExtraDropdown = async (target) => {\n      const { instance } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getListenerList')({ region, instanceId });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap.listener];\n        return {\n          text: o[templateQueryIdMap.listener],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n    $scope.getServersDropdown = async (target) => {\n      const { instance, listener } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const listenerId = $scope.getVariableId(listener, 'listener');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const serversList = await $scope.datasource.getServiceFn(\n        service,\n        'getServerList'\n      )({ region, instanceId, listenerId });\n      $scope.serversList = serversList;\n      const res = chain(serversList)\n        .map((item) => {\n          item._InstanceAliasValue = get(item, 'PrivateIpAddresses.0');\n          return {\n            text: get(item, 'PrivateIpAddresses.0'),\n            value: JSON.stringify(item),\n          };\n        })\n        .uniqBy('text')\n        .value();\n      return res;\n    };\n    $scope.getServerPortDropdown = async (target) => {\n      const { servers } = $scope.target;\n      let serverPortList: any[] = [];\n      try {\n        const serversSource = JSON.parse(servers);\n        serverPortList = chain($scope.serversList)\n          .filter((item) => get(serversSource, 'PrivateIpAddresses.0') === get(item, 'PrivateIpAddresses.0'))\n          .map((item) => {\n            item._InstanceAliasValue = get(item, 'Port');\n            return {\n              text: `${get(item, 'Port')}`,\n              value: JSON.stringify(item),\n            };\n          })\n          .value();\n      } catch (error) {}\n      return serverPortList;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/214/30685\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in LOADBALANCEFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />\n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!--Listener维度部分-->\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Listeners\n      <info-popover mode=\"right-normal\">\n        可不选择监听器，这时通过实例维度查询监控数据\n      </info-popover>\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.listener\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.listener && namespace !== '${namespace}'\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">Servers</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.servers\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getServersDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.servers && namespace !== '${namespace}'\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">ServerPort</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.serverPort\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getServerPortDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      namespace: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\ncoreModule.directive('clbQuery', sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CLSFilterFieldsDescriptor, queryEditorName } from './query_def';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.GSEFilterFieldsDescriptor = CLSFilterFieldsDescriptor;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in GSEFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n<div>\n  <div class=\"gf-form-inline\" >\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">uin</label>\n      <input\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.uin\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n    </div>\n  </div>\n</div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import createQuery from '../_base/query';\nimport { InstanceQueryDescriptor } from './query_def';\n\ncreateQuery('cmqQuery', {\n  fieldDescriptor: InstanceQueryDescriptor,\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/406/42624',\n  namespace: 'QCE/CMQ',\n});\n","import coreModule from 'grafana/app/core/core_module';\nimport { InstanceQueryDescriptor } from './query_def';\n\nconst ExtraFields = [\n  {\n    label: 'Subscription(订阅)',\n    field: 'subscriptionId',\n  },\n];\n\nexport class CmqTopicQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.InstanceQueryDescriptor = InstanceQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    // 各个实例下的订阅，由于不想每次都重复发请求，所以这里做了一层缓存，数据结构为{ [instanceId]: {   } }\n    $scope.cacheMap = {};\n\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getTopicName = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('cmqTopic', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).TopicName;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.onExtraFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      if (field === 'subscriptionId') {\n        const TopicName = $scope.getTopicName();\n        let data = $scope.cacheMap[TopicName];\n\n        if (!data) {\n          const region = $scope.datasource.getServiceFn('cmqTopic', 'getVariable')(target.region);\n          const fetcher = $scope.datasource.getServiceFn('cmqTopic', 'fetchAllSubscription');\n          const datas = await fetcher(region, { TopicName });\n          data = datas.map((item) => {\n            item._InstanceAliasValue = item.SubscriptionId;\n            return { text: item.SubscriptionId, value: JSON.stringify(item) };\n          });\n        }\n\n        // 缓存\n        $scope.cacheMap[TopicName] = data;\n        return data;\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/406/42637\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in InstanceQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 主题的ui -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onExtraFieldChange(extra.field)\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: CmqTopicQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('cmqTopicQuery', scfQuery);\n","import _ from 'lodash';\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 与名称挂钩的变量\nconst InstanceAliasList = ['BucketName'];\nexport { InstanceAliasList, GetInstanceQueryParams };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'BucketName',\n  queries: {},\n};\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { CVMFilterFieldsDescriptor } from './query_def';\n\nexport class CVMQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CVMFilterFieldsDescriptor = CVMFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      InstanceIds\n      <info-popover mode=\"right-normal\">\n        实例 ID，每次请求的实例的上限为100，参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CVMFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function cvmQuery() {\n  return {\n    template: template,\n    controller: CVMQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cvmQuery', cvmQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { DCDBFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'nodeid',\n    field: 'NodeId',\n    action: 'DescribeDCDBInstanceNodeInfo',\n  },\n  {\n    label: 'shardid',\n    field: 'ShardId',\n    action: 'DescribeDCDBShards',\n  },\n];\nconst dropdownTextConfig = {\n  DescribeDCDBInstanceNodeInfo: 'NodeId',\n  DescribeDCDBShards: 'ShardInstanceId',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.DCDBFilterFieldsDescriptor = DCDBFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const instanceId = $scope.getInstanceId();\n      const payload: any = {\n        InstanceId: instanceId,\n        Limit: 100,\n      };\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in DCDBFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { ECMBLOCKSTORAGEFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  // {\n  //   label: 'nodeid',\n  //   field: 'NodeId',\n  //   action: 'DescribeInstanceNodeInfo',\n  // },\n  {\n    label: 'diskId',\n    field: 'diskId',\n  },\n];\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.ECMBLOCKSTORAGEFilterFieldsDescriptor = ECMBLOCKSTORAGEFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    // $scope.getInstanceId = () => {\n    //   let { instance } = $scope.target;\n    //   const service = GetServiceFromNamespace($scope.namespace);\n    //   instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n    //   if (!instance) {\n    //     return '';\n    //   }\n    //   try {\n    //     instance = JSON.parse(instance)[templateQueryIdMap.instance];\n    //   } catch (error) {\n    //     console.log();\n    //   }\n    //   return instance;\n    // };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = (target, action) => {\n      let { instance } = target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      try {\n        instance = JSON.parse(instance);\n        const { DataDisks: dataDisks } = instance;\n        return dataDisks.map((o) => {\n          o._InstanceAliasValue = o[templateQueryIdMap.diskId];\n          return {\n            text: o[templateQueryIdMap.diskId],\n            value: JSON.stringify(o),\n          };\n        });\n      } catch (error) {\n        // console.log('instance error', instance);\n        const payload: any = {\n          InstanceId: instance,\n        };\n        const rs = $scope.datasource.getServiceFn(service, 'getDiskList')({ payload });\n        const result = rs.map((o) => {\n          return {\n            text: o[templateQueryIdMap.diskId],\n            value: JSON.stringify(o),\n          };\n        });\n        return result;\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in ECMBLOCKSTORAGEFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { GSEFilterFieldsDescriptor, templateQueryIdMap, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'fleetId',\n    field: 'FleetId',\n  },\n  {\n    label: 'queueName',\n    field: 'Name',\n  },\n];\nconst actionMaps = {\n  FleetId: 'getFleetList',\n  Name: 'getQueueNameList',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.GSEFilterFieldsDescriptor = GSEFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      // console.log({namespace, service});\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraDropdown = async (target, field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const instanceId = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      // const rs = await $scope.datasource.getServiceFn(service, 'getEnvironmentNameList')({ region, instanceId });\n      let rs = await $scope.datasource.getServiceFn(service, actionMaps[field])({ region, instanceId });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[field]];\n        return {\n          text: o[templateQueryIdMap[field]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in GSEFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n<div>\n  <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n      <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n        <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n          on-change=\"onRefresh()\" css-class=\"min-width-10\">\n        </gf-form-dropdown>\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { LBFilterDescriptor } from './query_def';\n\nexport class LBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      // $scope.LBQueryDescriptor = LBQueryDescriptor;\n      $scope.LBFilterDescriptor = LBFilterDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/16702\">Click here to get API doc.</a>\n</label>\n\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      AddressIds\n      <info-popover mode=\"right-normal\">\n        实例 ID，每次请求的实例的上限为100，参数不支持同时指定 AddressIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.AddressIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 AddressIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n\n<!--Filters部分-->\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in LBFilterDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function lbQuery() {\n  return {\n    template: template,\n    controller: LBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('lbQuery', lbQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { LighthouseFilterFieldsDescriptor } from './query_def';\n\nexport class LighthouseQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.LighthouseFilterFieldsDescriptor = LighthouseFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('lighthouse', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/1207/47573\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        Offset\n        <info-popover mode=\"right-normal\">\n          偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n        </info-popover>\n      </label>\n      <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        Limit\n        <info-popover mode=\"right-normal\">\n          单次请求返回的数量，默认为20，最小值为1，最大值为100\n        </info-popover>\n      </label>\n      <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-9\">\n        InstanceIds\n        <info-popover mode=\"right-normal\">\n          实例 ID，每次请求的实例的上限为100，参数不支持同时指定 InstanceIds 和 Filters\n        </info-popover>\n      </label>\n      <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n        switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n    </div>\n  </div>\n  <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n    <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n    </multi-condition>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-9\">\n        Filters\n        <info-popover mode=\"right-normal\">\n          过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 InstanceIds 和 Filters\n        </info-popover>\n      </label>\n      <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n        on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n    </div>\n  </div>\n  <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n    <div class=\"gf-form-inline\" ng-repeat=\"field in LighthouseFilterFieldsDescriptor\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputNumbermulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries.Filters[field.key]\"\n        options=\"field.list\"\n        multiple=\"true\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function lighthouseQuery() {\n  return {\n    template: template,\n    controller: LighthouseQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('lighthouseQuery', lighthouseQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { map, get, find, times } from 'lodash';\nimport { MONGODBFieldsDescriptor, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class MongoDBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.MONGODBFieldsDescriptor = MONGODBFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.onInstanceChange = (n, o) => {\n      if (n === o) {\n        return;\n      }\n      $scope.target.replica = '';\n      $scope.target.node = '';\n    };\n\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace('QCE/CMONGO');\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {\n        // console.log();\n      }\n      return variableData;\n    };\n\n    $scope.getExtraDropdown = async (target, type) => {\n      const { instance, replica } = $scope.target;\n      const service = GetServiceFromNamespace('QCE/CMONGO');\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const [res] = await $scope.datasource.getServiceFn(service, 'getInstances')(region, {\n        InstanceIds: [instanceId],\n      });\n      if (type === 'replica') {\n        return map(get(res, 'ReplicaSets', []), (item) => {\n          item._InstanceAliasValue = item.ReplicaSetId;\n          return { text: item.ReplicaSetId, value: JSON.stringify(item) };\n        });\n      }\n      if (type === 'node' && replica !== '') {\n        const replicaId = $scope.getVariableId(replica, 'replica');\n        const targetReplica = find(get(res, 'ReplicaSets', []), { ReplicaSetId: replicaId });\n        const options = times(targetReplica.SecondaryNum, (index) => {\n          const nodeId = `${targetReplica.ReplicaSetId}-node-slave${index}`;\n          return {\n            text: nodeId,\n            value: JSON.stringify({ NodeId: nodeId, _InstanceAliasValue: `${targetReplica.ReplicaSetId} - ${nodeId}` }),\n          };\n        });\n        return [\n          {\n            text: `${targetReplica.ReplicaSetId}-node-primary`,\n            value: JSON.stringify({\n              NodeId: `${targetReplica.ReplicaSetId}-node-primary`,\n              _InstanceAliasValue: `${targetReplica.ReplicaSetId} - ${`${targetReplica.ReplicaSetId}-node-primary`}`,\n            }),\n          },\n          ...options,\n        ];\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in MONGODBFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Replica\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.replica\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'replica')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.replica\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Node\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.node\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'node')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function mongodbQuery() {\n  return {\n    template: template,\n    controller: MongoDBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onRefresh: '&',\n      onChange: '&',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\n\ncoreModule.directive('mongodbQuery', mongodbQuery);\n","import { InstanceQueryDescriptor, templateQueryIdMap } from './query_def';\nimport coreModule from 'grafana/app/core/core_module';\n\nconst ExtraFields = [\n  {\n    label: 'NodeIP',\n    field: 'nodeIP',\n  },\n];\n\nexport class MrQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.InstanceQueryDescriptor = InstanceQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    // 各个实例下的订阅，由于不想每次都重复发请求，所以这里做了一层缓存，数据结构为{ [instanceId]: {   } }\n    $scope.cacheMap = {};\n\n    $scope.getExtraFields = () => {\n      return Object.keys($scope.dims ?? {}).some((item: string) => item.startsWith('host4')) ? ExtraFields : [];\n      // return ExtraFields;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('mrHDFS', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).ClusterId;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.onExtraFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      if (field === 'nodeIP') {\n        const InstanceId = $scope.getInstanceId();\n        let data = $scope.cacheMap[InstanceId];\n\n        if (!data) {\n          const region = $scope.datasource.getServiceFn('mrHDFS', 'getVariable')(target.region);\n          const fetcher = $scope.datasource.getServiceFn('mrHDFS', 'fetchAllNodes');\n          const dataT = await fetcher(region, { InstanceId, NodeFlag: 'all' });\n          data = dataT.map((item) => {\n            item._InstanceAliasValue = item[templateQueryIdMap.node];\n            return {\n              text: item[templateQueryIdMap.node],\n              value: JSON.stringify(item),\n            };\n          });\n        }\n\n        // 缓存\n        $scope.cacheMap[InstanceId] = data;\n        return data;\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/589/34266\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in InstanceQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n<!-- 主题的ui -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onExtraFieldChange(extra.field)\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function mrQuery() {\n  return {\n    template: template,\n    controller: MrQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('mrQuery', mrQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { NATGatewayFilterFieldsDescriptor } from './query_def';\n\nexport class NatGatewayQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.NATGatewayFilterFieldsDescriptor = NATGatewayFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/36034\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-10\">\n      NatGatewayIds\n      <info-popover mode=\"right-normal\">\n        NAT网关统一 ID，参数不支持同时指定 NatGatewayIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" value=\"target.queries.NatGatewayIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-10\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，参数不支持同时指定NatGatewayIds和Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in NATGatewayFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function natGatewayQuery() {\n  return {\n    template: template,\n    controller: NatGatewayQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('natGatewayQuery', natGatewayQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { OVCDNFilterFieldsDescriptor } from './query_def';\n\nexport class OVCDNQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.OVCDNFilterFieldsDescriptor = OVCDNFilterFieldsDescriptor;\n    };\n\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-repeat=\"field in OVCDNFilterFieldsDescriptor\">\n<label class=\"gf-form-label width-14\">\n  {{ field.key }}\n  <info-popover mode=\"right-normal\">\n    {{ field.cnDescriptor }}\n    <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n  </info-popover>\n</label>\n<multi-condition\n  ng-if=\"field.type === 'inputNumbermulti'\"\n  type=\"'inputNumber'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  maxNum=\"field.max\"\n  minNum=\"field.min\"\n  on-change=\"onChange()\"\n></multi-condition>\n<multi-condition\n  ng-if=\"field.type === 'inputmulti'\"\n  type=\"'input'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  on-change=\"onChange()\"\n></multi-condition>\n<custom-select-dropdown\n  ng-if=\"field.type === 'select'\"\n  value=\"target.queries.Filters[field.key]\"\n  options=\"field.list\"\n  multiple=\"true\"\n  on-change=\"onChange()\"\n></custom-select-dropdown>\n</div>\n\n</div>\n`;\n\nexport function ovCdnQuery() {\n  return {\n    template: template,\n    controller: OVCDNQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('ovCdnQuery', ovCdnQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { PCXFieldsDescriptor } from './query_def';\n\nexport class PCXQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.PCXFieldsDescriptor = PCXFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'vpcId':\n          return $scope.getVpcIds();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getVpcIds = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getVpcIds('pcx', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/2101\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in PCXFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function pcxQuery() {\n  return {\n    template: template,\n    controller: PCXQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('pcxQuery', pcxQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { RedisFieldsDescriptor } from './query_def';\n\nexport class RedisQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.RedisFieldsDescriptor = RedisFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in RedisFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function redisQuery() {\n  return {\n    template: template,\n    controller: RedisQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('redisQuery', redisQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { map } from 'lodash';\nimport { RedisMemFieldsDescriptor, templateQueryIdMap, NodeType, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class RedisMemQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.RedisMemFieldsDescriptor = RedisMemFieldsDescriptor;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.rnodeid = '';\n      $scope.target.pnodeid = '';\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace(namespace);\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {}\n      return variableData;\n    };\n\n    $scope.getExtraDropdown = async (target, nodetype) => {\n      const { instance } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getInstanceNodeInfo')({ region, instanceId });\n\n      const ndoeTypeIndex = NodeType.indexOf(nodetype);\n      return ndoeTypeIndex === -1 ? [] : map(rs[ndoeTypeIndex], (item) => ({ text: item.NodeId, value: item.NodeId }));\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in RedisMemFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.instance && dims.rnodeid\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      RedisNode\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.rnodeid\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'Redis')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.instance && dims.pnodeid\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      ProxyNode\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.pnodeid\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'Proxy')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function redisMemQuery() {\n  return {\n    template: template,\n    controller: RedisMemQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\n\ncoreModule.directive('redisMemQuery', redisMemQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { SCFQueryDescriptor, templateQueryIdMap } from './query_def';\n\nexport class SCFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.SCFQueryDescriptor = SCFQueryDescriptor;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('scf', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).FunctionName;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.getVersions = async (target) => {\n      // console.log(2222);\n\n      // return [{ text: 1, value: 1 }];\n      // console.log(target, 'target');\n      // let { instance, region } = target;\n      const FunctionName = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn('scf', 'getVariable')(target.region);\n      if (!FunctionName || !region) return [];\n\n      const fetcher = $scope.datasource.getServiceFn('scf', 'getVersions');\n\n      return fetcher(region, { FunctionName }).then((res) => {\n        // console.log(res, 'res');\n        const result = res.map((o) => {\n          o._InstanceAliasValue = o[templateQueryIdMap.version];\n          return {\n            text: o[templateQueryIdMap.version],\n            value: JSON.stringify(o),\n          };\n        });\n        return result;\n      });\n    };\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/583/18582\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in SCFQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- version部分 -->\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">Version</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.version\" allow-custom=\"false\" get-options=\"getVersions(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: SCFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n    },\n  };\n}\ncoreModule.directive('scfQuery', scfQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'environmentId',\n    field: 'environmentId',\n    action: 'DescribeEnvironments',\n  },\n  {\n    label: 'topicName',\n    field: 'topicName',\n    action: 'DescribeTopics',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeTopics: 'topicName',\n  DescribeEnvironments: 'environmentId',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        ClusterId: $scope.getInstanceId(),\n      };\n      if (action === 'DescribeTopics') {\n        let evId = $scope.target.environmentId;\n        try {\n          evId = JSON.parse(evId);\n          evId = evId[templateQueryIdMap.environmentId];\n        } catch (e) {}\n        payload.EnvironmentId = evId;\n      }\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          label: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Node',\n    field: 'node',\n    action: 'DescribeRabbitMQNodeList',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeRabbitMQNodeList: 'node',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.node = '';\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        InstanceId: $scope.getInstanceId(),\n      };\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          label: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\ncoreModule.directive('tdmqRabbitmqQuery', sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Namespace',\n    field: 'namespace',\n    action: 'DescribeRocketMQNamespaces',\n  },\n  {\n    label: 'Group',\n    field: 'group',\n    action: 'DescribeRocketMQGroups',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeRocketMQNamespaces: 'namespace',\n  DescribeRocketMQGroups: 'group',\n};\nexport class TdmqRocketmqQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.namespace = '';\n      $scope.target.group = '';\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        ClusterId: $scope.getInstanceId(),\n      };\n      if (action === 'DescribeRocketMQGroups') {\n        let namespace = $scope.target.namespace;\n        try {\n          namespace = JSON.parse(namespace)[templateQueryIdMap.namespace];\n        } catch (e) {}\n        payload.NamespaceId = $scope.datasource.getServiceFn(service, 'getVariable')(namespace);\n      }\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Offset\n          <info-popover mode=\"right-normal\">\n            偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Limit\n          <info-popover mode=\"right-normal\">\n            单次请求返回的数量，默认为20，最小值为1，最大值为100\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          ClusterIdList\n          <info-popover mode=\"right-normal\">\n            实例 ID，每次请求的实例的上限为100，参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n          switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n      <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.ClusterIdList\" on-change=\"onChange()\">\n      </multi-condition>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          Filters\n          <info-popover mode=\"right-normal\">\n            过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n          on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n      <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <multi-condition\n          ng-if=\"field.type === 'dropdownmulti'\"\n          type=\"'dropdown'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          get-options=\"getDropdown(field.key)\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputNumbermulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputmulti'\"\n          type=\"'input'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries.Filters[field.key]\"\n          options=\"field.list\"\n          multiple=\"false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function tdmqRocketmqQuery() {\n  return {\n    template: template,\n    controller: TdmqRocketmqQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\ncoreModule.directive('tdmqRocketmqQuery', tdmqRocketmqQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { isEmpty } from 'lodash';\nimport { TKEFilterFieldsDescriptor } from './query_def';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TKEFilterFieldsDescriptor = TKEFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.addCondition = () => {\n      $scope.target.conditions.push({ Key: '', Operator: '=', Value: '' });\n    };\n\n    $scope.deleteCondition = (index) => {\n      const targetCondition = $scope.target.conditions[index];\n      if (isEmpty(targetCondition.Key) || isEmpty(targetCondition.Operator) || isEmpty(targetCondition.Value)) {\n        $scope.target.conditions.splice(index, 1);\n      } else {\n        $scope.target.conditions.splice(index, 1);\n        $scope.onRefresh();\n      }\n    };\n\n    $scope.getOperator = () => {\n      return Promise.resolve([\n        { text: '=', value: '=' },\n        { text: 'in', value: 'in' },\n      ]);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Offset\n          <info-popover mode=\"right-normal\">\n            偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Limit\n          <info-popover mode=\"right-normal\">\n            单次请求返回的数量，默认为20，最小值为1，最大值为100\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          ClusterIdList\n          <info-popover mode=\"right-normal\">\n            实例 ID，每次请求的实例的上限为100，参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n          switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n      <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.ClusterIdList\" on-change=\"onChange()\">\n      </multi-condition>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          Filters\n          <info-popover mode=\"right-normal\">\n            过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n          on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n      <div class=\"gf-form-inline\" ng-repeat=\"field in TKEFilterFieldsDescriptor\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />   \n        <multi-condition\n          ng-if=\"field.type === 'dropdownmulti'\"\n          type=\"'dropdown'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          get-options=\"getDropdown(field.key)\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputNumbermulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputmulti'\"\n          type=\"'input'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries.Filters[field.key]\"\n          options=\"field.list\"\n          multiple=\"false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">Conditions</label>\n      <div>\n        <div class=\"gf-form\" ng-repeat=\"condition in target.conditions\">\n          <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"target.conditions[$index].Key\" ng-blur=\"onRefresh()\"></input>\n          <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n            <gf-form-dropdown model=\"target.conditions[$index].Operator\" get-options=\"getOperator()\" on-change=\"onRefresh()\" allow-custom=\"true\" css-class=\"min-width-5\">\n            </gf-form-dropdown>\n          </div>\n          <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"target.conditions[$index].Value\" ng-blur=\"onRefresh()\"></input>\n          <label class=\"gf-form-label pointer\" ng-click=\"deleteCondition($index)\">\n            <i class=\"fa fa-minus\"></i>\n          </label>\n          <label class=\"gf-form-label pointer\" ng-click=\"addCondition()\" ng-if=\"$last\">\n            <i class=\"fa fa-plus\"></i>\n          </label>\n        </div>\n        <div class=\"gf-form\" ng-if=\"target.conditions.length === 0\">\n          <label class=\"gf-form-label pointer\" ng-click=\"addCondition()\">\n            <i class=\"fa fa-plus\"></i>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">GroupBy</label>\n      <input class=\"gf-form-input width-15\" type=\"text\" ng-model=\"target.groupBys\" ng-blur=\"onRefresh()\"></input>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('tkeQuery', sQuery);\n","import coreModule from 'grafana/app/core/core_module';\nimport { TSFFieldsDescriptor } from './query_def';\n\nexport class TSFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TSFFieldsDescriptor = TSFFieldsDescriptor;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/649/36090\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in TSFFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function tsfQuery() {\n  return {\n    template: template,\n    controller: TSFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('tsfQuery', tsfQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import coreModule from 'grafana/app/core/core_module';\nimport { VBCFilterFieldsDescriptor, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields: any = [\n  // {\n  //   label: 'SRegion',\n  //   field: 'SRegion',\n  // },\n  // {\n  //   label: 'DRegion',\n  //   field: 'DRegion',\n  // },\n];\n\nexport class VBCQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.VBCFilterFieldsDescriptor = VBCFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getExtraDropdown = (field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      // return $scope.datasource.getServiceFn(service, 'getFilterDropdown')({ field })\n      return $scope.datasource.getFilterDropdown(service, { field });\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in VBCFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: VBCQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('vbcQuery', scfQuery);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","var map = {\n\t\".\": 20,\n\t\"./\": 20,\n\t\"./MonitorDatasource\": 188,\n\t\"./MonitorDatasource.ts\": 188,\n\t\"./_base/datasource\": 3,\n\t\"./_base/datasource.ts\": 3,\n\t\"./_base/query\": 7,\n\t\"./_base/query.ts\": 7,\n\t\"./_base/query_filter\": 195,\n\t\"./_base/query_filter.ts\": 195,\n\t\"./_base/types\": 196,\n\t\"./_base/types.ts\": 196,\n\t\"./apigateway/datasource\": 75,\n\t\"./apigateway/datasource.ts\": 75,\n\t\"./apigateway/query\": 131,\n\t\"./apigateway/query.ts\": 131,\n\t\"./apigateway/query_def\": 23,\n\t\"./apigateway/query_def.ts\": 23,\n\t\"./bmIntraLb/datasource\": 76,\n\t\"./bmIntraLb/datasource.ts\": 76,\n\t\"./bmIntraLb/query\": 132,\n\t\"./bmIntraLb/query.ts\": 132,\n\t\"./bmIntraLb/query_def\": 31,\n\t\"./bmIntraLb/query_def.ts\": 31,\n\t\"./bm_lb/datasource\": 77,\n\t\"./bm_lb/datasource.ts\": 77,\n\t\"./bm_lb/query\": 133,\n\t\"./bm_lb/query.ts\": 133,\n\t\"./bm_lb/query_def\": 32,\n\t\"./bm_lb/query_def.ts\": 32,\n\t\"./bm_pcx/datasource\": 78,\n\t\"./bm_pcx/datasource.ts\": 78,\n\t\"./bm_pcx/query\": 134,\n\t\"./bm_pcx/query.ts\": 134,\n\t\"./bm_pcx/query_def\": 33,\n\t\"./bm_pcx/query_def.ts\": 33,\n\t\"./bwp/datasource\": 79,\n\t\"./bwp/datasource.ts\": 79,\n\t\"./bwp/query\": 135,\n\t\"./bwp/query.ts\": 135,\n\t\"./bwp/query_def\": 63,\n\t\"./bwp/query_def.ts\": 63,\n\t\"./cbs/datasource\": 80,\n\t\"./cbs/datasource.ts\": 80,\n\t\"./cbs/query\": 136,\n\t\"./cbs/query.ts\": 136,\n\t\"./cbs/query_def\": 34,\n\t\"./cbs/query_def.ts\": 34,\n\t\"./cdb/datasource\": 81,\n\t\"./cdb/datasource.ts\": 81,\n\t\"./cdb/query\": 137,\n\t\"./cdb/query.ts\": 137,\n\t\"./cdb/query_def\": 44,\n\t\"./cdb/query_def.ts\": 44,\n\t\"./cdn/datasource\": 82,\n\t\"./cdn/datasource.ts\": 82,\n\t\"./cdn/query\": 138,\n\t\"./cdn/query.ts\": 138,\n\t\"./cdn/query_def\": 64,\n\t\"./cdn/query_def.ts\": 64,\n\t\"./cdn_province/datasource\": 83,\n\t\"./cdn_province/datasource.ts\": 83,\n\t\"./cdn_province/query\": 139,\n\t\"./cdn_province/query.ts\": 139,\n\t\"./cdn_province/query_def\": 35,\n\t\"./cdn_province/query_def.ts\": 35,\n\t\"./ceip_summary/datasource\": 84,\n\t\"./ceip_summary/datasource.ts\": 84,\n\t\"./ceip_summary/query\": 140,\n\t\"./ceip_summary/query.ts\": 140,\n\t\"./ceip_summary/query_def\": 36,\n\t\"./ceip_summary/query_def.ts\": 36,\n\t\"./ces/datasource\": 85,\n\t\"./ces/datasource.ts\": 85,\n\t\"./ces/query\": 141,\n\t\"./ces/query.ts\": 141,\n\t\"./ces/query_def\": 45,\n\t\"./ces/query_def.ts\": 45,\n\t\"./cfs/datasource\": 86,\n\t\"./cfs/datasource.ts\": 86,\n\t\"./cfs/query\": 142,\n\t\"./cfs/query.ts\": 142,\n\t\"./cfs/query_def\": 57,\n\t\"./cfs/query_def.ts\": 57,\n\t\"./ckafka/datasource\": 87,\n\t\"./ckafka/datasource.ts\": 87,\n\t\"./ckafka/query\": 143,\n\t\"./ckafka/query.ts\": 143,\n\t\"./ckafka/query_def\": 11,\n\t\"./ckafka/query_def.ts\": 11,\n\t\"./clb/datasource\": 88,\n\t\"./clb/datasource.ts\": 88,\n\t\"./clb/query\": 144,\n\t\"./clb/query.ts\": 144,\n\t\"./clb/query_def\": 12,\n\t\"./clb/query_def.ts\": 12,\n\t\"./cls/datasource\": 89,\n\t\"./cls/datasource.ts\": 89,\n\t\"./cls/query\": 145,\n\t\"./cls/query.ts\": 145,\n\t\"./cls/query_def\": 29,\n\t\"./cls/query_def.ts\": 29,\n\t\"./cmq/datasource\": 90,\n\t\"./cmq/datasource.ts\": 90,\n\t\"./cmq/query\": 146,\n\t\"./cmq/query.ts\": 146,\n\t\"./cmq/query_def\": 58,\n\t\"./cmq/query_def.ts\": 58,\n\t\"./cmq_topic/datasource\": 91,\n\t\"./cmq_topic/datasource.ts\": 91,\n\t\"./cmq_topic/query\": 147,\n\t\"./cmq_topic/query.ts\": 147,\n\t\"./cmq_topic/query_def\": 37,\n\t\"./cmq_topic/query_def.ts\": 37,\n\t\"./cos/datasource\": 92,\n\t\"./cos/datasource.ts\": 92,\n\t\"./cos/query_def\": 148,\n\t\"./cos/query_def.ts\": 148,\n\t\"./cpm/datasource\": 93,\n\t\"./cpm/datasource.ts\": 93,\n\t\"./cpm/query\": 149,\n\t\"./cpm/query.ts\": 149,\n\t\"./cpm/query_def\": 38,\n\t\"./cpm/query_def.ts\": 38,\n\t\"./cvm/datasource\": 94,\n\t\"./cvm/datasource.ts\": 94,\n\t\"./cvm/query\": 150,\n\t\"./cvm/query.ts\": 150,\n\t\"./cvm/query_def\": 59,\n\t\"./cvm/query_def.ts\": 59,\n\t\"./cynosdb_mysql/datasource\": 95,\n\t\"./cynosdb_mysql/datasource.ts\": 95,\n\t\"./cynosdb_mysql/query\": 151,\n\t\"./cynosdb_mysql/query.ts\": 151,\n\t\"./cynosdb_mysql/query_def\": 27,\n\t\"./cynosdb_mysql/query_def.ts\": 27,\n\t\"./dc/datasource\": 96,\n\t\"./dc/datasource.ts\": 96,\n\t\"./dc/query\": 152,\n\t\"./dc/query.ts\": 152,\n\t\"./dc/query_def\": 46,\n\t\"./dc/query_def.ts\": 46,\n\t\"./dcdb/datasource\": 97,\n\t\"./dcdb/datasource.ts\": 97,\n\t\"./dcdb/query\": 153,\n\t\"./dcdb/query.ts\": 153,\n\t\"./dcdb/query_def\": 16,\n\t\"./dcdb/query_def.ts\": 16,\n\t\"./dcg/datasource\": 98,\n\t\"./dcg/datasource.ts\": 98,\n\t\"./dcg/query\": 154,\n\t\"./dcg/query.ts\": 154,\n\t\"./dcg/query_def\": 47,\n\t\"./dcg/query_def.ts\": 47,\n\t\"./dcx/datasource\": 99,\n\t\"./dcx/datasource.ts\": 99,\n\t\"./dcx/query\": 155,\n\t\"./dcx/query.ts\": 155,\n\t\"./dcx/query_def\": 48,\n\t\"./dcx/query_def.ts\": 48,\n\t\"./ecdn/datasource\": 100,\n\t\"./ecdn/datasource.ts\": 100,\n\t\"./ecdn/query\": 156,\n\t\"./ecdn/query.ts\": 156,\n\t\"./ecdn/query_def\": 39,\n\t\"./ecdn/query_def.ts\": 39,\n\t\"./ecm/datasource\": 101,\n\t\"./ecm/datasource.ts\": 101,\n\t\"./ecm/query\": 157,\n\t\"./ecm/query.ts\": 157,\n\t\"./ecm/query_def\": 40,\n\t\"./ecm/query_def.ts\": 40,\n\t\"./ecm_block_storage/datasource\": 102,\n\t\"./ecm_block_storage/datasource.ts\": 102,\n\t\"./ecm_block_storage/query\": 158,\n\t\"./ecm_block_storage/query.ts\": 158,\n\t\"./ecm_block_storage/query_def\": 21,\n\t\"./ecm_block_storage/query_def.ts\": 21,\n\t\"./ecm_lb/datasource\": 103,\n\t\"./ecm_lb/datasource.ts\": 103,\n\t\"./ecm_lb/query\": 159,\n\t\"./ecm_lb/query.ts\": 159,\n\t\"./ecm_lb/query_def\": 49,\n\t\"./ecm_lb/query_def.ts\": 49,\n\t\"./gse/datasource\": 104,\n\t\"./gse/datasource.ts\": 104,\n\t\"./gse/query\": 160,\n\t\"./gse/query.ts\": 160,\n\t\"./gse/query_def\": 15,\n\t\"./gse/query_def.ts\": 15,\n\t\"./index\": 20,\n\t\"./index.ts\": 20,\n\t\"./lb/datasource\": 105,\n\t\"./lb/datasource.ts\": 105,\n\t\"./lb/query\": 161,\n\t\"./lb/query.ts\": 161,\n\t\"./lb/query_def\": 65,\n\t\"./lb/query_def.ts\": 65,\n\t\"./lighthouse/datasource\": 106,\n\t\"./lighthouse/datasource.ts\": 106,\n\t\"./lighthouse/query\": 162,\n\t\"./lighthouse/query.ts\": 162,\n\t\"./lighthouse/query_def\": 56,\n\t\"./lighthouse/query_def.ts\": 56,\n\t\"./mongodb/datasource\": 107,\n\t\"./mongodb/datasource.ts\": 107,\n\t\"./mongodb/query\": 163,\n\t\"./mongodb/query.ts\": 163,\n\t\"./mongodb/query_def\": 50,\n\t\"./mongodb/query_def.ts\": 50,\n\t\"./mr/datasource\": 108,\n\t\"./mr/datasource.ts\": 108,\n\t\"./mr/query\": 164,\n\t\"./mr/query.ts\": 164,\n\t\"./mr/query_def\": 24,\n\t\"./mr/query_def.ts\": 24,\n\t\"./nat_gateway/datasource\": 109,\n\t\"./nat_gateway/datasource.ts\": 109,\n\t\"./nat_gateway/query\": 165,\n\t\"./nat_gateway/query.ts\": 165,\n\t\"./nat_gateway/query_def\": 66,\n\t\"./nat_gateway/query_def.ts\": 66,\n\t\"./ov_cdn/datasource\": 110,\n\t\"./ov_cdn/datasource.ts\": 110,\n\t\"./ov_cdn/query\": 166,\n\t\"./ov_cdn/query.ts\": 166,\n\t\"./ov_cdn/query_def\": 67,\n\t\"./ov_cdn/query_def.ts\": 67,\n\t\"./pcx/datasource\": 111,\n\t\"./pcx/datasource.ts\": 111,\n\t\"./pcx/query\": 167,\n\t\"./pcx/query.ts\": 167,\n\t\"./pcx/query_def\": 60,\n\t\"./pcx/query_def.ts\": 60,\n\t\"./postgresql/datasource\": 112,\n\t\"./postgresql/datasource.ts\": 112,\n\t\"./postgresql/query\": 168,\n\t\"./postgresql/query.ts\": 168,\n\t\"./postgresql/query_def\": 41,\n\t\"./postgresql/query_def.ts\": 41,\n\t\"./qaap/datasource\": 113,\n\t\"./qaap/datasource.ts\": 113,\n\t\"./qaap/query\": 169,\n\t\"./qaap/query.ts\": 169,\n\t\"./qaap/query_def\": 51,\n\t\"./qaap/query_def.ts\": 51,\n\t\"./redis/datasource\": 114,\n\t\"./redis/datasource.ts\": 114,\n\t\"./redis/query\": 170,\n\t\"./redis/query.ts\": 170,\n\t\"./redis/query_def\": 61,\n\t\"./redis/query_def.ts\": 61,\n\t\"./redis_mem/datasource\": 115,\n\t\"./redis_mem/datasource.ts\": 115,\n\t\"./redis_mem/query\": 171,\n\t\"./redis_mem/query.ts\": 171,\n\t\"./redis_mem/query_def\": 17,\n\t\"./redis_mem/query_def.ts\": 17,\n\t\"./scf/datasource\": 116,\n\t\"./scf/datasource.ts\": 116,\n\t\"./scf/query\": 172,\n\t\"./scf/query.ts\": 172,\n\t\"./scf/query_def\": 28,\n\t\"./scf/query_def.ts\": 28,\n\t\"./sqlserver/datasource\": 117,\n\t\"./sqlserver/datasource.ts\": 117,\n\t\"./sqlserver/query\": 173,\n\t\"./sqlserver/query.ts\": 173,\n\t\"./sqlserver/query_def\": 30,\n\t\"./sqlserver/query_def.ts\": 30,\n\t\"./tcaplus/datasource\": 118,\n\t\"./tcaplus/datasource.ts\": 118,\n\t\"./tcaplus/query\": 174,\n\t\"./tcaplus/query.ts\": 174,\n\t\"./tcaplus/query_def\": 52,\n\t\"./tcaplus/query_def.ts\": 52,\n\t\"./tdmq/datasource\": 119,\n\t\"./tdmq/datasource.ts\": 119,\n\t\"./tdmq/query\": 175,\n\t\"./tdmq/query.ts\": 175,\n\t\"./tdmq/query_def\": 13,\n\t\"./tdmq/query_def.ts\": 13,\n\t\"./tdmq_rabbitmq/datasource\": 120,\n\t\"./tdmq_rabbitmq/datasource.ts\": 120,\n\t\"./tdmq_rabbitmq/query\": 176,\n\t\"./tdmq_rabbitmq/query.ts\": 176,\n\t\"./tdmq_rabbitmq/query_def\": 18,\n\t\"./tdmq_rabbitmq/query_def.ts\": 18,\n\t\"./tdmq_rocketmq/datasource\": 121,\n\t\"./tdmq_rocketmq/datasource.ts\": 121,\n\t\"./tdmq_rocketmq/query\": 177,\n\t\"./tdmq_rocketmq/query.ts\": 177,\n\t\"./tdmq_rocketmq/query_def\": 19,\n\t\"./tdmq_rocketmq/query_def.ts\": 19,\n\t\"./tke/datasource\": 122,\n\t\"./tke/datasource.ts\": 122,\n\t\"./tke/query\": 178,\n\t\"./tke/query.ts\": 178,\n\t\"./tke/query_def\": 74,\n\t\"./tke/query_def.ts\": 74,\n\t\"./tsf/datasource\": 123,\n\t\"./tsf/datasource.ts\": 123,\n\t\"./tsf/query\": 179,\n\t\"./tsf/query.ts\": 179,\n\t\"./tsf/query_def\": 62,\n\t\"./tsf/query_def.ts\": 62,\n\t\"./v_clb/datasource\": 124,\n\t\"./v_clb/datasource.ts\": 124,\n\t\"./v_clb/query\": 180,\n\t\"./v_clb/query.ts\": 180,\n\t\"./v_clb/query_def\": 25,\n\t\"./v_clb/query_def.ts\": 25,\n\t\"./vbc/datasource\": 125,\n\t\"./vbc/datasource.ts\": 125,\n\t\"./vbc/query\": 181,\n\t\"./vbc/query.ts\": 181,\n\t\"./vbc/query_def\": 53,\n\t\"./vbc/query_def.ts\": 53,\n\t\"./vpc_net_detect/datasource\": 126,\n\t\"./vpc_net_detect/datasource.ts\": 126,\n\t\"./vpc_net_detect/query\": 182,\n\t\"./vpc_net_detect/query.ts\": 182,\n\t\"./vpc_net_detect/query_def\": 42,\n\t\"./vpc_net_detect/query_def.ts\": 42,\n\t\"./vpngw/datasource\": 127,\n\t\"./vpngw/datasource.ts\": 127,\n\t\"./vpngw/query\": 183,\n\t\"./vpngw/query.ts\": 183,\n\t\"./vpngw/query_def\": 54,\n\t\"./vpngw/query_def.ts\": 54,\n\t\"./vpnx/datasource\": 128,\n\t\"./vpnx/datasource.ts\": 128,\n\t\"./vpnx/query\": 184,\n\t\"./vpnx/query.ts\": 184,\n\t\"./vpnx/query_def\": 55,\n\t\"./vpnx/query_def.ts\": 55,\n\t\"./waf/datasource\": 129,\n\t\"./waf/datasource.ts\": 129,\n\t\"./waf/query\": 185,\n\t\"./waf/query.ts\": 185,\n\t\"./waf/query_def\": 43,\n\t\"./waf/query_def.ts\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 186;","import { map, find, filter, indexOf, cloneDeep } from 'lodash';\nimport queryPart from './query_part';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport { APMQuery, APMQueryTag } from './types';\nimport { ScopedVars } from '@grafana/data';\nimport { TemplateSrv } from '@grafana/runtime';\nimport { defaultQueryInfo } from '../types';\n\nexport default class APMQueryModel {\n  target: APMQuery;\n  selectModels: any[] = [];\n  queryBuilder: any;\n  groupByParts: any;\n  templateSrv: any;\n  scopedVars: any;\n  refId?: string;\n\n  /** @ngInject */\n  constructor(target: APMQuery, templateSrv?: TemplateSrv, scopedVars?: ScopedVars) {\n    this.target = target;\n    this.templateSrv = templateSrv;\n    this.scopedVars = scopedVars;\n\n    target.policy = target.policy || defaultQueryInfo.APMServiceParams.policy;\n    target.resultFormat = target.resultFormat || defaultQueryInfo.APMServiceParams.resultFormat;\n    target.orderBy = target.orderBy || defaultQueryInfo.APMServiceParams.orderBy;\n    target.orderType = target.orderType || defaultQueryInfo.APMServiceParams.orderType;\n    target.tags = target.tags || cloneDeep(defaultQueryInfo.APMServiceParams.tags);\n    target.groupBy = target.groupBy || cloneDeep(defaultQueryInfo.APMServiceParams.groupBy);\n    target.select = target.select || cloneDeep(defaultQueryInfo.APMServiceParams.select);\n\n    this.updateProjection();\n  }\n\n  updateProjection() {\n    this.selectModels = map(this.target.select, (parts: any) => {\n      return map(parts, queryPart.create);\n    });\n    this.groupByParts = map(this.target.groupBy, queryPart.create);\n  }\n\n  updatePersistedParts() {\n    this.target.select = map(this.selectModels, (selectParts) => {\n      return map(selectParts, (part: any) => {\n        return { type: part.def.type, params: part.params };\n      });\n    });\n  }\n\n  hasGroupByTime() {\n    return find(this.target.groupBy, (g: any) => g.type === 'time');\n  }\n\n  hasFill() {\n    return find(this.target.groupBy, (g: any) => g.type === 'fill');\n  }\n\n  addGroupBy(value: string) {\n    let stringParts = value.match(/^(\\w+)\\((.*)\\)$/);\n\n    if (!stringParts || !this.target.groupBy) {\n      return;\n    }\n\n    const typePart = stringParts[1];\n    const arg = stringParts[2];\n    const partModel = queryPart.create({ type: typePart, params: [arg] });\n    const partCount = this.target.groupBy.length;\n\n    if (partCount === 0) {\n      this.target.groupBy.push(partModel.part);\n    } else if (typePart === 'time') {\n      this.target.groupBy.splice(0, 0, partModel.part);\n    } else if (typePart === 'tag') {\n      if (this.target.groupBy[partCount - 1].type === 'fill') {\n        this.target.groupBy.splice(partCount - 1, 0, partModel.part);\n      } else {\n        this.target.groupBy.push(partModel.part);\n      }\n    } else {\n      this.target.groupBy.push(partModel.part);\n    }\n\n    this.updateProjection();\n  }\n\n  removeGroupByPart(part: { def: { type: string } }, index: number) {\n    const categories = queryPart.getCategories();\n\n    if (part.def.type === 'time') {\n      // remove fill\n      this.target.groupBy = filter(this.target.groupBy, (g: any) => g.type !== 'fill');\n      // remove aggregations\n      this.target.select = map(this.target.select, (s: any) => {\n        return filter(s, (part: any) => {\n          const partModel = queryPart.create(part);\n          if (partModel.def.category === categories.Aggregations) {\n            return false;\n          }\n          if (partModel.def.category === categories.Selectors) {\n            return false;\n          }\n          return true;\n        });\n      });\n    }\n\n    this.target.groupBy!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelect(index: number) {\n    this.target.select!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelectPart(selectParts: any[], part: any) {\n    // if we remove the field remove the whole statement\n    if (part.def.type === 'field') {\n      if (this.selectModels.length > 1) {\n        const modelsIndex = indexOf(this.selectModels, selectParts);\n        this.selectModels.splice(modelsIndex, 1);\n      }\n    } else {\n      const partIndex = indexOf(selectParts, part);\n      selectParts.splice(partIndex, 1);\n    }\n\n    this.updatePersistedParts();\n  }\n\n  addSelectPart(selectParts: any[], type: string) {\n    const partModel = queryPart.create({ type: type });\n    partModel.def.addStrategy(selectParts, partModel, this);\n    this.updatePersistedParts();\n  }\n\n  getMeasurementAndPolicy(interpolate: any) {\n    let policy = this.target.policy;\n    let measurement = this.target.measurement || 'measurement';\n\n    if (!measurement.match('^/.*/$')) {\n      measurement = '\"' + measurement + '\"';\n    } else if (interpolate) {\n      measurement = this.templateSrv.replace(measurement, this.scopedVars, 'regex');\n    }\n\n    if (policy !== 'default') {\n      policy = '\"' + this.target.policy + '\".';\n    } else {\n      policy = '';\n    }\n\n    return policy + measurement;\n  }\n\n  interpolateQueryStr(value: any[], variable: { multi: any; includeAll: any }, defaultFormatFn: any) {\n    // if no multi or include all do not regexEscape\n    if (!variable.multi && !variable.includeAll) {\n      return value;\n    }\n\n    if (typeof value === 'string') {\n      return kbn.regexEscape(value);\n    }\n\n    const escapedValues = map(value, kbn.regexEscape);\n    return '(' + escapedValues.join('|') + ')';\n  }\n\n  render(interpolate?: boolean) {\n    const target = this.target;\n\n    if (target.rawQuery) {\n      if (interpolate) {\n        return this.templateSrv.replace(target.query, this.scopedVars, this.interpolateQueryStr);\n      } else {\n        return target.query;\n      }\n    }\n\n    let query = 'select ';\n    let i;\n    let y;\n    // 自定义特殊处理\n    if (this.selectModels[0][1]?.part.type === 'custom') {\n      query += this.selectModels[0][0].params[0];\n    } else {\n      for (i = 0; i < this.selectModels?.length; i++) {\n        const parts = this.selectModels[i];\n        let selectText = '';\n        for (y = 0; y < parts.length; y++) {\n          const part = parts[y];\n          selectText = part.render(selectText);\n        }\n\n        if (i > 0) {\n          query += ', ';\n        }\n        query += selectText;\n      }\n    }\n\n    query += ' from ' + this.getMeasurementAndPolicy(interpolate) + ' where ';\n    const conditions = map(target.tags, (tag, index) => {\n      return this.renderTagCondition(tag, index, interpolate);\n    });\n\n    if (conditions.length > 0) {\n      query += '(' + conditions.join(' ') + ') and ';\n    }\n\n    query += '$timeFilter';\n\n    let groupBySection = '';\n    const len = this.groupByParts.length;\n    let groupByParts = this.groupByParts;\n    if (len > 2) {\n      groupByParts = this.groupByParts.filter((item) => item.def.type !== 'time');\n    }\n    for (i = 0; i < groupByParts.length; i++) {\n      const part = groupByParts[i];\n      if (i > 0) {\n        // for some reason fill has no separator\n        groupBySection += part.def.type === 'fill' ? ' ' : ', ';\n      }\n      groupBySection += part.render('');\n    }\n\n    if (groupBySection.length) {\n      query += ' group by ' + groupBySection;\n    }\n\n    if (target.fill) {\n      query += ' fill(' + target.fill + ')';\n    }\n    if (target.orderType) {\n      query += ' order by ' + target.orderType;\n    }\n    if (target.orderBy) {\n      query += ' ' + target.orderBy;\n    }\n\n    if (target.limit) {\n      query += ' limit ' + target.limit;\n    }\n\n    if (target.slimit) {\n      query += ' slimit ' + target.slimit;\n    }\n\n    if (target.tz) {\n      query += \" tz('\" + target.tz + \"')\";\n    }\n\n    return query;\n  }\n\n  renderAdhocFilters(filters: any[]) {\n    const conditions = map(filters, (tag, index) => {\n      return this.renderTagCondition(tag, index, true);\n    });\n    return conditions.join(' ');\n  }\n\n  private renderTagCondition(tag: APMQueryTag, index: number, interpolate?: boolean) {\n    // FIXME: merge this function with query_builder/renderTagCondition\n    let str = '';\n    let operator = tag.operator;\n    let value = tag.value;\n    if (index > 0) {\n      str = (tag.condition.toLowerCase() || 'and') + ' ';\n    }\n\n    if (!operator) {\n      if (/^\\/.*\\/$/.test(value)) {\n        operator = '=~';\n      } else {\n        operator = '=';\n      }\n    }\n\n    // quote value unless regex\n    if (operator !== '=~' && operator !== '!~') {\n      if (interpolate) {\n        value = this.templateSrv.replace(value, this.scopedVars);\n      }\n      if (operator !== '>' && operator !== '<') {\n        value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n      }\n      if (operator === 'in') {\n        value = '(' + value + ')';\n      }\n    } else if (interpolate) {\n      value = this.templateSrv.replace(value, this.scopedVars, 'regex');\n    }\n\n    return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n  }\n}\n","import _ from 'lodash';\nimport { Datasources, SERVICES } from './index';\nimport { GetServiceFromNamespace, ParseMetricQuery } from '../common/constants';\nimport { serviceGroupBy } from '../common/utils';\nimport { LoadingState } from '@grafana/data';\n\nexport default interface DatasourceInterface {\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n  query: (options: any) => any;\n  testDatasource: () => any;\n  metricFindQuery: (query: any) => any;\n  getRegions?: (service: string) => any;\n  getMetrics: (service: string, region: string) => any;\n  getInstances: (service: string, region: string, params: any) => any;\n  getZones?: (service: string, region: string) => any;\n}\n\nexport class TCMonitorDatasource implements DatasourceInterface {\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n\n  /** @ngInject */\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    this.instanceSettings = instanceSettings;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    _.forEach(Datasources, (_class: any, key) => {\n      this[key] = new _class(this.instanceSettings, this.backendSrv, this.templateSrv);\n    });\n  }\n\n  // 根据 Datasource Config 配置时勾选的监控服务项，获取相应的命名空间\n  getNamespaces() {\n    const namespaces: any[] = [];\n    _.forEach(SERVICES, (service) => {\n      if (this.instanceSettings.jsonData[service.service] === true) {\n        // namespaces.push(service.namespace);\n        namespaces.push(service);\n      }\n    });\n    return namespaces;\n  }\n\n  getCascaderNamespaces() {\n    const validServices = SERVICES.filter((service) => this.instanceSettings.jsonData[service.service]);\n    return serviceGroupBy(validServices);\n  }\n\n  getSelectedServices() {\n    const namespaces = this.getNamespaces();\n    return _.map(namespaces, ({ namespace }) => {\n      return GetServiceFromNamespace(namespace);\n    });\n  }\n\n  /**\n   * 根据 Panel 的配置项，获取相应的监控数据\n   *\n   * @param options Panel 的配置参数，示例如下\n   *  {\n   *     cacheTimeout: undefined,\n   *     dashboardId: 41,\n   *     interval: \"30s\",\n   *     intervalMs: 30000,\n   *     maxDataPoints: 554,\n   *     panelId: 2,\n   *     range: {\n   *        from: Moment,\n   *        to: Moment,\n   *        raw: {from: \"now-6h\", to: \"now\"}\n   *     },\n   *     rangeRaw: {from: \"now-6h\", to: \"now\"},\n   *     scopedVars: {__interval: {…}, __interval_ms: {…}}\n   *     targets: [\n   *       {\n   *          namespace: \"QCE/CVM\",\n   *          refId: \"A\",\n   *          service: \"cvm\",\n   *          showInstanceDetails: false,\n   *          cvm: {\n   *            dimensionObject: {InstanceId: {…}}\n   *            instance: \"\",\n   *            instanceAlias: \"InstanceId\",\n   *            metricName: \"AccOuttraffic\",\n   *            metricUnit: \"MB\",\n   *            period: 10,\n   *            queries: {Filters: {…}, InstanceIds: Array(1), Limit: 20, Offset: 0, filtersChecked: false, …},\n   *            region: \"ap-beijing\"\n   *          },\n   *          cdb: {},\n   *       },\n   *     ],\n   *     timezone: \"browser\"\n   *   }\n   * @return 返回数据对象，示例如下\n   * {\n   *   data: [\n   *     {\n   *       \"target\": \"AccOuttraffic - ins-123\",\n   *       \"datapoints\": [\n   *         [861, 1450754160000],\n   *         [767, 1450754220000]\n   *       ]\n   *     }\n   *   ]\n   * }\n   */\n  query(options: any) {\n    const promises: any[] = [];\n    const services = this.getSelectedServices();\n    _.forEach(services, (service) => {\n      const optionsTemp = _.cloneDeep(options);\n      const targets = _.filter(optionsTemp.targets, (item) => item.service === service);\n      optionsTemp.targets = targets;\n      if (optionsTemp.targets.length > 0) {\n        const promiseTemp = this[`${_.toUpper(service)}Datasource`].query(optionsTemp);\n        if (promiseTemp) {\n          promises.push(promiseTemp);\n        }\n      }\n    });\n    if (promises.length === 0) {\n      return Promise.resolve({ data: [], state: LoadingState.Done });\n    }\n    return Promise.all(promises).then((results) => {\n      return { data: _.flatten(results), state: LoadingState.Done };\n    });\n  }\n\n  /**\n   * 获取模板变量的选择项列表\n   *\n   * @param query 模板变量配置填写的 Query 参数字符串\n   */\n  metricFindQuery(query: string, options?: any) {\n    const queries = ParseMetricQuery(query);\n    const service = GetServiceFromNamespace(queries['namespace'] || '');\n\n    if (_.isEmpty(queries) || !queries['namespace'] || !queries['action'] || !service) {\n      return Promise.resolve([]);\n    }\n    if (this[`${_.toUpper(service)}Datasource`].metricFindQuery) {\n      const result = this[`${_.toUpper(service)}Datasource`].metricFindQuery(\n        queries,\n        _.get(options, 'variable.regex', undefined)\n      );\n      if (result) {\n        return result;\n      }\n    }\n    return Promise.resolve([]);\n  }\n\n  /**\n   * 获取地域列表\n   * @param service\n   */\n  getRegions(service) {\n    if (this[`${_.toUpper(service)}Datasource`].getRegions) {\n      return this[`${_.toUpper(service)}Datasource`].getRegions();\n    }\n    return [];\n  }\n\n  /**\n   * 获取监控指标列表\n   * @param service\n   * @param region\n   */\n  getMetrics(service, region) {\n    return this[`${_.toUpper(service)}Datasource`].getMetrics(region);\n  }\n\n  /**\n   * 获取可用区列表\n   * @param service\n   * @param region\n   */\n  getZones(service, region) {\n    if (this[`${_.toUpper(service)}Datasource`].getZones) {\n      return this[`${_.toUpper(service)}Datasource`].getZones(region);\n    }\n    return [];\n  }\n\n  /**\n   * 获取filter中dropdown列表\n   * @param service\n   * @param param\n   */\n  getFilterDropdown(service, param) {\n    if (this[`${_.toUpper(service)}Datasource`].getFilterDropdown) {\n      return this[`${_.toUpper(service)}Datasource`].getFilterDropdown(param);\n    }\n    return [];\n  }\n\n  /**\n   * 获取实例列表\n   * @param service\n   * @param region\n   * @param params\n   */\n  getInstances(service, region, params) {\n    return this[`${_.toUpper(service)}Datasource`].getInstances(region, params);\n  }\n\n  /**\n   * 获取监听器列表\n   * @param service\n   * @param region\n   * @param params\n   */\n  getListeners(service, region, instance) {\n    if (!this[`${_.toUpper(service)}Datasource`].getListeners) {\n      return [];\n    }\n    return this[`${_.toUpper(service)}Datasource`].getListeners(region, instance);\n  }\n\n  /**\n   * 获取 私有网络列表\n   * @param service\n   */\n  getVpcIds(service, region) {\n    if (this[`${_.toUpper(service)}Datasource`].getVpcIds) {\n      return this[`${_.toUpper(service)}Datasource`].getVpcIds(region);\n    }\n  }\n\n  // 在 Datasource Config 配置时，验证 SerectId、SerectKey 的有效性，并测试勾选的监控服务项的对应 API 连通性\n  testDatasource() {\n    const promises: any[] = [];\n    const services = this.getSelectedServices();\n    _.forEach(services, (service) => {\n      promises.push(this[`${_.toUpper(service)}Datasource`].testDatasource());\n    });\n    if (promises.length === 0) {\n      return Promise.resolve(null);\n    }\n\n    return Promise.all(promises).then((results) => {\n      let status = 'success';\n      let message = 'DataSource Connection OK';\n\n      const errorMsg = _.reduce(\n        results,\n        (acc, cur) => {\n          if (cur.status === 'error') {\n            if (acc === '') acc += 'Oops! Found an error in: ';\n            acc += `${cur.service}: ${cur.message}; \\n`;\n          }\n          return acc;\n        },\n        ''\n      );\n\n      if (errorMsg) {\n        status = 'error';\n        message = errorMsg;\n      }\n\n      return {\n        status,\n        message,\n        title: _.upperFirst(status),\n      };\n    });\n  }\n\n  getServiceFn(service, fnName) {\n    return (...argu) => {\n      if (!this[`${_.toUpper(service)}Datasource`][fnName]) {\n        return [];\n      }\n      return this[`${_.toUpper(service)}Datasource`][fnName](...argu);\n    };\n  }\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map\n","module.exports = __WEBPACK_EXTERNAL_MODULE__190__;","import { clone, each, map } from 'lodash';\n\nexport class QueryPartDef {\n  type: string;\n  params: any[];\n  defaultParams: any[];\n  renderer: any;\n  category: any;\n  addStrategy: any;\n\n  constructor(options: any) {\n    this.type = options.type;\n    this.params = options.params;\n    this.defaultParams = options.defaultParams;\n    this.renderer = options.renderer;\n    this.category = options.category;\n    this.addStrategy = options.addStrategy;\n  }\n}\n\nexport class QueryPart {\n  part: any;\n  def: QueryPartDef;\n  params: any[];\n  text: string;\n\n  constructor(part: any, def: any) {\n    this.part = part;\n    this.def = def;\n    if (!this.def) {\n      // eslint-disable-next-line no-throw-literal\n      throw { message: 'Could not find query part ' + part.type };\n    }\n\n    part.params = part.params || clone(this.def.defaultParams);\n    this.params = part.params;\n    this.text = '';\n    this.updateText();\n  }\n\n  render(innerExpr: string) {\n    return this.def.renderer(this, innerExpr);\n  }\n\n  hasMultipleParamsInString(strValue: string, index: number) {\n    if (strValue.indexOf(',') === -1) {\n      return false;\n    }\n\n    return this.def.params[index + 1] && this.def.params[index + 1].optional;\n  }\n\n  updateParam(strValue: string, index: number) {\n    // handle optional parameters\n    // if string contains ',' and next param is optional, split and update both\n    if (this.hasMultipleParamsInString(strValue, index)) {\n      each(strValue.split(','), (partVal, idx) => {\n        this.updateParam(partVal.trim(), idx);\n      });\n      return;\n    }\n\n    if (strValue === '' && this.def.params[index].optional) {\n      this.params.splice(index, 1);\n    } else {\n      this.params[index] = strValue;\n    }\n\n    this.part.params = this.params;\n    this.updateText();\n  }\n\n  updateText() {\n    if (this.params.length === 0) {\n      this.text = this.def.type + '()';\n      return;\n    }\n\n    let text = this.def.type + '(';\n    text += this.params.join(', ');\n    text += ')';\n    this.text = text;\n  }\n}\n\nexport function functionRenderer(part: any, innerExpr: string) {\n  const str = part.def.type + '(';\n  const parameters = map(part.params, (value, index) => {\n    const paramType = part.def.params[index];\n    if (paramType.type === 'time') {\n      if (value === 'auto') {\n        value = '$__interval';\n      }\n    }\n    if (paramType.quote === 'single') {\n      return \"'\" + value + \"'\";\n    } else if (paramType.quote === 'double') {\n      return '\"' + value + '\"';\n    }\n\n    return value;\n  });\n\n  if (innerExpr) {\n    parameters.unshift(innerExpr);\n  }\n  return str + parameters.join(', ') + ')';\n}\n\nexport function suffixRenderer(part: QueryPart, innerExpr: string) {\n  return innerExpr + ' ' + part.params[0];\n}\n\nexport function identityRenderer(part: QueryPart, innerExpr: string) {\n  return part.params[0];\n}\n\nexport function quotedIdentityRenderer(part: QueryPart, innerExpr: string) {\n  return '\"' + part.params[0] + '\"';\n}\n\nconst index: any[] = [];\nconst categories: any = {\n  Aggregations: [],\n  Selectors: [],\n  Transformations: [],\n  Predictors: [],\n  Math: [],\n  Aliasing: [],\n  Fields: [],\n};\n\nfunction createPart(part: any): any {\n  const def = index[part.type];\n  if (!def) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: 'Could not find query part ' + part.type };\n  }\n\n  return new QueryPart(part, def);\n}\n\nfunction register(options: any) {\n  index[options.type] = new QueryPartDef(options);\n  options.category.push(index[options.type]);\n}\n\nconst groupByTimeFunctions: any[] = [];\n\nfunction aliasRenderer(part: { params: string[] }, innerExpr: string) {\n  // eslint-disable-next-line no-useless-concat\n  return innerExpr + ' AS ' + '\"' + part.params[0] + '\"';\n}\n\nfunction fieldRenderer(part: { params: string[] }, innerExpr: any) {\n  if (part.params[0] === '*') {\n    return '*';\n  }\n  return '\"' + part.params[0] + '\"';\n}\n\nfunction replaceAggregationAddStrategy(selectParts: any[], partModel: { def: { type: string } }) {\n  // look for existing aggregation\n  for (let i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Aggregations) {\n      if (part.def.type === partModel.def.type) {\n        return;\n      }\n      // count distinct is allowed\n      if (part.def.type === 'count' && partModel.def.type === 'distinct') {\n        break;\n      }\n      // remove next aggregation if distinct was replaced\n      if (part.def.type === 'distinct') {\n        const morePartsAvailable = selectParts.length >= i + 2;\n        if (partModel.def.type !== 'count' && morePartsAvailable) {\n          const nextPart = selectParts[i + 1];\n          if (nextPart.def.category === categories.Aggregations) {\n            selectParts.splice(i + 1, 1);\n          }\n        } else if (partModel.def.type === 'count') {\n          if (!morePartsAvailable || selectParts[i + 1].def.type !== 'count') {\n            selectParts.splice(i + 1, 0, partModel);\n          }\n          return;\n        }\n      }\n      selectParts[i] = partModel;\n      return;\n    }\n    if (part.def.category === categories.Selectors) {\n      selectParts[i] = partModel;\n      return;\n    }\n  }\n\n  selectParts.splice(1, 0, partModel);\n}\n\nfunction addTransformationStrategy(selectParts: any[], partModel: any) {\n  let i;\n  // look for index to add transformation\n  for (i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Math || part.def.category === categories.Aliasing) {\n      break;\n    }\n  }\n\n  selectParts.splice(i, 0, partModel);\n}\n\nfunction addCustomStrategy(selectParts: any[], partModel: { def: { type: string } }) {\n  // look for existing aggregation\n  selectParts.splice(1, 1, partModel);\n}\n\nfunction addMathStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is math, replace it\n    if (selectParts[partCount - 1].def.type === 'math') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n    // if next to last is math, replace it\n    if (partCount > 1 && selectParts[partCount - 2].def.type === 'math') {\n      selectParts[partCount - 2] = partModel;\n      return;\n    } else if (selectParts[partCount - 1].def.type === 'alias') {\n      // if last is alias add it before\n      selectParts.splice(partCount - 1, 0, partModel);\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addAliasStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is alias, replace it\n    if (selectParts[partCount - 1].def.type === 'alias') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addFieldStrategy(selectParts: any, partModel: any, query: { selectModels: any[][] }) {\n  // copy all parts\n  const parts = map(selectParts, (part: any) => {\n    return createPart({ type: part.def.type, params: clone(part.params) });\n  });\n\n  query.selectModels.push(parts);\n}\n\nregister({\n  type: 'field',\n  addStrategy: addFieldStrategy,\n  category: categories.Fields,\n  params: [{ type: 'field', dynamicLookup: true }],\n  defaultParams: ['value'],\n  renderer: fieldRenderer,\n});\n\n// Aggregations\nregister({\n  type: 'count',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'distinct',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'custom',\n  addStrategy: addCustomStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'integral',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mean',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'median',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mode',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'sum',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\n// transformations\n\nregister({\n  type: 'derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'spread',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'moving_average',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: 'window', type: 'int', options: [5, 10, 20, 30, 40] }],\n  defaultParams: [10],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'cumulative_sum',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'stddev',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'time',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'interval',\n      type: 'time',\n      options: ['$__interval', '1m', '5m', '30m', '1h', '1d'],\n    },\n  ],\n  defaultParams: ['$__interval'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'fill',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'fill',\n      type: 'string',\n      options: ['none', 'null', '0', 'previous', 'linear'],\n    },\n  ],\n  defaultParams: ['null'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'elapsed',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\n// predictions\nregister({\n  type: 'holt_winters',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'holt_winters_with_fit',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\n// Selectors\nregister({\n  type: 'bottom',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'first',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'last',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'max',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'min',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'percentile',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'nth', type: 'int' }],\n  defaultParams: [95],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'top',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'tag',\n  category: groupByTimeFunctions,\n  params: [{ name: 'tag', type: 'string', dynamicLookup: true }],\n  defaultParams: ['tag'],\n  renderer: fieldRenderer,\n});\n\nregister({\n  type: 'math',\n  addStrategy: addMathStrategy,\n  category: categories.Math,\n  params: [{ name: 'expr', type: 'string' }],\n  defaultParams: [' / 100'],\n  renderer: suffixRenderer,\n});\n\nregister({\n  type: 'alias',\n  addStrategy: addAliasStrategy,\n  category: categories.Aliasing,\n  params: [{ name: 'name', type: 'string', quote: 'double' }],\n  defaultParams: ['alias'],\n  renderMode: 'suffix',\n  renderer: aliasRenderer,\n});\n\nexport default {\n  create: createPart,\n  getCategories: () => {\n    return categories;\n  },\n  replaceAggregationAdd: replaceAggregationAddStrategy,\n};\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\n//# sourceMappingURL=hostReportError.js.map\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","import coreModule from 'grafana/app/core/core_module';\nimport { DetailQueryConfig } from './types';\n\nclass SPQueryCtrl {\n  static _config: DetailQueryConfig;\n\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    Object.assign($scope, SPQueryCtrl._config);\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"{{instanceDocUrl}}\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      InstanceIds\n      <info-popover mode=\"right-normal\">\n        实例 ID，每次请求的实例的上限为100，参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CVMFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n</div>\n`;\n\nexport function queryDDO() {\n  return {\n    template: template,\n    controller: SPQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\nexport default (name: string, config: DetailQueryConfig) => {\n  SPQueryCtrl._config = config;\n  coreModule.directive(name, queryDDO);\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__199__;","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function getSymbolIterator() {\n    if (typeof Symbol !== 'function' || !Symbol.iterator) {\n        return '@@iterator';\n    }\n    return Symbol.iterator;\n}\nexport var iterator = /*@__PURE__*/ getSymbolIterator();\nexport var $$iterator = iterator;\n//# sourceMappingURL=iterator.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_util_subscribeTo PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nimport { Observable } from './Observable';\nimport { subscribeTo } from './util/subscribeTo';\nvar SimpleInnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SimpleInnerSubscriber, _super);\n    function SimpleInnerSubscriber(parent) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        return _this;\n    }\n    SimpleInnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(value);\n    };\n    SimpleInnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error);\n        this.unsubscribe();\n    };\n    SimpleInnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete();\n        this.unsubscribe();\n    };\n    return SimpleInnerSubscriber;\n}(Subscriber));\nexport { SimpleInnerSubscriber };\nvar ComplexInnerSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ComplexInnerSubscriber, _super);\n    function ComplexInnerSubscriber(parent, outerValue, outerIndex) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.outerValue = outerValue;\n        _this.outerIndex = outerIndex;\n        return _this;\n    }\n    ComplexInnerSubscriber.prototype._next = function (value) {\n        this.parent.notifyNext(this.outerValue, value, this.outerIndex, this);\n    };\n    ComplexInnerSubscriber.prototype._error = function (error) {\n        this.parent.notifyError(error);\n        this.unsubscribe();\n    };\n    ComplexInnerSubscriber.prototype._complete = function () {\n        this.parent.notifyComplete(this);\n        this.unsubscribe();\n    };\n    return ComplexInnerSubscriber;\n}(Subscriber));\nexport { ComplexInnerSubscriber };\nvar SimpleOuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SimpleOuterSubscriber, _super);\n    function SimpleOuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SimpleOuterSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    SimpleOuterSubscriber.prototype.notifyError = function (err) {\n        this.destination.error(err);\n    };\n    SimpleOuterSubscriber.prototype.notifyComplete = function () {\n        this.destination.complete();\n    };\n    return SimpleOuterSubscriber;\n}(Subscriber));\nexport { SimpleOuterSubscriber };\nvar ComplexOuterSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ComplexOuterSubscriber, _super);\n    function ComplexOuterSubscriber() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ComplexOuterSubscriber.prototype.notifyNext = function (_outerValue, innerValue, _outerIndex, _innerSub) {\n        this.destination.next(innerValue);\n    };\n    ComplexOuterSubscriber.prototype.notifyError = function (error) {\n        this.destination.error(error);\n    };\n    ComplexOuterSubscriber.prototype.notifyComplete = function (_innerSub) {\n        this.destination.complete();\n    };\n    return ComplexOuterSubscriber;\n}(Subscriber));\nexport { ComplexOuterSubscriber };\nexport function innerSubscribe(result, innerSubscriber) {\n    if (innerSubscriber.closed) {\n        return undefined;\n    }\n    if (result instanceof Observable) {\n        return result.subscribe(innerSubscriber);\n    }\n    return subscribeTo(result)(innerSubscriber);\n}\n//# sourceMappingURL=innerSubscribe.js.map\n","export const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n\nexport enum SearchSyntaxRule {\n  LUCENE = 0,\n  CQL = 1,\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var rxSubscriber = /*@__PURE__*/ (function () {\n    return typeof Symbol === 'function'\n        ? /*@__PURE__*/ Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n})();\nexport var $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n","import { SelectableValue } from '@grafana/data';\nimport { ResultFormat } from '../types';\n\nexport const RESULT_FORMATS: Array<SelectableValue<ResultFormat>> = [\n  { label: 'Time series', value: 'time_series' },\n  { label: 'Table', value: 'table' },\n  { label: 'Logs', value: 'logs' },\n];\n\nexport const DEFAULT_RESULT_FORMAT: ResultFormat = 'time_series';\n\nexport const ENABLE_MEASUREMENTS: Array<string> = [\n  'sql_metric',\n  'service_metric',\n  'error_metric',\n  'runtime_metric',\n  'mq_metric',\n];\n","/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nexport var empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","var map = {\n\t\"./_base/query.ts\": 7,\n\t\"./apigateway/datasource\": 75,\n\t\"./apigateway/datasource.ts\": 75,\n\t\"./apigateway/query.ts\": 131,\n\t\"./apigateway/query_def.ts\": 23,\n\t\"./bmIntraLb/datasource\": 76,\n\t\"./bmIntraLb/datasource.ts\": 76,\n\t\"./bmIntraLb/query.ts\": 132,\n\t\"./bmIntraLb/query_def.ts\": 31,\n\t\"./bm_lb/datasource\": 77,\n\t\"./bm_lb/datasource.ts\": 77,\n\t\"./bm_lb/query.ts\": 133,\n\t\"./bm_lb/query_def.ts\": 32,\n\t\"./bm_pcx/datasource\": 78,\n\t\"./bm_pcx/datasource.ts\": 78,\n\t\"./bm_pcx/query.ts\": 134,\n\t\"./bm_pcx/query_def.ts\": 33,\n\t\"./bwp/datasource\": 79,\n\t\"./bwp/datasource.ts\": 79,\n\t\"./bwp/query.ts\": 135,\n\t\"./bwp/query_def.ts\": 63,\n\t\"./cbs/datasource\": 80,\n\t\"./cbs/datasource.ts\": 80,\n\t\"./cbs/query.ts\": 136,\n\t\"./cbs/query_def.ts\": 34,\n\t\"./cdb/datasource\": 81,\n\t\"./cdb/datasource.ts\": 81,\n\t\"./cdb/query.ts\": 137,\n\t\"./cdb/query_def.ts\": 44,\n\t\"./cdn/datasource\": 82,\n\t\"./cdn/datasource.ts\": 82,\n\t\"./cdn/query.ts\": 138,\n\t\"./cdn/query_def.ts\": 64,\n\t\"./cdn_province/datasource\": 83,\n\t\"./cdn_province/datasource.ts\": 83,\n\t\"./cdn_province/query.ts\": 139,\n\t\"./cdn_province/query_def.ts\": 35,\n\t\"./ceip_summary/datasource\": 84,\n\t\"./ceip_summary/datasource.ts\": 84,\n\t\"./ceip_summary/query.ts\": 140,\n\t\"./ceip_summary/query_def.ts\": 36,\n\t\"./ces/datasource\": 85,\n\t\"./ces/datasource.ts\": 85,\n\t\"./ces/query.ts\": 141,\n\t\"./ces/query_def.ts\": 45,\n\t\"./cfs/datasource\": 86,\n\t\"./cfs/datasource.ts\": 86,\n\t\"./cfs/query.ts\": 142,\n\t\"./cfs/query_def.ts\": 57,\n\t\"./ckafka/datasource\": 87,\n\t\"./ckafka/datasource.ts\": 87,\n\t\"./ckafka/query.ts\": 143,\n\t\"./ckafka/query_def.ts\": 11,\n\t\"./clb/datasource\": 88,\n\t\"./clb/datasource.ts\": 88,\n\t\"./clb/query.ts\": 144,\n\t\"./clb/query_def.ts\": 12,\n\t\"./cls/datasource\": 89,\n\t\"./cls/datasource.ts\": 89,\n\t\"./cls/query.ts\": 145,\n\t\"./cls/query_def.ts\": 29,\n\t\"./cmq/datasource\": 90,\n\t\"./cmq/datasource.ts\": 90,\n\t\"./cmq/query.ts\": 146,\n\t\"./cmq/query_def.ts\": 58,\n\t\"./cmq_topic/datasource\": 91,\n\t\"./cmq_topic/datasource.ts\": 91,\n\t\"./cmq_topic/query.ts\": 147,\n\t\"./cmq_topic/query_def.ts\": 37,\n\t\"./cos/datasource\": 92,\n\t\"./cos/datasource.ts\": 92,\n\t\"./cos/query_def.ts\": 148,\n\t\"./cpm/datasource\": 93,\n\t\"./cpm/datasource.ts\": 93,\n\t\"./cpm/query.ts\": 149,\n\t\"./cpm/query_def.ts\": 38,\n\t\"./cvm/datasource\": 94,\n\t\"./cvm/datasource.ts\": 94,\n\t\"./cvm/query.ts\": 150,\n\t\"./cvm/query_def.ts\": 59,\n\t\"./cynosdb_mysql/datasource\": 95,\n\t\"./cynosdb_mysql/datasource.ts\": 95,\n\t\"./cynosdb_mysql/query.ts\": 151,\n\t\"./cynosdb_mysql/query_def.ts\": 27,\n\t\"./dc/datasource\": 96,\n\t\"./dc/datasource.ts\": 96,\n\t\"./dc/query.ts\": 152,\n\t\"./dc/query_def.ts\": 46,\n\t\"./dcdb/datasource\": 97,\n\t\"./dcdb/datasource.ts\": 97,\n\t\"./dcdb/query.ts\": 153,\n\t\"./dcdb/query_def.ts\": 16,\n\t\"./dcg/datasource\": 98,\n\t\"./dcg/datasource.ts\": 98,\n\t\"./dcg/query.ts\": 154,\n\t\"./dcg/query_def.ts\": 47,\n\t\"./dcx/datasource\": 99,\n\t\"./dcx/datasource.ts\": 99,\n\t\"./dcx/query.ts\": 155,\n\t\"./dcx/query_def.ts\": 48,\n\t\"./ecdn/datasource\": 100,\n\t\"./ecdn/datasource.ts\": 100,\n\t\"./ecdn/query.ts\": 156,\n\t\"./ecdn/query_def.ts\": 39,\n\t\"./ecm/datasource\": 101,\n\t\"./ecm/datasource.ts\": 101,\n\t\"./ecm/query.ts\": 157,\n\t\"./ecm/query_def.ts\": 40,\n\t\"./ecm_block_storage/datasource\": 102,\n\t\"./ecm_block_storage/datasource.ts\": 102,\n\t\"./ecm_block_storage/query.ts\": 158,\n\t\"./ecm_block_storage/query_def.ts\": 21,\n\t\"./ecm_lb/datasource\": 103,\n\t\"./ecm_lb/datasource.ts\": 103,\n\t\"./ecm_lb/query.ts\": 159,\n\t\"./ecm_lb/query_def.ts\": 49,\n\t\"./gse/datasource\": 104,\n\t\"./gse/datasource.ts\": 104,\n\t\"./gse/query.ts\": 160,\n\t\"./gse/query_def.ts\": 15,\n\t\"./lb/datasource\": 105,\n\t\"./lb/datasource.ts\": 105,\n\t\"./lb/query.ts\": 161,\n\t\"./lb/query_def.ts\": 65,\n\t\"./lighthouse/datasource\": 106,\n\t\"./lighthouse/datasource.ts\": 106,\n\t\"./lighthouse/query.ts\": 162,\n\t\"./lighthouse/query_def.ts\": 56,\n\t\"./mongodb/datasource\": 107,\n\t\"./mongodb/datasource.ts\": 107,\n\t\"./mongodb/query.ts\": 163,\n\t\"./mongodb/query_def.ts\": 50,\n\t\"./mr/datasource\": 108,\n\t\"./mr/datasource.ts\": 108,\n\t\"./mr/query.ts\": 164,\n\t\"./mr/query_def.ts\": 24,\n\t\"./nat_gateway/datasource\": 109,\n\t\"./nat_gateway/datasource.ts\": 109,\n\t\"./nat_gateway/query.ts\": 165,\n\t\"./nat_gateway/query_def.ts\": 66,\n\t\"./ov_cdn/datasource\": 110,\n\t\"./ov_cdn/datasource.ts\": 110,\n\t\"./ov_cdn/query.ts\": 166,\n\t\"./ov_cdn/query_def.ts\": 67,\n\t\"./pcx/datasource\": 111,\n\t\"./pcx/datasource.ts\": 111,\n\t\"./pcx/query.ts\": 167,\n\t\"./pcx/query_def.ts\": 60,\n\t\"./postgresql/datasource\": 112,\n\t\"./postgresql/datasource.ts\": 112,\n\t\"./postgresql/query.ts\": 168,\n\t\"./postgresql/query_def.ts\": 41,\n\t\"./qaap/datasource\": 113,\n\t\"./qaap/datasource.ts\": 113,\n\t\"./qaap/query.ts\": 169,\n\t\"./qaap/query_def.ts\": 51,\n\t\"./redis/datasource\": 114,\n\t\"./redis/datasource.ts\": 114,\n\t\"./redis/query.ts\": 170,\n\t\"./redis/query_def.ts\": 61,\n\t\"./redis_mem/datasource\": 115,\n\t\"./redis_mem/datasource.ts\": 115,\n\t\"./redis_mem/query.ts\": 171,\n\t\"./redis_mem/query_def.ts\": 17,\n\t\"./scf/datasource\": 116,\n\t\"./scf/datasource.ts\": 116,\n\t\"./scf/query.ts\": 172,\n\t\"./scf/query_def.ts\": 28,\n\t\"./sqlserver/datasource\": 117,\n\t\"./sqlserver/datasource.ts\": 117,\n\t\"./sqlserver/query.ts\": 173,\n\t\"./sqlserver/query_def.ts\": 30,\n\t\"./tcaplus/datasource\": 118,\n\t\"./tcaplus/datasource.ts\": 118,\n\t\"./tcaplus/query.ts\": 174,\n\t\"./tcaplus/query_def.ts\": 52,\n\t\"./tdmq/datasource\": 119,\n\t\"./tdmq/datasource.ts\": 119,\n\t\"./tdmq/query.ts\": 175,\n\t\"./tdmq/query_def.ts\": 13,\n\t\"./tdmq_rabbitmq/datasource\": 120,\n\t\"./tdmq_rabbitmq/datasource.ts\": 120,\n\t\"./tdmq_rabbitmq/query.ts\": 176,\n\t\"./tdmq_rabbitmq/query_def.ts\": 18,\n\t\"./tdmq_rocketmq/datasource\": 121,\n\t\"./tdmq_rocketmq/datasource.ts\": 121,\n\t\"./tdmq_rocketmq/query.ts\": 177,\n\t\"./tdmq_rocketmq/query_def.ts\": 19,\n\t\"./tke/datasource\": 122,\n\t\"./tke/datasource.ts\": 122,\n\t\"./tke/query.ts\": 178,\n\t\"./tke/query_def.ts\": 74,\n\t\"./tsf/datasource\": 123,\n\t\"./tsf/datasource.ts\": 123,\n\t\"./tsf/query.ts\": 179,\n\t\"./tsf/query_def.ts\": 62,\n\t\"./v_clb/datasource\": 124,\n\t\"./v_clb/datasource.ts\": 124,\n\t\"./v_clb/query.ts\": 180,\n\t\"./v_clb/query_def.ts\": 25,\n\t\"./vbc/datasource\": 125,\n\t\"./vbc/datasource.ts\": 125,\n\t\"./vbc/query.ts\": 181,\n\t\"./vbc/query_def.ts\": 53,\n\t\"./vpc_net_detect/datasource\": 126,\n\t\"./vpc_net_detect/datasource.ts\": 126,\n\t\"./vpc_net_detect/query.ts\": 182,\n\t\"./vpc_net_detect/query_def.ts\": 42,\n\t\"./vpngw/datasource\": 127,\n\t\"./vpngw/datasource.ts\": 127,\n\t\"./vpngw/query.ts\": 183,\n\t\"./vpngw/query_def.ts\": 54,\n\t\"./vpnx/datasource\": 128,\n\t\"./vpnx/datasource.ts\": 128,\n\t\"./vpnx/query.ts\": 184,\n\t\"./vpnx/query_def.ts\": 55,\n\t\"./waf/datasource\": 129,\n\t\"./waf/datasource.ts\": 129,\n\t\"./waf/query.ts\": 185,\n\t\"./waf/query_def.ts\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 209;","module.exports = __WEBPACK_EXTERNAL_MODULE__210__;","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n","import { reduce } from 'lodash';\nimport kbn from 'grafana/app/core/utils/kbn';\n\nfunction renderTagCondition(tag: { operator: any; value: string; condition: any; key: string }, index: number) {\n  // FIXME: merge this function with APM_query_model/renderTagCondition\n  let str = '';\n  let operator = tag.operator;\n  let value = tag.value;\n  if (index > 0) {\n    str = (tag.condition.toLowerCase() || 'AND') + ' ';\n  }\n\n  if (!operator) {\n    if (/^\\/.*\\/$/.test(tag.value)) {\n      operator = '=~';\n    } else {\n      operator = '=';\n    }\n  }\n\n  // quote value unless regex or number, or if empty-string\n  if (value === '' || (operator !== '=~' && operator !== '!~')) {\n    value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n  }\n\n  return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n}\n\nexport class APMQueryBuilder {\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor(private target: { measurement: any; tags: any; policy?: any }, private database?: string) {}\n\n  buildExploreQuery(type: string, withKey?: string, withMeasurementFilter?: string): string {\n    let query = '';\n    let measurement;\n    let policy;\n\n    if (type === 'TAG_KEYS') {\n      query = 'show tag keys';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'TAG_VALUES') {\n      query = 'show tag values';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'MEASUREMENTS') {\n      query = 'show measurements';\n      if (withMeasurementFilter) {\n        // we do a case-insensitive regex-based lookup\n        query += ' with measurement =~ /(?i)' + kbn.regexEscape(withMeasurementFilter) + '/';\n      }\n    } else if (type === 'FIELDS') {\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n\n      if (!measurement.match('^/.*/')) {\n        measurement = '\"' + measurement + '\"';\n\n        if (policy && policy !== 'default') {\n          policy = '\"' + policy + '\"';\n          measurement = policy + '.' + measurement;\n        }\n      }\n\n      return 'show field keys from ' + measurement;\n    } else if (type === 'RETENTION POLICIES') {\n      query = 'show retention policies on \"' + this.database + '\"';\n      return query;\n    }\n\n    if (measurement) {\n      if (!measurement.match('^/.*/') && !measurement.match(/^merge\\(.*\\)/)) {\n        measurement = '\"' + measurement + '\"';\n      }\n\n      if (policy && policy !== 'default') {\n        policy = '\"' + policy + '\"';\n        measurement = policy + '.' + measurement;\n      }\n\n      query += ' from ' + measurement;\n    }\n\n    if (withKey) {\n      query += ' with key = \"' + withKey + '\"';\n    }\n\n    if (this.target.tags && this.target.tags.length > 0) {\n      const whereConditions = reduce(\n        this.target.tags,\n        (memo, tag) => {\n          if (type === 'MEASUREMENTS' && tag.key === 'id') {\n            return memo;\n          }\n          // do not add a condition for the key we want to explore for\n          if (tag.key === withKey) {\n            return memo;\n          }\n\n          // value operators not supported in these types of queries\n          if (tag.operator === '>' || tag.operator === '<') {\n            return memo;\n          }\n\n          memo.push(renderTagCondition(tag, memo.length));\n          return memo;\n        },\n        [] as string[]\n      );\n\n      if (whereConditions.length > 0) {\n        query += ' where ' + whereConditions.join(' ');\n      }\n    }\n\n    if (type === 'MEASUREMENTS') {\n      query += ' limit 100';\n      // Solve issue #2524 by limiting the number of measurements returned\n      // LIMIT must be after WITH MEASUREMENT and WHERE clauses\n      // This also could be used for TAG KEYS and TAG VALUES, if desired\n    }\n\n    return query;\n  }\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isObject(x) {\n    return x !== null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArrayLike = (function (x) { return x && typeof x.length === 'number' && typeof x !== 'function'; });\n//# sourceMappingURL=isArrayLike.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isPromise(value) {\n    return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}\n//# sourceMappingURL=isPromise.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToArray = function (array) {\n    return function (subscriber) {\n        for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n            subscriber.next(array[i]);\n        }\n        subscriber.complete();\n    };\n};\n//# sourceMappingURL=subscribeToArray.js.map\n","/** PURE_IMPORTS_START _subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeTo = function (result) {\n    if (!!result && typeof result[Symbol_observable] === 'function') {\n        return subscribeToObservable(result);\n    }\n    else if (isArrayLike(result)) {\n        return subscribeToArray(result);\n    }\n    else if (isPromise(result)) {\n        return subscribeToPromise(result);\n    }\n    else if (!!result && typeof result[Symbol_iterator] === 'function') {\n        return subscribeToIterable(result);\n    }\n    else {\n        var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n        var msg = \"You provided \" + value + \" where a stream was expected.\"\n            + ' You can provide an Observable, Promise, Array, or Iterable.';\n        throw new TypeError(msg);\n    }\n};\n//# sourceMappingURL=subscribeTo.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeToObservable = function (obj) {\n    return function (subscriber) {\n        var obs = obj[Symbol_observable]();\n        if (typeof obs.subscribe !== 'function') {\n            throw new TypeError('Provided object does not correctly implement Symbol.observable');\n        }\n        else {\n            return obs.subscribe(subscriber);\n        }\n    };\n};\n//# sourceMappingURL=subscribeToObservable.js.map\n","/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */\nimport { hostReportError } from './hostReportError';\nexport var subscribeToPromise = function (promise) {\n    return function (subscriber) {\n        promise.then(function (value) {\n            if (!subscriber.closed) {\n                subscriber.next(value);\n                subscriber.complete();\n            }\n        }, function (err) { return subscriber.error(err); })\n            .then(null, hostReportError);\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToPromise.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport var subscribeToIterable = function (iterable) {\n    return function (subscriber) {\n        var iterator = iterable[Symbol_iterator]();\n        do {\n            var item = void 0;\n            try {\n                item = iterator.next();\n            }\n            catch (err) {\n                subscriber.error(err);\n                return subscriber;\n            }\n            if (item.done) {\n                subscriber.complete();\n                break;\n            }\n            subscriber.next(item.value);\n            if (subscriber.closed) {\n                break;\n            }\n        } while (true);\n        if (typeof iterator.return === 'function') {\n            subscriber.add(function () {\n                if (iterator.return) {\n                    iterator.return();\n                }\n            });\n        }\n        return subscriber;\n    };\n};\n//# sourceMappingURL=subscribeToIterable.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function map(project, thisArg) {\n    return function mapOperation(source) {\n        if (typeof project !== 'function') {\n            throw new TypeError('argument is not a function. Are you looking for `mapTo()`?');\n        }\n        return source.lift(new MapOperator(project, thisArg));\n    };\n}\nvar MapOperator = /*@__PURE__*/ (function () {\n    function MapOperator(project, thisArg) {\n        this.project = project;\n        this.thisArg = thisArg;\n    }\n    MapOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new MapSubscriber(subscriber, this.project, this.thisArg));\n    };\n    return MapOperator;\n}());\nexport { MapOperator };\nvar MapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MapSubscriber, _super);\n    function MapSubscriber(destination, project, thisArg) {\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.count = 0;\n        _this.thisArg = thisArg || _this;\n        return _this;\n    }\n    MapSubscriber.prototype._next = function (value) {\n        var result;\n        try {\n            result = this.project.call(this.thisArg, value, this.count++);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.destination.next(result);\n    };\n    return MapSubscriber;\n}(Subscriber));\n//# sourceMappingURL=map.js.map\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__222__;","module.exports = __WEBPACK_EXTERNAL_MODULE__223__;","module.exports = \"<query-editor-row query-ctrl=\\\"ctrl\\\" class=\\\"generic-datasource-query-row\\\" has-text-edit-mode=\\\"true\\\">\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Namespace</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-cascader\\n          ng-if=\\\"ctrl.isCascader\\\"\\n          style=\\\"width: 160px\\\"\\n          change-on-select=\\\"false\\\"\\n          options=\\\"ctrl.cascaderOptions\\\"\\n          on-select=\\\"ctrl.cascaderChange(_query)\\\"\\n          initial-value=\\\"{{ctrl.target.namespace}}\\\"\\n        ></gf-cascader>\\n\\n        <gf-form-dropdown\\n          ng-if=\\\"!ctrl.isCascader\\\"\\n          model=\\\"ctrl.target.namespace\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getNamespaces($query)\\\"\\n          on-change=\\\"ctrl.onNamespaceChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" ng-if=\\\"!ctrl.hideRegion\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Region</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].region\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getRegions($query)\\\"\\n          on-change=\\\"ctrl.onRegionChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n          disabled\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">MetricName</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].metricName\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getMetrics($query)\\\"\\n          on-change=\\\"ctrl.onMetricChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n    <div class=\\\"gf-form gf-form-label--grow\\\" ng-if=\\\"!!ctrl.getMetricNameDesc()\\\">\\n      <label class=\\\"gf-form-label gf-form-label--grow\\\">({{ctrl.getMetricNameDesc()}})</label>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" style=\\\"align-items: center\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Period</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <select\\n          class=\\\"gf-form-input min-width-10\\\"\\n          ng-change=\\\"ctrl.refresh()\\\"\\n          ng-model=\\\"ctrl.target[ctrl.target.service].period\\\"\\n          ng-options=\\\"f for f in ctrl.sortedPeriodList\\\"\\n        ></select>\\n      </div>\\n    </div>\\n    <span style=\\\"margin-left: 8px; font-size: 12px\\\">({{ctrl.getTimeDesc()}})</span>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\" style=\\\"align-items: center\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Timeshift</label>\\n      <input\\n        class=\\\"gf-form-input width-10\\\"\\n        ng-model=\\\"ctrl.target[ctrl.target.service].timeshift\\\"\\n        ng-blur=\\\"ctrl.refresh()\\\"\\n      ></input>\\n    </div>\\n  </div>\\n\\n  <div class=\\\"gf-form-inline\\\">\\n    <div class=\\\"gf-form\\\">\\n      <label class=\\\"gf-form-label query-keyword width-9\\\">Instance</label>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <select\\n          class=\\\"gf-form-input min-width-8\\\"\\n          ng-change=\\\"ctrl.onInstanceAliasChange()\\\"\\n          ng-model=\\\"ctrl.target[ctrl.target.service].instanceAlias\\\"\\n          ng-options=\\\"f.value as f.text for f in ctrl.instanceAliasList\\\"\\n        ></select>\\n      </div>\\n      <div class=\\\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\\\">\\n        <gf-form-dropdown\\n          model=\\\"ctrl.target[ctrl.target.service].instance\\\"\\n          allow-custom=\\\"true\\\"\\n          lookup-text=\\\"true\\\"\\n          get-options=\\\"ctrl.getInstances($query)\\\"\\n          on-change=\\\"ctrl.onInstanceChange()\\\"\\n          css-class=\\\"min-width-10\\\"\\n        >\\n        </gf-form-dropdown>\\n      </div>\\n    </div>\\n    <div class=\\\"gf-form\\\" ng-if=\\\"!ctrl.isVariable('instance')\\\">\\n      <label class=\\\"gf-form-label width-7\\\">Show Details</label>\\n      <gf-form-switch\\n        class=\\\"gf-form tc-switch\\\"\\n        label-class=\\\"width-7\\\"\\n        checked=\\\"ctrl.target.showInstanceDetails\\\"\\n        switch-class=\\\"max-width-5\\\"\\n      ></gf-form-switch>\\n    </div>\\n    <div class=\\\"gf-form gf-form-label--grow\\\">\\n      <!-- this is explain how much items will display to user -->\\n      <label class=\\\"gf-form-label gf-form-label--grow\\\">({{ctrl.getSearchDesc()}})</label>\\n    </div>\\n  </div>\\n</query-editor-row>\\n\";","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { cloneDeep, isString, map as _map, get } from 'lodash';\nimport { Observable, of, throwError, from } from 'rxjs';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { getBackendSrv, getTemplateSrv, TemplateSrv } from '@grafana/runtime';\nimport {\n  ArrayVector,\n  DataFrame,\n  DataQueryError,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  MetricFindValue,\n  dateMath,\n  DataSourceApi,\n  FieldType,\n  QueryResultMeta,\n  TIME_SERIES_TIME_FIELD_NAME,\n  TIME_SERIES_VALUE_FIELD_NAME,\n  TimeSeries,\n  LoadingState,\n  RawTimeRange,\n} from '@grafana/data';\nimport APMQueryModel from './APM_query_model';\nimport APMSeries from './APM_series';\nimport ResponseParser from './response_parser';\nimport { GetRequestParams, GetServiceAPIInfo } from '../common/constants';\nimport { MyDataSourceOptions, QueryInfo } from '../types';\nimport { APMOptions, APMQuery } from './types';\nimport { APMQueryBuilder } from './query_builder';\n\n// we detect the field type based on the value-array\nfunction getFieldType(values: unknown[]): FieldType {\n  // the values-array may contain a lot of nulls.\n  // we need the first not-null item\n  const firstNotNull = values.find((v) => v !== null);\n\n  if (firstNotNull === undefined) {\n    // we could not find any not-null values\n    return FieldType.number;\n  }\n\n  const valueType = typeof firstNotNull;\n\n  switch (valueType) {\n    case 'string':\n      return FieldType.string;\n    case 'boolean':\n      return FieldType.boolean;\n    case 'number':\n      return FieldType.number;\n    default:\n      throw new Error(`APM: invalid value type ${valueType}`);\n  }\n}\n\n// this conversion function is specialized to work with the timeseries\n// data returned by getTimeSeries()\nfunction timeSeriesToDataFrame(timeSeries: TimeSeries): DataFrame {\n  const times: number[] = [];\n  const values: unknown[] = [];\n\n  // the data we process here is not correctly typed.\n  // the typescript types say every data-point is number|null,\n  // but in fact it can be string or boolean too.\n\n  const points = timeSeries.datapoints;\n  for (const point of points) {\n    values.push(point[0]);\n    times.push(Number(`${point[1]}000`));\n  }\n\n  const timeField = {\n    name: TIME_SERIES_TIME_FIELD_NAME,\n    type: FieldType.time,\n    config: {},\n    values: new ArrayVector<number>(times),\n  };\n\n  const valueField = {\n    name: TIME_SERIES_VALUE_FIELD_NAME,\n    type: getFieldType(values),\n    config: {\n      displayNameFromDS: timeSeries.title,\n    },\n    values: new ArrayVector<unknown>(values),\n    labels: timeSeries.tags,\n  };\n\n  const fields = [timeField, valueField];\n\n  return {\n    name: timeSeries.target,\n    refId: timeSeries.refId,\n    meta: timeSeries.meta,\n    fields,\n    length: values.length,\n  };\n}\n\nexport default class APMServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  type: string;\n  url: string;\n  responseParser: any;\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  private readonly templateSrv: TemplateSrv;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<APMOptions>) {\n    super(instanceSettings);\n\n    this.instanceSettings = instanceSettings;\n    this.templateSrv = getTemplateSrv();\n    this.responseParser = new ResponseParser();\n    this.type = 'APMService';\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Promise<DataQueryResponse> | Observable<DataQueryResponse> {\n    return this.classicQuery(request);\n  }\n\n  classicQuery(options: any): Observable<DataQueryResponse> {\n    let timeFilter = this.getTimeFilter(options);\n    const scopedVars = options.scopedVars;\n    const targets = cloneDeep(options.targets);\n    const queryTargets: any[] = [];\n\n    let i;\n    let y;\n\n    let allQueries = _map(targets, (target) => {\n      if (target.hide) {\n        return '';\n      }\n      if (target.APMServiceParams.custom) {\n        return target.APMServiceParams.custom;\n      }\n      target.APMServiceParams = this.fixTimePeriod(target.APMServiceParams, options);\n      queryTargets.push(target);\n\n      // backward compatibility\n      scopedVars.interval = scopedVars.__interval;\n\n      return new APMQueryModel(target.APMServiceParams, this.templateSrv, scopedVars).render(true);\n    }).reduce((acc, current) => {\n      if (current !== '') {\n        acc += ';' + current;\n      }\n      return acc;\n    });\n\n    if (allQueries === '') {\n      return of({ data: [] });\n    }\n\n    // add global adhoc filters to timeFilter\n    // @ts-ignore\n    const adhocFilters = this.templateSrv.getAdhocFilters(this.name);\n    if (adhocFilters.length > 0) {\n      const tmpQuery = new APMQueryModel({}, this.templateSrv, scopedVars);\n      timeFilter += ' AND ' + tmpQuery.renderAdhocFilters(adhocFilters);\n    }\n\n    // replace grafana variables\n    scopedVars.timeFilter = { value: timeFilter };\n\n    // replace templated variables\n    allQueries = this.templateSrv.replace(allQueries, scopedVars);\n\n    return this._seriesQuery(allQueries, options).pipe(\n      map((data: any) => {\n        if (!data || !data.results) {\n          return { data: [] };\n        }\n\n        const seriesList = [];\n        for (i = 0; i < data.results.length; i++) {\n          const result = data.results[i];\n          if (!result || !result.series) {\n            continue;\n          }\n\n          const target = queryTargets[i];\n          let alias = target.APMServiceParams.alias;\n          if (alias) {\n            alias = this.templateSrv.replace(target.APMServiceParams.alias, options.scopedVars);\n          }\n\n          const meta: QueryResultMeta = {\n            executedQueryString: data.executedQueryString,\n          };\n\n          const apmSeries = new APMSeries({\n            refId: target.refId,\n            series: data.results[i].series,\n            alias: alias,\n            meta,\n          });\n\n          switch (target.APMServiceParams.resultFormat) {\n            case 'logs':\n              meta.preferredVisualisationType = 'logs';\n            // eslint-disable-next-line no-fallthrough\n            case 'table': {\n              seriesList.push(apmSeries.getTable());\n              break;\n            }\n            default: {\n              const timeSeries = apmSeries.getTimeSeries();\n              for (y = 0; y < timeSeries.length; y++) {\n                seriesList.push(timeSeriesToDataFrame(timeSeries[y]));\n              }\n              break;\n            }\n          }\n        }\n\n        return { data: seriesList, state: LoadingState.Done };\n      })\n    );\n  }\n\n  async metricFindQuery(query: string, options?: any): Promise<MetricFindValue[]> {\n    const interpolated = this.templateSrv.replace(query, undefined, 'regex');\n\n    return this._seriesQuery(interpolated, options)\n      .toPromise()\n      .then((resp) => {\n        return this.responseParser.parse(query, resp);\n      });\n  }\n\n  _seriesQuery(query: string, options?: any) {\n    if (!query) {\n      return of({ results: [] });\n    }\n\n    if (options?.range) {\n      const timeFilter = this.getTimeFilter({ rangeRaw: options.range, timezone: options.timezone });\n      query = query.replace('$timeFilter', timeFilter);\n    }\n\n    return this._APMRequest(query);\n  }\n\n  _APMRequest(query) {\n    const serviceType = 'apm';\n    const serviceInfo = GetServiceAPIInfo('', serviceType);\n\n    return from(\n      GetRequestParams(\n        { url: this.instanceSettings.url + serviceInfo.path, data: { Query: btoa(query) } },\n        serviceType,\n        { action: 'DescribeGrafanaMetricData' },\n        '',\n        this.instanceSettings.id,\n        getBackendSrv()\n      )\n    ).pipe(\n      mergeMap((requestOptions) => {\n        return getBackendSrv()\n          .fetch(requestOptions)\n          .pipe(\n            map((result: any) => {\n              if (get(result, 'data.Response.Error')) {\n                // eslint-disable-next-line no-throw-literal\n                throw {\n                  message: 'APM Error: ' + get(result, 'data.Response.Error.Message'),\n                  data: result.data,\n                  cancelled: true,\n                };\n              }\n              const res = get(result, 'data.Response.Result');\n              const buf = Buffer.from(res, 'base64').toString();\n              const data = JSON.parse(buf);\n              data.executedQueryString = query;\n\n              if (data) {\n                if (data.Response.Error) {\n                  // eslint-disable-next-line no-throw-literal\n                  throw {\n                    message: 'APM Error: ' + data.Response.Error.Code + ': ' + data.Response.Error.Message,\n                    data,\n                  };\n                }\n                if (data.Response.Result) {\n                  const errors = data.Response.Result.results.filter((elem: any) => elem.error);\n\n                  if (errors.length > 0) {\n                    // eslint-disable-next-line no-throw-literal\n                    throw {\n                      message: 'APM Error: ' + errors[0].error,\n                      data,\n                    };\n                  }\n                }\n              }\n              return data.Response.Result;\n            }),\n            catchError((err) => {\n              if (err.cancelled) {\n                return of(err);\n              }\n\n              return throwError(this.handleErrors(err));\n            })\n          );\n      })\n    );\n  }\n\n  handleErrors(err: any) {\n    const error: DataQueryError = {\n      message: err?.status || err?.message || 'Unknown error during query transaction. Please check JS console logs.',\n    };\n\n    if ((Number.isInteger(err.status) && err.status !== 0) || err.status >= 300) {\n      if (err.data?.error) {\n        error.message = 'APM Error: ' + err.data.error;\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      } else {\n        error.message = 'Network Error: ' + err.statusText + '(' + err.status + ')';\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      }\n    }\n\n    return error;\n  }\n\n  getTimeFilter(options: any) {\n    const from = this.getAPMTime(options.rangeRaw.from, false, options.timezone);\n    const until = this.getAPMTime(options.rangeRaw.to, true, options.timezone);\n\n    return 'time >= ' + from + ' and time <= ' + until;\n  }\n\n  getAPMTime(date: any, roundUp: any, timezone: any) {\n    if (isString(date)) {\n      if (date === 'now') {\n        return 'now()';\n      }\n\n      const parts = /^now-(\\d+)([dhms])$/.exec(date);\n      if (parts) {\n        const amount = parseInt(parts[1], 10);\n        const unit = parts[2];\n        return 'now() - ' + amount + unit;\n      }\n      date = dateMath.parse(date, roundUp, timezone);\n    }\n\n    return date.valueOf() + 'ms';\n  }\n\n  fixTimePeriod(target: any, options: any) {\n    const period = this.getTimePeriod(options.rangeRaw, options.timezone);\n\n    target.groupBy?.forEach((groupBy: any) => {\n      if (groupBy.type === 'time' && groupBy.params[0] !== '1d') {\n        target = this.modifyTime(target, period);\n      }\n    });\n    return target;\n  }\n\n  getTimePeriod(rangeRaw: RawTimeRange, timezone: string): string {\n    const from = dateMath.parse(rangeRaw.from, false, timezone)?.valueOf();\n    const until = dateMath.parse(rangeRaw.to, true, timezone)?.valueOf();\n    const oneHour = 1000 * 60 * 60;\n    let range = 0;\n    let period = '1m';\n    if (from && until) {\n      range = until - from;\n    }\n    // 12h\n    if (range <= oneHour * 12) {\n      period = '1m';\n    }\n    // 3d\n    else if (range <= oneHour * 24 * 2) {\n      period = '5m';\n    }\n    // 7d\n    else if (range <= oneHour * 24 * 7) {\n      period = '1h';\n    } else {\n      period = '1d';\n    }\n    return period;\n  }\n\n  // 修改查询聚合周期\n  modifyTime(query: APMQuery, period: string): APMQuery {\n    if (!query.groupBy) {\n      return query;\n    }\n    for (const item of query.groupBy) {\n      if (item.type === 'time') {\n        const compareResult = this.periodCompare(String(item.params?.[0]) || '', period);\n        const isPeriodInparamsSmaller = compareResult && compareResult < 0;\n        // !compareResult代表输入的时间粒度无效\n        if (!compareResult || isPeriodInparamsSmaller) {\n          item.params = [period];\n        }\n        return query;\n      }\n    }\n    return query;\n  }\n  /**\n   * @param pre_period 粒度\n   * @param period 粒度\n   * @return 负数代表小于；0代表=；正数代表大于; null代表无效\n   */\n  periodCompare(pre_period: string, period: string): number | null {\n    const units = ['s', 'm', 'h', 'd'];\n    const reg = new RegExp(`(^\\\\d+)([${units.join('')}]$)`);\n    const pre = reg.exec(pre_period);\n    const per = reg.exec(period);\n    if (!pre || !per) {\n      return null;\n    }\n    if (units.indexOf(pre[2]) - units.indexOf(per[2])) {\n      return units.indexOf(pre[2]) - units.indexOf(per[2]);\n    }\n    return Number(pre[1]) - Number(per[1]);\n  }\n\n  testDatasource(): Promise<any> {\n    if (!this.instanceSettings.jsonData['APMServiceEnabled']) {\n      return null;\n    }\n    const queryBuilder = new APMQueryBuilder({ measurement: '', tags: [] }, '');\n    const query = queryBuilder.buildExploreQuery('MEASUREMENTS');\n\n    return this._seriesQuery(query)\n      .toPromise()\n      .then((res: any) => {\n        const error = get(res, 'data.Response.Error');\n        if (error) {\n          return { status: 'error', message: error?.Message };\n        }\n        return { status: 'success', message: 'Data source is working' };\n      })\n      .catch((err: any) => {\n        return { status: 'error', message: err.message };\n      });\n  }\n}\n","import { each, map, includes, flatten, keys } from 'lodash';\nimport TableModel from 'grafana/app/core/table_model';\nimport { FieldType, QueryResultMeta, TimeSeries, TableData } from '@grafana/data';\n\nexport default class APMSeries {\n  refId?: string;\n  series: any;\n  alias: any;\n  annotation: any;\n  meta?: QueryResultMeta;\n\n  constructor(options: { series: any; alias?: any; annotation?: any; meta?: QueryResultMeta; refId?: string }) {\n    this.series = options.series;\n    this.alias = options.alias;\n    this.annotation = options.annotation;\n    this.meta = options.meta;\n    this.refId = options.refId;\n  }\n\n  getTimeSeries(): TimeSeries[] {\n    const output: TimeSeries[] = [];\n    let i;\n    let j;\n\n    if (this.series.length === 0) {\n      return output;\n    }\n\n    each(this.series, (series) => {\n      const columns = series.columns.length;\n      const tags = map(series.tags, (value, key) => {\n        return key + ': ' + value;\n      });\n\n      for (j = 1; j < columns; j++) {\n        let seriesName = series.name;\n        const columnName = series.columns[j];\n        if (columnName !== 'value') {\n          seriesName = seriesName + '.' + columnName;\n        }\n\n        if (this.alias) {\n          seriesName = this._getSeriesName(series, j);\n        } else if (series.tags) {\n          seriesName = seriesName + ' {' + tags.join(', ') + '}';\n        }\n\n        const datapoints = [];\n        if (series.values) {\n          for (i = 0; i < series.values.length; i++) {\n            datapoints[i] = [series.values[i][j], series.values[i][0]];\n          }\n        }\n\n        output.push({\n          title: seriesName,\n          target: seriesName,\n          datapoints: datapoints,\n          tags: series.tags,\n          meta: this.meta,\n          refId: this.refId,\n        });\n      }\n    });\n\n    return output;\n  }\n\n  _getSeriesName(series: any, index: number) {\n    const regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\n    const segments = series.name.split('.');\n\n    return this.alias.replace(regex, (match: any, g1: any, g2: any) => {\n      const group = g1 || g2;\n      const segIndex = parseInt(group, 10);\n\n      if (group === 'm' || group === 'measurement') {\n        return series.name;\n      }\n      if (group === 'col') {\n        return series.columns[index];\n      }\n      if (!isNaN(segIndex)) {\n        return segments[segIndex] ?? match;\n      }\n      if (group.indexOf('tag_') !== 0) {\n        return match;\n      }\n\n      const tag = group.replace('tag_', '');\n      if (!series.tags) {\n        return match;\n      }\n      return series.tags[tag];\n    });\n  }\n\n  getAnnotations() {\n    const list: any[] = [];\n\n    each(this.series, (series) => {\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(series.columns, (column, index) => {\n        if (column === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column === 'sequence_number') {\n          return;\n        }\n        if (column === this.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (includes((this.annotation.tagsColumn || '').replace(' ', '').split(','), column)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column === this.annotation.textColumn) {\n          textCol = index;\n          return;\n        }\n        if (column === this.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(series.values, (value) => {\n        const data = {\n          annotation: this.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n    });\n\n    return list;\n  }\n\n  getTable(): TableData {\n    const table = new TableModel();\n    let i;\n    let j;\n\n    // @ts-ignore\n    table.refId = this.refId;\n    // @ts-ignore\n    table.meta = this.meta;\n\n    if (this.series.length === 0) {\n      return table;\n    }\n\n    // the order is:\n    // - first the first item from the value-array (this is often (always?) the timestamp)\n    // - then all the tag-values\n    // - then the rest of the value-array\n    //\n    // we have to keep this order both in table.columns and table.rows\n\n    each(this.series, (series: any, seriesIndex: number) => {\n      if (seriesIndex === 0) {\n        const firstCol = series.columns[0];\n        // Check the first column's name, if it is `time`, we\n        // mark it as having the type time\n        const firstTableCol = firstCol === 'time' ? { text: 'Time', type: FieldType.time } : { text: firstCol };\n        table.columns.push(firstTableCol);\n        each(keys(series.tags), (key) => {\n          table.columns.push({ text: key });\n        });\n        for (j = 1; j < series.columns.length; j++) {\n          table.columns.push({ text: series.columns[j] });\n        }\n      }\n\n      if (series.values) {\n        for (i = 0; i < series.values.length; i++) {\n          const values = series.values[i];\n          const reordered = [values[0]];\n          if (series.tags) {\n            for (const key in series.tags) {\n              if (series.tags.hasOwnProperty(key)) {\n                reordered.push(series.tags[key]);\n              }\n            }\n          }\n          for (j = 1; j < values.length; j++) {\n            reordered.push(values[j]);\n          }\n          table.rows.push(reordered);\n        }\n      }\n    });\n\n    return table;\n  }\n}\n","import { AnnotationEvent, DataFrame, DataQuery, FieldType, QueryResultMeta } from '@grafana/data';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport TableModel from 'grafana/app/core/table_model';\nimport { each, flatten, groupBy, isArray } from 'lodash';\nimport { ENABLE_MEASUREMENTS } from './common/constants';\nimport { APMQuery } from './types';\n\nexport default class ResponseParser {\n  parse(query: string, results: { results: any }) {\n    if (!results?.results || results.results.length === 0) {\n      return [];\n    }\n\n    const APMResults = results.results[0];\n    if (!APMResults.series) {\n      return [];\n    }\n\n    const normalizedQuery = query.toLowerCase();\n    const isValueFirst =\n      normalizedQuery.indexOf('show field keys') >= 0 || normalizedQuery.indexOf('show retention policies') >= 0;\n    const isShowMeasurements = normalizedQuery.indexOf('show measurements') >= 0;\n\n    const res = new Set<string>();\n    each(APMResults.series, (serie) => {\n      each(serie.values, (value) => {\n        if (isArray(value)) {\n          // In general, there are 2 possible shapes for the returned value.\n          // The first one is a two-element array,\n          // where the first element is somewhat a metadata value:\n          // the tag name for SHOW TAG VALUES queries,\n          // the time field for SELECT queries, etc.\n          // The second shape is an one-element array,\n          // that is containing an immediate value.\n          // For example, SHOW FIELD KEYS queries return such shape.\n          // Note, pre-0.11 versions return\n          // the second shape for SHOW TAG VALUES queries\n          // (while the newer versions—first).\n\n          if (isValueFirst) {\n            addUnique(res, value[0]);\n          } else if (value[1] !== undefined) {\n            addUnique(res, value[1]);\n          } else {\n            addUnique(res, value[0]);\n          }\n        } else {\n          addUnique(res, value);\n        }\n      });\n    });\n\n    if (isShowMeasurements) {\n      return Array.from(res)\n        .filter((item) => ENABLE_MEASUREMENTS.includes(item))\n        .map((v) => ({ text: v }));\n    }\n\n    return Array.from(res).map((v) => ({ text: v }));\n  }\n\n  getTable(dfs: DataFrame[], target: APMQuery, meta: QueryResultMeta): TableModel {\n    let table = new TableModel();\n\n    if (dfs.length > 0) {\n      // @ts-ignore\n      table.meta = {\n        ...meta,\n        executedQueryString: dfs[0].meta?.executedQueryString,\n      };\n      // @ts-ignore\n      table.refId = target.refId;\n      table = getTableCols(dfs, table, target);\n\n      // if group by tag(s) added\n      if (dfs[0].fields[1]?.labels) {\n        let dfsByLabels: any = groupBy(dfs, (df: DataFrame) =>\n          df.fields[1].labels ? Object.values(df.fields[1].labels!) : null\n        );\n        const labels = Object.keys(dfsByLabels);\n        dfsByLabels = Object.values(dfsByLabels);\n\n        for (let i = 0; i < dfsByLabels.length; i++) {\n          table = getTableRows(dfsByLabels[i], table, [...labels[i].split(',')]);\n        }\n      } else {\n        table = getTableRows(dfs, table, []);\n      }\n    }\n\n    return table;\n  }\n\n  async transformAnnotationResponse(options: any, data: any, target: APMQuery): Promise<AnnotationEvent[]> {\n    const rsp = toDataQueryResponse(data, [target] as DataQuery[]);\n\n    if (rsp) {\n      const table = this.getTable(rsp.data, target, {});\n      const list: any[] = [];\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(table.columns, (column, index) => {\n        if (column.text.toLowerCase() === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column.text === options.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (colContainsTag(column.text, options.annotation.tagsColumn)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column.text.includes(options.annotation.textColumn)) {\n          textCol = index;\n          return;\n        }\n        if (column.text === options.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(table.rows, (value) => {\n        const data = {\n          annotation: options.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n\n      return list;\n    }\n    return [];\n  }\n}\n\nfunction colContainsTag(colText: string, tagsColumn: string): boolean {\n  const tags = (tagsColumn || '').replace(' ', '').split(',');\n  for (let tag of tags) {\n    if (colText.includes(tag)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getTableCols(dfs: DataFrame[], table: TableModel, target: APMQuery): TableModel {\n  const selectedParams = getSelectedParams(target);\n\n  dfs[0].fields.forEach((field) => {\n    // Time col\n    if (field.name === 'time') {\n      table.columns.push({ text: 'Time', type: FieldType.time });\n    }\n\n    // Group by (label) column(s)\n    else if (field.name === 'value') {\n      if (field.labels) {\n        Object.keys(field.labels).forEach((key) => {\n          table.columns.push({ text: key });\n        });\n      }\n    }\n  });\n\n  // Get cols for annotationQuery\n  if (dfs[0].refId === 'metricFindQuery') {\n    dfs.forEach((field) => {\n      if (field.name) {\n        table.columns.push({ text: field.name });\n      }\n    });\n  }\n\n  // Select (metric) column(s)\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < selectedParams.length; i++) {\n    table.columns.push({ text: selectedParams[i] });\n  }\n\n  return table;\n}\n\nfunction getTableRows(dfs: DataFrame[], table: TableModel, labels: string[]): TableModel {\n  const values = dfs[0].fields[0].values.toArray();\n\n  for (let i = 0; i < values.length; i++) {\n    const time = values[i];\n    const metrics = dfs.map((df: DataFrame) => {\n      return df.fields[1] ? df.fields[1].values.toArray()[i] : null;\n    });\n    if (metrics.indexOf(null) < 0) {\n      table.rows.push([time, ...labels, ...metrics]);\n    }\n  }\n  return table;\n}\n\nexport function getSelectedParams(target: APMQuery): string[] {\n  let allParams: string[] = [];\n  target.select?.forEach((select) => {\n    const selector = select.filter((x) => x.type !== 'field');\n    if (selector.length > 0) {\n      allParams.push(selector[0].type);\n    } else {\n      if (select[0]?.params?.[0]) {\n        allParams.push(select[0].params[0].toString());\n      }\n    }\n  });\n\n  let uniqueParams: string[] = [];\n  allParams.forEach((param) => {\n    uniqueParams.push(incrementName(param, param, uniqueParams, 0));\n  });\n\n  return uniqueParams;\n}\n\nfunction incrementName(name: string, nameIncremenet: string, params: string[], index: number): string {\n  if (params.indexOf(nameIncremenet) > -1) {\n    index++;\n    return incrementName(name, name + '_' + index, params, index);\n  }\n  return nameIncremenet;\n}\n\nfunction addUnique(s: Set<string>, value: string | number) {\n  s.add(value.toString());\n}\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../../node_modules/sass-loader/dist/cjs.js!./query_editor.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".tc-sub-params{margin-top:4px;margin-left:125px}.tc-sub-params .gf-form-inline{min-height:42px}.tc-sub-params .gf-form-inline .gf-form-label{margin-bottom:2px}.tc-sub-params .tc-info-label{margin-bottom:6px}.tc-sub-params .tc-info-label>a{margin-left:10px}.tc-switch{border-left:1px solid #262628;margin-bottom:0 !important}.tc-condition-block{margin-right:10px;display:inline-block}.tc-condition-block .tc-condition-input{border-radius:0}.tc-condition-block .tc-condition-minus{vertical-align:top;border-radius:0 3px 3px 0}.tc-condition-block .tc-condition-dropdown{display:inline-block}.tc-condition-block>input{display:inline-block;margin-right:0}.tc-condition-block>label{display:inline-block}.tc-condition-add{display:inline-block;vertical-align:top}.tc-condition-add>label{border-radius:3px}.filtered-color{color:#ff851b}.secret-tips{position:absolute;right:-25px;border-radius:2px;background:#1b1b1b;padding:10px;top:-35px;width:300px;border:1px solid #2c3235}.secret-tips-tri{position:absolute;width:15px;height:15px;left:-8px;top:60px;background:#1b1b1b;border:1px solid #2c3235;border-top:0;border-right:0;transform:rotate(45deg)}.rc-cascader-menu-item{min-width:160px;font-size:14px}\", \"\",{\"version\":3,\"sources\":[\"query_editor.css\"],\"names\":[],\"mappings\":\"AAAA,eAAe,cAAc,CAAC,iBAAiB,CAAC,+BAA+B,eAAe,CAAC,8CAA8C,iBAAiB,CAAC,8BAA8B,iBAAiB,CAAC,gCAAgC,gBAAgB,CAAC,WAAW,6BAA6B,CAAC,0BAA0B,CAAC,oBAAoB,iBAAiB,CAAC,oBAAoB,CAAC,wCAAwC,eAAe,CAAC,wCAAwC,kBAAkB,CAAC,yBAAyB,CAAC,2CAA2C,oBAAoB,CAAC,0BAA0B,oBAAoB,CAAC,cAAc,CAAC,0BAA0B,oBAAoB,CAAC,kBAAkB,oBAAoB,CAAC,kBAAkB,CAAC,wBAAwB,iBAAiB,CAAC,gBAAgB,aAAa,CAAC,aAAa,iBAAiB,CAAC,WAAW,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,YAAY,CAAC,SAAS,CAAC,WAAW,CAAC,wBAAwB,CAAC,iBAAiB,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,YAAY,CAAC,cAAc,CAAC,uBAAuB,CAAC,uBAAuB,eAAe,CAAC,cAAc\",\"file\":\"query_editor.css\",\"sourcesContent\":[\".tc-sub-params{margin-top:4px;margin-left:125px}.tc-sub-params .gf-form-inline{min-height:42px}.tc-sub-params .gf-form-inline .gf-form-label{margin-bottom:2px}.tc-sub-params .tc-info-label{margin-bottom:6px}.tc-sub-params .tc-info-label>a{margin-left:10px}.tc-switch{border-left:1px solid #262628;margin-bottom:0 !important}.tc-condition-block{margin-right:10px;display:inline-block}.tc-condition-block .tc-condition-input{border-radius:0}.tc-condition-block .tc-condition-minus{vertical-align:top;border-radius:0 3px 3px 0}.tc-condition-block .tc-condition-dropdown{display:inline-block}.tc-condition-block>input{display:inline-block;margin-right:0}.tc-condition-block>label{display:inline-block}.tc-condition-add{display:inline-block;vertical-align:top}.tc-condition-add>label{border-radius:3px}.filtered-color{color:#ff851b}.secret-tips{position:absolute;right:-25px;border-radius:2px;background:#1b1b1b;padding:10px;top:-35px;width:300px;border:1px solid #2c3235}.secret-tips-tri{position:absolute;width:15px;height:15px;left:-8px;top:60px;background:#1b1b1b;border:1px solid #2c3235;border-top:0;border-right:0;transform:rotate(45deg)}.rc-cascader-menu-item{min-width:160px;font-size:14px}\"]}]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-1!../../../node_modules/postcss-loader/src/index.js??ref--10-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-3!./index.less\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".log-service-monospaced-font-family {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n.log-service-monospaced-font-family button,\\n.log-service-monospaced-font-family input,\\n.log-service-monospaced-font-family select,\\n.log-service-monospaced-font-family textarea {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"index.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,8DAA8D;AAChE;AACA;;;;EAIE,8DAA8D;AAChE\",\"file\":\"index.less\",\"sourcesContent\":[\".log-service-monospaced-font-family {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n.log-service-monospaced-font-family button,\\n.log-service-monospaced-font-family input,\\n.log-service-monospaced-font-family select,\\n.log-service-monospaced-font-family textarea {\\n  font-family: RobotoMono-Regular, monospace, Roboto, sans-serif;\\n}\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","import coreModule from 'grafana/app/core/core_module';\nimport _ from 'lodash';\nimport { isDefined } from 'angular';\n\n// mutilple conditions directive for instance query params\nexport class MultiConditionCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.type = $scope.type || 'input';\n      $scope.placeholder = isDefined($scope.placeholder) ? $scope.placeholder : '';\n      $scope.value = isDefined($scope.value) ? $scope.value : [];\n      $scope.maxCond = _.toInteger($scope.maxCond) > 0 ? _.toInteger($scope.maxCond) : -1;\n    };\n\n    $scope.onInputBlur = () => {\n      $scope.onChangeInternal();\n    };\n\n    $scope.deleteCondition = (index) => {\n      $scope.value.splice(index, 1);\n      $scope.onChangeInternal();\n    };\n\n    $scope.addCondition = (cond) => {\n      $scope.value.push(cond);\n      $scope.onChangeInternal();\n    };\n\n    $scope.onChangeInternal = () => {\n      $scope.onChange({ value: $scope.value });\n    };\n\n    $scope.onSelectChange = (value) => {\n      $scope.onChange({ value });\n    };\n\n    $scope.getSelectedOptions = () => {\n      const selectedOptions = _.filter(\n        $scope.options,\n        (item) => _.get($scope.value, 'value', []).indexOf(item.value) !== -1\n      );\n      return selectedOptions.length > 0\n        ? _.map(selectedOptions, (option) => `${option.text}: ${option.value}`).join('; ')\n        : undefined;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div ng-if=\"type === 'input'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\">\n    <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"value[$index]\" placeholder=\"{{placeholder}}\"\n      ng-blur=\"onInputBlur()\"></input>\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition('')\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<div ng-if=\"type === 'inputNumber'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\">\n    <input type=\"number\" ng-model=\"value[$index]\" ng-blur=\"onInputBlur()\" class=\"gf-form-input width-10 tc-condition-input\"\n      ng-min=\"minNum\" ng-max=\"maxNum\" ng-change=\"onChangeInternal()\">\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition(undefined)\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<div class=\"gf-form\" ng-if=\"type === 'select'\">\n  <custom-select-dropdown value=\"value\" multiple=\"true\" options=\"options\" on-change=\"onSelectChange(value)\"></custom-select-dropdown>\n  <label class=\"gf-form-label tc-info-label\" ng-if=\"getSelectedOptions()\">\n    {{getSelectedOptions()}}\n  </label>\n</div>\n\n<div ng-if=\"type === 'dropdown'\">\n  <div ng-repeat=\"v in value track by $index\" class=\"gf-form tc-condition-block\" style=\"vertical-align: top;\">\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent tc-condition-dropdown\">\n      <gf-form-dropdown model=\"value[$index]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getOptions()\" on-change=\"onChangeInternal()\"\n        css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n    <label class=\"gf-form-label pointer tc-condition-minus\">\n      <a class=\"pointer\" ng-click=\"deleteCondition($index)\">\n        <i class=\"fa fa-minus\"></i>\n      </a>\n    </label>\n  </div>\n  <div class=\"gf-form tc-condition-add\">\n    <label class=\"gf-form-label query-part\" ng-if=\"maxCond === -1 || value.length < maxCond\">\n      <a class=\"pointer\" ng-click=\"addCondition('')\">\n        <i class=\"fa fa-plus\"></i>\n      </a>\n    </label>\n  </div>\n</div>\n\n<!-- <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n  <gf-form-dropdown model=\"ctrl.target.cvm.instance\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"ctrl.getInstances($query)\"\n    on-change=\"ctrl.onInstanceChange()\" css-class=\"min-width-10\">\n  </gf-form-dropdown>\n</div> -->\n`;\n\nexport function multiCondition() {\n  return {\n    template: template,\n    controller: MultiConditionCtrl,\n    restrict: 'E',\n    scope: {\n      type: '=',\n      value: '=',\n      maxCond: '=?',\n      placeholder: '=?',\n      options: '=?',\n      maxNum: '=?',\n      minNum: '=?',\n      multiple: '=?',\n      onChange: '&',\n      getOptions: '&',\n    },\n  };\n}\n\ncoreModule.directive('multiCondition', multiCondition);\n","import angular from 'angular';\nimport _ from 'lodash';\nimport coreModule from 'grafana/app/core/core_module';\n\nexport class CustomSelectDropdownCtrl {\n  dropdownVisible: any;\n  highlightIndex: any;\n  linkText: any;\n  oldVariableText: any;\n  selectOptions: any;\n  options: any;\n  value: any;\n  search: any;\n  multiple: boolean | undefined;\n  selectedValues: any;\n  variable: any;\n\n  hide: any;\n  onChange: any;\n\n  /** @ngInject */\n  constructor() {}\n\n  show() {\n    this.oldVariableText = _.get(this.value, 'text', '');\n    this.highlightIndex = -1;\n\n    this.selectOptions = _.cloneDeep(this.options);\n    _.map(this.selectOptions, (option) => {\n      const selectedValue = _.get(this.value, 'value');\n      if (!selectedValue) {\n        option.selected = false;\n      } else if (_.isArray(selectedValue)) {\n        option.selected = _.indexOf(selectedValue, option.value) !== -1 ? true : false;\n      } else {\n        option.selected = selectedValue === option.value;\n      }\n    });\n\n    this.selectedValues = _.filter(this.selectOptions, { selected: true });\n\n    this.search = {\n      query: '',\n      options: this.selectOptions.slice(0, Math.min(this.selectOptions.length, 1000)),\n    };\n\n    this.dropdownVisible = true;\n  }\n\n  updateLinkText() {\n    this.linkText = _.get(this.value, 'text', '');\n  }\n\n  clearSelections() {\n    _.each(this.selectOptions, (option) => {\n      option.selected = false;\n    });\n\n    this.selectionsChanged(false);\n  }\n\n  keyDown(evt) {\n    if (evt.keyCode === 27) {\n      this.hide();\n    }\n    if (evt.keyCode === 40) {\n      this.moveHighlight(1);\n    }\n    if (evt.keyCode === 38) {\n      this.moveHighlight(-1);\n    }\n    if (evt.keyCode === 13) {\n      if (this.search.options.length === 0) {\n        this.commitChanges();\n      } else {\n        this.selectValue(this.search.options[this.highlightIndex], {}, true, false);\n      }\n    }\n    if (evt.keyCode === 32) {\n      this.selectValue(this.search.options[this.highlightIndex], {}, false, false);\n    }\n  }\n\n  moveHighlight(direction) {\n    this.highlightIndex = (this.highlightIndex + direction) % this.search.options.length;\n  }\n\n  selectValue(option, event, commitChange?, excludeOthers?) {\n    if (!option) {\n      return;\n    }\n    option.selected = this.multiple ? !option.selected : true;\n\n    commitChange = commitChange || false;\n    excludeOthers = excludeOthers || false;\n\n    const setAllExceptCurrentTo = (newValue) => {\n      _.each(this.selectOptions, (other) => {\n        if (option !== other) {\n          other.selected = newValue;\n        }\n      });\n    };\n\n    // commit action (enter key), should not deselect it\n    if (commitChange) {\n      option.selected = true;\n    }\n\n    if (excludeOthers) {\n      setAllExceptCurrentTo(false);\n      commitChange = true;\n    } else if (!this.multiple) {\n      setAllExceptCurrentTo(false);\n      commitChange = true;\n    } else if (event.ctrlKey || event.metaKey || event.shiftKey) {\n      commitChange = true;\n      setAllExceptCurrentTo(false);\n    }\n\n    this.selectionsChanged(commitChange);\n  }\n\n  selectionsChanged(commitChange) {\n    this.selectedValues = _.filter(this.selectOptions, { selected: true });\n    this.value.value = _.map(this.selectedValues, 'value');\n    this.value.text = _.map(this.selectedValues, 'text').join(' + ');\n    if (!this.multiple) {\n      this.value.value = _.get(this.selectedValues, '0.value', '');\n    }\n\n    if (commitChange) {\n      this.commitChanges();\n    }\n  }\n\n  commitChanges() {\n    this.dropdownVisible = false;\n\n    this.updateLinkText();\n\n    if (this.value.text !== this.oldVariableText) {\n      this.onChange({ value: this.value });\n    }\n  }\n\n  queryChanged() {\n    this.highlightIndex = -1;\n    this.search.options = _.filter(this.selectOptions, (option) => {\n      return option.text.toLowerCase().indexOf(this.search.query.toLowerCase()) !== -1;\n    });\n\n    this.search.options = this.search.options.slice(0, Math.min(this.search.options.length, 1000));\n  }\n\n  init() {\n    if (_.isEmpty(this.value)) {\n      this.value = { text: '', value: this.multiple ? [] : '' };\n    }\n    this.updateLinkText();\n  }\n}\n\nconst template = `\n<div class=\"variable-link-wrapper\">\n  <a ng-click=\"vm.show()\" class=\"variable-value-link min-width-10\">\n    {{vm.linkText}}\n    <i class=\"fa fa-caret-down\" style=\"font-size:12px;float:right;position:relative;top:4px\"></i>\n  </a>\n\n  <input\n    type=\"text\"\n    class=\"gf-form-input\"\n    style=\"display: none\"\n    ng-keydown=\"vm.keyDown($event)\"\n    ng-model=\"vm.search.query\"\n    ng-change=\"vm.queryChanged()\"\n  ></input>\n\n  <div class=\"variable-value-dropdown\" ng-if=\"vm.dropdownVisible\" ng-class=\"{'multi': vm.multiple, 'single': !vm.multiple}\">\n    <div class=\"variable-options-wrapper\">\n      <div class=\"variable-options-column\">\n        <a class=\"variable-options-column-header\" ng-if=\"!!vm.multiple\" ng-class=\"{'many-selected': vm.selectedValues.length > 1}\"\n          bs-tooltip=\"'Clear selections'\" data-placement=\"top\" ng-click=\"vm.clearSelections()\">\n          <span class=\"variable-option-icon\"></span>\n          Selected ({{vm.selectedValues.length}})\n        </a>\n        <a class=\"variable-option pointer\" ng-repeat=\"option in vm.search.options\" ng-class=\"{'selected': option.selected, 'highlighted': $index === vm.highlightIndex}\"\n          ng-click=\"vm.selectValue(option, $event)\">\n          <span class=\"variable-option-icon\"></span>\n          <span>{{option.text}}</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\n/** @ngInject */\nexport function customSelectDropdown($compile, $window, $timeout, $rootScope) {\n  return {\n    restrict: 'E',\n    scope: { options: '=', multiple: '=', value: '=', onChange: '&' },\n    template: template,\n    controller: 'CustomSelectDropdownCtrl',\n    controllerAs: 'vm',\n    bindToController: true,\n    link: (scope, elem) => {\n      const bodyEl = angular.element($window.document.body);\n      const linkEl = elem.find('.variable-value-link');\n      const inputEl = elem.find('input');\n\n      function bodyOnClick(e) {\n        if (elem.has(e.target).length === 0) {\n          scope.$apply(() => {\n            scope.vm.commitChanges();\n          });\n        }\n      }\n\n      function openDropdown() {\n        inputEl.css('width', Math.max(linkEl.width(), 136) + 'px');\n\n        inputEl.show();\n        linkEl.hide();\n\n        inputEl.focus();\n        $timeout(\n          () => {\n            bodyEl.on('click', bodyOnClick);\n          },\n          0,\n          false\n        );\n      }\n\n      function switchToLink() {\n        inputEl.hide();\n        linkEl.show();\n        bodyEl.off('click', bodyOnClick);\n      }\n\n      scope.$watch('vm.dropdownVisible', (newValue) => {\n        if (newValue) {\n          openDropdown();\n        } else {\n          switchToLink();\n        }\n      });\n\n      scope.vm.init();\n    },\n  };\n}\n\ncoreModule.controller('CustomSelectDropdownCtrl', CustomSelectDropdownCtrl);\ncoreModule.directive('customSelectDropdown', customSelectDropdown);\n","import coreModule from 'grafana/app/core/core_module';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst genController = (component) =>\n  class Controller {\n    _$scope: any;\n    _$element: any;\n\n    /** @ngInject */\n    constructor($scope, $element) {\n      this._$scope = $scope;\n      this._$element = $element;\n    }\n\n    $onInit() {\n      // extract porps\n      const props = Object.entries(this._$scope).reduce((acc, [key, value]) => {\n        if (!key.startsWith('$')) {\n          if (typeof value === 'function') {\n            acc[key] = (...args) => value({ _query: args.length === 1 ? args[0] : args });\n          } else {\n            acc[key] = value;\n          }\n        }\n        return acc;\n      }, {} as any);\n\n      // wating dom mounted\n      setTimeout(() => {\n        ReactDOM.render(React.createElement(component, props), this._$element[0]);\n      });\n    }\n  };\n\nexport function loadReactComponent(\n  RectCompo: React.ComponentType,\n  componentName: string,\n  propTypes: Record<string, string>\n) {\n  coreModule.directive(componentName, () => ({\n    template: `<div class=\"${componentName}\"></div>`,\n    controller: genController(RectCompo),\n    restrict: 'E',\n    scope: propTypes,\n    replace: true,\n  }));\n}\n","import { Cascader } from '@grafana/ui';\nimport { loadReactComponent } from '../../common/react-loader';\n\nloadReactComponent(Cascader, 'gfCascader', {\n  separator: '@?',\n  placeholder: '@?',\n  options: '<',\n  changeOnSelect: '<?',\n  onSelect: '&',\n  width: '@?',\n  initialValue: '@?',\n  allowCustomValue: '<?',\n  formatCreateLabel: '&?',\n  displayAllSelectedLevels: '<?',\n});\n","import editorHtmlTmp from './query.editor.html';\nimport { SERVICES } from '../../tc_monitor';\n\nconst hackModuleName = {\n  loadBalance: 'clb',\n  lbPrivate: 'clb',\n  lbPublic: 'clb',\n  mongoDB: 'mongodb',\n\n  // MapReduce\n  mrHDFS: 'mr',\n  mrHBASE: 'mr',\n  mrHIVE: 'mr',\n  mrNODE: 'mr',\n  mrPRESTO: 'mr',\n  mrSPARK: 'mr',\n  mrYARN: 'mr',\n  mrZOOKEEPER: 'mr',\n};\n\nexport const editorHtml = (function () {\n  let str = editorHtmlTmp;\n  SERVICES.forEach(({ service }) => {\n    const serviceSwitch = hackModuleName[service] || service.replace(/([A-Z])/g, '-$1').toLowerCase();\n    str += `<${serviceSwitch}-query\n      ng-if=\"ctrl.target.service==='${service}'\"\n      target=\"ctrl.target.${service}\"\n      namespace=\"ctrl.target.namespace\"\n      show-detail=\"ctrl.checkShowDetail('instance')\"\n      datasource=\"ctrl.datasource\"\n      on-change=\"ctrl.onInstanceQueryChange()\"\n      on-refresh=\"ctrl.refresh()\"\n      dims=\"ctrl.target.${service}.dimensionObject\"\n      region=\"ctrl.getVariable(ctrl.target.${service}.region)\"\n    ></${serviceSwitch}-query>`;\n  });\n  const footStr = `\n    <div class=\"gf-form\" ng-show=\"ctrl.lastQueryError\">\n      <pre class=\"gf-form-pre alert alert-error\">{{ctrl.lastQueryError}}</pre>\n    </div>\n  </query-editor-row>`;\n  return str + footStr;\n})();\n","import { QueryCtrl } from 'grafana/app/plugins/sdk';\nimport _ from 'lodash';\n\nimport { GetServiceFromNamespace, ReplaceVariable, isVariable } from '../common/constants';\nimport { InitServiceState, InstanceAliasList, GetInstanceQueryParams, SERVICES } from '../tc_monitor';\n\nimport './components/multi_condition';\nimport './components/custom_select_dropdown';\nimport './components/cascader';\nimport './css/query_editor.css';\nimport { editorHtml } from './partials/queryEditorTemplate';\nimport { t, getLanguage, Language } from '../../locale';\nexport class TCMonitorDatasourceQueryCtrl extends QueryCtrl {\n  // static templateUrl = 'datasource/partials/query.editor.html';\n  static template = editorHtml;\n  datasource: any;\n  panelCtrl: any;\n  namespaces: string[] = [];\n  regions: any[] = [];\n  instanceList: any[] = [];\n  // listenerList: any[] = [];\n  metricList: any[] = [];\n  periodList: number[] = [];\n  dimensionList: any[] = [];\n  instanceAliasList: any[] = [];\n  // listenerAliasList: any[] = [];\n  target: {\n    refId: string;\n    service: string;\n    namespace: string;\n    showInstanceDetails: boolean;\n  };\n  defaults = {\n    namespace: '',\n    service: '',\n    showInstanceDetails: false,\n    ...InitServiceState,\n  };\n\n  cascaderOptions: any = [];\n\n  lastQuery: string;\n  lastQueryError?: string;\n\n  isMetricsNeedUpdate: boolean;\n  hideRegion: boolean;\n\n  $scope: any;\n\n  /** @ngInject */\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor($scope, $injector, private templateSrv) {\n    super($scope, $injector);\n    this.$scope = $scope;\n    this.cascaderOptions = this.datasource.getCascaderNamespaces();\n    this.namespaces = this.datasource.getNamespaces();\n    // 当数据源的命名空间列表存在时，设置相应的默认值\n    if (this.namespaces.length > 0) {\n      // if (_.indexOf(this.namespaces, this.target.namespace) === -1) {\n      //   this.target.namespace = this.namespaces[0];\n      // }\n      this.target.namespace =\n        this.target.namespace ?? this.cascaderOptions[0]?.items?.[0].value ?? this.cascaderOptions[0].value;\n      this.target.service = GetServiceFromNamespace(this.target.namespace) || '';\n    }\n    this.hideRegion = !!SERVICES.find((o) => o.service === this.target.service)?.hideRegion;\n    _.defaultsDeep(this.target, this.defaults);\n    this.instanceAliasList = this.getInstanceAliasList(this.target.service);\n    // this.listenerAliasList = this.getListenerAliasList(this.target.service);\n    this.panelCtrl.events.on('data-received', this.onDataReceived.bind(this), $scope);\n    this.panelCtrl.events.on('data-error', this.onDataError.bind(this), $scope);\n  }\n\n  get sortedPeriodList() {\n    return this.periodList.sort((a, b) => a - b);\n  }\n  get isCascader() {\n    return this.cascaderOptions.length > 1;\n  }\n  cascaderChange(namespace) {\n    this.target.namespace = namespace;\n    this.onNamespaceChange();\n  }\n\n  onDataReceived(dataList) {\n    this.lastQueryError = undefined;\n    this.lastQuery = '';\n\n    const anySeriesFromQuery: any = _.find(dataList, { refId: this.target.refId });\n    if (anySeriesFromQuery) {\n      this.lastQuery = anySeriesFromQuery.query;\n    }\n  }\n\n  onDataError(err) {\n    this.handleQueryCtrlError(err);\n  }\n\n  handleQueryCtrlError(err) {\n    if (_.get(err, 'query.refId') !== this.target.refId) {\n      return;\n    }\n\n    if (_.get(err, 'error.data.error.innererror', undefined)) {\n      if (_.get(err, 'error.data.error.innererror.innererror', undefined)) {\n        this.lastQueryError = _.get(err, 'error.data.error.innererror.innererror.message');\n      } else {\n        this.lastQueryError = _.get(err, 'error.data.error.innererror.message');\n      }\n    } else if (_.get(err, 'error.data.error', undefined)) {\n      this.lastQueryError = _.get(err, 'error.data.error.message');\n    } else if (_.get(err, 'error.data', undefined)) {\n      this.lastQueryError = _.get(err, 'error.data.message');\n    } else if (_.get(err, 'data.error', undefined)) {\n      this.lastQueryError = _.get(err, 'data.error.message');\n      // eslint-disable-next-line no-empty\n    } else if (err.data?.message) {\n    } else if (_.get(err, 'data.message', undefined)) {\n      this.lastQueryError = _.get(err, 'data.message');\n    } else {\n      this.lastQueryError = err;\n    }\n  }\n\n  /**\n   * 获取实例展示字段的选择列表\n   *\n   * @param service 监控服务名\n   */\n  getInstanceAliasList(service) {\n    if (!service) {\n      return [];\n    }\n    return _.map(InstanceAliasList[`${_.toUpper(service)}InstanceAliasList`] || [], (item) => ({\n      text: `As ${item}`,\n      value: item,\n    }));\n  }\n  getNamespaces(query) {\n    return _.map(this.namespaces, (o: any) => ({ text: o.label, value: o.namespace })); // TODO: 为什么对对象排序不行呢？？？？待解决\n  }\n  onNamespaceChange() {\n    const service = GetServiceFromNamespace(this.target.namespace) || '';\n    this.hideRegion = !!SERVICES.find((o) => o.service === service)?.hideRegion;\n    this.regions = [];\n    this.metricList = [];\n    this.periodList = [];\n    this.dimensionList = [];\n    this.instanceList = [];\n    // this.listenerList = [];\n\n    const initState = InitServiceState[service];\n    this.target[service] = _.cloneDeep(initState);\n    this.target.service = service;\n\n    this.instanceAliasList = this.getInstanceAliasList(service);\n    // this.listenerAliasList = this.getListenerAliasList(service);\n\n    this.refresh();\n    if (this.isCascader) this.$scope.$apply();\n  }\n\n  /**\n   * 获取地域列表\n   * output:\n   *  [\n   *    {\n   *      \"Region\": \"ap-beijing\",\n   *      \"RegionName\": \"华北地区(北京)\",\n   *      \"RegionState\": \"AVAILABLE\"\n   *    },\n   *    {\n   *      \"Region\": \"ap-guangzhou\",\n   *      \"RegionName\": \"华南地区(广州)\",\n   *      \"RegionState\": \"AVAILABLE\"\n   *    }\n   *  ]\n   */\n  getRegions(query) {\n    const service = this.target.service;\n    if (!service || _.startsWith('$')) {\n      return [];\n    }\n    if (this.regions.length) {\n      return this.regions;\n    }\n    return this.datasource\n      .getRegions(service)\n      .then((list) => {\n        this.regions = list;\n        return list;\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n\n  onRegionChange() {\n    const service = this.target.service;\n    this.target[service].instance = '';\n    this.instanceList = [];\n    // this.listenerList = [];\n    this.isMetricsNeedUpdate = true;\n    _.forEach(this.target[service].dimensionObject, (__, key) => {\n      this.target[service].dimensionObject[key] = { Name: key, Value: '' };\n    });\n    this.target[service].queries = _.cloneDeep(InitServiceState[service].queries);\n    this.getInstances();\n    this.refresh();\n  }\n\n  /**\n   * 获取模板变量的实际值\n   *\n   * @param variable 模板变量的名字\n   * @param multiple 是否允许多选，如果为 false，返回实际值数组的第一个值\n   */\n  getVariable(variable: string, multiple: boolean) {\n    return ReplaceVariable(this.templateSrv, this.panelCtrl.panel.scopedVars, variable, multiple);\n  }\n\n  getMetricNameDesc() {\n    const service = this.target.service;\n    const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n    if (index === -1) {\n      return '';\n    }\n    return getLanguage() === Language.Chinese ? this.metricList[index].Meaning.Zh : this.metricList[index].Meaning.En;\n  }\n\n  getMetrics(query) {\n    const service = this.target.service;\n    const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n\n    if (!service || !region) {\n      return [];\n    }\n    if (!this.isMetricsNeedUpdate && this.metricList.length > 0) {\n      return _.map(this.metricList, (item) => ({ text: item.MetricName, value: item.MetricName }));\n    }\n    return this.datasource\n      .getMetrics(service, region)\n      .then((list) => {\n        this.metricList = list;\n        this.isMetricsNeedUpdate = false;\n        const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n        if (index !== -1) {\n          this.periodList = _.get(this.metricList[index], 'Period', []);\n          this.dimensionList = _.get(this.metricList[index], 'Dimensions.0.Dimensions', []);\n        }\n        return _.map(list, (item) => ({ text: item.MetricName, value: item.MetricName }));\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n\n  onMetricChange() {\n    const service = this.target.service;\n    let periodList = [];\n    let dimensionList = [];\n    const dimensionObject: any = {};\n    let metricUnit = '';\n    const index = _.findIndex(this.metricList, (item) => item.MetricName === this.target[service].metricName);\n    if (index !== -1) {\n      periodList = _.get(this.metricList[index], 'Period', []);\n      dimensionList = _.get(this.metricList[index], 'Dimensions.0.Dimensions', []);\n      // dimensionList = dimensionList.length > 0 ? dimensionList : (DefaultDimensions[service] ?? []);\n      metricUnit = _.get(this.metricList[index], 'Unit', '');\n    }\n    _.forEach(dimensionList, (item) => {\n      dimensionObject[item] = { Name: item, Value: '' };\n    });\n    this.periodList = periodList;\n    this.dimensionList = dimensionList;\n    this.target[service].period =\n      periodList.length > 0 ? (_.indexOf(periodList, 300) === -1 ? periodList[0] : 300) : undefined;\n    this.target[service].dimensionObject = dimensionObject;\n    this.target[service].metricUnit = metricUnit;\n    this.refresh();\n  }\n\n  getInstances() {\n    const service = this.target.service;\n    const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n    if (!service || !region) {\n      return [];\n    }\n    const params = this.getInstanceQueryParams(service);\n    return this.datasource\n      .getInstances(service, region, params)\n      .then((list) => {\n        this.instanceList = list;\n        const instanceAlias = this.target[service].instanceAlias; // InstanceId\n        const instances: any[] = [];\n        _.forEach(list, (item) => {\n          // 根据 instanceAlias，确定实例展示字段，并保存至 _InstanceAliasValue，用于 constants.ts 的监控数据解析函数 ParseQueryResult\n          const instanceAliasValue = _.get(item, instanceAlias);\n          // console.log({instanceAliasValue}); 遍历出所有的InstanceId\n          if (instanceAliasValue) {\n            if (typeof instanceAliasValue === 'string') {\n              item._InstanceAliasValue = instanceAliasValue;\n              instances.push({ text: instanceAliasValue, value: JSON.stringify(item) });\n            } else if (_.isArray(instanceAliasValue)) {\n              _.forEach(instanceAliasValue, (subItem) => {\n                item._InstanceAliasValue = subItem;\n                instances.push({ text: subItem, value: JSON.stringify(item) });\n              });\n            }\n          }\n        });\n        return instances;\n      })\n      .catch(this.handleQueryCtrlError.bind(this));\n  }\n  onInstanceChange(v) {\n    // const service = this.target.service;\n    // if (this.target[service].listener) {\n    //   this.target[service].listener = '';\n    // }\n    // if (this.target[service].servers) {\n    //   this.target[service].servers = '';\n    // }\n    // if (this.target[service].serverPort) {\n    //   this.target[service].serverPort = '';\n    // }\n    this.refresh();\n  }\n\n  // getListeners() {\n  //   const service = this.target.service;\n  //   const region = this.getVariable(_.get(this.target[service], 'region', ''), false);\n  //   const instance = this.getVariable(_.get(this.target[service], 'instance', ''), false);\n  //   if (!service || !region) {\n  //     return [];\n  //   }\n  //   let instanceMap = {};\n  //   // console.log({instance});\n  //   try {\n  //     instanceMap = JSON.parse(instance);\n  //   } catch (e) {\n  //     console.log(e);\n  //   }\n  //   const idKey = IdKeys[service];\n  //   const instanceId = _.get(instanceMap, idKey);\n  //   return this.datasource.getListeners(service, region, instanceId)\n  //     .then(list => {\n  //       this.listenerList = list;\n  //       const listenerAlias = this.target[service].listenerAlias;\n  //       const listeners: any[] = [];\n  //       _.forEach(list, (item) => {\n  //         const listenerAliasValue = _.get(item, listenerAlias);\n  //         if (listenerAliasValue) {\n  //           if (typeof listenerAliasValue === 'string') {\n  //             item._listenerAliasValue = listenerAliasValue;\n  //             listeners.push({ text: listenerAliasValue, value: JSON.stringify(item) });\n  //           } else if (_.isArray(listenerAliasValue)) {\n  //             _.forEach(listenerAliasValue, (subItem) => {\n  //               item._listenerAliasValue = subItem;\n  //               listeners.push({ text: subItem, value: JSON.stringify(item) });\n  //             });\n  //           }\n  //         }\n  //       });\n  //       // console.log({listeners});\n  //       return listeners;\n  //     })\n  //     .catch(this.handleQueryCtrlError.bind(this));\n  // }\n  /**\n   * 获取实例请求接口的请求参数\n   *\n   * @param service 监控服务名\n   */\n  getInstanceQueryParams(service) {\n    const queries = this.target[service].queries;\n    if (GetInstanceQueryParams[`${_.toUpper(service)}GetInstanceQueryParams`]) {\n      return GetInstanceQueryParams[`${_.toUpper(service)}GetInstanceQueryParams`](queries);\n    } else {\n      return {};\n    }\n  }\n\n  onInstanceAliasChange() {\n    // 仅当 instance 字段不是模板变量时，执行以下操作\n    if (!this.isVariable('instance')) {\n      const service = this.target.service;\n      this.target[service].instance = '';\n      this.refresh();\n    }\n  }\n\n  onInstanceQueryChange() {\n    // 仅当 instance 字段不是模板变量时，执行以下操作\n    if (!this.isVariable('instance')) {\n      const service = this.target.service;\n      this.target[service].instance = '';\n      this.instanceList = [];\n      _.forEach(this.target[service].dimensionObject, (__, key) => {\n        this.target[service].dimensionObject[key] = { Name: key, Value: '' };\n      });\n      this.refresh();\n    }\n  }\n  isVariable(field) {\n    const service = this.target.service;\n    const value = this.target[service]?.[field];\n    return isVariable(value);\n  }\n  checkShowDetail(field) {\n    return !this.isVariable(field) && this.target.showInstanceDetails;\n  }\n  getTimeDesc() {\n    return `${t('time_unit')}: ${t('seconds')}`;\n  }\n  getSearchDesc() {\n    return t('search_description');\n  }\n}\n","import {\n  DataQuery,\n  DataSourceApi,\n  EventBusExtended,\n  LoadingState,\n  PanelModel,\n  QueryEditorProps,\n  TimeRange,\n  toLegacyResponseData,\n} from '@grafana/data';\nimport { DashboardModel } from 'grafana/app/features/dashboard/model';\nimport React, { PureComponent } from 'react';\nimport { AngularComponent, getAngularLoader } from '@grafana/runtime';\nimport EventEmitter from 'eventemitter3';\n\ninterface AngularQueryComponentScope<TQuery extends DataQuery> {\n  target: TQuery;\n  panel: PanelModel;\n  dashboard: DashboardModel;\n  events: EventBusExtended;\n  refresh: () => void;\n  render: () => void;\n  datasource: DataSourceApi<TQuery> | null;\n  toggleEditorMode?: () => void;\n  getCollapsedText?: () => string;\n  range: TimeRange;\n}\n\ninterface QueryCtrlProps extends QueryEditorProps<DataSourceApi<any>> {\n  queryCtrl: any;\n}\n\nexport class QueryCtrlRender<TQuery extends DataQuery> extends PureComponent<QueryCtrlProps> {\n  element: HTMLElement | null;\n  angularScope: AngularQueryComponentScope<TQuery> | null = null;\n  angularQueryEditor: AngularComponent | null = null;\n  // 直接使用EventEmitter，模拟下angular组件提供的events\n  events = new EventEmitter();\n\n  componentDidMount() {\n    if (process.env.NODE_ENV !== 'production') {\n      (window as any).ctrlRender = this;\n    }\n    setTimeout(() => {\n      this.forceUpdate();\n    });\n  }\n\n  componentDidUpdate(prevProps: QueryCtrlProps) {\n    const { data, range } = this.props;\n    if (data !== prevProps.data && data) {\n      if (data.state === LoadingState.Done) {\n        const legacy = data.series.map((v) => toLegacyResponseData(v));\n        this.events.emit('data-received', legacy);\n      } else if (data.state === LoadingState.Error) {\n        this.events.emit('data-error', data.error);\n      }\n      if (this.angularScope) {\n        this.angularScope.range = range!;\n      }\n    }\n    if (!this.element || this.angularQueryEditor) {\n      return;\n    }\n    this.renderAngularQueryEditor();\n  }\n\n  getAngularQueryComponentScope(): AngularQueryComponentScope<TQuery> {\n    const { query, queries, range: timeRange, datasource, queryCtrl } = this.props;\n    datasource.components = {\n      QueryCtrl: queryCtrl,\n    };\n\n    const panel = { scopedVars: {}, targets: queries || [] } as unknown as PanelModel; // new PanelModel({ targets: queries });\n    const dashboard = {} as unknown as DashboardModel;\n\n    return {\n      datasource: datasource,\n      target: query as unknown as TQuery,\n      panel: panel,\n      dashboard: dashboard,\n      refresh: () => {\n        this.props.onChange(query);\n        this.props.onRunQuery();\n      },\n      render: () => () => console.log('legacy render function called, it does nothing'),\n      events: this.events as any,\n      range: timeRange!,\n    };\n  }\n\n  renderAngularQueryEditor = () => {\n    if (!this.element) {\n      return;\n    }\n    if (this.angularQueryEditor) {\n      this.angularQueryEditor.destroy();\n      this.angularQueryEditor = null;\n    }\n\n    const loader = getAngularLoader();\n    const template = '<plugin-component type=\"query-ctrl\" />';\n    const scopeProps = { ctrl: this.getAngularQueryComponentScope() };\n\n    this.angularQueryEditor = loader.load(this.element, scopeProps, template);\n    this.angularScope = scopeProps.ctrl;\n  };\n\n  render() {\n    return (\n      <div\n        ref={(element) => {\n          this.element = element;\n        }}\n      />\n    );\n  }\n}\n","import { useRef } from 'react';\nvar useLatest = function (value) {\n    var ref = useRef(value);\n    ref.current = value;\n    return ref;\n};\nexport default useLatest;\n","import * as TYPES from './types';\nimport { GetRequestParams, GetServiceAPIInfo } from '../../../common/constants';\nimport { DataSourceInstanceSettings } from '@grafana/data';\nimport { getBackendSrv, getTemplateSrv } from '@grafana/runtime';\nimport _ from 'lodash';\nimport { IApiError, IRegionItem, IResourceRegionInfo } from './interface';\n\n/**\n * 云API请求\n * 入参 data内字段 请全部大写\n * 出参 全部大写，不再转换\n */\nexport interface IRequestParam {\n  region: string;\n  action: string;\n  data: any;\n}\n\nexport interface ICapiRequestParam extends IRequestParam {\n  serviceType: string;\n}\n\n/** 通用请求参数。instanceSettings目前无法单例化，后续尝试优化API请求调用方法 */\ninterface IRequestOpts {\n  // 用于调用后端 Sign 方法\n  instanceSettings: DataSourceInstanceSettings;\n  // internal?: boolean;\n  // clientTimeout?: number;\n}\n\n/**\n * 云API请求\n */\nexport async function capiRequest({ serviceType, region, action, data }: ICapiRequestParam, opts: IRequestOpts) {\n  const { instanceSettings } = opts;\n  const serviceInfo = GetServiceAPIInfo(region, serviceType);\n  const requestOptions = await GetRequestParams(\n    { url: instanceSettings.url + serviceInfo.path, data },\n    serviceType,\n    {\n      region: getTemplateSrv().replace(region),\n      action,\n    },\n    '', // 这个参数内部没有使用？\n    instanceSettings.id,\n    getBackendSrv()\n  );\n  return getBackendSrv()\n    .datasourceRequest(requestOptions)\n    .then((response) => {\n      const result = _.get(response, 'data.Response', {});\n      if (result.Error) {\n        // eslint-disable-next-line no-throw-literal,@typescript-eslint/consistent-type-assertions\n        throw {\n          name: result.Error.Code,\n          code: result.Error.Code,\n          message: result.Error.Message,\n          data: {\n            Response: result,\n          },\n        } as IApiError;\n      }\n      return result;\n    })\n    .catch((error: Error) => {\n      console.error('error', error);\n      throw error;\n    });\n}\n\n/**\n * CLS 云api v3 请求\n */\nexport async function clsCapiRequest({ action, region, data = {} }: IRequestParam, opts: IRequestOpts) {\n  return capiRequest(\n    {\n      serviceType: 'cls',\n      region,\n      action,\n      data: data,\n    },\n    {\n      ...opts,\n    }\n  );\n}\n\n/**\n * REGION 云api v3 请求\n */\nexport async function regionCapiRequest({ action, region, data = {} }: IRequestParam, opts: IRequestOpts) {\n  return capiRequest(\n    {\n      serviceType: 'region',\n      region,\n      action,\n      data: data,\n    },\n    {\n      ...opts,\n    }\n  );\n}\n\n/** 本接口用于搜索日志, 该接口除受默认接口请求频率限制外，针对单个日志主题，并发数不能超过15 */\nexport async function SearchLog(\n  data: TYPES.SearchLogParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.SearchLogResult> {\n  return clsCapiRequest(\n    {\n      action: 'SearchLog',\n      region,\n      data: {\n        UseNewAnalysis: true,\n        ...data,\n      },\n    },\n    opts\n  );\n}\n\n/** 本接口用于搜索日志上下文附近的内容 */\nexport async function DescribeLogContext(\n  data: TYPES.DescribeLogContextParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.DescribeLogContextResult> {\n  return clsCapiRequest(\n    {\n      action: 'DescribeLogContext',\n      data,\n      region,\n    },\n    opts\n  );\n}\n\n/**  本接口用于获取日志主题列表，支持分页 */\nexport async function DescribeTopics(\n  data: TYPES.DescribeTopicsParams,\n  region: string,\n  opts: IRequestOpts\n): Promise<TYPES.DescribeTopicsResult> {\n  return clsCapiRequest(\n    {\n      action: 'DescribeTopics',\n      data,\n      region,\n    },\n    opts\n  );\n}\n\n/**\n * @description 请求当前用户支持cls所有地域，已做白名单过滤\n */\nasync function DescribeRegionsAndZonesRequest(product: string, opts?: IRequestOpts): Promise<IResourceRegionInfo[]> {\n  return regionCapiRequest(\n    { action: 'DescribeRegionsAndZones', data: { Product: product }, region: 'ap-guangzhou' },\n    opts\n  ).then((data) => data.ResourceRegionSet);\n}\n\nexport async function DescribeRegions(opts?: IRequestOpts): Promise<{ regionList: IRegionItem[] }> {\n  return DescribeRegionsAndZonesRequest('cls', opts).then((clsRegions) => ({\n    regionList: (clsRegions || []).map(\n      ({ Region, RegionId, RegionName, RegionShortName, RegionTypeMC, RegionType, Location }) => {\n        const regionItem: IRegionItem = {\n          region: Region,\n          regionId: Number(RegionId),\n          regionName: RegionName,\n          regionShortName: RegionShortName,\n\n          oversea: typeof RegionTypeMC === 'number' ? Boolean(RegionTypeMC) : RegionType === '海外',\n          area: Location,\n        };\n        return regionItem;\n      }\n    ),\n  }));\n}\n","import { useEffect } from 'react';\nvar useEffectOnce = function (effect) {\n    useEffect(effect, []);\n};\nexport default useEffectOnce;\n","import { SelectableValue } from '@grafana/data';\nimport { getTemplateSrv } from '@grafana/runtime';\n\nexport function getStringVariableNameOptions(): SelectableValue<string>[] {\n  const variables = getTemplateSrv()\n    .getVariables()\n    .filter((item) => ['adhoc', 'datasource', 'interval', 'interval'].indexOf(item.type) === -1);\n  const notMultiVariables = variables.filter((item) => !(item as any)?.multi);\n  return notMultiVariables.map((item) => {\n    const refValue = `\\$\\{${item.name}\\}`;\n    return { value: refValue, label: refValue };\n  });\n}\n","import React, { FC, useCallback, useEffect, useRef, useState } from 'react';\nimport { DescribeRegions, DescribeTopics, Filter, IRegionItem, ITopicIdentifier } from '../common/model';\nimport { InlineField, Select, AsyncSelect } from '@grafana/ui';\nimport { uuidRegex } from '../common/constants';\nimport { useEffectOnce } from 'react-use';\nimport { DataSourceApi, SelectableValue } from '@grafana/data';\nimport { getStringVariableNameOptions } from '../common/utils';\nimport { t } from '../../../locale';\n\ninterface Props {\n  value: ITopicIdentifier;\n  onChange: (v: ITopicIdentifier) => void;\n  datasource: DataSourceApi;\n  /** 组件首次渲染，且未设置地域和日志主题时，默认使用上次编辑的填写的内容 */\n  preferLastValue?: boolean;\n}\n\nexport const TopicSelector: FC<Props> = React.memo((props) => {\n  const { value, preferLastValue = true, datasource } = props;\n\n  const onChange = useCallback(\n    (v: ITopicIdentifier) => {\n      try {\n        localStorage.setItem('LogServiceTopicSelectorDefaultValue', JSON.stringify(v));\n      } catch (e) {}\n      props.onChange(v);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n  useEffectOnce(() => {\n    if (preferLastValue && !value.region && !value.TopicId) {\n      try {\n        const lastValue: ITopicIdentifier = JSON.parse(localStorage.getItem('LogServiceTopicSelectorDefaultValue'));\n        if (lastValue?.region && lastValue.TopicId) {\n          onChange(lastValue);\n        }\n      } catch (e) {}\n    }\n  });\n  const topicSelectOptionsRef = useRef<SelectableValue<string>>([]);\n  const [regionList, setRegionList] = useState<IRegionItem[]>([]);\n  useEffect(() => {\n    fetchRegions();\n  }, []);\n\n  const fetchRegions = useCallback(async () => {\n    try {\n      const { regionList } = await DescribeRegions({ instanceSettings: (datasource as any).instanceSettings });\n      setRegionList(regionList);\n    } catch (e) {}\n  }, []);\n\n  return (\n    <>\n      <InlineField label={t('region')} labelWidth={20}>\n        <Select\n          value={value.region}\n          onChange={(option) => {\n            const region = option.value;\n            DescribeTopics({ Limit: 1 }, region, { instanceSettings: (datasource as any).instanceSettings })\n              .then((result) => {\n                topicSelectOptionsRef.current = result.Topics?.map((item) => ({\n                  value: item.TopicId,\n                  label: `${item.TopicName} (${item.TopicId})`,\n                }));\n                onChange({\n                  region: option.value,\n                  TopicId: result.Topics?.[0]?.TopicId || '',\n                });\n              })\n              .catch((e) => {\n                onChange({\n                  region: option.value,\n                  TopicId: '',\n                });\n              });\n          }}\n          menuPlacement=\"bottom\"\n          options={[\n            ...regionList.map((item) => ({\n              label: `${item.area}(${item.regionName})`,\n              value: item.region,\n            })),\n            ...getStringVariableNameOptions(),\n          ]}\n          width={25}\n          className=\"log-service-monospaced-font-family\"\n        />\n      </InlineField>\n      <InlineField label={t('log_topic')} labelWidth={20}>\n        <AsyncSelect<string>\n          // 地域变更时，自动重新出发请求\n          key={value.region}\n          width={50}\n          defaultOptions\n          cacheOptions={false}\n          loadOptions={async (filterStr) => {\n            const filters: Filter[] = [];\n            if (filterStr) {\n              if (uuidRegex.test(filterStr)) {\n                filters.push({ Key: 'topicId', Values: [filterStr] });\n              } else {\n                filters.push({ Key: 'topicName', Values: [filterStr] });\n              }\n            }\n            const options = await DescribeTopics({ Filters: filters, Limit: 100 }, value.region, {\n              instanceSettings: (datasource as any).instanceSettings,\n            }).then((result) => {\n              return result.Topics.map((item) => ({\n                value: item.TopicId,\n                label: `${item.TopicName} (${item.TopicId})`,\n              }));\n            });\n            const optionsWithVariables = [\n              ...options,\n              ...getStringVariableNameOptions().filter((item) => item.value?.includes(filterStr)),\n            ];\n            topicSelectOptionsRef.current = optionsWithVariables;\n            return optionsWithVariables;\n          }}\n          value={\n            topicSelectOptionsRef?.current?.find((item) => item.value === value.TopicId) || {\n              value: value.TopicId,\n              label: value.TopicId,\n            }\n          }\n          onChange={(e) => {\n            onChange({\n              region: value.region,\n              TopicId: e.value,\n            });\n          }}\n          className=\"log-service-monospaced-font-family\"\n        />\n      </InlineField>\n    </>\n  );\n});\n\nTopicSelector.displayName = 'TopicSelector';\n","import { DataSourceApi, QueryEditorProps } from '@grafana/data';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo, queryInfoRuntime } from '../types';\nimport React, { FC, useCallback } from 'react';\nimport { useLatest } from 'react-use';\nimport { InlineField, InlineLabel, QueryField, Select, InlineFieldRow, Input } from '@grafana/ui';\nimport { TopicSelector } from './components/TopicSelector';\nimport { TcDataSourceId } from '../common/constants';\nimport { t } from '../../locale';\nimport _ from 'lodash';\nimport './index.less';\nimport { SearchSyntaxRule } from './common/constants';\n\ntype Props = QueryEditorProps<DataSourceApi<any>, QueryInfo, MyDataSourceOptions>;\n\nexport const LogServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const propsRef = useLatest(props);\n  const { query, datasource } = props;\n  const logServiceParams = query.logServiceParams || _.clone(defaultQueryInfo.logServiceParams)!;\n\n  const partialOnChange = useCallback(\n    (queryInfo: Partial<QueryInfo>) => {\n      const { onChange, query } = propsRef.current;\n      // 使用queryInfoRuntime作为配置模板，清除其他不存在的配置字段。\n      const oldQuery = _.pick(query, Object.keys(queryInfoRuntime));\n      onChange({ ...oldQuery, ...queryInfo } as unknown as QueryInfo);\n    },\n    [propsRef]\n  );\n\n  return (\n    <div>\n      <InlineFieldRow>\n        <TopicSelector\n          value={{ region: logServiceParams.region, TopicId: logServiceParams.TopicId }}\n          onChange={(v) => {\n            partialOnChange({\n              logServiceParams: {\n                ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                ...v,\n              },\n            });\n          }}\n          datasource={datasource}\n        />\n        <InlineField label={t('syntax_rule')} labelWidth={20}>\n          <Select\n            value={logServiceParams.SyntaxRule}\n            onChange={(v) => {\n              partialOnChange({\n                logServiceParams: {\n                  ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                  SyntaxRule: v.value,\n                },\n              });\n            }}\n            menuPlacement=\"bottom\"\n            options={[\n              {\n                label: 'Lucene',\n                value: SearchSyntaxRule.LUCENE,\n              },\n              {\n                label: 'CQL',\n                value: SearchSyntaxRule.CQL,\n              },\n            ]}\n            width={25}\n            className=\"log-service-monospaced-font-family\"\n          />\n        </InlineField>\n      </InlineFieldRow>\n\n      <MaxResultNumInput\n        value={logServiceParams.MaxResultNum}\n        onChange={(val) => {\n          partialOnChange({\n            logServiceParams: {\n              ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n              MaxResultNum: val,\n            },\n          });\n        }}\n      />\n\n      <div style={{ display: 'flex' }}>\n        <InlineLabel width={20}>{t('search_statement')}</InlineLabel>\n        <div style={{ flexGrow: 1 }}>\n          <QueryField\n            portalOrigin={TcDataSourceId}\n            placeholder={`e.g. _SOURCE__: 127.0.0.1 AND \"http/1.0\"`}\n            query={logServiceParams.Query}\n            onChange={(v) => {\n              partialOnChange({\n                logServiceParams: {\n                  ...(propsRef.current?.query?.logServiceParams || ({} as any)),\n                  Query: v,\n                },\n              });\n            }}\n            // By default QueryField calls onChange if onBlur is not defined, this will trigger a rerender\n            // And slate will claim the focus, making it impossible to leave the field.\n            onBlur={() => {}}\n          />\n        </div>\n      </div>\n    </div>\n  );\n});\n\nLogServiceQueryEditor.displayName = 'LogServiceQueryEditor';\n\ninterface MaxResultNumInputProps {\n  value: string | number;\n  onChange: (value: number | undefined) => void;\n}\n\nconst MaxResultNumInput: FC<MaxResultNumInputProps> = React.memo((props) => {\n  const min = 1;\n  const max = 1000;\n  const { value, onChange: onChangeFromProps } = props;\n\n  const onInputChange = useCallback(\n    (e) => {\n      const currVal = Number(e.currentTarget.value) || undefined;\n      onChangeFromProps(currVal);\n    },\n    [onChangeFromProps]\n  );\n\n  return (\n    <InlineField\n      label={t('max_result_num')}\n      labelWidth={20}\n      invalid={value < min || value > max}\n      // @ts-ignore  这里报error属性不存在，但应该是存在的。\n      error=\"仅支持返回1～1000条日志\"\n    >\n      <Input\n        type=\"number\"\n        min={min}\n        max={max}\n        value={value}\n        onChange={onInputChange}\n        width={25}\n        className=\"log-service-monospaced-font-family\"\n      />\n    </InlineField>\n  );\n});\n","import { reduce } from 'lodash';\nimport kbn from 'grafana/app/core/utils/kbn';\n\nfunction renderTagCondition(tag: { operator: any; value: string; condition: any; key: string }, index: number) {\n  // FIXME: merge this function with RUM_query_model/renderTagCondition\n  let str = '';\n  let operator = tag.operator;\n  let value = tag.value;\n  if (index > 0) {\n    str = (tag.condition.toLowerCase() || 'AND') + ' ';\n  }\n\n  if (!operator) {\n    if (/^\\/.*\\/$/.test(tag.value)) {\n      operator = '=~';\n    } else {\n      operator = '=';\n    }\n  }\n\n  // quote value unless regex or number, or if empty-string\n  if (value === '' || (operator !== '=~' && operator !== '!~')) {\n    value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n  }\n\n  return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n}\n\nexport class RUMQueryBuilder {\n  // eslint-disable-next-line @typescript-eslint/no-parameter-properties\n  constructor(private target: { measurement: any; tags: any; policy?: any }, private database?: string) {}\n\n  buildExploreQuery(type: string, withKey?: string, withMeasurementFilter?: string): string {\n    let query = '';\n    let measurement;\n    let policy;\n\n    if (type === 'TAG_KEYS') {\n      query = 'show tag keys';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'TAG_VALUES') {\n      query = 'show tag values';\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n    } else if (type === 'MEASUREMENTS') {\n      query = 'show measurements';\n      if (withMeasurementFilter) {\n        // we do a case-insensitive regex-based lookup\n        query += ' with measurement =~ /(?i)' + kbn.regexEscape(withMeasurementFilter) + '/';\n      }\n    } else if (type === 'FIELDS') {\n      measurement = this.target.measurement;\n      policy = this.target.policy;\n\n      if (!measurement.match('^/.*/')) {\n        measurement = '\"' + measurement + '\"';\n\n        if (policy && policy !== 'default') {\n          policy = '\"' + policy + '\"';\n          measurement = policy + '.' + measurement;\n        }\n      }\n\n      return 'show field keys from ' + measurement;\n    } else if (type === 'RETENTION POLICIES') {\n      query = 'show retention policies on \"' + this.database + '\"';\n      return query;\n    }\n\n    if (measurement) {\n      if (!measurement.match('^/.*/') && !measurement.match(/^merge\\(.*\\)/)) {\n        measurement = '\"' + measurement + '\"';\n      }\n\n      if (policy && policy !== 'default') {\n        policy = '\"' + policy + '\"';\n        measurement = policy + '.' + measurement;\n      }\n\n      query += ' from ' + measurement;\n    }\n\n    if (withKey) {\n      query += ' with key = \"' + withKey + '\"';\n    }\n\n    if (this.target.tags && this.target.tags.length > 0) {\n      const whereConditions = reduce(\n        this.target.tags,\n        (memo, tag) => {\n          if (type === 'MEASUREMENTS' && tag.key === 'id') {\n            return memo;\n          }\n          // do not add a condition for the key we want to explore for\n          if (tag.key === withKey) {\n            return memo;\n          }\n\n          // value operators not supported in these types of queries\n          if (tag.operator === '>' || tag.operator === '<') {\n            return memo;\n          }\n\n          memo.push(renderTagCondition(tag, memo.length));\n          return memo;\n        },\n        [] as string[]\n      );\n\n      if (whereConditions.length > 0) {\n        query += ' where ' + whereConditions.join(' ');\n      }\n    }\n\n    if (type === 'MEASUREMENTS') {\n      query += ' limit 100';\n      // Solve issue #2524 by limiting the number of measurements returned\n      // LIMIT must be after WITH MEASUREMENT and WHERE clauses\n      // This also could be used for TAG KEYS and TAG VALUES, if desired\n    }\n\n    return query;\n  }\n}\n","import { RUMQueryTag } from './types';\nimport { RUMQueryBuilder } from './query_builder';\nimport { ServiceType } from '../types';\nimport { DataSource } from '../DataSource';\n\nconst runExploreQuery = (\n  type: string,\n  withKey: string | undefined,\n  withMeasurementFilter: string | undefined,\n  target: { measurement: string | undefined; tags: RUMQueryTag[]; policy: string | undefined },\n  datasource: DataSource\n): Promise<Array<{ text: string }>> => {\n  const builder = new RUMQueryBuilder(target);\n  const q = builder.buildExploreQuery(type, withKey, withMeasurementFilter);\n  return datasource.metricFindQuery(\n    {\n      serviceType: ServiceType.RUMService,\n      queryString: q,\n    },\n    undefined\n  );\n};\n\nexport async function getAllPolicies(datasource: DataSource): Promise<string[]> {\n  const target = { tags: [], measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('RETENTION POLICIES', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getAllMeasurementsForTags(\n  measurementFilter: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('MEASUREMENTS', undefined, measurementFilter, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagKeysForMeasurementAndTags(\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_KEYS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagValues(\n  tagKey: string,\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: RUMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_VALUES', tagKey, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getFieldKeysForMeasurement(\n  measurement: string,\n  policy: string | undefined,\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags: [], measurement, policy };\n  const data = await runExploreQuery('FIELDS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n","import { clone, each, map } from 'lodash';\n\nexport class QueryPartDef {\n  type: string;\n  params: any[];\n  defaultParams: any[];\n  renderer: any;\n  category: any;\n  addStrategy: any;\n\n  constructor(options: any) {\n    this.type = options.type;\n    this.params = options.params;\n    this.defaultParams = options.defaultParams;\n    this.renderer = options.renderer;\n    this.category = options.category;\n    this.addStrategy = options.addStrategy;\n  }\n}\n\nexport class QueryPart {\n  part: any;\n  def: QueryPartDef;\n  params: any[];\n  text: string;\n\n  constructor(part: any, def: any) {\n    this.part = part;\n    this.def = def;\n    if (!this.def) {\n      // eslint-disable-next-line no-throw-literal\n      throw { message: 'Could not find query part ' + part.type };\n    }\n\n    part.params = part.params || clone(this.def.defaultParams);\n    this.params = part.params;\n    this.text = '';\n    this.updateText();\n  }\n\n  render(innerExpr: string) {\n    return this.def.renderer(this, innerExpr);\n  }\n\n  hasMultipleParamsInString(strValue: string, index: number) {\n    if (strValue.indexOf(',') === -1) {\n      return false;\n    }\n\n    return this.def.params[index + 1] && this.def.params[index + 1].optional;\n  }\n\n  updateParam(strValue: string, index: number) {\n    // handle optional parameters\n    // if string contains ',' and next param is optional, split and update both\n    if (this.hasMultipleParamsInString(strValue, index)) {\n      each(strValue.split(','), (partVal, idx) => {\n        this.updateParam(partVal.trim(), idx);\n      });\n      return;\n    }\n\n    if (strValue === '' && this.def.params[index].optional) {\n      this.params.splice(index, 1);\n    } else {\n      this.params[index] = strValue;\n    }\n\n    this.part.params = this.params;\n    this.updateText();\n  }\n\n  updateText() {\n    if (this.params.length === 0) {\n      this.text = this.def.type + '()';\n      return;\n    }\n\n    let text = this.def.type + '(';\n    text += this.params.join(', ');\n    text += ')';\n    this.text = text;\n  }\n}\n\nexport function functionRenderer(part: any, innerExpr: string) {\n  const str = part.def.type + '(';\n  const parameters = map(part.params, (value, index) => {\n    const paramType = part.def.params[index];\n    if (paramType.type === 'time') {\n      if (value === 'auto') {\n        value = '$__interval';\n      }\n    }\n    if (paramType.quote === 'single') {\n      return \"'\" + value + \"'\";\n    } else if (paramType.quote === 'double') {\n      return '\"' + value + '\"';\n    }\n\n    return value;\n  });\n\n  if (innerExpr) {\n    parameters.unshift(innerExpr);\n  }\n  return str + parameters.join(', ') + ')';\n}\n\nexport function suffixRenderer(part: QueryPart, innerExpr: string) {\n  return innerExpr + ' ' + part.params[0];\n}\n\nexport function identityRenderer(part: QueryPart, innerExpr: string) {\n  return part.params[0];\n}\n\nexport function quotedIdentityRenderer(part: QueryPart, innerExpr: string) {\n  return '\"' + part.params[0] + '\"';\n}\n\nconst index: any[] = [];\nconst categories: any = {\n  Aggregations: [],\n  Selectors: [],\n  Transformations: [],\n  Predictors: [],\n  Math: [],\n  Aliasing: [],\n  Fields: [],\n};\n\nfunction createPart(part: any): any {\n  const def = index[part.type];\n  if (!def) {\n    // eslint-disable-next-line no-throw-literal\n    throw { message: 'Could not find query part ' + part.type };\n  }\n\n  return new QueryPart(part, def);\n}\n\nfunction register(options: any) {\n  index[options.type] = new QueryPartDef(options);\n  options.category.push(index[options.type]);\n}\n\nconst groupByTimeFunctions: any[] = [];\n\nfunction aliasRenderer(part: { params: string[] }, innerExpr: string) {\n  // eslint-disable-next-line no-useless-concat\n  return innerExpr + ' AS ' + '\"' + part.params[0] + '\"';\n}\n\nfunction fieldRenderer(part: { params: string[] }, innerExpr: any) {\n  if (part.params[0] === '*') {\n    return '*';\n  }\n  return '\"' + part.params[0] + '\"';\n}\n\nfunction replaceAggregationAddStrategy(selectParts: any[], partModel: { def: { type: string } }) {\n  // look for existing aggregation\n  for (let i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Aggregations) {\n      if (part.def.type === partModel.def.type) {\n        return;\n      }\n      // count distinct is allowed\n      if (part.def.type === 'count' && partModel.def.type === 'distinct') {\n        break;\n      }\n      // remove next aggregation if distinct was replaced\n      if (part.def.type === 'distinct') {\n        const morePartsAvailable = selectParts.length >= i + 2;\n        if (partModel.def.type !== 'count' && morePartsAvailable) {\n          const nextPart = selectParts[i + 1];\n          if (nextPart.def.category === categories.Aggregations) {\n            selectParts.splice(i + 1, 1);\n          }\n        } else if (partModel.def.type === 'count') {\n          if (!morePartsAvailable || selectParts[i + 1].def.type !== 'count') {\n            selectParts.splice(i + 1, 0, partModel);\n          }\n          return;\n        }\n      }\n      selectParts[i] = partModel;\n      return;\n    }\n    if (part.def.category === categories.Selectors) {\n      selectParts[i] = partModel;\n      return;\n    }\n  }\n\n  selectParts.splice(1, 0, partModel);\n}\n\nfunction addTransformationStrategy(selectParts: any[], partModel: any) {\n  let i;\n  // look for index to add transformation\n  for (i = 0; i < selectParts.length; i++) {\n    const part = selectParts[i];\n    if (part.def.category === categories.Math || part.def.category === categories.Aliasing) {\n      break;\n    }\n  }\n\n  selectParts.splice(i, 0, partModel);\n}\n\nfunction addMathStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is math, replace it\n    if (selectParts[partCount - 1].def.type === 'math') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n    // if next to last is math, replace it\n    if (partCount > 1 && selectParts[partCount - 2].def.type === 'math') {\n      selectParts[partCount - 2] = partModel;\n      return;\n    } else if (selectParts[partCount - 1].def.type === 'alias') {\n      // if last is alias add it before\n      selectParts.splice(partCount - 1, 0, partModel);\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addAliasStrategy(selectParts: any[], partModel: any) {\n  const partCount = selectParts.length;\n  if (partCount > 0) {\n    // if last is alias, replace it\n    if (selectParts[partCount - 1].def.type === 'alias') {\n      selectParts[partCount - 1] = partModel;\n      return;\n    }\n  }\n  selectParts.push(partModel);\n}\n\nfunction addFieldStrategy(selectParts: any, partModel: any, query: { selectModels: any[][] }) {\n  // copy all parts\n  const parts = map(selectParts, (part: any) => {\n    return createPart({ type: part.def.type, params: clone(part.params) });\n  });\n\n  query.selectModels.push(parts);\n}\n\nregister({\n  type: 'field',\n  addStrategy: addFieldStrategy,\n  category: categories.Fields,\n  params: [{ type: 'field', dynamicLookup: true }],\n  defaultParams: ['value'],\n  renderer: fieldRenderer,\n});\n\n// Aggregations\nregister({\n  type: 'count',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'distinct',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'integral',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mean',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'median',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'mode',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'sum',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Aggregations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\n// transformations\n\nregister({\n  type: 'derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'spread',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_derivative',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'non_negative_difference',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'moving_average',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [{ name: 'window', type: 'int', options: [5, 10, 20, 30, 40] }],\n  defaultParams: [10],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'cumulative_sum',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'stddev',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'time',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'interval',\n      type: 'time',\n      options: ['$__interval', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['$__interval'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'fill',\n  category: groupByTimeFunctions,\n  params: [\n    {\n      name: 'fill',\n      type: 'string',\n      options: ['none', 'null', '0', 'previous', 'linear'],\n    },\n  ],\n  defaultParams: ['null'],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'elapsed',\n  addStrategy: addTransformationStrategy,\n  category: categories.Transformations,\n  params: [\n    {\n      name: 'duration',\n      type: 'interval',\n      options: ['1s', '10s', '1m', '5m', '10m', '15m', '1h'],\n    },\n  ],\n  defaultParams: ['10s'],\n  renderer: functionRenderer,\n});\n\n// predictions\nregister({\n  type: 'holt_winters',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'holt_winters_with_fit',\n  addStrategy: addTransformationStrategy,\n  category: categories.Predictors,\n  params: [\n    { name: 'number', type: 'int', options: [5, 10, 20, 30, 40] },\n    { name: 'season', type: 'int', options: [0, 1, 2, 5, 10] },\n  ],\n  defaultParams: [10, 2],\n  renderer: functionRenderer,\n});\n\n// Selectors\nregister({\n  type: 'bottom',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'first',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'last',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'max',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'min',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [],\n  defaultParams: [],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'percentile',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'nth', type: 'int' }],\n  defaultParams: [95],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'top',\n  addStrategy: replaceAggregationAddStrategy,\n  category: categories.Selectors,\n  params: [{ name: 'count', type: 'int' }],\n  defaultParams: [3],\n  renderer: functionRenderer,\n});\n\nregister({\n  type: 'tag',\n  category: groupByTimeFunctions,\n  params: [{ name: 'tag', type: 'string', dynamicLookup: true }],\n  defaultParams: ['tag'],\n  renderer: fieldRenderer,\n});\n\nregister({\n  type: 'math',\n  addStrategy: addMathStrategy,\n  category: categories.Math,\n  params: [{ name: 'expr', type: 'string' }],\n  defaultParams: [' / 100'],\n  renderer: suffixRenderer,\n});\n\nregister({\n  type: 'alias',\n  addStrategy: addAliasStrategy,\n  category: categories.Aliasing,\n  params: [{ name: 'name', type: 'string', quote: 'double' }],\n  defaultParams: ['alias'],\n  renderMode: 'suffix',\n  renderer: aliasRenderer,\n});\n\nexport default {\n  create: createPart,\n  getCategories: () => {\n    return categories;\n  },\n  replaceAggregationAdd: replaceAggregationAddStrategy,\n};\n","import { map, find, filter, indexOf, cloneDeep } from 'lodash';\nimport queryPart from './query_part';\nimport kbn from 'grafana/app/core/utils/kbn';\nimport { RUMQuery, RUMQueryTag } from './types';\nimport { ScopedVars } from '@grafana/data';\nimport { TemplateSrv } from '@grafana/runtime';\nimport { defaultQueryInfo } from '../types';\n\nexport default class RUMQueryModel {\n  target: RUMQuery;\n  selectModels: any[] = [];\n  queryBuilder: any;\n  groupByParts: any;\n  templateSrv: any;\n  scopedVars: any;\n  refId?: string;\n\n  /** @ngInject */\n  constructor(target: RUMQuery, templateSrv?: TemplateSrv, scopedVars?: ScopedVars) {\n    this.target = target;\n    this.templateSrv = templateSrv;\n    this.scopedVars = scopedVars;\n\n    target.policy = target.policy || defaultQueryInfo.RUMServiceParams.policy;\n    target.resultFormat = target.resultFormat || defaultQueryInfo.RUMServiceParams.resultFormat;\n    target.orderByTime = target.orderByTime || defaultQueryInfo.RUMServiceParams.orderByTime;\n    target.tags = target.tags || cloneDeep(defaultQueryInfo.RUMServiceParams.tags);\n    target.groupBy = target.groupBy || cloneDeep(defaultQueryInfo.RUMServiceParams.groupBy);\n    target.select = target.select || cloneDeep(defaultQueryInfo.RUMServiceParams.select);\n\n    this.updateProjection();\n  }\n\n  updateProjection() {\n    this.selectModels = map(this.target.select, (parts: any) => {\n      return map(parts, queryPart.create);\n    });\n    this.groupByParts = map(this.target.groupBy, queryPart.create);\n  }\n\n  updatePersistedParts() {\n    this.target.select = map(this.selectModels, (selectParts) => {\n      return map(selectParts, (part: any) => {\n        return { type: part.def.type, params: part.params };\n      });\n    });\n  }\n\n  hasGroupByTime() {\n    return find(this.target.groupBy, (g: any) => g.type === 'time');\n  }\n\n  hasFill() {\n    return find(this.target.groupBy, (g: any) => g.type === 'fill');\n  }\n\n  addGroupBy(value: string) {\n    let stringParts = value.match(/^(\\w+)\\((.*)\\)$/);\n\n    if (!stringParts || !this.target.groupBy) {\n      return;\n    }\n\n    const typePart = stringParts[1];\n    const arg = stringParts[2];\n    const partModel = queryPart.create({ type: typePart, params: [arg] });\n    const partCount = this.target.groupBy.length;\n\n    if (partCount === 0) {\n      this.target.groupBy.push(partModel.part);\n    } else if (typePart === 'time') {\n      this.target.groupBy.splice(0, 0, partModel.part);\n    } else if (typePart === 'tag') {\n      if (this.target.groupBy[partCount - 1].type === 'fill') {\n        this.target.groupBy.splice(partCount - 1, 0, partModel.part);\n      } else {\n        this.target.groupBy.push(partModel.part);\n      }\n    } else {\n      this.target.groupBy.push(partModel.part);\n    }\n\n    this.updateProjection();\n  }\n\n  removeGroupByPart(part: { def: { type: string } }, index: number) {\n    const categories = queryPart.getCategories();\n\n    if (part.def.type === 'time') {\n      // remove fill\n      this.target.groupBy = filter(this.target.groupBy, (g: any) => g.type !== 'fill');\n      // remove aggregations\n      this.target.select = map(this.target.select, (s: any) => {\n        return filter(s, (part: any) => {\n          const partModel = queryPart.create(part);\n          if (partModel.def.category === categories.Aggregations) {\n            return false;\n          }\n          if (partModel.def.category === categories.Selectors) {\n            return false;\n          }\n          return true;\n        });\n      });\n    }\n\n    this.target.groupBy!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelect(index: number) {\n    this.target.select!.splice(index, 1);\n    this.updateProjection();\n  }\n\n  removeSelectPart(selectParts: any[], part: any) {\n    // if we remove the field remove the whole statement\n    if (part.def.type === 'field') {\n      if (this.selectModels.length > 1) {\n        const modelsIndex = indexOf(this.selectModels, selectParts);\n        this.selectModels.splice(modelsIndex, 1);\n      }\n    } else {\n      const partIndex = indexOf(selectParts, part);\n      selectParts.splice(partIndex, 1);\n    }\n\n    this.updatePersistedParts();\n  }\n\n  addSelectPart(selectParts: any[], type: string) {\n    const partModel = queryPart.create({ type: type });\n    partModel.def.addStrategy(selectParts, partModel, this);\n    this.updatePersistedParts();\n  }\n\n  getMeasurementAndPolicy(interpolate: any) {\n    let policy = this.target.policy;\n    let measurement = this.target.measurement || 'measurement';\n\n    if (!measurement.match('^/.*/$')) {\n      measurement = '\"' + measurement + '\"';\n    } else if (interpolate) {\n      measurement = this.templateSrv.replace(measurement, this.scopedVars, 'regex');\n    }\n\n    if (policy !== 'default') {\n      policy = '\"' + this.target.policy + '\".';\n    } else {\n      policy = '';\n    }\n\n    return policy + measurement;\n  }\n\n  interpolateQueryStr(value: any[], variable: { multi: any; includeAll: any }, defaultFormatFn: any) {\n    // if no multi or include all do not regexEscape\n    if (!variable.multi && !variable.includeAll) {\n      return value;\n    }\n\n    if (typeof value === 'string') {\n      return kbn.regexEscape(value);\n    }\n\n    const escapedValues = map(value, kbn.regexEscape);\n    return '(' + escapedValues.join('|') + ')';\n  }\n\n  render(interpolate?: boolean) {\n    const target = this.target;\n\n    if (target.rawQuery) {\n      if (interpolate) {\n        return this.templateSrv.replace(target.query, this.scopedVars, this.interpolateQueryStr);\n      } else {\n        return target.query;\n      }\n    }\n\n    let query = 'select ';\n    let i;\n    let y;\n    for (i = 0; i < this.selectModels.length; i++) {\n      const parts = this.selectModels[i];\n      let selectText = '';\n      for (y = 0; y < parts.length; y++) {\n        const part = parts[y];\n        selectText = part.render(selectText);\n      }\n\n      if (i > 0) {\n        query += ', ';\n      }\n      query += selectText;\n    }\n\n    query += ' from ' + this.getMeasurementAndPolicy(interpolate) + ' where ';\n    const conditions = map(target.tags, (tag, index) => {\n      return this.renderTagCondition(tag, index, interpolate);\n    });\n\n    if (conditions.length > 0) {\n      query += '(' + conditions.join(' ') + ') and ';\n    }\n\n    query += '$timeFilter';\n\n    let groupBySection = '';\n    for (i = 0; i < this.groupByParts.length; i++) {\n      const part = this.groupByParts[i];\n      if (i > 0) {\n        // for some reason fill has no separator\n        groupBySection += part.def.type === 'fill' ? ' ' : ', ';\n      }\n      groupBySection += part.render('');\n    }\n\n    if (groupBySection.length) {\n      query += ' group by ' + groupBySection;\n    }\n\n    if (target.fill) {\n      query += ' fill(' + target.fill + ')';\n    }\n\n    if (target.orderByTime === 'DESC') {\n      query += ' order by time desc';\n    }\n\n    if (target.limit) {\n      query += ' limit ' + target.limit;\n    }\n\n    if (target.slimit) {\n      query += ' slimit ' + target.slimit;\n    }\n\n    if (target.tz) {\n      query += \" tz('\" + target.tz + \"')\";\n    }\n\n    return query;\n  }\n\n  renderAdhocFilters(filters: any[]) {\n    const conditions = map(filters, (tag, index) => {\n      return this.renderTagCondition(tag, index, true);\n    });\n    return conditions.join(' ');\n  }\n\n  private renderTagCondition(tag: RUMQueryTag, index: number, interpolate?: boolean) {\n    // FIXME: merge this function with query_builder/renderTagCondition\n    let str = '';\n    let operator = tag.operator;\n    let value = tag.value;\n    if (index > 0) {\n      str = (tag.condition.toLowerCase() || 'and') + ' ';\n    }\n\n    if (!operator) {\n      if (/^\\/.*\\/$/.test(value)) {\n        operator = '=~';\n      } else {\n        operator = '=';\n      }\n    }\n\n    // quote value unless regex\n    if (operator !== '=~' && operator !== '!~') {\n      if (interpolate) {\n        value = this.templateSrv.replace(value, this.scopedVars);\n      }\n      if (operator !== '>' && operator !== '<') {\n        value = \"'\" + value.replace(/\\\\/g, '\\\\\\\\').replace(/\\'/g, \"\\\\'\") + \"'\";\n      }\n    } else if (interpolate) {\n      value = this.templateSrv.replace(value, this.scopedVars, 'regex');\n    }\n\n    return str + '\"' + tag.key + '\" ' + operator + ' ' + value;\n  }\n}\n","export function unwrap<T>(value: T | null | undefined): T {\n  if (value === null) {\n    throw new Error('value must not be nullish');\n  }\n  return value;\n}\n","import { SelectableValue } from '@grafana/data';\n\nexport function toSelectableValue<T extends string>(t: T): SelectableValue<T> {\n  return { label: t, value: t };\n}\n","import { RUMQuery, RUMQueryPart } from '../types';\nimport { SelectableValue } from '@grafana/data';\nimport { PartParams } from '../components/PartListSection';\nimport RUMQueryModel from '../RUM_query_model';\nimport { unwrap } from './unwrap';\nimport queryPart, { QueryPartDef } from '../query_part';\nimport { toSelectableValue } from './toSelectableValue';\n\ntype Categories = Record<string, QueryPartDef[]>;\n\nexport function getNewSelectPartOptions(): SelectableValue[] {\n  const categories: Categories = queryPart.getCategories();\n  const options: SelectableValue[] = [];\n\n  const keys = Object.keys(categories);\n\n  keys.forEach((key) => {\n    const children: SelectableValue[] = categories[key].map((x) => toSelectableValue(x.type));\n\n    options.push({\n      label: key,\n      options: children,\n    });\n  });\n\n  return options;\n}\n\nexport async function getNewGroupByPartOptions(\n  query: RUMQuery,\n  getTagKeys: () => Promise<string[]>\n): Promise<Array<SelectableValue<string>>> {\n  const tagKeys = await getTagKeys();\n  const queryCopy = { ...query }; // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  const options: Array<SelectableValue<string>> = [];\n  if (!model.hasFill()) {\n    options.push(toSelectableValue('fill(null)'));\n  }\n  if (!model.hasGroupByTime()) {\n    options.push(toSelectableValue('time($interval)'));\n  }\n  tagKeys.forEach((key) => {\n    options.push(toSelectableValue(`tag(${key})`));\n  });\n  return options;\n}\n\ninterface Part {\n  name: string;\n  params: PartParams;\n}\n\nfunction getPartParams(part: RUMQueryPart, dynamicParamOptions: Map<string, () => Promise<string[]>>): PartParams {\n  // NOTE: the way the system is constructed,\n  // there always can only be one possible dynamic-lookup\n  // field. in case of select it is the field,\n  // in case of group-by it is the tag\n  const def = queryPart.create(part).def;\n\n  // we switch the numbers to strings, it will work that way too,\n  // and it makes the code simpler\n  const paramValues = (part.params ?? []).map((p) => p.toString());\n\n  if (paramValues.length !== def.params.length) {\n    throw new Error('Invalid query-segment');\n  }\n\n  return paramValues.map((val, index) => {\n    const defParam = def.params[index];\n    if (defParam.dynamicLookup) {\n      return {\n        value: val,\n        options: unwrap(dynamicParamOptions.get(`${def.type}_${index}`)),\n      };\n    }\n\n    if (defParam.options !== null || defParam.options !== undefined) {\n      return {\n        value: val,\n        options: () => Promise.resolve(defParam.options),\n      };\n    }\n\n    return {\n      value: val,\n      options: null,\n    };\n  });\n}\n\nexport function makePartList(\n  queryParts: RUMQueryPart[],\n  dynamicParamOptions: Map<string, () => Promise<string[]>>\n): Part[] {\n  return queryParts.map((qp) => {\n    return {\n      name: qp.type,\n      params: getPartParams(qp, dynamicParamOptions),\n    };\n  });\n}\n","import React from 'react';\nimport { css } from 'emotion';\nimport { GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles, InlineFieldRow } from '@grafana/ui';\n\n/**\n * Horizontal section for editor components.\n *\n * @alpha\n */\nexport const SegmentSection = ({\n  label,\n  htmlFor,\n  children,\n  fill,\n}: {\n  // Name of the section\n  label: string;\n  // htmlFor for the label\n  htmlFor?: string;\n  // List of components in the section\n  children: React.ReactNode;\n  // Fill the space at the end\n  fill?: boolean;\n}) => {\n  const styles = useStyles(getStyles);\n  return (\n    <InlineFieldRow>\n      <InlineLabel htmlFor={htmlFor} width={12} className={styles.label}>\n        {label}\n      </InlineLabel>\n      {children}\n      {fill && (\n        <div className={styles.fill}>\n          <InlineLabel> </InlineLabel>\n        </div>\n      )}\n    </InlineFieldRow>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme) => ({\n  label: css`\n    color: #33a2e5;\n  `,\n  fill: css`\n    flex-grow: 1;\n    margin-bottom: ${theme.spacing.inlineFormMargin};\n  `,\n});\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { __assign } from \"tslib\";\nimport { useCallback, useRef, useState } from 'react';\nimport useMountedState from './useMountedState';\nexport default function useAsyncFn(fn, deps, initialState) {\n    if (deps === void 0) { deps = []; }\n    if (initialState === void 0) { initialState = { loading: false }; }\n    var lastCallId = useRef(0);\n    var isMounted = useMountedState();\n    var _a = useState(initialState), state = _a[0], set = _a[1];\n    var callback = useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var callId = ++lastCallId.current;\n        if (!state.loading) {\n            set(function (prevState) { return (__assign(__assign({}, prevState), { loading: true })); });\n        }\n        return fn.apply(void 0, args).then(function (value) {\n            isMounted() && callId === lastCallId.current && set({ value: value, loading: false });\n            return value;\n        }, function (error) {\n            isMounted() && callId === lastCallId.current && set({ error: error, loading: false });\n            return error;\n        });\n    }, deps);\n    return [state, callback];\n}\n","import { useCallback, useEffect, useRef } from 'react';\nexport default function useMountedState() {\n    var mountedRef = useRef(false);\n    var get = useCallback(function () { return mountedRef.current; }, []);\n    useEffect(function () {\n        mountedRef.current = true;\n        return function () {\n            mountedRef.current = false;\n        };\n    }, []);\n    return get;\n}\n","import { useEffect, useRef } from 'react';\nexport default function usePrevious(state) {\n    var ref = useRef();\n    useEffect(function () {\n        ref.current = state;\n    });\n    return ref.current;\n}\n","import { useState, useEffect } from 'react';\nimport { usePrevious } from 'react-use';\n\nexport function useShadowedState<T>(outsideVal: T): [T, (newVal: T) => void] {\n  const [currentVal, setCurrentVal] = useState(outsideVal);\n  const prevOutsideVal = usePrevious(outsideVal);\n\n  useEffect(() => {\n    const isOutsideValChanged = prevOutsideVal !== outsideVal;\n    // if the value changes from the outside, we accept it into the state\n    // (we only set it if it is different from the current value)\n    if (isOutsideValChanged && currentVal !== outsideVal) {\n      setCurrentVal(outsideVal);\n    }\n  }, [outsideVal, currentVal, prevOutsideVal]);\n\n  return [currentVal, setCurrentVal];\n}\n","import React, { useState, useEffect } from 'react';\nimport { cx, css } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { useAsyncFn } from 'react-use';\nimport { InlineLabel, Select, AsyncSelect, Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\n\n// this file is a simpler version of `grafana-ui / SegmentAsync.tsx`\n// with some changes:\n// 1. click-outside does not select the value. i think it's better to be explicit here.\n// 2. we set a min-width on the select-element to handle cases where the `value`\n//    is very short, like \"x\", and then you click on it and the select opens,\n//    and it tries to be as short as \"x\" and it does not work well.\n\n// NOTE: maybe these changes could be migrated into the SegmentAsync later\n\ntype SelVal = SelectableValue<string>;\n\n// when allowCustomValue is true, there is no way to enforce the selectableValue\n// enum-type, so i just go with `string`\n\ntype LoadOptions = (filter: string) => Promise<SelVal[]>;\n\ninterface Props {\n  value: string;\n  buttonClassName?: string;\n  loadOptions?: LoadOptions;\n  // if filterByLoadOptions is false,\n  // loadOptions is only executed once,\n  // when the select-box opens,\n  // and as you write, the list gets filtered\n  // by the select-box.\n  // if filterByLoadOptions is true,\n  // as you write the loadOptions is executed again and again,\n  // and it is relied on to filter the results.\n  filterByLoadOptions?: boolean;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n  disabled?: boolean;\n}\n\nconst selectClass = css({\n  minWidth: '160px',\n});\n\ninterface SelProps {\n  loadOptions: LoadOptions;\n  filterByLoadOptions?: boolean;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\ninterface SelReloadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\n// when a custom value is written into a select-box,\n// by default the new value is prefixed with \"Create:\",\n// and that sounds confusing because here we do not create\n// anything. we change this to just be the entered string.\nconst formatCreateLabel = (v: string) => v;\n\nconst SelReload = ({ loadOptions, allowCustomValue, onChange, onClose }: SelReloadProps): JSX.Element => {\n  // here we rely on the fact that writing text into the <AsyncSelect/>\n  // does not cause a re-render of the current react component.\n  // this way there is only a single render-call,\n  // so there is only a single `debouncedLoadOptions`.\n  // if we want ot make this \"re-render safe,\n  // we will have to put the debounced call into an useRef,\n  // and probably have an useEffect\n  // const debouncedLoadOptions = debouncePromise(loadOptions, 1000, { leading: true });\n  return (\n    <div className={selectClass}>\n      <AsyncSelect\n        formatCreateLabel={formatCreateLabel}\n        defaultOptions\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        loadOptions={loadOptions}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\ninterface SelSingleLoadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\nconst SelSingleLoad = ({ loadOptions, allowCustomValue, onChange, onClose }: SelSingleLoadProps): JSX.Element => {\n  const [loadState, doLoad] = useAsyncFn(loadOptions, [loadOptions]);\n\n  useEffect(() => {\n    doLoad('');\n  }, [doLoad, loadOptions]);\n\n  return (\n    <div className={selectClass}>\n      <Select\n        isLoading={loadState.loading}\n        formatCreateLabel={formatCreateLabel}\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        options={loadState.value ?? []}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nconst Sel = ({ loadOptions, filterByLoadOptions, allowCustomValue, onChange, onClose }: SelProps): JSX.Element => {\n  // unfortunately <Segment/> and <SegmentAsync/> have somewhat different behavior,\n  // so the simplest approach was to just create two separate wrapper-components\n  return filterByLoadOptions ? (\n    <SelReload loadOptions={loadOptions} allowCustomValue={allowCustomValue} onChange={onChange} onClose={onClose} />\n  ) : (\n    <SelSingleLoad\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={onChange}\n      onClose={onClose}\n    />\n  );\n};\n\ninterface InpProps {\n  initialValue: string;\n  onChange: (newVal: string) => void;\n  onClose: () => void;\n}\n\nconst Inp = ({ initialValue, onChange, onClose }: InpProps): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(initialValue);\n\n  return (\n    <Input\n      autoFocus\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onClose}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          onChange(currentValue);\n        }\n      }}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue}\n    />\n  );\n};\n\nconst defaultButtonClass = css({\n  width: 'auto',\n  cursor: 'pointer',\n});\n\nexport const Seg = ({\n  value,\n  buttonClassName,\n  loadOptions,\n  filterByLoadOptions,\n  allowCustomValue,\n  onChange,\n  disabled,\n}: Props): JSX.Element => {\n  const [isOpen, setOpen] = useState(false);\n  if (!isOpen) {\n    const className = cx(defaultButtonClass, buttonClassName);\n    return (\n      <InlineLabel\n        as=\"button\"\n        className={className}\n        onClick={() => {\n          setOpen(!disabled);\n        }}\n      >\n        {value}\n      </InlineLabel>\n    );\n  } else {\n    if (loadOptions !== undefined) {\n      return (\n        <Sel\n          loadOptions={loadOptions}\n          filterByLoadOptions={filterByLoadOptions ?? false}\n          allowCustomValue={allowCustomValue}\n          onChange={(v) => {\n            setOpen(false);\n            onChange(v);\n          }}\n          onClose={() => {\n            setOpen(false);\n          }}\n        />\n      );\n    } else {\n      return (\n        <Inp\n          initialValue={value}\n          onClose={() => {\n            setOpen(false);\n          }}\n          onChange={(v) => {\n            setOpen(false);\n            onChange({ value: v, label: v });\n          }}\n        />\n      );\n    }\n  }\n};\n","import React from 'react';\nimport { Seg } from './Seg';\nimport { toSelectableValue } from '../common/toSelectableValue';\n\nconst DEFAULT_POLICY = 'default';\n\ninterface Props {\n  onChange: (policy: string | undefined, measurement: string | undefined) => void;\n  policy: string | undefined;\n  measurement: string | undefined;\n  getPolicyOptions: () => Promise<string[]>;\n  getMeasurementOptions: (filter: string) => Promise<string[]>;\n}\n\nexport const FromSection = ({\n  policy,\n  measurement,\n  onChange,\n  getPolicyOptions,\n  getMeasurementOptions,\n}: Props): JSX.Element => {\n  const handlePolicyLoadOptions = async () => {\n    const allPolicies = await getPolicyOptions();\n    // if `default` does not exist in the list of policies, we add it\n    const allPoliciesWithDefault = allPolicies.some((p) => p === 'default')\n      ? allPolicies\n      : [DEFAULT_POLICY, ...allPolicies];\n\n    return allPoliciesWithDefault.map(toSelectableValue);\n  };\n\n  const handleMeasurementLoadOptions = async (filter: string) => {\n    const allMeasurements = await getMeasurementOptions(filter);\n    return allMeasurements.map(toSelectableValue);\n  };\n\n  return (\n    <>\n      <Seg\n        allowCustomValue\n        value={policy ?? 'using default policy'}\n        loadOptions={handlePolicyLoadOptions}\n        onChange={(v) => {\n          onChange(v.value, measurement);\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={measurement ?? 'select measurement'}\n        loadOptions={handleMeasurementLoadOptions}\n        filterByLoadOptions\n        onChange={(v) => {\n          onChange(policy, v.value);\n        }}\n      />\n    </>\n  );\n};\n","import { RUMQueryTag } from '../types';\n\nfunction isRegex(text: string): boolean {\n  return /^\\/.*\\/$/.test(text);\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in rum_query_model.ts\nexport function getOperator(tag: RUMQueryTag): string {\n  return tag.operator ?? (isRegex(tag.value) ? '=~' : '=');\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in rum_query_model.ts\nexport function getCondition(tag: RUMQueryTag, isFirst: boolean): string | undefined {\n  return isFirst ? undefined : tag.condition ?? 'AND';\n}\n\nexport function adjustOperatorIfNeeded(currentOperator: string, newTagValue: string): string {\n  const isCurrentOperatorRegex = currentOperator === '=~' || currentOperator === '!~';\n  const isNewTagValueRegex = isRegex(newTagValue);\n\n  if (isNewTagValueRegex) {\n    return isCurrentOperatorRegex ? currentOperator : '=~';\n  } else {\n    return isCurrentOperatorRegex ? '=' : currentOperator;\n  }\n}\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\n\ninterface Props {\n  loadOptions: () => Promise<SelectableValue[]>;\n  allowCustomValue?: boolean;\n  onAdd: (v: string) => void;\n}\n\nexport const AddButton = ({ loadOptions, allowCustomValue, onAdd }: Props): JSX.Element => {\n  return (\n    <Seg\n      value=\"+\"\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={(v) => {\n        onAdd(unwrap(v.value));\n      }}\n    />\n  );\n};\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { RUMQueryTag } from '../types';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { adjustOperatorIfNeeded, getCondition, getOperator } from '../common/tagUtils';\nimport { AddButton } from './AddButton';\n\ntype KnownOperator = '=' | '!=' | '<>' | '<' | '>' | '=~' | '!~';\nconst knownOperators: KnownOperator[] = ['=', '!=', '<>', '<', '>', '=~', '!~'];\n\ntype KnownCondition = 'AND' | 'OR';\nconst knownConditions: KnownCondition[] = ['AND', 'OR'];\n\nconst operatorOptions: Array<SelectableValue<KnownOperator>> = knownOperators.map(toSelectableValue);\nconst condititonOptions: Array<SelectableValue<KnownCondition>> = knownConditions.map(toSelectableValue);\n\ninterface Props {\n  tags: RUMQueryTag[];\n  onChange: (tags: RUMQueryTag[]) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\ninterface TagProps {\n  tag: RUMQueryTag;\n  isFirst: boolean;\n  onRemove: () => void;\n  onChange: (tag: RUMQueryTag) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\nconst loadConditionOptions = () => Promise.resolve(condititonOptions);\n\nconst loadOperatorOptions = () => Promise.resolve(operatorOptions);\n\nconst Tag = ({ tag, isFirst, onRemove, onChange, getTagKeyOptions, getTagValueOptions }: TagProps): JSX.Element => {\n  const operator = getOperator(tag);\n  const condition = getCondition(tag, isFirst);\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions()\n      .catch((err) => {\n        // in this UI element we add a special item to the list of options,\n        // that is used to remove the element.\n        // this causes a problem: if `getTagKeyOptions` fails with an error,\n        // the remove-filter option is never added to the list,\n        // and the UI element can not be removed.\n        // to avoid it, we catch any potential errors coming from `getTagKeyOptions`,\n        // log the error, and pretend that the list of options is an empty list.\n        // this way the remove-item option can always be added to the list.\n        console.error(err);\n        return [];\n      })\n      .then((tags) => [{ label: '-- remove filter --', value: undefined }, ...tags.map(toSelectableValue)]);\n  };\n\n  const getTagValueSegmentOptions = () => {\n    return getTagValueOptions(tag.key).then((tags) => tags.map(toSelectableValue));\n  };\n\n  return (\n    <div className=\"gf-form\">\n      {condition !== undefined && (\n        <Seg\n          value={condition}\n          loadOptions={loadConditionOptions}\n          disabled\n          onChange={(v) => {\n            onChange({ ...tag, condition: v.value });\n          }}\n        />\n      )}\n      <Seg\n        allowCustomValue\n        value={tag.key}\n        loadOptions={getTagKeySegmentOptions}\n        onChange={(v) => {\n          const { value } = v;\n          if (value === undefined) {\n            onRemove();\n          } else {\n            onChange({ ...tag, key: value ?? '' });\n          }\n        }}\n      />\n      <Seg\n        value={operator}\n        loadOptions={loadOperatorOptions}\n        onChange={(op) => {\n          onChange({ ...tag, operator: op.value });\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={tag.value}\n        loadOptions={getTagValueSegmentOptions}\n        onChange={(v) => {\n          const value = v.value ?? '';\n          onChange({ ...tag, value, operator: adjustOperatorIfNeeded(operator, value) });\n        }}\n      />\n    </div>\n  );\n};\n\nexport const TagsSection = ({ tags, onChange, getTagKeyOptions, getTagValueOptions }: Props): JSX.Element => {\n  const onTagChange = (newTag: RUMQueryTag, index: number) => {\n    const newTags = tags.map((tag, i) => {\n      return index === i ? newTag : tag;\n    });\n    onChange(newTags);\n  };\n\n  const onTagRemove = (index: number) => {\n    const newTags = tags.filter((t, i) => i !== index);\n    onChange(newTags);\n  };\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions().then((tags) => tags.map(toSelectableValue));\n  };\n\n  const addNewTag = (tagKey: string, isFirst: boolean) => {\n    const minimalTag: RUMQueryTag = {\n      key: tagKey,\n      value: 'select tag value',\n    };\n\n    const newTag: RUMQueryTag = {\n      key: minimalTag.key,\n      value: minimalTag.value,\n      operator: getOperator(minimalTag),\n      condition: getCondition(minimalTag, isFirst),\n    };\n\n    onChange([...tags, newTag]);\n  };\n\n  return (\n    <>\n      {tags.map((t, i) => (\n        <Tag\n          tag={t}\n          isFirst={i === 0}\n          key={i}\n          onChange={(newT) => {\n            onTagChange(newT, i);\n          }}\n          onRemove={() => {\n            onTagRemove(i);\n          }}\n          getTagKeyOptions={getTagKeyOptions}\n          getTagValueOptions={getTagValueOptions}\n        />\n      ))}\n      <AddButton\n        allowCustomValue\n        loadOptions={getTagKeySegmentOptions}\n        onAdd={(v) => {\n          addNewTag(v, tags.length === 0);\n        }}\n      />\n    </>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { cx, css } from 'emotion';\nimport { WithContextMenu, useTheme } from '@grafana/ui';\nimport { SelectableValue, GrafanaTheme } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { AddButton } from './AddButton';\n\nexport type PartParams = Array<{\n  value: string;\n  options: (() => Promise<string[]>) | null;\n}>;\n\ninterface Props {\n  parts: Array<{\n    name: string;\n    params: PartParams;\n  }>;\n  getNewPartOptions: () => Promise<SelectableValue[]>;\n  onChange: (partIndex: number, paramValues: string[]) => void;\n  onRemovePart: (index: number) => void;\n  onAddNewPart: (type: string) => void;\n}\n\nconst renderRemovableNameMenuItems = (onClick: () => void) => {\n  return [{ items: [{ label: 'remove', onClick }] }];\n};\n\nconst noRightMarginPaddingClass = css({\n  paddingRight: '0',\n  marginRight: '0',\n});\n\nconst RemovableName = ({ name, onRemove }: { name: string; onRemove: () => void }) => {\n  return (\n    <WithContextMenu getContextMenuItems={() => renderRemovableNameMenuItems(onRemove)}>\n      {({ openMenu }) => (\n        <button className={cx('gf-form-label', noRightMarginPaddingClass)} onClick={openMenu}>\n          {name}\n        </button>\n      )}\n    </WithContextMenu>\n  );\n};\n\ninterface PartProps {\n  name: string;\n  params: PartParams;\n  onRemove: () => void;\n  onChange: (paramValues: string[]) => void;\n}\n\nconst noHorizMarginPaddingClass = css({\n  paddingLeft: '0',\n  paddingRight: '0',\n  marginLeft: '0',\n  marginRight: '0',\n});\n\nconst getPartClass = (theme: GrafanaTheme) => {\n  return cx(\n    'gf-form-label',\n    css({\n      paddingLeft: '0',\n      // gf-form-label class makes certain css attributes incorrect\n      // for the selectbox-dropdown, so we have to \"reset\" them back\n      lineHeight: theme.typography.lineHeight.md,\n      fontSize: theme.typography.size.base,\n    })\n  );\n};\n\nconst Part = ({ name, params, onChange, onRemove }: PartProps): JSX.Element => {\n  const theme = useTheme();\n  const partClass = useMemo(() => getPartClass(theme), [theme]);\n\n  const onParamChange = (par: string, i: number) => {\n    const newParams = params.map((p) => p.value);\n    newParams[i] = par;\n    onChange(newParams);\n  };\n\n  return (\n    <div className={partClass}>\n      <RemovableName name={name} onRemove={onRemove} />(\n      {params.map((p, i) => {\n        const { value, options } = p;\n        const isLast = i === params.length - 1;\n        const loadOptions =\n          options !== null ? () => options().then((items) => items.map(toSelectableValue)) : undefined;\n        return (\n          <React.Fragment key={i}>\n            <Seg\n              allowCustomValue\n              value={value}\n              buttonClassName={noHorizMarginPaddingClass}\n              loadOptions={loadOptions}\n              onChange={(v) => {\n                onParamChange(unwrap(v.value), i);\n              }}\n            />\n            {!isLast && ','}\n          </React.Fragment>\n        );\n      })}\n      )\n    </div>\n  );\n};\n\nexport const PartListSection = ({\n  parts,\n  getNewPartOptions,\n  onAddNewPart,\n  onRemovePart,\n  onChange,\n}: Props): JSX.Element => {\n  return (\n    <>\n      {parts.map((part, index) => (\n        <Part\n          key={index}\n          name={part.name}\n          params={part.params}\n          onRemove={() => {\n            onRemovePart(index);\n          }}\n          onChange={(pars) => {\n            onChange(index, pars);\n          }}\n        />\n      ))}\n      <AddButton loadOptions={getNewPartOptions} onAdd={onAddNewPart} />\n    </>\n  );\n};\n","import { css } from 'emotion';\n\nexport const paddingRightClass = css({\n  paddingRight: '4px',\n});\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  value: string | undefined;\n  onChange: (value: string | undefined) => void;\n  isWide?: boolean;\n  placeholder?: string;\n}\n\nexport const InputSection = ({ value, onChange, isWide, placeholder }: Props): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(value);\n\n  const onBlur = () => {\n    // we send empty-string as undefined\n    const newValue = currentValue === '' ? undefined : currentValue;\n    onChange(newValue);\n  };\n\n  return (\n    <Input\n      placeholder={placeholder}\n      className={cx(isWide ?? false ? 'width-14' : 'width-8', paddingRightClass)}\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onBlur}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue ?? ''}\n    />\n  );\n};\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { unwrap } from '../common/unwrap';\nimport { Select } from '@grafana/ui';\nimport { paddingRightClass } from './styles';\n\ntype Mode = 'ASC' | 'DESC';\n\nconst OPTIONS: Array<SelectableValue<Mode>> = [\n  { label: 'ascending', value: 'ASC' },\n  { label: 'descending', value: 'DESC' },\n];\n\nconst className = cx('width-9', paddingRightClass);\n\ninterface Props {\n  value: Mode;\n  onChange: (value: Mode) => void;\n  inputId?: string;\n}\n\nexport const OrderByTimeSection = ({ value, onChange, inputId }: Props): JSX.Element => {\n  return (\n    <Select<Mode>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={value}\n      options={OPTIONS}\n    />\n  );\n};\n","import { SelectableValue } from '@grafana/data';\nimport { ResultFormat } from '../types';\n\nexport const RESULT_FORMATS: Array<SelectableValue<ResultFormat>> = [\n  { label: 'Time series', value: 'time_series' },\n  { label: 'Table', value: 'table' },\n  { label: 'Logs', value: 'logs' },\n];\n\nexport const DEFAULT_RESULT_FORMAT: ResultFormat = 'time_series';\n\nexport const ENABLE_MEASUREMENTS: Array<string> = [\n  'log_url_statistics',\n  'event_url_statistics',\n  'pv_url_statistics',\n  'user_event_user_event_unique',\n  'uv_project_unique',\n  'uv_page_unique',\n  'custom_url_info',\n  'custom_url_statistics',\n  'fetch_url_info',\n  'fetch_url_statistics',\n  'fetch_project_statistics',\n  'set_data_url_statistics',\n  'performance_page_statistics',\n  'performance_project_statistics',\n  'static_url_source',\n  'static_resource_statistics',\n  'static_project_statistics',\n  'webvitals_page_statistics',\n  'webvitals_project_statistics',\n];\n","import { Select } from '@grafana/ui';\nimport { cx } from 'emotion';\nimport { ResultFormat } from '../types';\nimport React from 'react';\nimport { unwrap } from '../common/unwrap';\nimport { RESULT_FORMATS } from '../common/constants';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  inputId?: string;\n  format: ResultFormat;\n  onChange: (newFormat: ResultFormat) => void;\n}\n\nconst className = cx('width-8', paddingRightClass);\n\nexport const FormatAsSection = ({ format, inputId, onChange }: Props): JSX.Element => {\n  return (\n    <Select<ResultFormat>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={format}\n      options={RESULT_FORMATS}\n    />\n  );\n};\n","import React, { useMemo, FC, useEffect } from 'react';\nimport { css } from 'emotion';\nimport { QueryEditorProps, GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles } from '@grafana/ui';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport {\n  getAllMeasurementsForTags,\n  getAllPolicies,\n  getFieldKeysForMeasurement,\n  getTagKeysForMeasurementAndTags,\n  getTagValues,\n} from './RUMMetadataQuery';\nimport {\n  normalizeQuery,\n  addNewSelectPart,\n  removeSelectPart,\n  addNewGroupByPart,\n  removeGroupByPart,\n  changeSelectPart,\n  changeGroupByPart,\n} from './queryUtils';\nimport { getNewSelectPartOptions, getNewGroupByPartOptions, makePartList } from './common/partListUtils';\nimport { SegmentSection } from './components/SegmentSection';\nimport { FromSection } from './components/FromSection';\nimport { TagsSection } from './components/TagsSection';\nimport { PartListSection } from './components/PartListSection';\nimport { InputSection } from './components/InputSection';\nimport { OrderByTimeSection } from './components/OrderByTimeSection';\nimport { FormatAsSection } from './components/FormatAsSection';\nimport { useUniqueId } from './common/useUniqueId';\nimport { DEFAULT_RESULT_FORMAT } from './common/constants';\nimport { RUMQuery, RUMQueryTag } from './types';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo } from '../types';\nimport { clone } from 'lodash';\nimport { DataSource } from '../DataSource';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\n\nfunction getTemplateVariableOptions() {\n  return (\n    getTemplateSrv()\n      .getVariables()\n      // we make them regex-params, i'm not 100% sure why.\n      // probably because this way multi-value variables work ok too.\n      .map((v) => `/^$${v.name}$/`)\n  );\n}\n\n// helper function to make it easy to call this from the widget-render-code\nfunction withTemplateVariableOptions(optionsPromise: Promise<string[]>): Promise<string[]> {\n  return optionsPromise.then((options) => [...getTemplateVariableOptions(), ...options]);\n}\n\nfunction filterTags(parts: RUMQueryTag[], allTagKeys: Set<string>): RUMQueryTag[] {\n  return parts.filter((t) => allTagKeys.has(t.key));\n}\n\nexport const RUMServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const uniqueId = useUniqueId();\n  const formatAsId = `rum-qe-format-as-${uniqueId}`;\n  const orderByTimeId = `rum-qe-order-by${uniqueId}`;\n\n  const styles = useStyles(getStyles);\n\n  const { datasource, onChange, query: queryInfo } = props;\n  const query = normalizeQuery(queryInfo.RUMServiceParams || clone(defaultQueryInfo.RUMServiceParams));\n  const { measurement, policy } = query;\n\n  useEffect(() => {\n    if (!queryInfo.RUMServiceParams) {\n      onChange({ ...queryInfo, RUMServiceParams: clone(defaultQueryInfo.RUMServiceParams) });\n    }\n  }, [onChange, queryInfo]);\n\n  const allTagKeys = useMemo(() => {\n    return getTagKeysForMeasurementAndTags(measurement, policy, [], datasource)\n      .then((tags) => {\n        return new Set(tags);\n      })\n      .catch((err) => {\n        console.error('getTagKeysForMeasurementAndTags', err);\n        return new Set('');\n      });\n  }, [measurement, policy, datasource]);\n\n  const selectLists = useMemo(() => {\n    const dynamicSelectPartOptions = new Map([\n      [\n        'field_0',\n        () => {\n          return measurement !== undefined\n            ? getFieldKeysForMeasurement(measurement, policy, datasource)\n            : Promise.resolve([]);\n        },\n      ],\n    ]);\n    return (query.select ?? []).map((sel) => makePartList(sel, dynamicSelectPartOptions));\n  }, [measurement, policy, query.select, datasource]);\n\n  // the following function is not complicated enough to memoize, but it's result\n  // is used in both memoized and un-memoized parts, so we have no choice\n  const getTagKeys = useMemo(() => {\n    return () =>\n      allTagKeys.then((keys) =>\n        getTagKeysForMeasurementAndTags(measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n      );\n  }, [measurement, policy, query.tags, datasource, allTagKeys]);\n\n  const groupByList = useMemo(() => {\n    const dynamicGroupByPartOptions = new Map([['tag_0', getTagKeys]]);\n\n    return makePartList(query.groupBy ?? [], dynamicGroupByPartOptions);\n  }, [getTagKeys, query.groupBy]);\n\n  const onAppliedChange = (newQuery: RUMQuery) => {\n    props.onChange({\n      ...props.query,\n      RUMServiceParams: newQuery,\n    });\n    props.onRunQuery();\n  };\n  const handleFromSectionChange = (p: string | undefined, m: string | undefined) => {\n    onAppliedChange({\n      ...query,\n      policy: p,\n      measurement: m,\n    });\n  };\n\n  const handleTagsSectionChange = (tags: RUMQueryTag[]) => {\n    // we set empty-arrays to undefined\n    onAppliedChange({\n      ...query,\n      tags: tags.length === 0 ? undefined : tags,\n    });\n  };\n\n  return (\n    <div>\n      <SegmentSection label=\"FROM\" fill={true}>\n        <FromSection\n          policy={policy}\n          measurement={measurement}\n          getPolicyOptions={() => getAllPolicies(datasource)}\n          getMeasurementOptions={(filter) =>\n            withTemplateVariableOptions(\n              allTagKeys.then((keys) =>\n                getAllMeasurementsForTags(\n                  filter === '' ? undefined : filter,\n                  filterTags(query.tags ?? [], keys),\n                  datasource\n                )\n              )\n            )\n          }\n          onChange={handleFromSectionChange}\n        />\n        <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n          WHERE\n        </InlineLabel>\n        <TagsSection\n          tags={query.tags ?? []}\n          onChange={handleTagsSectionChange}\n          getTagKeyOptions={getTagKeys}\n          getTagValueOptions={(key: string) =>\n            withTemplateVariableOptions(\n              allTagKeys.then((keys) =>\n                getTagValues(key, measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n              )\n            )\n          }\n        />\n      </SegmentSection>\n      {selectLists.map((sel, index) => (\n        <SegmentSection key={index} label={index === 0 ? 'SELECT' : ''} fill={true}>\n          <PartListSection\n            parts={sel}\n            getNewPartOptions={() => Promise.resolve(getNewSelectPartOptions())}\n            onChange={(partIndex, newParams) => {\n              const newQuery = changeSelectPart(query, index, partIndex, newParams);\n              onAppliedChange(newQuery);\n            }}\n            onAddNewPart={(type) => {\n              onAppliedChange(addNewSelectPart(query, type, index));\n            }}\n            onRemovePart={(partIndex) => {\n              onAppliedChange(removeSelectPart(query, partIndex, index));\n            }}\n          />\n        </SegmentSection>\n      ))}\n      <SegmentSection label=\"GROUP BY\" fill={true}>\n        <PartListSection\n          parts={groupByList}\n          getNewPartOptions={() => getNewGroupByPartOptions(query, getTagKeys)}\n          onChange={(partIndex, newParams) => {\n            const newQuery = changeGroupByPart(query, partIndex, newParams);\n            onAppliedChange(newQuery);\n          }}\n          onAddNewPart={(type) => {\n            onAppliedChange(addNewGroupByPart(query, type));\n          }}\n          onRemovePart={(partIndex) => {\n            onAppliedChange(removeGroupByPart(query, partIndex));\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection label=\"TIMEZONE\" fill={true}>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.tz}\n          onChange={(tz) => {\n            onAppliedChange({ ...query, tz });\n          }}\n        />\n        <InlineLabel htmlFor={orderByTimeId} width=\"auto\" className={styles.inlineLabel}>\n          ORDER BY TIME\n        </InlineLabel>\n        <OrderByTimeSection\n          inputId={orderByTimeId}\n          value={query.orderByTime === 'DESC' ? 'DESC' : 'ASC' /* FIXME: make this shared with RUM_query_model */}\n          onChange={(v) => {\n            onAppliedChange({ ...query, orderByTime: v });\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection label=\"LIMIT\" fill={true}>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.limit?.toString()}\n          onChange={(limit) => {\n            onAppliedChange({ ...query, limit });\n          }}\n        />\n        <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n          SLIMIT\n        </InlineLabel>\n        <InputSection\n          placeholder=\"(optional)\"\n          value={query.slimit?.toString()}\n          onChange={(slimit) => {\n            onAppliedChange({ ...query, slimit });\n          }}\n        />\n      </SegmentSection>\n      <SegmentSection htmlFor={formatAsId} label=\"FORMAT AS\" fill={true}>\n        <FormatAsSection\n          inputId={formatAsId}\n          format={query.resultFormat ?? DEFAULT_RESULT_FORMAT}\n          onChange={(format) => {\n            onAppliedChange({ ...query, resultFormat: format });\n          }}\n        />\n        {query.resultFormat !== 'table' && (\n          <>\n            <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n              ALIAS\n            </InlineLabel>\n            <InputSection\n              isWide\n              placeholder=\"Naming pattern\"\n              value={query.alias}\n              onChange={(alias) => {\n                onAppliedChange({ ...query, alias });\n              }}\n            />\n          </>\n        )}\n      </SegmentSection>\n    </div>\n  );\n});\n\nfunction getStyles(theme: GrafanaTheme) {\n  return {\n    inlineLabel: css`\n      color: #33a2e5;\n    `,\n  };\n}\n\nRUMServiceQueryEditor.displayName = 'RUMServiceQueryEditor';\n","import { useRef } from 'react';\nimport { uniqueId } from 'lodash';\n\nexport function useUniqueId(): string {\n  // we need to lazy-init this ref.\n  // otherwise we would call `uniqueId`\n  // on every render. unfortunately\n  // useRef does not have lazy-init builtin,\n  // like useState does. we do it manually.\n  const idRefLazy = useRef<string | null>(null);\n\n  if (idRefLazy.current === null) {\n    idRefLazy.current = uniqueId();\n  }\n\n  return idRefLazy.current;\n}\n","import { cloneDeep } from 'lodash';\nimport RUMQueryModel from './RUM_query_model';\nimport { RUMQuery } from './types';\n\nexport function normalizeQuery(query: RUMQuery): RUMQuery {\n  // we return the original query if there is no need to update it\n  if (\n    query.policy !== undefined &&\n    query.resultFormat !== undefined &&\n    query.orderByTime !== undefined &&\n    query.tags !== undefined &&\n    query.groupBy !== undefined &&\n    query.select !== undefined\n  ) {\n    return query;\n  }\n\n  // FIXME: we should move the whole normalizeQuery logic here,\n  // and then have RUMQueryModel call this function,\n  // to concentrate the whole logic here\n\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  return new RUMQueryModel(queryCopy).target;\n}\n\nexport function addNewSelectPart(query: RUMQuery, type: string, index: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.addSelectPart(model.selectModels[index], type);\n  return model.target;\n}\n\nexport function removeSelectPart(query: RUMQuery, partIndex: number, index: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  const selectModel = model.selectModels[index];\n  model.removeSelectPart(selectModel, selectModel[partIndex]);\n  return model.target;\n}\n\nexport function changeSelectPart(query: RUMQuery, listIndex: number, partIndex: number, newParams: string[]): RUMQuery {\n  // we need to make shallow copy of `query.select` down to `query.select[listIndex][partIndex]`\n  const newSel = [...(query.select ?? [])];\n  newSel[listIndex] = [...newSel[listIndex]];\n  newSel[listIndex][partIndex] = {\n    ...newSel[listIndex][partIndex],\n    params: newParams,\n  };\n  return { ...query, select: newSel };\n}\n\nexport function addNewGroupByPart(query: RUMQuery, type: string): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.addGroupBy(type);\n  return model.target;\n}\n\nexport function removeGroupByPart(query: RUMQuery, partIndex: number): RUMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new RUMQueryModel(queryCopy);\n  model.removeGroupByPart(model.groupByParts[partIndex], partIndex);\n  return model.target;\n}\n\nexport function changeGroupByPart(query: RUMQuery, partIndex: number, newParams: string[]): RUMQuery {\n  // we need to make shallow copy of `query.groupBy` down to `query.groupBy[partIndex]`\n  const newGroupBy = [...(query.groupBy ?? [])];\n  newGroupBy[partIndex] = {\n    ...newGroupBy[partIndex],\n    params: newParams,\n  };\n  return { ...query, groupBy: newGroupBy };\n}\n","import { APMQueryTag } from './types';\nimport { APMQueryBuilder } from './query_builder';\nimport { ServiceType } from '../types';\nimport { DataSource } from '../DataSource';\n\nconst runExploreQuery = (\n  type: string,\n  withKey: string | undefined,\n  withMeasurementFilter: string | undefined,\n  target: { measurement: string | undefined; tags: APMQueryTag[]; policy: string | undefined },\n  datasource: DataSource\n): Promise<Array<{ text: string }>> => {\n  const builder = new APMQueryBuilder(target);\n  const q = builder.buildExploreQuery(type, withKey, withMeasurementFilter);\n  return datasource.metricFindQuery(\n    {\n      serviceType: ServiceType.APMService,\n      queryString: q,\n    },\n    undefined\n  );\n};\n\nexport async function getAllPolicies(datasource: DataSource): Promise<string[]> {\n  const target = { tags: [], measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('RETENTION POLICIES', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getAllMeasurementsForTags(\n  measurementFilter: string | undefined,\n  tags: APMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement: undefined, policy: undefined };\n  const data = await runExploreQuery('MEASUREMENTS', undefined, measurementFilter, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagKeysForMeasurementAndTags(\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: APMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_KEYS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getTagValues(\n  tagKey: string,\n  measurement: string | undefined,\n  policy: string | undefined,\n  tags: APMQueryTag[],\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags, measurement, policy };\n  const data = await runExploreQuery('TAG_VALUES', tagKey, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n\nexport async function getFieldKeysForMeasurement(\n  measurement: string,\n  policy: string | undefined,\n  datasource: DataSource\n): Promise<string[]> {\n  const target = { tags: [], measurement, policy };\n  const data = await runExploreQuery('FIELDS', undefined, undefined, target, datasource);\n  return data.map((item) => item.text);\n}\n","export function unwrap<T>(value: T | null | undefined): T {\n  if (value === null) {\n    throw new Error('value must not be nullish');\n  }\n  return value;\n}\n","import { SelectableValue } from '@grafana/data';\n\nexport function toSelectableValue<T extends string>(t: T): SelectableValue<T> {\n  return { label: t, value: t };\n}\n","import { APMQuery, APMQueryPart } from '../types';\nimport { SelectableValue } from '@grafana/data';\nimport { PartParams } from '../components/PartListSection';\nimport APMQueryModel from '../APM_query_model';\nimport { unwrap } from './unwrap';\nimport queryPart, { QueryPartDef } from '../query_part';\nimport { toSelectableValue } from './toSelectableValue';\n\ntype Categories = Record<string, QueryPartDef[]>;\n\nexport function getNewSelectPartOptions(): SelectableValue[] {\n  const categories: Categories = queryPart.getCategories();\n  const options: SelectableValue[] = [];\n\n  const keys = Object.keys(categories);\n\n  keys.forEach((key) => {\n    const children: SelectableValue[] = categories[key].map((x) => toSelectableValue(x.type));\n\n    options.push({\n      label: key,\n      options: children,\n    });\n  });\n\n  return options;\n}\n\nexport async function getNewGroupByPartOptions(\n  query: APMQuery,\n  getTagKeys: () => Promise<string[]>\n): Promise<Array<SelectableValue<string>>> {\n  const tagKeys = await getTagKeys();\n  const queryCopy = { ...query }; // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  const options: Array<SelectableValue<string>> = [];\n  if (!model.hasFill()) {\n    options.push(toSelectableValue('fill(null)'));\n  }\n  if (!model.hasGroupByTime()) {\n    options.push(toSelectableValue('time($interval)'));\n  }\n  tagKeys.forEach((key) => {\n    options.push(toSelectableValue(`tag(${key})`));\n  });\n  return options;\n}\n\ninterface Part {\n  name: string;\n  params: PartParams;\n}\n\nfunction getPartParams(part: APMQueryPart, dynamicParamOptions: Map<string, () => Promise<string[]>>): PartParams {\n  // NOTE: the way the system is constructed,\n  // there always can only be one possible dynamic-lookup\n  // field. in case of select it is the field,\n  // in case of group-by it is the tag\n  const def = queryPart.create(part).def;\n\n  // we switch the numbers to strings, it will work that way too,\n  // and it makes the code simpler\n  const paramValues = (part.params ?? []).map((p) => p.toString());\n\n  if (paramValues.length !== def.params.length) {\n    throw new Error('Invalid query-segment');\n  }\n\n  return paramValues.map((val, index) => {\n    const defParam = def.params[index];\n    if (defParam.dynamicLookup) {\n      return {\n        value: val,\n        options: unwrap(dynamicParamOptions.get(`${def.type}_${index}`)),\n      };\n    }\n\n    if (defParam.options !== null || defParam.options !== undefined) {\n      return {\n        value: val,\n        options: () => Promise.resolve(defParam.options),\n      };\n    }\n\n    return {\n      value: val,\n      options: null,\n    };\n  });\n}\n\nexport function makePartList(\n  queryParts: APMQueryPart[],\n  dynamicParamOptions: Map<string, () => Promise<string[]>>\n): Part[] {\n  return queryParts.map((qp) => {\n    return {\n      name: qp.type,\n      params: getPartParams(qp, dynamicParamOptions),\n    };\n  });\n}\n","import React from 'react';\nimport { css } from 'emotion';\nimport { GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles, InlineFieldRow } from '@grafana/ui';\n\n/**\n * Horizontal section for editor components.\n *\n * @alpha\n */\nexport const SegmentSection = ({\n  label,\n  htmlFor,\n  children,\n  fill,\n}: {\n  // Name of the section\n  label: string;\n  // htmlFor for the label\n  htmlFor?: string;\n  // List of components in the section\n  children: React.ReactNode;\n  // Fill the space at the end\n  fill?: boolean;\n}) => {\n  const styles = useStyles(getStyles);\n  return (\n    <InlineFieldRow>\n      <InlineLabel htmlFor={htmlFor} width={12} className={styles.label}>\n        {label}\n      </InlineLabel>\n      {children}\n      {fill && (\n        <div className={styles.fill}>\n          <InlineLabel> </InlineLabel>\n        </div>\n      )}\n    </InlineFieldRow>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme) => ({\n  label: css`\n    color: #33a2e5;\n  `,\n  fill: css`\n    flex-grow: 1;\n    margin-bottom: ${theme.spacing.inlineFormMargin};\n  `,\n});\n","import { useState, useEffect } from 'react';\nimport { usePrevious } from 'react-use';\n\nexport function useShadowedState<T>(outsideVal: T): [T, (newVal: T) => void] {\n  const [currentVal, setCurrentVal] = useState(outsideVal);\n  const prevOutsideVal = usePrevious(outsideVal);\n\n  useEffect(() => {\n    const isOutsideValChanged = prevOutsideVal !== outsideVal;\n    // if the value changes from the outside, we accept it into the state\n    // (we only set it if it is different from the current value)\n    if (isOutsideValChanged && currentVal !== outsideVal) {\n      setCurrentVal(outsideVal);\n    }\n  }, [outsideVal, currentVal, prevOutsideVal]);\n\n  return [currentVal, setCurrentVal];\n}\n","import React, { useState, useEffect } from 'react';\nimport { cx, css } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { useAsyncFn } from 'react-use';\nimport { InlineLabel, Select, AsyncSelect, Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\n\n// this file is a simpler version of `grafana-ui / SegmentAsync.tsx`\n// with some changes:\n// 1. click-outside does not select the value. i think it's better to be explicit here.\n// 2. we set a min-width on the select-element to handle cases where the `value`\n//    is very short, like \"x\", and then you click on it and the select opens,\n//    and it tries to be as short as \"x\" and it does not work well.\n\n// NOTE: maybe these changes could be migrated into the SegmentAsync later\n\ntype SelVal = SelectableValue<string>;\n\n// when allowCustomValue is true, there is no way to enforce the selectableValue\n// enum-type, so i just go with `string`\n\ntype LoadOptions = (filter: string) => Promise<SelVal[]>;\n\ninterface Props {\n  value: string;\n  buttonClassName?: string;\n  loadOptions?: LoadOptions;\n  // if filterByLoadOptions is false,\n  // loadOptions is only executed once,\n  // when the select-box opens,\n  // and as you write, the list gets filtered\n  // by the select-box.\n  // if filterByLoadOptions is true,\n  // as you write the loadOptions is executed again and again,\n  // and it is relied on to filter the results.\n  filterByLoadOptions?: boolean;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n  disabled?: boolean;\n}\n\nconst selectClass = css({\n  minWidth: '160px',\n});\n\ninterface SelProps {\n  loadOptions: LoadOptions;\n  filterByLoadOptions?: boolean;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\ninterface SelReloadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\n// when a custom value is written into a select-box,\n// by default the new value is prefixed with \"Create:\",\n// and that sounds confusing because here we do not create\n// anything. we change this to just be the entered string.\nconst formatCreateLabel = (v: string) => v;\n\nconst SelReload = ({ loadOptions, allowCustomValue, onChange, onClose }: SelReloadProps): JSX.Element => {\n  // here we rely on the fact that writing text into the <AsyncSelect/>\n  // does not cause a re-render of the current react component.\n  // this way there is only a single render-call,\n  // so there is only a single `debouncedLoadOptions`.\n  // if we want ot make this \"re-render safe,\n  // we will have to put the debounced call into an useRef,\n  // and probably have an useEffect\n  // const debouncedLoadOptions = debouncePromise(loadOptions, 1000, { leading: true });\n  return (\n    <div className={selectClass}>\n      <AsyncSelect\n        formatCreateLabel={formatCreateLabel}\n        defaultOptions\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        loadOptions={loadOptions}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\ninterface SelSingleLoadProps {\n  loadOptions: (filter: string) => Promise<SelVal[]>;\n  onClose: () => void;\n  onChange: (v: SelVal) => void;\n  allowCustomValue?: boolean;\n}\n\nconst SelSingleLoad = ({ loadOptions, allowCustomValue, onChange, onClose }: SelSingleLoadProps): JSX.Element => {\n  const [loadState, doLoad] = useAsyncFn(loadOptions, [loadOptions]);\n\n  useEffect(() => {\n    doLoad('');\n  }, [doLoad, loadOptions]);\n\n  return (\n    <div className={selectClass}>\n      <Select\n        isLoading={loadState.loading}\n        formatCreateLabel={formatCreateLabel}\n        autoFocus\n        isOpen\n        onCloseMenu={onClose}\n        allowCustomValue={allowCustomValue}\n        options={loadState.value ?? []}\n        onChange={onChange}\n      />\n    </div>\n  );\n};\n\nconst Sel = ({ loadOptions, filterByLoadOptions, allowCustomValue, onChange, onClose }: SelProps): JSX.Element => {\n  // unfortunately <Segment/> and <SegmentAsync/> have somewhat different behavior,\n  // so the simplest approach was to just create two separate wrapper-components\n  return filterByLoadOptions ? (\n    <SelReload loadOptions={loadOptions} allowCustomValue={allowCustomValue} onChange={onChange} onClose={onClose} />\n  ) : (\n    <SelSingleLoad\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={onChange}\n      onClose={onClose}\n    />\n  );\n};\n\ninterface InpProps {\n  initialValue: string;\n  onChange: (newVal: string) => void;\n  onClose: () => void;\n}\n\nconst Inp = ({ initialValue, onChange, onClose }: InpProps): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(initialValue);\n\n  return (\n    <Input\n      autoFocus\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onClose}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter') {\n          onChange(currentValue);\n        }\n      }}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue}\n    />\n  );\n};\n\nconst defaultButtonClass = css({\n  width: 'auto',\n  cursor: 'pointer',\n});\n\nexport const Seg = ({\n  value,\n  buttonClassName,\n  loadOptions,\n  filterByLoadOptions,\n  allowCustomValue,\n  onChange,\n  disabled,\n}: Props): JSX.Element => {\n  const [isOpen, setOpen] = useState(false);\n  if (!isOpen) {\n    const className = cx(defaultButtonClass, buttonClassName);\n    return (\n      <InlineLabel\n        as=\"button\"\n        className={className}\n        onClick={() => {\n          setOpen(!disabled);\n        }}\n      >\n        {value}\n      </InlineLabel>\n    );\n  } else {\n    if (loadOptions !== undefined) {\n      return (\n        <Sel\n          loadOptions={loadOptions}\n          filterByLoadOptions={filterByLoadOptions ?? false}\n          allowCustomValue={allowCustomValue}\n          onChange={(v) => {\n            setOpen(false);\n            onChange(v);\n          }}\n          onClose={() => {\n            setOpen(false);\n          }}\n        />\n      );\n    } else {\n      return (\n        <Inp\n          initialValue={value}\n          onClose={() => {\n            setOpen(false);\n          }}\n          onChange={(v) => {\n            setOpen(false);\n            onChange({ value: v, label: v });\n          }}\n        />\n      );\n    }\n  }\n};\n","import React from 'react';\nimport { Seg } from './Seg';\nimport { toSelectableValue } from '../common/toSelectableValue';\n\nconst DEFAULT_POLICY = 'default';\n\ninterface Props {\n  onChange: (policy: string | undefined, measurement: string | undefined) => void;\n  policy: string | undefined;\n  measurement: string | undefined;\n  getPolicyOptions: () => Promise<string[]>;\n  getMeasurementOptions: (filter: string) => Promise<string[]>;\n}\n\nexport const FromSection = ({\n  policy,\n  measurement,\n  onChange,\n  getPolicyOptions,\n  getMeasurementOptions,\n}: Props): JSX.Element => {\n  const handlePolicyLoadOptions = async () => {\n    const allPolicies = await getPolicyOptions();\n    // if `default` does not exist in the list of policies, we add it\n    const allPoliciesWithDefault = allPolicies.some((p) => p === 'default')\n      ? allPolicies\n      : [DEFAULT_POLICY, ...allPolicies];\n\n    return allPoliciesWithDefault.map(toSelectableValue);\n  };\n\n  const handleMeasurementLoadOptions = async (filter: string) => {\n    const allMeasurements = await getMeasurementOptions(filter);\n    return allMeasurements.map(toSelectableValue);\n  };\n\n  return (\n    <>\n      <Seg\n        allowCustomValue\n        value={policy ?? 'using default policy'}\n        loadOptions={handlePolicyLoadOptions}\n        onChange={(v) => {\n          onChange(v.value, measurement);\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={measurement ?? 'select measurement'}\n        loadOptions={handleMeasurementLoadOptions}\n        filterByLoadOptions\n        onChange={(v) => {\n          onChange(policy, v.value);\n        }}\n      />\n    </>\n  );\n};\n","import { APMQueryTag } from '../types';\n\nfunction isRegex(text: string): boolean {\n  return /^\\/.*\\/$/.test(text);\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in apm_query_model.ts\nexport function getOperator(tag: APMQueryTag): string {\n  return tag.operator ?? (isRegex(tag.value) ? '=~' : '=');\n}\n\n// FIXME: sync these to the query-string-generation-code\n// probably it's in apm_query_model.ts\nexport function getCondition(tag: APMQueryTag, isFirst: boolean): string | undefined {\n  return isFirst ? undefined : tag.condition ?? 'AND';\n}\n\nexport function adjustOperatorIfNeeded(currentOperator: string, newTagValue: string): string {\n  const isCurrentOperatorRegex = currentOperator === '=~' || currentOperator === '!~';\n  const isNewTagValueRegex = isRegex(newTagValue);\n\n  if (isNewTagValueRegex) {\n    return isCurrentOperatorRegex ? currentOperator : '=~';\n  } else {\n    return isCurrentOperatorRegex ? '=' : currentOperator;\n  }\n}\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\n\ninterface Props {\n  loadOptions: () => Promise<SelectableValue[]>;\n  allowCustomValue?: boolean;\n  onAdd: (v: string) => void;\n}\n\nexport const AddButton = ({ loadOptions, allowCustomValue, onAdd }: Props): JSX.Element => {\n  return (\n    <Seg\n      value=\"+\"\n      loadOptions={loadOptions}\n      allowCustomValue={allowCustomValue}\n      onChange={(v) => {\n        onAdd(unwrap(v.value));\n      }}\n    />\n  );\n};\n","import React from 'react';\nimport { SelectableValue } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { APMQueryTag } from '../types';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { adjustOperatorIfNeeded, getCondition, getOperator } from '../common/tagUtils';\nimport { AddButton } from './AddButton';\n\ntype KnownOperator = '=' | '!=' | '<>' | '<' | '>' | '=~' | '!~' | 'in';\nconst knownOperators: KnownOperator[] = ['=', '!=', '<>', '<', '>', '=~', '!~', 'in'];\n\ntype KnownCondition = 'AND' | 'OR';\nconst knownConditions: KnownCondition[] = ['AND', 'OR'];\n\nconst operatorOptions: Array<SelectableValue<KnownOperator>> = knownOperators.map(toSelectableValue);\nconst condititonOptions: Array<SelectableValue<KnownCondition>> = knownConditions.map(toSelectableValue);\n\ninterface Props {\n  tags: APMQueryTag[];\n  onChange: (tags: APMQueryTag[]) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\ninterface TagProps {\n  tag: APMQueryTag;\n  isFirst: boolean;\n  onRemove: () => void;\n  onChange: (tag: APMQueryTag) => void;\n  getTagKeyOptions: () => Promise<string[]>;\n  getTagValueOptions: (key: string) => Promise<string[]>;\n}\n\nconst loadConditionOptions = () => Promise.resolve(condititonOptions);\n\nconst loadOperatorOptions = () => Promise.resolve(operatorOptions);\n\nconst Tag = ({ tag, isFirst, onRemove, onChange, getTagKeyOptions, getTagValueOptions }: TagProps): JSX.Element => {\n  const operator = getOperator(tag);\n  const condition = getCondition(tag, isFirst);\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions()\n      .catch((err) => {\n        // in this UI element we add a special item to the list of options,\n        // that is used to remove the element.\n        // this causes a problem: if `getTagKeyOptions` fails with an error,\n        // the remove-filter option is never added to the list,\n        // and the UI element can not be removed.\n        // to avoid it, we catch any potential errors coming from `getTagKeyOptions`,\n        // log the error, and pretend that the list of options is an empty list.\n        // this way the remove-item option can always be added to the list.\n        console.error(err);\n        return [];\n      })\n      .then((tags) => [{ label: '-- remove filter --', value: undefined }, ...tags.map(toSelectableValue)]);\n  };\n\n  const getTagValueSegmentOptions = () => {\n    return getTagValueOptions(tag.key).then((tags) => tags.map(toSelectableValue));\n  };\n\n  return (\n    <div className=\"gf-form\">\n      {condition !== undefined && (\n        <Seg\n          value={condition}\n          loadOptions={loadConditionOptions}\n          disabled\n          onChange={(v) => {\n            onChange({ ...tag, condition: v.value });\n          }}\n        />\n      )}\n      <Seg\n        allowCustomValue\n        value={tag.key}\n        loadOptions={getTagKeySegmentOptions}\n        onChange={(v) => {\n          const { value } = v;\n          if (value === undefined) {\n            onRemove();\n          } else {\n            onChange({ ...tag, key: value ?? '' });\n          }\n        }}\n      />\n      <Seg\n        value={operator}\n        loadOptions={loadOperatorOptions}\n        onChange={(op) => {\n          onChange({ ...tag, operator: op.value });\n        }}\n      />\n      <Seg\n        allowCustomValue\n        value={tag.value}\n        loadOptions={getTagValueSegmentOptions}\n        onChange={(v) => {\n          const value = v.value ?? '';\n          onChange({ ...tag, value, operator: adjustOperatorIfNeeded(operator, value) });\n        }}\n      />\n    </div>\n  );\n};\n\nexport const TagsSection = ({ tags, onChange, getTagKeyOptions, getTagValueOptions }: Props): JSX.Element => {\n  const onTagChange = (newTag: APMQueryTag, index: number) => {\n    const newTags = tags.map((tag, i) => {\n      return index === i ? newTag : tag;\n    });\n    onChange(newTags);\n  };\n\n  const onTagRemove = (index: number) => {\n    const newTags = tags.filter((t, i) => i !== index);\n    onChange(newTags);\n  };\n\n  const getTagKeySegmentOptions = () => {\n    return getTagKeyOptions().then((tags) => tags.map(toSelectableValue));\n  };\n\n  const addNewTag = (tagKey: string, isFirst: boolean) => {\n    const minimalTag: APMQueryTag = {\n      key: tagKey,\n      value: 'select tag value',\n    };\n\n    const newTag: APMQueryTag = {\n      key: minimalTag.key,\n      value: minimalTag.value,\n      operator: getOperator(minimalTag),\n      condition: getCondition(minimalTag, isFirst),\n    };\n\n    onChange([...tags, newTag]);\n  };\n\n  return (\n    <>\n      {tags.map((t, i) => (\n        <Tag\n          tag={t}\n          isFirst={i === 0}\n          key={i}\n          onChange={(newT) => {\n            onTagChange(newT, i);\n          }}\n          onRemove={() => {\n            onTagRemove(i);\n          }}\n          getTagKeyOptions={getTagKeyOptions}\n          getTagValueOptions={getTagValueOptions}\n        />\n      ))}\n      <AddButton\n        allowCustomValue\n        loadOptions={getTagKeySegmentOptions}\n        onAdd={(v) => {\n          addNewTag(v, tags.length === 0);\n        }}\n      />\n    </>\n  );\n};\n","import React, { useMemo } from 'react';\nimport { cx, css } from 'emotion';\nimport { WithContextMenu, useTheme } from '@grafana/ui';\nimport { SelectableValue, GrafanaTheme } from '@grafana/data';\nimport { Seg } from './Seg';\nimport { unwrap } from '../common/unwrap';\nimport { toSelectableValue } from '../common/toSelectableValue';\nimport { AddButton } from './AddButton';\n\nexport type PartParams = Array<{\n  value: string;\n  options: (() => Promise<string[]>) | null;\n}>;\n\ninterface Props {\n  parts: Array<{\n    name: string;\n    params: PartParams;\n  }>;\n  getNewPartOptions: () => Promise<SelectableValue[]>;\n  onChange: (partIndex: number, paramValues: string[]) => void;\n  onRemovePart: (index: number) => void;\n  onAddNewPart: (type: string) => void;\n}\n\nconst renderRemovableNameMenuItems = (onClick: () => void) => {\n  return [{ items: [{ label: 'remove', onClick }] }];\n};\n\nconst noRightMarginPaddingClass = css({\n  paddingRight: '0',\n  marginRight: '0',\n});\n\nconst RemovableName = ({ name, onRemove }: { name: string; onRemove: () => void }) => {\n  return (\n    <WithContextMenu getContextMenuItems={() => renderRemovableNameMenuItems(onRemove)}>\n      {({ openMenu }) => (\n        <button className={cx('gf-form-label', noRightMarginPaddingClass)} onClick={openMenu}>\n          {name}\n        </button>\n      )}\n    </WithContextMenu>\n  );\n};\n\ninterface PartProps {\n  name: string;\n  params: PartParams;\n  onRemove: () => void;\n  onChange: (paramValues: string[]) => void;\n}\n\nconst noHorizMarginPaddingClass = css({\n  paddingLeft: '0',\n  paddingRight: '0',\n  marginLeft: '0',\n  marginRight: '0',\n});\n\nconst getPartClass = (theme: GrafanaTheme) => {\n  return cx(\n    'gf-form-label',\n    css({\n      paddingLeft: '0',\n      // gf-form-label class makes certain css attributes incorrect\n      // for the selectbox-dropdown, so we have to \"reset\" them back\n      lineHeight: theme.typography.lineHeight.md,\n      fontSize: theme.typography.size.base,\n    })\n  );\n};\n\nconst Part = ({ name, params, onChange, onRemove }: PartProps): JSX.Element => {\n  const theme = useTheme();\n  const partClass = useMemo(() => getPartClass(theme), [theme]);\n\n  const onParamChange = (par: string, i: number) => {\n    const newParams = params.map((p) => p.value);\n    newParams[i] = par;\n    onChange(newParams);\n  };\n\n  return (\n    <div className={partClass}>\n      <RemovableName name={name} onRemove={onRemove} />(\n      {params.map((p, i) => {\n        const { value, options } = p;\n        const isLast = i === params.length - 1;\n        const loadOptions =\n          options !== null ? () => options().then((items) => items.map(toSelectableValue)) : undefined;\n        return (\n          <React.Fragment key={i}>\n            <Seg\n              allowCustomValue\n              value={value}\n              buttonClassName={noHorizMarginPaddingClass}\n              loadOptions={loadOptions}\n              onChange={(v) => {\n                onParamChange(unwrap(v.value), i);\n              }}\n            />\n            {!isLast && ','}\n          </React.Fragment>\n        );\n      })}\n      )\n    </div>\n  );\n};\n\nexport const PartListSection = ({\n  parts,\n  getNewPartOptions,\n  onAddNewPart,\n  onRemovePart,\n  onChange,\n}: Props): JSX.Element => {\n  return (\n    <>\n      {parts.map((part, index) => (\n        <Part\n          key={index}\n          name={part.name}\n          params={part.params}\n          onRemove={() => {\n            onRemovePart(index);\n          }}\n          onChange={(pars) => {\n            onChange(index, pars);\n          }}\n        />\n      ))}\n      <AddButton loadOptions={getNewPartOptions} onAdd={onAddNewPart} />\n    </>\n  );\n};\n","import { css } from 'emotion';\n\nexport const paddingRightClass = css({\n  paddingRight: '4px',\n});\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { Input } from '@grafana/ui';\nimport { useShadowedState } from '../common/useShadowedState';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  value: string | undefined;\n  onChange: (value: string | undefined) => void;\n  isWide?: boolean;\n  placeholder?: string;\n}\n\nexport const InputSection = ({ value, onChange, isWide, placeholder }: Props): JSX.Element => {\n  const [currentValue, setCurrentValue] = useShadowedState(value);\n\n  const onBlur = () => {\n    // we send empty-string as undefined\n    const newValue = currentValue === '' ? undefined : currentValue;\n    onChange(newValue);\n  };\n\n  return (\n    <Input\n      placeholder={placeholder}\n      className={cx(isWide ?? false ? 'width-14' : 'width-8', paddingRightClass)}\n      type=\"text\"\n      spellCheck={false}\n      onBlur={onBlur}\n      onChange={(e) => {\n        setCurrentValue(e.currentTarget.value);\n      }}\n      value={currentValue ?? ''}\n    />\n  );\n};\n","import { Select } from '@grafana/ui';\nimport { cx } from 'emotion';\nimport { ResultFormat } from '../types';\nimport React from 'react';\nimport { unwrap } from '../common/unwrap';\nimport { RESULT_FORMATS } from '../common/constants';\nimport { paddingRightClass } from './styles';\n\ninterface Props {\n  inputId?: string;\n  format: ResultFormat;\n  onChange: (newFormat: ResultFormat) => void;\n}\n\nconst className = cx('width-8', paddingRightClass);\n\nexport const FormatAsSection = ({ format, inputId, onChange }: Props): JSX.Element => {\n  return (\n    <Select<ResultFormat>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={format}\n      options={RESULT_FORMATS}\n    />\n  );\n};\n","import React from 'react';\nimport { cx } from 'emotion';\nimport { SelectableValue } from '@grafana/data';\nimport { unwrap } from '../common/unwrap';\nimport { Select } from '@grafana/ui';\nimport { paddingRightClass } from './styles';\n\n// type Mode = 'string';\n\nconst OPTIONS: Array<SelectableValue<string>> = [\n  { label: 'ascending', value: 'ASC' },\n  { label: 'descending', value: 'DESC' },\n];\n\nconst className = cx('width-9', paddingRightClass);\n\ninterface Props {\n  value: string;\n  onChange: (value: string) => void;\n  inputId?: string;\n}\n\nexport const OrderBySeries = ({ value, onChange, inputId }: Props): JSX.Element => {\n  return (\n    <Select<string>\n      inputId={inputId}\n      className={className}\n      onChange={(v) => {\n        onChange(unwrap(v.value));\n      }}\n      value={value}\n      options={OPTIONS}\n    />\n  );\n};\n","import React, { useMemo, FC, useEffect } from 'react';\nimport { css } from 'emotion';\nimport { QueryEditorProps, GrafanaTheme } from '@grafana/data';\nimport { InlineLabel, useStyles } from '@grafana/ui';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport {\n  getAllMeasurementsForTags,\n  getAllPolicies,\n  getFieldKeysForMeasurement,\n  getTagKeysForMeasurementAndTags,\n  getTagValues,\n} from './APMMetadataQuery';\nimport {\n  normalizeQuery,\n  addNewSelectPart,\n  removeSelectPart,\n  addNewGroupByPart,\n  removeGroupByPart,\n  changeSelectPart,\n  changeGroupByPart,\n} from './queryUtils';\nimport { getNewSelectPartOptions, getNewGroupByPartOptions, makePartList } from './common/partListUtils';\nimport { SegmentSection } from './components/SegmentSection';\nimport { FromSection } from './components/FromSection';\nimport { TagsSection } from './components/TagsSection';\nimport { PartListSection } from './components/PartListSection';\nimport { InputSection } from './components/InputSection';\nimport { FormatAsSection } from './components/FormatAsSection';\nimport { useUniqueId } from './common/useUniqueId';\nimport { DEFAULT_RESULT_FORMAT } from './common/constants';\nimport { APMQuery, APMQueryTag } from './types';\nimport { defaultQueryInfo, MyDataSourceOptions, QueryInfo } from '../types';\nimport { clone } from 'lodash';\nimport { DataSource } from '../DataSource';\n// import { TextareaSection } from './components/TextareaSection';\n// import { useShadowedState } from './common/useShadowedState';\nimport { OrderBySeries } from './components/OrderBySeries';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\n\nfunction getTemplateVariableOptions() {\n  return (\n    getTemplateSrv()\n      .getVariables()\n      // we make them regex-params, i'm not 100% sure why.\n      // probably because this way multi-value variables work ok too.\n      .map((v) => `/^$${v.name}$/`)\n  );\n}\n\n// helper function to make it easy to call this from the widget-render-code\nfunction withTemplateVariableOptions(optionsPromise: Promise<string[]>): Promise<string[]> {\n  return optionsPromise.then((options) => [...getTemplateVariableOptions(), ...options]);\n}\n\nfunction filterTags(parts: APMQueryTag[], allTagKeys: Set<string>): APMQueryTag[] {\n  return parts.filter((t) => allTagKeys.has(t.key));\n}\n\nexport const APMServiceQueryEditor: FC<Props> = React.memo((props: Props) => {\n  const uniqueId = useUniqueId();\n  const formatAsId = `apm-qe-format-as-${uniqueId}`;\n  const orderByTimeId = `apm-qe-order-by${uniqueId}`;\n  const orderBySeriesId = `apm-qe-order-by${uniqueId}`;\n\n  const styles = useStyles(getStyles);\n  // const [self] = useShadowedState(true);\n\n  const { datasource, onChange, query: queryInfo } = props;\n  const query = normalizeQuery(queryInfo.APMServiceParams || clone(defaultQueryInfo.APMServiceParams));\n  const { measurement, policy } = query;\n\n  useEffect(() => {\n    if (!queryInfo.APMServiceParams) {\n      onChange({ ...queryInfo, APMServiceParams: clone(defaultQueryInfo.APMServiceParams) });\n    }\n  }, [onChange, queryInfo]);\n\n  const allTagKeys = useMemo(() => {\n    return getTagKeysForMeasurementAndTags(measurement, policy, [], datasource)\n      .then((tags) => {\n        return new Set(tags);\n      })\n      .catch((err) => {\n        console.error('getTagKeysForMeasurementAndTags', err);\n        return new Set('');\n      });\n  }, [measurement, policy, datasource]);\n\n  const selectLists = useMemo(() => {\n    const dynamicSelectPartOptions = new Map([\n      [\n        'field_0',\n        () => {\n          return measurement !== undefined\n            ? getFieldKeysForMeasurement(measurement, policy, datasource)\n            : Promise.resolve([]);\n        },\n      ],\n    ]);\n    return (query.select ?? []).map((sel) => makePartList(sel, dynamicSelectPartOptions));\n  }, [measurement, policy, query.select, datasource]);\n\n  // the following function is not complicated enough to memoize, but it's result\n  // is used in both memoized and un-memoized parts, so we have no choice\n  const getTagKeys = useMemo(() => {\n    return () =>\n      allTagKeys.then((keys) =>\n        getTagKeysForMeasurementAndTags(measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n      );\n  }, [measurement, policy, query.tags, datasource, allTagKeys]);\n\n  const groupByList = useMemo(() => {\n    const dynamicGroupByPartOptions = new Map([['tag_0', getTagKeys]]);\n\n    return makePartList(query.groupBy ?? [], dynamicGroupByPartOptions);\n  }, [getTagKeys, query.groupBy]);\n\n  const onAppliedChange = (newQuery: APMQuery) => {\n    props.onChange({\n      ...props.query,\n      APMServiceParams: newQuery,\n    });\n    props.onRunQuery();\n  };\n  const handleFromSectionChange = (p: string | undefined, m: string | undefined) => {\n    onAppliedChange({\n      ...query,\n      policy: p,\n      measurement: m,\n    });\n  };\n\n  const handleTagsSectionChange = (tags: APMQueryTag[]) => {\n    // we set empty-arrays to undefined\n    onAppliedChange({\n      ...query,\n      tags: tags.length === 0 ? undefined : tags,\n    });\n  };\n\n  return (\n    <div>\n      {/* <SegmentSection label=\"Method\" fill={true}>\n        <Switch\n          value={self}\n          onChange={(e) => {\n            setSelf(e.currentTarget.value === 'true');\n          }}\n        >\n          {self ? 'default' : 'query'}\n        </Switch>\n      </SegmentSection> */}\n      {/* {!self ? ( */}\n      {\n        <>\n          <SegmentSection label=\"FROM\" fill={true}>\n            <FromSection\n              policy={policy}\n              measurement={measurement}\n              getPolicyOptions={() => getAllPolicies(datasource)}\n              getMeasurementOptions={(filter) =>\n                withTemplateVariableOptions(\n                  allTagKeys.then((keys) =>\n                    getAllMeasurementsForTags(\n                      filter === '' ? undefined : filter,\n                      filterTags(query.tags ?? [], keys),\n                      datasource\n                    )\n                  )\n                )\n              }\n              onChange={handleFromSectionChange}\n            />\n            <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n              WHERE\n            </InlineLabel>\n            <TagsSection\n              tags={query.tags ?? []}\n              onChange={handleTagsSectionChange}\n              getTagKeyOptions={getTagKeys}\n              getTagValueOptions={(key: string) =>\n                withTemplateVariableOptions(\n                  allTagKeys.then((keys) =>\n                    getTagValues(key, measurement, policy, filterTags(query.tags ?? [], keys), datasource)\n                  )\n                )\n              }\n            />\n          </SegmentSection>\n          {selectLists.map((sel, index) => (\n            <SegmentSection key={index} label={index === 0 ? 'SELECT' : ''} fill={true}>\n              <PartListSection\n                parts={sel}\n                getNewPartOptions={() => Promise.resolve(getNewSelectPartOptions())}\n                onChange={(partIndex, newParams) => {\n                  const newQuery = changeSelectPart(query, index, partIndex, newParams);\n                  onAppliedChange(newQuery);\n                }}\n                onAddNewPart={(type) => {\n                  onAppliedChange(addNewSelectPart(query, type, index));\n                }}\n                onRemovePart={(partIndex) => {\n                  onAppliedChange(removeSelectPart(query, partIndex, index));\n                }}\n              />\n            </SegmentSection>\n          ))}\n          <SegmentSection label=\"GROUP BY\" fill={true}>\n            <PartListSection\n              parts={groupByList}\n              getNewPartOptions={() => getNewGroupByPartOptions(query, getTagKeys)}\n              onChange={(partIndex, newParams) => {\n                const newQuery = changeGroupByPart(query, partIndex, newParams);\n                onAppliedChange(newQuery);\n              }}\n              onAddNewPart={(type) => {\n                onAppliedChange(addNewGroupByPart(query, type));\n              }}\n              onRemovePart={(partIndex) => {\n                onAppliedChange(removeGroupByPart(query, partIndex));\n              }}\n            />\n          </SegmentSection>\n          <SegmentSection label=\"TIMEZONE\" fill={true}>\n            <InputSection\n              placeholder=\"(optional)\"\n              value={query.tz}\n              onChange={(tz) => {\n                onAppliedChange({ ...query, tz });\n              }}\n            />\n            <InlineLabel htmlFor={orderByTimeId} width=\"auto\" className={styles.inlineLabel}>\n              ORDER BY\n            </InlineLabel>\n            <InputSection\n              placeholder=\"time\"\n              value={query.orderType}\n              onChange={(v) => {\n                onAppliedChange({ ...query, orderType: v });\n              }}\n            />\n            <OrderBySeries\n              inputId={orderBySeriesId}\n              value={query.orderBy}\n              onChange={(v) => {\n                onAppliedChange({ ...query, orderBy: v });\n              }}\n            />\n          </SegmentSection>\n          <SegmentSection htmlFor={formatAsId} label=\"FORMAT AS\" fill={true}>\n            <FormatAsSection\n              inputId={formatAsId}\n              format={query.resultFormat ?? DEFAULT_RESULT_FORMAT}\n              onChange={(format) => {\n                onAppliedChange({ ...query, resultFormat: format });\n              }}\n            />\n            {query.resultFormat !== 'table' && (\n              <>\n                <InlineLabel width=\"auto\" className={styles.inlineLabel}>\n                  ALIAS\n                </InlineLabel>\n                <InputSection\n                  isWide\n                  placeholder=\"Naming pattern\"\n                  value={query.alias}\n                  onChange={(alias) => {\n                    onAppliedChange({ ...query, alias });\n                  }}\n                />\n              </>\n            )}\n          </SegmentSection>\n        </>\n        // ) : (\n        //   <TextareaSection\n        //     value={query.custom}\n        //     placeholder=\"Query\"\n        //     onChange={(custom) => {\n        //       onAppliedChange({ ...query, custom });\n        //     }}\n        //   />\n        // )\n      }\n    </div>\n  );\n});\n\nfunction getStyles(theme: GrafanaTheme) {\n  return {\n    inlineLabel: css`\n      color: #33a2e5;\n    `,\n  };\n}\n\nAPMServiceQueryEditor.displayName = 'APMServiceQueryEditor';\n","import { useRef } from 'react';\nimport { uniqueId } from 'lodash';\n\nexport function useUniqueId(): string {\n  // we need to lazy-init this ref.\n  // otherwise we would call `uniqueId`\n  // on every render. unfortunately\n  // useRef does not have lazy-init builtin,\n  // like useState does. we do it manually.\n  const idRefLazy = useRef<string | null>(null);\n\n  if (idRefLazy.current === null) {\n    idRefLazy.current = uniqueId();\n  }\n\n  return idRefLazy.current;\n}\n","import { cloneDeep } from 'lodash';\nimport APMQueryModel from './APM_query_model';\nimport { APMQuery } from './types';\n\nexport function normalizeQuery(query: APMQuery): APMQuery {\n  // we return the original query if there is no need to update it\n  if (\n    query.policy !== undefined &&\n    query.resultFormat !== undefined &&\n    query.orderBy !== undefined &&\n    query.tags !== undefined &&\n    query.groupBy !== undefined &&\n    query.select !== undefined\n  ) {\n    return query;\n  }\n\n  // FIXME: we should move the whole normalizeQuery logic here,\n  // and then have APMQueryModel call this function,\n  // to concentrate the whole logic here\n\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  return new APMQueryModel(queryCopy).target;\n}\n\nexport function addNewSelectPart(query: APMQuery, type: string, index: number): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  model.addSelectPart(model.selectModels[index], type);\n  return model.target;\n}\n\nexport function removeSelectPart(query: APMQuery, partIndex: number, index: number): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  const selectModel = model.selectModels[index];\n  model.removeSelectPart(selectModel, selectModel[partIndex]);\n  return model.target;\n}\n\nexport function changeSelectPart(query: APMQuery, listIndex: number, partIndex: number, newParams: string[]): APMQuery {\n  // we need to make shallow copy of `query.select` down to `query.select[listIndex][partIndex]`\n  const newSel = [...(query.select ?? [])];\n  newSel[listIndex] = [...newSel[listIndex]];\n  newSel[listIndex][partIndex] = {\n    ...newSel[listIndex][partIndex],\n    params: newParams,\n  };\n  return { ...query, select: newSel };\n}\n\nexport function addNewGroupByPart(query: APMQuery, type: string): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  model.addGroupBy(type);\n  return model.target;\n}\n\nexport function removeGroupByPart(query: APMQuery, partIndex: number): APMQuery {\n  const queryCopy = cloneDeep(query); // the query-model mutates the query\n  const model = new APMQueryModel(queryCopy);\n  model.removeGroupByPart(model.groupByParts[partIndex], partIndex);\n  return model.target;\n}\n\nexport function changeGroupByPart(query: APMQuery, partIndex: number, newParams: string[]): APMQuery {\n  // we need to make shallow copy of `query.groupBy` down to `query.groupBy[partIndex]`\n  const newGroupBy = [...(query.groupBy ?? [])];\n  newGroupBy[partIndex] = {\n    ...newGroupBy[partIndex],\n    params: newParams,\n  };\n  return { ...query, groupBy: newGroupBy };\n}\n","import React, { PureComponent } from 'react';\nimport { DataSourceApi, QueryEditorProps } from '@grafana/data';\nimport { TCMonitorDatasourceQueryCtrl } from './query-ctrl/query.ctrl';\nimport { QueryCtrlRender } from './query-ctrl/QueryCtrlRender';\nimport { MyDataSourceOptions, QueryInfo, ServiceType, ServiceTypeOptions } from './types';\nimport { Alert, Tab, TabContent, TabsBar } from '@grafana/ui';\nimport { LogServiceQueryEditor } from './log-service/LogServiceQueryEditor';\nimport { RUMServiceQueryEditor } from './rum-service/RUMServiceQueryEditor';\nimport { APMServiceQueryEditor } from './apm-service/APMServiceQueryEditor';\nimport { DataSource } from './DataSource';\nimport { setLanguage, Language } from '../locale';\nimport { CoreApp } from './common/constants';\n\ntype Props = QueryEditorProps<DataSource, QueryInfo, MyDataSourceOptions>;\nexport class QueryEditor extends PureComponent<Props> {\n  state = {\n    isAlertVisiable: false,\n  };\n\n  constructor(props) {\n    super(props);\n    setLanguage(props.datasource.instanceSettings.jsonData.language || Language.Chinese);\n  }\n\n  componentDidMount() {\n    const { query } = this.props;\n    // @ts-ignore\n    const app = this.props.app as CoreApp;\n    if (app === CoreApp.UnifiedAlerting) {\n      //  告警页面\n      this.partialOnChange({ serviceType: ServiceType.logService });\n      return;\n    }\n    const firstEnabledService = this.enabledServices[0];\n    if (!query.serviceType && firstEnabledService) {\n      this.partialOnChange({ serviceType: firstEnabledService });\n    }\n  }\n\n  partialOnChange = (queryInfo: Partial<QueryInfo>) => {\n    const { onChange, query: oldQuery } = this.props;\n    // @ts-ignore\n    const app = this.props.app as CoreApp;\n    const newQuery = { ...oldQuery, ...queryInfo } as unknown as QueryInfo;\n    if (app === CoreApp.UnifiedAlerting) {\n      //  告警页面\n      if (newQuery.serviceType === ServiceType.logService) {\n        onChange(newQuery);\n        this.setState({\n          isAlertVisiable: false,\n        });\n      } else {\n        this.setState({\n          isAlertVisiable: true,\n        });\n      }\n    } else {\n      onChange(newQuery);\n    }\n  };\n\n  get enabledServices() {\n    const { datasource } = this.props;\n    const monitorEnabled = datasource?.monitorDataSource.getNamespaces().length > 0;\n    const logServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['logServiceEnabled']);\n    const RUMServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['RUMServiceEnabled']);\n    const APMServiceEnabled = Boolean(datasource?.instanceSettings.jsonData['APMServiceEnabled']);\n    return [\n      monitorEnabled && ServiceType.monitor,\n      logServiceEnabled && ServiceType.logService,\n      RUMServiceEnabled && ServiceType.RUMService,\n      APMServiceEnabled && ServiceType.APMService,\n    ].filter(Boolean);\n  }\n\n  render() {\n    const { datasource, query: queryInfo } = this.props;\n    const { isAlertVisiable } = this.state;\n    if (!datasource) {\n      return <div>loading</div>;\n    }\n    return (\n      <div>\n        {this.enabledServices.length > 1 && (\n          <TabsBar>\n            {ServiceTypeOptions.filter((item) => this.enabledServices.includes(item.value)).map((item) => (\n              <Tab\n                key={item.value}\n                label={item.label}\n                active={queryInfo.serviceType === item.value}\n                onChangeTab={() => {\n                  this.partialOnChange({ serviceType: item.value });\n                }}\n              />\n            ))}\n          </TabsBar>\n        )}\n        <TabContent>\n          {queryInfo.serviceType === ServiceType.monitor && this.renderMonitorQueryEditor()}\n          {queryInfo.serviceType === ServiceType.logService && this.renderLogServiceQueryEditor()}\n          {queryInfo.serviceType === ServiceType.RUMService && this.renderRUMServiceQueryEditor()}\n          {queryInfo.serviceType === ServiceType.APMService && this.renderAPMServiceQueryEditor()}\n        </TabContent>\n        {isAlertVisiable && <Alert title=\"目前仅 CLS日志服务 数据源支持告警\" />}\n      </div>\n    );\n  }\n\n  renderMonitorQueryEditor() {\n    const monitorDataSource: DataSourceApi = (this.props.datasource as any).monitorDataSource;\n    return (\n      monitorDataSource && (\n        <QueryCtrlRender {...this.props} queryCtrl={TCMonitorDatasourceQueryCtrl} datasource={monitorDataSource} />\n      )\n    );\n  }\n\n  renderLogServiceQueryEditor() {\n    return <LogServiceQueryEditor {...this.props} />;\n  }\n\n  renderRUMServiceQueryEditor() {\n    const { query, onChange, onRunQuery, datasource } = this.props;\n    return (\n      <RUMServiceQueryEditor query={query} onChange={onChange} onRunQuery={onRunQuery} datasource={datasource as any} />\n    );\n  }\n  renderAPMServiceQueryEditor() {\n    const { query, onChange, onRunQuery, datasource } = this.props;\n    return (\n      <APMServiceQueryEditor query={query} onChange={onChange} onRunQuery={onRunQuery} datasource={datasource as any} />\n    );\n  }\n}\n","import { InlineField, InlineFieldRow, Input, RadioButtonGroup } from '@grafana/ui';\nimport React, { useCallback } from 'react';\nimport { defaultQueryInfo, ServiceType, ServiceTypeOptions, VariableQuery } from './types';\nimport { DataSource } from './DataSource';\nimport { LogServiceQueryEditor } from './log-service/LogServiceQueryEditor';\nimport { useLatest } from 'react-use';\nimport { clone, isString } from 'lodash';\n\ninterface VariableQueryProps {\n  query: VariableQuery;\n  onChange: (v: VariableQuery, definition: string) => void;\n  datasource: DataSource;\n}\n\nconst InfoPopver: React.FC<any> = () => {\n  return (\n    <a target=\"_blank\" href=\"https://cloud.tencent.com/document/product/248/54510\">\n      Click here for more information of query\n    </a>\n  );\n};\nexport const VariableQueryEditor: React.FC<VariableQueryProps> = (props) => {\n  const propsRef = useLatest(props);\n  const { query, datasource } = props;\n\n  const onQueryChange = useCallback(\n    (newQuery: VariableQuery) => {\n      const { onChange } = propsRef.current;\n      let definition;\n      if (newQuery.serviceType === ServiceType.logService) {\n        definition = `SQL:  ${newQuery.logServiceParams?.Query}`;\n      } else {\n        definition = newQuery.queryString;\n      }\n      onChange?.(newQuery, definition);\n    },\n    [propsRef]\n  );\n  return (\n    <>\n      <InlineFieldRow>\n        <InlineField label=\"服务类型\" labelWidth={20}>\n          <RadioButtonGroup\n            options={ServiceTypeOptions}\n            value={isString(query) ? ServiceType.monitor : query.serviceType}\n            onChange={(type) => {\n              if (type === ServiceType.monitor) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n              if (type === ServiceType.logService) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                  logServiceParams: clone(defaultQueryInfo.logServiceParams),\n                });\n              }\n              if (type === ServiceType.RUMService) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n              if (type === ServiceType.APMService) {\n                onQueryChange({\n                  serviceType: type,\n                  queryString: '',\n                });\n              }\n            }}\n          />\n        </InlineField>\n      </InlineFieldRow>\n      {query.serviceType === ServiceType.logService && (\n        <>\n          {/* 复用编辑模式的日志主题输入组件 */}\n          <LogServiceQueryEditor\n            datasource={datasource}\n            query={query as unknown as any}\n            onRunQuery={() => {}}\n            onChange={(v) => {\n              onQueryChange({\n                serviceType: ServiceType.logService,\n                queryString: '',\n                logServiceParams: v.logServiceParams,\n              });\n            }}\n          />\n        </>\n      )}\n      {query.serviceType === ServiceType.RUMService && (\n        <InlineFieldRow>\n          <InlineField label=\"查询语句\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              placeholder=\"metric name or tags query\"\n              onChange={(e) =>\n                onQueryChange({\n                  serviceType: ServiceType.RUMService,\n                  queryString: e.currentTarget.value,\n                })\n              }\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {query.serviceType === ServiceType.APMService && (\n        <InlineFieldRow>\n          <InlineField label=\"查询语句\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              placeholder=\"metric name or tags query\"\n              onChange={(e) =>\n                onQueryChange({\n                  serviceType: ServiceType.APMService,\n                  queryString: e.currentTarget.value,\n                })\n              }\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n      {(isString(query) || query.serviceType === ServiceType.monitor) && (\n        <InlineFieldRow>\n          <InlineField label=\"查询语句\" labelWidth={20} grow tooltip={InfoPopver}>\n            <Input\n              name=\"query\"\n              required\n              onChange={(e) =>\n                onQueryChange({\n                  serviceType: ServiceType.monitor,\n                  queryString: e.currentTarget.value,\n                })\n              }\n              value={isString(query) ? query : query.queryString}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      )}\n    </>\n  );\n};\nVariableQueryEditor.displayName = 'VariableQueryEditor';\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n    function ObjectUnsubscribedErrorImpl() {\n        Error.call(this);\n        this.message = 'object unsubscribed';\n        this.name = 'ObjectUnsubscribedError';\n        return this;\n    }\n    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n})();\nexport var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\nvar SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nvar SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\nvar Subject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map\n","/** PURE_IMPORTS_START tslib,_Subscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function refCount() {\n    return function refCountOperatorFunction(source) {\n        return source.lift(new RefCountOperator(source));\n    };\n}\nvar RefCountOperator = /*@__PURE__*/ (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=refCount.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_Observable,_Subscriber,_Subscription,_operators_refCount PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SubjectSubscriber } from '../Subject';\nimport { Observable } from '../Observable';\nimport { Subscriber } from '../Subscriber';\nimport { Subscription } from '../Subscription';\nimport { refCount as higherOrderRefCount } from '../operators/refCount';\nvar ConnectableObservable = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ConnectableObservable, _super);\n    function ConnectableObservable(source, subjectFactory) {\n        var _this = _super.call(this) || this;\n        _this.source = source;\n        _this.subjectFactory = subjectFactory;\n        _this._refCount = 0;\n        _this._isComplete = false;\n        return _this;\n    }\n    ConnectableObservable.prototype._subscribe = function (subscriber) {\n        return this.getSubject().subscribe(subscriber);\n    };\n    ConnectableObservable.prototype.getSubject = function () {\n        var subject = this._subject;\n        if (!subject || subject.isStopped) {\n            this._subject = this.subjectFactory();\n        }\n        return this._subject;\n    };\n    ConnectableObservable.prototype.connect = function () {\n        var connection = this._connection;\n        if (!connection) {\n            this._isComplete = false;\n            connection = this._connection = new Subscription();\n            connection.add(this.source\n                .subscribe(new ConnectableSubscriber(this.getSubject(), this)));\n            if (connection.closed) {\n                this._connection = null;\n                connection = Subscription.EMPTY;\n            }\n        }\n        return connection;\n    };\n    ConnectableObservable.prototype.refCount = function () {\n        return higherOrderRefCount()(this);\n    };\n    return ConnectableObservable;\n}(Observable));\nexport { ConnectableObservable };\nexport var connectableObservableDescriptor = /*@__PURE__*/ (function () {\n    var connectableProto = ConnectableObservable.prototype;\n    return {\n        operator: { value: null },\n        _refCount: { value: 0, writable: true },\n        _subject: { value: null, writable: true },\n        _connection: { value: null, writable: true },\n        _subscribe: { value: connectableProto._subscribe },\n        _isComplete: { value: connectableProto._isComplete, writable: true },\n        getSubject: { value: connectableProto.getSubject },\n        connect: { value: connectableProto.connect },\n        refCount: { value: connectableProto.refCount }\n    };\n})();\nvar ConnectableSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(ConnectableSubscriber, _super);\n    function ConnectableSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    ConnectableSubscriber.prototype._error = function (err) {\n        this._unsubscribe();\n        _super.prototype._error.call(this, err);\n    };\n    ConnectableSubscriber.prototype._complete = function () {\n        this.connectable._isComplete = true;\n        this._unsubscribe();\n        _super.prototype._complete.call(this);\n    };\n    ConnectableSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (connectable) {\n            this.connectable = null;\n            var connection = connectable._connection;\n            connectable._refCount = 0;\n            connectable._subject = null;\n            connectable._connection = null;\n            if (connection) {\n                connection.unsubscribe();\n            }\n        }\n    };\n    return ConnectableSubscriber;\n}(SubjectSubscriber));\nvar RefCountOperator = /*@__PURE__*/ (function () {\n    function RefCountOperator(connectable) {\n        this.connectable = connectable;\n    }\n    RefCountOperator.prototype.call = function (subscriber, source) {\n        var connectable = this.connectable;\n        connectable._refCount++;\n        var refCounter = new RefCountSubscriber(subscriber, connectable);\n        var subscription = source.subscribe(refCounter);\n        if (!refCounter.closed) {\n            refCounter.connection = connectable.connect();\n        }\n        return subscription;\n    };\n    return RefCountOperator;\n}());\nvar RefCountSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(RefCountSubscriber, _super);\n    function RefCountSubscriber(destination, connectable) {\n        var _this = _super.call(this, destination) || this;\n        _this.connectable = connectable;\n        return _this;\n    }\n    RefCountSubscriber.prototype._unsubscribe = function () {\n        var connectable = this.connectable;\n        if (!connectable) {\n            this.connection = null;\n            return;\n        }\n        this.connectable = null;\n        var refCount = connectable._refCount;\n        if (refCount <= 0) {\n            this.connection = null;\n            return;\n        }\n        connectable._refCount = refCount - 1;\n        if (refCount > 1) {\n            this.connection = null;\n            return;\n        }\n        var connection = this.connection;\n        var sharedConnection = connectable._connection;\n        this.connection = null;\n        if (sharedConnection && (!connection || sharedConnection === connection)) {\n            sharedConnection.unsubscribe();\n        }\n    };\n    return RefCountSubscriber;\n}(Subscriber));\n//# sourceMappingURL=ConnectableObservable.js.map\n","/** PURE_IMPORTS_START _observable_ConnectableObservable PURE_IMPORTS_END */\nimport { connectableObservableDescriptor } from '../observable/ConnectableObservable';\nexport function multicast(subjectOrSubjectFactory, selector) {\n    return function multicastOperatorFunction(source) {\n        var subjectFactory;\n        if (typeof subjectOrSubjectFactory === 'function') {\n            subjectFactory = subjectOrSubjectFactory;\n        }\n        else {\n            subjectFactory = function subjectFactory() {\n                return subjectOrSubjectFactory;\n            };\n        }\n        if (typeof selector === 'function') {\n            return source.lift(new MulticastOperator(subjectFactory, selector));\n        }\n        var connectable = Object.create(source, connectableObservableDescriptor);\n        connectable.source = source;\n        connectable.subjectFactory = subjectFactory;\n        return connectable;\n    };\n}\nvar MulticastOperator = /*@__PURE__*/ (function () {\n    function MulticastOperator(subjectFactory, selector) {\n        this.subjectFactory = subjectFactory;\n        this.selector = selector;\n    }\n    MulticastOperator.prototype.call = function (subscriber, source) {\n        var selector = this.selector;\n        var subject = this.subjectFactory();\n        var subscription = selector(subject).subscribe(subscriber);\n        subscription.add(source.subscribe(subject));\n        return subscription;\n    };\n    return MulticastOperator;\n}());\nexport { MulticastOperator };\n//# sourceMappingURL=multicast.js.map\n","/** PURE_IMPORTS_START _multicast,_refCount,_Subject PURE_IMPORTS_END */\nimport { multicast } from './multicast';\nimport { refCount } from './refCount';\nimport { Subject } from '../Subject';\nfunction shareSubjectFactory() {\n    return new Subject();\n}\nexport function share() {\n    return function (source) { return refCount()(multicast(shareSubjectFactory)(source)); };\n}\n//# sourceMappingURL=share.js.map\n","import moment from 'moment';\nimport { IAnalysisColumn } from '../model/interface';\nimport { FieldType } from '@grafana/data';\n\nconst ProcessorUtils = {\n  timestampWithTimeZoneRegex: /(\\w+)\\[[\\w/]+]/g,\n};\n\n/** Presto类型与FieldType转化表\n * @doc https://iwiki.woa.com/pages/viewpage.action?pageId=905584985 */\nconst PrestoAndFieldTypeMap: Omit<IAnalysisColumn, 'Name' | 'Type'>[] = [\n  /** 时间类型分为两类，包含日期和不包含日期 */\n  {\n    prestoTypeRegex: /^timestamp with time zone$/,\n    fieldType: FieldType.time,\n    // 包含时区的时间数据，可能带有额外的zone信息，这里进行清理。eg: 2021-11-26T18:41:24+08:00[Asia/Shanghai]\n    processor: (value: string) => {\n      const newValue = String(value).replace(ProcessorUtils.timestampWithTimeZoneRegex, '$1');\n      if (moment(newValue).isValid()) {\n        return newValue;\n      }\n      return value;\n    },\n  },\n  {\n    prestoTypeRegex: /^timestamp$|^date$|^datetime$/,\n    fieldType: FieldType.time,\n    // processor: moment,\n  },\n  {\n    prestoTypeRegex: /^time$/,\n    fieldType: FieldType.time,\n    // processor: null,\n  },\n  /** 数字类型。整数、浮点数、定点数 */\n  {\n    prestoTypeRegex: /^tinyint$|^samllint$|^integer$|^bigint$|^long$/,\n    fieldType: FieldType.number,\n    // processor: Number,\n  },\n  {\n    prestoTypeRegex: /^real$|^double$|^decimal$/,\n    fieldType: FieldType.number,\n    // processor: Number,\n  },\n  /** 字符串。字符串和单字符 */\n  {\n    prestoTypeRegex: /^varchar$|^char$|^text$|^keyword$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^boolean$/,\n    fieldType: FieldType.boolean,\n    // processor: Boolean,\n  },\n\n  /** 未定情况，做简单降级方案 */\n  {\n    prestoTypeRegex: /^uuid$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^ipaddress$/,\n    fieldType: FieldType.string,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^array\\(.*\\)$/,\n    fieldType: FieldType.other,\n    // processor: Array.from,\n  },\n  {\n    prestoTypeRegex: /^json$/,\n    fieldType: FieldType.other,\n    // processor: JSON.parse,\n  },\n  {\n    prestoTypeRegex: /^map\\(.*\\)$/, // /^map\\([\\w\\s,]+,[\\w\\s,]+\\)$/,\n    fieldType: FieldType.other,\n    // processor: (i) => i,\n  },\n  {\n    prestoTypeRegex: /^varbinary$/,\n    fieldType: FieldType.other,\n    // processor: Array.from,\n  },\n  {\n    prestoTypeRegex: /^interval$/,\n    fieldType: FieldType.other,\n    // processor: String,\n  },\n  {\n    prestoTypeRegex: /^row$/,\n    fieldType: FieldType.other,\n    // processor: String,\n  },\n];\n\nexport function getFieldTypeByPrestoType(prestoType: string): Omit<IAnalysisColumn, 'Name' | 'Type'> {\n  return (\n    PrestoAndFieldTypeMap.find((item) => item.prestoTypeRegex.test(prestoType)) || {\n      prestoTypeRegex: /.*/,\n      fieldType: FieldType.other,\n    }\n  );\n}\n","import { ISearchLogResult, ITopicInfo } from '../model';\nimport { DataFrame, DataFrameDTO, FieldDTO, FieldType, toDataFrame } from '@grafana/data';\nimport _ from 'lodash';\nimport { parseLogJsonStr } from './formatSearchLog';\n\n/** 将SearchResults结果，处理为DataFrame */\nexport function ConvertSearchResultsToDataFrame(\n  searchLogResult: ISearchLogResult,\n  topic: Partial<ITopicInfo>\n): DataFrame {\n  const frameDTO = searchLogResult.Analysis\n    ? ConvertAnalysisJsonToDataFrameDTO(searchLogResult)\n    : ConvertLogJsonToDataFrameDTO(searchLogResult, topic);\n  return toDataFrame(frameDTO);\n}\n\nfunction ConvertAnalysisJsonToDataFrameDTO(searchLogResult: ISearchLogResult): DataFrameDTO {\n  const { analysisRecords = [], analysisColumns = [] } = searchLogResult ?? {};\n\n  const fields: FieldDTO[] = analysisColumns.map((column) => {\n    const values = analysisRecords.map((r) => r?.[column.Name!]);\n    return {\n      name: column.Name,\n      type: column.fieldType as any,\n      values,\n    };\n  });\n  return {\n    name: '',\n    fields,\n  };\n}\n\nexport const enum LogFieldReservedName {\n  TIMESTAMP = '__TIMESTAMP__',\n  LogJson = '__LogJson__',\n  SOURCE = '__SOURCE__',\n  Filename = '__FILENAME__',\n  HostName = '__HOSTNAME__',\n  META = '__META__',\n}\n\nfunction ConvertLogJsonToDataFrameDTO(searchLogResult: ISearchLogResult, topic: Partial<ITopicInfo>): DataFrameDTO {\n  const { Results = [] } = searchLogResult;\n  // Log场景的处理方式，参考文档\n  // Grafana logSeriesToLogsModel方法（https://github.com/grafana/grafana/blob/faca526c169a9a61f119b6fc2819f5a8dfff7ed7/public/app/core/logs_model.ts#L315）\n  // Grafana testData数据源 runLogsStream方法（https://github.com/grafana/grafana/blob/faca526c169a9a61f119b6fc2819f5a8dfff7ed7/public/app/plugins/datasource/testdata/runStreams.ts#L131）\n\n  const timeField: FieldDTO<number> = {\n    name: LogFieldReservedName.TIMESTAMP,\n    type: FieldType.time,\n    values: [],\n  };\n  const logField: FieldDTO<string> = {\n    name: LogFieldReservedName.LogJson,\n    // 这里使用字符串类型，标识此内容为 核心日志内容\n    type: FieldType.string,\n    config: {\n      custom: { displayMode: 'json-view' },\n    },\n    values: [],\n  };\n  const sourceField: FieldDTO<string> = {\n    name: LogFieldReservedName.SOURCE,\n    type: FieldType.string,\n    values: [],\n  };\n  const filenameField: FieldDTO<string> = {\n    name: LogFieldReservedName.Filename,\n    type: FieldType.string,\n    values: [],\n  };\n  const hostnameField: FieldDTO<string> = {\n    name: LogFieldReservedName.HostName,\n    type: FieldType.string,\n    values: [],\n  };\n  const metaField: FieldDTO<any> = {\n    // 用于支持 Explore 功能上下文能力\n    name: LogFieldReservedName.META,\n    type: FieldType.other,\n    config: {\n      custom: {\n        hidden: true,\n      },\n    },\n    labels: { region: topic.region, TopicId: topic.TopicId },\n    values: [],\n  };\n\n  Results.forEach((logItem) => {\n    (timeField.values as number[]).push(logItem['Time']);\n    (sourceField.values as string[]).push(logItem['Source']);\n    (filenameField.values as string[]).push(logItem['FileName']);\n    (hostnameField.values as string[]).push(logItem['HostName']);\n    (metaField.values as any[]).push(JSON.stringify(_.pick(logItem, ['PkgId', 'PkgLogId'])));\n    try {\n      const logJson = parseLogJsonStr(logItem.LogJson);\n\n      /** 使用 LogsParsers.JSON 进行自动解析\n       * 展示问题优化跟踪：https://github.com/grafana/grafana/issues/54959\n       */\n      // 这里的值可以是 string | object, Grafana内部自动进行序列化处理。\n      (logField.values as string[]).push(JSON.stringify(logJson));\n\n      /** 使用 LogsParsers.logfmt 进行自动解析，缩略展示上更友好，但是LogDetail提取会有问题 */\n      // let logStr = '';\n      // Object.entries(logJson).forEach(([k, v])=>{\n      //   logStr += `${k}=${_.isObject(v) ? JSON.stringify(v) : `${v}` } `\n      // });\n      // (logField.values as string[]).push(logStr);\n    } catch (e) {}\n  });\n\n  const frameDTO: DataFrameDTO = {\n    name: '',\n    meta: {\n      preferredVisualisationType: 'logs',\n      custom: {\n        RequestId: (searchLogResult as any).RequestId,\n        SamplingRate: searchLogResult.SamplingRate,\n      },\n      executedQueryString: searchLogResult.Query,\n    },\n    fields: [timeField, logField, sourceField, filenameField, hostnameField, metaField],\n  };\n  return frameDTO;\n}\n","import { IAnalysisColumn, ISearchLogResult, TYPES } from '../model';\n\nimport { getFieldTypeByPrestoType } from './prestoType';\n\nexport function formatSearchLog(param: TYPES.SearchLogResult): ISearchLogResult {\n  const { Analysis, AnalysisRecords = [], Columns = [] } = param;\n  const analysisColumns: IAnalysisColumn[] = [];\n  const analysisRecords: Object[] = [];\n  if (Analysis) {\n    Columns.forEach((column) => {\n      const analysisColumn = getFieldTypeByPrestoType(column.Type);\n      analysisColumns.push({\n        ...column,\n        ...analysisColumn,\n      });\n    });\n    AnalysisRecords.forEach((record) => {\n      try {\n        analysisRecords.push(JSON.parse(record));\n      } catch (e) {\n        analysisRecords.push({});\n      }\n    });\n\n    for (const column of analysisColumns) {\n      if (column.processor) {\n        analysisRecords.forEach((record) => {\n          // eslint-disable-next-line no-param-reassign\n          record[column.Name] = column.processor(record[column.Name]);\n        });\n      }\n    }\n  }\n  return {\n    ...param,\n    analysisRecords,\n    analysisColumns,\n  };\n}\n\n/** 解析stringify的日志，并处理 __TAG__字段 */\nexport function parseLogJsonStr(logJsonStr: string): Record<string, any> {\n  try {\n    const logJson = JSON.parse(logJsonStr);\n    const tagContent = logJson['__TAG__'];\n    delete logJson.__TAG__;\n    if (tagContent) {\n      Object.entries(tagContent).forEach(([tagKey, tagValue]) => {\n        logJson[`__TAG__.${tagKey}`] = tagValue;\n      });\n    }\n    return logJson;\n  } catch (e) {\n    console.error('parseLogJsonStr', e);\n    return {};\n  }\n}\n","/* eslint-disable eqeqeq,no-eq-null,max-depth,guard-for-in,no-fallthrough */\n// @link: https://github.com/grafana/grafana/blob/b4faee786f3c3c1e09543ef768f2e2daee429ec7/public/app/core/components/TransformersUI/prepareTimeSeries/prepareTimeSeries.ts\nimport { DataFrame, FieldType, Field, MutableDataFrame, ArrayVector } from '@grafana/data';\n\nexport enum DataFrameType {\n  TimeSeriesWide = 'timeseries-wide',\n  TimeSeriesLong = 'timeseries-long',\n  TimeSeriesMany = 'timeseries-many',\n}\n\ntype Labels = Record<string, string>;\n/**\n * There is currently an effort to figure out consistent names\n * for the various formats/types we produce and use.\n *\n * This transformer will eventually include the required metadata that can assert\n * a DataFrame[] is of a given type\n *\n * @internal -- TBD\n */\nexport enum timeSeriesFormat {\n  TimeSeriesWide = 'wide', // [time,...values]\n  TimeSeriesMany = 'many', // All frames have [time,number]\n  TimeSeriesLong = 'long',\n}\n\n/**\n * Convert to [][time,number]\n */\nexport function toTimeSeriesMany(data: DataFrame[]): DataFrame[] {\n  if (!Array.isArray(data) || data.length === 0) {\n    return data;\n  }\n\n  const result: DataFrame[] = [];\n  for (const frame of toTimeSeriesLong(data)) {\n    const timeField = frame.fields[0];\n    if (!timeField || timeField.type !== FieldType.time) {\n      continue;\n    }\n    const valueFields: Field[] = [];\n    const labelFields: Field[] = [];\n    for (const field of frame.fields) {\n      switch (field.type) {\n        case FieldType.number:\n        case FieldType.boolean:\n          valueFields.push(field);\n          break;\n        case FieldType.string:\n          labelFields.push(field);\n          break;\n      }\n    }\n\n    for (const field of valueFields) {\n      if (labelFields.length) {\n        // new frame for each label key\n        interface frameBuilder {\n          time: number[];\n          value: number[];\n          key: string;\n          labels: Labels;\n        }\n        const builders = new Map<string, frameBuilder>();\n        for (let i = 0; i < frame.length; i++) {\n          const time = timeField.values.get(i);\n          const value = field.values.get(i);\n          if (value === undefined || time == null) {\n            continue; // skip values left over from join\n          }\n\n          const key = labelFields.map((f) => f.values.get(i)).join('/');\n          let builder = builders.get(key);\n          if (!builder) {\n            builder = {\n              key,\n              time: [],\n              value: [],\n              labels: {},\n            };\n            for (const label of labelFields) {\n              builder.labels[label.name] = label.values.get(i);\n            }\n            builders.set(key, builder);\n          }\n          builder.time.push(time);\n          builder.value.push(value);\n        }\n\n        // Add a frame for each distinct value\n        builders.forEach((b) => {\n          result.push({\n            name: frame.name,\n            refId: frame.refId,\n            meta: {\n              ...frame.meta,\n              type: DataFrameType.TimeSeriesMany,\n            } as any,\n            fields: [\n              {\n                ...timeField,\n                values: new ArrayVector(b.time),\n              },\n              {\n                ...field,\n                values: new ArrayVector(b.value),\n                labels: b.labels,\n              },\n            ],\n            length: b.time.length,\n          });\n        });\n      } else {\n        result.push({\n          name: frame.name,\n          refId: frame.refId,\n          meta: {\n            ...frame.meta,\n            type: DataFrameType.TimeSeriesMany,\n          } as any,\n          fields: [timeField, field],\n          length: frame.length,\n        });\n      }\n    }\n  }\n  return result;\n}\n\nfunction toTimeSeriesLong(data: DataFrame[]): DataFrame[] {\n  if (!Array.isArray(data) || data.length === 0) {\n    return data;\n  }\n\n  const result: DataFrame[] = [];\n  for (const frame of data) {\n    let timeField: Field | undefined;\n    const uniqueValueNames: string[] = [];\n    const uniqueValueNamesToType: Record<string, FieldType> = {};\n    const uniqueLabelKeys: Record<string, boolean> = {};\n    const labelKeyToWideIndices: Record<string, number[]> = {};\n    const uniqueFactorNamesToWideIndex: Record<string, number> = {};\n\n    for (let fieldIndex = 0; fieldIndex < frame.fields.length; fieldIndex++) {\n      const field = frame.fields[fieldIndex];\n\n      switch (field.type) {\n        case FieldType.string:\n        case FieldType.boolean:\n          if (field.name in uniqueFactorNamesToWideIndex) {\n            // TODO error?\n          } else {\n            uniqueFactorNamesToWideIndex[field.name] = fieldIndex;\n            uniqueLabelKeys[field.name] = true;\n          }\n          break;\n        case FieldType.time:\n          if (!timeField) {\n            timeField = field;\n            break;\n          }\n        default: {\n          if (field.name in uniqueValueNamesToType) {\n            const type = uniqueValueNamesToType[field.name];\n\n            if (field.type !== type) {\n              // TODO error?\n              continue;\n            }\n          } else {\n            uniqueValueNamesToType[field.name] = field.type;\n            uniqueValueNames.push(field.name);\n          }\n\n          const tKey = JSON.stringify(field.labels);\n          const wideIndices = labelKeyToWideIndices[tKey];\n\n          if (wideIndices !== undefined) {\n            wideIndices.push(fieldIndex);\n          } else {\n            labelKeyToWideIndices[tKey] = [fieldIndex];\n          }\n\n          if (field.labels != null) {\n            for (const labelKey in field.labels) {\n              uniqueLabelKeys[labelKey] = true;\n            }\n          }\n        }\n      }\n    }\n\n    if (!timeField) {\n      continue;\n    }\n\n    interface TimeWideRowIndex {\n      time: any;\n      wideRowIndex: number;\n    }\n    const sortedTimeRowIndices: TimeWideRowIndex[] = [];\n    const sortedUniqueLabelKeys: string[] = [];\n    const uniqueFactorNames: string[] = [];\n    const uniqueFactorNamesWithWideIndices: string[] = [];\n\n    for (let wideRowIndex = 0; wideRowIndex < frame.length; wideRowIndex++) {\n      sortedTimeRowIndices.push({ time: timeField.values.get(wideRowIndex), wideRowIndex });\n    }\n\n    for (const labelKeys in labelKeyToWideIndices) {\n      sortedUniqueLabelKeys.push(labelKeys);\n    }\n    for (const labelKey in uniqueLabelKeys) {\n      uniqueFactorNames.push(labelKey);\n    }\n    for (const name in uniqueFactorNamesToWideIndex) {\n      uniqueFactorNamesWithWideIndices.push(name);\n    }\n\n    sortedTimeRowIndices.sort((a, b) => a.time - b.time);\n    sortedUniqueLabelKeys.sort();\n    uniqueFactorNames.sort();\n    uniqueValueNames.sort();\n\n    const longFrame = new MutableDataFrame({\n      ...frame,\n      meta: { ...frame.meta, type: DataFrameType.TimeSeriesLong } as any,\n      fields: [{ name: timeField.name, type: timeField.type }],\n    });\n\n    for (const name of uniqueValueNames) {\n      longFrame.addField({ name, type: uniqueValueNamesToType[name] });\n    }\n\n    for (const name of uniqueFactorNames) {\n      longFrame.addField({ name, type: FieldType.string });\n    }\n\n    for (const timeWideRowIndex of sortedTimeRowIndices) {\n      const { time, wideRowIndex } = timeWideRowIndex;\n\n      for (const labelKeys of sortedUniqueLabelKeys) {\n        const rowValues: Record<string, any> = {};\n\n        for (const name of uniqueFactorNamesWithWideIndices) {\n          rowValues[name] = frame.fields[uniqueFactorNamesToWideIndex[name]].values.get(wideRowIndex);\n        }\n\n        let index = 0;\n\n        for (const wideFieldIndex of labelKeyToWideIndices[labelKeys]) {\n          const wideField = frame.fields[wideFieldIndex];\n\n          if (index === 0 && wideField.labels != null) {\n            for (const labelKey in wideField.labels) {\n              rowValues[labelKey] = wideField.labels[labelKey];\n            }\n          }\n          index += 1;\n\n          rowValues[wideField.name] = wideField.values.get(wideRowIndex);\n        }\n\n        rowValues[timeField.name] = time;\n        longFrame.add(rowValues);\n      }\n    }\n\n    result.push(longFrame);\n  }\n\n  return result;\n}\n","import { getTemplateSrv } from '@grafana/runtime';\nimport { QueryInfo } from '../../../types';\n\n/**\n * 检索语法切割正则\n */\nexport const CQL_SPLIT_PATTERN = /(\\s*\\|\\s*)(select\\b.*)/i;\n\n/**\n * @param queryString 用户输入的原始检索语句\n * @description 判断用户是要检索原始日志，还是图表分析\n */\nexport function isQueryContainSql(queryString: string): boolean {\n  const pattern = CQL_SPLIT_PATTERN;\n  return pattern.test(queryString);\n}\n\n/**\n * 解析query，获取前面原始数据部分\n */\nexport function getQueryLucene(queryString = ''): string {\n  const querySplit = queryString.split(CQL_SPLIT_PATTERN);\n  let luceneQuery = '';\n  if (querySplit.length === 1) {\n    // 未得到有效切分项，说明是纯 lucene 查询\n    luceneQuery = queryString;\n  } else if (querySplit.length >= 2) {\n    luceneQuery = querySplit[0];\n  } else {\n    // 逻辑死区，不可能出现\n    return '';\n  }\n  return luceneQuery;\n}\n\nexport function replaceClsQueryWithTemplateSrv(queryString: string, scopedVars: any = {}): string {\n  const luceneQuery = getQueryLucene(queryString ?? '');\n  const sqlQuery = (queryString ?? '').slice(luceneQuery.length);\n  const Query =\n    getTemplateSrv().replace(luceneQuery, scopedVars, 'lucene') + getTemplateSrv().replace(sqlQuery, scopedVars, 'raw');\n  return Query;\n}\n\nexport function addQueryResultLimit(queryString: string, logServiceParams: QueryInfo['logServiceParams']) {\n  const luceneQuery = getQueryLucene(queryString ?? '');\n  const sqlQuery = (queryString ?? '').slice(luceneQuery.length);\n  const resultLimit = logServiceParams.MaxResultNum;\n\n  if (!resultLimit || !sqlQuery) {\n    //  不包含 sql 或resultLimit取值有误 直接返回\n    return queryString;\n  }\n  if (/limit/.test(sqlQuery)) {\n    //  已有 limit 关键字，直接返回\n    return queryString;\n  } else {\n    return queryString + ' limit ' + resultLimit;\n  }\n}\n","import { MyDataSourceOptions, QueryInfo } from '../types';\nimport {\n  DataFrame,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceApi,\n  DataSourceInstanceSettings,\n  FieldType,\n  LoadingState,\n  LogRowModel,\n  MetricFindValue,\n} from '@grafana/data';\nimport { Observable } from 'rxjs';\nimport { share } from 'rxjs/operators';\nimport { getTemplateSrv } from '@grafana/runtime';\nimport { DescribeLogContext, LogInfo, SearchLog } from './common/model';\nimport {\n  ConvertLogContextToDataFrame,\n  ConvertSearchResultsToDataFrame,\n  formatSearchLog,\n  LogFieldReservedName,\n} from './common/format';\nimport { RowContextOptions } from '@grafana/ui/components/Logs/LogRowContextProvider';\nimport moment from 'moment';\nimport { toTimeSeriesMany } from './common/format/prepareTimeSeries';\nimport { addQueryResultLimit, replaceClsQueryWithTemplateSrv } from './common/utils/query';\n\nexport class LogServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\n    super(instanceSettings);\n    this.instanceSettings = instanceSettings;\n  }\n\n  query(request: DataQueryRequest<QueryInfo>) {\n    const { range, targets, scopedVars } = request;\n    const [from, to] = [range.from, range.to].map((item) => item.valueOf()) as number[];\n    const requestTargets = targets.map<QueryInfo>((target) => {\n      const region = target.logServiceParams?.region ? getTemplateSrv().replace(target.logServiceParams.region) : '';\n      const TopicId = target.logServiceParams?.TopicId ? getTemplateSrv().replace(target.logServiceParams.TopicId) : '';\n      const Query = addQueryResultLimit(\n        replaceClsQueryWithTemplateSrv(target.logServiceParams?.Query || '', scopedVars),\n        target.logServiceParams\n      );\n\n      return {\n        ...target,\n        logServiceParams: {\n          ...target.logServiceParams,\n          region,\n          TopicId,\n          Query,\n        },\n      };\n    });\n\n    const dataFramePromise: Promise<DataFrame>[] = requestTargets\n      .filter((target) => !target.hide && target.logServiceParams.region && target.logServiceParams.TopicId)\n      .map((target) => {\n        return SearchLog(\n          {\n            TopicId: target.logServiceParams.TopicId,\n            Query: target.logServiceParams.Query,\n            From: from,\n            To: to,\n            SyntaxRule: target.logServiceParams.SyntaxRule,\n            Limit: target.logServiceParams.MaxResultNum,\n          },\n          target.logServiceParams.region,\n          { instanceSettings: this.instanceSettings }\n        ).then((result) => {\n          return ConvertSearchResultsToDataFrame(formatSearchLog(result), {\n            region: target.logServiceParams.region,\n            TopicId: target.logServiceParams.TopicId,\n          });\n        });\n      });\n\n    const output$ = new Observable<DataQueryResponse>((subscriber) => {\n      subscriber.next({ data: [], state: LoadingState.Loading });\n\n      Promise.all(dataFramePromise)\n        .then((frames) => {\n          const processedFrames = [];\n          for (const frame of frames) {\n            // 如果是 Analysis 场景，且返回内容可转化为 TimeSeriesMany, 则进行处理以绘制时序图\n            if (!frame?.meta?.preferredVisualisationType) {\n              const fieldTypeSet = new Set();\n              frame.fields.forEach((field) => fieldTypeSet.add(field.type));\n              if (\n                fieldTypeSet.has(FieldType.time) &&\n                fieldTypeSet.has(FieldType.string) &&\n                fieldTypeSet.has(FieldType.number)\n              ) {\n                const timeSeriesMany = toTimeSeriesMany([frame]);\n                if (frame.fields.filter((item) => item.type === 'number')?.length === 1) {\n                  timeSeriesMany.forEach((item) => {\n                    item.fields.forEach((field) => {\n                      if (field.type === FieldType.number) {\n                        field.name = '';\n                      }\n                    });\n                  });\n                }\n                processedFrames.splice(frame.fields.length, 0, ...timeSeriesMany);\n                continue;\n              }\n            }\n            processedFrames.push(frame);\n          }\n          subscriber.next({ data: processedFrames, state: LoadingState.Done });\n          subscriber.complete();\n        })\n        .catch((e) => {\n          subscriber.next({\n            data: [],\n            state: LoadingState.Error,\n            error: {\n              ...e,\n              message: e?.message || e?.data?.message,\n            },\n          });\n          subscriber.complete();\n        });\n    }).pipe(share());\n    return output$;\n  }\n\n  async metricFindQuery(query: QueryInfo['logServiceParams'], options): Promise<MetricFindValue[]> {\n    const logServiceParams = query;\n    const region = logServiceParams?.region ? getTemplateSrv().replace(logServiceParams.region) : '';\n    const TopicId = logServiceParams?.TopicId ? getTemplateSrv().replace(logServiceParams.TopicId) : '';\n    const Query = addQueryResultLimit(replaceClsQueryWithTemplateSrv(logServiceParams.Query), logServiceParams);\n\n    if (!options.range) {\n      return [];\n    }\n    if (region && TopicId && Query) {\n      const { analysisColumns, analysisRecords } = formatSearchLog(\n        await SearchLog(\n          {\n            TopicId: TopicId,\n            Query: Query,\n            From: options.range!.from.valueOf(),\n            To: options.range!.to.valueOf(),\n            Limit: logServiceParams?.MaxResultNum,\n          },\n          region,\n          {\n            instanceSettings: this.instanceSettings,\n          }\n        )\n      );\n      if (analysisColumns.length > 0 && analysisRecords.length > 0) {\n        const firstColumn = analysisColumns[0];\n        return analysisRecords.map((record) => {\n          return {\n            text: record[firstColumn.Name],\n            value: record[firstColumn.Name],\n          };\n        });\n      }\n    }\n    return [];\n  }\n\n  async testDatasource() {\n    if (!this.instanceSettings.jsonData['logServiceEnabled']) {\n      return null;\n    }\n    try {\n      // 使用SearchLog接口直接查询日志，根据是否遇到鉴权错误，判断秘钥合法性\n      await SearchLog(\n        {\n          TopicId: '',\n          Query: '',\n          From: moment().subtract(1, 'h').valueOf(),\n          To: moment().valueOf(),\n        },\n        'ap-shanghai',\n        {\n          instanceSettings: this.instanceSettings,\n        }\n      );\n      return {\n        status: 'success',\n        message: 'DatSource Connection OK',\n      };\n    } catch (e) {\n      if (e?.code && e.code !== 'AuthFailure.SignatureFailure') {\n        return {\n          status: 'success',\n          message: 'DatSource Connection OK',\n        };\n      } else {\n        return {\n          status: 'error',\n          title: e.code,\n          message: e.message,\n        };\n      }\n    }\n  }\n\n  /** histogram support\n   * @link https://github.com/grafana/grafana/blob/942be4215afaea27757fb3a034126452aaf3fab2/public/app/plugins/datasource/loki/datasource.ts#L115-L115\n   */\n  getLogsVolumeDataProvider(request: DataQueryRequest<QueryInfo>): Observable<DataQueryResponse> | undefined {\n    return undefined;\n  }\n\n  /** context disabled */\n  showContextToggle = (row: LogRowModel) => {\n    /** ConvertLogJsonToDataFrameDTO 函数中，将上下文相关值处理为 LogFieldReservedName.META field */\n    const metaField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.META);\n    try {\n      if (metaField?.labels?.region && metaField?.labels.TopicId) {\n        const metaValue: Pick<LogInfo, 'PkgId' | 'PkgLogId'> = JSON.parse(metaField.values.get(row.rowIndex));\n        if (metaValue?.PkgId && metaValue?.PkgLogId) {\n          return true;\n        }\n      }\n      return false;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  getLogRowContext = async (row: LogRowModel, options: RowContextOptions) => {\n    const { limit = 10, direction = 'BACKWARD' } = options;\n    const timeField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.TIMESTAMP);\n    const metaField = row.dataFrame.fields.find((item) => item.name === LogFieldReservedName.META);\n    if (!timeField || !metaField?.labels || !limit) {\n      return { data: [], state: LoadingState.Done };\n    }\n\n    try {\n      const metaValue: Pick<LogInfo, 'PkgId' | 'PkgLogId'> = JSON.parse(metaField.values.get(row.rowIndex));\n      const bTime = moment(timeField.values.get(row.rowIndex)).format('YYYY-MM-DD HH:MM:SS.SSS');\n      const logContext = await DescribeLogContext(\n        {\n          TopicId: metaField?.labels.TopicId,\n          BTime: bTime,\n          PkgId: metaValue.PkgId,\n          PkgLogId: Number(metaValue.PkgLogId),\n          PrevLogs: direction === 'BACKWARD' ? limit : 0,\n          NextLogs: direction !== 'BACKWARD' ? limit : 0,\n        },\n        metaField?.labels.region,\n        { instanceSettings: this.instanceSettings }\n      );\n      const frame = ConvertLogContextToDataFrame(logContext);\n      return {\n        data: [frame],\n        state: LoadingState.Done,\n      };\n    } catch (e) {\n      return {\n        data: [],\n        state: LoadingState.Error,\n        error: e,\n      };\n    }\n  };\n}\n","import { DescribeLogContextResult } from '../model';\nimport { DataFrameDTO, FieldType, toDataFrame, DataFrame, FieldDTO } from '@grafana/data';\nimport { parseLogJsonStr } from './formatSearchLog';\n\nexport function ConvertLogContextToDataFrame(logContext: DescribeLogContextResult): DataFrame {\n  const { LogContextInfos = [] } = logContext;\n\n  const timeField: FieldDTO<number> = {\n    name: 'ts',\n    type: FieldType.time,\n    config: { displayName: 'Time' },\n    values: [],\n  };\n  const idField: FieldDTO<string | number> = {\n    name: 'id',\n    type: FieldType.string,\n    values: [],\n  };\n  const lineField: FieldDTO<string> = {\n    name: 'line',\n    type: FieldType.string,\n    values: [],\n  };\n\n  LogContextInfos.forEach((item) => {\n    (timeField.values as number[]).unshift(item.BTime);\n    (idField.values as (string | number)[]).unshift(item.PkgLogId);\n    let contextLog;\n    try {\n      contextLog = JSON.stringify(parseLogJsonStr(item.Content) as any);\n    } catch (e) {\n      contextLog = item.Content;\n    }\n    (lineField.values as string[]).unshift(contextLog);\n  });\n\n  const frameDTO: DataFrameDTO = {\n    name: '',\n    meta: {\n      custom: {\n        RequestId: (logContext as any).RequestId,\n      },\n    },\n    fields: [timeField, lineField, idField],\n  };\n  return toDataFrame(frameDTO);\n}\n","import { each, map, includes, flatten, keys } from 'lodash';\nimport TableModel from 'grafana/app/core/table_model';\nimport { FieldType, QueryResultMeta, TimeSeries, TableData } from '@grafana/data';\n\nexport default class RUMSeries {\n  refId?: string;\n  series: any;\n  alias: any;\n  annotation: any;\n  meta?: QueryResultMeta;\n\n  constructor(options: { series: any; alias?: any; annotation?: any; meta?: QueryResultMeta; refId?: string }) {\n    this.series = options.series;\n    this.alias = options.alias;\n    this.annotation = options.annotation;\n    this.meta = options.meta;\n    this.refId = options.refId;\n  }\n\n  getTimeSeries(): TimeSeries[] {\n    const output: TimeSeries[] = [];\n    let i;\n    let j;\n\n    if (this.series.length === 0) {\n      return output;\n    }\n\n    each(this.series, (series) => {\n      const columns = series.columns.length;\n      const tags = map(series.tags, (value, key) => {\n        return key + ': ' + value;\n      });\n\n      for (j = 1; j < columns; j++) {\n        let seriesName = series.name;\n        const columnName = series.columns[j];\n        if (columnName !== 'value') {\n          seriesName = seriesName + '.' + columnName;\n        }\n\n        if (this.alias) {\n          seriesName = this._getSeriesName(series, j);\n        } else if (series.tags) {\n          seriesName = seriesName + ' {' + tags.join(', ') + '}';\n        }\n\n        const datapoints = [];\n        if (series.values) {\n          for (i = 0; i < series.values.length; i++) {\n            datapoints[i] = [series.values[i][j], series.values[i][0]];\n          }\n        }\n\n        output.push({\n          title: seriesName,\n          target: seriesName,\n          datapoints: datapoints,\n          tags: series.tags,\n          meta: this.meta,\n          refId: this.refId,\n        });\n      }\n    });\n\n    return output;\n  }\n\n  _getSeriesName(series: any, index: number) {\n    const regex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)\\]\\]/g;\n    const segments = series.name.split('.');\n\n    return this.alias.replace(regex, (match: any, g1: any, g2: any) => {\n      const group = g1 || g2;\n      const segIndex = parseInt(group, 10);\n\n      if (group === 'm' || group === 'measurement') {\n        return series.name;\n      }\n      if (group === 'col') {\n        return series.columns[index];\n      }\n      if (!isNaN(segIndex)) {\n        return segments[segIndex] ?? match;\n      }\n      if (group.indexOf('tag_') !== 0) {\n        return match;\n      }\n\n      const tag = group.replace('tag_', '');\n      if (!series.tags) {\n        return match;\n      }\n      return series.tags[tag];\n    });\n  }\n\n  getAnnotations() {\n    const list: any[] = [];\n\n    each(this.series, (series) => {\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(series.columns, (column, index) => {\n        if (column === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column === 'sequence_number') {\n          return;\n        }\n        if (column === this.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (includes((this.annotation.tagsColumn || '').replace(' ', '').split(','), column)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column === this.annotation.textColumn) {\n          textCol = index;\n          return;\n        }\n        if (column === this.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(series.values, (value) => {\n        const data = {\n          annotation: this.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n    });\n\n    return list;\n  }\n\n  getTable(): TableData {\n    const table = new TableModel();\n    let i;\n    let j;\n\n    // @ts-ignore\n    table.refId = this.refId;\n    // @ts-ignore\n    table.meta = this.meta;\n\n    if (this.series.length === 0) {\n      return table;\n    }\n\n    // the order is:\n    // - first the first item from the value-array (this is often (always?) the timestamp)\n    // - then all the tag-values\n    // - then the rest of the value-array\n    //\n    // we have to keep this order both in table.columns and table.rows\n\n    each(this.series, (series: any, seriesIndex: number) => {\n      if (seriesIndex === 0) {\n        const firstCol = series.columns[0];\n        // Check the first column's name, if it is `time`, we\n        // mark it as having the type time\n        const firstTableCol = firstCol === 'time' ? { text: 'Time', type: FieldType.time } : { text: firstCol };\n        table.columns.push(firstTableCol);\n        each(keys(series.tags), (key) => {\n          table.columns.push({ text: key });\n        });\n        for (j = 1; j < series.columns.length; j++) {\n          table.columns.push({ text: series.columns[j] });\n        }\n      }\n\n      if (series.values) {\n        for (i = 0; i < series.values.length; i++) {\n          const values = series.values[i];\n          const reordered = [values[0]];\n          if (series.tags) {\n            for (const key in series.tags) {\n              if (series.tags.hasOwnProperty(key)) {\n                reordered.push(series.tags[key]);\n              }\n            }\n          }\n          for (j = 1; j < values.length; j++) {\n            reordered.push(values[j]);\n          }\n          table.rows.push(reordered);\n        }\n      }\n    });\n\n    return table;\n  }\n}\n","import { AnnotationEvent, DataFrame, DataQuery, FieldType, QueryResultMeta } from '@grafana/data';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport TableModel from 'grafana/app/core/table_model';\nimport { each, flatten, groupBy, isArray } from 'lodash';\nimport { ENABLE_MEASUREMENTS } from './common/constants';\nimport { RUMQuery } from './types';\n\nexport default class ResponseParser {\n  parse(query: string, results: { results: any }) {\n    if (!results?.results || results.results.length === 0) {\n      return [];\n    }\n\n    const RUMResults = results.results[0];\n    if (!RUMResults.series) {\n      return [];\n    }\n\n    const normalizedQuery = query.toLowerCase();\n    const isValueFirst =\n      normalizedQuery.indexOf('show field keys') >= 0 || normalizedQuery.indexOf('show retention policies') >= 0;\n    const isShowMeasurements = normalizedQuery.indexOf('show measurements') >= 0;\n\n    const res = new Set<string>();\n    each(RUMResults.series, (serie) => {\n      each(serie.values, (value) => {\n        if (isArray(value)) {\n          // In general, there are 2 possible shapes for the returned value.\n          // The first one is a two-element array,\n          // where the first element is somewhat a metadata value:\n          // the tag name for SHOW TAG VALUES queries,\n          // the time field for SELECT queries, etc.\n          // The second shape is an one-element array,\n          // that is containing an immediate value.\n          // For example, SHOW FIELD KEYS queries return such shape.\n          // Note, pre-0.11 versions return\n          // the second shape for SHOW TAG VALUES queries\n          // (while the newer versions—first).\n\n          if (isValueFirst) {\n            addUnique(res, value[0]);\n          } else if (value[1] !== undefined) {\n            addUnique(res, value[1]);\n          } else {\n            addUnique(res, value[0]);\n          }\n        } else {\n          addUnique(res, value);\n        }\n      });\n    });\n\n    if (isShowMeasurements) {\n      return Array.from(res)\n        .filter((item) => ENABLE_MEASUREMENTS.includes(item))\n        .map((v) => ({ text: v }));\n    }\n\n    return Array.from(res).map((v) => ({ text: v }));\n  }\n\n  getTable(dfs: DataFrame[], target: RUMQuery, meta: QueryResultMeta): TableModel {\n    let table = new TableModel();\n\n    if (dfs.length > 0) {\n      // @ts-ignore\n      table.meta = {\n        ...meta,\n        executedQueryString: dfs[0].meta?.executedQueryString,\n      };\n      // @ts-ignore\n      table.refId = target.refId;\n      table = getTableCols(dfs, table, target);\n\n      // if group by tag(s) added\n      if (dfs[0].fields[1]?.labels) {\n        let dfsByLabels: any = groupBy(dfs, (df: DataFrame) =>\n          df.fields[1].labels ? Object.values(df.fields[1].labels!) : null\n        );\n        const labels = Object.keys(dfsByLabels);\n        dfsByLabels = Object.values(dfsByLabels);\n\n        for (let i = 0; i < dfsByLabels.length; i++) {\n          table = getTableRows(dfsByLabels[i], table, [...labels[i].split(',')]);\n        }\n      } else {\n        table = getTableRows(dfs, table, []);\n      }\n    }\n\n    return table;\n  }\n\n  async transformAnnotationResponse(options: any, data: any, target: RUMQuery): Promise<AnnotationEvent[]> {\n    const rsp = toDataQueryResponse(data, [target] as DataQuery[]);\n\n    if (rsp) {\n      const table = this.getTable(rsp.data, target, {});\n      const list: any[] = [];\n      let titleCol: any = null;\n      let timeCol: any = null;\n      let timeEndCol: any = null;\n      const tagsCol: any = [];\n      let textCol: any = null;\n\n      each(table.columns, (column, index) => {\n        if (column.text.toLowerCase() === 'time') {\n          timeCol = index;\n          return;\n        }\n        if (column.text === options.annotation.titleColumn) {\n          titleCol = index;\n          return;\n        }\n        if (colContainsTag(column.text, options.annotation.tagsColumn)) {\n          tagsCol.push(index);\n          return;\n        }\n        if (column.text.includes(options.annotation.textColumn)) {\n          textCol = index;\n          return;\n        }\n        if (column.text === options.annotation.timeEndColumn) {\n          timeEndCol = index;\n          return;\n        }\n        // legacy case\n        if (!titleCol && textCol !== index) {\n          titleCol = index;\n        }\n      });\n\n      each(table.rows, (value) => {\n        const data = {\n          annotation: options.annotation,\n          time: Number(new Date(value[timeCol])),\n          title: value[titleCol],\n          timeEnd: value[timeEndCol],\n          // Remove empty values, then split in different tags for comma separated values\n          tags: flatten(\n            tagsCol\n              .filter((t: any) => {\n                return value[t];\n              })\n              .map((t: any) => {\n                return value[t].split(',');\n              })\n          ),\n          text: value[textCol],\n        };\n\n        list.push(data);\n      });\n\n      return list;\n    }\n    return [];\n  }\n}\n\nfunction colContainsTag(colText: string, tagsColumn: string): boolean {\n  const tags = (tagsColumn || '').replace(' ', '').split(',');\n  for (let tag of tags) {\n    if (colText.includes(tag)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction getTableCols(dfs: DataFrame[], table: TableModel, target: RUMQuery): TableModel {\n  const selectedParams = getSelectedParams(target);\n\n  dfs[0].fields.forEach((field) => {\n    // Time col\n    if (field.name === 'time') {\n      table.columns.push({ text: 'Time', type: FieldType.time });\n    }\n\n    // Group by (label) column(s)\n    else if (field.name === 'value') {\n      if (field.labels) {\n        Object.keys(field.labels).forEach((key) => {\n          table.columns.push({ text: key });\n        });\n      }\n    }\n  });\n\n  // Get cols for annotationQuery\n  if (dfs[0].refId === 'metricFindQuery') {\n    dfs.forEach((field) => {\n      if (field.name) {\n        table.columns.push({ text: field.name });\n      }\n    });\n  }\n\n  // Select (metric) column(s)\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < selectedParams.length; i++) {\n    table.columns.push({ text: selectedParams[i] });\n  }\n\n  return table;\n}\n\nfunction getTableRows(dfs: DataFrame[], table: TableModel, labels: string[]): TableModel {\n  const values = dfs[0].fields[0].values.toArray();\n\n  for (let i = 0; i < values.length; i++) {\n    const time = values[i];\n    const metrics = dfs.map((df: DataFrame) => {\n      return df.fields[1] ? df.fields[1].values.toArray()[i] : null;\n    });\n    if (metrics.indexOf(null) < 0) {\n      table.rows.push([time, ...labels, ...metrics]);\n    }\n  }\n  return table;\n}\n\nexport function getSelectedParams(target: RUMQuery): string[] {\n  let allParams: string[] = [];\n  target.select?.forEach((select) => {\n    const selector = select.filter((x) => x.type !== 'field');\n    if (selector.length > 0) {\n      allParams.push(selector[0].type);\n    } else {\n      if (select[0]?.params?.[0]) {\n        allParams.push(select[0].params[0].toString());\n      }\n    }\n  });\n\n  let uniqueParams: string[] = [];\n  allParams.forEach((param) => {\n    uniqueParams.push(incrementName(param, param, uniqueParams, 0));\n  });\n\n  return uniqueParams;\n}\n\nfunction incrementName(name: string, nameIncremenet: string, params: string[], index: number): string {\n  if (params.indexOf(nameIncremenet) > -1) {\n    index++;\n    return incrementName(name, name + '_' + index, params, index);\n  }\n  return nameIncremenet;\n}\n\nfunction addUnique(s: Set<string>, value: string | number) {\n  s.add(value.toString());\n}\n","import { cloneDeep, isString, map as _map, get } from 'lodash';\nimport { Observable, of, throwError, from } from 'rxjs';\nimport { catchError, map, mergeMap } from 'rxjs/operators';\nimport { getBackendSrv, getTemplateSrv, TemplateSrv } from '@grafana/runtime';\nimport {\n  ArrayVector,\n  DataFrame,\n  DataQueryError,\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  MetricFindValue,\n  dateMath,\n  DataSourceApi,\n  FieldType,\n  QueryResultMeta,\n  TIME_SERIES_TIME_FIELD_NAME,\n  TIME_SERIES_VALUE_FIELD_NAME,\n  TimeSeries,\n  LoadingState,\n  RawTimeRange,\n} from '@grafana/data';\nimport RUMQueryModel from './RUM_query_model';\nimport RUMSeries from './RUM_series';\nimport ResponseParser from './response_parser';\nimport { GetRequestParams, GetServiceAPIInfo } from '../../datasource/common/constants';\nimport { MyDataSourceOptions, QueryInfo } from '../types';\nimport { RUMOptions, RUMQuery } from './types';\nimport { RUMQueryBuilder } from './query_builder';\n\n// we detect the field type based on the value-array\nfunction getFieldType(values: unknown[]): FieldType {\n  // the values-array may contain a lot of nulls.\n  // we need the first not-null item\n  const firstNotNull = values.find((v) => v !== null);\n\n  if (firstNotNull === undefined) {\n    // we could not find any not-null values\n    return FieldType.number;\n  }\n\n  const valueType = typeof firstNotNull;\n\n  switch (valueType) {\n    case 'string':\n      return FieldType.string;\n    case 'boolean':\n      return FieldType.boolean;\n    case 'number':\n      return FieldType.number;\n    default:\n      throw new Error(`RUM: invalid value type ${valueType}`);\n  }\n}\n\n// this conversion function is specialized to work with the timeseries\n// data returned by getTimeSeries()\nfunction timeSeriesToDataFrame(timeSeries: TimeSeries): DataFrame {\n  const times: number[] = [];\n  const values: unknown[] = [];\n\n  // the data we process here is not correctly typed.\n  // the typescript types say every data-point is number|null,\n  // but in fact it can be string or boolean too.\n\n  const points = timeSeries.datapoints;\n  for (const point of points) {\n    values.push(point[0]);\n    times.push(point[1] as number);\n  }\n\n  const timeField = {\n    name: TIME_SERIES_TIME_FIELD_NAME,\n    type: FieldType.time,\n    config: {},\n    values: new ArrayVector<number>(times),\n  };\n\n  const valueField = {\n    name: TIME_SERIES_VALUE_FIELD_NAME,\n    type: getFieldType(values),\n    config: {\n      displayNameFromDS: timeSeries.title,\n    },\n    values: new ArrayVector<unknown>(values),\n    labels: timeSeries.tags,\n  };\n\n  const fields = [timeField, valueField];\n\n  return {\n    name: timeSeries.target,\n    refId: timeSeries.refId,\n    meta: timeSeries.meta,\n    fields,\n    length: values.length,\n  };\n}\n\nexport default class RUMServiceDataSource extends DataSourceApi<QueryInfo, MyDataSourceOptions> {\n  type: string;\n  url: string;\n  responseParser: any;\n  private readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  private readonly templateSrv: TemplateSrv;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<RUMOptions>) {\n    super(instanceSettings);\n\n    this.instanceSettings = instanceSettings;\n    this.templateSrv = getTemplateSrv();\n    this.responseParser = new ResponseParser();\n    this.type = 'RUMService';\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Promise<DataQueryResponse> | Observable<DataQueryResponse> {\n    return this.classicQuery(request);\n  }\n\n  classicQuery(options: any): Observable<DataQueryResponse> {\n    let timeFilter = this.getTimeFilter(options);\n    const scopedVars = options.scopedVars;\n    const targets = cloneDeep(options.targets);\n    const queryTargets: any[] = [];\n\n    let i;\n    let y;\n\n    let allQueries = _map(targets, (target) => {\n      if (target.hide) {\n        return '';\n      }\n      target.RUMServiceParams = this.fixTimePeriod(target.RUMServiceParams, options);\n      queryTargets.push(target);\n\n      // backward compatibility\n      scopedVars.interval = scopedVars.__interval;\n\n      return new RUMQueryModel(target.RUMServiceParams, this.templateSrv, scopedVars).render(true);\n    }).reduce((acc, current) => {\n      if (current !== '') {\n        acc += ';' + current;\n      }\n      return acc;\n    });\n\n    if (allQueries === '') {\n      return of({ data: [] });\n    }\n\n    // add global adhoc filters to timeFilter\n    // @ts-ignore\n    const adhocFilters = this.templateSrv.getAdhocFilters(this.name);\n    if (adhocFilters.length > 0) {\n      const tmpQuery = new RUMQueryModel({}, this.templateSrv, scopedVars);\n      timeFilter += ' AND ' + tmpQuery.renderAdhocFilters(adhocFilters);\n    }\n\n    // replace grafana variables\n    scopedVars.timeFilter = { value: timeFilter };\n\n    // replace templated variables\n    allQueries = this.templateSrv.replace(allQueries, scopedVars);\n\n    return this._seriesQuery(allQueries, options).pipe(\n      map((data: any) => {\n        if (!data || !data.results) {\n          return { data: [] };\n        }\n\n        const seriesList = [];\n        for (i = 0; i < data.results.length; i++) {\n          const result = data.results[i];\n          if (!result || !result.series) {\n            continue;\n          }\n\n          const target = queryTargets[i];\n          let alias = target.RUMServiceParams.alias;\n          if (alias) {\n            alias = this.templateSrv.replace(target.RUMServiceParams.alias, options.scopedVars);\n          }\n\n          const meta: QueryResultMeta = {\n            executedQueryString: data.executedQueryString,\n          };\n\n          const rumSeries = new RUMSeries({\n            refId: target.refId,\n            series: data.results[i].series,\n            alias: alias,\n            meta,\n          });\n\n          switch (target.RUMServiceParams.resultFormat) {\n            case 'logs':\n              meta.preferredVisualisationType = 'logs';\n            // eslint-disable-next-line no-fallthrough\n            case 'table': {\n              seriesList.push(rumSeries.getTable());\n              break;\n            }\n            default: {\n              const timeSeries = rumSeries.getTimeSeries();\n              for (y = 0; y < timeSeries.length; y++) {\n                seriesList.push(timeSeriesToDataFrame(timeSeries[y]));\n              }\n              break;\n            }\n          }\n        }\n\n        return { data: seriesList, state: LoadingState.Done };\n      })\n    );\n  }\n\n  async metricFindQuery(query: string, options?: any): Promise<MetricFindValue[]> {\n    const interpolated = this.templateSrv.replace(query, undefined, 'regex');\n\n    return this._seriesQuery(interpolated, options)\n      .toPromise()\n      .then((resp) => {\n        return this.responseParser.parse(query, resp);\n      });\n  }\n\n  _seriesQuery(query: string, options?: any) {\n    if (!query) {\n      return of({ results: [] });\n    }\n\n    if (options?.range) {\n      const timeFilter = this.getTimeFilter({ rangeRaw: options.range, timezone: options.timezone });\n      query = query.replace('$timeFilter', timeFilter);\n    }\n\n    return this._RUMRequest(query);\n  }\n\n  _RUMRequest(query) {\n    const serviceType = 'rum';\n    const serviceInfo = GetServiceAPIInfo('', serviceType);\n\n    return from(\n      GetRequestParams(\n        { url: this.instanceSettings.url + serviceInfo.path, data: { Query: btoa(query) } },\n        serviceType,\n        { action: 'DescribeGrafanaData' },\n        '',\n        this.instanceSettings.id,\n        getBackendSrv()\n      )\n    ).pipe(\n      mergeMap((requestOptions) => {\n        return getBackendSrv()\n          .fetch(requestOptions)\n          .pipe(\n            map((result: any) => {\n              if (get(result, 'data.Response.Error')) {\n                // eslint-disable-next-line no-throw-literal\n                throw {\n                  message: 'RUM Error: ' + get(result, 'data.Response.Error.Message'),\n                  data: result.data,\n                  cancelled: true,\n                };\n              }\n              const jsonData = get(result, 'data.Response.Result');\n              const data = JSON.parse(jsonData);\n              data.executedQueryString = query;\n\n              if (data) {\n                if (data.error) {\n                  // eslint-disable-next-line no-throw-literal\n                  throw {\n                    message: 'RUM Error: ' + data.error,\n                    data,\n                  };\n                }\n                if (data.results) {\n                  const errors = data.results.filter((elem: any) => elem.error);\n\n                  if (errors.length > 0) {\n                    // eslint-disable-next-line no-throw-literal\n                    throw {\n                      message: 'RUM Error: ' + errors[0].error,\n                      data,\n                    };\n                  }\n                }\n              }\n              return data;\n            }),\n            catchError((err) => {\n              if (err.cancelled) {\n                return of(err);\n              }\n\n              return throwError(this.handleErrors(err));\n            })\n          );\n      })\n    );\n  }\n\n  handleErrors(err: any) {\n    const error: DataQueryError = {\n      message: err?.status || err?.message || 'Unknown error during query transaction. Please check JS console logs.',\n    };\n\n    if ((Number.isInteger(err.status) && err.status !== 0) || err.status >= 300) {\n      if (err.data?.error) {\n        error.message = 'RUM Error: ' + err.data.error;\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      } else {\n        error.message = 'Network Error: ' + err.statusText + '(' + err.status + ')';\n        error.data = err.data;\n        // @ts-ignore\n        error.config = err.config;\n      }\n    }\n\n    return error;\n  }\n\n  getTimeFilter(options: any) {\n    const from = this.getRUMTime(options.rangeRaw.from, false, options.timezone);\n    const until = this.getRUMTime(options.rangeRaw.to, true, options.timezone);\n\n    return 'time >= ' + from + ' and time <= ' + until;\n  }\n\n  getRUMTime(date: any, roundUp: any, timezone: any) {\n    if (isString(date)) {\n      if (date === 'now') {\n        return 'now()';\n      }\n\n      const parts = /^now-(\\d+)([dhms])$/.exec(date);\n      if (parts) {\n        const amount = parseInt(parts[1], 10);\n        const unit = parts[2];\n        return 'now() - ' + amount + unit;\n      }\n      date = dateMath.parse(date, roundUp, timezone);\n    }\n\n    return date.valueOf() + 'ms';\n  }\n\n  fixTimePeriod(target: any, options: any) {\n    const period = this.getTimePeriod(options.rangeRaw, options.timezone);\n\n    target.groupBy?.forEach((groupBy: any) => {\n      if (groupBy.type === 'time' && groupBy.params[0] !== '1d') {\n        target = this.modifyTime(target, period);\n      }\n    });\n    return target;\n  }\n\n  getTimePeriod(rangeRaw: RawTimeRange, timezone: string): string {\n    const from = dateMath.parse(rangeRaw.from, false, timezone)?.valueOf();\n    const until = dateMath.parse(rangeRaw.to, true, timezone)?.valueOf();\n    const oneHour = 1000 * 60 * 60;\n    let range = 0;\n    let period = '1m';\n    if (from && until) {\n      range = until - from;\n    }\n    // 12h\n    if (range <= oneHour * 12) {\n      period = '1m';\n    }\n    // 3d\n    else if (range <= oneHour * 24 * 3) {\n      period = '30m';\n    }\n    // 7d\n    else if (range <= oneHour * 24 * 7) {\n      period = '1h';\n    } else {\n      period = '1d';\n    }\n    return period;\n  }\n\n  // 修改查询聚合周期\n  modifyTime(query: RUMQuery, period: string): RUMQuery {\n    if (!query.groupBy) {\n      return query;\n    }\n    for (const item of query.groupBy) {\n      if (item.type === 'time') {\n        const compareResult = this.periodCompare(String(item.params?.[0]) || '', period);\n        const isPeriodInparamsSmaller = compareResult && compareResult < 0;\n        // !compareResult代表输入的时间粒度无效\n        if (!compareResult || isPeriodInparamsSmaller) {\n          item.params = [period];\n        }\n        return query;\n      }\n    }\n    return query;\n  }\n  /**\n   * @param pre_period 粒度\n   * @param period 粒度\n   * @return 负数代表小于；0代表=；正数代表大于; null代表无效\n   */\n  periodCompare(pre_period: string, period: string): number | null {\n    const units = ['s', 'm', 'h', 'd'];\n    const reg = new RegExp(`(^\\\\d+)([${units.join('')}]$)`);\n    const pre = reg.exec(pre_period);\n    const per = reg.exec(period);\n    if (!pre || !per) {\n      return null;\n    }\n    if (units.indexOf(pre[2]) - units.indexOf(per[2])) {\n      return units.indexOf(pre[2]) - units.indexOf(per[2]);\n    }\n    return Number(pre[1]) - Number(per[1]);\n  }\n\n  testDatasource(): Promise<any> {\n    if (!this.instanceSettings.jsonData['RUMServiceEnabled']) {\n      return null;\n    }\n    const queryBuilder = new RUMQueryBuilder({ measurement: '', tags: [] }, '');\n    const query = queryBuilder.buildExploreQuery('MEASUREMENTS');\n\n    return this._seriesQuery(query)\n      .toPromise()\n      .then((res: any) => {\n        const error = get(res, 'data.Response.Error');\n        if (error) {\n          return { status: 'error', message: error?.Message };\n        }\n        return { status: 'success', message: 'Data source is working' };\n      })\n      .catch((err: any) => {\n        return { status: 'error', message: err.message };\n      });\n  }\n}\n","import * as _ from 'lodash';\nimport {\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceInstanceSettings,\n  LoadingState,\n  LogRowModel,\n  MetricFindValue,\n} from '@grafana/data';\nimport { combineLatest, Observable, of, from } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { DataSourceWithBackend, getBackendSrv, getTemplateSrv } from '@grafana/runtime';\nimport { TCMonitorDatasource } from './tc_monitor/MonitorDatasource';\nimport { MyDataSourceOptions, QueryInfo, ServiceType, VariableQuery } from './types';\nimport { LogServiceDataSource } from './log-service/LogServiceDataSource';\nimport RUMServiceDataSource from './rum-service/RUMServiceDataSource';\nimport APMServiceDataSource from './apm-service/APMServiceDataSource';\nimport { IS_DEVELOPMENT_ENVIRONMENT } from './common/constants';\n\n/** 顶层数据源，内部根据配置与请求情况，请求具体的业务（monitor or logService） */\nexport class DataSource extends DataSourceWithBackend<QueryInfo, MyDataSourceOptions> {\n  readonly instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>;\n  readonly monitorDataSource: TCMonitorDatasource;\n  readonly logServiceDataSource: LogServiceDataSource;\n  readonly RUMServiceDataSource: RUMServiceDataSource;\n  readonly APMServiceDataSource: APMServiceDataSource;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\n    super(instanceSettings);\n    this.instanceSettings = instanceSettings;\n    if (IS_DEVELOPMENT_ENVIRONMENT) {\n      (window as any).tcDatasource = this;\n    }\n\n    this.monitorDataSource = new TCMonitorDatasource(this.instanceSettings, getBackendSrv(), getTemplateSrv()) as any;\n    (this.monitorDataSource as any).meta = this.meta;\n    this.logServiceDataSource = new LogServiceDataSource(this.instanceSettings);\n    (this.logServiceDataSource as any).meta = this.meta;\n    this.RUMServiceDataSource = new RUMServiceDataSource(this.instanceSettings);\n    (this.RUMServiceDataSource as any).meta = this.meta;\n    this.APMServiceDataSource = new APMServiceDataSource(this.instanceSettings);\n    (this.APMServiceDataSource as any).meta = this.meta;\n  }\n\n  query(request: DataQueryRequest<QueryInfo>): Observable<DataQueryResponse> {\n    const monitorTargets: QueryInfo[] = [];\n    const logServiceTargets: QueryInfo[] = [];\n    const RUMServiceTargets: QueryInfo[] = [];\n    const APMServiceTargets: QueryInfo[] = [];\n    for (const target of request.targets) {\n      if (target.serviceType === ServiceType.logService) {\n        logServiceTargets.push(target);\n      } else if (target.serviceType === ServiceType.RUMService) {\n        RUMServiceTargets.push(target);\n      } else if (target.serviceType === ServiceType.APMService) {\n        APMServiceTargets.push(target);\n      } else {\n        monitorTargets.push(target);\n      }\n    }\n\n    const EmptyDataQueryResponse: DataQueryResponse = { data: [], state: LoadingState.Done };\n    return combineLatest<DataQueryResponse[]>([\n      monitorTargets.length\n        ? from(\n            this.monitorDataSource.query({\n              ..._.clone(_.omit(request, 'targets')),\n              targets: monitorTargets,\n            })\n          )\n        : of(EmptyDataQueryResponse),\n      logServiceTargets.length\n        ? this.logServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: logServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n      RUMServiceTargets.length\n        ? this.RUMServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: RUMServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n      APMServiceTargets.length\n        ? this.APMServiceDataSource.query({\n            ..._.clone(_.omit(request, 'targets')),\n            targets: APMServiceTargets,\n          })\n        : of(EmptyDataQueryResponse),\n    ]).pipe(\n      map((responses: DataQueryResponse[]): DataQueryResponse => {\n        const errResponse = responses.find((item) => item.state === LoadingState.Error);\n        if (errResponse) {\n          return errResponse;\n        }\n        if (!responses.every((item) => item.state === LoadingState.Done)) {\n          return { data: [], state: LoadingState.Loading };\n        }\n        return {\n          data: responses.map((item) => item.data).flat(1),\n          state: LoadingState.Done,\n        };\n      })\n    );\n  }\n\n  async testDatasource() {\n    // 如果子服务没有开启，则返回null\n    const serviceTestResults = (\n      await Promise.all([\n        this.monitorDataSource.testDatasource(),\n        this.logServiceDataSource.testDatasource(),\n        this.RUMServiceDataSource.testDatasource(),\n        this.APMServiceDataSource.testDatasource(),\n      ])\n    ).filter(Boolean);\n\n    if (serviceTestResults.length === 0) {\n      return {\n        status: 'error',\n        message: \"Nothing configured. At least one of the API's services must be configured.\",\n      };\n    }\n\n    const failedResult = serviceTestResults.find((item) => item?.status !== 'success');\n    if (failedResult) {\n      return failedResult;\n    } else {\n      return serviceTestResults[0];\n    }\n  }\n\n  async metricFindQuery(query: string | VariableQuery, options): Promise<MetricFindValue[]> {\n    if (_.isString(query) || query.serviceType === ServiceType.monitor) {\n      return this.monitorDataSource.metricFindQuery(_.isString(query) ? query : query.queryString, options);\n    }\n    if (query.serviceType === ServiceType.logService) {\n      return this.logServiceDataSource.metricFindQuery(query.logServiceParams, options);\n    }\n    if (query.serviceType === ServiceType.RUMService) {\n      return this.RUMServiceDataSource.metricFindQuery(query.queryString, options);\n    }\n    if (query.serviceType === ServiceType.APMService) {\n      return this.APMServiceDataSource.metricFindQuery(query.queryString, options);\n    }\n    return [];\n  }\n\n  getLogRowContext = (row: LogRowModel, options) => {\n    return this.logServiceDataSource.getLogRowContext(row, options);\n  };\n\n  showContextToggle = (row: LogRowModel) => {\n    return false;\n    // return this.logServiceDataSource.showContextToggle(row);\n  };\n}\n","import React, { FormEvent, PureComponent } from 'react';\nimport { LegacyForms, InlineFieldRow, InlineField, Input, Switch, Select, Alert } from '@grafana/ui';\nimport { DataSourcePluginOptionsEditorProps, SelectableValue } from '@grafana/data';\nimport { MyDataSourceOptions, MySecureJsonData } from '../types';\nimport { SERVICES } from '../tc_monitor';\nimport { t, setLanguage, Language } from '../../locale';\nconst { SecretFormField } = LegacyForms;\n\ntype Props = DataSourcePluginOptionsEditorProps<MyDataSourceOptions, MySecureJsonData>;\n\ninterface State {\n  monitorFilter: string;\n  isClsAlertVisiable: boolean;\n}\n\nexport class ConfigEditor extends PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      monitorFilter: '',\n      isClsAlertVisiable: false,\n    };\n    setLanguage(props.options.jsonData.language || Language.Chinese);\n  }\n\n  patchJsonData = (kv: Record<string, any>) => {\n    const { onOptionsChange, options } = this.props;\n    if (kv) {\n      const jsonData = {\n        ...options.jsonData,\n        ...kv,\n      };\n      onOptionsChange({ ...options, jsonData });\n    }\n  };\n\n  onJsonDataChange = (event: FormEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const targetName = event?.currentTarget?.name;\n    const targetValue = (event?.currentTarget?.value || '').trim();\n    if (targetName) {\n      const jsonData = {\n        ...options.jsonData,\n        [targetName]: targetValue,\n      };\n      onOptionsChange({ ...options, jsonData });\n    }\n  };\n\n  // Secure field (only sent to the backend)\n  onSecureJsonChange = (event: FormEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const targetName = event?.currentTarget?.name;\n    const targetValue = (event?.currentTarget?.value || '').trim();\n    if (targetName) {\n      onOptionsChange({\n        ...options,\n        secureJsonData: {\n          ...options.secureJsonData,\n          [targetName]: targetValue,\n        },\n      });\n    }\n  };\n\n  onResetSecureJson = (key: string) => {\n    const { onOptionsChange, options } = this.props;\n    if (key) {\n      onOptionsChange({\n        ...options,\n        secureJsonFields: {\n          ...options.secureJsonFields,\n          [key]: false,\n        },\n        secureJsonData: {\n          ...options.secureJsonData,\n          [key]: '',\n        },\n      });\n    }\n  };\n\n  render() {\n    const { options } = this.props;\n    const { jsonData, secureJsonFields, secureJsonData } = options;\n    return (\n      <>\n        <div>\n          <h3 className=\"page-heading\">Security Credentials</h3>\n          <div\n            className=\"card-item\"\n            style={{\n              position: 'relative',\n              marginTop: '16px',\n              padding: '16px',\n              WebkitBoxFlex: 1,\n              flexGrow: 1,\n              borderTop: '3px solid rgb(50, 115, 217)',\n            }}\n          >\n            <div>\n              <h4>Initialize Tencent Cloud Monitor Grafana App</h4>\n              <p>\n                To initialize the App and connect it to your Tencent Cloud service you will need a SecretId and a\n                SecretKey for you Tencent Cloud account.\n                <br />\n                <b>SecretId</b> is used to identify the identity of the API caller.\n                <br />\n                <b>SecretKey</b> is used to encrypt the signature and validate the signature of the server-side.\n              </p>\n            </div>\n            <div>\n              <h5>User Permission</h5>\n              <p>\n                If you are using a\n                <a\n                  className=\"highlight-word\"\n                  href=\"https://intl.cloud.tencent.com/document/product/598/13674\"\n                  target=\"_blank\"\n                  style={{ margin: '0 4px' }}\n                >\n                  sub-user\n                </a>\n                account, you should at least own read permission to the cloud products you wish to monitor.\n              </p>\n              <a className=\"highlight-word\" href=\"https://console.cloud.tencent.com/cam/capi\" target=\"_blank\">\n                Generate a new Tencent Cloud API key\n              </a>\n            </div>\n          </div>\n        </div>\n\n        <div style={{ marginTop: 20 }}>\n          <InlineFieldRow>\n            <InlineField label=\"SecretId\" labelWidth={20} required={true}>\n              <Input\n                width={50}\n                required={true}\n                value={jsonData.secretId}\n                name=\"secretId\"\n                onChange={this.onJsonDataChange}\n              />\n            </InlineField>\n          </InlineFieldRow>\n          <InlineFieldRow>\n            <SecretFormField\n              label=\"SecretKey\"\n              labelWidth={10}\n              inputWidth={25}\n              type=\"password\"\n              name=\"secretKey\"\n              value={secureJsonData?.secretKey || ''}\n              isConfigured={secureJsonFields?.secretKey}\n              onChange={this.onSecureJsonChange}\n              onReset={() => {\n                this.onResetSecureJson('secretKey');\n              }}\n            />\n          </InlineFieldRow>\n          <InlineFieldRow style={{ marginTop: '10px' }}>\n            <InlineField label={t('language')} labelWidth={20}>\n              <Select\n                value={jsonData.language || Language.Chinese}\n                className=\"width-10\"\n                options={[\n                  { value: Language.English, label: 'English' },\n                  { value: Language.Chinese, label: '简体中文' },\n                ]}\n                onChange={(option: SelectableValue<Language>) => {\n                  setLanguage(option.value);\n                  this.patchJsonData({\n                    language: option.value,\n                  });\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n          <InlineFieldRow style={{ marginTop: '10px' }}>\n            <InlineField label={t('enable_intranet_API_mode')} labelWidth={20}>\n              <InlineSwitch\n                value={jsonData.intranet}\n                onChange={(e) => {\n                  // onIntranetChange\n                  this.patchJsonData({\n                    intranet: e.currentTarget.checked,\n                  });\n                }}\n              />\n            </InlineField>\n          </InlineFieldRow>\n        </div>\n\n        {this.renderRUMConfig()}\n        {this.renderAPMConfig()}\n        {this.renderLogServiceConfig()}\n        {this.renderMonitorConfig()}\n      </>\n    );\n  }\n\n  renderRUMConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Real User Monitoring</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('RUM')}>\n            <InlineSwitch\n              value={jsonData.RUMServiceEnabled}\n              onChange={(e) => {\n                this.patchJsonData({\n                  RUMServiceEnabled: e.currentTarget.checked,\n                });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      </div>\n    );\n  }\n\n  renderAPMConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">APM Monitoring</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('APM')}>\n            <InlineSwitch\n              value={jsonData.APMServiceEnabled}\n              onChange={(e) => {\n                this.patchJsonData({\n                  APMServiceEnabled: e.currentTarget.checked,\n                });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n      </div>\n    );\n  }\n\n  renderLogServiceConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    const { isClsAlertVisiable } = this.state;\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Log Service</h3>\n        <InlineFieldRow>\n          <InlineField labelWidth={40} label={t('CLS')}>\n            <InlineSwitch\n              value={jsonData.logServiceEnabled}\n              onChange={(e) => {\n                const logServiceEnabled = e.currentTarget.checked;\n                this.patchJsonData({\n                  logServiceEnabled,\n                });\n                if (logServiceEnabled)\n                  this.setState({\n                    isClsAlertVisiable: true,\n                  });\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        {isClsAlertVisiable && <Alert severity=\"info\" title=\"如果是第一次开启 CLS 数据源，请保存后重启 Grafana\" />}\n      </div>\n    );\n  }\n\n  renderMonitorConfig() {\n    const { options } = this.props;\n    const { jsonData } = options;\n    const { monitorFilter } = this.state;\n    // 使用 product 表示云监控业务下的云产品\n    const filteredProducts = SERVICES.filter((item) => item.label.toLowerCase().includes(monitorFilter.toLowerCase()));\n    return (\n      <div style={{ marginTop: 30 }}>\n        <h3 className=\"page-heading\">Monitor Services</h3>\n        <InlineFieldRow style={{ marginBottom: 10 }}>\n          <InlineField>\n            <Input\n              placeholder=\"Input keyword to filter...\"\n              width={40}\n              value={monitorFilter}\n              onChange={(e) => {\n                this.setState({\n                  monitorFilter: e.currentTarget.value,\n                });\n              }}\n            />\n          </InlineField>\n          <InlineField label=\"Select All\" style={{ marginLeft: 20 }}>\n            <InlineSwitch\n              value={filteredProducts.every((product) => jsonData[product.service])}\n              onChange={(e) => {\n                const toChecked = e.currentTarget.checked;\n                const allCheckObject = {};\n                filteredProducts.forEach((product) => {\n                  allCheckObject[product.service] = toChecked;\n                });\n                this.patchJsonData(allCheckObject);\n              }}\n            />\n          </InlineField>\n        </InlineFieldRow>\n        {filteredProducts.map((product) => {\n          return (\n            <InlineFieldRow key={product.service}>\n              <InlineField\n                labelWidth={55}\n                label={product.label}\n                tooltip={\n                  <a target=\"_blank\" href={product.href}>\n                    {`Click here for more information of ${product.label}.`}\n                  </a>\n                }\n              >\n                <InlineSwitch\n                  value={Boolean(jsonData[product.service])}\n                  onChange={(e) => {\n                    this.patchJsonData({\n                      [product.service]: e.currentTarget.checked,\n                    });\n                  }}\n                />\n              </InlineField>\n            </InlineFieldRow>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\n// @grafana/ui 7.3.6版本不含 InlineSwitch 组件，这里打个补丁。提升最小支持版本后，可移除\nfunction InlineSwitch(props) {\n  return (\n    <div\n      style={{\n        padding: '0px 8px',\n        height: 32,\n        display: 'inline-flex',\n        WebkitBoxAlign: 'center',\n        alignItems: 'center',\n        // background: '#F4F5F5',\n        border: '1px solid rgba(204, 204, 220, 0.15)',\n        borderRadius: 2,\n      }}\n    >\n      <Switch {...props} />\n    </div>\n  );\n}\n","import { DataSourcePlugin } from '@grafana/data';\nimport { QueryEditor } from './QueryEditor';\nimport { VariableQueryEditor } from './VariableQueryEditor';\nimport { DataSource } from './DataSource';\nimport { ConfigEditor } from './config-editor/ConfigEditor';\n\nexport const plugin = new DataSourcePlugin<any>(DataSource)\n  .setQueryEditor(QueryEditor)\n  .setConfigEditor(ConfigEditor)\n  .setVariableQueryEditor(VariableQueryEditor);\n","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function catchError(selector) {\n    return function catchErrorOperatorFunction(source) {\n        var operator = new CatchOperator(selector);\n        var caught = source.lift(operator);\n        return (operator.caught = caught);\n    };\n}\nvar CatchOperator = /*@__PURE__*/ (function () {\n    function CatchOperator(selector) {\n        this.selector = selector;\n    }\n    CatchOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new CatchSubscriber(subscriber, this.selector, this.caught));\n    };\n    return CatchOperator;\n}());\nvar CatchSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(CatchSubscriber, _super);\n    function CatchSubscriber(destination, selector, caught) {\n        var _this = _super.call(this, destination) || this;\n        _this.selector = selector;\n        _this.caught = caught;\n        return _this;\n    }\n    CatchSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var result = void 0;\n            try {\n                result = this.selector(err, this.caught);\n            }\n            catch (err2) {\n                _super.prototype.error.call(this, err2);\n                return;\n            }\n            this._unsubscribeAndRecycle();\n            var innerSubscriber = new SimpleInnerSubscriber(this);\n            this.add(innerSubscriber);\n            var innerSubscription = innerSubscribe(result, innerSubscriber);\n            if (innerSubscription !== innerSubscriber) {\n                this.add(innerSubscription);\n            }\n        }\n    };\n    return CatchSubscriber;\n}(SimpleOuterSubscriber));\n//# sourceMappingURL=catchError.js.map\n","/** PURE_IMPORTS_START _scheduleObservable,_schedulePromise,_scheduleArray,_scheduleIterable,_util_isInteropObservable,_util_isPromise,_util_isArrayLike,_util_isIterable PURE_IMPORTS_END */\nimport { scheduleObservable } from './scheduleObservable';\nimport { schedulePromise } from './schedulePromise';\nimport { scheduleArray } from './scheduleArray';\nimport { scheduleIterable } from './scheduleIterable';\nimport { isInteropObservable } from '../util/isInteropObservable';\nimport { isPromise } from '../util/isPromise';\nimport { isArrayLike } from '../util/isArrayLike';\nimport { isIterable } from '../util/isIterable';\nexport function scheduled(input, scheduler) {\n    if (input != null) {\n        if (isInteropObservable(input)) {\n            return scheduleObservable(input, scheduler);\n        }\n        else if (isPromise(input)) {\n            return schedulePromise(input, scheduler);\n        }\n        else if (isArrayLike(input)) {\n            return scheduleArray(input, scheduler);\n        }\n        else if (isIterable(input) || typeof input === 'string') {\n            return scheduleIterable(input, scheduler);\n        }\n    }\n    throw new TypeError((input !== null && typeof input || input) + ' is not observable');\n}\n//# sourceMappingURL=scheduled.js.map\n","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function isInteropObservable(input) {\n    return input && typeof input[Symbol_observable] === 'function';\n}\n//# sourceMappingURL=isInteropObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_observable PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport function scheduleObservable(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            var observable = input[Symbol_observable]();\n            sub.add(observable.subscribe({\n                next: function (value) { sub.add(scheduler.schedule(function () { return subscriber.next(value); })); },\n                error: function (err) { sub.add(scheduler.schedule(function () { return subscriber.error(err); })); },\n                complete: function () { sub.add(scheduler.schedule(function () { return subscriber.complete(); })); },\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleObservable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function schedulePromise(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        sub.add(scheduler.schedule(function () {\n            return input.then(function (value) {\n                sub.add(scheduler.schedule(function () {\n                    subscriber.next(value);\n                    sub.add(scheduler.schedule(function () { return subscriber.complete(); }));\n                }));\n            }, function (err) {\n                sub.add(scheduler.schedule(function () { return subscriber.error(err); }));\n            });\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=schedulePromise.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nexport function scheduleArray(input, scheduler) {\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var i = 0;\n        sub.add(scheduler.schedule(function () {\n            if (i === input.length) {\n                subscriber.complete();\n                return;\n            }\n            subscriber.next(input[i++]);\n            if (!subscriber.closed) {\n                sub.add(this.schedule());\n            }\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleArray.js.map\n","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function isIterable(input) {\n    return input && typeof input[Symbol_iterator] === 'function';\n}\n//# sourceMappingURL=isIterable.js.map\n","/** PURE_IMPORTS_START _Observable,_Subscription,_symbol_iterator PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { Subscription } from '../Subscription';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport function scheduleIterable(input, scheduler) {\n    if (!input) {\n        throw new Error('Iterable cannot be null');\n    }\n    return new Observable(function (subscriber) {\n        var sub = new Subscription();\n        var iterator;\n        sub.add(function () {\n            if (iterator && typeof iterator.return === 'function') {\n                iterator.return();\n            }\n        });\n        sub.add(scheduler.schedule(function () {\n            iterator = input[Symbol_iterator]();\n            sub.add(scheduler.schedule(function () {\n                if (subscriber.closed) {\n                    return;\n                }\n                var value;\n                var done;\n                try {\n                    var result = iterator.next();\n                    value = result.value;\n                    done = result.done;\n                }\n                catch (err) {\n                    subscriber.error(err);\n                    return;\n                }\n                if (done) {\n                    subscriber.complete();\n                }\n                else {\n                    subscriber.next(value);\n                    this.schedule();\n                }\n            }));\n        }));\n        return sub;\n    });\n}\n//# sourceMappingURL=scheduleIterable.js.map\n","/** PURE_IMPORTS_START tslib,_map,_observable_from,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { map } from './map';\nimport { from } from '../observable/from';\nimport { SimpleOuterSubscriber, SimpleInnerSubscriber, innerSubscribe } from '../innerSubscribe';\nexport function mergeMap(project, resultSelector, concurrent) {\n    if (concurrent === void 0) {\n        concurrent = Number.POSITIVE_INFINITY;\n    }\n    if (typeof resultSelector === 'function') {\n        return function (source) { return source.pipe(mergeMap(function (a, i) { return from(project(a, i)).pipe(map(function (b, ii) { return resultSelector(a, b, i, ii); })); }, concurrent)); };\n    }\n    else if (typeof resultSelector === 'number') {\n        concurrent = resultSelector;\n    }\n    return function (source) { return source.lift(new MergeMapOperator(project, concurrent)); };\n}\nvar MergeMapOperator = /*@__PURE__*/ (function () {\n    function MergeMapOperator(project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        this.project = project;\n        this.concurrent = concurrent;\n    }\n    MergeMapOperator.prototype.call = function (observer, source) {\n        return source.subscribe(new MergeMapSubscriber(observer, this.project, this.concurrent));\n    };\n    return MergeMapOperator;\n}());\nexport { MergeMapOperator };\nvar MergeMapSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(MergeMapSubscriber, _super);\n    function MergeMapSubscriber(destination, project, concurrent) {\n        if (concurrent === void 0) {\n            concurrent = Number.POSITIVE_INFINITY;\n        }\n        var _this = _super.call(this, destination) || this;\n        _this.project = project;\n        _this.concurrent = concurrent;\n        _this.hasCompleted = false;\n        _this.buffer = [];\n        _this.active = 0;\n        _this.index = 0;\n        return _this;\n    }\n    MergeMapSubscriber.prototype._next = function (value) {\n        if (this.active < this.concurrent) {\n            this._tryNext(value);\n        }\n        else {\n            this.buffer.push(value);\n        }\n    };\n    MergeMapSubscriber.prototype._tryNext = function (value) {\n        var result;\n        var index = this.index++;\n        try {\n            result = this.project(value, index);\n        }\n        catch (err) {\n            this.destination.error(err);\n            return;\n        }\n        this.active++;\n        this._innerSub(result);\n    };\n    MergeMapSubscriber.prototype._innerSub = function (ish) {\n        var innerSubscriber = new SimpleInnerSubscriber(this);\n        var destination = this.destination;\n        destination.add(innerSubscriber);\n        var innerSubscription = innerSubscribe(ish, innerSubscriber);\n        if (innerSubscription !== innerSubscriber) {\n            destination.add(innerSubscription);\n        }\n    };\n    MergeMapSubscriber.prototype._complete = function () {\n        this.hasCompleted = true;\n        if (this.active === 0 && this.buffer.length === 0) {\n            this.destination.complete();\n        }\n        this.unsubscribe();\n    };\n    MergeMapSubscriber.prototype.notifyNext = function (innerValue) {\n        this.destination.next(innerValue);\n    };\n    MergeMapSubscriber.prototype.notifyComplete = function () {\n        var buffer = this.buffer;\n        this.active--;\n        if (buffer.length > 0) {\n            this._next(buffer.shift());\n        }\n        else if (this.active === 0 && this.hasCompleted) {\n            this.destination.complete();\n        }\n    };\n    return MergeMapSubscriber;\n}(SimpleOuterSubscriber));\nexport { MergeMapSubscriber };\nexport var flatMap = mergeMap;\n//# sourceMappingURL=mergeMap.js.map\n","/** PURE_IMPORTS_START _Observable,_util_subscribeTo,_scheduled_scheduled PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { subscribeTo } from '../util/subscribeTo';\nimport { scheduled } from '../scheduled/scheduled';\nexport function from(input, scheduler) {\n    if (!scheduler) {\n        if (input instanceof Observable) {\n            return input;\n        }\n        return new Observable(subscribeTo(input));\n    }\n    else {\n        return scheduled(input, scheduler);\n    }\n}\n//# sourceMappingURL=from.js.map\n"],"sourceRoot":""}