{"version":3,"sources":["webpack://TencentCloudMonitorGrafanaApp/webpack/bootstrap","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/formats.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/index.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/parse.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/stringify.js","webpack://TencentCloudMonitorGrafanaApp/../node_modules/qs/lib/utils.js","webpack://TencentCloudMonitorGrafanaApp/./components/config.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/constants.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/datasourceStorage.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/indexedDB.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/sign.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/signV2.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/common/utils.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor sync ^.*$","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor sync ^\\.\\/[a-zA-Z]\\w+\\/(datasource)|(query(_def)","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/MonitorDatasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/_base/query_filter.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/apigateway/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bmIntraLb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bm_pcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/bwp/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cbs/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cdn_province/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ceip_summary/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ces/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cfs/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ckafka/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/clb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cls/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cmq_topic/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cos/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cos/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cpm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cvm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/cynosdb_mysql/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dc/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcdb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcg/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/dcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_block_storage/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ecm_lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/gse/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/index.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/lighthouse/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mongodb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/mr/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/nat_gateway/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/ov_cdn/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/pcx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/postgresql/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/qaap/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/redis_mem/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/scf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/sqlserver/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tcaplus/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tdmq_rocketmq/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tke/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/tsf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/v_clb/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vbc/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpc_net_detect/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpngw/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/vpnx/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/datasource.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/query.ts","webpack://TencentCloudMonitorGrafanaApp/./datasource/tc_monitor/waf/query_def.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/en_US.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/index.ts","webpack://TencentCloudMonitorGrafanaApp/./locale/zh_CN.ts","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/data\"","webpack://TencentCloudMonitorGrafanaApp/external \"@grafana/runtime\"","webpack://TencentCloudMonitorGrafanaApp/external \"app/core/core_module\"","webpack://TencentCloudMonitorGrafanaApp/external \"lodash\"","webpack://TencentCloudMonitorGrafanaApp/external \"moment\""],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;ACjBa;;AAEb,gBAAgB,mBAAO,CAAC,wDAAa;AACrC,YAAY,mBAAO,CAAC,gDAAS;AAC7B,cAAc,mBAAO,CAAC,oDAAW;;AAEjC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVa;;AAEb,YAAY,mBAAO,CAAC,gDAAS;;AAE7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wCAAwC;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7Ka;;AAEb,YAAY,mBAAO,CAAC,gDAAS;AAC7B,cAAc,mBAAO,CAAC,oDAAW;;AAEjC;AACA,yCAAyC;AACzC;AACA,KAAK;AACL,4CAA4C;AAC5C;AACA,KAAK;AACL,qCAAqC;AACrC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wCAAwC;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACjNa;;AAEb;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB,OAAO,WAAW,aAAa;AACjD;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;;AAEA;AACA,uBAAuB,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;;AACF,SAAK,GAAL;AACE,aAAO,MAAM,GAAG,IAAT,GAAgB,IAAvB;;AACF,SAAK,GAAL;AACE,aAAO,MAAM,GAAG,EAAT,GAAc,IAArB;;AACF,SAAK,GAAL;AACE,aAAO,MAAM,GAAG,IAAhB;AARJ;;AAUA,SAAO,CAAP;AACD,CAlBM,C;;;;;;;;;;;;;;;;;;;;;;ACtIP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kE;;;;;;;;;;;AC3WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qH;;;;;;;;;;;;ACjPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAeA;AAAA;AAAA;AAAA;;AAKE;AACA,+BAAY,gBAAZ,EAA8B,UAA9B,EAA0C,WAA1C,EAAqD;AAArD;;AACE,SAAK,gBAAL,GAAwB,gBAAxB;AACA,SAAK,UAAL,GAAkB,UAAlB;AACA,SAAK,WAAL,GAAmB,WAAnB;;AACA,iDAAC,CAAC,OAAF,CAAU,kDAAV,EAAuB,UAAC,MAAD,EAAc,GAAd,EAAiB;AACtC,WAAI,CAAC,GAAD,CAAJ,GAAY,IAAI,MAAJ,CAAW,KAAI,CAA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","file":"components/config.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./components/config.ts\");\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","import { PluginMeta } from '@grafana/data';\nimport { config, getBackendSrv } from '@grafana/runtime';\nimport { TcDataSourceId } from '../datasource/common/constants';\n\nconst backendSrv = getBackendSrv();\n\nconst tcFolder = {\n  uid: 'tencent-cloud-monitor',\n  title: '腾讯云监控',\n  folderId: null,\n};\n\nconst tcFolder_EN = {\n  uid: 'tencent-cloud-monitor-english',\n  title: 'Tencent Cloud Monitor',\n  folderId: null,\n};\n\n/**\n * 生成腾讯云专用目录\n * @returns\n */\nasync function getFolderId() {\n  if (tcFolder.folderId && tcFolder_EN.folderId) {\n    return [tcFolder.folderId, tcFolder_EN.folderId];\n  }\n  const folders: any[] = await backendSrv.get('/api/folders');\n  let folderId = folders.find((item) => item.uid === tcFolder.uid)?.id;\n  let folderEnId = folders.find((item) => item.uid === tcFolder_EN.uid)?.id;\n  if (!folderId) {\n    const folder = await backendSrv.post('/api/folders', tcFolder);\n    folderId = folder?.id || 0;\n  }\n  if (!folderEnId) {\n    const folderEn = await backendSrv.post('/api/folders', tcFolder_EN);\n    folderEnId = folderEn?.id || 0;\n  }\n  tcFolder.folderId = folderId;\n  tcFolder_EN.folderId = folderEnId;\n  return [folderId, folderEnId];\n}\n\n/**\n * 请求拦截器，拦截导入按钮的接口请求\n */\nfunction backendInterceptor() {\n  const oldPost = backendSrv.post.bind(getBackendSrv());\n  const pluginId = window.location.pathname.split('/').filter((item) => item)[1];\n  backendSrv.post = async (url, data) => {\n    // 拦截判断：拦截指定接口\n    if (url === '/api/dashboards/import' && data.pluginId === pluginId) {\n      const [folderId, folderEnId] = await getFolderId();\n      data.folderId = data.path.endsWith('_en_dashboard.json') ? folderEnId : folderId;\n    }\n    return oldPost(url, data);\n  };\n}\n\nbackendInterceptor();\n\nexport class MonitorAppConfigCtrl {\n  static templateUrl = 'components/config.html';\n  appEditCtrl: any;\n  appModel?: PluginMeta;\n  $q: any;\n  configured: boolean;\n\n  /** @ngInject */\n  constructor($scope: any, $injector: any, $q: any) {\n    this.appEditCtrl.setPostUpdateHook(this.postUpdate.bind(this));\n    this.$q = $q;\n    // Make sure it has a JSON Data spot\n    if (!this.appModel) {\n      // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n      this.appModel = {} as PluginMeta;\n    }\n\n    // Required until we get the types sorted on appModel :(\n    const appModel = this.appModel as any;\n    if (!appModel.jsonData) {\n      appModel.jsonData = {};\n    }\n    this.configured = false;\n    if (this.appModel?.enabled) {\n      const datasources = Object.values(config.datasources).filter((ds) => {\n        return ds.type === TcDataSourceId;\n      });\n      if (datasources.length > 0) {\n        this.configured = true;\n      }\n    }\n  }\n\n  async moveToFolder(dashbaordUid: string, folderId: number) {\n    // 获取dashboard\n    const { dashboard } = await backendSrv.get(`/api/dashboards/uid/${dashbaordUid}`);\n    // 移动目录\n    await backendSrv.post('/api/dashboards/db/', {\n      dashboard,\n      folderId,\n      message: '',\n      overwrite: true,\n    });\n  }\n\n  async reviseDashboard() {\n    // 1. 生成腾讯云目录\n    const [folderId, folderEnId] = await getFolderId();\n    // 2. 获取所有腾讯云插件下的dashboard\n    const rs = await backendSrv.get(`/api/plugins/${this.appModel?.id}/dashboards`);\n\n    // 3. 调用api更新dashboard\n    const pmlist = rs.map((item) => {\n      const { importedUrl, path } = item;\n      const uid = importedUrl.split('/')[2];\n      if (uid) {\n        return this.moveToFolder(uid, path.endsWith('_en_dashboard.json') ? folderEnId : folderId);\n      } else {\n        return Promise.resolve();\n      }\n    });\n\n    return Promise.all(pmlist);\n  }\n\n  async postUpdate() {\n    if (!this.appModel?.enabled) {\n      return;\n    }\n    // enable或者update时，对预设dashboard进行修改\n    await this.reviseDashboard();\n    return this.$q.resolve(true);\n  }\n}\n","import _ from 'lodash';\nimport qs from 'qs';\nimport { SERVICES } from '../tc_monitor';\nimport Sign from './sign';\nimport SignV2 from './signV2';\nimport { toDataQueryResponse } from '@grafana/runtime';\nimport { getLanguage } from '../../locale';\n\nimport packageInfo from '../plugin.json';\nexport const TcDataSourceId = packageInfo.id;\n\n// the services of tencentcloud monitor api\nconst FINACE_REGIONS = ['ap-shanghai-fsi', 'ap-shenzhen-fsi'];\nconst SERVICES_API_INFO = {\n  api: {\n    service: 'api',\n    version: '2020-11-06',\n    path: '/api',\n    host: 'api.tencentcloudapi.com',\n  },\n  // monitor api info\n  monitor: {\n    service: 'monitor',\n    version: '2018-07-24',\n    path: '/monitor',\n    host: 'monitor.tencentcloudapi.com',\n  },\n  // cls api info\n  cls: {\n    service: 'cls',\n    version: '2020-10-16',\n    path: '/cls',\n    host: 'cls.tencentcloudapi.com',\n  },\n  // cvm api info\n  cvm: {\n    service: 'cvm',\n    version: '2017-03-12',\n    path: '/cvm',\n    host: 'cvm.tencentcloudapi.com',\n  },\n  // cdb api info\n  cdb: {\n    service: 'cdb',\n    version: '2017-03-20',\n    path: '/cdb',\n    host: 'cdb.tencentcloudapi.com',\n  },\n  // pcx api info\n  pcx: {\n    service: 'pcx',\n    version: '',\n    path: '/pcx',\n    host: 'vpc.api.qcloud.com',\n  },\n  // vpc api info\n  vpc: {\n    service: 'vpc',\n    version: '2017-03-12',\n    path: '/vpc',\n    host: 'vpc.tencentcloudapi.com',\n  },\n  // mongodb api info\n  mongodb: {\n    service: 'mongodb',\n    version: '2019-07-25',\n    path: '/mongodb',\n    host: 'mongodb.tencentcloudapi.com',\n  },\n  // 负载均衡 clb\n  clb: {\n    service: 'clb',\n    version: '2018-03-17',\n    path: '/clb',\n    host: 'clb.tencentcloudapi.com',\n  },\n  // postgresql api info\n  postgres: {\n    service: 'postgres',\n    version: '2017-03-12',\n    path: '/postgres',\n    host: 'postgres.tencentcloudapi.com',\n  },\n  // cdn info\n  cdn: {\n    service: 'cdn',\n    version: '2018-06-06',\n    path: '/cdn',\n    host: 'cdn.tencentcloudapi.com',\n  },\n  // redis info\n  redis: {\n    service: 'redis',\n    version: '2018-04-12',\n    path: '/redis',\n    host: 'redis.tencentcloudapi.com',\n  },\n  scf: {\n    service: 'scf',\n    version: '2018-04-16',\n    path: '/scf',\n    host: 'scf.tencentcloudapi.com',\n  },\n  cfs: {\n    service: 'cfs',\n    version: '2019-07-19',\n    path: '/cfs',\n    host: 'cfs.tencentcloudapi.com',\n  },\n  ckafka: {\n    service: 'ckafka',\n    version: '2019-08-19',\n    path: '/ckafka',\n    host: 'ckafka.tencentcloudapi.com',\n  },\n  // 专线接入实例列表\n  dc: {\n    service: 'dc',\n    version: '2018-04-10',\n    path: '/dc',\n    host: 'dc.tencentcloudapi.com',\n  },\n  // cynosdb实例列表\n  cynosdb: {\n    service: 'cynosdb',\n    version: '2019-01-07',\n    path: '/cynosdb',\n    host: 'cynosdb.tencentcloudapi.com',\n  },\n  // sqlserver实例列表\n  sqlserver: {\n    service: 'sqlserver',\n    version: '2018-03-28',\n    path: '/sqlserver',\n    host: 'sqlserver.tencentcloudapi.com',\n  },\n  // bm实例列表\n  bm: {\n    service: 'bm',\n    version: '2018-04-23',\n    path: '/bm',\n    host: 'bm.tencentcloudapi.com',\n  },\n  bmeip: {\n    service: 'bmeip',\n    version: '2018-06-25',\n    path: '/bmeip',\n    host: 'bmeip.tencentcloudapi.com',\n  },\n  bmvpc: {\n    service: 'bmvpc',\n    version: '2018-06-25',\n    path: '/bmvpc',\n    host: 'bmvpc.tencentcloudapi.com',\n  },\n  bmlb: {\n    service: 'bmlb',\n    version: '2018-06-25',\n    path: '/bmlb',\n    host: 'bmlb.tencentcloudapi.com',\n  },\n  // ES集群实例\n  es: {\n    service: 'es',\n    version: '2018-04-16',\n    path: '/es',\n    host: 'es.tencentcloudapi.com',\n  },\n  // MapReduce\n  emr: {\n    service: 'emr',\n    version: '2019-01-03',\n    path: '/emr',\n    host: 'emr.tencentcloudapi.com',\n  },\n  // CMQ消息队列\n  cmq: {\n    service: 'cmq',\n    version: '2019-03-04',\n    path: '/cmq',\n    host: 'cmq.tencentcloudapi.com',\n  },\n  cbs: {\n    service: 'cbs',\n    version: '2017-03-12',\n    path: '/cbs',\n    host: 'cbs.tencentcloudapi.com',\n  },\n  // tcaplus实例\n  tcaplusdb: {\n    service: 'tcaplusdb',\n    version: '2019-08-23',\n    path: '/tcaplusdb',\n    host: 'tcaplusdb.tencentcloudapi.com',\n  },\n  // tcaplus实例\n  dcdb: {\n    service: 'dcdb',\n    version: '2018-04-11',\n    path: '/dcdb',\n    host: 'dcdb.tencentcloudapi.com',\n  },\n  // apigateway实例\n  apigateway: {\n    service: 'apigateway',\n    version: '2018-08-08',\n    path: '/apigateway',\n    host: 'apigateway.tencentcloudapi.com',\n  },\n  tdmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  tdmq_rabbitmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  tdmq_rocketmq: {\n    service: 'tdmq',\n    version: '2020-02-17',\n    path: '/tdmq',\n    host: 'tdmq.tencentcloudapi.com',\n  },\n  gaap: {\n    service: 'gaap',\n    version: '2018-05-29',\n    path: '/gaap',\n    host: 'gaap.tencentcloudapi.com',\n  },\n  ecm: {\n    service: 'ecm',\n    version: '2019-07-19',\n    path: '/ecm',\n    host: 'ecm.tencentcloudapi.com',\n  },\n  gse: {\n    service: 'gse',\n    version: '2019-11-12',\n    path: '/gse',\n    host: 'gse.tencentcloudapi.com',\n  },\n  lighthouse: {\n    service: 'lighthouse',\n    version: '2020-03-24',\n    path: '/lighthouse',\n    host: 'lighthouse.tencentcloudapi.com',\n  },\n  tsf: {\n    service: 'tsf',\n    version: '2018-03-26',\n    path: '/tsf',\n    host: 'tsf.tencentcloudapi.com',\n  },\n  rum: {\n    service: 'rum',\n    version: '2021-06-22',\n    path: '/rum',\n    host: 'rum.tencentcloudapi.com',\n  },\n  tke: {\n    service: 'tke',\n    version: '2018-05-25',\n    path: '/tke',\n    host: 'tke.tencentcloudapi.com',\n  },\n  ecdn: {\n    service: 'ecdn',\n    version: '2019-10-12',\n    path: '/ecdn',\n    host: 'ecdn.tencentcloudapi.com',\n  },\n  waf: {\n    service: 'waf',\n    version: '2018-01-25',\n    path: '/waf',\n    host: 'waf.tencentcloudapi.com',\n  },\n  region: {\n    service: 'region',\n    version: '2022-06-27',\n    path: '/region',\n    host: 'region.tencentcloudapi.com',\n  },\n  apm: {\n    service: 'apm',\n    version: '2021-06-22',\n    path: '/apm',\n    host: 'apm.tencentcloudapi.com',\n  },\n  // 不单独定义lb，因为lb同样用的是vpc的配置，同上\n  // lb: {\n  //   service: 'lb',\n  //   version: '2017-03-12',\n  //   path: '/lb',\n  //   host: 'vpc.tencentcloudapi.com'\n  // }\n  // 负载均衡四层协议 lbPrivate\n  // lbPrivate: {\n  //   service: 'lbPrivate',\n  //   version: '2018-03-17',\n  //   path: '/clb',\n  //   host: 'clb.tencentcloudapi.com',\n  // },\n};\n\nconst FINACE_HOST = {\n  scf: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/scf/shanghai',\n      host: 'scf.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/scf/shenzhen',\n      host: 'scf.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cfs: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cfs/shanghai',\n      host: 'cfs.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cfs/shenzhen',\n      host: 'cfs.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  ckafka: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/ckafka/shanghai',\n      host: 'ckafka.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/ckafka/shenzhen',\n      host: 'ckafka.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  clb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/clb/shanghai',\n      host: 'clb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/clb/shenzhen',\n      host: 'clb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  mongodb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/mongodb/shanghai',\n      host: 'mongodb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/mongodb/shenzhen',\n      host: 'mongodb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  vpc: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/vpc/shanghai',\n      host: 'vpc.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/vpc/shenzhen',\n      host: 'vpc.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cvm: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cvm/shanghai',\n      host: 'cvm.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cvm/shenzhen',\n      host: 'cvm.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cdb: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cdb/shanghai',\n      host: 'cdb.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cdb/shenzhen',\n      host: 'cdb.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  monitor: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/monitor/shanghai',\n      host: 'monitor.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/monitor/shenzhen',\n      host: 'monitor.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  postgres: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/postgres/shanghai',\n      host: 'postgres.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/postgres/shenzhen',\n      host: 'postgres.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  emr: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/emr/shanghai',\n      host: 'emr.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/emr/shenzhen',\n      host: 'emr.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cmq: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cmq/shanghai',\n      host: 'cmq.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cmq/shenzhen',\n      host: 'cmq.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n  cls: {\n    'ap-shanghai-fsi': {\n      path: '/fsi/cls/shanghai',\n      host: 'cls.ap-shanghai-fsi.tencentcloudapi.com',\n    },\n    'ap-shenzhen-fsi': {\n      path: '/fsi/cls/shenzhen',\n      host: 'cls.ap-shenzhen-fsi.tencentcloudapi.com',\n    },\n  },\n};\n\n// 获取对应业务的 API 接口信息\nexport function GetServiceAPIInfo(region, service) {\n  return { ...(SERVICES_API_INFO[service] || {}), ...getHostAndPath(region, service) };\n}\n\n// get host and path for finance regions\nfunction getHostAndPath(region, service) {\n  if (_.indexOf(FINACE_REGIONS, region) === -1) {\n    return {};\n  }\n  return (\n    _.find(\n      _.find(FINACE_HOST, (__, key) => key === service),\n      (__, key) => key === region\n    ) || {}\n  );\n}\n\n// 变量替换指定实例按照那个字段展示\nexport const VARIABLE_ALIAS = 'instancealias';\n\nexport function GetServiceFromNamespace(namespace) {\n  return _.get(\n    _.find(SERVICES, (service) => service.namespace === namespace),\n    'service'\n  );\n}\n// 处理存量target中保存的qce/cvm\nexport function GetLabelFromNamespace(namespace) {\n  return _.get(\n    _.find(SERVICES, (service) => service.namespace === namespace || service.label === namespace),\n    'label'\n  );\n}\n// parse template variable query params\nexport function ParseMetricQuery(query = '') {\n  if (!query) {\n    return {};\n  }\n  const result = {};\n  const queries = _.split(query, '&');\n  _.forEach(queries, (item) => {\n    const str = _.split(item, '=');\n    if (_.trim(_.get(str, '0', ''))) {\n      let val = _.trim(_.get(str, '1', ''));\n      try {\n        val = JSON.parse(val);\n      } catch (e) {\n        // console.log({ val });\n      }\n      result[_.toLower(_.trim(_.get(str, '0', '')))] = val;\n    }\n  });\n  return result;\n}\n\n// parse template variable regex params\nexport function ParseMetricRegex(regex = '') {\n  if (!regex) {\n    return [];\n  }\n  regex = regex.replace(/：/g, ':');\n  regex = regex.replace(/，/g, ',');\n  const regexParams = ParseMetricQuery(regex);\n  const result: any[] = [];\n  _.forEach(regexParams, (value, key) => {\n    if (key === 'tag:tag-key') {\n      const valuesArr = _.split(value, ',');\n      _.forEach(valuesArr, (item) => {\n        const temp = _.split(item, ':');\n        if (temp.length === 2) {\n          result.push({ Name: `tag:${temp[0]}`, Values: temp.slice(1) });\n        }\n      });\n    } else {\n      result.push({ Name: key, Values: _.split(value, ',') });\n    }\n  });\n  return result;\n}\n\n// get the actual value of template variable\nfunction parseVariableFormat(varname: string) {\n  varname = String(varname || '');\n  // $varname\n  let varFlag = false;\n  const regResult1 = varname.match(/^\\${?(\\w+)}?/);\n  if (regResult1) {\n    varFlag = true;\n    varname = `\\$\\{${regResult1[1]}\\:json\\}`;\n  }\n  // [[varname]]\n  const regResult2 = varname.match(/^\\[\\[(\\w+)(\\:\\w+)?\\]\\]/);\n  if (regResult2) {\n    varFlag = true;\n    varname = `\\$\\{${regResult2[1]}\\:json\\}`;\n  }\n  return { varname, varFlag };\n}\n\nexport function ReplaceVariable(templateSrv, scopedVars, field, multiple = false) {\n  const { varname, varFlag } = parseVariableFormat(field);\n  let replaceVar = templateSrv.replace(varname, scopedVars);\n  if (varFlag) {\n    try {\n      replaceVar = JSON.parse(replaceVar);\n    } catch (error) {}\n  }\n  if (!multiple && _.isArray(replaceVar)) {\n    replaceVar = _.get(replaceVar, '0', '');\n  }\n  return replaceVar;\n}\n\n// get dimensions for instance query param\nexport function GetDimensions(obj) {\n  if (_.isEmpty(obj)) {\n    return [];\n  }\n  const dimensions: any[] = [];\n  _.forEach(obj, (item) => {\n    if (item.Value !== null && item.Value !== undefined && item.Value !== '') {\n      dimensions.push({ Name: item.Name, Value: typeof item.Value === 'string' ? item.Value : `${item.Value}` });\n    }\n  });\n  return dimensions;\n}\n\n// parse query data result for panel\nexport function ParseQueryResult(response, instances: any[] = [], timeshift = 0) {\n  const instanceList = _.cloneDeep(instances);\n\n  const dataPoints = _.get(response, 'DataPoints', []);\n  return _.map(dataPoints, (dataPoint) => {\n    let instanceAliasValue = _.get(dataPoint, 'Dimensions[0].Value');\n    for (let i = 0; i < instanceList.length; i++) {\n      if (isInstanceMatch(instanceList[i], _.get(dataPoint, 'Dimensions', []))) {\n        instanceAliasValue = instanceList[i]._InstanceAliasValue;\n        instanceList.splice(i, 1);\n        break;\n      }\n    }\n    return {\n      target: `${response.MetricName} - ${instanceAliasValue}`,\n      datapoints: parseDataPoint(dataPoint, timeshift),\n    };\n  });\n}\n\n// parse tencent cloud monitor response data to grafana panel data\nfunction parseDataPoint(dataPoint, timeshift = 0) {\n  const timestamps = _.get(dataPoint, 'Timestamps', []);\n  const values = _.get(dataPoint, 'Values', []);\n  const result = timestamps.map((timestamp, index) => {\n    return [values[index], timestamp * 1000 + timeshift];\n  });\n\n  return result;\n}\n\n// check whether instance is match or not\nfunction isInstanceMatch(instance, dimensions) {\n  let match = true;\n  // eslint-disable-next-line @typescript-eslint/prefer-for-of\n  for (let i = 0; i < dimensions.length; i++) {\n    if (_.get(instance, dimensions[i].Name, '').toString() !== dimensions[i].Value.toString()) {\n      match = false;\n      break;\n    }\n  }\n  return match;\n}\n\n/**\n * 检查某个变量是否模板变量，即是否匹配 ${varnam} 或 [[varname]]\n *\n * @param field 变量字段名\n */\nexport function isVariable(value) {\n  if (value && (value.match(/^\\${?(\\w+)}?/) || value.match(/^\\[\\[(\\w+)(\\:\\w+)?\\]\\]/))) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * 腾讯云 API 3.0 接口协议\n * @param options 接口请求对象 { url: string, data?: object }\n * @param service 产品名字 'cvm'\n * @param signObj 接口请求相关信息 { region?: string, action: string }\n * @param secretId\n * @param secretKey\n */\nexport async function GetRequestParams(options, service, signObj: any = {}, secretId, datasourceId, backendSrv) {\n  const signParams = {\n    secretId,\n    payload: options.data || '',\n    ...signObj,\n    ...(_.pick(GetServiceAPIInfo(signObj.region || '', service), ['service', 'host', 'version']) || {}),\n    backendSrv,\n    datasourceId,\n    region: 'ap-guangzhou',\n  };\n  const sign = new Sign(signParams);\n  const { intranet, ...headerSigned } = await sign.getHeader();\n  // 传入x-tc-language实现国际化\n  // zh-CN en-US ko-KR ja-JP\n  options.headers = Object.assign(options.headers || {}, { ...headerSigned }, { 'x-tc-language': getLanguage() });\n  options.method = 'POST';\n  if (intranet) {\n    options.url += '-internal';\n  }\n  return options;\n}\n\n/**\n *  腾讯云 API 2.0 接口协议\n * @param options 接口请求对象 { url: string, data?: object }\n * @param service 产品名字 'cvm'\n * @param signObj 接口请求相关信息 { region?: string, action: string }\n * @param secretId\n * @param secretKey\n */\nexport async function GetRequestParamsV2(\n  options: any = {},\n  service,\n  signObj: any = {},\n  secretId,\n  datasourceId,\n  backendSrv\n) {\n  const data = options.data || {};\n  const signParams = {\n    secretId,\n    data,\n    ...signObj,\n    ...(_.pick(GetServiceAPIInfo(signObj.region || '', service), ['host', 'version']) || {}),\n    backendSrv,\n    datasourceId,\n  };\n  options.method = 'POST';\n  const sign = new SignV2(signParams);\n  options.headers = Object.assign(options.headers || {}, { 'Content-Type': 'application/x-www-form-urlencoded' });\n  const { queryString, path, host, intranet } = await sign.generateQueryString();\n  options.data = qs.stringify({\n    ...options.data,\n    ...queryString,\n    ...(host && { host: host }),\n  });\n  if (intranet) {\n    // TODO: qcloud.com intranet host\n    console.log('got intranet for sign v2');\n  }\n  options.url += path;\n  return options;\n}\n\nexport function SliceLength(total = 0, len = 1) {\n  const result: any[] = [];\n  const num = Math.ceil(total / len);\n  for (let i = 1; i < num; i++) {\n    result.push({ Offset: len * i });\n  }\n  return result;\n}\n\nexport const FilterKeys = ['Namespace', 'Offset', 'Limit', 'SearchKey', 'Description', 'OrderBy', 'Order'];\n\nexport function parseDataFromBackendPlugin(res) {\n  const { data } = toDataQueryResponse(res);\n  return {\n    authorization: _.get(data, '[0].meta.custom', ''),\n  };\n}\n\n/** 当前环境是否为非生产环境 */\nexport const IS_DEVELOPMENT_ENVIRONMENT = !(process.env.NODE_ENV === 'production');\n\n/**\n * @link https://github.com/grafana/grafana/blob/3c6e0e8ef85048af952367751e478c08342e17b4/packages/grafana-data/src/types/app.ts#L12\n */\nexport enum CoreApp {\n  CloudAlerting = 'cloud-alerting',\n  UnifiedAlerting = 'unified-alerting',\n  Dashboard = 'dashboard',\n  Explore = 'explore',\n  Unknown = 'unknown',\n  PanelEditor = 'panel-editor',\n  PanelViewer = 'panel-viewer',\n}\n","import indexedDB from './indexedDB';\nclass InstanceStorage {\n  // prefix = 'Datasource';\n  // storageKey = 'grafanaInstanceCache';\n  insKey = 'Instances';\n  cacheWay = '';\n  constructor() {}\n  setInstance(service: string, value: Record<string, any>) {\n    return this.setStorage(service, this.insKey, value, true);\n  }\n  async getInstance(service: string) {\n    return this.getStorage(service, this.insKey);\n  }\n  setExtraStorage(service: string, Ekey: string, EValue: Record<string, any>) {\n    return this.setStorage(service, Ekey, EValue, false);\n  }\n  async getExtraStorage(service: string, Ekey: string) {\n    return this.getStorage(service, Ekey);\n  }\n  private setStorage(serviceKey: string, key: string, value: Record<string, any>, isCover = false) {\n    // console.log('set', serviceKey, key, value);\n    return indexedDB.addData(\n      {\n        service: serviceKey,\n        [key]: value,\n      },\n      isCover\n    );\n  }\n  // 获取到模版变量信息\n  private async getStorage(service: string, key?: string) {\n    const storage = await indexedDB.getData(service);\n    // console.log('get', key, storage);\n    return key ? storage?.[key] : storage;\n  }\n}\nexport default new InstanceStorage();\n","interface DBEvent {\n  target: { result: any; error: any };\n}\n// 数据库结构\ninterface DBTypes {\n  store: StoreType;\n  name?: string;\n  version?: number;\n}\n// store表结构\ninterface StoreType {\n  name: string; // 表名\n  key: string; // 主键名\n  cursorIndex?: { name: string; unique: boolean }[]; // 索引列表\n}\n\n// 数据结构\n// {service: 'cvm', instance: [{ins: 23}]}\ninterface DataType {\n  service: string;\n  [x: string]: any; // 有产品需缓存其他列表\n}\n\n// interface UpdateProps {\n//   storeName: string;\n//   cursorKey: string;\n//   cursorValue?: any;\n//   data: any;\n// }\n\nconst store: StoreType = {\n  name: 'grafanaInstanceList',\n  key: 'service',\n};\nconst promisify = (request: any, type?: string) => {\n  return new Promise<any>((resolve, reject) => {\n    request.onsuccess = (event: DBEvent) => {\n      const returnMap: any = {\n        event: event.target.result,\n        request: request.result,\n        msg: '操作成功',\n      };\n      resolve(returnMap[type || 'msg']);\n    };\n    request.onerror = (event: DBEvent) => reject(event.target.error || '操作失败');\n  });\n};\n// 固定表名和数据库名\nclass IndexedDB {\n  name = 'grafanaDatabase';\n  version = 1;\n\n  constructor(props: DBTypes) {\n    const { name = 'database', version = 1, store } = props;\n    this.name = name;\n    this.version = version;\n\n    this.initDB(store);\n  }\n\n  /**\n   * 初始化数据库\n   * @param store 库表的结构\n   */\n  initDB(store: StoreType) {\n    const indexeddb = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;\n    const request = indexeddb.open(this.name, this.version);\n\n    request.onupgradeneeded = (event: IDBVersionChangeEvent) => {\n      const db = (event.target as IDBOpenDBRequest).result;\n      if (db.objectStoreNames.contains(store.name)) {\n        // 存在表store\n      }\n\n      //  遍历store，设置数据表结构\n      db.createObjectStore(store.name, {\n        keyPath: store.key,\n      });\n    };\n    request.onerror = () => Promise.reject(new Error('初始化数据库失败'));\n    request.onsuccess = () => Promise.resolve('初始化数据库成功');\n  }\n\n  openDB() {\n    const indexeddb = window.indexedDB || window.webkitIndexedDB || window.mozIndexedDB || window.msIndexedDB;\n    const request = indexeddb.open(this.name, this.version);\n\n    return promisify(request, 'event');\n  }\n\n  /**\n   * 新增数据\n   * @param storeName 表名\n   * @param data 添加的数据\n   */\n  async insertData(storeName: string, data: any) {\n    try {\n      // console.time('insertData');\n      const db = await this.openDB();\n      const transaction = db.transaction(storeName, 'readwrite');\n      const objectStore = transaction.objectStore(storeName);\n\n      objectStore.add(data);\n      // console.timeEnd('insertData');\n\n      return new Promise((resolve, reject) => {\n        transaction.oncomplete = function () {\n          // console.timeEnd('insertData');\n          resolve('所有数据插入成功');\n        };\n\n        transaction.onerror = function (event) {\n          reject(event);\n        };\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  /**\n   * 更新数据\n   * @param props 查询数据的参数以及要修改的值的参数\n   */\n  async addData(data: DataType, isCover?: boolean) {\n    try {\n      // console.log('addData');\n      const storeName = store.name; // 表名\n      const oldData = await this.getData(data.service);\n      const objectStore = await this.getObjectStore(storeName, 'readwrite');\n\n      if (!oldData) {\n        // 不存在则新建\n        this.insertData(storeName, data);\n      }\n      // 存在则更新\n      let newData: any = { ...oldData, ...data };\n      if (isCover) newData = data; // 需要覆盖之前内容\n      // 把更新过的对象放回数据库\n      const requestUpdate = objectStore.put(newData);\n      // console.timeEnd('updateData');\n      return promisify(requestUpdate);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  /**\n   * 获取数据库的值，返回查询到的第一项\n   * @param storeName 表名/存储对象的键\n   * @param cursorKey key\n   * @param cursorValue 要查询索引的值\n   */\n  async getData(seviceName: string) {\n    try {\n      // console.time('getData');\n      const storeName = store.name;\n      const objectStore = await this.getObjectStore(storeName);\n      const request = objectStore.get(seviceName);\n      // console.timeEnd('getData');\n      return promisify(request, 'request');\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  async getAllData(storeName: string) {\n    try {\n      // console.time('getAllData');\n      const objectStore = await this.getObjectStore(storeName);\n      const request = objectStore.getAll();\n      const result = await promisify(request, 'request');\n      // console.timeEnd('getAllData');\n      return result ? result : [];\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * 获取对象仓库\n   * @param storeName 表名\n   * @param type readonly 或者 readwrite等\n   */\n  private async getObjectStore(storeName: string, type?: any): Promise<IDBObjectStore> {\n    try {\n      const db = await this.openDB();\n      return db.transaction(storeName, type).objectStore(storeName);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n}\n// console.log('testDDB')\n// const indexDB = new IndexedDB({store});\n// indexDB.addData({service: 'cvm', instance: [{ins: 23}]}).then(e=>{\n//   indexDB.getData('cvm').then(dd=>{console.log({dd})})\n// })\nexport default new IndexedDB({ store });\n","import moment from 'moment';\n\nconst HttpRequestMethod = 'POST';\nconst CanonicalUri = '/';\nconst CanonicalQueryString = '';\nconst ContentType = 'application/json';\n\nexport default class Sign {\n  /**\n   * Tencent Cloud API Signature v3 reference: https://cloud.tencent.com/document/api/213/30654\n   * secretId: SecretId for identifying identity that is applied for on Cloud API Key.\n   * A SecretId corresponds to a unique SecretKey, which is used to generate the request Signature.\n   * secretKey: SecretKey is used to encrypt the signature string and verify the signature string on the server\n   * service: the name of service, which must be consistent with the request domain, such as cvm\n   * action: The name of the API for the desired operation\n   * host: the domain of service，which must be consistent with the request domain, such as cvm.tencentcloudapi.com\n   * version:  PI version, such as 2017-03-12\n   * payload: The request parameters\n   */\n\n  secretId: string;\n\n  service: string;\n  action: string;\n  host: string;\n  version: string;\n  payload: Record<string, any> | string;\n  region: string;\n  timestamp: number;\n  date: string;\n  backendSrv: any;\n  datasourceId: Number;\n  constructor(options) {\n    const { secretId, service, action, host, version, payload = '', region, backendSrv, datasourceId } = options;\n    this.secretId = secretId;\n    // this.secretKey = secretKey;\n    this.service = service;\n    this.action = action;\n    this.host = host;\n    this.version = version;\n    this.payload = typeof payload === 'string' ? payload : JSON.stringify(payload);\n    this.region = region;\n    const nowDate = moment().utc();\n    this.timestamp = nowDate.unix();\n    this.date = nowDate.format('YYYY-MM-DD');\n    this.backendSrv = backendSrv;\n    this.datasourceId = datasourceId;\n  }\n\n  async getHeader() {\n    return this.getResourceHeader();\n  }\n\n  async getResourceHeader() {\n    let res: { authorization?: string; token?: string; intranet?: boolean } = {};\n    try {\n      const resp = await this.backendSrv.datasourceRequest({\n        url: `/api/datasources/${this.datasourceId}/resources/sign_v3`,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        data: {\n          Host: this.host,\n          Service: this.service,\n          Version: this.version,\n          Action: this.action,\n          Region: this.region,\n          Timestamp: this.timestamp,\n          Method: HttpRequestMethod,\n          Uri: CanonicalUri,\n          Query: CanonicalQueryString,\n          Body: this.payload,\n          Headers: {\n            'content-type': ContentType,\n            host: this.host,\n          },\n        },\n      });\n      res = resp.data;\n    } catch (err) {}\n    const { authorization, token, intranet } = res;\n    const grafanaVersion = (window as any).grafanaBootData?.settings?.buildInfo?.version || '0.0.0';\n    const headers = {\n      Authorization: authorization,\n      'Content-Type': ContentType,\n      'X-TC-Action': this.action,\n      'X-TC-Timestamp': this.timestamp.toString(),\n      'X-TC-Version': this.version,\n      'X-TC-RequestClient': `GF_${grafanaVersion}_PL_CM_${process.env.TENCENT_CLOUD_MONITOR_GRAFANA_PLUGIN_VERSION}`,\n      ...(this.region && {\n        'X-TC-Region': this.region,\n      }),\n      ...(token && {\n        'X-TC-Token': token,\n      }),\n      intranet: intranet,\n    };\n    return headers;\n  }\n}\n","/**\n *\n * @param defaults 为对象\n * secretId\n * secretKey\n * action\n * region\n * host\n */\n\nexport default class SignV2 {\n  defaults: any = {\n    path: '/v2/index.php',\n    method: 'POST',\n  };\n  backendSrv: any;\n  datasourceId: Number;\n  constructor(defaults: any = {}) {\n    this.defaults = Object.assign(this.defaults, defaults);\n    this.defaults.secretKey = '';\n    this.backendSrv = defaults.backendSrv;\n    this.datasourceId = defaults.datasourceId;\n  }\n\n  generateQueryString = async () => {\n    return this.getResourceQueryString();\n  };\n\n  async getResourceQueryString() {\n    let res: { path?: string; querystring?: any; host?: string; intranet?: boolean } = {};\n    try {\n      const { data } = this.defaults;\n      const payload = typeof data === 'string' ? data : JSON.stringify(data);\n      const resp = await this.backendSrv.datasourceRequest({\n        url: `/api/datasources/${this.datasourceId}/resources/sign_v2`,\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        data: {\n          Host: this.defaults.host,\n          Action: this.defaults.action,\n          Version: this.defaults.version,\n          Region: this.defaults.region,\n          Method: this.defaults.method,\n          Uri: this.defaults.path,\n          Query: '',\n          Body: payload,\n        },\n      });\n      res = resp.data;\n    } catch (err) {}\n    const { path, querystring, host, intranet } = res;\n    return { queryString: querystring, path: path, host: host, intranet: intranet };\n  }\n}\n","import _ from 'lodash';\nimport { SERVICES } from '../tc_monitor';\n\n/* 从分页数据获取全量数据 */\nconst PageSize = 50;\nfunction getFieldsValue(value, fields) {\n  return fields.map((item) => _.get(value, item, _.get(value, `Result.${item}`, [])));\n}\n\nexport async function fetchAllFactory(fetcher: (args: any) => Promise<any>, _params: any, field: string | string[]) {\n  const params = { ..._.omit(_params, ['isOffsetPage']) };\n  params.Limit = params.Limit || PageSize; // 默认给个Limit大小为50\n  params.Offset = params.Offset ?? 0; // 默认给个Offset为0\n\n  // 第一次请求，获取总数\n  const rs = (await fetcher(params)) ?? {};\n  const fields = Array.isArray(field) ? field : [field];\n\n  // rs.TotalCount = rs.TotalCount ?? rs.Result.TotalCount ?? [];\n  // const { TotalCount } = rs;\n  const TotalCount = rs.TotalCount ?? rs.Result?.TotalCount ?? rs.TotalCnt ?? rs.Result?.TotalCnt ?? 0;\n  const firstLists = getFieldsValue(rs, fields);\n\n  if (TotalCount === 0 || firstLists[0].length === TotalCount) {\n    // 只有一页，结束\n    return firstLists;\n  }\n\n  // 批量请求\n  const delta = TotalCount - firstLists[0].length;\n  const batchCount = Math.ceil(delta / PageSize);\n  const pmList = new Array(batchCount).fill(0).map((_, index) => {\n    params.Offset = _params.isOffsetPage ? 1 + index : (1 + index) * params.Limit;\n    return fetcher(params);\n  });\n\n  // 合并\n  const resultList = await Promise.all(pmList); // [ {a: [], b[] }, { a: [], b:[] }]\n\n  return resultList.reduce((acc, cur) => {\n    const lists = getFieldsValue(cur, fields);\n    // [[], [], []] + [[], [], []]\n    acc.forEach((list, index) => list.push(...lists[index]));\n    return acc;\n  }, firstLists);\n}\n\n/**\n * 实例列表接口入参处理\n *\n * @param queries 表单键入内容\n * @param isFilter 是否需要设置为Filters格式\n */\nexport function instanceQueryParamsBaseParse(queries: any, isFilter: boolean) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    const Filters: any[] = [];\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          if (isFilter) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          } else {\n            params[key] = _.uniq(item);\n          }\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          if (isFilter) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          } else {\n            params[key] = _.get(item, 'value');\n          }\n        }\n      } else if (item !== null && item !== undefined && item !== '') {\n        if (isFilter) {\n          Filters.push({ Name: key, Values: item });\n        } else {\n          params[key] = item;\n        }\n      }\n    });\n    if (isFilter && Filters.length > 0) {\n      params.Filters = Filters;\n      return params;\n    }\n  }\n  return params;\n}\n\nexport function getNamesapceFromService(serviceName: string) {\n  return _.get(\n    _.find(SERVICES, (service) => service.service === serviceName),\n    'namespace'\n  );\n}\n\nexport function serviceGroupBy(\n  services: { service: string; label: string; namespace: string; href: string; groupName?: string }[]\n) {\n  const result = services.reduce((acc, cur) => {\n    const { namespace, label, groupName = label } = cur;\n\n    const existedGroup = acc.find((item) => item.label === groupName);\n    if (!existedGroup) {\n      acc.push({ label: groupName, value: groupName, items: [{ label, value: namespace }] });\n      return acc;\n    }\n\n    existedGroup.items.push({ label, value: namespace });\n    return acc;\n  }, [] as any[]);\n\n  // 将只有一个子元素的项目进行特殊处理\n  const rs = result.map((item) =>\n    item.items.length === 1 ? { label: item.items[0].label, value: item.items[0].value } : item\n  );\n  return rs;\n}\n\nexport const isTargetEqual = (newTargetString: string, oldTargetString: string, key: string) => {\n  try {\n    const newTarget = JSON.parse(newTargetString);\n    const oldTarget = JSON.parse(oldTargetString);\n    return newTarget[key] === oldTarget[key];\n  } catch (e) {\n    return newTargetString === oldTargetString;\n  }\n};\n\nexport const getTimeShiftInMs = (timeShift: any) => {\n  const parts = /^(\\d+)([d|h|m|s])$/.exec(timeShift);\n  if (!parts) {\n    return 0;\n  }\n  const amount = parseInt(parts[1], 10);\n  const unit = parts[2];\n  switch (unit) {\n    case 'd':\n      return amount * 86400 * 1000;\n    case 'h':\n      return amount * 3600 * 1000;\n    case 'm':\n      return amount * 60 * 1000;\n    case 's':\n      return amount * 1000;\n  }\n  return 0;\n};\n","var map = {\n\t\".\": \"./datasource/tc_monitor/index.ts\",\n\t\"./\": \"./datasource/tc_monitor/index.ts\",\n\t\"./MonitorDatasource\": \"./datasource/tc_monitor/MonitorDatasource.ts\",\n\t\"./MonitorDatasource.ts\": \"./datasource/tc_monitor/MonitorDatasource.ts\",\n\t\"./_base/datasource\": \"./datasource/tc_monitor/_base/datasource.ts\",\n\t\"./_base/datasource.ts\": \"./datasource/tc_monitor/_base/datasource.ts\",\n\t\"./_base/query\": \"./datasource/tc_monitor/_base/query.ts\",\n\t\"./_base/query.ts\": \"./datasource/tc_monitor/_base/query.ts\",\n\t\"./_base/query_filter\": \"./datasource/tc_monitor/_base/query_filter.ts\",\n\t\"./_base/query_filter.ts\": \"./datasource/tc_monitor/_base/query_filter.ts\",\n\t\"./_base/types\": \"./datasource/tc_monitor/_base/types.ts\",\n\t\"./_base/types.ts\": \"./datasource/tc_monitor/_base/types.ts\",\n\t\"./apigateway/datasource\": \"./datasource/tc_monitor/apigateway/datasource.ts\",\n\t\"./apigateway/datasource.ts\": \"./datasource/tc_monitor/apigateway/datasource.ts\",\n\t\"./apigateway/query\": \"./datasource/tc_monitor/apigateway/query.ts\",\n\t\"./apigateway/query.ts\": \"./datasource/tc_monitor/apigateway/query.ts\",\n\t\"./apigateway/query_def\": \"./datasource/tc_monitor/apigateway/query_def.ts\",\n\t\"./apigateway/query_def.ts\": \"./datasource/tc_monitor/apigateway/query_def.ts\",\n\t\"./bmIntraLb/datasource\": \"./datasource/tc_monitor/bmIntraLb/datasource.ts\",\n\t\"./bmIntraLb/datasource.ts\": \"./datasource/tc_monitor/bmIntraLb/datasource.ts\",\n\t\"./bmIntraLb/query\": \"./datasource/tc_monitor/bmIntraLb/query.ts\",\n\t\"./bmIntraLb/query.ts\": \"./datasource/tc_monitor/bmIntraLb/query.ts\",\n\t\"./bmIntraLb/query_def\": \"./datasource/tc_monitor/bmIntraLb/query_def.ts\",\n\t\"./bmIntraLb/query_def.ts\": \"./datasource/tc_monitor/bmIntraLb/query_def.ts\",\n\t\"./bm_lb/datasource\": \"./datasource/tc_monitor/bm_lb/datasource.ts\",\n\t\"./bm_lb/datasource.ts\": \"./datasource/tc_monitor/bm_lb/datasource.ts\",\n\t\"./bm_lb/query\": \"./datasource/tc_monitor/bm_lb/query.ts\",\n\t\"./bm_lb/query.ts\": \"./datasource/tc_monitor/bm_lb/query.ts\",\n\t\"./bm_lb/query_def\": \"./datasource/tc_monitor/bm_lb/query_def.ts\",\n\t\"./bm_lb/query_def.ts\": \"./datasource/tc_monitor/bm_lb/query_def.ts\",\n\t\"./bm_pcx/datasource\": \"./datasource/tc_monitor/bm_pcx/datasource.ts\",\n\t\"./bm_pcx/datasource.ts\": \"./datasource/tc_monitor/bm_pcx/datasource.ts\",\n\t\"./bm_pcx/query\": \"./datasource/tc_monitor/bm_pcx/query.ts\",\n\t\"./bm_pcx/query.ts\": \"./datasource/tc_monitor/bm_pcx/query.ts\",\n\t\"./bm_pcx/query_def\": \"./datasource/tc_monitor/bm_pcx/query_def.ts\",\n\t\"./bm_pcx/query_def.ts\": \"./datasource/tc_monitor/bm_pcx/query_def.ts\",\n\t\"./bwp/datasource\": \"./datasource/tc_monitor/bwp/datasource.ts\",\n\t\"./bwp/datasource.ts\": \"./datasource/tc_monitor/bwp/datasource.ts\",\n\t\"./bwp/query\": \"./datasource/tc_monitor/bwp/query.ts\",\n\t\"./bwp/query.ts\": \"./datasource/tc_monitor/bwp/query.ts\",\n\t\"./bwp/query_def\": \"./datasource/tc_monitor/bwp/query_def.ts\",\n\t\"./bwp/query_def.ts\": \"./datasource/tc_monitor/bwp/query_def.ts\",\n\t\"./cbs/datasource\": \"./datasource/tc_monitor/cbs/datasource.ts\",\n\t\"./cbs/datasource.ts\": \"./datasource/tc_monitor/cbs/datasource.ts\",\n\t\"./cbs/query\": \"./datasource/tc_monitor/cbs/query.ts\",\n\t\"./cbs/query.ts\": \"./datasource/tc_monitor/cbs/query.ts\",\n\t\"./cbs/query_def\": \"./datasource/tc_monitor/cbs/query_def.ts\",\n\t\"./cbs/query_def.ts\": \"./datasource/tc_monitor/cbs/query_def.ts\",\n\t\"./cdb/datasource\": \"./datasource/tc_monitor/cdb/datasource.ts\",\n\t\"./cdb/datasource.ts\": \"./datasource/tc_monitor/cdb/datasource.ts\",\n\t\"./cdb/query\": \"./datasource/tc_monitor/cdb/query.ts\",\n\t\"./cdb/query.ts\": \"./datasource/tc_monitor/cdb/query.ts\",\n\t\"./cdb/query_def\": \"./datasource/tc_monitor/cdb/query_def.ts\",\n\t\"./cdb/query_def.ts\": \"./datasource/tc_monitor/cdb/query_def.ts\",\n\t\"./cdn/datasource\": \"./datasource/tc_monitor/cdn/datasource.ts\",\n\t\"./cdn/datasource.ts\": \"./datasource/tc_monitor/cdn/datasource.ts\",\n\t\"./cdn/query\": \"./datasource/tc_monitor/cdn/query.ts\",\n\t\"./cdn/query.ts\": \"./datasource/tc_monitor/cdn/query.ts\",\n\t\"./cdn/query_def\": \"./datasource/tc_monitor/cdn/query_def.ts\",\n\t\"./cdn/query_def.ts\": \"./datasource/tc_monitor/cdn/query_def.ts\",\n\t\"./cdn_province/datasource\": \"./datasource/tc_monitor/cdn_province/datasource.ts\",\n\t\"./cdn_province/datasource.ts\": \"./datasource/tc_monitor/cdn_province/datasource.ts\",\n\t\"./cdn_province/query\": \"./datasource/tc_monitor/cdn_province/query.ts\",\n\t\"./cdn_province/query.ts\": \"./datasource/tc_monitor/cdn_province/query.ts\",\n\t\"./cdn_province/query_def\": \"./datasource/tc_monitor/cdn_province/query_def.ts\",\n\t\"./cdn_province/query_def.ts\": \"./datasource/tc_monitor/cdn_province/query_def.ts\",\n\t\"./ceip_summary/datasource\": \"./datasource/tc_monitor/ceip_summary/datasource.ts\",\n\t\"./ceip_summary/datasource.ts\": \"./datasource/tc_monitor/ceip_summary/datasource.ts\",\n\t\"./ceip_summary/query\": \"./datasource/tc_monitor/ceip_summary/query.ts\",\n\t\"./ceip_summary/query.ts\": \"./datasource/tc_monitor/ceip_summary/query.ts\",\n\t\"./ceip_summary/query_def\": \"./datasource/tc_monitor/ceip_summary/query_def.ts\",\n\t\"./ceip_summary/query_def.ts\": \"./datasource/tc_monitor/ceip_summary/query_def.ts\",\n\t\"./ces/datasource\": \"./datasource/tc_monitor/ces/datasource.ts\",\n\t\"./ces/datasource.ts\": \"./datasource/tc_monitor/ces/datasource.ts\",\n\t\"./ces/query\": \"./datasource/tc_monitor/ces/query.ts\",\n\t\"./ces/query.ts\": \"./datasource/tc_monitor/ces/query.ts\",\n\t\"./ces/query_def\": \"./datasource/tc_monitor/ces/query_def.ts\",\n\t\"./ces/query_def.ts\": \"./datasource/tc_monitor/ces/query_def.ts\",\n\t\"./cfs/datasource\": \"./datasource/tc_monitor/cfs/datasource.ts\",\n\t\"./cfs/datasource.ts\": \"./datasource/tc_monitor/cfs/datasource.ts\",\n\t\"./cfs/query\": \"./datasource/tc_monitor/cfs/query.ts\",\n\t\"./cfs/query.ts\": \"./datasource/tc_monitor/cfs/query.ts\",\n\t\"./cfs/query_def\": \"./datasource/tc_monitor/cfs/query_def.ts\",\n\t\"./cfs/query_def.ts\": \"./datasource/tc_monitor/cfs/query_def.ts\",\n\t\"./ckafka/datasource\": \"./datasource/tc_monitor/ckafka/datasource.ts\",\n\t\"./ckafka/datasource.ts\": \"./datasource/tc_monitor/ckafka/datasource.ts\",\n\t\"./ckafka/query\": \"./datasource/tc_monitor/ckafka/query.ts\",\n\t\"./ckafka/query.ts\": \"./datasource/tc_monitor/ckafka/query.ts\",\n\t\"./ckafka/query_def\": \"./datasource/tc_monitor/ckafka/query_def.ts\",\n\t\"./ckafka/query_def.ts\": \"./datasource/tc_monitor/ckafka/query_def.ts\",\n\t\"./clb/datasource\": \"./datasource/tc_monitor/clb/datasource.ts\",\n\t\"./clb/datasource.ts\": \"./datasource/tc_monitor/clb/datasource.ts\",\n\t\"./clb/query\": \"./datasource/tc_monitor/clb/query.ts\",\n\t\"./clb/query.ts\": \"./datasource/tc_monitor/clb/query.ts\",\n\t\"./clb/query_def\": \"./datasource/tc_monitor/clb/query_def.ts\",\n\t\"./clb/query_def.ts\": \"./datasource/tc_monitor/clb/query_def.ts\",\n\t\"./cls/datasource\": \"./datasource/tc_monitor/cls/datasource.ts\",\n\t\"./cls/datasource.ts\": \"./datasource/tc_monitor/cls/datasource.ts\",\n\t\"./cls/query\": \"./datasource/tc_monitor/cls/query.ts\",\n\t\"./cls/query.ts\": \"./datasource/tc_monitor/cls/query.ts\",\n\t\"./cls/query_def\": \"./datasource/tc_monitor/cls/query_def.ts\",\n\t\"./cls/query_def.ts\": \"./datasource/tc_monitor/cls/query_def.ts\",\n\t\"./cmq/datasource\": \"./datasource/tc_monitor/cmq/datasource.ts\",\n\t\"./cmq/datasource.ts\": \"./datasource/tc_monitor/cmq/datasource.ts\",\n\t\"./cmq/query\": \"./datasource/tc_monitor/cmq/query.ts\",\n\t\"./cmq/query.ts\": \"./datasource/tc_monitor/cmq/query.ts\",\n\t\"./cmq/query_def\": \"./datasource/tc_monitor/cmq/query_def.ts\",\n\t\"./cmq/query_def.ts\": \"./datasource/tc_monitor/cmq/query_def.ts\",\n\t\"./cmq_topic/datasource\": \"./datasource/tc_monitor/cmq_topic/datasource.ts\",\n\t\"./cmq_topic/datasource.ts\": \"./datasource/tc_monitor/cmq_topic/datasource.ts\",\n\t\"./cmq_topic/query\": \"./datasource/tc_monitor/cmq_topic/query.ts\",\n\t\"./cmq_topic/query.ts\": \"./datasource/tc_monitor/cmq_topic/query.ts\",\n\t\"./cmq_topic/query_def\": \"./datasource/tc_monitor/cmq_topic/query_def.ts\",\n\t\"./cmq_topic/query_def.ts\": \"./datasource/tc_monitor/cmq_topic/query_def.ts\",\n\t\"./cos/datasource\": \"./datasource/tc_monitor/cos/datasource.ts\",\n\t\"./cos/datasource.ts\": \"./datasource/tc_monitor/cos/datasource.ts\",\n\t\"./cos/query_def\": \"./datasource/tc_monitor/cos/query_def.ts\",\n\t\"./cos/query_def.ts\": \"./datasource/tc_monitor/cos/query_def.ts\",\n\t\"./cpm/datasource\": \"./datasource/tc_monitor/cpm/datasource.ts\",\n\t\"./cpm/datasource.ts\": \"./datasource/tc_monitor/cpm/datasource.ts\",\n\t\"./cpm/query\": \"./datasource/tc_monitor/cpm/query.ts\",\n\t\"./cpm/query.ts\": \"./datasource/tc_monitor/cpm/query.ts\",\n\t\"./cpm/query_def\": \"./datasource/tc_monitor/cpm/query_def.ts\",\n\t\"./cpm/query_def.ts\": \"./datasource/tc_monitor/cpm/query_def.ts\",\n\t\"./cvm/datasource\": \"./datasource/tc_monitor/cvm/datasource.ts\",\n\t\"./cvm/datasource.ts\": \"./datasource/tc_monitor/cvm/datasource.ts\",\n\t\"./cvm/query\": \"./datasource/tc_monitor/cvm/query.ts\",\n\t\"./cvm/query.ts\": \"./datasource/tc_monitor/cvm/query.ts\",\n\t\"./cvm/query_def\": \"./datasource/tc_monitor/cvm/query_def.ts\",\n\t\"./cvm/query_def.ts\": \"./datasource/tc_monitor/cvm/query_def.ts\",\n\t\"./cynosdb_mysql/datasource\": \"./datasource/tc_monitor/cynosdb_mysql/datasource.ts\",\n\t\"./cynosdb_mysql/datasource.ts\": \"./datasource/tc_monitor/cynosdb_mysql/datasource.ts\",\n\t\"./cynosdb_mysql/query\": \"./datasource/tc_monitor/cynosdb_mysql/query.ts\",\n\t\"./cynosdb_mysql/query.ts\": \"./datasource/tc_monitor/cynosdb_mysql/query.ts\",\n\t\"./cynosdb_mysql/query_def\": \"./datasource/tc_monitor/cynosdb_mysql/query_def.ts\",\n\t\"./cynosdb_mysql/query_def.ts\": \"./datasource/tc_monitor/cynosdb_mysql/query_def.ts\",\n\t\"./dc/datasource\": \"./datasource/tc_monitor/dc/datasource.ts\",\n\t\"./dc/datasource.ts\": \"./datasource/tc_monitor/dc/datasource.ts\",\n\t\"./dc/query\": \"./datasource/tc_monitor/dc/query.ts\",\n\t\"./dc/query.ts\": \"./datasource/tc_monitor/dc/query.ts\",\n\t\"./dc/query_def\": \"./datasource/tc_monitor/dc/query_def.ts\",\n\t\"./dc/query_def.ts\": \"./datasource/tc_monitor/dc/query_def.ts\",\n\t\"./dcdb/datasource\": \"./datasource/tc_monitor/dcdb/datasource.ts\",\n\t\"./dcdb/datasource.ts\": \"./datasource/tc_monitor/dcdb/datasource.ts\",\n\t\"./dcdb/query\": \"./datasource/tc_monitor/dcdb/query.ts\",\n\t\"./dcdb/query.ts\": \"./datasource/tc_monitor/dcdb/query.ts\",\n\t\"./dcdb/query_def\": \"./datasource/tc_monitor/dcdb/query_def.ts\",\n\t\"./dcdb/query_def.ts\": \"./datasource/tc_monitor/dcdb/query_def.ts\",\n\t\"./dcg/datasource\": \"./datasource/tc_monitor/dcg/datasource.ts\",\n\t\"./dcg/datasource.ts\": \"./datasource/tc_monitor/dcg/datasource.ts\",\n\t\"./dcg/query\": \"./datasource/tc_monitor/dcg/query.ts\",\n\t\"./dcg/query.ts\": \"./datasource/tc_monitor/dcg/query.ts\",\n\t\"./dcg/query_def\": \"./datasource/tc_monitor/dcg/query_def.ts\",\n\t\"./dcg/query_def.ts\": \"./datasource/tc_monitor/dcg/query_def.ts\",\n\t\"./dcx/datasource\": \"./datasource/tc_monitor/dcx/datasource.ts\",\n\t\"./dcx/datasource.ts\": \"./datasource/tc_monitor/dcx/datasource.ts\",\n\t\"./dcx/query\": \"./datasource/tc_monitor/dcx/query.ts\",\n\t\"./dcx/query.ts\": \"./datasource/tc_monitor/dcx/query.ts\",\n\t\"./dcx/query_def\": \"./datasource/tc_monitor/dcx/query_def.ts\",\n\t\"./dcx/query_def.ts\": \"./datasource/tc_monitor/dcx/query_def.ts\",\n\t\"./ecdn/datasource\": \"./datasource/tc_monitor/ecdn/datasource.ts\",\n\t\"./ecdn/datasource.ts\": \"./datasource/tc_monitor/ecdn/datasource.ts\",\n\t\"./ecdn/query\": \"./datasource/tc_monitor/ecdn/query.ts\",\n\t\"./ecdn/query.ts\": \"./datasource/tc_monitor/ecdn/query.ts\",\n\t\"./ecdn/query_def\": \"./datasource/tc_monitor/ecdn/query_def.ts\",\n\t\"./ecdn/query_def.ts\": \"./datasource/tc_monitor/ecdn/query_def.ts\",\n\t\"./ecm/datasource\": \"./datasource/tc_monitor/ecm/datasource.ts\",\n\t\"./ecm/datasource.ts\": \"./datasource/tc_monitor/ecm/datasource.ts\",\n\t\"./ecm/query\": \"./datasource/tc_monitor/ecm/query.ts\",\n\t\"./ecm/query.ts\": \"./datasource/tc_monitor/ecm/query.ts\",\n\t\"./ecm/query_def\": \"./datasource/tc_monitor/ecm/query_def.ts\",\n\t\"./ecm/query_def.ts\": \"./datasource/tc_monitor/ecm/query_def.ts\",\n\t\"./ecm_block_storage/datasource\": \"./datasource/tc_monitor/ecm_block_storage/datasource.ts\",\n\t\"./ecm_block_storage/datasource.ts\": \"./datasource/tc_monitor/ecm_block_storage/datasource.ts\",\n\t\"./ecm_block_storage/query\": \"./datasource/tc_monitor/ecm_block_storage/query.ts\",\n\t\"./ecm_block_storage/query.ts\": \"./datasource/tc_monitor/ecm_block_storage/query.ts\",\n\t\"./ecm_block_storage/query_def\": \"./datasource/tc_monitor/ecm_block_storage/query_def.ts\",\n\t\"./ecm_block_storage/query_def.ts\": \"./datasource/tc_monitor/ecm_block_storage/query_def.ts\",\n\t\"./ecm_lb/datasource\": \"./datasource/tc_monitor/ecm_lb/datasource.ts\",\n\t\"./ecm_lb/datasource.ts\": \"./datasource/tc_monitor/ecm_lb/datasource.ts\",\n\t\"./ecm_lb/query\": \"./datasource/tc_monitor/ecm_lb/query.ts\",\n\t\"./ecm_lb/query.ts\": \"./datasource/tc_monitor/ecm_lb/query.ts\",\n\t\"./ecm_lb/query_def\": \"./datasource/tc_monitor/ecm_lb/query_def.ts\",\n\t\"./ecm_lb/query_def.ts\": \"./datasource/tc_monitor/ecm_lb/query_def.ts\",\n\t\"./gse/datasource\": \"./datasource/tc_monitor/gse/datasource.ts\",\n\t\"./gse/datasource.ts\": \"./datasource/tc_monitor/gse/datasource.ts\",\n\t\"./gse/query\": \"./datasource/tc_monitor/gse/query.ts\",\n\t\"./gse/query.ts\": \"./datasource/tc_monitor/gse/query.ts\",\n\t\"./gse/query_def\": \"./datasource/tc_monitor/gse/query_def.ts\",\n\t\"./gse/query_def.ts\": \"./datasource/tc_monitor/gse/query_def.ts\",\n\t\"./index\": \"./datasource/tc_monitor/index.ts\",\n\t\"./index.ts\": \"./datasource/tc_monitor/index.ts\",\n\t\"./lb/datasource\": \"./datasource/tc_monitor/lb/datasource.ts\",\n\t\"./lb/datasource.ts\": \"./datasource/tc_monitor/lb/datasource.ts\",\n\t\"./lb/query\": \"./datasource/tc_monitor/lb/query.ts\",\n\t\"./lb/query.ts\": \"./datasource/tc_monitor/lb/query.ts\",\n\t\"./lb/query_def\": \"./datasource/tc_monitor/lb/query_def.ts\",\n\t\"./lb/query_def.ts\": \"./datasource/tc_monitor/lb/query_def.ts\",\n\t\"./lighthouse/datasource\": \"./datasource/tc_monitor/lighthouse/datasource.ts\",\n\t\"./lighthouse/datasource.ts\": \"./datasource/tc_monitor/lighthouse/datasource.ts\",\n\t\"./lighthouse/query\": \"./datasource/tc_monitor/lighthouse/query.ts\",\n\t\"./lighthouse/query.ts\": \"./datasource/tc_monitor/lighthouse/query.ts\",\n\t\"./lighthouse/query_def\": \"./datasource/tc_monitor/lighthouse/query_def.ts\",\n\t\"./lighthouse/query_def.ts\": \"./datasource/tc_monitor/lighthouse/query_def.ts\",\n\t\"./mongodb/datasource\": \"./datasource/tc_monitor/mongodb/datasource.ts\",\n\t\"./mongodb/datasource.ts\": \"./datasource/tc_monitor/mongodb/datasource.ts\",\n\t\"./mongodb/query\": \"./datasource/tc_monitor/mongodb/query.ts\",\n\t\"./mongodb/query.ts\": \"./datasource/tc_monitor/mongodb/query.ts\",\n\t\"./mongodb/query_def\": \"./datasource/tc_monitor/mongodb/query_def.ts\",\n\t\"./mongodb/query_def.ts\": \"./datasource/tc_monitor/mongodb/query_def.ts\",\n\t\"./mr/datasource\": \"./datasource/tc_monitor/mr/datasource.ts\",\n\t\"./mr/datasource.ts\": \"./datasource/tc_monitor/mr/datasource.ts\",\n\t\"./mr/query\": \"./datasource/tc_monitor/mr/query.ts\",\n\t\"./mr/query.ts\": \"./datasource/tc_monitor/mr/query.ts\",\n\t\"./mr/query_def\": \"./datasource/tc_monitor/mr/query_def.ts\",\n\t\"./mr/query_def.ts\": \"./datasource/tc_monitor/mr/query_def.ts\",\n\t\"./nat_gateway/datasource\": \"./datasource/tc_monitor/nat_gateway/datasource.ts\",\n\t\"./nat_gateway/datasource.ts\": \"./datasource/tc_monitor/nat_gateway/datasource.ts\",\n\t\"./nat_gateway/query\": \"./datasource/tc_monitor/nat_gateway/query.ts\",\n\t\"./nat_gateway/query.ts\": \"./datasource/tc_monitor/nat_gateway/query.ts\",\n\t\"./nat_gateway/query_def\": \"./datasource/tc_monitor/nat_gateway/query_def.ts\",\n\t\"./nat_gateway/query_def.ts\": \"./datasource/tc_monitor/nat_gateway/query_def.ts\",\n\t\"./ov_cdn/datasource\": \"./datasource/tc_monitor/ov_cdn/datasource.ts\",\n\t\"./ov_cdn/datasource.ts\": \"./datasource/tc_monitor/ov_cdn/datasource.ts\",\n\t\"./ov_cdn/query\": \"./datasource/tc_monitor/ov_cdn/query.ts\",\n\t\"./ov_cdn/query.ts\": \"./datasource/tc_monitor/ov_cdn/query.ts\",\n\t\"./ov_cdn/query_def\": \"./datasource/tc_monitor/ov_cdn/query_def.ts\",\n\t\"./ov_cdn/query_def.ts\": \"./datasource/tc_monitor/ov_cdn/query_def.ts\",\n\t\"./pcx/datasource\": \"./datasource/tc_monitor/pcx/datasource.ts\",\n\t\"./pcx/datasource.ts\": \"./datasource/tc_monitor/pcx/datasource.ts\",\n\t\"./pcx/query\": \"./datasource/tc_monitor/pcx/query.ts\",\n\t\"./pcx/query.ts\": \"./datasource/tc_monitor/pcx/query.ts\",\n\t\"./pcx/query_def\": \"./datasource/tc_monitor/pcx/query_def.ts\",\n\t\"./pcx/query_def.ts\": \"./datasource/tc_monitor/pcx/query_def.ts\",\n\t\"./postgresql/datasource\": \"./datasource/tc_monitor/postgresql/datasource.ts\",\n\t\"./postgresql/datasource.ts\": \"./datasource/tc_monitor/postgresql/datasource.ts\",\n\t\"./postgresql/query\": \"./datasource/tc_monitor/postgresql/query.ts\",\n\t\"./postgresql/query.ts\": \"./datasource/tc_monitor/postgresql/query.ts\",\n\t\"./postgresql/query_def\": \"./datasource/tc_monitor/postgresql/query_def.ts\",\n\t\"./postgresql/query_def.ts\": \"./datasource/tc_monitor/postgresql/query_def.ts\",\n\t\"./qaap/datasource\": \"./datasource/tc_monitor/qaap/datasource.ts\",\n\t\"./qaap/datasource.ts\": \"./datasource/tc_monitor/qaap/datasource.ts\",\n\t\"./qaap/query\": \"./datasource/tc_monitor/qaap/query.ts\",\n\t\"./qaap/query.ts\": \"./datasource/tc_monitor/qaap/query.ts\",\n\t\"./qaap/query_def\": \"./datasource/tc_monitor/qaap/query_def.ts\",\n\t\"./qaap/query_def.ts\": \"./datasource/tc_monitor/qaap/query_def.ts\",\n\t\"./redis/datasource\": \"./datasource/tc_monitor/redis/datasource.ts\",\n\t\"./redis/datasource.ts\": \"./datasource/tc_monitor/redis/datasource.ts\",\n\t\"./redis/query\": \"./datasource/tc_monitor/redis/query.ts\",\n\t\"./redis/query.ts\": \"./datasource/tc_monitor/redis/query.ts\",\n\t\"./redis/query_def\": \"./datasource/tc_monitor/redis/query_def.ts\",\n\t\"./redis/query_def.ts\": \"./datasource/tc_monitor/redis/query_def.ts\",\n\t\"./redis_mem/datasource\": \"./datasource/tc_monitor/redis_mem/datasource.ts\",\n\t\"./redis_mem/datasource.ts\": \"./datasource/tc_monitor/redis_mem/datasource.ts\",\n\t\"./redis_mem/query\": \"./datasource/tc_monitor/redis_mem/query.ts\",\n\t\"./redis_mem/query.ts\": \"./datasource/tc_monitor/redis_mem/query.ts\",\n\t\"./redis_mem/query_def\": \"./datasource/tc_monitor/redis_mem/query_def.ts\",\n\t\"./redis_mem/query_def.ts\": \"./datasource/tc_monitor/redis_mem/query_def.ts\",\n\t\"./scf/datasource\": \"./datasource/tc_monitor/scf/datasource.ts\",\n\t\"./scf/datasource.ts\": \"./datasource/tc_monitor/scf/datasource.ts\",\n\t\"./scf/query\": \"./datasource/tc_monitor/scf/query.ts\",\n\t\"./scf/query.ts\": \"./datasource/tc_monitor/scf/query.ts\",\n\t\"./scf/query_def\": \"./datasource/tc_monitor/scf/query_def.ts\",\n\t\"./scf/query_def.ts\": \"./datasource/tc_monitor/scf/query_def.ts\",\n\t\"./sqlserver/datasource\": \"./datasource/tc_monitor/sqlserver/datasource.ts\",\n\t\"./sqlserver/datasource.ts\": \"./datasource/tc_monitor/sqlserver/datasource.ts\",\n\t\"./sqlserver/query\": \"./datasource/tc_monitor/sqlserver/query.ts\",\n\t\"./sqlserver/query.ts\": \"./datasource/tc_monitor/sqlserver/query.ts\",\n\t\"./sqlserver/query_def\": \"./datasource/tc_monitor/sqlserver/query_def.ts\",\n\t\"./sqlserver/query_def.ts\": \"./datasource/tc_monitor/sqlserver/query_def.ts\",\n\t\"./tcaplus/datasource\": \"./datasource/tc_monitor/tcaplus/datasource.ts\",\n\t\"./tcaplus/datasource.ts\": \"./datasource/tc_monitor/tcaplus/datasource.ts\",\n\t\"./tcaplus/query\": \"./datasource/tc_monitor/tcaplus/query.ts\",\n\t\"./tcaplus/query.ts\": \"./datasource/tc_monitor/tcaplus/query.ts\",\n\t\"./tcaplus/query_def\": \"./datasource/tc_monitor/tcaplus/query_def.ts\",\n\t\"./tcaplus/query_def.ts\": \"./datasource/tc_monitor/tcaplus/query_def.ts\",\n\t\"./tdmq/datasource\": \"./datasource/tc_monitor/tdmq/datasource.ts\",\n\t\"./tdmq/datasource.ts\": \"./datasource/tc_monitor/tdmq/datasource.ts\",\n\t\"./tdmq/query\": \"./datasource/tc_monitor/tdmq/query.ts\",\n\t\"./tdmq/query.ts\": \"./datasource/tc_monitor/tdmq/query.ts\",\n\t\"./tdmq/query_def\": \"./datasource/tc_monitor/tdmq/query_def.ts\",\n\t\"./tdmq/query_def.ts\": \"./datasource/tc_monitor/tdmq/query_def.ts\",\n\t\"./tdmq_rabbitmq/datasource\": \"./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts\",\n\t\"./tdmq_rabbitmq/datasource.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts\",\n\t\"./tdmq_rabbitmq/query\": \"./datasource/tc_monitor/tdmq_rabbitmq/query.ts\",\n\t\"./tdmq_rabbitmq/query.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/query.ts\",\n\t\"./tdmq_rabbitmq/query_def\": \"./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts\",\n\t\"./tdmq_rabbitmq/query_def.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts\",\n\t\"./tdmq_rocketmq/datasource\": \"./datasource/tc_monitor/tdmq_rocketmq/datasource.ts\",\n\t\"./tdmq_rocketmq/datasource.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/datasource.ts\",\n\t\"./tdmq_rocketmq/query\": \"./datasource/tc_monitor/tdmq_rocketmq/query.ts\",\n\t\"./tdmq_rocketmq/query.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/query.ts\",\n\t\"./tdmq_rocketmq/query_def\": \"./datasource/tc_monitor/tdmq_rocketmq/query_def.ts\",\n\t\"./tdmq_rocketmq/query_def.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/query_def.ts\",\n\t\"./tke/datasource\": \"./datasource/tc_monitor/tke/datasource.ts\",\n\t\"./tke/datasource.ts\": \"./datasource/tc_monitor/tke/datasource.ts\",\n\t\"./tke/query\": \"./datasource/tc_monitor/tke/query.ts\",\n\t\"./tke/query.ts\": \"./datasource/tc_monitor/tke/query.ts\",\n\t\"./tke/query_def\": \"./datasource/tc_monitor/tke/query_def.ts\",\n\t\"./tke/query_def.ts\": \"./datasource/tc_monitor/tke/query_def.ts\",\n\t\"./tsf/datasource\": \"./datasource/tc_monitor/tsf/datasource.ts\",\n\t\"./tsf/datasource.ts\": \"./datasource/tc_monitor/tsf/datasource.ts\",\n\t\"./tsf/query\": \"./datasource/tc_monitor/tsf/query.ts\",\n\t\"./tsf/query.ts\": \"./datasource/tc_monitor/tsf/query.ts\",\n\t\"./tsf/query_def\": \"./datasource/tc_monitor/tsf/query_def.ts\",\n\t\"./tsf/query_def.ts\": \"./datasource/tc_monitor/tsf/query_def.ts\",\n\t\"./v_clb/datasource\": \"./datasource/tc_monitor/v_clb/datasource.ts\",\n\t\"./v_clb/datasource.ts\": \"./datasource/tc_monitor/v_clb/datasource.ts\",\n\t\"./v_clb/query\": \"./datasource/tc_monitor/v_clb/query.ts\",\n\t\"./v_clb/query.ts\": \"./datasource/tc_monitor/v_clb/query.ts\",\n\t\"./v_clb/query_def\": \"./datasource/tc_monitor/v_clb/query_def.ts\",\n\t\"./v_clb/query_def.ts\": \"./datasource/tc_monitor/v_clb/query_def.ts\",\n\t\"./vbc/datasource\": \"./datasource/tc_monitor/vbc/datasource.ts\",\n\t\"./vbc/datasource.ts\": \"./datasource/tc_monitor/vbc/datasource.ts\",\n\t\"./vbc/query\": \"./datasource/tc_monitor/vbc/query.ts\",\n\t\"./vbc/query.ts\": \"./datasource/tc_monitor/vbc/query.ts\",\n\t\"./vbc/query_def\": \"./datasource/tc_monitor/vbc/query_def.ts\",\n\t\"./vbc/query_def.ts\": \"./datasource/tc_monitor/vbc/query_def.ts\",\n\t\"./vpc_net_detect/datasource\": \"./datasource/tc_monitor/vpc_net_detect/datasource.ts\",\n\t\"./vpc_net_detect/datasource.ts\": \"./datasource/tc_monitor/vpc_net_detect/datasource.ts\",\n\t\"./vpc_net_detect/query\": \"./datasource/tc_monitor/vpc_net_detect/query.ts\",\n\t\"./vpc_net_detect/query.ts\": \"./datasource/tc_monitor/vpc_net_detect/query.ts\",\n\t\"./vpc_net_detect/query_def\": \"./datasource/tc_monitor/vpc_net_detect/query_def.ts\",\n\t\"./vpc_net_detect/query_def.ts\": \"./datasource/tc_monitor/vpc_net_detect/query_def.ts\",\n\t\"./vpngw/datasource\": \"./datasource/tc_monitor/vpngw/datasource.ts\",\n\t\"./vpngw/datasource.ts\": \"./datasource/tc_monitor/vpngw/datasource.ts\",\n\t\"./vpngw/query\": \"./datasource/tc_monitor/vpngw/query.ts\",\n\t\"./vpngw/query.ts\": \"./datasource/tc_monitor/vpngw/query.ts\",\n\t\"./vpngw/query_def\": \"./datasource/tc_monitor/vpngw/query_def.ts\",\n\t\"./vpngw/query_def.ts\": \"./datasource/tc_monitor/vpngw/query_def.ts\",\n\t\"./vpnx/datasource\": \"./datasource/tc_monitor/vpnx/datasource.ts\",\n\t\"./vpnx/datasource.ts\": \"./datasource/tc_monitor/vpnx/datasource.ts\",\n\t\"./vpnx/query\": \"./datasource/tc_monitor/vpnx/query.ts\",\n\t\"./vpnx/query.ts\": \"./datasource/tc_monitor/vpnx/query.ts\",\n\t\"./vpnx/query_def\": \"./datasource/tc_monitor/vpnx/query_def.ts\",\n\t\"./vpnx/query_def.ts\": \"./datasource/tc_monitor/vpnx/query_def.ts\",\n\t\"./waf/datasource\": \"./datasource/tc_monitor/waf/datasource.ts\",\n\t\"./waf/datasource.ts\": \"./datasource/tc_monitor/waf/datasource.ts\",\n\t\"./waf/query\": \"./datasource/tc_monitor/waf/query.ts\",\n\t\"./waf/query.ts\": \"./datasource/tc_monitor/waf/query.ts\",\n\t\"./waf/query_def\": \"./datasource/tc_monitor/waf/query_def.ts\",\n\t\"./waf/query_def.ts\": \"./datasource/tc_monitor/waf/query_def.ts\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./datasource/tc_monitor sync recursive ^.*$\";","var map = {\n\t\"./_base/query.ts\": \"./datasource/tc_monitor/_base/query.ts\",\n\t\"./apigateway/datasource\": \"./datasource/tc_monitor/apigateway/datasource.ts\",\n\t\"./apigateway/datasource.ts\": \"./datasource/tc_monitor/apigateway/datasource.ts\",\n\t\"./apigateway/query.ts\": \"./datasource/tc_monitor/apigateway/query.ts\",\n\t\"./apigateway/query_def.ts\": \"./datasource/tc_monitor/apigateway/query_def.ts\",\n\t\"./bmIntraLb/datasource\": \"./datasource/tc_monitor/bmIntraLb/datasource.ts\",\n\t\"./bmIntraLb/datasource.ts\": \"./datasource/tc_monitor/bmIntraLb/datasource.ts\",\n\t\"./bmIntraLb/query.ts\": \"./datasource/tc_monitor/bmIntraLb/query.ts\",\n\t\"./bmIntraLb/query_def.ts\": \"./datasource/tc_monitor/bmIntraLb/query_def.ts\",\n\t\"./bm_lb/datasource\": \"./datasource/tc_monitor/bm_lb/datasource.ts\",\n\t\"./bm_lb/datasource.ts\": \"./datasource/tc_monitor/bm_lb/datasource.ts\",\n\t\"./bm_lb/query.ts\": \"./datasource/tc_monitor/bm_lb/query.ts\",\n\t\"./bm_lb/query_def.ts\": \"./datasource/tc_monitor/bm_lb/query_def.ts\",\n\t\"./bm_pcx/datasource\": \"./datasource/tc_monitor/bm_pcx/datasource.ts\",\n\t\"./bm_pcx/datasource.ts\": \"./datasource/tc_monitor/bm_pcx/datasource.ts\",\n\t\"./bm_pcx/query.ts\": \"./datasource/tc_monitor/bm_pcx/query.ts\",\n\t\"./bm_pcx/query_def.ts\": \"./datasource/tc_monitor/bm_pcx/query_def.ts\",\n\t\"./bwp/datasource\": \"./datasource/tc_monitor/bwp/datasource.ts\",\n\t\"./bwp/datasource.ts\": \"./datasource/tc_monitor/bwp/datasource.ts\",\n\t\"./bwp/query.ts\": \"./datasource/tc_monitor/bwp/query.ts\",\n\t\"./bwp/query_def.ts\": \"./datasource/tc_monitor/bwp/query_def.ts\",\n\t\"./cbs/datasource\": \"./datasource/tc_monitor/cbs/datasource.ts\",\n\t\"./cbs/datasource.ts\": \"./datasource/tc_monitor/cbs/datasource.ts\",\n\t\"./cbs/query.ts\": \"./datasource/tc_monitor/cbs/query.ts\",\n\t\"./cbs/query_def.ts\": \"./datasource/tc_monitor/cbs/query_def.ts\",\n\t\"./cdb/datasource\": \"./datasource/tc_monitor/cdb/datasource.ts\",\n\t\"./cdb/datasource.ts\": \"./datasource/tc_monitor/cdb/datasource.ts\",\n\t\"./cdb/query.ts\": \"./datasource/tc_monitor/cdb/query.ts\",\n\t\"./cdb/query_def.ts\": \"./datasource/tc_monitor/cdb/query_def.ts\",\n\t\"./cdn/datasource\": \"./datasource/tc_monitor/cdn/datasource.ts\",\n\t\"./cdn/datasource.ts\": \"./datasource/tc_monitor/cdn/datasource.ts\",\n\t\"./cdn/query.ts\": \"./datasource/tc_monitor/cdn/query.ts\",\n\t\"./cdn/query_def.ts\": \"./datasource/tc_monitor/cdn/query_def.ts\",\n\t\"./cdn_province/datasource\": \"./datasource/tc_monitor/cdn_province/datasource.ts\",\n\t\"./cdn_province/datasource.ts\": \"./datasource/tc_monitor/cdn_province/datasource.ts\",\n\t\"./cdn_province/query.ts\": \"./datasource/tc_monitor/cdn_province/query.ts\",\n\t\"./cdn_province/query_def.ts\": \"./datasource/tc_monitor/cdn_province/query_def.ts\",\n\t\"./ceip_summary/datasource\": \"./datasource/tc_monitor/ceip_summary/datasource.ts\",\n\t\"./ceip_summary/datasource.ts\": \"./datasource/tc_monitor/ceip_summary/datasource.ts\",\n\t\"./ceip_summary/query.ts\": \"./datasource/tc_monitor/ceip_summary/query.ts\",\n\t\"./ceip_summary/query_def.ts\": \"./datasource/tc_monitor/ceip_summary/query_def.ts\",\n\t\"./ces/datasource\": \"./datasource/tc_monitor/ces/datasource.ts\",\n\t\"./ces/datasource.ts\": \"./datasource/tc_monitor/ces/datasource.ts\",\n\t\"./ces/query.ts\": \"./datasource/tc_monitor/ces/query.ts\",\n\t\"./ces/query_def.ts\": \"./datasource/tc_monitor/ces/query_def.ts\",\n\t\"./cfs/datasource\": \"./datasource/tc_monitor/cfs/datasource.ts\",\n\t\"./cfs/datasource.ts\": \"./datasource/tc_monitor/cfs/datasource.ts\",\n\t\"./cfs/query.ts\": \"./datasource/tc_monitor/cfs/query.ts\",\n\t\"./cfs/query_def.ts\": \"./datasource/tc_monitor/cfs/query_def.ts\",\n\t\"./ckafka/datasource\": \"./datasource/tc_monitor/ckafka/datasource.ts\",\n\t\"./ckafka/datasource.ts\": \"./datasource/tc_monitor/ckafka/datasource.ts\",\n\t\"./ckafka/query.ts\": \"./datasource/tc_monitor/ckafka/query.ts\",\n\t\"./ckafka/query_def.ts\": \"./datasource/tc_monitor/ckafka/query_def.ts\",\n\t\"./clb/datasource\": \"./datasource/tc_monitor/clb/datasource.ts\",\n\t\"./clb/datasource.ts\": \"./datasource/tc_monitor/clb/datasource.ts\",\n\t\"./clb/query.ts\": \"./datasource/tc_monitor/clb/query.ts\",\n\t\"./clb/query_def.ts\": \"./datasource/tc_monitor/clb/query_def.ts\",\n\t\"./cls/datasource\": \"./datasource/tc_monitor/cls/datasource.ts\",\n\t\"./cls/datasource.ts\": \"./datasource/tc_monitor/cls/datasource.ts\",\n\t\"./cls/query.ts\": \"./datasource/tc_monitor/cls/query.ts\",\n\t\"./cls/query_def.ts\": \"./datasource/tc_monitor/cls/query_def.ts\",\n\t\"./cmq/datasource\": \"./datasource/tc_monitor/cmq/datasource.ts\",\n\t\"./cmq/datasource.ts\": \"./datasource/tc_monitor/cmq/datasource.ts\",\n\t\"./cmq/query.ts\": \"./datasource/tc_monitor/cmq/query.ts\",\n\t\"./cmq/query_def.ts\": \"./datasource/tc_monitor/cmq/query_def.ts\",\n\t\"./cmq_topic/datasource\": \"./datasource/tc_monitor/cmq_topic/datasource.ts\",\n\t\"./cmq_topic/datasource.ts\": \"./datasource/tc_monitor/cmq_topic/datasource.ts\",\n\t\"./cmq_topic/query.ts\": \"./datasource/tc_monitor/cmq_topic/query.ts\",\n\t\"./cmq_topic/query_def.ts\": \"./datasource/tc_monitor/cmq_topic/query_def.ts\",\n\t\"./cos/datasource\": \"./datasource/tc_monitor/cos/datasource.ts\",\n\t\"./cos/datasource.ts\": \"./datasource/tc_monitor/cos/datasource.ts\",\n\t\"./cos/query_def.ts\": \"./datasource/tc_monitor/cos/query_def.ts\",\n\t\"./cpm/datasource\": \"./datasource/tc_monitor/cpm/datasource.ts\",\n\t\"./cpm/datasource.ts\": \"./datasource/tc_monitor/cpm/datasource.ts\",\n\t\"./cpm/query.ts\": \"./datasource/tc_monitor/cpm/query.ts\",\n\t\"./cpm/query_def.ts\": \"./datasource/tc_monitor/cpm/query_def.ts\",\n\t\"./cvm/datasource\": \"./datasource/tc_monitor/cvm/datasource.ts\",\n\t\"./cvm/datasource.ts\": \"./datasource/tc_monitor/cvm/datasource.ts\",\n\t\"./cvm/query.ts\": \"./datasource/tc_monitor/cvm/query.ts\",\n\t\"./cvm/query_def.ts\": \"./datasource/tc_monitor/cvm/query_def.ts\",\n\t\"./cynosdb_mysql/datasource\": \"./datasource/tc_monitor/cynosdb_mysql/datasource.ts\",\n\t\"./cynosdb_mysql/datasource.ts\": \"./datasource/tc_monitor/cynosdb_mysql/datasource.ts\",\n\t\"./cynosdb_mysql/query.ts\": \"./datasource/tc_monitor/cynosdb_mysql/query.ts\",\n\t\"./cynosdb_mysql/query_def.ts\": \"./datasource/tc_monitor/cynosdb_mysql/query_def.ts\",\n\t\"./dc/datasource\": \"./datasource/tc_monitor/dc/datasource.ts\",\n\t\"./dc/datasource.ts\": \"./datasource/tc_monitor/dc/datasource.ts\",\n\t\"./dc/query.ts\": \"./datasource/tc_monitor/dc/query.ts\",\n\t\"./dc/query_def.ts\": \"./datasource/tc_monitor/dc/query_def.ts\",\n\t\"./dcdb/datasource\": \"./datasource/tc_monitor/dcdb/datasource.ts\",\n\t\"./dcdb/datasource.ts\": \"./datasource/tc_monitor/dcdb/datasource.ts\",\n\t\"./dcdb/query.ts\": \"./datasource/tc_monitor/dcdb/query.ts\",\n\t\"./dcdb/query_def.ts\": \"./datasource/tc_monitor/dcdb/query_def.ts\",\n\t\"./dcg/datasource\": \"./datasource/tc_monitor/dcg/datasource.ts\",\n\t\"./dcg/datasource.ts\": \"./datasource/tc_monitor/dcg/datasource.ts\",\n\t\"./dcg/query.ts\": \"./datasource/tc_monitor/dcg/query.ts\",\n\t\"./dcg/query_def.ts\": \"./datasource/tc_monitor/dcg/query_def.ts\",\n\t\"./dcx/datasource\": \"./datasource/tc_monitor/dcx/datasource.ts\",\n\t\"./dcx/datasource.ts\": \"./datasource/tc_monitor/dcx/datasource.ts\",\n\t\"./dcx/query.ts\": \"./datasource/tc_monitor/dcx/query.ts\",\n\t\"./dcx/query_def.ts\": \"./datasource/tc_monitor/dcx/query_def.ts\",\n\t\"./ecdn/datasource\": \"./datasource/tc_monitor/ecdn/datasource.ts\",\n\t\"./ecdn/datasource.ts\": \"./datasource/tc_monitor/ecdn/datasource.ts\",\n\t\"./ecdn/query.ts\": \"./datasource/tc_monitor/ecdn/query.ts\",\n\t\"./ecdn/query_def.ts\": \"./datasource/tc_monitor/ecdn/query_def.ts\",\n\t\"./ecm/datasource\": \"./datasource/tc_monitor/ecm/datasource.ts\",\n\t\"./ecm/datasource.ts\": \"./datasource/tc_monitor/ecm/datasource.ts\",\n\t\"./ecm/query.ts\": \"./datasource/tc_monitor/ecm/query.ts\",\n\t\"./ecm/query_def.ts\": \"./datasource/tc_monitor/ecm/query_def.ts\",\n\t\"./ecm_block_storage/datasource\": \"./datasource/tc_monitor/ecm_block_storage/datasource.ts\",\n\t\"./ecm_block_storage/datasource.ts\": \"./datasource/tc_monitor/ecm_block_storage/datasource.ts\",\n\t\"./ecm_block_storage/query.ts\": \"./datasource/tc_monitor/ecm_block_storage/query.ts\",\n\t\"./ecm_block_storage/query_def.ts\": \"./datasource/tc_monitor/ecm_block_storage/query_def.ts\",\n\t\"./ecm_lb/datasource\": \"./datasource/tc_monitor/ecm_lb/datasource.ts\",\n\t\"./ecm_lb/datasource.ts\": \"./datasource/tc_monitor/ecm_lb/datasource.ts\",\n\t\"./ecm_lb/query.ts\": \"./datasource/tc_monitor/ecm_lb/query.ts\",\n\t\"./ecm_lb/query_def.ts\": \"./datasource/tc_monitor/ecm_lb/query_def.ts\",\n\t\"./gse/datasource\": \"./datasource/tc_monitor/gse/datasource.ts\",\n\t\"./gse/datasource.ts\": \"./datasource/tc_monitor/gse/datasource.ts\",\n\t\"./gse/query.ts\": \"./datasource/tc_monitor/gse/query.ts\",\n\t\"./gse/query_def.ts\": \"./datasource/tc_monitor/gse/query_def.ts\",\n\t\"./lb/datasource\": \"./datasource/tc_monitor/lb/datasource.ts\",\n\t\"./lb/datasource.ts\": \"./datasource/tc_monitor/lb/datasource.ts\",\n\t\"./lb/query.ts\": \"./datasource/tc_monitor/lb/query.ts\",\n\t\"./lb/query_def.ts\": \"./datasource/tc_monitor/lb/query_def.ts\",\n\t\"./lighthouse/datasource\": \"./datasource/tc_monitor/lighthouse/datasource.ts\",\n\t\"./lighthouse/datasource.ts\": \"./datasource/tc_monitor/lighthouse/datasource.ts\",\n\t\"./lighthouse/query.ts\": \"./datasource/tc_monitor/lighthouse/query.ts\",\n\t\"./lighthouse/query_def.ts\": \"./datasource/tc_monitor/lighthouse/query_def.ts\",\n\t\"./mongodb/datasource\": \"./datasource/tc_monitor/mongodb/datasource.ts\",\n\t\"./mongodb/datasource.ts\": \"./datasource/tc_monitor/mongodb/datasource.ts\",\n\t\"./mongodb/query.ts\": \"./datasource/tc_monitor/mongodb/query.ts\",\n\t\"./mongodb/query_def.ts\": \"./datasource/tc_monitor/mongodb/query_def.ts\",\n\t\"./mr/datasource\": \"./datasource/tc_monitor/mr/datasource.ts\",\n\t\"./mr/datasource.ts\": \"./datasource/tc_monitor/mr/datasource.ts\",\n\t\"./mr/query.ts\": \"./datasource/tc_monitor/mr/query.ts\",\n\t\"./mr/query_def.ts\": \"./datasource/tc_monitor/mr/query_def.ts\",\n\t\"./nat_gateway/datasource\": \"./datasource/tc_monitor/nat_gateway/datasource.ts\",\n\t\"./nat_gateway/datasource.ts\": \"./datasource/tc_monitor/nat_gateway/datasource.ts\",\n\t\"./nat_gateway/query.ts\": \"./datasource/tc_monitor/nat_gateway/query.ts\",\n\t\"./nat_gateway/query_def.ts\": \"./datasource/tc_monitor/nat_gateway/query_def.ts\",\n\t\"./ov_cdn/datasource\": \"./datasource/tc_monitor/ov_cdn/datasource.ts\",\n\t\"./ov_cdn/datasource.ts\": \"./datasource/tc_monitor/ov_cdn/datasource.ts\",\n\t\"./ov_cdn/query.ts\": \"./datasource/tc_monitor/ov_cdn/query.ts\",\n\t\"./ov_cdn/query_def.ts\": \"./datasource/tc_monitor/ov_cdn/query_def.ts\",\n\t\"./pcx/datasource\": \"./datasource/tc_monitor/pcx/datasource.ts\",\n\t\"./pcx/datasource.ts\": \"./datasource/tc_monitor/pcx/datasource.ts\",\n\t\"./pcx/query.ts\": \"./datasource/tc_monitor/pcx/query.ts\",\n\t\"./pcx/query_def.ts\": \"./datasource/tc_monitor/pcx/query_def.ts\",\n\t\"./postgresql/datasource\": \"./datasource/tc_monitor/postgresql/datasource.ts\",\n\t\"./postgresql/datasource.ts\": \"./datasource/tc_monitor/postgresql/datasource.ts\",\n\t\"./postgresql/query.ts\": \"./datasource/tc_monitor/postgresql/query.ts\",\n\t\"./postgresql/query_def.ts\": \"./datasource/tc_monitor/postgresql/query_def.ts\",\n\t\"./qaap/datasource\": \"./datasource/tc_monitor/qaap/datasource.ts\",\n\t\"./qaap/datasource.ts\": \"./datasource/tc_monitor/qaap/datasource.ts\",\n\t\"./qaap/query.ts\": \"./datasource/tc_monitor/qaap/query.ts\",\n\t\"./qaap/query_def.ts\": \"./datasource/tc_monitor/qaap/query_def.ts\",\n\t\"./redis/datasource\": \"./datasource/tc_monitor/redis/datasource.ts\",\n\t\"./redis/datasource.ts\": \"./datasource/tc_monitor/redis/datasource.ts\",\n\t\"./redis/query.ts\": \"./datasource/tc_monitor/redis/query.ts\",\n\t\"./redis/query_def.ts\": \"./datasource/tc_monitor/redis/query_def.ts\",\n\t\"./redis_mem/datasource\": \"./datasource/tc_monitor/redis_mem/datasource.ts\",\n\t\"./redis_mem/datasource.ts\": \"./datasource/tc_monitor/redis_mem/datasource.ts\",\n\t\"./redis_mem/query.ts\": \"./datasource/tc_monitor/redis_mem/query.ts\",\n\t\"./redis_mem/query_def.ts\": \"./datasource/tc_monitor/redis_mem/query_def.ts\",\n\t\"./scf/datasource\": \"./datasource/tc_monitor/scf/datasource.ts\",\n\t\"./scf/datasource.ts\": \"./datasource/tc_monitor/scf/datasource.ts\",\n\t\"./scf/query.ts\": \"./datasource/tc_monitor/scf/query.ts\",\n\t\"./scf/query_def.ts\": \"./datasource/tc_monitor/scf/query_def.ts\",\n\t\"./sqlserver/datasource\": \"./datasource/tc_monitor/sqlserver/datasource.ts\",\n\t\"./sqlserver/datasource.ts\": \"./datasource/tc_monitor/sqlserver/datasource.ts\",\n\t\"./sqlserver/query.ts\": \"./datasource/tc_monitor/sqlserver/query.ts\",\n\t\"./sqlserver/query_def.ts\": \"./datasource/tc_monitor/sqlserver/query_def.ts\",\n\t\"./tcaplus/datasource\": \"./datasource/tc_monitor/tcaplus/datasource.ts\",\n\t\"./tcaplus/datasource.ts\": \"./datasource/tc_monitor/tcaplus/datasource.ts\",\n\t\"./tcaplus/query.ts\": \"./datasource/tc_monitor/tcaplus/query.ts\",\n\t\"./tcaplus/query_def.ts\": \"./datasource/tc_monitor/tcaplus/query_def.ts\",\n\t\"./tdmq/datasource\": \"./datasource/tc_monitor/tdmq/datasource.ts\",\n\t\"./tdmq/datasource.ts\": \"./datasource/tc_monitor/tdmq/datasource.ts\",\n\t\"./tdmq/query.ts\": \"./datasource/tc_monitor/tdmq/query.ts\",\n\t\"./tdmq/query_def.ts\": \"./datasource/tc_monitor/tdmq/query_def.ts\",\n\t\"./tdmq_rabbitmq/datasource\": \"./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts\",\n\t\"./tdmq_rabbitmq/datasource.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/datasource.ts\",\n\t\"./tdmq_rabbitmq/query.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/query.ts\",\n\t\"./tdmq_rabbitmq/query_def.ts\": \"./datasource/tc_monitor/tdmq_rabbitmq/query_def.ts\",\n\t\"./tdmq_rocketmq/datasource\": \"./datasource/tc_monitor/tdmq_rocketmq/datasource.ts\",\n\t\"./tdmq_rocketmq/datasource.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/datasource.ts\",\n\t\"./tdmq_rocketmq/query.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/query.ts\",\n\t\"./tdmq_rocketmq/query_def.ts\": \"./datasource/tc_monitor/tdmq_rocketmq/query_def.ts\",\n\t\"./tke/datasource\": \"./datasource/tc_monitor/tke/datasource.ts\",\n\t\"./tke/datasource.ts\": \"./datasource/tc_monitor/tke/datasource.ts\",\n\t\"./tke/query.ts\": \"./datasource/tc_monitor/tke/query.ts\",\n\t\"./tke/query_def.ts\": \"./datasource/tc_monitor/tke/query_def.ts\",\n\t\"./tsf/datasource\": \"./datasource/tc_monitor/tsf/datasource.ts\",\n\t\"./tsf/datasource.ts\": \"./datasource/tc_monitor/tsf/datasource.ts\",\n\t\"./tsf/query.ts\": \"./datasource/tc_monitor/tsf/query.ts\",\n\t\"./tsf/query_def.ts\": \"./datasource/tc_monitor/tsf/query_def.ts\",\n\t\"./v_clb/datasource\": \"./datasource/tc_monitor/v_clb/datasource.ts\",\n\t\"./v_clb/datasource.ts\": \"./datasource/tc_monitor/v_clb/datasource.ts\",\n\t\"./v_clb/query.ts\": \"./datasource/tc_monitor/v_clb/query.ts\",\n\t\"./v_clb/query_def.ts\": \"./datasource/tc_monitor/v_clb/query_def.ts\",\n\t\"./vbc/datasource\": \"./datasource/tc_monitor/vbc/datasource.ts\",\n\t\"./vbc/datasource.ts\": \"./datasource/tc_monitor/vbc/datasource.ts\",\n\t\"./vbc/query.ts\": \"./datasource/tc_monitor/vbc/query.ts\",\n\t\"./vbc/query_def.ts\": \"./datasource/tc_monitor/vbc/query_def.ts\",\n\t\"./vpc_net_detect/datasource\": \"./datasource/tc_monitor/vpc_net_detect/datasource.ts\",\n\t\"./vpc_net_detect/datasource.ts\": \"./datasource/tc_monitor/vpc_net_detect/datasource.ts\",\n\t\"./vpc_net_detect/query.ts\": \"./datasource/tc_monitor/vpc_net_detect/query.ts\",\n\t\"./vpc_net_detect/query_def.ts\": \"./datasource/tc_monitor/vpc_net_detect/query_def.ts\",\n\t\"./vpngw/datasource\": \"./datasource/tc_monitor/vpngw/datasource.ts\",\n\t\"./vpngw/datasource.ts\": \"./datasource/tc_monitor/vpngw/datasource.ts\",\n\t\"./vpngw/query.ts\": \"./datasource/tc_monitor/vpngw/query.ts\",\n\t\"./vpngw/query_def.ts\": \"./datasource/tc_monitor/vpngw/query_def.ts\",\n\t\"./vpnx/datasource\": \"./datasource/tc_monitor/vpnx/datasource.ts\",\n\t\"./vpnx/datasource.ts\": \"./datasource/tc_monitor/vpnx/datasource.ts\",\n\t\"./vpnx/query.ts\": \"./datasource/tc_monitor/vpnx/query.ts\",\n\t\"./vpnx/query_def.ts\": \"./datasource/tc_monitor/vpnx/query_def.ts\",\n\t\"./waf/datasource\": \"./datasource/tc_monitor/waf/datasource.ts\",\n\t\"./waf/datasource.ts\": \"./datasource/tc_monitor/waf/datasource.ts\",\n\t\"./waf/query.ts\": \"./datasource/tc_monitor/waf/query.ts\",\n\t\"./waf/query_def.ts\": \"./datasource/tc_monitor/waf/query_def.ts\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./datasource/tc_monitor sync recursive ^\\\\.\\\\/[a-zA-Z]\\\\w+\\\\/(datasource)|(query(_def)?)\\\\.ts$\";","import _ from 'lodash';\nimport { Datasources, SERVICES } from './index';\nimport { GetServiceFromNamespace, ParseMetricQuery } from '../common/constants';\nimport { serviceGroupBy } from '../common/utils';\nimport { LoadingState } from '@grafana/data';\n\nexport default interface DatasourceInterface {\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n  query: (options: any) => any;\n  testDatasource: () => any;\n  metricFindQuery: (query: any) => any;\n  getRegions?: (service: string) => any;\n  getMetrics: (service: string, region: string) => any;\n  getInstances: (service: string, region: string, params: any) => any;\n  getZones?: (service: string, region: string) => any;\n}\n\nexport class TCMonitorDatasource implements DatasourceInterface {\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n\n  /** @ngInject */\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    this.instanceSettings = instanceSettings;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    _.forEach(Datasources, (_class: any, key) => {\n      this[key] = new _class(this.instanceSettings, this.backendSrv, this.templateSrv);\n    });\n  }\n\n  // 根据 Datasource Config 配置时勾选的监控服务项，获取相应的命名空间\n  getNamespaces() {\n    const namespaces: any[] = [];\n    _.forEach(SERVICES, (service) => {\n      if (this.instanceSettings.jsonData[service.service] === true) {\n        // namespaces.push(service.namespace);\n        namespaces.push(service);\n      }\n    });\n    return namespaces;\n  }\n\n  getCascaderNamespaces() {\n    const validServices = SERVICES.filter((service) => this.instanceSettings.jsonData[service.service]);\n    return serviceGroupBy(validServices);\n  }\n\n  getSelectedServices() {\n    const namespaces = this.getNamespaces();\n    return _.map(namespaces, ({ namespace }) => {\n      return GetServiceFromNamespace(namespace);\n    });\n  }\n\n  /**\n   * 根据 Panel 的配置项，获取相应的监控数据\n   *\n   * @param options Panel 的配置参数，示例如下\n   *  {\n   *     cacheTimeout: undefined,\n   *     dashboardId: 41,\n   *     interval: \"30s\",\n   *     intervalMs: 30000,\n   *     maxDataPoints: 554,\n   *     panelId: 2,\n   *     range: {\n   *        from: Moment,\n   *        to: Moment,\n   *        raw: {from: \"now-6h\", to: \"now\"}\n   *     },\n   *     rangeRaw: {from: \"now-6h\", to: \"now\"},\n   *     scopedVars: {__interval: {…}, __interval_ms: {…}}\n   *     targets: [\n   *       {\n   *          namespace: \"QCE/CVM\",\n   *          refId: \"A\",\n   *          service: \"cvm\",\n   *          showInstanceDetails: false,\n   *          cvm: {\n   *            dimensionObject: {InstanceId: {…}}\n   *            instance: \"\",\n   *            instanceAlias: \"InstanceId\",\n   *            metricName: \"AccOuttraffic\",\n   *            metricUnit: \"MB\",\n   *            period: 10,\n   *            queries: {Filters: {…}, InstanceIds: Array(1), Limit: 20, Offset: 0, filtersChecked: false, …},\n   *            region: \"ap-beijing\"\n   *          },\n   *          cdb: {},\n   *       },\n   *     ],\n   *     timezone: \"browser\"\n   *   }\n   * @return 返回数据对象，示例如下\n   * {\n   *   data: [\n   *     {\n   *       \"target\": \"AccOuttraffic - ins-123\",\n   *       \"datapoints\": [\n   *         [861, 1450754160000],\n   *         [767, 1450754220000]\n   *       ]\n   *     }\n   *   ]\n   * }\n   */\n  query(options: any) {\n    const promises: any[] = [];\n    const services = this.getSelectedServices();\n    _.forEach(services, (service) => {\n      const optionsTemp = _.cloneDeep(options);\n      const targets = _.filter(optionsTemp.targets, (item) => item.service === service);\n      optionsTemp.targets = targets;\n      if (optionsTemp.targets.length > 0) {\n        const promiseTemp = this[`${_.toUpper(service)}Datasource`].query(optionsTemp);\n        if (promiseTemp) {\n          promises.push(promiseTemp);\n        }\n      }\n    });\n    if (promises.length === 0) {\n      return Promise.resolve({ data: [], state: LoadingState.Done });\n    }\n    return Promise.all(promises).then((results) => {\n      return { data: _.flatten(results), state: LoadingState.Done };\n    });\n  }\n\n  /**\n   * 获取模板变量的选择项列表\n   *\n   * @param query 模板变量配置填写的 Query 参数字符串\n   */\n  metricFindQuery(query: string, options?: any) {\n    const queries = ParseMetricQuery(query);\n    const service = GetServiceFromNamespace(queries['namespace'] || '');\n\n    if (_.isEmpty(queries) || !queries['namespace'] || !queries['action'] || !service) {\n      return Promise.resolve([]);\n    }\n    if (this[`${_.toUpper(service)}Datasource`].metricFindQuery) {\n      const result = this[`${_.toUpper(service)}Datasource`].metricFindQuery(\n        queries,\n        _.get(options, 'variable.regex', undefined)\n      );\n      if (result) {\n        return result;\n      }\n    }\n    return Promise.resolve([]);\n  }\n\n  /**\n   * 获取地域列表\n   * @param service\n   */\n  getRegions(service) {\n    if (this[`${_.toUpper(service)}Datasource`].getRegions) {\n      return this[`${_.toUpper(service)}Datasource`].getRegions();\n    }\n    return [];\n  }\n\n  /**\n   * 获取监控指标列表\n   * @param service\n   * @param region\n   */\n  getMetrics(service, region) {\n    return this[`${_.toUpper(service)}Datasource`].getMetrics(region);\n  }\n\n  /**\n   * 获取可用区列表\n   * @param service\n   * @param region\n   */\n  getZones(service, region) {\n    if (this[`${_.toUpper(service)}Datasource`].getZones) {\n      return this[`${_.toUpper(service)}Datasource`].getZones(region);\n    }\n    return [];\n  }\n\n  /**\n   * 获取filter中dropdown列表\n   * @param service\n   * @param param\n   */\n  getFilterDropdown(service, param) {\n    if (this[`${_.toUpper(service)}Datasource`].getFilterDropdown) {\n      return this[`${_.toUpper(service)}Datasource`].getFilterDropdown(param);\n    }\n    return [];\n  }\n\n  /**\n   * 获取实例列表\n   * @param service\n   * @param region\n   * @param params\n   */\n  getInstances(service, region, params) {\n    return this[`${_.toUpper(service)}Datasource`].getInstances(region, params);\n  }\n\n  /**\n   * 获取监听器列表\n   * @param service\n   * @param region\n   * @param params\n   */\n  getListeners(service, region, instance) {\n    if (!this[`${_.toUpper(service)}Datasource`].getListeners) {\n      return [];\n    }\n    return this[`${_.toUpper(service)}Datasource`].getListeners(region, instance);\n  }\n\n  /**\n   * 获取 私有网络列表\n   * @param service\n   */\n  getVpcIds(service, region) {\n    if (this[`${_.toUpper(service)}Datasource`].getVpcIds) {\n      return this[`${_.toUpper(service)}Datasource`].getVpcIds(region);\n    }\n  }\n\n  // 在 Datasource Config 配置时，验证 SerectId、SerectKey 的有效性，并测试勾选的监控服务项的对应 API 连通性\n  testDatasource() {\n    const promises: any[] = [];\n    const services = this.getSelectedServices();\n    _.forEach(services, (service) => {\n      promises.push(this[`${_.toUpper(service)}Datasource`].testDatasource());\n    });\n    if (promises.length === 0) {\n      return Promise.resolve(null);\n    }\n\n    return Promise.all(promises).then((results) => {\n      let status = 'success';\n      let message = 'DataSource Connection OK';\n\n      const errorMsg = _.reduce(\n        results,\n        (acc, cur) => {\n          if (cur.status === 'error') {\n            if (acc === '') acc += 'Oops! Found an error in: ';\n            acc += `${cur.service}: ${cur.message}; \\n`;\n          }\n          return acc;\n        },\n        ''\n      );\n\n      if (errorMsg) {\n        status = 'error';\n        message = errorMsg;\n      }\n\n      return {\n        status,\n        message,\n        title: _.upperFirst(status),\n      };\n    });\n  }\n\n  getServiceFn(service, fnName) {\n    return (...argu) => {\n      if (!this[`${_.toUpper(service)}Datasource`][fnName]) {\n        return [];\n      }\n      return this[`${_.toUpper(service)}Datasource`][fnName](...argu);\n    };\n  }\n}\n","import _ from 'lodash';\nimport moment from 'moment';\nimport DatasourceInterface from '../MonitorDatasource';\nimport {\n  GetRequestParams,\n  GetServiceAPIInfo,\n  ReplaceVariable,\n  GetDimensions,\n  ParseQueryResult,\n  SliceLength,\n} from '../../common/constants';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { MetricQuery } from './types';\nimport { getNamesapceFromService, getTimeShiftInMs } from '../../common/utils';\nimport { Language, setLanguage } from '../../../locale';\n\nexport interface TemplateQueryIdType {\n  instance: string;\n  listener?: string;\n}\n\ninterface queryConfigType {\n  dim_KeyInStorage: string;\n  dim_KeyInTarget?: string;\n  dim_KeyInIns?: string;\n  dim_KeyInMap: string;\n}\n\nexport abstract class BaseDatasource implements DatasourceInterface {\n  Namespace?: string;\n  service: string;\n  instanceListCache: any[] = [];\n  extraMetricDims: string[] = [];\n  url: string;\n  instanceSettings: any;\n  backendSrv: any;\n  templateSrv: any;\n  secretId: string;\n  checkKeys: string[] = [];\n  MetricReqConfig: {\n    resultFilter?: Function;\n  } = {};\n  extrasAlias?: string[] = [];\n  /*\n  一个配置：(用于处理除了InstanceId之外的)(Record中的key是指标修正之后的维度，即通过InvalidDemsion处理后)\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget 通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。为空则取即通过InvalidDemsion处理后的key\n  3 dim_KeyInMap 保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。即：templateQueryIdMap中内容。联合上面2的内容筛选出原始sourceMap\n  4 通过这个dim和sourceMap获取维度值。即sourceMap[dim]\n  */\n  queryMonitorExtraConfg: Record<string, queryConfigType> = {};\n  CandiateDimensions?: Record<string, string> = {};\n\n  InstanceReqConfig?: {\n    service?: string;\n    action: string;\n    responseField: string;\n    interceptor?: {\n      request?: (params: unknown) => unknown;\n      response?: (data: unknown) => unknown;\n    };\n  };\n  InvalidDimensions?: Record<string, string>;\n\n  abstract InstanceAliasList: string[];\n  abstract templateQueryIdMap: TemplateQueryIdType; // 必须为标识\n\n  /** @ngInject */\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    this.instanceSettings = instanceSettings;\n    this.backendSrv = backendSrv;\n    this.templateSrv = templateSrv;\n    this.url = instanceSettings.url;\n    this.secretId = (instanceSettings.jsonData || {}).secretId || '';\n    setLanguage(instanceSettings.jsonData.language || Language.Chinese);\n  }\n\n  get namespace() {\n    // 需要注意的是this.service来自于原型上，在实例中导入时注入\n    return this.Namespace || getNamesapceFromService(this.service);\n  }\n\n  // 获取额外要显示到图例里的内容\n  getOtherAlias(instance: any, target: any): string {\n    let result = '';\n    const alias = instance._InstanceAliasValue;\n    this.extrasAlias?.forEach((extra) => {\n      const extraAlia = this.getVariable(target[extra]);\n      if (extraAlia && alias.indexOf(extraAlia) === -1) {\n        result += ` - ${extraAlia}`;\n      }\n    });\n    return result;\n  }\n\n  /* 格式化模板变量上的显示 */\n  getAliasValue(instance: Record<string, any>, alias: string) {\n    const result = instance[alias];\n    return Array.isArray(result) ? result.join() : result;\n  }\n\n  formatVarDisplay(instance: Record<string, any>, displayTpl: string | undefined, instanceAlias: string) {\n    // 获取display=aaa${InstanceName}bbb${InstanceId}ccc\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !this.InstanceAliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(instance, b);\n      });\n    }\n    return this.getAliasValue(instance, instanceAlias);\n  }\n  /**\n   * @param query 模板变量配置填写的 Query 参数对象，由顶层将字符串转换为了对象\n   */\n  async metricFindQuery(query: MetricQuery, regex?: string) {\n    const { action, namespace, display, payload = {} } = query;\n    let { region, instancealias = this.templateQueryIdMap.instance } = query;\n    if (!action || !namespace) {\n      return [];\n    }\n    // 支持payload里传入模板变量\n    if (_.isObject(payload)) {\n      _.forEach(payload, (value, key) => {\n        payload[key] = _.isString(value) ? this.getVariable(value) : value;\n      });\n    }\n\n    // 查询地域列表\n    const regionQuery = action.match(/^DescribeRegions$/i);\n    if (regionQuery) {\n      return this.getRegions();\n    }\n\n    region = this.getVariable(region); // 将模板region转换为真实值\n\n    // 查询实例列表\n    if (region && action.match(/^DescribeInstances/i)) {\n      const result = await this.getVariableInstances(region, payload);\n      instancealias = this.InstanceAliasList.includes(instancealias) ? instancealias : this.templateQueryIdMap.instance;\n\n      const res = result.flatMap((item) => {\n        const insAlias = this.formatVarDisplay(item, display, instancealias);\n\n        item._InstanceAliasValue = insAlias; // FIXME:\n\n        if (!item[instancealias]) return [];\n        return [\n          {\n            text: insAlias,\n            value: item[this.templateQueryIdMap.instance],\n          },\n        ];\n      });\n\n      // 缓存全量实例列表\n      await instanceStorage.setInstance(this.service, result);\n      return res;\n    }\n\n    // 在instance实例的基础上查询其他数据\n    let instance = this.getVariable(query['instance']);\n    if (_.isArray(instance)) instance = instance[0]; // 有额外维度，仅支持实例单选情况\n    if (region && action && instance) {\n      try {\n        // instance = JSON.parse(instance);\n        const instanceCache = await instanceStorage.getInstance(this.service);\n\n        instance = _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === instance)) ?? {};\n        // eslint-disable-next-line no-empty\n      } catch (error) {}\n      return this.fetchMetricData(action, region, instance, query);\n    }\n\n    return Promise.resolve([]);\n  }\n  // 获取指标数据\n  async fetchMetricData(action: string, region: string, instance: any, query?: any) {\n    return [];\n  }\n\n  /**\n   * 根据 Panel 的配置项，获取相应的监控数据\n   *\n   * @param options Panel 的配置参数\n   * @return 返回数据数组，示例如下\n   * [\n   *   {\n   *     \"target\": \"AccOuttraffic - ins-123\",\n   *     \"datapoints\": [\n   *       [861, 1450754160000],\n   *       [767, 1450754220000]\n   *     ]\n   *   }\n   * ]\n   */\n  async dimensionsFormat(dimKeys, ins, dimensionObject, target, service, options) {\n    for (let key of dimKeys) {\n      let keyTmp = key;\n      const invalidDim = this.InvalidDimensions || this.getInvalidDimensions(this, target[service]);\n      if (invalidDim[key]) {\n        // 从【维度中】的字段到【实例中】字段的映射。 { functionName: FunctionName }\n        keyTmp = invalidDim[key];\n        ins[key] = ins[keyTmp];\n      }\n\n      let extraDimValue = this.getVariable(target[service][keyTmp]);\n      if (this.queryMonitorExtraConfg[keyTmp]) {\n        const {\n          dim_KeyInStorage,\n          dim_KeyInTarget = keyTmp,\n          dim_KeyInMap,\n          dim_KeyInIns,\n        } = this.queryMonitorExtraConfg[keyTmp];\n        let extraIns = ReplaceVariable(this.templateSrv, options.scopedVars, target[service][dim_KeyInTarget], true);\n        let extraSourceMap: any = {};\n        try {\n          extraSourceMap = JSON.parse(extraIns); // 兼容json字符串的 形式\n        } catch (error) {\n          if (_.isArray(extraIns)) extraIns = extraIns[0]; // 如果多个，取第一个。除了实例ID 暂不支持其他纬度多选\n          const extraStorage = await instanceStorage.getExtraStorage(this.service, dim_KeyInStorage);\n\n          extraSourceMap =\n            extraStorage?.find((item) => {\n              if (_.isArray(item[dim_KeyInMap])) {\n                return item[dim_KeyInMap][0] === extraIns;\n              }\n              return item[dim_KeyInMap] === extraIns;\n            }) ?? {};\n        }\n        const isStringOrNumber = _.isString(extraSourceMap) || _.isNumber(extraSourceMap);\n        // 增加ins实例之外的alias，填入到ins._InstanceAliasValue\n        const insAlias = ins._InstanceAliasValue;\n        const otherAlias = isStringOrNumber ? extraSourceMap : extraSourceMap._InstanceAliasValue;\n        if (otherAlias && insAlias.indexOf(otherAlias) === -1) {\n          ins._InstanceAliasValue += ` - ${otherAlias}`;\n        }\n\n        extraDimValue = isStringOrNumber ? extraSourceMap : extraSourceMap?.[dim_KeyInIns || keyTmp];\n      } else {\n        ins._InstanceAliasValue += this.getOtherAlias(ins, target[service]);\n      }\n\n      if (\n        getTimeShiftInMs(target[service].timeshift) > 0 &&\n        ins._InstanceAliasValue.indexOf(target[service].timeshift) === -1\n      ) {\n        ins._InstanceAliasValue += `_${target[service].timeshift}`;\n      }\n      // 设置instance，针对额外的维度，需要注意模板变量的值\n      // ins[key] = ins[keyTmp] ?? extraDimValue;\n      ins[key] = this.getDimensionsVal(ins, keyTmp, extraDimValue);\n      // cynosdb产品接口返回维度和入参不一致\n      if (this.checkKeys.length > 0) {\n        this.checkKeys.forEach((Ekey) => {\n          ins[Ekey] = ins[key];\n        });\n      }\n      dimensionObject[key] = { Name: key, Value: ins[key] };\n    }\n    return dimensionObject;\n  }\n  getDimensionsVal(ins: Record<string, any>, key: string, extraDimValue: string) {\n    let dimVal = ins[key];\n    if (_.isEmpty(dimVal) && this.CandiateDimensions[key]) {\n      dimVal = ins[this.CandiateDimensions[key]];\n    }\n    return dimVal ?? extraDimValue;\n  }\n  query(options: any) {\n    const service = this.service!; // 强制声明非空\n\n    const queries = _.filter(options.targets, (item) => {\n      // 过滤无效的查询 target\n      return (\n        item.hide !== true &&\n        !!item.namespace &&\n        !!item[service].metricName &&\n        !_.isEmpty(ReplaceVariable(this.templateSrv, options.scopedVars, item[service].region, false)) &&\n        !_.isEmpty(ReplaceVariable(this.templateSrv, options.scopedVars, item[service].instance, true))\n      );\n    })\n      .reduce((prev, target) => {\n        if (getTimeShiftInMs(target[service].timeshift) > 0) {\n          const cloneTarget = _.cloneDeep(target);\n          cloneTarget[service].timeshift = '';\n          return [...prev, cloneTarget, target];\n        }\n        return [...prev, target];\n      }, [])\n      .map(async (target) => {\n        // 实例 instances 可能为模板变量，需先获取实际值\n        // 针对JSON字符串和id的形式，分开做处理\n        let instances = ReplaceVariable(this.templateSrv, options.scopedVars, target[service].instance, true);\n        const instanceCache = await instanceStorage.getInstance(this.service);\n        const timeshift = getTimeShiftInMs(target[service].timeshift);\n\n        instances = [].concat(instances).map((inst) => {\n          try {\n            return JSON.parse(inst); // 兼容json字符串的 形式\n          } catch (error) {\n            // 如果没拿到缓存，取默认实例组\n            if (!instanceCache) return this.getDefaultInsObj?.(inst);\n            return _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === inst)) ?? {};\n          }\n        });\n        const region = ReplaceVariable(this.templateSrv, options.scopedVars, target[service].region, false);\n        const insInReq: any = [];\n        for (let ins of instances) {\n          const dimensionObject = target[service].dimensionObject;\n          // 处理dimensions的值\n          const dimKeys = Object.keys(dimensionObject);\n          const dimResult = await this.dimensionsFormat(dimKeys, ins, dimensionObject, target, service, options);\n\n          insInReq.push([{ Dimensions: GetDimensions(dimResult) }]);\n        }\n        const data = {\n          StartTime: moment(options.range.from).subtract(timeshift).format(),\n          EndTime: moment(options.range.to).subtract(timeshift).format(),\n          Period: target[service].period || 300,\n          Instances: _.flatMap(insInReq),\n          Namespace: target.namespace,\n          MetricName: target[service].metricName,\n        };\n        return this.getMonitorData(data, region, instances, target[service], options);\n      });\n\n    if (queries.length === 0) {\n      return [];\n    }\n\n    return Promise.all(queries)\n      .then((responses) => {\n        return _.flatten(responses);\n      })\n      .catch((error) => {\n        return [];\n      });\n  }\n  getDefaultInsObj(ins: string) {\n    return {} as any;\n  }\n  getInstanceReqConfig(selfIns: any) {\n    return {} as any;\n  }\n  getInvalidDimensions(selfIns: any, target?: any) {\n    return {} as any;\n  }\n  // 获取某个变量的实际值，this.templateSrv.replace() 函数返回实际值的字符串\n  getVariable(metric?: string) {\n    const rs = this.templateSrv.replace((metric || '').trim());\n    const valStr = rs.match(/\\{([\\w-,]+)\\}/);\n    // 判断是否为多选\n    if (valStr) {\n      return valStr[1].split(',');\n    }\n    return rs;\n  }\n\n  /**\n   * 获取 监控数据\n   * @param params 获取监控数据的请求参数\n   * @param region 地域信息\n   * @param instances 实例列表，用于对返回结果的匹配解析\n   */\n  getMonitorData(params, region, instances, target, options) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const timeshift = getTimeShiftInMs(target.timeshift);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { action: 'GetMonitorData', region }\n    ).then((response) => {\n      return ParseQueryResult(response, instances, timeshift);\n    });\n  }\n\n  getRegions(): any {\n    return this.doRequest(\n      {\n        url: this.url + '/cvm',\n      },\n      'cvm',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getMetrics(region = 'ap-guangzhou'): Promise<any> {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: this.namespace,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    ).then((response) => {\n      const res = _.filter(\n        _.filter(response.MetricSet || [], (item) => !(item.Namespace !== this.namespace || !item.MetricName))\n      );\n      const resFilterFn = this.MetricReqConfig.resultFilter;\n      if (resFilterFn) {\n        return res.map((item) => resFilterFn(item));\n      }\n      return res;\n    });\n  }\n\n  getInstances(region, params = {}) {\n    const {\n      service = this.service,\n      action,\n      responseField: field,\n      interceptor,\n    } = this.InstanceReqConfig || this.getInstanceReqConfig(this);\n    params = { Offset: 0, Limit: 100, ...params };\n    const serviceInfo = GetServiceAPIInfo(region, service);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: interceptor?.request ? interceptor.request(params) : params,\n      },\n      serviceInfo.service,\n      { region, action }\n    ).then((response) => {\n      // 处理异常，则不按正常的情况处理，直接抛出错误\n      if (response?.Error) {\n        console.error(response.Error);\n        return response;\n      }\n\n      let result;\n      // 先，field处理\n      if (field) {\n        result = _.get(response, field) ?? _.get(response, `Result.${field}`) ?? [];\n      }\n\n      // 后，拦截器处理\n      if (interceptor?.response) {\n        result = interceptor.response(result);\n      }\n      return result;\n    });\n  }\n\n  getVariableInstances(region, query = {}): Promise<any[]> {\n    let result: any[] = [];\n    const params = { ...{ Offset: 0, Limit: 100 }, ...query };\n\n    const {\n      service = this.service,\n      action,\n      responseField: field,\n      interceptor,\n    } = this.InstanceReqConfig || this.getInstanceReqConfig(this);\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: interceptor?.request ? interceptor.request(params) : params,\n      },\n      serviceInfo.service,\n      { region, action }\n    ).then((response) => {\n      result = _.get(response, field) ?? _.get(response, `Result.${field}`) ?? [];\n      const total =\n        response.TotalCount ?? response.TotalCnt ?? response.TotalNumber ?? _.get(response, `Result.TotalCount`) ?? 0;\n      if (result.length >= total) {\n        return interceptor?.response ? interceptor.response(result) : result;\n      } else {\n        const param = SliceLength(total, params?.Limit || 100);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getInstances(region, { ...item, ...query }));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return interceptor?.response ? interceptor.response(result) : result;\n          })\n          .catch((error) => {\n            return interceptor?.response ? interceptor.response(result) : result;\n          });\n      }\n    });\n  }\n\n  // 检查某变量字段是否有值\n  isValidConfigField(field: string) {\n    return field && field.length > 0;\n  }\n\n  testDatasource() {\n    // const { service = this.service, action } = this.InstanceReqConfig;\n    // const serviceInfo = GetServiceAPIInfo('ap-guangzhou', service);\n\n    if (!this.isValidConfigField(this.secretId)) {\n      return {\n        service: this.service,\n        status: 'error',\n        message: 'The SecretId/SecretKey field is required.',\n      };\n    }\n\n    return Promise.all([\n      this.getRegions(),\n      this.getMetrics(),\n      // this.doRequest(\n      //   {\n      //     url: this.url + serviceInfo.path,\n      //     data: {\n      //       Offset: 0,\n      //       Limit: 1,\n      //     },\n      //   },\n      //   service,\n      //   { region: 'ap-guangzhou', action },\n      // ),\n      this.getInstances('ap-guangzhou', {\n        Offset: 0,\n        Limit: 1,\n      }),\n    ])\n      .then((responses) => {\n        const cvmErr = _.get(responses, '[0].Error', {});\n        const monitorErr = _.get(responses, '[1].Error', {});\n        const serviceErr = _.get(responses, '[2].Error', {});\n        // const cvmAuthFail = _.get(cvmErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        // const monitorAuthFail = _.get(monitorErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        // const serviceAuthFail = _.get(serviceErr, 'Code', '').indexOf('AuthFailure') !== -1;\n        const cvmAuthFail = _.get(cvmErr, 'Code', '');\n        const monitorAuthFail = _.get(monitorErr, 'Code', '');\n        const serviceAuthFail = _.get(serviceErr, 'Code', '');\n        if (cvmAuthFail || monitorAuthFail || serviceAuthFail) {\n          const messages: any[] = [];\n          if (cvmAuthFail) {\n            messages.push(_.get(cvmErr, 'Code'));\n          }\n          if (monitorAuthFail) {\n            messages.push(_.get(monitorErr, 'Code'));\n          }\n          if (serviceAuthFail) {\n            messages.push(_.get(serviceErr, 'Code'));\n          }\n          const message = _.join(_.compact(_.uniq(messages)), '; ');\n          return {\n            service: this.service,\n            status: 'error',\n            message,\n          };\n        } else {\n          return {\n            namespace: this.namespace,\n            service: this.service,\n            status: 'success',\n            message: `Successfully queried the ${this.service} service.`,\n            title: 'Success',\n          };\n        }\n      })\n      .catch((error) => {\n        let message = `${this.service} service:`;\n        message += error.statusText ? error.statusText + '; ' : '';\n        if (_.get(error, 'data.error.code', '')) {\n          message += error.data.error.code + '. ' + error.data.error.message;\n        } else if (_.get(error, 'data.error', '')) {\n          message += error.data.error;\n        } else if (_.get(error, 'data', '')) {\n          message += error.data;\n        } else {\n          message += `Cannot connect to ${this.service} service.`;\n        }\n        return {\n          service: this.service,\n          status: 'error',\n          message: message,\n        };\n      });\n  }\n\n  async doRequest(options, service, signObj: any = {}) {\n    options = await GetRequestParams(\n      options,\n      service,\n      signObj,\n      this.secretId,\n      this.instanceSettings.id,\n      this.backendSrv\n    );\n    return this.backendSrv\n      .datasourceRequest(options)\n      .then((response) => {\n        return _.get(response, 'data.Response', {});\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { DetailQueryConfig } from './types';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nfunction classFactory(detailConfig) {\n  return class QueryCtrl {\n    static _config: DetailQueryConfig;\n\n    /** @ngInject */\n    constructor($scope, $rootScope) {\n      Object.assign($scope, detailConfig);\n\n      $scope.getDropdown = (field) => {\n        const service = GetServiceFromNamespace($scope.namespace);\n        return $scope.datasource.getFilterDropdown(service, { field, region: $scope.region });\n      };\n    }\n  };\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"{{instanceDocUrl}}\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in fieldDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownMulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <gf-form-dropdown \n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\" \n        allow-custom=\"true\" \n        lookup-text=\"true\" \n        get-options=\"getDropdown(field.key)\" \n        css-class=\"min-width-10\"\n        on-change=\"onChange()\">\n      </gf-form-dropdown>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n      <gf-form-switch \n        ng-if=\"field.type === 'switch'\"\n        class=\"gf-form tc-switch\" \n        label-class=\"width-7\" \n        checked=\"target.queries[field.key]\" \n        switch-class=\"max-width-5\"\n      ></gf-form-switch>\n    </div>\n  </div>\n</div>\n  </div>\n`;\nfunction queryDDOFactory(QueryCtrl) {\n  return function queryDDO() {\n    return {\n      template: template,\n      controller: QueryCtrl,\n      restrict: 'E',\n      scope: {\n        target: '=',\n        showDetail: '=',\n        region: '=',\n        datasource: '=',\n        getDropdownOptions: '&',\n        onChange: '&',\n      },\n    };\n  };\n}\n\nexport default (name: string, config: DetailQueryConfig) => {\n  // QueryCtrl._config = config;\n  const newQueryIns = classFactory(config);\n  coreModule.directive(name, queryDDOFactory(newQueryIns));\n};\n","import coreModule from 'grafana/app/core/core_module';\nimport { DetailQueryConfig } from './types';\n\nclass SPQueryCtrl {\n  static _config: DetailQueryConfig;\n\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    Object.assign($scope, SPQueryCtrl._config);\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"{{instanceDocUrl}}\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      InstanceIds\n      <info-popover mode=\"right-normal\">\n        实例 ID，每次请求的实例的上限为100，参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CVMFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n</div>\n`;\n\nexport function queryDDO() {\n  return {\n    template: template,\n    controller: SPQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\nexport default (name: string, config: DetailQueryConfig) => {\n  SPQueryCtrl._config = config;\n  coreModule.directive(name, queryDDO);\n};\n","import {\n  APIGATEWAYInstanceAliasList,\n  APIGATEWAYInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = APIGATEWAYInstanceAliasList;\n  InvalidDimensions = APIGATEWAYInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'apigateway',\n    action: 'DescribeServicesStatus',\n    responseField: 'ServiceSet',\n  };\n\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async getEnvironmentNameList(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeServiceEnvironmentList' }\n        );\n      },\n      {\n        ServiceId: instanceId,\n      },\n      'EnvironmentList'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'DescribeServiceEnvironmentList') {\n      const rs = await this.getEnvironmentNameList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.environmentName];\n        return {\n          text: o[this.templateQueryIdMap.environmentName],\n          value: o[this.templateQueryIdMap.environmentName],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.environmentList, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { APIGATEWAYFilterFieldsDescriptor, templateQueryIdMap, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.APIGATEWAYFilterFieldsDescriptor = APIGATEWAYFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      // console.log({namespace, service});\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraDropdown = async (target) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const instanceId = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getEnvironmentNameList')({ region, instanceId });\n\n      const result = rs.map((o) => {\n        return {\n          text: o.EnvironmentName,\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in APIGATEWAYFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">EnvironmentName</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target.EnvironmentName\" allow-custom=\"true\" lookup-text=\"true\"  get-options=\"getExtraDropdown(target)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/APIGATEWAY';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'apigatewayQuery';\n\nconst APIGATEWAYInvalidDemensions = {\n  serviceId: 'ServiceId',\n  environmentName: 'EnvironmentName',\n  apiid: 'Apiid',\n  apiId: 'Apiid',\n};\n\n// 需和文件名对应\nconst APIGATEWAYInstanceAliasList = ['ServiceId', 'ServiceName'];\n\nconst templateQueryIdMap = {\n  instance: 'ServiceId',\n  environmentName: 'EnvironmentName',\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  environmentList: 'EnvironmentList',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  EnvironmentName: {\n    dim_KeyInStorage: keyInStorage.environmentList,\n    dim_KeyInTarget: 'EnvironmentName',\n    dim_KeyInMap: templateQueryIdMap.environmentName,\n  },\n};\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst APIGATEWAYFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ServiceId: [],\n  ServiceName: [],\n  NotUsagePlanId: [],\n  Environment: [],\n  IpVersion: [],\n};\n\nconst APIGATEWAYFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ServiceId',\n    enDescriptor: 'ServiceId',\n    cnDescriptor: '服务id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ServiceName',\n    enDescriptor: 'ServiceName',\n    cnDescriptor: '服务名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'NotUsagePlanId',\n    enDescriptor: 'NotUsagePlanId',\n    cnDescriptor: 'NotUsagePlanId',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Environment',\n    enDescriptor: 'Environment',\n    cnDescriptor: '环境名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'IpVersion',\n    enDescriptor: 'IpVersion',\n    cnDescriptor: 'IP版本',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/628/45198',\n  namespace,\n  fieldDescriptor: APIGATEWAYFilterFieldsDescriptor,\n};\n\nconst APIGATEWAY_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ServiceId',\n  EnvironmentName: '',\n  queries: APIGATEWAYFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nexport default APIGATEWAY_STATE;\nexport {\n  APIGATEWAYFilterFieldsDescriptor,\n  templateQueryIdMap,\n  APIGATEWAYInstanceAliasList,\n  APIGATEWAYInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as APIGATEWAYGetInstanceQueryParams,\n};\n","import {\n  BMINTRALBInstanceAliasList,\n  BMINTRALBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  isValidMetric,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMINTRALBInstanceAliasList;\n  InvalidDimensions = BMINTRALBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bmlb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        LoadBalancerType: 'internal',\n      }), // 设置一些请求参数的 默认值\n    },\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return item;\n        }\n        return null;\n      })\n    );\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_INTRA_LB';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'bmIntraLbQuery';\n\nconst BMINTRALBInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n  vpcId: 'VpcId',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst BMINTRALBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst BMINTRALBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n};\n\nconst BMINTRALBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: '负载均衡器ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '负载均衡器名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: '负载均衡获得的公网IP地址',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1027/33280',\n  namespace,\n  fieldDescriptor: BMINTRALBFilterFieldsDescriptor,\n};\n\nconst BMINTRALB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: BMINTRALBFilterFields,\n};\nconst BMLBValidMetricsT = ['Inpkg', 'Outpkg', 'Intraffic', 'Outtraffic', 'Connum', 'Req'];\nfunction isValidMetric(metric) {\n  const validMetrics = _.map(BMLBValidMetricsT, _.toUpper);\n  return _.indexOf(validMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default BMINTRALB_STATE;\nexport {\n  BMINTRALBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMINTRALBInstanceAliasList,\n  BMINTRALBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMINTRALBGetInstanceQueryParams,\n};\n","import { BMLBInstanceAliasList, CPMInvalidDemensions, namespace, templateQueryIdMap, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMLBInstanceAliasList;\n  InvalidDimensions = CPMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bmlb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        LoadBalancerType: 'open',\n      }), // 设置一些请求参数的 默认值\n    },\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return item;\n        }\n        return null;\n      })\n    );\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_LB';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'bmLbQuery';\n\nconst CPMInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst BMLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst CPMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n};\n\nconst CPMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: '负载均衡器ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '负载均衡器名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: '负载均衡获得的公网IP地址',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1027/33280',\n  namespace,\n  fieldDescriptor: CPMFilterFieldsDescriptor,\n};\n\nconst CPM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: CPMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nconst BMLBValidMetricsT = ['Inpkg', 'Outpkg', 'Intraffic', 'Outtraffic', 'Connum', 'Req'];\nfunction isValidMetric(metric) {\n  const validMetrics = _.map(BMLBValidMetricsT, _.toUpper);\n  return _.indexOf(validMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nexport default CPM_STATE;\nexport {\n  CPMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMLBInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMLBGetInstanceQueryParams,\n};\n","import {\n  BMPCXInstanceAliasList,\n  BMPCXInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = BMPCXInstanceAliasList;\n  InvalidDimensions = BMPCXInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bmvpc',\n    action: 'DescribeVpcPeerConnections',\n    responseField: 'VpcPeerConnectionSet',\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/BM_PCX';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'bmPcxQuery';\n\nconst BMPCXInvalidDemensions = {\n  peeringConnectionId: 'VpcPeerConnectionId',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst BMPCXInstanceAliasList = ['VpcPeerConnectionId', 'VpcPeerConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpcPeerConnectionId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst BMPCXFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  VpcPeerConnectionIds: [],\n};\n\nconst BMPCXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'VpcPeerConnectionIds',\n    enDescriptor: 'VpcPeerConnectionIds',\n    cnDescriptor: '对等连接实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/product/1024/36903',\n  namespace,\n  fieldDescriptor: BMPCXFilterFieldsDescriptor,\n};\n\nconst BMPCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpcPeerConnectionId',\n  queries: BMPCXFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['peeringConnectionId'];\n  });\n  return metricTmp;\n}\nexport default BMPCX_STATE;\nexport {\n  BMPCXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BMPCXInstanceAliasList,\n  BMPCXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMPCXGetInstanceQueryParams,\n};\n","import { BWPInstanceAliasList, BWPInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class BWPDatasource extends BaseDatasource {\n  Namespace = 'QCE/BWP';\n  InstanceAliasList = BWPInstanceAliasList;\n  InvalidDimensions = BWPInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'BandwidthPackageId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeBandwidthPackages',\n    responseField: 'BandwidthPackageSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { BWPFilterFieldsDescriptor } from './query_def';\n\nexport class BWPQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.BWPFilterFieldsDescriptor = BWPFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      BandwidthPackageIds\n      <info-popover mode=\"right-normal\">\n        带宽包唯一ID列表，参数不支持同时指定 BandwidthPackageIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.BandwidthPackageIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 BandwidthPackageIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in BWPFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function bwpQuery() {\n  return {\n    template: template,\n    controller: BWPQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('bwpQuery', bwpQuery);\n","import _ from 'lodash';\nconst networkTypes = [\n  { text: 'BGP', value: 'BGP' },\n  { text: 'SINGLEISP', value: 'SINGLEISP' },\n  { text: 'ANYCAST', value: 'ANYCAST' },\n];\n\nconst chargeTypes = [\n  { text: 'top5计费', value: 'TOP5_POSTPAID_BY_MONTH' },\n  { text: '月95计费', value: 'PERCENT95_POSTPAID_BY_MONTH' },\n];\nconst BWPFilterFields = {\n  'bandwidth-package_id': [],\n  'bandwidth-package-name': [],\n  'network-type': [],\n  'charge-type': [],\n};\n\nconst BWPFilterFieldsDescriptor = [\n  {\n    key: 'bandwidth-package_id',\n    enDescriptor: 'BandwidthPackage Id',\n    cnDescriptor: '带宽包ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'bandwidth-package-name',\n    enDescriptor: 'BandwidthPackage Name',\n    cnDescriptor: '带宽包名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'network-type',\n    enDescriptor: 'network type',\n    cnDescriptor: '带宽包类型',\n    link: '',\n    type: 'select',\n    list: networkTypes,\n  },\n  {\n    key: 'charge-type',\n    enDescriptor: 'charge type',\n    cnDescriptor: '带宽包计费类型',\n    link: '',\n    type: 'select',\n    list: chargeTypes,\n  },\n];\n\nconst BWP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'BandwidthPackageId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    BandwidthPackageIds: [''],\n    Filters: { ...BWPFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.BandwidthPackageIds)) {\n        const BandwidthPackageIds = _.compact(queries.BandwidthPackageIds);\n        if (_.uniq(BandwidthPackageIds).length > 0) {\n          params.BandwidthPackageIds = _.uniq(BandwidthPackageIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst BWPInstanceAliasList = ['BandwidthPackageId', 'BandwidthPackageName'];\n\nconst templateQueryIdMap = {\n  instance: 'BandwidthPackageId',\n};\n\nconst BWPInvalidDemensions = {\n  bandwidthPackageId: 'BandwidthPackageId',\n};\nexport default BWP_STATE;\nexport {\n  BWPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  BWPInstanceAliasList,\n  BWPInvalidDemensions,\n  GetInstanceQueryParams as BWPGetInstanceQueryParams,\n};\n","import { CBSInstanceAliasList, CBSInvalidDemensions, namespace, templateQueryIdMap, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CBSInstanceAliasList;\n  InvalidDimensions = CBSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cbs',\n    action: 'DescribeDisks',\n    responseField: 'DiskSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.filter(rawSet, isValidMetric);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/BLOCK_STORAGE';\nconst queryEditorName = 'cbsQuery';\n\nconst CBSInvalidDemensions = {\n  diskId: 'DiskId',\n  InstanceId: 'InstanceId',\n  diskname: 'DiskName',\n  unInstanceId: 'InstanceId',\n};\n\nconst CBSInstanceAliasList = ['DiskId', 'DiskName'];\n\nconst templateQueryIdMap = {\n  instance: 'DiskId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst CBSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DiskIds: [],\n  OrderField: [],\n  Order: [],\n  ReturnBindAutoSnapshotPolicy: false,\n};\n\nconst CBSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DiskIds',\n    enDescriptor: 'DiskIds',\n    cnDescriptor: '云硬盘ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Order',\n    enDescriptor: 'Order',\n    cnDescriptor: '排列顺序',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '升序排列', value: 'ASC' },\n      { text: '降序排列', value: 'DESC' },\n    ],\n  },\n  {\n    key: 'OrderField',\n    enDescriptor: 'OrderField',\n    cnDescriptor: '排序的依据字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '云盘的创建时间排序', value: 'CREATE_TIME' },\n      { text: '云盘的到期时间排序', value: 'DEADLINE' },\n    ],\n  },\n  {\n    key: 'ReturnBindAutoSnapshotPolicy',\n    enDescriptor: 'ReturnBindAutoSnapshotPolicy',\n    cnDescriptor: '否需要返回云盘绑定的定期快照策略ID',\n    link: '',\n    type: 'switch',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/362/16315',\n  namespace,\n  fieldDescriptor: CBSFilterFieldsDescriptor,\n};\n\nconst CBS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DiskId',\n  queries: CBSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n  return dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1;\n}\nexport default CBS_STATE;\nexport {\n  CBSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CBSInstanceAliasList,\n  CBSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  isValidMetric,\n  GetInstanceQueryParams as CBSGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport {\n  CDBInstanceAliasList,\n  CDBInvalidDemensions,\n  isValidMetric,\n  modifyDimensons,\n  templateQueryIdMap,\n} from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDBDatasource extends BaseDatasource {\n  Namespace = 'QCE/CDB';\n  InstanceAliasList = CDBInstanceAliasList;\n  InvalidDimensions = CDBInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'cdb',\n    action: 'DescribeDBInstances',\n    responseField: 'Items',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return modifyDimensons(item);\n        }\n        return null;\n      })\n    );\n  }\n  /**\n   * 获取 可用区\n   * @param region 地域信息\n   */\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.ZoneId, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n  // 仅对维度组合是InstanceId和InstanceType的指标，其他指标不支持\n  getDefaultInsObj(ins: string) {\n    return {\n      [templateQueryIdMap.instance]: ins,\n      InstanceType: 1,\n    };\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDBFieldsDescriptor } from './query_def';\n\nexport class CDBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDBFieldsDescriptor = CDBFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'ZoneIds':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cdb', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/236/15872\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CDBFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function cdbQuery() {\n  return {\n    template: template,\n    controller: CDBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cdbQuery', cdbQuery);\n","import _ from 'lodash';\n\nconst InstanceTypes = [\n  { text: '主实例', value: 1 },\n  { text: '备灾实例', value: 2 },\n  { text: '只读实例', value: 3 },\n];\n\nconst Status = [\n  { text: '创建中', value: 0 },\n  { text: '运行中', value: 1 },\n  { text: '隔离中', value: 4 },\n  { text: '已隔离', value: 5 },\n];\n\nconst PayTypes = [\n  { text: '包年包月', value: 0 },\n  { text: '小时计费', value: 1 },\n];\n\nconst TaskStatus = [\n  { text: '没有任务', value: 0 },\n  { text: '升级中', value: 1 },\n  { text: '数据导入中', value: 2 },\n  { text: '开放Slave中', value: 3 },\n  { text: '外网访问开通中', value: 4 },\n  { text: '批量操作执行中', value: 5 },\n  { text: '回档中', value: 6 },\n  { text: '外网访问关闭中', value: 7 },\n  { text: '密码修改中', value: 8 },\n  { text: '实例名修改中', value: 9 },\n  { text: '重启中', value: 10 },\n  { text: '自建迁移中', value: 12 },\n  { text: '删除库表中', value: 13 },\n  { text: '灾备实例创建同步中', value: 14 },\n  { text: '升级待切换', value: 15 },\n  { text: '升级切换中', value: 16 },\n  { text: '升级切换完成', value: 17 },\n];\n\nconst EngineVersions = [\n  { text: '5.1', value: '5.1' },\n  { text: '5.5', value: '5.5' },\n  { text: '5.6', value: '5.6' },\n  { text: '5.7', value: '5.7' },\n];\n\nconst OrderBy = [\n  { text: 'InstanceId', value: 'InstanceId' },\n  { text: 'InstanceName', value: 'InstanceName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'DeadlineTime', value: 'DeadlineTime' },\n];\n\nconst OrderDirection = [\n  { text: 'ASC', value: 'ASC' },\n  { text: 'DESC', value: 'DESC' },\n];\n\nconst InitFlag = [\n  { text: '未初始化', value: 0 },\n  { text: '初始化', value: 1 },\n];\n\nconst CdbErrors = [\n  { text: '未锁定', value: 0 },\n  { text: '锁定', value: 1 },\n];\n\nconst CDBFields = {\n  ProjectId: '',\n  InstanceTypes: {},\n  Vips: [],\n  Status: {},\n  Offset: 0,\n  Limit: 20,\n  SecurityGroupId: '',\n  PayTypes: {},\n  InstanceNames: [],\n  TaskStatus: {},\n  EngineVersions: {},\n  VpcIds: [],\n  ZoneIds: [],\n  SubnetIds: [],\n  CdbErrors: {},\n  OrderBy: {},\n  OrderDirection: {},\n  InstanceIds: [],\n  InitFlag: {},\n};\n\nconst CDBFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceNames',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ZoneIds',\n    enDescriptor: 'Zone ID',\n    cnDescriptor: '可用区的ID',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'InstanceTypes',\n    enDescriptor: 'Instance Type',\n    cnDescriptor: '实例类型',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: InstanceTypes,\n  },\n  {\n    key: 'EngineVersions',\n    enDescriptor: 'Engine Version',\n    cnDescriptor: '实例数据库引擎版本',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: EngineVersions,\n  },\n  {\n    key: 'TaskStatus',\n    enDescriptor: 'Task Status',\n    cnDescriptor: '实例任务',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: TaskStatus,\n  },\n  {\n    key: 'InitFlag',\n    enDescriptor: 'Init Flag',\n    cnDescriptor: '实例初始化状态',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: InitFlag,\n  },\n  {\n    key: 'PayTypes',\n    enDescriptor: 'Pay Type',\n    cnDescriptor: '付费类型',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: PayTypes,\n  },\n  {\n    key: 'CdbErrors',\n    enDescriptor: 'CDB Errors',\n    cnDescriptor: '实例锁定标记',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: CdbErrors,\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderDirection',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderDirection,\n  },\n  {\n    key: 'Vips',\n    enDescriptor: 'Vip',\n    cnDescriptor: '实例内网IP地址',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '私有网络ID',\n    link: 'https://cloud.tencent.com/document/api/215/15778',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'Subnet ID',\n    cnDescriptor: '子网ID',\n    link: 'https://cloud.tencent.com/document/api/215/15784',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '项目ID',\n    link: 'https://cloud.tencent.com/document/product/378/4400',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroupId',\n    enDescriptor: 'Security Group ID',\n    cnDescriptor: '安全组ID',\n    link: 'https://cloud.tencent.com/document/api/236/15854',\n    type: 'input',\n  },\n];\n\nconst CDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...CDBFields },\n};\n\nconst CDBInstanceAliasList = ['InstanceId', 'InstanceName', 'Vip'];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  return (\n    dimension.length === 2 &&\n    ((_.indexOf(dimension, 'instanceid') !== -1 && _.indexOf(dimension, 'insttype') !== -1) ||\n      (_.indexOf(dimension, 'InstanceId') !== -1 && _.indexOf(dimension, 'InstanceType') !== -1))\n  );\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((i) => CDBInvalidDemensions[i] || i);\n  });\n  return metricTmp;\n}\nconst CDBInvalidDemensions = {\n  instanceid: 'InstanceId',\n  insttype: 'InstanceType',\n  region: 'Region',\n};\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default CDB_STATE;\n\nexport {\n  CDBFieldsDescriptor,\n  CDBInstanceAliasList,\n  templateQueryIdMap,\n  CDBInvalidDemensions,\n  isValidMetric,\n  modifyDimensons,\n  GetInstanceQueryParams as CDBGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { CDNInstanceAliasList, CDNInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDNDatasource extends BaseDatasource {\n  Namespace = 'QCE/CDN';\n  InstanceAliasList = CDNInstanceAliasList;\n  InvalidDimensions = CDNInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'Domain',\n  };\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDNFilterFieldsDescriptor } from './query_def';\n\nexport class CDNQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDNFilterFieldsDescriptor = CDNFilterFieldsDescriptor;\n    };\n\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/228/41118\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-repeat=\"field in CDNFilterFieldsDescriptor\">\n<label class=\"gf-form-label width-14\">\n  {{ field.key }}\n  <info-popover mode=\"right-normal\">\n    {{ field.cnDescriptor }}\n    <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n  </info-popover>\n</label>\n<multi-condition\n  ng-if=\"field.type === 'inputNumbermulti'\"\n  type=\"'inputNumber'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  maxNum=\"field.max\"\n  minNum=\"field.min\"\n  on-change=\"onChange()\"\n></multi-condition>\n<multi-condition\n  ng-if=\"field.type === 'inputmulti'\"\n  type=\"'input'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  on-change=\"onChange()\"\n></multi-condition>\n<custom-select-dropdown\n  ng-if=\"field.type === 'select'\"\n  value=\"target.queries.Filters[field.key]\"\n  options=\"field.list\"\n  multiple=\"true\"\n  on-change=\"onChange()\"\n></custom-select-dropdown>\n</div>\n\n</div>\n`;\n\nexport function cdnQuery() {\n  return {\n    template: template,\n    controller: CDNQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cdnQuery', cdnQuery);\n","import _ from 'lodash';\nconst CDNFilterFields = {\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst CDNFilterFieldsDescriptor = [\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst CDN_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...CDNFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    const Filters: any[] = [];\n    _.forEach(queries.Filters, (item: any, key) => {\n      // console.log('item', item, queries);\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: _.uniq(item).slice(0, 5) });\n        }\n      } else if (_.isObject(item)) {\n        if (!_.isEmpty(_.get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: _.get(item, 'value', []).slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters;\n    }\n  }\n  return params;\n}\n\nconst CDNInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst CDNInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default CDN_STATE;\nexport {\n  CDNFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CDNInstanceAliasList,\n  CDNInvalidDemensions,\n  GetInstanceQueryParams as CDNGetInstanceQueryParams,\n};\n","import { CDNPROVINCEInstanceAliasList, CDNPROVINCEInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CDNPROVINCEInstanceAliasList;\n  InvalidDimensions = CDNPROVINCEInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  extrasAlias = ['isp', 'district'];\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n  async getConsumerList(params: any) {\n    const { region, field } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'cdn');\n\n    // 从分页数据，获取全量数据\n    const rs = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Name: field,\n        },\n      },\n      serviceInfo.service,\n      { action: 'DescribeMapInfo' }\n    );\n    return (rs.MapInfoList || []).map((o) => {\n      return {\n        text: o.Name,\n        value: o.Name,\n      };\n    });\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    if (action === 'DescribeMapInfo') {\n      const { name: field } = query;\n      const rs = await this.getConsumerList({ region, field });\n      return rs;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CDNPROVINCEFilterFieldsDescriptor, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Isp',\n    field: 'isp',\n  },\n  {\n    label: 'Province',\n    field: 'district',\n  },\n];\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CDNPROVINCEFilterFieldsDescriptor = CDNPROVINCEFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, field });\n      return rs;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Domains are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/228/41118\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in CDNPROVINCEFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in ExtraFields\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CDN_LOG_DATA';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'cdnProvinceQuery';\n\nconst CDNPROVINCEInvalidDemensions = {\n  domain: 'Domain',\n  // isp: 'Isp',\n  projectid: 'ProjectId',\n  province: 'district',\n  appid: 'AppId',\n};\n\n// 需和文件名对应\nconst CDNPROVINCEInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst CDNPROVINCEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst CDNPROVINCEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst CDNPROVINCE_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  // Isp Province分别在两个接口，单独保存在state\n  isp: '',\n  district: '',\n  queries: CDNPROVINCEFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// const regionSupported = [\n//   { text: '华北地区(北京)', value: 'ap-beijing' },\n//   { text: '西南地区(成都)', value: 'ap-chengdu' },\n//   { text: '西南地区(重庆)', value: 'ap-chongqing' },\n//   { text: '华南地区(广州)', value: 'ap-guangzhou' },\n//   { text: '港澳台地区(中国香港)', value: 'ap-hongkong' },\n//   { text: '亚太南部(孟买)', value: 'ap-mumbai' },\n//   { text: '华东地区(南京)', value: 'ap-nanjing' },\n//   { text: '华东地区(上海)', value: 'ap-shanghai' },\n//   { text: '华东地区(上海金融)', value: 'ap-shanghai-fsi' },\n//   { text: '华南地区(深圳金融)', value: 'ap-shenzhen-fsi' },\n//   { text: '亚太东南(新加坡)', value: 'ap-singapore' },\n//   { text: '亚太东北(东京)', value: 'ap-tokyo' },\n//   { text: '欧洲地区(法兰克福)', value: 'eu-frankfurt' },\n//   { text: '美国东部(弗吉尼亚)', value: 'na-ashburn' },\n//   { text: '美国西部(硅谷)', value: 'na-siliconvalley' },\n//   { text: '北美地区(多伦多)', value: 'na-toronto' },\n// ];\nexport default CDNPROVINCE_STATE;\nexport {\n  CDNPROVINCEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CDNPROVINCEInstanceAliasList,\n  CDNPROVINCEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  // regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CDNPROVINCEGetInstanceQueryParams,\n};\n","import {\n  CEIPSUMMARYInstanceAliasList,\n  CEIPInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CEIPSUMMARYInstanceAliasList;\n  InvalidDimensions = CEIPInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeAddresses',\n    responseField: 'AddressSet',\n    interceptor: {\n      request: (params) => {\n        const { Filters } = params;\n        if (!Filters) {\n          params.Filters = [];\n        }\n        params.Filters.push({\n          Name: 'address-type',\n          Values: ['AnycastEIP'],\n        });\n        return params;\n      }, // 设置一些请求参数的 默认值\n      // response: (data: unknown[]) =>[\n      //   {\n      //     AddressId: 'AddressId',\n      //     AddressIp: '111.22.3.4'\n      //   },\n      // ],\n    },\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  // async getInstances(region, params = {}) {\n  //   const rawSet = await super.getInstances(region, params);\n  //   return rawSet.filter((item) => item.AddressType === 'AnycastEIP');\n  // }\n\n  // async getVariableInstances(region, query = {}) {\n  //   const rawSet = await super.getVariableInstances(region, query);\n  //   return rawSet.filter((item) => item.AddressType === 'AnycastEIP');\n  // }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CEIP_SUMMARY';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'ceipSummaryQuery';\n\nconst CEIPInvalidDemensions = {\n  vip: 'AddressIp',\n  eip: 'AddressIp',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst CEIPSUMMARYInstanceAliasList = ['AddressId', 'AddressName', 'AddressIp'];\n\nconst templateQueryIdMap = {\n  instance: 'AddressId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst CEIPFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'address-id': [],\n  'address-name': [],\n  'address-ip': [],\n  'address-status': {},\n  'is-arrears': {},\n  'address-isp': {},\n  'instance-id': [],\n  'private-ip-address': [],\n  'network-interface-id': [],\n};\n\nconst CEIPFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'address-id',\n    enDescriptor: 'address-id',\n    cnDescriptor: ' EIP 的唯一 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-name',\n    enDescriptor: 'address-name',\n    cnDescriptor: 'EIP 名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-ip',\n    enDescriptor: 'address-ip',\n    cnDescriptor: 'EIP 的 IP 地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'address-status',\n    enDescriptor: 'address-status',\n    cnDescriptor: 'EIP 的状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'CREATING', value: 'CREATING' },\n      { text: 'BINDING', value: 'BINDING' },\n      { text: 'BIND', value: 'BIND' },\n      { text: 'UNBINDING', value: 'UNBINDING' },\n      { text: 'UNBIND', value: 'UNBIND' },\n      { text: 'OFFLINING', value: 'OFFLINING' },\n      { text: 'BIND_ENI', value: 'BIND_ENI' },\n    ],\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: 'EIP 绑定的实例 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'private-ip-address',\n    cnDescriptor: 'EIP 绑定的内网 IP ',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'network-interface-id',\n    enDescriptor: 'network-interface-id',\n    cnDescriptor: ' EIP 绑定的弹性网卡 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'is-arrears',\n    enDescriptor: 'is-arrears',\n    cnDescriptor: 'EIP 是否欠费',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '欠费状态', value: 'TRUE' },\n      { text: '费用状态正常', value: 'FALSE' },\n    ],\n  },\n  {\n    key: 'address-isp',\n    enDescriptor: 'address-isp',\n    cnDescriptor: '运营商类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'BGP', value: 'BGP' },\n      { text: 'CMCC', value: 'CMCC' },\n      { text: 'CUCC', value: 'CUCC' },\n      { text: 'CTCC', value: 'CTCC' },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/16702',\n  namespace,\n  fieldDescriptor: CEIPFilterFieldsDescriptor,\n};\n\nconst CEIP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'AddressId',\n  queries: CEIPFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['eip'];\n  });\n  return metricTmp;\n}\nexport default CEIP_STATE;\nexport {\n  CEIPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CEIPSUMMARYInstanceAliasList,\n  CEIPInvalidDemensions,\n  namespace,\n  queryEditorName,\n  modifyDimensons,\n  queryEditorConfig,\n  GetInstanceQueryParams as CEIPSUMMARYGetInstanceQueryParams,\n};\n","import { CESInstanceAliasList, CESInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CESInstanceAliasList;\n  InvalidDimensions = CESInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'es',\n    action: 'DescribeInstances',\n    responseField: 'InstanceList',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CES';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'cesQuery';\n\nconst CESInvalidDemensions = {\n  uInstanceId: 'InstanceId',\n};\n\nconst CESInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst CESFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceIds: [],\n  InstanceNames: [],\n  OrderByKey: {},\n  OrderByType: {},\n  IpList: [],\n};\n\nconst CESFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '集群实例ID列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'InstanceNames',\n    enDescriptor: 'InstanceNames',\n    cnDescriptor: '集群实例名称列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'OrderByKey',\n    enDescriptor: 'OrderByKey',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '实例ID', value: 1 },\n      { text: '实例名称', value: 2 },\n      { text: '可用区', value: 3 },\n      { text: '创建时间', value: 4 },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '升序', value: 0 },\n      { text: '降序', value: 1 },\n    ],\n  },\n  {\n    key: 'IpList',\n    enDescriptor: 'IpList',\n    cnDescriptor: '私有网络vip列表',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/845/30631',\n  namespace,\n  fieldDescriptor: CESFilterFieldsDescriptor,\n};\n\nconst CES_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: CESFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default CES_STATE;\nexport {\n  CESFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CESInstanceAliasList,\n  CESInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CESGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\nimport { CFSInstanceAliasList, CFSInvalidDemensions, regionSupported } from './query_def';\nimport { t } from '../../../locale';\nexport default class CFSDatasource extends BaseDatasource {\n  InstanceKey: string;\n  Namespace: string;\n  InstanceAliasList: string[];\n  InvalidDimensions: Record<string, string>;\n  templateQueryIdMap = {\n    instance: 'FileSystemId',\n  };\n  extrasAlias = ['version'];\n  InstanceReqConfig: { service?: string | undefined; action: string; responseField: string };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n\n    this.Namespace = 'QCE/CFS';\n    this.InstanceAliasList = CFSInstanceAliasList;\n    this.InvalidDimensions = CFSInvalidDemensions;\n    this.InstanceReqConfig = {\n      service: 'cfs',\n      action: 'DescribeCfsFileSystems',\n      responseField: 'FileSystems',\n    };\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CFSQueryDescriptor } from './query_def';\n\nexport class SCFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CFSQueryDescriptor = CFSQueryDescriptor;\n    };\n\n    $scope.getVersions = async (target) => {\n      // console.log(2222);\n\n      // return [{ text: 1, value: 1 }];\n      // console.log(target, 'target');\n      const { instance, region } = target;\n      const fetcher = $scope.datasource.getServiceFn('scf', 'getVersions');\n      if (!instance || !region) return [];\n\n      return fetcher(region, { FunctionName: JSON.parse(instance).FunctionName }).then((res) => {\n        // console.log(res, 'res');\n\n        return res;\n      });\n    };\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n  FileSystems are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/582/38170\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CFSQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: SCFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\ncoreModule.directive('cfsQuery', scfQuery);\n","import _ from 'lodash';\n\nexport const CFSQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'FileSystemId',\n    enDescriptor: 'File System Id',\n    cnDescriptor: '文件系统 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络（VPC） ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '子网 ID',\n    link: '',\n    type: 'input',\n  },\n];\n\nconst CFS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'FileSystemId',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    FileSystemId: '',\n    VpcId: '',\n    SubnetId: '',\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst CFSInstanceAliasList = ['FileSystemId', 'FsName'];\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nconst CFSInvalidDemensions = {\n  // functionName: 'FunctionName',\n  // namespace: 'Namespace'\n};\n\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-seoul' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default CFS_STATE;\nexport {\n  CFSInstanceAliasList,\n  CFSInvalidDemensions,\n  templateQueryIdMap,\n  regionSupported,\n  GetInstanceQueryParams as CFSGetInstanceQueryParams,\n};\n\n// monitor监控数据默认支持的维度\n// export const SCFDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import _, { flattenDeep } from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  CKAFKAInstanceAliasList,\n  CKAFKATopicAliasList,\n  CKAFKAInvalidDemensions,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\n\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class CKFKADatasource extends BaseDatasource {\n  Namespace = 'QCE/CKAFKA';\n  InstanceAliasList = CKAFKAInstanceAliasList;\n  TopicAliasList = CKAFKATopicAliasList;\n  InvalidDimensions = CKAFKAInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'ckafka',\n    action: 'DescribeInstances',\n    responseField: 'InstanceList',\n  };\n  extraMetricDims = ['topicId'];\n  // extrasAlias = ['topicId', 'consumerGroup', 'partition'];\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  consumerGroupCache = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getConsumerGroups(region, params) {\n    const serviceInfo = GetServiceAPIInfo(region, 'ckafka');\n    let { InstanceId, groupname = '', topicid = '' } = params;\n    groupname = this.getVariable(groupname); // 将模板转换为真实值\n    topicid = this.getVariable(topicid); // 将模板转换为真实值\n    try {\n      groupname = JSON.parse(groupname)[templateQueryIdMap.groupName];\n      topicid = JSON.parse(topicid)[templateQueryIdMap.topicId];\n    } catch (e) {}\n    let consumerGoup = this.consumerGroupCache[InstanceId];\n    if (!consumerGoup) {\n      // 从分页数据，获取全量数据\n      consumerGoup = await fetchAllFactory(\n        (data) => {\n          return this.doRequest(\n            {\n              url: this.url + serviceInfo.path,\n              data,\n            },\n            serviceInfo.service,\n            { region, action: 'DescribeConsumerGroup' }\n          );\n        },\n        _.pick(params, 'InstanceId'),\n        ['GroupListForMonitor', 'TopicListForMonitor', 'PartitionListForMonitor', 'GroupList']\n      );\n      // topick数据从DescribeTopic\n      const topicList = await fetchAllFactory(\n        (data) => {\n          return this.doRequest(\n            {\n              url: this.url + serviceInfo.path,\n              data,\n            },\n            serviceInfo.service,\n            { region, action: 'DescribeTopic' }\n          );\n        },\n        _.pick(params, 'InstanceId'),\n        ['TopicList']\n      );\n      consumerGoup[1] = flattenDeep(topicList);\n      console.log({ consumerGoup, topicList });\n      this.consumerGroupCache[InstanceId] = consumerGoup;\n    }\n\n    let [GroupList, TopicList, PartitionList, GroupDetailList] = consumerGoup;\n    // 无重复数组\n    TopicList = _.uniqBy(TopicList, (item) => (item as any).TopicId);\n    GroupList = _.uniqBy(GroupList, (item) => (item as any).GroupName);\n    PartitionList = _.uniqBy(PartitionList, (item) => (item as any).PartitionId);\n    GroupDetailList = _.uniqBy(GroupDetailList, (item) => (item as any).ConsumerGroupName);\n    // 如果传入消费者信息，consumergroupname，获取该用户的订阅信息列表\n    const SubscribedInfos = GroupDetailList.find((d) => d.ConsumerGroupName === groupname)?.SubscribedInfo || [];\n    // 这里为了兼容PartitonList格式，最后转化为数组对象的方式\n    const partitions =\n      SubscribedInfos.find((sub) => sub.TopicId === topicid)?.Partition?.map((p) => ({\n        [templateQueryIdMap.partition]: p,\n      })) || [];\n    return {\n      GroupList,\n      TopicList:\n        SubscribedInfos.length > 0\n          ? SubscribedInfos.map(({ TopicId, TopicName }) => ({ TopicId, TopicName }))\n          : TopicList,\n      PartitionList: partitions.length > 0 ? partitions : PartitionList,\n    };\n  }\n  formatTopicVarDisplay(topic: Record<string, any>, displayTpl: string | undefined, topicAlias: string) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !this.TopicAliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(topic, b);\n      });\n    }\n    return this.getAliasValue(topic, topicAlias);\n  }\n  // 查询指标下的数据\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    let { topicalias, groupname, topicid } = query;\n    const result = await this.getConsumerGroups(region, {\n      InstanceId: instance.InstanceId,\n      groupname,\n      topicid,\n    });\n    let { display } = query;\n    const { TopicList, GroupList, PartitionList } = result;\n    topicalias = this.TopicAliasList.includes(topicalias) ? topicalias : this.templateQueryIdMap.topicId;\n\n    const rs = {\n      GroupList: GroupList.map((group) => {\n        group._InstanceAliasValue = group.GroupName;\n        return {\n          text: group.GroupName,\n          value: group[templateQueryIdMap.groupName],\n        };\n      }),\n      TopicList: TopicList.map((topic) => {\n        const topicAlias = this.formatTopicVarDisplay(topic, display, topicalias);\n        topic._InstanceAliasValue = topicAlias || topic[templateQueryIdMap.topicId];\n        return {\n          text: topicAlias || topic[templateQueryIdMap.topicId],\n          value: topic[templateQueryIdMap.topicId], // 为了获取多维度的值，这里完全可以使用JSON.stringify()将整个对象放进去\n          TopicName: topic.TopicName,\n        };\n      }),\n      PartitionList: PartitionList.map((par) => {\n        par._InstanceAliasValue = par[templateQueryIdMap.partition];\n        return {\n          text: par[templateQueryIdMap.partition],\n          value: par[templateQueryIdMap.partition],\n        };\n      }),\n    };\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.TopicList, TopicList);\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.GroupList, GroupList);\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.PartitionList, PartitionList);\n    // console.log({ res1, res2, res3 });\n    // console.log({rs});\n    // 根据action返回指定的维度数据列表\n    switch (action) {\n      case 'DescribeTopicList':\n        return rs.TopicList;\n      case 'DescribeGroup':\n        return rs.GroupList;\n      case 'DescribePartion':\n        return rs.PartitionList;\n      default:\n        return [];\n    }\n  }\n\n  // async getOtherAlias(datapoints) {\n  //   let dimension;\n  //   for(let j = 0; j < datapoints.Dimensions.length; j++){\n  //     if(datapoints.Dimensions[j] !== 'InstanceName'){\n  //       dimension.push(datapoints.Dimensions[j])\n  //     }\n  //   }\n  //   console.log(dimension);\n\n  //   return dimension\n  // }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CKAFKAQueryDescriptor, templateQueryIdMap } from './query_def';\nimport { isTargetEqual } from '../../common/utils';\n\nconst ExtraFields = [\n  {\n    label: 'ConsumerGroup',\n    field: 'consumerGroup',\n  },\n  {\n    label: 'TopicId',\n    field: 'topicId',\n  },\n  {\n    label: 'Partition',\n    field: 'partition',\n  },\n];\n\nexport class CKAFKAQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CKAFKAQueryDescriptor = CKAFKAQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n    $scope.onInstanceChange = (n, o) => {\n      if (isTargetEqual(n, o, 'LoadBalancerId')) return;\n      $scope.target.consumerGroup = '';\n      $scope.target.topicId = '';\n      $scope.target.topicName = '';\n      $scope.target.partition = '';\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('ckafka', 'getVariable')(instance);\n      if (Array.isArray(instance)) instance = instance[0];\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).InstanceId;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      const InstanceId = $scope.getInstanceId();\n      const fetcher = $scope.datasource.getServiceFn('ckafka', 'getConsumerGroups');\n      const region = $scope.datasource.getServiceFn('ckafka', 'getVariable')(target.region);\n      const res = await fetcher(region, { InstanceId, groupname: target.consumerGroup, topicid: target.topicId });\n\n      const { TopicList, GroupList, PartitionList } = res;\n      const data = {\n        GroupList: GroupList.map((group) => {\n          group._InstanceAliasValue = group.GroupName;\n          return {\n            text: group.GroupName,\n            value: JSON.stringify(group),\n          };\n        }),\n        TopicList: TopicList.map((topic) => {\n          topic._InstanceAliasValue = topic[templateQueryIdMap.topicId];\n          return {\n            text: topic[templateQueryIdMap.topicId],\n            value: JSON.stringify(topic), // 为了获取多维度的值，这里完全可以使用JSON.stringify()将整个对象放进去\n          };\n        }),\n        PartitionList: PartitionList.map((par) => {\n          par._InstanceAliasValue = par[templateQueryIdMap.partition];\n          return {\n            text: String(par[templateQueryIdMap.partition]),\n            value: JSON.stringify(par),\n          };\n        }),\n      };\n\n      switch (field) {\n        case 'consumerGroup':\n          return data.GroupList;\n        case 'topicId':\n          return data.TopicList;\n        case 'partition':\n          return data.PartitionList;\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/583/18582\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CKAFKAQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 主题，消费分组，分区 -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: CKAFKAQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n      instance: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\ncoreModule.directive('ckafkaQuery', scfQuery);\n","import _ from 'lodash';\n\nexport const CKAFKAQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstanceId',\n    cnDescriptor: '按照实例ID过滤',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SearchWord',\n    enDescriptor: 'SearchWord',\n    cnDescriptor: '按照实例名称过滤，支持模糊查询',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '匹配标签key值',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例的状态，不填默认返回全部',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '创建中', value: 0 },\n      { text: '运行中', value: 1 },\n      { text: '删除中', value: 2 },\n    ],\n  },\n];\n\nconst CKAFKA_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  topicId: '',\n  topicName: '',\n  consumerGroup: '',\n  partition: '',\n  queries: {\n    Offset: 0,\n    Limit: 10,\n    Status: [],\n    InstanceId: '',\n    SearchWord: '',\n    TagKey: '',\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst CKAFKAInstanceAliasList = ['InstanceId', 'InstanceName'];\nconst CKAFKATopicAliasList = ['TopicId', 'TopicName'];\n// 保存在模板变量value中的key\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  topicId: 'TopicId',\n  groupName: 'GroupName',\n  partition: 'PartitionId',\n};\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nconst CKAFKAInvalidDemensions = new Proxy(\n  {\n    topicId: 'TopicId',\n    topicName: 'TopicName',\n    consumerGroup: 'GroupName',\n    partition: 'PartitionId',\n  },\n  {\n    get: (obj, prop) => {\n      if (String(prop).toLocaleLowerCase() === 'instanceid') return 'InstanceId';\n      return obj[prop];\n    },\n  }\n);\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  TopicList: 'TopicList',\n  GroupList: 'GroupList',\n  PartitionList: 'PartitionList',\n};\n\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  TopicId: {\n    dim_KeyInStorage: keyInStorage.TopicList,\n    dim_KeyInTarget: 'topicId',\n    dim_KeyInMap: templateQueryIdMap.topicId,\n  },\n  // topicName和topicId是同一个storage中的source，所以根据topicId帅选\n  TopicName: {\n    dim_KeyInStorage: keyInStorage.TopicList,\n    dim_KeyInTarget: 'topicId',\n    dim_KeyInMap: templateQueryIdMap.topicId,\n  },\n  GroupName: {\n    dim_KeyInStorage: keyInStorage.GroupList,\n    dim_KeyInTarget: 'consumerGroup',\n    dim_KeyInMap: templateQueryIdMap.groupName,\n  },\n  PartitionId: {\n    dim_KeyInStorage: keyInStorage.PartitionList,\n    dim_KeyInTarget: 'partition',\n    dim_KeyInMap: templateQueryIdMap.partition,\n  },\n};\nexport default CKAFKA_STATE;\nexport {\n  CKAFKAInstanceAliasList,\n  CKAFKATopicAliasList,\n  CKAFKAInvalidDemensions,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  GetInstanceQueryParams as CKAFKAGetInstanceQueryParams,\n};\n","import {\n  InstanceAliasList,\n  LOADBALANCEListenerAliasList,\n  LOADBALANCEServerAliasList,\n  LOADBALANCEVALIDDIMENSIONS,\n  templateQueryIdMap,\n  keyInStorage,\n  CANDIATEDIMENSIONS,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class DCDatasource extends BaseDatasource {\n  // Namespace = namespace;\n  InstanceAliasList = InstanceAliasList;\n  ListenerAliasList = LOADBALANCEListenerAliasList;\n  ServerAliasList = LOADBALANCEServerAliasList;\n  CandiateDimensions = CANDIATEDIMENSIONS;\n  // InvalidDimensions = LOADBALANCEVALIDDIMENSIONS;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  // InstanceReqConfig = {\n  //   service: 'clb',\n  //   action: 'DescribeLoadBalancers',\n  //   responseField: 'LoadBalancerSet',\n  // };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getInvalidDimensions(selfIns: any, tagret: any) {\n    if (selfIns.service === 'lbPrivate' || (selfIns.service === 'lbPublic' && tagret.servers))\n      return { ...LOADBALANCEVALIDDIMENSIONS, vpcId: 'NumericalVpcId' };\n    return LOADBALANCEVALIDDIMENSIONS;\n  }\n  getInstanceReqConfig(selfIns: any) {\n    const res: any = {\n      service: 'clb',\n      action: 'DescribeLoadBalancers',\n      responseField: 'LoadBalancerSet',\n    };\n    if (selfIns.service === 'lbPrivate' || selfIns.service === 'loadBalance') {\n      res.interceptor = {\n        request: (param) => ({ ...param, LoadBalancerType: 'INTERNAL' }),\n      };\n    }\n    if (selfIns.service === 'lbPublic') {\n      res.interceptor = {\n        request: (param) => ({ ...param, LoadBalancerType: 'OPEN' }),\n      };\n    }\n    return res;\n  }\n  async getListenerList(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'clb');\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeListeners' }\n        );\n      },\n      {\n        LoadBalancerId: instanceId,\n      },\n      'Listeners'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  formatVariableDisplay(data: Record<string, any>, displayTpl: string | undefined, alias: string, aliasList: string[]) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !aliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(data, b);\n      });\n    }\n    return this.getAliasValue(data, alias);\n  }\n  async getServerList(params: any) {\n    const { region, instanceId, listenerId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'clb');\n\n    const res = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { LoadBalancerId: instanceId, ListenerIds: [listenerId] },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeTargets' }\n    );\n    const { Listeners } = res;\n    const serversList = _.reduce(\n      Listeners,\n      (prev, item) => {\n        const { Rules, Targets } = item;\n        if (!_.isEmpty(Rules)) {\n          return _.concat(prev, _.flatten(_.map(Rules, (elem) => (_.isEmpty(elem.Targets) ? [] : elem.Targets))));\n        }\n        if (!_.isEmpty(Targets)) {\n          return _.concat(prev, Targets);\n        }\n        return prev;\n      },\n      []\n    );\n    return serversList;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const { display } = query;\n    if (action === 'DescribeListeners') {\n      const rs = await this.getListenerList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      let { listeneralias } = query;\n      listeneralias = this.ListenerAliasList.includes(listeneralias) ? listeneralias : this.templateQueryIdMap.listener;\n      const result = rs.flatMap((o) => {\n        const listenAlias = this.formatVariableDisplay(o, display, listeneralias, this.ListenerAliasList);\n        const lisId = o[this.templateQueryIdMap.listener];\n        o._InstanceAliasValue = listenAlias || lisId;\n        // if (!o[listeneralias]) return [];\n        return {\n          text: listenAlias || lisId,\n          value: lisId,\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.listener, rs);\n      return result;\n    }\n    if (action === 'DescribeServer' || action === 'DescribeServerPort') {\n      const { listenerid, serverprivateip, serveralias } = query;\n      const serverPrivateIp = this.getVariable(serverprivateip);\n      const serversList = await this.getServerList({\n        region,\n        instanceId: instance[this.templateQueryIdMap.instance],\n        listenerId: this.getVariable(listenerid),\n      });\n      const serverAlias = this.ServerAliasList.includes(serveralias) ? serveralias : this.templateQueryIdMap.servers;\n      const result = _.chain(serversList)\n        .filter((item) => {\n          if (action === 'DescribeServer') {\n            return true;\n          }\n          return serverPrivateIp === _.get(item, 'PrivateIpAddresses.0');\n        })\n        .map((item) => {\n          const alias = this.formatVariableDisplay(item, display, serverAlias, this.ServerAliasList);\n          const id = item[this.templateQueryIdMap.servers][0];\n          item._InstanceAliasValue = alias || id;\n          return action === 'DescribeServer'\n            ? {\n                text: alias || id,\n                value: id,\n              }\n            : {\n                text: `${_.get(item, 'Port')}`,\n                value: _.get(item, 'Port'),\n              };\n        })\n        .value();\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.servers, serversList);\n      return action === 'DescribeServer' ? result : _.uniqBy(result, 'text');\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { get, chain } from 'lodash';\nimport { LOADBALANCEFieldsDescriptor, templateQueryIdMap, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\nimport { isTargetEqual } from '../../common/utils';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.LOADBALANCEFieldsDescriptor = LOADBALANCEFieldsDescriptor;\n      $scope.serversList = [];\n    };\n    $scope.onFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n    $scope.onInstanceChange = (n, o) => {\n      if (isTargetEqual(n, o, 'InstanceId')) return;\n      $scope.target.listener = '';\n      $scope.target.servers = '';\n      $scope.target.serverPort = '';\n    };\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace(namespace);\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {\n        // console.log();\n      }\n      return variableData;\n    };\n    $scope.getExtraDropdown = async (target) => {\n      const { instance } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getListenerList')({ region, instanceId });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap.listener];\n        return {\n          text: o[templateQueryIdMap.listener],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n    $scope.getServersDropdown = async (target) => {\n      const { instance, listener } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const listenerId = $scope.getVariableId(listener, 'listener');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const serversList = await $scope.datasource.getServiceFn(\n        service,\n        'getServerList'\n      )({ region, instanceId, listenerId });\n      $scope.serversList = serversList;\n      const res = chain(serversList)\n        .map((item) => {\n          item._InstanceAliasValue = get(item, 'PrivateIpAddresses.0');\n          return {\n            text: get(item, 'PrivateIpAddresses.0'),\n            value: JSON.stringify(item),\n          };\n        })\n        .uniqBy('text')\n        .value();\n      return res;\n    };\n    $scope.getServerPortDropdown = async (target) => {\n      const { servers } = $scope.target;\n      let serverPortList: any[] = [];\n      try {\n        const serversSource = JSON.parse(servers);\n        serverPortList = chain($scope.serversList)\n          .filter((item) => get(serversSource, 'PrivateIpAddresses.0') === get(item, 'PrivateIpAddresses.0'))\n          .map((item) => {\n            item._InstanceAliasValue = get(item, 'Port');\n            return {\n              text: `${get(item, 'Port')}`,\n              value: JSON.stringify(item),\n            };\n          })\n          .value();\n      } catch (error) {}\n      return serverPortList;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/214/30685\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in LOADBALANCEFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />\n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!--Listener维度部分-->\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Listeners\n      <info-popover mode=\"right-normal\">\n        可不选择监听器，这时通过实例维度查询监控数据\n      </info-popover>\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.listener\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.listener && namespace !== '${namespace}'\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">Servers</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.servers\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getServersDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.servers && namespace !== '${namespace}'\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">ServerPort</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.serverPort\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getServerPortDropdown(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      namespace: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\ncoreModule.directive('clbQuery', sQuery);\n","import _ from 'lodash';\n\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/LOADBALANCE';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'loadBalanceQuery';\n\nconst ForwardTypes = [\n  { text: '通用的负载均衡', value: 1 },\n  { text: '传统的负载均衡', value: 0 },\n];\n\nconst OrderBy = [\n  { text: 'LoadBalancerName', value: 'LoadBalancerName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'Domain', value: 'Domain' },\n  { text: 'LoadBalancerType', value: 'LoadBalancerType' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\n\nconst WithRs = [\n  { text: '没有绑定后端服务', value: 0 },\n  { text: '绑定后端服务', value: 1 },\n  { text: '查询全部', value: -1 },\n];\nconst LOADBALANCEFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancer ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancer Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Forward',\n    enDescriptor: 'Forward',\n    cnDescriptor: '负载均衡实例类型',\n    link: '',\n    type: 'select',\n    list: ForwardTypes,\n  },\n  {\n    key: 'Domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '域名，腾讯云为负载均衡实例分配的域名，本参数仅对传统型公网负载均衡才有意义',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancer Vips',\n    cnDescriptor: '负载均衡实例的 VIP 地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivate Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的内网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPublicIps',\n    enDescriptor: 'BackendPublic Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的外网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '负载均衡实例所属的项目 ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '负载均衡实例所属私有网络',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroup',\n    enDescriptor: 'Security Group',\n    cnDescriptor: '安全组ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'MasterZone',\n    enDescriptor: 'Master Zone',\n    cnDescriptor: '主可用区ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'WithRs',\n    enDescriptor: 'WithRs',\n    cnDescriptor: '负载均衡是否绑定后端服务',\n    link: '',\n    type: 'select',\n    list: WithRs,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/214/30685',\n  namespace,\n  fieldDescriptor: LOADBALANCEFieldsDescriptor,\n};\nconst LBFields = {\n  LoadBalancerIds: [],\n  Forward: undefined,\n  LoadBalancerName: '',\n  Domain: '',\n  LoadBalancerVips: [],\n  BackendPublicIps: [],\n  BackendPrivateIps: [],\n  Limit: 20,\n  Offset: 0,\n  ProjectId: undefined,\n  WithRs: {},\n  VpcId: '',\n  SecurityGroup: '',\n  MasterZone: '',\n  OrderBy: {},\n  OrderType: {},\n};\n\nconst LOADBALANCE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  Port: '',\n  Protocol: '',\n  listener: '',\n  servers: '',\n  serverPort: '',\n  // listenerAlias: 'ListenerId',\n  queries: LBFields,\n};\n\n// function GetInstanceQueryParams(queries: any = {}) {\n//   const params: any = {};\n//   if (!_.isEmpty(queries)) {\n//     params.Limit = _.get(queries, 'Limit', 20) || 20;\n//     params.Offset = _.get(queries, 'Offset', 0) || 0;\n//     queries = _.omit(queries, ['Offset', 'Limit']);\n//     _.forEach(queries, (item: any, key) => {\n//       if (_.isArray(item)) {\n//         item = _.compact(item);\n//         if (item.length > 0) {\n//           params[key] = _.uniq(item);\n//         }\n//       } else if (_.isObject(item)) {\n//         if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n//           params[key] = _.get(item, 'value');\n//         }\n//       } else if (_.isNumber(item) || !_.isEmpty(item)) {\n//         params[key] = item;\n//       }\n//     });\n//   }\n//   return params;\n// }\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nconst InstanceAliasList = ['LoadBalancerId', 'LoadBalancerName', 'LoadBalancerVips'];\nconst LOADBALANCEListenerAliasList = ['ListenerId', 'ListenerName', 'Port'];\nconst LOADBALANCEServerAliasList = ['PrivateIpAddresses', 'InstanceId'];\nconst LOADBALANCEVALIDDIMENSIONS = {\n  vip: 'LoadBalancerVips',\n  // vpcId: 'NumericalVpcId',\n  loadBalancerPort: 'Port',\n  protocol: 'Protocol',\n  lanIp: 'PrivateIpAddresses',\n  port: 'ServerPort',\n};\n// 对于ipv6类型，vip应该取AddressIPv6。\nconst CANDIATEDIMENSIONS = {\n  LoadBalancerVips: 'AddressIPv6',\n};\n// dimensionObject[item] = { Name: item, Value: '' };\n// const LOADBALANCE_INSTANCE_DIMENSIONOBJECTS = {\n//   vip: { Name: 'vip', Value: '' },\n// };\n// const LOADBALANCE_LISTENER_DIMENSIONOBJECTS = {\n//   vip: { Name: 'vip', Value: '' },\n//   loadBalancerPort: { Name: 'loadBalancerPort', Value: '' },\n//   protocol: { Name: 'protocol', Value: '' },\n// };\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n  listener: 'ListenerId',\n  servers: 'PrivateIpAddresses',\n  port: 'Port',\n};\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  listener: 'ListenerList',\n  servers: 'ServersList',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  Port: {\n    dim_KeyInStorage: keyInStorage.listener,\n    dim_KeyInTarget: 'listener',\n    dim_KeyInMap: templateQueryIdMap.listener,\n  },\n  Protocol: {\n    dim_KeyInStorage: keyInStorage.listener,\n    dim_KeyInTarget: 'listener',\n    dim_KeyInMap: templateQueryIdMap.listener,\n  },\n  PrivateIpAddresses: {\n    dim_KeyInStorage: keyInStorage.servers,\n    dim_KeyInTarget: 'servers',\n    dim_KeyInMap: templateQueryIdMap.servers,\n  },\n  ServerPort: {\n    dim_KeyInStorage: keyInStorage.servers,\n    dim_KeyInTarget: 'serverPort',\n    dim_KeyInIns: 'Port',\n    dim_KeyInMap: templateQueryIdMap.port,\n  },\n};\nexport default LOADBALANCE_STATE;\nexport {\n  LOADBALANCEFieldsDescriptor,\n  InstanceAliasList,\n  LOADBALANCEListenerAliasList,\n  LOADBALANCEServerAliasList,\n  LOADBALANCEVALIDDIMENSIONS,\n  templateQueryIdMap,\n  CANDIATEDIMENSIONS,\n  // LOADBALANCE_LISTENER_DIMENSIONOBJECTS,\n  // LOADBALANCE_INSTANCE_DIMENSIONOBJECTS,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  queryEditorConfig,\n  namespace,\n  queryEditorName,\n  GetInstanceQueryParams,\n};\n","import {\n  CLSInstanceAliasList,\n  CLSInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CLSInstanceAliasList;\n  InvalidDimensions = CLSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cls',\n    action: 'DescribeTopics',\n    responseField: 'Topics',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  // async getInstances(region, params = {}) {\n  //   const superRes = await super.getInstances(region, params);\n  //   console.log({ superRes });\n  // }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CLSFilterFieldsDescriptor, queryEditorName } from './query_def';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.GSEFilterFieldsDescriptor = CLSFilterFieldsDescriptor;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in GSEFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n<div>\n  <div class=\"gf-form-inline\" >\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">uin</label>\n      <input\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.uin\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n    </div>\n  </div>\n</div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/CLS';\nconst queryEditorName = 'clsQuery';\n\nconst CLSInvalidDemensions = {\n  // instanceid: 'TopicId',\n};\n\n// 需和文件名对应\nconst CLSInstanceAliasList = ['TopicId', 'TopicName'];\n\nconst templateQueryIdMap = {\n  instance: 'TopicId',\n};\n\n// 需要缓存到storage的内容的key列表\n// const keyInStorage = {\n//   fleet: 'fleet', // 实例队列\n//   queue: 'queueName', // 会话队列\n// };\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\n// const queryMonitorExtraConfg = {\n//   FleetId: {\n//     dim_KeyInStorage: keyInStorage.fleet,\n//     dim_KeyInTarget: 'FleetId',\n//     dim_KeyInMap: templateQueryIdMap.FleetId,\n//   },\n//   Name: {\n//     dim_KeyInStorage: keyInStorage.queue,\n//     dim_KeyInTarget: 'Name',\n//     dim_KeyInMap: templateQueryIdMap.Name,\n//   },\n// };\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst CLSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  topicName: [],\n  topicId: [],\n  logsetName: [],\n  logsetId: [],\n  tagKey: [],\n  'tag:tagKey': [],\n  storageType: {},\n};\n\nconst CLSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'topicName',\n    enDescriptor: 'topicName',\n    cnDescriptor: '日志主题名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'topicId',\n    enDescriptor: 'topicId',\n    cnDescriptor: '日志主题ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'logsetName',\n    enDescriptor: 'logsetName',\n    cnDescriptor: '日志集名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'logsetId',\n    enDescriptor: 'logsetId',\n    cnDescriptor: '日志集ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'tag:tagKey',\n    enDescriptor: 'tag - tagKey',\n    cnDescriptor: '标签键值对',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'storageType',\n    enDescriptor: 'storageType',\n    cnDescriptor: '日志主题的存储类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '实时存储', value: 'hot' },\n      { text: '离线存储', value: 'cold' },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/614/56454',\n  namespace,\n  fieldDescriptor: CLSFilterFieldsDescriptor,\n};\n\nconst CLS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TopicId',\n  uin: '',\n  queries: CLSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    // item.Dimensions = item.Dimensions.map((v) => CLSInvalidDemensions[v] || v);\n    item.Dimensions = ['uin', 'TopicId'];\n  });\n  return metricTmp;\n}\nexport default CLS_STATE;\nexport {\n  CLSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CLSInstanceAliasList,\n  CLSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  // queryMonitorExtraConfg,\n  // fleetId,\n  // keyInStorage,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CLSGetInstanceQueryParams,\n};\n","import { BaseDatasource } from '../_base/datasource';\nimport { InvalidDemensions, InstanceAliasList, templateQueryIdMap } from './query_def';\n\nexport default class CmqDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'cmq',\n    action: 'DescribeQueueDetail',\n    responseField: 'QueueSet',\n  };\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawMetric = await super.getMetrics(region);\n    return rawMetric.map((metric) => {\n      let dims = metric.Dimensions[0].Dimensions;\n      dims = Array.from(new Set([...dims, 'queueId', 'queueName']));\n      metric.Dimensions[0].Dimensions = dims;\n      return metric;\n    });\n  }\n}\n","import createQuery from '../_base/query';\nimport { InstanceQueryDescriptor } from './query_def';\n\ncreateQuery('cmqQuery', {\n  fieldDescriptor: InstanceQueryDescriptor,\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/406/42624',\n  namespace: 'QCE/CMQ',\n});\n","import _ from 'lodash';\nimport { FildDescriptorType } from '../_base/types';\n\nexport const InstanceQueryDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'QueueName',\n    enDescriptor: 'QueueName',\n    cnDescriptor: '精确匹配QueueName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '标签搜索',\n    link: '',\n    type: 'input',\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nexport const InvalidDemensions = {\n  queueId: 'QueueId',\n  queueName: 'QueueName',\n};\n\nexport const templateQueryIdMap = {\n  instance: 'QueueName',\n};\n\n// 与名称挂钩的变量\nconst InstanceAliasList = ['QueueName', 'QueueId'];\nexport { InstanceAliasList, GetInstanceQueryParams };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'QueueName',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    QueueName: '',\n    TagKey: '',\n  },\n};\n","import { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  InvalidDemensions,\n  InstanceAliasList,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class CmqTopicDatasource extends BaseDatasource {\n  Namespace = 'QCE/CMQTOPIC';\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'cmq',\n    action: 'DescribeTopicDetail',\n    responseField: 'TopicSet',\n  };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  extraMetricDims = ['subscriptionId']; // 多选\n\n  async fetchAllSubscription(region: string, params: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'cmq');\n    // console.log(serviceInfo, 'serviceinfo');\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeSubscriptionDetail' }\n        );\n      },\n      params,\n      'SubscriptionSet'\n    );\n\n    return rs[0];\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    let result;\n    switch (action) {\n      case 'DescribeSubscriptionDetail':\n        result = await this.fetchAllSubscription(region, { TopicName: instance.TopicName });\n        // eslint-disable-next-line no-case-declarations\n        const rs = result.map((item) => {\n          item._InstanceAliasValue = item.SubscriptionId;\n          return { text: item.SubscriptionId, value: item[templateQueryIdMap.subscription] };\n        });\n        await instanceStorage.setExtraStorage(this.service, this.keyInStorage.subscriptionId, result);\n        return rs;\n      default:\n        return [];\n    }\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawMetric = await super.getMetrics(region);\n    return rawMetric.map((metric) => {\n      let dims = metric.Dimensions[0].Dimensions;\n      dims.push('topicId');\n      if (['NumOfNotify', 'NumOfSuccNotify'].includes(metric.MetricName)) {\n        dims.push('subscriptionId');\n      }\n\n      dims = Array.from(new Set(dims));\n      metric.Dimensions[0].Dimensions = dims;\n      return metric;\n    });\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { InstanceQueryDescriptor } from './query_def';\n\nconst ExtraFields = [\n  {\n    label: 'Subscription(订阅)',\n    field: 'subscriptionId',\n  },\n];\n\nexport class CmqTopicQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.InstanceQueryDescriptor = InstanceQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    // 各个实例下的订阅，由于不想每次都重复发请求，所以这里做了一层缓存，数据结构为{ [instanceId]: {   } }\n    $scope.cacheMap = {};\n\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getTopicName = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('cmqTopic', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).TopicName;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.onExtraFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      if (field === 'subscriptionId') {\n        const TopicName = $scope.getTopicName();\n        let data = $scope.cacheMap[TopicName];\n\n        if (!data) {\n          const region = $scope.datasource.getServiceFn('cmqTopic', 'getVariable')(target.region);\n          const fetcher = $scope.datasource.getServiceFn('cmqTopic', 'fetchAllSubscription');\n          const datas = await fetcher(region, { TopicName });\n          data = datas.map((item) => {\n            item._InstanceAliasValue = item.SubscriptionId;\n            return { text: item.SubscriptionId, value: JSON.stringify(item) };\n          });\n        }\n\n        // 缓存\n        $scope.cacheMap[TopicName] = data;\n        return data;\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/406/42637\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in InstanceQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 主题的ui -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onExtraFieldChange(extra.field)\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: CmqTopicQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('cmqTopicQuery', scfQuery);\n","import _ from 'lodash';\nimport { FildDescriptorType } from '../_base/types';\n\nexport const InstanceQueryDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'TopicName',\n    enDescriptor: 'TopicName',\n    cnDescriptor: '精确匹配TopicName',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '标签搜索',\n    link: '',\n    type: 'input',\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nexport const InvalidDemensions = {\n  topicId: 'TopicId',\n};\n\n// 因为cmq那边，以TopciName为主键\nexport const templateQueryIdMap = {\n  instance: 'TopicName',\n  subscription: 'SubscriptionId',\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  subscriptionId: 'subscriptionId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  subscriptionId: {\n    dim_KeyInStorage: keyInStorage.subscriptionId,\n    dim_KeyInTarget: 'subscriptionId',\n    dim_KeyInMap: templateQueryIdMap.subscription,\n  },\n};\n// 与名称挂钩的变量\nconst InstanceAliasList = ['TopicName', 'TopicId'];\nexport { InstanceAliasList, GetInstanceQueryParams, queryMonitorExtraConfg, keyInStorage };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TopicName',\n  subscriptionId: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    TopicName: '',\n    TagKey: '',\n  },\n};\n","import { BaseDatasource } from '../_base/datasource';\n\ninterface BucketListResult {\n  Owner: { ID: 'string'; DisplayName: 'string' };\n  Buckets: { Name: string; Region: string }[];\n}\n\nexport default class CosDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = {};\n  InstanceAliasList: string[] = ['BucketName'];\n  templateQueryIdMap = {\n    instance: 'BucketName',\n  };\n  InstanceReqConfig = {} as any; // 不必要的配置\n  cosURL: string;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n    this.cosURL = `/api/datasources/${this.instanceSettings.id}/resources/tc_cos_list`;\n  }\n  async getInstances(region: string) {\n    return this.backendSrv\n      .datasourceRequest({\n        url: this.cosURL,\n        method: 'GET',\n        params: { region },\n        headers: { 'Content-Type': 'application/json' },\n      })\n      .then((res) => {\n        let { data }: { data: BucketListResult } = res;\n        data = data || ({} as any);\n        let { Buckets } = data;\n        Buckets = Buckets || [];\n\n        // name contains appid，see detail https://cloud.tencent.com/document/product/436/8291\n        return Buckets.map((item) => ({\n          ...item,\n          BucketName: item.Name,\n          bucket: item.Name,\n          appid: item.Name.split('-').slice(-1)[0],\n        }));\n      });\n  }\n\n  async getVariableInstances(region) {\n    return this.getInstances(region);\n  }\n}\n","import _ from 'lodash';\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 与名称挂钩的变量\nconst InstanceAliasList = ['BucketName'];\nexport { InstanceAliasList, GetInstanceQueryParams };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'BucketName',\n  queries: {},\n};\n","import {\n  CPMInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CPMInstanceAliasList;\n  InvalidDimensions = CPMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'bm',\n    action: 'DescribeDevices',\n    responseField: 'DeviceInfoSet',\n  };\n  RegionMap = {};\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/bm',\n      },\n      'bm',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      // 缓存，后面获取可用区zone\n      this.RegionMap = _.keyBy(response.RegionInfoSet, 'Region');\n      return _.map(response.RegionInfoSet || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n        };\n      });\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n\n  getFilterDropdown({ field, region }) {\n    if (field === 'DeviceClassCode') {\n      const serviceInfo = GetServiceAPIInfo(region, 'bm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        'bm',\n        { region, action: 'DescribeDeviceClass' }\n      ).then((response) => {\n        return _.map(response.DeviceClassSet || [], (item) => {\n          return { text: item.DeviceClassCode, value: item.DeviceClassCode };\n        });\n      });\n    }\n    return [];\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/CPM';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'cpmQuery';\n\nconst CPMInvalidDemensions = {\n  instanceId: 'InstanceId',\n  // uniqid: 'InstanceId',\n};\n\nconst CPMInstanceAliasList = ['InstanceId', 'Name'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst CPMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DeviceClassCode: '',\n  InstanceIds: [],\n  WanIps: [],\n  LanIps: [],\n  Alias: '',\n  VagueIp: '',\n  AutoRenewFlag: {},\n  VpcId: '',\n  SubnetId: '',\n  DeviceType: {},\n  IsLuckyDevice: {},\n};\n\nconst CPMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DeviceClassCode',\n    enDescriptor: 'DeviceClassCode',\n    cnDescriptor: '机型ID',\n    link: '',\n    type: 'dropdown',\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '设备ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'WanIps',\n    enDescriptor: 'WanIps',\n    cnDescriptor: '外网IP数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LanIps',\n    enDescriptor: 'LanIps',\n    cnDescriptor: '内网IP数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Alias',\n    enDescriptor: 'Alias',\n    cnDescriptor: '设备名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VagueIp',\n    enDescriptor: 'VagueIp',\n    cnDescriptor: '模糊IP查询',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenewFlag',\n    enDescriptor: 'AutoRenewFlag',\n    cnDescriptor: '自动续费标志',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '不自动续费', value: 0 },\n      { text: '自动续费', value: 1 },\n    ],\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络唯一ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '子网唯一ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'DeviceType',\n    enDescriptor: 'DeviceType',\n    cnDescriptor: '子网实例ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '计算型', value: 'compute' },\n      { text: '标准型', value: 'standard' },\n      { text: '存储型', value: 'storage' },\n    ],\n  },\n  {\n    key: 'IsLuckyDevice',\n    enDescriptor: 'IsLuckyDevice',\n    cnDescriptor: '竞价实例机器过滤',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '非竞价实例机器', value: 0 },\n      { text: '竞价实例的机器', value: 1 },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/386/32904',\n  namespace,\n  fieldDescriptor: CPMFilterFieldsDescriptor,\n};\n\nconst CPM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: CPMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['instanceId'];\n  });\n  return metricTmp;\n}\nexport default CPM_STATE;\nexport {\n  CPMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CPMInstanceAliasList,\n  CPMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as CPMGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { CVMInstanceAliasList, isValidMetric, modifyDimensons } from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CVMDatasource extends BaseDatasource {\n  Namespace = 'QCE/CVM';\n  InstanceAliasList = CVMInstanceAliasList;\n  InvalidDimensions = {};\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'cvm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        if (isValidMetric(item)) {\n          return modifyDimensons(item);\n        }\n        return null;\n      })\n    );\n  }\n\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'cvm' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'api');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { Product: 'cvm' },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { CVMFilterFieldsDescriptor } from './query_def';\n\nexport class CVMQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.CVMFilterFieldsDescriptor = CVMFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      InstanceIds\n      <info-popover mode=\"right-normal\">\n        实例 ID，每次请求的实例的上限为100，参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 InstanceIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in CVMFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function cvmQuery() {\n  return {\n    template: template,\n    controller: CVMQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('cvmQuery', cvmQuery);\n","import _ from 'lodash';\nconst instanceChargeTypes = [\n  { text: '预付费', value: 'PREPAID' },\n  { text: '后付费', value: 'POSTPAID_BY_HOUR' },\n  { text: 'CDH付费', value: 'CDHPAID' },\n];\n\nconst CVMFilterFields = {\n  zone: [],\n  'project-id': [],\n  'host-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n  'instance-id': [],\n  'security-group-id': [],\n  'instance-name': [],\n  'instance-charge-type': {},\n  'private-ip-address': [],\n  'public-ip-address': [],\n  'tag-key': [],\n};\n\nconst CVMFilterFieldsDescriptor = [\n  {\n    key: 'zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '可用区',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'project-id',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '项目ID',\n    link: 'https://cloud.tencent.com/document/api/378/4400',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'host-id',\n    enDescriptor: 'CDH ID',\n    cnDescriptor: 'CDH ID',\n    link: 'https://cloud.tencent.com/document/product/416/19730',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC ID',\n    cnDescriptor: 'VPC ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'Subnet ID',\n    cnDescriptor: '子网ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'security-group-id',\n    enDescriptor: 'Security Group ID',\n    cnDescriptor: '安全组ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'tag-key',\n    enDescriptor: '标签简',\n    cnDescriptor: '标签简',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'instance-charge-type',\n    enDescriptor: 'Instance Charge Type',\n    cnDescriptor: '实例计费模式',\n    link: '',\n    type: 'select',\n    list: instanceChargeTypes,\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: '实例主网卡的内网IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'Public IP Address',\n    cnDescriptor: '实例主网卡的公网IP，包含实例创建时自动分配的IP和实例创建后手动绑定的弹性IP',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst CVM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    InstanceIds: [''],\n    Filters: { ...CVMFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst CVMInstanceAliasList = ['InstanceId', 'InstanceName', 'PrivateIpAddresses', 'PublicIpAddresses'];\n\nconst CVMValidMetricsT = [\n  'CPUUsage',\n  'CpuLoadavg',\n  'Cpuloadavg5m',\n  'Cpuloadavg15m',\n  'BaseCpuUsage',\n  'GpuMemTotal',\n  'GpuMemUsage',\n  'GpuMemUsed',\n  'GpuPowDraw',\n  'GpuPowLimit',\n  'GpuPowUsage',\n  'GpuTemp',\n  'GpuUtil',\n  'LanOuttraffic',\n  'LanIntraffic',\n  'LanOutpkg',\n  'LanInpkg',\n  'WanOuttraffic',\n  'WanIntraffic',\n  'WanOutpkg',\n  'WanInpkg',\n  'AccOuttraffic',\n  'TcpCurrEstab',\n  'TimeOffset',\n  'MemUsed',\n  'MemUsage',\n  'CvmDiskUsage',\n  'BaseCpuUsage',\n  'VmDiskReadIops',\n];\n// const CVMInvalidDemensions = {\n//   'vm_uuid': 'InstanceId',\n//   'vmUuid': 'InstanceId',\n// };\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nfunction isValidMetric(metric) {\n  const CVMValidMetrics = _.map(CVMValidMetricsT, _.toUpper);\n  return _.indexOf(CVMValidMetrics, _.toUpper(metric.MetricName)) !== -1;\n}\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\nexport default CVM_STATE;\nexport {\n  CVMFilterFieldsDescriptor,\n  CVMInstanceAliasList,\n  isValidMetric,\n  modifyDimensons,\n  templateQueryIdMap,\n  // CVMInvalidDemensions,\n  GetInstanceQueryParams as CVMGetInstanceQueryParams,\n};\n","import {\n  CYNOSDBMYSQLInstanceAliasList,\n  CYNOSDBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n  checkKeys,\n} from './query_def';\nimport _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\n// import { t } from '../../../locale';\n\nexport default class CYNOSDBMYSQLDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = CYNOSDBMYSQLInstanceAliasList;\n  InvalidDimensions = CYNOSDBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  checkKeys = checkKeys;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'cynosdb',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n  // getRegions() {\n  //   return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  // }\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'cynosdbmysql' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n  // 仅对维度组合是InstanceId的指标，其他指标不支持\n  getDefaultInsObj(ins: string) {\n    return {\n      [templateQueryIdMap.instance]: ins,\n    };\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/CYNOSDB_MYSQL';\n\n// 按照驼峰方式命名，和SERVICES保持一致，abcDeF会成为angular组件名字<abc-de-f-query />\nconst queryEditorName = 'cynosdbMysqlQuery';\n\nconst cynosdbMysqlFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  OrderBy: {},\n  OrderByType: {},\n  InstanceIds: [],\n  DbType: {},\n  // Status: '',\n};\n\nconst cynosdbMysqlFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 1000,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '实例id列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '创建时间', value: 'CREATETIME' },\n      { text: '过期时间', value: 'PERIODENDTIME' },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '升序', value: 'ASC' },\n      { text: '降序', value: 'DESC' },\n    ],\n  },\n  {\n    key: 'DbType',\n    enDescriptor: 'DbType',\n    cnDescriptor: '引擎类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'MYSQL', value: 'MYSQL' },\n      { text: 'POSTGRESQL', value: 'POSTGRESQL' },\n    ],\n  },\n  // {\n  //   key: 'Status',\n  //   enDescriptor: 'Status',\n  //   cnDescriptor: '实例状态',\n  //   link: '',\n  //   type: 'input',\n  // },\n];\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n];\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1003/48334',\n  namespace,\n  fieldDescriptor: cynosdbMysqlFilterFieldsDescriptor,\n};\n\nconst CYNOSDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: cynosdbMysqlFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// 和文件名字一样CYNOSDBMYSQL\nconst CYNOSDBMYSQLInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\nconst CYNOSDBInvalidDemensions = {\n  instanceid: 'InstanceId',\n  instanceId: 'InstanceId',\n};\nconst checkKeys = ['instanceId'];\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\n\nexport default CYNOSDB_STATE;\nexport {\n  cynosdbMysqlFilterFieldsDescriptor,\n  templateQueryIdMap,\n  CYNOSDBMYSQLInstanceAliasList,\n  CYNOSDBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  checkKeys,\n  // params前缀为service的全大写\n  GetInstanceQueryParams as CYNOSDBMYSQLGetInstanceQueryParams,\n};\n","import { DCInstanceAliasList, DCInvalidDemensions, namespace, modifyDimensons } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCInstanceAliasList;\n  InvalidDimensions = DCInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'DirectConnectId',\n  };\n  InstanceReqConfig = {\n    service: 'dc',\n    action: 'DescribeDirectConnects',\n    responseField: 'DirectConnectSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DC';\nconst queryEditorName = 'dcQuery';\n\nconst DCFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  DirectConnectIds: [],\n};\n\nconst DCFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'DirectConnectIds',\n    enDescriptor: 'DirectConnectIds',\n    cnDescriptor: '物理专线 ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/216/34826',\n  namespace,\n  fieldDescriptor: DCFilterFieldsDescriptor,\n};\n\nconst DC_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectId',\n  queries: DCFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nconst DCInstanceAliasList = ['DirectConnectId', 'DirectConnectName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectId',\n};\n\nconst DCInvalidDemensions = {\n  directConnectId: 'DirectConnectId',\n  directconnectid: 'DirectConnectId',\n};\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['directConnectId'];\n  });\n  return metricTmp;\n}\nexport default DC_STATE;\nexport {\n  DCFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCInstanceAliasList,\n  DCInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as DCGetInstanceQueryParams,\n};\n","import {\n  DCDBInstanceAliasList,\n  DCDBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCDBInstanceAliasList;\n  InvalidDimensions = DCDBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'dcdb',\n    action: 'DescribeDCDBInstances',\n    responseField: 'Instances',\n  };\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  extraActionMap = {\n    DescribeDCDBShards: {\n      service: 'dcdb',\n      action: 'DescribeDCDBShards',\n      responseField: 'Shards',\n      pickKey: 'ShardInstanceId',\n    },\n    DescribeDCDBInstanceNodeInfo: {\n      service: 'dcdb',\n      action: 'DescribeDCDBInstanceNodeInfo',\n      responseField: 'NodesInfo',\n      pickKey: 'NodeId',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion, 入参的region用广州\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/dcdb',\n      },\n      'dcdb',\n      { action: 'DescribeDCDBSaleInfo', region: 'ap-guangzhou' }\n    ).then((response) => {\n      return _.map(response.RegionList || [], (item) => {\n        return {\n          text: t(item.Region),\n          value: item.Region,\n          RegionState: item.RegionState,\n        };\n      });\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      InstanceId: instance[this.templateQueryIdMap.instance],\n      Limit: 100,\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { DCDBFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'nodeid',\n    field: 'NodeId',\n    action: 'DescribeDCDBInstanceNodeInfo',\n  },\n  {\n    label: 'shardid',\n    field: 'ShardId',\n    action: 'DescribeDCDBShards',\n  },\n];\nconst dropdownTextConfig = {\n  DescribeDCDBInstanceNodeInfo: 'NodeId',\n  DescribeDCDBShards: 'ShardInstanceId',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.DCDBFilterFieldsDescriptor = DCDBFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const instanceId = $scope.getInstanceId();\n      const payload: any = {\n        InstanceId: instanceId,\n        Limit: 100,\n      };\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in DCDBFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { isArray, cloneDeep } from 'lodash';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/TDMYSQL';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'dcdbQuery';\n\nconst DCDBInvalidDemensions = {\n  nodeid: 'NodeId',\n  instanceid: 'InstanceId',\n  shardid: 'ShardInstanceId',\n  ShardId: 'ShardInstanceId',\n};\n\n// 需和文件名对应\nconst DCDBInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  NodeId: 'NodeId',\n  ShardInstanceId: 'ShardInstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst DCDBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceIds: [],\n  SearchName: '',\n  SearchKey: '',\n  ProjectIds: [],\n  // IsFilterVpc\n  VpcId: '',\n  SubnetId: '',\n\n  OrderBy: {},\n  OrderByType: {},\n  // IsFilterExcluster: {},\n  ExclusterType: {},\n\n  ExclusterIds: [],\n  FilterInstanceType: {},\n};\n\nconst DCDBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '实例 ID 查询',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'SearchName',\n    enDescriptor: 'SearchName',\n    cnDescriptor: '搜索的字段名,当前支持的值有：instancename、vip、all',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '搜索的关键字',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: '按项目 ID 查询',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '私有网络的子网 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'projectId', value: 'projectId' },\n      { text: 'createtime', value: 'createtime' },\n      { text: 'instancename', value: 'instancename' },\n    ],\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '私有网络 ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'desc', value: 'desc' },\n      { text: 'asc', value: 'asc' },\n    ],\n  },\n  {\n    key: 'ExclusterType',\n    enDescriptor: 'ExclusterType',\n    cnDescriptor: '集群类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '非独享集群', value: 1 },\n      { text: '独享集群', value: 2 },\n      { text: '全部', value: 0 },\n      { text: 'asc', value: 'asc' },\n    ],\n  },\n  {\n    key: 'ExclusterIds',\n    enDescriptor: 'ExclusterIds',\n    cnDescriptor: '独享集群ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'FilterInstanceType',\n    enDescriptor: 'FilterInstanceType',\n    cnDescriptor: '实例类型过滤',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '独享实例', value: 1 },\n      { text: '主实例', value: 2 },\n      { text: '灾备实例', value: 3 },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/557/16140',\n  namespace,\n  fieldDescriptor: DCDBFilterFieldsDescriptor,\n};\n\nconst DCDB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  ShardId: '',\n  NodeId: '',\n  queries: DCDBFilterFields,\n};\nconst modifyMetricConf = {\n  shardid: 'ShardId',\n  instanceid: 'InstanceId',\n  nodeid: 'NodeId',\n};\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((v) => modifyMetricConf[v] || v);\n  });\n  return metricTmp;\n}\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params = instanceQueryParamsBaseParse(queries, false);\n  // 特殊处理\n  params.IsFilterVpc = false;\n  params.IsFilterExcluster = false;\n  if (params.VpcId || params.SubnetId) params.IsFilterVpc = true;\n  if (params.ExclusterType) params.IsFilterExcluster = true;\n  if (isArray(params.FilterInstanceType)) params.FilterInstanceType = params.FilterInstanceType.join(',');\n  return params;\n}\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  NodeId: 'NodeId',\n  ShardInstanceId: 'ShardId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NodeId: {\n    dim_KeyInStorage: keyInStorage.NodeId,\n    dim_KeyInTarget: 'NodeId',\n    dim_KeyInMap: templateQueryIdMap.NodeId,\n  },\n  ShardInstanceId: {\n    dim_KeyInStorage: keyInStorage.ShardInstanceId,\n    dim_KeyInTarget: 'ShardId',\n    dim_KeyInMap: templateQueryIdMap.ShardInstanceId,\n  },\n};\n// 和其他产品的展示保持一致\nconst regionSupported = [\n  { text: '华北地区(北京)', value: 'ap-beijing' },\n  { text: '西南地区(成都)', value: 'ap-chengdu' },\n  { text: '西南地区(重庆)', value: 'ap-chongqing' },\n  { text: '华南地区(广州)', value: 'ap-guangzhou' },\n  { text: '港澳台地区(中国香港)', value: 'ap-hongkong' },\n  { text: '亚太南部(孟买)', value: 'ap-mumbai' },\n  { text: '华东地区(南京)', value: 'ap-nanjing' },\n  { text: '华东地区(上海)', value: 'ap-shanghai' },\n  { text: '华东地区(上海金融)', value: 'ap-shanghai-fsi' },\n  { text: '华南地区(深圳金融)', value: 'ap-shenzhen-fsi' },\n  { text: '亚太东南(新加坡)', value: 'ap-singapore' },\n  { text: '亚太东北(东京)', value: 'ap-tokyo' },\n  { text: '欧洲地区(法兰克福)', value: 'eu-frankfurt' },\n  { text: '美国东部(弗吉尼亚)', value: 'na-ashburn' },\n  { text: '美国西部(硅谷)', value: 'na-siliconvalley' },\n  { text: '北美地区(多伦多)', value: 'na-toronto' },\n];\nexport default DCDB_STATE;\nexport {\n  DCDBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCDBInstanceAliasList,\n  DCDBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  keyInStorage,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as DCDBGetInstanceQueryParams,\n};\n","import { DCGInstanceAliasList, DCGInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCGInstanceAliasList;\n  InvalidDimensions = DCGInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeDirectConnectGateways',\n    responseField: 'DirectConnectGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DCG';\nconst queryEditorName = 'dcgQuery';\n\nconst DCGInvalidDemensions = {\n  directConnectGatewayId: 'DirectConnectGatewayId',\n};\n\nconst DCGInstanceAliasList = ['DirectConnectGatewayId', 'DirectConnectGatewayName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectGatewayId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst DCGFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'direct-connect-gateway-id': [],\n  'direct-connect-gateway-name': [],\n  'direct-connect-gateway-ip': [],\n  'gateway-type': {},\n  'network-type': {},\n  'ccn-id': [],\n  'vpc-id': [],\n};\n\nconst DCGFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'direct-connect-gateway-id',\n    enDescriptor: 'direct-connect-gateway-id',\n    cnDescriptor: '专线网关唯一ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-gateway-name',\n    enDescriptor: 'direct-connect-gateway-name',\n    cnDescriptor: '专线网关名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-gateway-ip',\n    enDescriptor: 'direct-connect-gateway-ip',\n    cnDescriptor: '专线网关IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'gateway-type',\n    enDescriptor: 'gateway-type',\n    cnDescriptor: '网关类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '普通型', value: 'NORMAL' },\n      { text: 'NAT型', value: 'NAT' },\n    ],\n  },\n  {\n    key: 'network-type',\n    enDescriptor: 'network-type',\n    cnDescriptor: '网络类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '私有网络类型', value: 'VPC' },\n      { text: '云联网类型', value: 'CCN' },\n    ],\n  },\n  {\n    key: 'ccn-id',\n    enDescriptor: 'ccn-id',\n    cnDescriptor: '专线网关所在云联网ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: '专线网关所在私有网络ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/30644',\n  namespace,\n  fieldDescriptor: DCGFilterFieldsDescriptor,\n};\n\nconst DCG_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectGatewayId',\n  queries: DCGFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default DCG_STATE;\nexport {\n  DCGFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCGInstanceAliasList,\n  DCGInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as DCGGetInstanceQueryParams,\n};\n","import { DCXInstanceAliasList, DCXInvalidDemensions, namespace, modifyDimensons } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCXDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = DCXInstanceAliasList;\n  InvalidDimensions = DCXInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'DirectConnectTunnelId',\n  };\n  InstanceReqConfig = {\n    service: 'dc',\n    action: 'DescribeDirectConnectTunnels',\n    responseField: 'DirectConnectTunnelSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/DCX';\nconst queryEditorName = 'dcxQuery';\n\nconst DCXFilterFields = {\n  'direct-connect-tunnel-name': [],\n  'direct-connect-tunnel-id': [],\n  'direct-connect-id': [],\n};\n\nconst DCXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'direct-connect-tunnel-name',\n    enDescriptor: 'direct-connect-tunnel-name',\n    cnDescriptor: '专用通道名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-tunnel-id',\n    enDescriptor: 'direct-connect-tunnel-id',\n    cnDescriptor: '专用通道实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'direct-connect-id',\n    enDescriptor: 'direct-connect-id',\n    cnDescriptor: '物理专线实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/216/19819',\n  namespace,\n  fieldDescriptor: DCXFilterFieldsDescriptor,\n};\n\nconst DCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DirectConnectTunnelId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    ...DCXFilterFields,\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n\nconst DCXInstanceAliasList = ['DirectConnectTunnelId', 'DirectConnectTunnelName'];\n\nconst templateQueryIdMap = {\n  instance: 'DirectConnectTunnelId',\n};\n\nconst DCXInvalidDemensions = {\n  directconnectconnid: 'DirectConnectTunnelId',\n  directConnectConnId: 'DirectConnectTunnelId',\n};\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['directConnectConnId'];\n  });\n  return metricTmp;\n}\nexport default DCX_STATE;\nexport {\n  DCXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  DCXInstanceAliasList,\n  DCXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as DCXGetInstanceQueryParams,\n};\n","import { BaseDatasource } from '../_base/datasource';\nimport {\n  ECDNInstanceAliasList,\n  ECDNInvalidDemensions,\n  modifyDimensons,\n  namespace,\n  templateQueryIdMap,\n} from './query_def';\n\nexport default class ECDNDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECDNInstanceAliasList;\n  InvalidDimensions = ECDNInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'ecdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.map((item) => modifyDimensons(item));\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import { cloneDeep, compact, forEach, get, isArray, isEmpty, isObject, omit, uniq } from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\n\nconst namespace = 'QCE/DSA';\nconst queryEditorName = 'ecdnQuery';\n\nconst ECDNInstanceAliasList = ['Domain'];\n\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\n\nconst ECDNInvalidDemensions = {\n  domain: 'Domain',\n  projectid: 'ProjectId',\n};\n\nconst ECDN_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 100,\n    Offset: 0,\n    origin: [],\n    domain: [],\n    resourceId: [],\n    status: [],\n    disable: [],\n    projectId: [],\n    fullUrlCache: [],\n    https: [],\n    originPullProtocol: [],\n    area: [],\n    tagKey: [],\n  },\n};\n\nconst ECDNFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'Origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'ResourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'Status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'disable',\n    enDescriptor: 'Disable',\n    cnDescriptor: '域名封禁状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'normal', value: 'normal' },\n      { text: 'unlicensed', value: 'unlicensed' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'FullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'Https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'OriginPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'https', value: 'https' },\n      { text: 'follow', value: 'follow' },\n    ],\n  },\n  {\n    key: 'area',\n    enDescriptor: 'Area',\n    cnDescriptor: '加速区域',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'mainland', value: 'mainland' },\n      { text: 'overseas', value: 'overseas' },\n      { text: 'global', value: 'global' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'TagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/570/42462',\n  namespace,\n  fieldDescriptor: ECDNFilterFieldsDescriptor,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!isEmpty(queries)) {\n    params.Limit = get(queries, 'Limit', 20) || 20;\n    params.Offset = get(queries, 'Offset', 0) || 0;\n    const _queries = omit(queries, ['Offset', 'Limit']);\n    const Filters: any[] = [];\n    forEach(_queries, (item: any, key) => {\n      if (isArray(item)) {\n        item = compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: uniq(item).slice(0, 5) });\n        }\n      } else if (isObject(item)) {\n        if (!isEmpty(get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: [get(item, 'value', [])].slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters.map((item) => {\n        if (item.Name === 'domain') {\n          return { ...item, Fuzzy: true };\n        }\n        return item;\n      });\n      return params;\n    }\n  }\n  return params;\n}\n\nfunction modifyDimensons(metricItem) {\n  const metricTmp = cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['domain', 'projectid'];\n  });\n  return metricTmp;\n}\n\nexport default ECDN_STATE;\n\nexport {\n  ECDNFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECDNInstanceAliasList,\n  ECDNInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECDNGetInstanceQueryParams,\n};\n","import {\n  ECMInstanceAliasList,\n  ECMInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMInstanceAliasList;\n  InvalidDimensions = ECMInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM';\nconst queryEditorName = 'ecmQuery';\n\nconst ECMInvalidDemensions = {\n  // diskId: 'InstanceId',\n  uuid: 'UUID',\n  // unInstanceId: 'InstanceId',\n};\n\nconst ECMInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst ECMFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  zone: [],\n  'zone-name': [],\n  'module-id': [],\n  'module-name': [],\n  'instance-id': [],\n  'instance-name': [],\n  'ip-address': [],\n  'instance-uuid': [],\n  'instance-state': {},\n  'internet-service-provider': [],\n  'instance-family': [],\n  'image-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n};\n\nconst ECMFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'zone',\n    cnDescriptor: '可用区英文标识',\n    link: '',\n    type: 'dropdownMulti',\n  },\n  {\n    key: 'zone-name',\n    enDescriptor: 'zone-name',\n    cnDescriptor: '排列顺序',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-id',\n    enDescriptor: 'module-id',\n    cnDescriptor: '模块ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-name',\n    enDescriptor: 'module-name',\n    cnDescriptor: '模块名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'instance-name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ip-address',\n    enDescriptor: 'ip-address',\n    cnDescriptor: '内网/公网IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-uuid',\n    enDescriptor: 'instance-uuid',\n    cnDescriptor: '实例uuid',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'instance-state',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '创建中', value: 'PENDING' },\n      { text: '创建失败', value: 'LAUNCH_FAILED' },\n      { text: '运行中', value: 'RUNNING' },\n      { text: '关机', value: 'STOPPED' },\n      { text: '开机中', value: 'STARTING' },\n      { text: '关机中', value: 'STOPPING' },\n      { text: '重启中', value: 'REBOOTING' },\n      { text: '停止待销毁', value: 'SHUTDOWN' },\n      { text: '销毁中', value: 'TERMINATING' },\n    ],\n  },\n  {\n    key: 'internet-service-provider',\n    enDescriptor: 'internet-service-provider',\n    cnDescriptor: '公网IP所属的运营商',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-family',\n    enDescriptor: 'instance-family',\n    cnDescriptor: '机型family',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'image-id',\n    enDescriptor: 'image-id',\n    cnDescriptor: '镜像ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: '实例的vpc id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: '实例的subnet id',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/42565',\n  namespace,\n  fieldDescriptor: ECMFilterFieldsDescriptor,\n};\n\nconst ECM_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: ECMFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// function isValidMetric(metricObj: any = {}) {\n//   const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n//   // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n//   return dimension.length === 1 &&( _.indexOf(dimension, 'UUID') !== -1 || _.indexOf(dimension, 'uuid') !== -1);\n// }\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['UUID'];\n  });\n  return metricTmp;\n}\nexport default ECM_STATE;\nexport {\n  ECMFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMInstanceAliasList,\n  ECMInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECMGetInstanceQueryParams,\n};\n","import {\n  ECMBLOCKSTORAGEInstanceAliasList,\n  ECMBLOCKSTORAGEInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMBLOCKSTORAGEInstanceAliasList;\n  InvalidDimensions = ECMBLOCKSTORAGEInvalidDemensions;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  templateQueryIdMap = templateQueryIdMap;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async getDiskList(params: any) {\n    const { payload } = params;\n    const { InstanceId } = payload;\n    const instanceCache = await instanceStorage.getInstance(this.service);\n    const instanceObj: any =\n      _.cloneDeep(instanceCache.find((item) => item[this.templateQueryIdMap.instance] === InstanceId)) ?? {};\n    const { DataDisks: dataDisks } = instanceObj;\n    return dataDisks;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      InstanceId: instance,\n      Limit: 100,\n    };\n    const rs = await this.getDiskList({ region, action, payload });\n    const result = rs.map((o) => {\n      o._InstanceAliasValue = o[this.templateQueryIdMap.diskId];\n      return {\n        text: o[this.templateQueryIdMap.diskId],\n        value: o[this.templateQueryIdMap.diskId],\n      };\n    });\n    await instanceStorage.setExtraStorage(this.service, this.keyInStorage.diskId, rs);\n    return result;\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { ECMBLOCKSTORAGEFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  // {\n  //   label: 'nodeid',\n  //   field: 'NodeId',\n  //   action: 'DescribeInstanceNodeInfo',\n  // },\n  {\n    label: 'diskId',\n    field: 'diskId',\n  },\n];\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.ECMBLOCKSTORAGEFilterFieldsDescriptor = ECMBLOCKSTORAGEFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    // $scope.getInstanceId = () => {\n    //   let { instance } = $scope.target;\n    //   const service = GetServiceFromNamespace($scope.namespace);\n    //   instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n    //   if (!instance) {\n    //     return '';\n    //   }\n    //   try {\n    //     instance = JSON.parse(instance)[templateQueryIdMap.instance];\n    //   } catch (error) {\n    //     console.log();\n    //   }\n    //   return instance;\n    // };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = (target, action) => {\n      let { instance } = target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      try {\n        instance = JSON.parse(instance);\n        const { DataDisks: dataDisks } = instance;\n        return dataDisks.map((o) => {\n          o._InstanceAliasValue = o[templateQueryIdMap.diskId];\n          return {\n            text: o[templateQueryIdMap.diskId],\n            value: JSON.stringify(o),\n          };\n        });\n      } catch (error) {\n        // console.log('instance error', instance);\n        const payload: any = {\n          InstanceId: instance,\n        };\n        const rs = $scope.datasource.getServiceFn(service, 'getDiskList')({ payload });\n        const result = rs.map((o) => {\n          return {\n            text: o[templateQueryIdMap.diskId],\n            value: JSON.stringify(o),\n          };\n        });\n        return result;\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in ECMBLOCKSTORAGEFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM_BLOCK_STORAGE';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'ecmBlockStorageQuery';\n\nconst ECMBLOCKSTORAGEInvalidDemensions = {\n  uuid: 'UUID',\n  diskId: 'DiskId',\n};\n\n// 需和文件名对应\nconst ECMBLOCKSTORAGEInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  diskId: 'DiskId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst ECMBLOCKSTORAGEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'zone-name': [],\n  'module-id': [],\n  'module-name': [],\n  'instance-id': [],\n  'instance-name': [],\n  'ip-address': [],\n  'instance-uuid': [],\n  'instance-state': {},\n  'internet-service-provider': [],\n  'instance-family': [],\n  'image-id': [],\n  'vpc-id': [],\n  'subnet-id': [],\n};\n\nconst ECMBLOCKSTORAGEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'zone-name',\n    enDescriptor: 'zone-name',\n    cnDescriptor: '排列顺序',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-id',\n    enDescriptor: 'module-id',\n    cnDescriptor: '模块ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'module-name',\n    enDescriptor: 'module-name',\n    cnDescriptor: '模块名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'instance-id',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-name',\n    enDescriptor: 'instance-name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ip-address',\n    enDescriptor: 'ip-address',\n    cnDescriptor: '内网/公网IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-uuid',\n    enDescriptor: 'instance-uuid',\n    cnDescriptor: '实例uuid',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'instance-state',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '创建中', value: 'PENDING' },\n      { text: '创建失败', value: 'LAUNCH_FAILED' },\n      { text: '运行中', value: 'RUNNING' },\n      { text: '关机', value: 'STOPPED' },\n      { text: '开机中', value: 'STARTING' },\n      { text: '关机中', value: 'STOPPING' },\n      { text: '重启中', value: 'REBOOTING' },\n      { text: '停止待销毁', value: 'SHUTDOWN' },\n      { text: '销毁中', value: 'TERMINATING' },\n    ],\n  },\n  {\n    key: 'internet-service-provider',\n    enDescriptor: 'internet-service-provider',\n    cnDescriptor: '公网IP所属的运营商',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'instance-family',\n    enDescriptor: 'instance-family',\n    cnDescriptor: '机型family',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'image-id',\n    enDescriptor: 'image-id',\n    cnDescriptor: '镜像ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: '实例的vpc id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: '实例的subnet id',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/42565',\n  namespace,\n  fieldDescriptor: ECMBLOCKSTORAGEFilterFieldsDescriptor,\n};\n\nconst ECMBLOCKSTORAGE_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  diskId: '',\n  queries: ECMBLOCKSTORAGEFilterFields,\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  diskId: 'diskId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  DiskId: {\n    dim_KeyInStorage: keyInStorage.diskId,\n    dim_KeyInTarget: 'diskId',\n    dim_KeyInMap: templateQueryIdMap.diskId,\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default ECMBLOCKSTORAGE_STATE;\nexport {\n  ECMBLOCKSTORAGEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMBLOCKSTORAGEInstanceAliasList,\n  ECMBLOCKSTORAGEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as ECMBLOCKSTORAGEGetInstanceQueryParams,\n};\n","import { ECMLBInstanceAliasList, ECMLBInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = ECMLBInstanceAliasList;\n  InvalidDimensions = ECMLBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'ecm',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/ECM_LB';\nconst queryEditorName = 'ecmLbQuery';\n\nconst ECMLBInvalidDemensions = {\n  vip: 'LoadBalancerVips',\n};\n\nconst ECMLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst ECMLBFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  LoadBalancerIds: [],\n  LoadBalancerName: [],\n  LoadBalancerVips: [],\n  BackendPrivateIps: [],\n  VpcId: '',\n};\n\nconst ECMLBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancerIds',\n    cnDescriptor: '负载均衡器ID数组',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancerName',\n    cnDescriptor: '负载均衡器名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancerVips',\n    cnDescriptor: '负载均衡获得的公网IP地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivateIps',\n    cnDescriptor: '绑定的后端服务的内网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '实例所属私有网络唯一ID',\n    link: '',\n    type: 'input',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1108/48459',\n  namespace,\n  fieldDescriptor: ECMLBFilterFieldsDescriptor,\n};\n\nconst ECM_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  queries: ECMLBFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// function isValidMetric(metricObj: any = {}) {\n//   const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n//   // console.log('dimension', dimension, dimension.length === 1 && _.indexOf(dimension, 'diskId') !== -1);\n//   return dimension.length === 1 &&( _.indexOf(dimension, 'UUID') !== -1 || _.indexOf(dimension, 'uuid') !== -1);\n// }\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    // item.Dimensions = ['UUID'];\n  });\n  return metricTmp;\n}\nexport default ECM_STATE;\nexport {\n  ECMLBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  ECMLBInstanceAliasList,\n  ECMLBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as ECMLBGetInstanceQueryParams,\n};\n","import {\n  GSEInstanceAliasList,\n  GSEInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  keyInStorage,\n  queryMonitorExtraConfg,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = GSEInstanceAliasList;\n  InvalidDimensions = GSEInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'gse',\n    action: 'DescribeInstances',\n    responseField: 'Instances',\n  };\n\n  keyInStorage = keyInStorage;\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n  async getQueueNameList(params: any) {\n    const { region } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeGameServerSessionQueues' }\n        );\n      },\n      {},\n      'GameServerSessionQueues'\n    );\n    const [rs] = res;\n    return rs;\n  }\n  async getFleetList(params: any) {\n    const { region } = params;\n    const serviceInfo = GetServiceAPIInfo(region, this.service);\n\n    // 从分页数据，获取全量数据\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'ListFleets' }\n        );\n      },\n      {},\n      'FleetIds'\n    );\n    const [rs] = res;\n    return rs.map((r) => ({ [this.templateQueryIdMap.FleetId]: r }));\n  }\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'DescribeGameServerSessionQueues') {\n      const rs = await this.getQueueNameList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.Name];\n        return {\n          text: o[this.templateQueryIdMap.Name],\n          value: o[this.templateQueryIdMap.Name],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.queue, rs);\n      return result;\n    }\n    if (action === 'ListFleets') {\n      const rs = await this.getFleetList({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.FleetId];\n        return {\n          text: o[this.templateQueryIdMap.FleetId],\n          value: o[this.templateQueryIdMap.FleetId],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.fleet, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { GSEFilterFieldsDescriptor, templateQueryIdMap, queryEditorName, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'fleetId',\n    field: 'FleetId',\n  },\n  {\n    label: 'queueName',\n    field: 'Name',\n  },\n];\nconst actionMaps = {\n  FleetId: 'getFleetList',\n  Name: 'getQueueNameList',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.GSEFilterFieldsDescriptor = GSEFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      // console.log({namespace, service});\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraDropdown = async (target, field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const instanceId = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      // const rs = await $scope.datasource.getServiceFn(service, 'getEnvironmentNameList')({ region, instanceId });\n      let rs = await $scope.datasource.getServiceFn(service, actionMaps[field])({ region, instanceId });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[field]];\n        return {\n          text: o[templateQueryIdMap[field]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in GSEFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n<div>\n  <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n      <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n        <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, extra.field)\"\n          on-change=\"onRefresh()\" css-class=\"min-width-10\">\n        </gf-form-dropdown>\n      </div>\n    </div>\n  </div>\n</div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/GSE';\nconst fleetId = 'FleetId'; // 为和cvm其他产品保持一致，即将string[]改为Array<{fleetid: xxx}>,在此声明key\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'gseQuery';\n\nconst GSEInvalidDemensions = {\n  instanceid: 'InstanceId',\n  fleetid: 'FleetId',\n  queuename: 'Name',\n};\n\n// 需和文件名对应\nconst GSEInstanceAliasList = ['InstanceId', 'PrivateIpAddress', 'IpAddress'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  Name: 'Name',\n  FleetId: fleetId,\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  fleet: 'fleet', // 实例队列\n  queue: 'queueName', // 会话队列\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  FleetId: {\n    dim_KeyInStorage: keyInStorage.fleet,\n    dim_KeyInTarget: 'FleetId',\n    dim_KeyInMap: templateQueryIdMap.FleetId,\n  },\n  Name: {\n    dim_KeyInStorage: keyInStorage.queue,\n    dim_KeyInTarget: 'Name',\n    dim_KeyInMap: templateQueryIdMap.Name,\n  },\n};\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst GSEFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  InstanceId: '',\n  FleetId: '',\n};\n\nconst GSEFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'resourceName',\n    cnDescriptor: '资源名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FleetId',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'input',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/1165/42604',\n  namespace,\n  fieldDescriptor: GSEFilterFieldsDescriptor,\n};\n\nconst GSE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  FleetId: '', //  服务器实例\n  Name: '', // 队列名称\n  queries: GSEFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  // { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  // { value: 'ap-shanghai-fsi' },\n  // { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  // { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = item.Dimensions.map((v) => GSEInvalidDemensions[v] || v);\n  });\n  return metricTmp;\n}\nexport default GSE_STATE;\nexport {\n  GSEFilterFieldsDescriptor,\n  templateQueryIdMap,\n  GSEInstanceAliasList,\n  GSEInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  fleetId,\n  keyInStorage,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as GSEGetInstanceQueryParams,\n};\n","import { t } from '../../locale';\n// name (产品名称), service（对应的真实service）\ninterface ServiceType {\n  service: string;\n  label: string;\n  namespace: string;\n  href: string;\n  groupName?: string;\n  hideRegion?: boolean;\n}\nconst SERVICES: ServiceType[] = [\n  {\n    service: 'cvm',\n    get label() {\n      return t('CVM');\n    },\n    namespace: 'QCE/CVM',\n    href: 'https://cloud.tencent.com/document/api/213/15688',\n  },\n  {\n    service: 'cdb',\n    get label() {\n      return t('CDB');\n    },\n    namespace: 'QCE/CDB',\n    href: 'https://cloud.tencent.com/document/api/236/15829',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'mongoDB',\n    get label() {\n      return t('CMONGO');\n    },\n    namespace: 'QCE/CMONGO',\n    href: 'https://cloud.tencent.com/document/api/240/38568',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'postgres',\n    get label() {\n      return t('POSTGRES');\n    },\n    namespace: 'QCE/POSTGRES',\n    href: 'https://cloud.tencent.com/document/product/248/45105',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'redis',\n    get label() {\n      return t('REDIS');\n    },\n    namespace: 'QCE/REDIS',\n    href: 'https://cloud.tencent.com/document/product/248/45110',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'redisMem',\n    get label() {\n      return t('REDIS_MEM');\n    },\n    namespace: 'QCE/REDIS_MEM',\n    href: 'https://cloud.tencent.com/document/product/248/49729',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'sqlserver',\n    get label() {\n      return t('SQLSERVER');\n    },\n    namespace: 'QCE/SQLSERVER',\n    href: 'https://cloud.tencent.com/document/product/248/45146',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'cynosdbMysql',\n    get label() {\n      return t('CYNOSDB_MYSQL');\n    },\n    namespace: 'QCE/CYNOSDB_MYSQL',\n    href: 'https://cloud.tencent.com/document/product/248/45106',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'tcaplus',\n    get label() {\n      return t('TCAPLUS');\n    },\n    namespace: 'QCE/TCAPLUS',\n    href: 'https://cloud.tencent.com/document/product/248/45107',\n    get groupName() {\n      return t('cloud_database');\n    },\n  },\n  {\n    service: 'dcdb',\n    get label() {\n      return t('TDMYSQL');\n    },\n    namespace: 'QCE/TDMYSQL',\n    href: 'https://cloud.tencent.com/document/product/248/45108',\n  },\n  {\n    service: 'pcx',\n    get label() {\n      return t('PCX');\n    },\n    namespace: 'QCE/PCX',\n    href: 'https://cloud.tencent.com/document/product/215/5181',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'bwp',\n    get label() {\n      return t('BWP');\n    },\n    namespace: 'QCE/BWP',\n    href: 'https://cloud.tencent.com/document/api/215/19209',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'natGateway',\n    get label() {\n      return t('NAT_GATEWAY');\n    },\n    namespace: 'QCE/NAT_GATEWAY',\n    href: 'https://cloud.tencent.com/document/api/215/36034',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpngw',\n    get label() {\n      return t('VPNGW');\n    },\n    namespace: 'QCE/VPNGW',\n    href: 'https://cloud.tencent.com/document/product/248/45070',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpnx',\n    get label() {\n      return t('VPNX');\n    },\n    namespace: 'QCE/VPNX',\n    href: 'https://cloud.tencent.com/document/product/248/45071',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'dcg',\n    get label() {\n      return t('DCG');\n    },\n    namespace: 'QCE/DCG',\n    href: 'https://cloud.tencent.com/document/product/248/45072',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'ceipSummary',\n    get label() {\n      return t('CEIP_SUMMARY');\n    },\n    namespace: 'QCE/CEIP_SUMMARY',\n    href: 'https://cloud.tencent.com/document/product/248/50381',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vpcNetDetect',\n    get label() {\n      return t('VPC_NET_DETECT');\n    },\n    namespace: 'QCE/VPC_NET_DETECT',\n    href: 'https://cloud.tencent.com/document/product/248/50384',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'vbc',\n    get label() {\n      return t('VBC');\n    },\n    namespace: 'QCE/VBC',\n    href: 'https://cloud.tencent.com/document/product/248/45073',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'lb',\n    get label() {\n      return t('LB');\n    },\n    namespace: 'QCE/LB',\n    href: 'https://cloud.tencent.com/document/product/248/45099',\n    get groupName() {\n      return t('virtual_private_cloud');\n    },\n  },\n  {\n    service: 'lbPublic',\n    get label() {\n      return t('LB_PUBLIC');\n    },\n    namespace: 'QCE/LB_PUBLIC',\n    href: 'https://cloud.tencent.com/document/product/248/51898',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'lbPrivate',\n    get label() {\n      return t('LB_PRIVATE');\n    },\n    namespace: 'QCE/LB_PRIVATE',\n    href: 'https://cloud.tencent.com/document/product/248/51899',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'loadBalance',\n    get label() {\n      return t('LOADBALANCE');\n    },\n    namespace: 'QCE/LOADBALANCE',\n    href: 'https://cloud.tencent.com/document/product/248/51901',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('multi_scene')})`;\n    },\n  },\n  {\n    service: 'vClb',\n    get label() {\n      return `${t('cloud_load_balancer')}(${t('lite')})`;\n    },\n    namespace: 'QCE/V_CLB',\n    href: 'https://cloud.tencent.com/document/product/248/51901',\n    get groupName() {\n      return `${t('cloud_load_balancer')}(${t('lite')})`;\n    },\n  },\n  {\n    service: 'cdn',\n    get label() {\n      return t('CDN');\n    },\n    namespace: 'QCE/CDN',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50386',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'cdnProvince',\n    get label() {\n      return t('CDN_LOG_DATA');\n    },\n    namespace: 'QCE/CDN_LOG_DATA',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50388',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'ovCdn',\n    get label() {\n      return t('OV_CDN');\n    },\n    namespace: 'QCE/OV_CDN',\n    hideRegion: true,\n    href: 'https://cloud.tencent.com/document/product/248/50387',\n    get groupName() {\n      return t('content_delivery_network');\n    },\n  },\n  {\n    service: 'scf',\n    get label() {\n      return t('SCF_V2');\n    },\n    namespace: 'QCE/SCF_V2',\n    href: 'https://cloud.tencent.com/document/product/248/45130',\n  },\n  {\n    service: 'cfs',\n    get label() {\n      return t('CFS');\n    },\n    namespace: 'QCE/CFS',\n    href: 'https://cloud.tencent.com/document/product/248/45143',\n  },\n  {\n    service: 'cos',\n    get label() {\n      return t('COS');\n    },\n    namespace: 'QCE/COS',\n    href: 'https://cloud.tencent.com/document/product/248/45140',\n  },\n  {\n    service: 'ckafka',\n    get label() {\n      return t('CKAFKA');\n    },\n    namespace: 'QCE/CKAFKA',\n    href: 'https://cloud.tencent.com/document/product/248/45121',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'cmq',\n    get label() {\n      return t('CMQ');\n    },\n    namespace: 'QCE/CMQ',\n    href: 'https://cloud.tencent.com/document/product/248/45114',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'cmqTopic',\n    get label() {\n      return t('CMQTOPIC');\n    },\n    namespace: 'QCE/CMQTOPIC',\n    href: 'https://cloud.tencent.com/document/product/248/45113',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmq',\n    get label() {\n      return t('TDMQ');\n    },\n    namespace: 'QCE/TDMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmqRocketmq',\n    get label() {\n      return t('TDMQ_ROCKETMQ');\n    },\n    namespace: 'QCE/ROCKETMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'tdmqRabbitmq',\n    get label() {\n      return t('TDMQ_RABBITMQ');\n    },\n    namespace: 'QCE/RABBITMQ',\n    href: 'https://cloud.tencent.com/document/product/248/51450',\n    get groupName() {\n      return t('message_queue');\n    },\n  },\n  {\n    service: 'dcx',\n    get label() {\n      return t('DCX');\n    },\n    namespace: 'QCE/DCX',\n    href: 'https://cloud.tencent.com/document/product/248/45101',\n    get groupName() {\n      return t('direct_connect');\n    },\n  },\n  {\n    service: 'dc',\n    get label() {\n      return t('DC');\n    },\n    namespace: 'QCE/DC',\n    href: 'https://cloud.tencent.com/document/product/248/45102',\n    get groupName() {\n      return t('direct_connect');\n    },\n  },\n  {\n    service: 'cpm',\n    get label() {\n      return t('CPM');\n    },\n    namespace: 'QCE/CPM',\n    href: 'https://cloud.tencent.com/document/product/248/45881',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmPcx',\n    get label() {\n      return t('BM_PCX');\n    },\n    namespace: 'QCE/BM_PCX',\n    href: 'https://cloud.tencent.com/document/product/248/45884',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmLb',\n    get label() {\n      return t('BM_LB');\n    },\n    namespace: 'QCE/BM_LB',\n    href: 'https://cloud.tencent.com/document/product/248/45886',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'bmIntraLb',\n    get label() {\n      return t('BM_INTRA_LB');\n    },\n    namespace: 'QCE/BM_INTRA_LB',\n    href: 'https://cloud.tencent.com/document/product/248/45885',\n    get groupName() {\n      return t('cloud_physical_machine');\n    },\n  },\n  {\n    service: 'ces',\n    get label() {\n      return t('CES');\n    },\n    namespace: 'QCE/CES',\n    href: 'https://cloud.tencent.com/document/product/248/45129',\n  },\n  {\n    service: 'mrHDFS',\n    get label() {\n      return `${t('elastic_mapReduce')}(HDFS)`;\n    },\n    namespace: 'QCE/TXMR_HDFS',\n    href: 'https://cloud.tencent.com/document/product/248/44797',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrHBASE',\n    get label() {\n      return `${t('elastic_mapReduce')}(HBASE)`;\n    },\n    namespace: 'QCE/TXMR_HBASE',\n    href: 'https://cloud.tencent.com/document/product/248/45567',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrHIVE',\n    get label() {\n      return `${t('elastic_mapReduce')}(HIVE)`;\n    },\n    namespace: 'QCE/TXMR_HIVE',\n    href: 'https://cloud.tencent.com/document/product/248/45569',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrNODE',\n    get label() {\n      return `${t('elastic_mapReduce')}(NODE)`;\n    },\n    namespace: 'QCE/TXMR_NODE',\n    href: 'https://cloud.tencent.com/document/product/248/45570',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrPRESTO',\n    get label() {\n      return `${t('elastic_mapReduce')}(PRESTO)`;\n    },\n    namespace: 'QCE/TXMR_PRESTO',\n    href: 'https://cloud.tencent.com/document/product/248/45571',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrSPARK',\n    get label() {\n      return `${t('elastic_mapReduce')}(SPARK)`;\n    },\n    namespace: 'QCE/TXMR_SPARK',\n    href: 'https://cloud.tencent.com/document/product/248/45572',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrYARN',\n    get label() {\n      return `${t('elastic_mapReduce')}(YARN)`;\n    },\n    namespace: 'QCE/TXMR_YARN',\n    href: 'https://cloud.tencent.com/document/product/248/45573',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'mrZOOKEEPER',\n    get label() {\n      return `${t('elastic_mapReduce')}(ZOOKEEPER)`;\n    },\n    namespace: 'QCE/TXMR_ZOOKEEPER',\n    href: 'https://cloud.tencent.com/document/product/248/45574',\n    get groupName() {\n      return t('elastic_mapReduce');\n    },\n  },\n  {\n    service: 'cbs',\n    get label() {\n      return t('BLOCK_STORAGE');\n    },\n    namespace: 'QCE/BLOCK_STORAGE',\n    href: 'https://cloud.tencent.com/document/product/362/2345',\n  },\n  {\n    service: 'apigateway',\n    get label() {\n      return t('APIGATEWAY');\n    },\n    namespace: 'QCE/APIGATEWAY',\n    href: 'https://cloud.tencent.com/document/product/248/45127',\n  },\n  {\n    service: 'qaap',\n    get label() {\n      return t('QAAP');\n    },\n    namespace: 'QCE/QAAP',\n    href: 'https://cloud.tencent.com/document/product/608',\n  },\n  {\n    service: 'ecm',\n    get label() {\n      return t('ECM');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'ecmBlockStorage',\n    get label() {\n      return t('ECM_BLOCK_STORAGE');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM_BLOCK_STORAGE',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'ecmLb',\n    get label() {\n      return t('ECM_LB');\n    },\n    hideRegion: true,\n    namespace: 'QCE/ECM_LB',\n    href: 'https://cloud.tencent.com/document/product/1108',\n    get groupName() {\n      return t('edge_computing_machine');\n    },\n  },\n  {\n    service: 'gse',\n    get label() {\n      return t('GSE');\n    },\n    namespace: 'QCE/GSE',\n    href: 'https://cloud.tencent.com/document/product/1165',\n  },\n  {\n    service: 'cls',\n    get label() {\n      return t('CLS');\n    },\n    namespace: 'QCE/CLS',\n    href: 'https://cloud.tencent.com/document/product/614',\n  },\n  {\n    service: 'tke',\n    get label() {\n      return t('TKE');\n    },\n    namespace: 'QCE/TKE2',\n    href: 'https://cloud.tencent.com/document/product/457',\n  },\n  {\n    service: 'ecdn',\n    get label() {\n      return t('ECDN');\n    },\n    namespace: 'QCE/DSA',\n    href: 'https://cloud.tencent.com/document/product/570',\n  },\n  // {\n  //   service: 'lighthouse',\n  //   label: '轻量应用服务器(LIGHTHOUSE)',\n  //   namespace: 'QCE/LIGHTHOUSE',\n  //   href: 'https://cloud.tencent.com/document/product/1207',\n  // },\n  // {\n  //   service: 'tsf',\n  //   label: ' 微服务平台(TSF)',\n  //   namespace: 'QCE/TSF',\n  //   href: 'https://cloud.tencent.com/document/product/649',\n  // },\n  {\n    service: 'waf',\n    get label() {\n      return t('WAF');\n    },\n    // hideRegion: true,\n    namespace: 'QCE/WAF',\n    href: 'https://cloud.tencent.com/document/product/627',\n  },\n];\nconst Datasources = {};\nconst InitStates = {};\nconst InstanceAliasList = {};\nconst GetInstanceQueryParams = {};\n\n/**\n * 由于目录命名不规范，导致需要使用额外逻辑保证正确性。从目录到具体service的映射\n */\nconst hackModuleName = {\n  // lb_loadBalance: 'loadBalance',\n  postgresql: 'postgres',\n  mongodb: 'mongoDB',\n  clb: ['lbPrivate', 'lbPublic', 'loadBalance'],\n  mr: ['mrHDFS', 'mrHBASE', 'mrHIVE', 'mrNODE', 'mrPRESTO', 'mrSPARK', 'mrYARN', 'mrZOOKEEPER'],\n};\n\nconst requireModule = (require as any).context('./', true, /^\\.\\/[a-zA-Z]\\w+\\/(datasource)|(query(_def)?)\\.ts$/);\n\nrequireModule.keys().forEach((filePath) => {\n  let [, moduleName, fileName] = filePath.split('/');\n\n  // hack： 这里是由于产品目录命名不规范,所以才会多这么一段代码\n  moduleName = hackModuleName[moduleName] ?? moduleName;\n\n  // 目录与模块的映射关系，不管是一对一还是一对多，均按数组进行统一处理\n  [].concat(moduleName).forEach((module: string) => {\n    // 这个service就是产品配置中的service，需要注意这里的service是根据目录名称算出来的，因此目录名称一定要和service对应\n    const service = module.replace(/_([a-zA-Z])/g, (_, b) => b.toUpperCase());\n    const prefix = service.toUpperCase(); // 命名规则\n\n    // datasource\n    if (fileName === 'datasource.ts') {\n      const Cls = require(`${filePath}`).default;\n\n      // 想办法为实例注入service，不能为prototype或则类本身注入，因为会造成互相污染，详尽mrDatasource\n      Datasources[`${prefix}Datasource`] = class {\n        constructor(...params) {\n          const target = new Cls(...params, service);\n          target.service = service;\n          // eslint-disable-next-line no-constructor-return\n          return target;\n        }\n      };\n    }\n    // query\n    if (fileName === 'query.ts') {\n      require(`${filePath}`);\n    }\n    // query_def\n    if (fileName === 'query_def.ts') {\n      const alias = `${prefix}InstanceAliasList`;\n      const getParams = `${prefix}GetInstanceQueryParams`;\n\n      const target = require(`${filePath}`);\n\n      InitStates[service] = target.default; // FIXME: 这里需不需要深拷贝？\n      InstanceAliasList[alias] = target[alias] ?? target['InstanceAliasList'];\n      GetInstanceQueryParams[getParams] = target[getParams] ?? target['GetInstanceQueryParams'];\n    }\n  });\n});\n\nexport {\n  InitStates as InitServiceState,\n  SERVICES,\n  Datasources,\n  InstanceAliasList,\n  GetInstanceQueryParams,\n  // DefaultDimensions\n};\n\n// console.log(Datasources, InitStates, InstanceAliasList, GetInstanceQueryParams);\n","import _ from 'lodash';\nimport { BaseDatasource } from '../_base/datasource';\nimport { LBInstanceAliasList, LBInvalidDemensions } from './query_def';\n\nexport default class SCFDatasource extends BaseDatasource {\n  Namespace = 'QCE/LB';\n  InstanceAliasList = LBInstanceAliasList;\n  InvalidDimensions = LBInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'AddressId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeAddresses',\n    responseField: 'AddressSet',\n    interceptor: {\n      request: (params) => {\n        const { Filters } = params;\n        if (!Filters) {\n          params.Filters = [];\n        }\n        params.Filters.push({\n          Name: 'address-type',\n          Values: ['EIP'],\n        });\n        return params;\n      }, // 设置一些请求参数的 默认值\n    },\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) =>\n      /* hack：这里多加了筛选条件，是因为后端数据不准确，坑啊！ 只拿取包含eip的指标 */\n      item.Dimensions?.[0]?.Dimensions?.includes('eip')\n    );\n  }\n\n  // async getInstances(region, params = {}) {\n  //   const rawSet = await super.getInstances(region, params);\n  //   /* hack：这里多加了筛选条件，是因为后端数据不准确，坑啊！ 只拿取包含eip的指标 */\n  //   return rawSet.filter((item) => item.AddressType === 'EIP');\n  // }\n\n  // async getVariableInstances(region, query = {}) {\n  //   const rawSet = await super.getVariableInstances(region, query);\n  //   return rawSet.filter((item) => item.AddressType === 'EIP');\n  // }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { LBFilterDescriptor } from './query_def';\n\nexport class LBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      // $scope.LBQueryDescriptor = LBQueryDescriptor;\n      $scope.LBFilterDescriptor = LBFilterDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('cvm', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/16702\">Click here to get API doc.</a>\n</label>\n\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      AddressIds\n      <info-popover mode=\"right-normal\">\n        实例 ID，每次请求的实例的上限为100，参数不支持同时指定 AddressIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.AddressIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-9\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 AddressIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n\n<!--Filters部分-->\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in LBFilterDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      max-cond=\"5\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function lbQuery() {\n  return {\n    template: template,\n    controller: LBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('lbQuery', lbQuery);\n","import _ from 'lodash';\n\n// export const LBQueryDescriptor = [{\n//   key: 'Offset',\n//   enDescriptor: 'Offset',\n//   cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n//   link: '',\n//   type: 'inputnumber',\n//   min: 0,\n// },\n// {\n//   key: 'Limit',\n//   enDescriptor: 'Limit',\n//   cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为2000',\n//   link: '',\n//   type: 'inputnumber',\n//   min: 1,\n//   max: 2000,\n// },\n// {\n//   key: 'AddressId',\n//   enDescriptor: 'Address Id',\n//   cnDescriptor: '标识 EIP 的唯一 ID ',\n//   link: '',\n//   type: 'inputmulti',\n// }\n// ];\n\nexport const LBFilterDescriptor = [\n  {\n    key: 'address-id',\n    enDescriptor: 'Address ID',\n    cnDescriptor: 'EIP 的唯一 ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-name',\n    enDescriptor: 'Address Name',\n    cnDescriptor: 'EIP 名称 ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-ip',\n    enDescriptor: 'Address IP',\n    cnDescriptor: 'EIP 的 IP 地址 ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'address-status',\n    enDescriptor: 'Address Status',\n    cnDescriptor: 'EIP 的状态',\n    link: '',\n    type: 'select',\n    list: [\n      { value: 'CREATING', text: 'CREATING' },\n      { value: 'BINDING', text: 'BINDING' },\n      { value: 'BIND', text: 'BIND' },\n      { value: 'UNBINDING', text: 'UNBINDING' },\n      { value: 'UNBIND', text: 'UNBIND' },\n      { value: 'OFFLINING', text: 'OFFLINING' },\n      { value: 'BIND_ENI', text: 'BIND_ENI' },\n    ],\n  },\n  {\n    key: 'instance-id',\n    enDescriptor: 'Instance ID',\n    cnDescriptor: '实例ID ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: 'EIP 绑定的内网 IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'network-interface-id',\n    enDescriptor: 'Network Interface ID',\n    cnDescriptor: 'EIP 绑定的弹性网卡 ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'is-arrears',\n    enDescriptor: 'Arrears',\n    cnDescriptor: 'EIP 是否欠费 ',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '正常', value: 'FALSE' },\n      { text: '欠费', value: 'TRUE' },\n    ],\n  },\n];\n\n// const LBFilterFields = {\n//   \"address-id\": [],\n//   \"address-name\": [],\n//   \"address-ip\": [],\n//   \"address-status \": [],\n//   \"instance-id \": [],\n//   \"private-ip-address\": [],\n//   \"network-interface-id \": [],\n//   \"is-arrears \": [],\n// };\n\nconst InstanceKey = 'AddressIds';\nconst LB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'AddressId',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    [InstanceKey]: [''],\n    Filters: {\n      'address-id': [],\n      'address-name': [],\n      'address-ip': [],\n      'address-status ': [],\n      'instance-id ': [],\n      'private-ip-address': [],\n      'network-interface-id ': [],\n      'is-arrears ': [],\n    },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries[InstanceKey])) {\n        const InstanceIds = _.compact(queries[InstanceKey]);\n        if (_.uniq(InstanceIds).length > 0) {\n          params[InstanceKey] = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst LBInstanceAliasList = ['AddressId', 'AddressName', 'AddressIp'];\n\n// 维度eip对应于实例中的哪个字段？映射\nconst LBInvalidDemensions = {\n  eip: 'AddressIp',\n};\n\nconst templateQueryIdMap = {\n  instance: 'AddressId',\n};\n// 从monitor维度到LB实例对应字段的映射\n// export const metric2Instance = {\n//   functionName: 'FunctionName',\n//   namespace: 'Namespace'\n// };\n\nexport default LB_STATE;\nexport {\n  LBInstanceAliasList,\n  LBInvalidDemensions,\n  templateQueryIdMap,\n  GetInstanceQueryParams as LBGetInstanceQueryParams,\n};\n\n// monitor监控数据默认支持的维度\n// export const LBDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import _ from 'lodash';\nimport {\n  LIGHTHOUSEInstanceAliasList,\n  templateQueryIdMap,\n  LighthouseInvalidDemensions,\n  modifyDimensons,\n} from './query_def';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class LighthouseDatasource extends BaseDatasource {\n  Namespace = 'QCE/LIGHTHOUSE';\n  InstanceAliasList = LIGHTHOUSEInstanceAliasList;\n  InvalidDimensions = LighthouseInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'lighthouse',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/api',\n        data: { Product: 'lighthouse' },\n      },\n      'api',\n      { action: 'DescribeRegions' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.RegionSet || [], (item) => {\n          return {\n            text: item.RegionName,\n            value: item.Region,\n            RegionState: item.RegionState,\n          };\n        }),\n        (item) => item.RegionState === 'AVAILABLE'\n      );\n    });\n  }\n\n  getZones(region) {\n    const serviceInfo = GetServiceAPIInfo(region, 'api');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: { Product: 'lighthouse' },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeZones' }\n    ).then((response) => {\n      return _.filter(\n        _.map(response.ZoneSet || [], (item) => {\n          return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n        }),\n        (item) => item.ZoneState === 'AVAILABLE'\n      );\n    });\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(\n      rawSet.map((item) => {\n        return modifyDimensons(item);\n      })\n    );\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { LighthouseFilterFieldsDescriptor } from './query_def';\n\nexport class LighthouseQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.LighthouseFilterFieldsDescriptor = LighthouseFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'zone':\n          return $scope.getZones();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getZones = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getZones('lighthouse', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/1207/47573\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        Offset\n        <info-popover mode=\"right-normal\">\n          偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n        </info-popover>\n      </label>\n      <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        Limit\n        <info-popover mode=\"right-normal\">\n          单次请求返回的数量，默认为20，最小值为1，最大值为100\n        </info-popover>\n      </label>\n      <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-9\">\n        InstanceIds\n        <info-popover mode=\"right-normal\">\n          实例 ID，每次请求的实例的上限为100，参数不支持同时指定 InstanceIds 和 Filters\n        </info-popover>\n      </label>\n      <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n        switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n    </div>\n  </div>\n  <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n    <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.InstanceIds\" on-change=\"onChange()\">\n    </multi-condition>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-9\">\n        Filters\n        <info-popover mode=\"right-normal\">\n          过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 InstanceIds 和 Filters\n        </info-popover>\n      </label>\n      <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n        on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n    </div>\n  </div>\n  <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n    <div class=\"gf-form-inline\" ng-repeat=\"field in LighthouseFilterFieldsDescriptor\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputNumbermulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries.Filters[field.key]\"\n        options=\"field.list\"\n        multiple=\"true\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function lighthouseQuery() {\n  return {\n    template: template,\n    controller: LighthouseQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('lighthouseQuery', lighthouseQuery);\n","import _ from 'lodash';\n\nconst LighthouseStateType = [\n  { text: '创建中', value: 'PENDING' },\n  { text: '创建失败', value: 'LAUNCH_FAILED' },\n  { text: '运行中', value: 'RUNNING' },\n  { text: '关机', value: 'STOPPED' },\n  { text: '开机中', value: 'STARTING' },\n  { text: '关机中', value: 'STOPPING' },\n  { text: '重启中', value: 'REBOOTING' },\n  { text: '停止待销毁', value: 'SHUTDOWN' },\n  { text: '销毁中', value: 'TERMINATING' },\n];\n\nconst LighthouseFilterFields = {\n  zone: [],\n  'instance-name': [],\n  'instance-state': {},\n  'private-ip-address': [],\n  'public-ip-address': [],\n};\n\nconst LighthouseFilterFieldsDescriptor = [\n  {\n    key: 'instance-name',\n    enDescriptor: 'Instance Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'private-ip-address',\n    enDescriptor: 'Private IP Address',\n    cnDescriptor: '实例主网卡的内网IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'Public IP Address',\n    cnDescriptor: '实例主网卡的公网IP',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '可用区',\n    link: '',\n    type: 'dropdownmulti',\n  },\n  {\n    key: 'instance-state',\n    enDescriptor: 'Instance State',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    list: LighthouseStateType,\n  },\n];\n\nconst LIGHTHOUSE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    InstanceIds: [''],\n    Filters: { ...LighthouseFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst LIGHTHOUSEInstanceAliasList = ['InstanceId', 'InstanceName', 'PrivateIpAddresses', 'PublicIpAddresses'];\n\nconst LighthouseInvalidDemensions = {\n  instanceid: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\n\nexport default LIGHTHOUSE_STATE;\n\nexport {\n  LighthouseFilterFieldsDescriptor,\n  LIGHTHOUSEInstanceAliasList,\n  LighthouseInvalidDemensions,\n  templateQueryIdMap,\n  modifyDimensons,\n  GetInstanceQueryParams as LIGHTHOUSEGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport {\n  MONGODBInstanceAliasList,\n  MONGODBInvalidDemensions,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class MONGODBDatasource extends BaseDatasource {\n  Namespace = 'QCE/CMONGO';\n  InstanceAliasList = MONGODBInstanceAliasList;\n  ReplicaAliasList = ['ReplicaSetId', 'ReplicaSetName'];\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n\n  InstanceReqConfig = {\n    service: 'mongodb',\n    action: 'DescribeDBInstances',\n    responseField: 'InstanceDetails',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getInvalidDimensions(selfIns: any, target: any) {\n    if (target.node && target.node !== '') {\n      return { target: 'Node' };\n    }\n    if (target.replica && target.replica !== '') {\n      return { target: 'Replica' };\n    }\n    return MONGODBInvalidDemensions;\n  }\n  formatVariableDisplay(data: Record<string, any>, displayTpl: string | undefined, alias: string, aliasList: string[]) {\n    if (displayTpl) {\n      return displayTpl.replace(/\\$\\{(\\w+)\\}/g, (a, b) => {\n        if (!b || !aliasList.includes(b)) {\n          return '';\n        }\n        return this.getAliasValue(data, b);\n      });\n    }\n    return this.getAliasValue(data, alias);\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const { display } = query;\n    if (action === 'DescribeReplicas') {\n      const [res] = await this.getInstances(region, { InstanceIds: [instance[this.templateQueryIdMap.instance]] });\n      let { replicaalias } = query;\n      replicaalias = this.ReplicaAliasList.includes(replicaalias) ? replicaalias : this.templateQueryIdMap.replica;\n      const result = _.map(_.get(res, 'ReplicaSets', []), (item) => {\n        const replicaAlias = this.formatVariableDisplay(item, display, replicaalias, this.ReplicaAliasList);\n        item._InstanceAliasValue = replicaAlias || item[this.templateQueryIdMap.replica];\n        return { text: item.ReplicaSetId, value: item.ReplicaSetId };\n      });\n      await instanceStorage.setExtraStorage(\n        this.service,\n        this.queryMonitorExtraConfg.Replica.dim_KeyInStorage,\n        _.get(res, 'ReplicaSets', [])\n      );\n      return result;\n    }\n    if (action === 'DescribeReplicaNodes') {\n      const [res] = await this.getInstances(region, { InstanceIds: [instance[this.templateQueryIdMap.instance]] });\n      const { replicasetid } = query;\n      const targetReplica = _.find(_.get(res, 'ReplicaSets', []), { ReplicaSetId: this.getVariable(replicasetid) });\n      let result = _.times(targetReplica.SecondaryNum, (index) => {\n        const nodeId = `${targetReplica.ReplicaSetId}-node-slave${index}`;\n        return { text: nodeId, value: nodeId };\n      });\n      if (targetReplica) {\n        result = [\n          { text: `${targetReplica.ReplicaSetId}-node-primary`, value: `${targetReplica.ReplicaSetId}-node-primary` },\n          ...result,\n        ];\n      }\n      await instanceStorage.setExtraStorage(\n        this.service,\n        this.queryMonitorExtraConfg.Node.dim_KeyInStorage,\n        result.map((item) => ({ NodeId: item.value, _InstanceAliasValue: item.value }))\n      );\n      return result;\n    }\n\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { map, get, find, times } from 'lodash';\nimport { MONGODBFieldsDescriptor, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class MongoDBQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.MONGODBFieldsDescriptor = MONGODBFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.onInstanceChange = (n, o) => {\n      if (n === o) {\n        return;\n      }\n      $scope.target.replica = '';\n      $scope.target.node = '';\n    };\n\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace('QCE/CMONGO');\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {\n        // console.log();\n      }\n      return variableData;\n    };\n\n    $scope.getExtraDropdown = async (target, type) => {\n      const { instance, replica } = $scope.target;\n      const service = GetServiceFromNamespace('QCE/CMONGO');\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const [res] = await $scope.datasource.getServiceFn(service, 'getInstances')(region, {\n        InstanceIds: [instanceId],\n      });\n      if (type === 'replica') {\n        return map(get(res, 'ReplicaSets', []), (item) => {\n          item._InstanceAliasValue = item.ReplicaSetId;\n          return { text: item.ReplicaSetId, value: JSON.stringify(item) };\n        });\n      }\n      if (type === 'node' && replica !== '') {\n        const replicaId = $scope.getVariableId(replica, 'replica');\n        const targetReplica = find(get(res, 'ReplicaSets', []), { ReplicaSetId: replicaId });\n        const options = times(targetReplica.SecondaryNum, (index) => {\n          const nodeId = `${targetReplica.ReplicaSetId}-node-slave${index}`;\n          return {\n            text: nodeId,\n            value: JSON.stringify({ NodeId: nodeId, _InstanceAliasValue: `${targetReplica.ReplicaSetId} - ${nodeId}` }),\n          };\n        });\n        return [\n          {\n            text: `${targetReplica.ReplicaSetId}-node-primary`,\n            value: JSON.stringify({\n              NodeId: `${targetReplica.ReplicaSetId}-node-primary`,\n              _InstanceAliasValue: `${targetReplica.ReplicaSetId} - ${`${targetReplica.ReplicaSetId}-node-primary`}`,\n            }),\n          },\n          ...options,\n        ];\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in MONGODBFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Replica\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.replica\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'replica')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.replica\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      Node\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.node\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'node')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function mongodbQuery() {\n  return {\n    template: template,\n    controller: MongoDBQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onRefresh: '&',\n      onChange: '&',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', (newValue, oldValue) => {\n        scope.onInstanceChange?.(newValue, oldValue);\n      });\n    },\n  };\n}\n\ncoreModule.directive('mongodbQuery', mongodbQuery);\n","import _ from 'lodash';\nconst InstanceTypes = [\n  { text: '所有实例', value: 0 },\n  { text: '正式实例', value: 1 },\n  { text: '临时实例', value: 2 },\n  { text: '只读实例', value: 3 },\n  { text: '正式，只读，灾备实例', value: -1 },\n];\n\nconst ClusterTypes = [\n  { text: '副本集实例', value: 0 },\n  { text: '分片实例', value: 1 },\n  { text: '所有实例', value: -1 },\n];\n\nconst Status = [\n  { text: '待初始化', value: 0 },\n  { text: '流程执行中', value: 1 },\n  { text: '实例有效', value: 2 },\n  { text: '实例已过期', value: -2 },\n];\n\nconst PayMode = [\n  { text: '按量计费', value: 0 },\n  { text: '包年包月', value: 1 },\n  { text: '按量包年包月计费', value: -1 },\n];\n\nconst OrderBy = [\n  { text: 'ProjectId', value: 'ProjectId' },\n  { text: 'InstanceName', value: 'InstanceName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n];\n\nconst OrderByType = [\n  { text: '升序', value: 'ASC' },\n  { text: '降序', value: 'DESC' },\n];\n\nconst MongoDBFields = {\n  InstanceIds: [],\n  InstanceType: {},\n  ClusterType: {},\n  Status: [],\n  VpcId: '',\n  SubnetId: '',\n  PayMode: {},\n  Limit: 20,\n  Offset: 0,\n  OrderBy: '',\n  OrderByType: '',\n};\n\nconst MONGODBFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstancesIds',\n    cnDescriptor: '实例名称',\n    type: 'inputmulti',\n  },\n  {\n    key: 'InstanceType',\n    enDescriptor: 'InstanceType',\n    cnDescriptor: '实例类型',\n    link: '',\n    type: 'select',\n    list: InstanceTypes,\n  },\n  {\n    key: 'ClusterType',\n    enDescriptor: 'ClusterType',\n    cnDescriptor: '集群类型',\n    link: '',\n    type: 'select',\n    list: ClusterTypes,\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    link: '',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '私有网络的ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '私有网络的子网ID，基础网络则不传该参数。入参设置该参数的同时，必须设置相应的VpcId',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'PayMode',\n    enDescriptor: 'PayMode',\n    cnDescriptor: '付费类型',\n    link: '',\n    type: 'select',\n    list: PayMode,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderByType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderByType,\n  },\n];\n\nconst MONGODB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...MongoDBFields },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select 单选\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst MONGODBInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst MONGODBInvalidDemensions = {\n  target: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  replica: 'ReplicaSetId',\n};\n\nconst queryMonitorExtraConfg = {\n  Replica: {\n    dim_KeyInStorage: 'ReplicaSets',\n    dim_KeyInTarget: 'replica',\n    dim_KeyInMap: 'ReplicaSetId',\n    dim_KeyInIns: 'ReplicaSetId',\n  },\n  Node: {\n    dim_KeyInStorage: 'ReplicaNodeSets',\n    dim_KeyInTarget: 'node',\n    dim_KeyInMap: 'NodeId',\n    dim_KeyInIns: 'NodeId',\n  },\n};\nexport default MONGODB_STATE;\nexport {\n  MONGODBFieldsDescriptor,\n  MONGODBInvalidDemensions,\n  MONGODBInstanceAliasList,\n  templateQueryIdMap,\n  queryMonitorExtraConfg,\n  GetInstanceQueryParams as MONGODBGetInstanceQueryParams,\n};\n","import { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  InvalidDemensions,\n  InstanceAliasList,\n  templateQueryIdMap,\n  keyInStorage,\n  queryMonitorExtraConfg,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\n\nexport default class MrHdfsDatasource extends BaseDatasource {\n  InvalidDimensions: Record<string, string> = InvalidDemensions;\n  InstanceAliasList: string[] = InstanceAliasList;\n  templateQueryIdMap = templateQueryIdMap;\n  extrasAlias = [];\n  keyInStorage = keyInStorage;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  InstanceReqConfig = {\n    service: 'emr',\n    action: 'DescribeInstances',\n    responseField: 'ClusterList',\n    interceptor: {\n      request: (params) => ({\n        ...params,\n        DisplayStrategy: params.DisplayStrategy || 'monitorManage',\n        ProjectId: params.ProjectId || -1,\n      }), // 设置一些请求参数的 默认值\n      response: (data: any[]) => data.map(({ ClusterId, ClusterName }) => ({ ClusterId, ClusterName })),\n    },\n  };\n\n  async fetchAllNodes(region: string, params: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'emr');\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeClusterNodes' }\n        );\n      },\n      { ...params, isOffsetPage: true },\n      'NodeList'\n    );\n\n    // return rs[0].map((item) => ({ text: item.Ip, value: item.Ip }));\n    return rs[0];\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    let result;\n    switch (action) {\n      case 'DescribeClusterNodes': {\n        const resultT = await this.fetchAllNodes(region, { InstanceId: instance.ClusterId, NodeFlag: 'all' });\n        result = resultT.map((item) => {\n          item._InstanceAliasValue = item[templateQueryIdMap.node];\n          return { text: item[templateQueryIdMap.node], value: item[templateQueryIdMap.node] };\n        });\n        await instanceStorage.setExtraStorage(this.service, this.keyInStorage.node, resultT);\n\n        return result;\n      }\n      default:\n        return [];\n    }\n  }\n}\n","import { InstanceQueryDescriptor, templateQueryIdMap } from './query_def';\nimport coreModule from 'grafana/app/core/core_module';\n\nconst ExtraFields = [\n  {\n    label: 'NodeIP',\n    field: 'nodeIP',\n  },\n];\n\nexport class MrQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.InstanceQueryDescriptor = InstanceQueryDescriptor;\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    // 各个实例下的订阅，由于不想每次都重复发请求，所以这里做了一层缓存，数据结构为{ [instanceId]: {   } }\n    $scope.cacheMap = {};\n\n    $scope.getExtraFields = () => {\n      return Object.keys($scope.dims ?? {}).some((item: string) => item.startsWith('host4')) ? ExtraFields : [];\n      // return ExtraFields;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('mrHDFS', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).ClusterId;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.onExtraFieldChange = (field) => {\n      $scope.onRefresh();\n    };\n\n    $scope.getExtraDropdown = async (target, field) => {\n      if (field === 'nodeIP') {\n        const InstanceId = $scope.getInstanceId();\n        let data = $scope.cacheMap[InstanceId];\n\n        if (!data) {\n          const region = $scope.datasource.getServiceFn('mrHDFS', 'getVariable')(target.region);\n          const fetcher = $scope.datasource.getServiceFn('mrHDFS', 'fetchAllNodes');\n          const dataT = await fetcher(region, { InstanceId, NodeFlag: 'all' });\n          data = dataT.map((item) => {\n            item._InstanceAliasValue = item[templateQueryIdMap.node];\n            return {\n              text: item[templateQueryIdMap.node],\n              value: JSON.stringify(item),\n            };\n          });\n        }\n\n        // 缓存\n        $scope.cacheMap[InstanceId] = data;\n        return data;\n      }\n      return [];\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/589/34266\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in InstanceQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n<!-- 主题的ui -->\n  <div ng-if=\"target.instance\">\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.field)\"\n            on-change=\"onExtraFieldChange(extra.field)\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  </div>\n`;\n\nexport function mrQuery() {\n  return {\n    template: template,\n    controller: MrQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('mrQuery', mrQuery);\n","import _ from 'lodash';\n\nexport const InstanceQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为10，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceIds',\n    enDescriptor: 'InstanceIds',\n    cnDescriptor: '按照一个或者多个实例ID查询。实例ID形如: emr-xxxxxxxx ',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'OrderField',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '实例ID', value: 'clusterId' },\n      { text: '创建时间', value: 'addTime' },\n      { text: '状态', value: 'status' },\n    ],\n  },\n  {\n    key: 'Asc',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '降序', value: 0 },\n      { text: '升序', value: 1 },\n    ],\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '实例所属项目ID',\n    link: '',\n    type: 'inputnumber',\n  },\n  {\n    key: 'DisplayStrategy',\n    enDescriptor: 'DisplayStrategy',\n    cnDescriptor: '集群筛选策略',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '未销毁的实例', value: 'clusterList' },\n      { text: '正常运行的实例', value: 'monitorManage' },\n    ],\n  },\n];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nexport const InvalidDemensions = new Proxy(\n  {},\n  {\n    get(target, k, receiver) {\n      if (typeof k === 'string') {\n        if (k.startsWith('id4')) return 'ClusterId'; // id4****\n        if (k.startsWith('host4')) return 'Ip'; // host4***\n      }\n      return Reflect.get(target, k, receiver);\n    },\n    has(target, propKey) {\n      return true;\n    },\n  }\n);\n\nexport const templateQueryIdMap = {\n  instance: 'ClusterId',\n  node: 'Ip',\n};\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  node: 'nodeIP',\n};\n\n/**\n * 如果有InstanceId额外的维度，原则上都需要传入此map结构配置\n *\n * `key` 的含义：\n *   经过InvalidDemensions处理后的string。topicId => TopicId。\n *   否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\n *\n * `value` 的含义：\n *   @param {1} dim_KeyInStorage  指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n *   @param {2} dim_KeyInTarget   通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n *                                  默认取通过InvalidDemsion处理后的key\n *   @param {3} dim_KeyInMap      保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n *                                  即：templateQueryIdMap中内容。\n *                                  联合上面 2 的内容筛选出原始sourceMap\n */\nconst queryMonitorExtraConfg = {\n  Ip: {\n    dim_KeyInStorage: keyInStorage.node,\n    dim_KeyInTarget: 'nodeIP',\n    dim_KeyInMap: templateQueryIdMap.node,\n  },\n};\n\n// 与名称挂钩的变量\nconst InstanceAliasList = ['ClusterId', 'ClusterName'];\nexport { InstanceAliasList, GetInstanceQueryParams, queryMonitorExtraConfg, keyInStorage };\n\n// 界面状态模型，default\nexport default {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  nodeIP: '',\n  queries: {\n    Offset: 0,\n    Limit: 10,\n    DisplayStrategy: '',\n    OrderBy: {},\n    Order: {},\n    InstanceIds: [],\n    ProjectId: -1,\n    OrderField: '',\n    Asc: '',\n  },\n};\n","import _ from 'lodash';\nimport { NATGATEWAYInstanceAliasList, NATInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class NATGATEWAYDatasource extends BaseDatasource {\n  Namespace = 'QCE/NAT_GATEWAY';\n  InstanceAliasList = NATGATEWAYInstanceAliasList;\n  InvalidDimensions = NATInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'NatGatewayId',\n  };\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeNatGateways',\n    responseField: 'NatGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { NATGatewayFilterFieldsDescriptor } from './query_def';\n\nexport class NatGatewayQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.NATGatewayFilterFieldsDescriptor = NATGatewayFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/36034\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-10\">\n      NatGatewayIds\n      <info-popover mode=\"right-normal\">\n        NAT网关统一 ID，参数不支持同时指定 NatGatewayIds 和 Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n      switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n  <multi-condition type=\"'input'\" value=\"target.queries.NatGatewayIds\" on-change=\"onChange()\">\n  </multi-condition>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-10\">\n      Filters\n      <info-popover mode=\"right-normal\">\n        过滤条件，参数不支持同时指定NatGatewayIds和Filters\n      </info-popover>\n    </label>\n    <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n      on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n  </div>\n</div>\n<div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n  <div class=\"gf-form-inline\" ng-repeat=\"field in NATGatewayFilterFieldsDescriptor\">\n    <label class=\"gf-form-label width-14\">\n      {{ field.key }}\n      <info-popover mode=\"right-normal\">\n        {{ field.cnDescriptor }}\n        <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n      </info-popover>\n    </label>\n    <multi-condition\n      ng-if=\"field.type === 'dropdownmulti'\"\n      type=\"'dropdown'\"\n      value=\"target.queries.Filters[field.key]\"\n      get-options=\"getDropdown(field.key)\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputNumbermulti'\"\n      type=\"'inputNumber'\"\n      value=\"target.queries.Filters[field.key]\"\n      maxNum=\"field.max\"\n      minNum=\"field.min\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <multi-condition\n      ng-if=\"field.type === 'inputmulti'\"\n      type=\"'input'\"\n      value=\"target.queries.Filters[field.key]\"\n      on-change=\"onChange()\"\n    ></multi-condition>\n    <custom-select-dropdown\n      ng-if=\"field.type === 'select'\"\n      value=\"target.queries.Filters[field.key]\"\n      options=\"field.list\"\n      multiple=\"true\"\n      on-change=\"onChange()\"\n    ></custom-select-dropdown>\n  </div>\n</div>\n\n</div>\n`;\n\nexport function natGatewayQuery() {\n  return {\n    template: template,\n    controller: NatGatewayQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('natGatewayQuery', natGatewayQuery);\n","import _ from 'lodash';\n\nconst NATGATEWAYInstanceAliasList = ['NatGatewayId', 'NatGatewayName'];\n\nconst NATGatewayFilterFields = {\n  'nat-gateway-id': [],\n  'nat-gateway-name': [],\n  'vpc-id': [],\n};\n\nconst NATGatewayFilterFieldsDescriptor = [\n  {\n    key: 'nat-gateway-id',\n    enDescriptor: 'NatGateway ID',\n    cnDescriptor: 'NAT网关统一 ID',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'nat-gateway-name',\n    enDescriptor: 'NatGateway Name',\n    cnDescriptor: 'NatGateway Name',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC ID',\n    cnDescriptor: '私有网络 ID',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst NATGATEWAY_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'NatGatewayId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: false,\n    NatGatewayIds: [''],\n    Filters: { ...NATGatewayFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.NatGatewayIds)) {\n        const NatGatewayIds = _.compact(queries.NatGatewayIds);\n        if (_.uniq(NatGatewayIds).length > 0) {\n          params.InstanceIds = _.uniq(NatGatewayIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nconst templateQueryIdMap = {\n  instance: 'NatGatewayId',\n};\n\nconst NATInvalidDemensions = {\n  natId: 'NatGatewayId',\n};\n\nexport default NATGATEWAY_STATE;\nexport {\n  NATGatewayFilterFieldsDescriptor,\n  NATGATEWAYInstanceAliasList,\n  templateQueryIdMap,\n  NATInvalidDemensions,\n  GetInstanceQueryParams as NATGATEWAYGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { OVCDNInstanceAliasList, OVCDNInvalidDemensions } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class OVCDNDatasource extends BaseDatasource {\n  Namespace = 'QCE/OV_CDN';\n  InstanceAliasList = OVCDNInstanceAliasList;\n  InvalidDimensions = OVCDNInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'Domain',\n  };\n  InstanceReqConfig = {\n    service: 'cdn',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { OVCDNFilterFieldsDescriptor } from './query_def';\n\nexport class OVCDNQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.OVCDNFilterFieldsDescriptor = OVCDNFilterFieldsDescriptor;\n    };\n\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n<label class=\"gf-form-label tc-info-label\">\n  Instances are queried by following params.\n  <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/213/15728\">Click here to get API doc.</a>\n</label>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Offset\n      <info-popover mode=\"right-normal\">\n        偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label width-14\">\n      Limit\n      <info-popover mode=\"right-normal\">\n        单次请求返回的数量，默认为20，最小值为1，最大值为100\n      </info-popover>\n    </label>\n    <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-repeat=\"field in OVCDNFilterFieldsDescriptor\">\n<label class=\"gf-form-label width-14\">\n  {{ field.key }}\n  <info-popover mode=\"right-normal\">\n    {{ field.cnDescriptor }}\n    <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n  </info-popover>\n</label>\n<multi-condition\n  ng-if=\"field.type === 'inputNumbermulti'\"\n  type=\"'inputNumber'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  maxNum=\"field.max\"\n  minNum=\"field.min\"\n  on-change=\"onChange()\"\n></multi-condition>\n<multi-condition\n  ng-if=\"field.type === 'inputmulti'\"\n  type=\"'input'\"\n  max-cond=\"5\"\n  value=\"target.queries.Filters[field.key]\"\n  on-change=\"onChange()\"\n></multi-condition>\n<custom-select-dropdown\n  ng-if=\"field.type === 'select'\"\n  value=\"target.queries.Filters[field.key]\"\n  options=\"field.list\"\n  multiple=\"true\"\n  on-change=\"onChange()\"\n></custom-select-dropdown>\n</div>\n\n</div>\n`;\n\nexport function ovCdnQuery() {\n  return {\n    template: template,\n    controller: OVCDNQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('ovCdnQuery', ovCdnQuery);\n","import _ from 'lodash';\nconst CDNFilterFields = {\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: [],\n  serviceType: [],\n  projectId: [],\n  domainType: [],\n  fullUrlCache: [],\n  https: [],\n  originPullProtocol: [],\n  tagKey: [],\n};\n\nconst OVCDNFilterFieldsDescriptor = [\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumbermulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst OVCDN_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...CDNFilterFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    const Filters: any[] = [];\n    _.forEach(queries.Filters, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          Filters.push({ Name: key, Value: _.uniq(item).slice(0, 5) });\n        }\n      } else if (_.isObject(item)) {\n        if (!_.isEmpty(_.get(item, 'value', []))) {\n          Filters.push({ Name: key, Value: _.get(item, 'value', []).slice(0, 5) });\n        }\n      }\n    });\n    if (Filters.length > 0) {\n      params.Filters = Filters;\n    }\n  }\n  return params;\n}\n\nconst OVCDNInstanceAliasList = ['Domain', 'ResourceId'];\n\nconst OVCDNInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default OVCDN_STATE;\nexport {\n  OVCDNFilterFieldsDescriptor,\n  OVCDNInstanceAliasList,\n  templateQueryIdMap,\n  OVCDNInvalidDemensions,\n  GetInstanceQueryParams as OVCDNGetInstanceQueryParams,\n};\n","import { PCXInstanceAliasList, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo, GetRequestParamsV2, SliceLength } from '../../common/constants';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = PCXInstanceAliasList;\n  InvalidDimensions = {};\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'xx',\n    action: 'xx',\n    responseField: 'xx',\n  };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getInstances(region = 'ap-guangzhou', params = {}) {\n    params = { offset: 0, limit: 50, ...params };\n    const serviceInfo = GetServiceAPIInfo(region, 'pcx');\n    return this.doRequestV2(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcPeeringConnections' }\n    ).then((response) => {\n      return response.data || [];\n    });\n  }\n\n  /**\n   * 模板变量中获取全量的 PCX 实例列表\n   * @param region 地域信息\n   */\n  getVariableInstances(region, query) {\n    let result: any[] = [];\n    const params = { Offset: 0, Limit: 50, ...query };\n    const serviceInfo = GetServiceAPIInfo(region, 'pcx');\n    return this.doRequestV2(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcPeeringConnections' }\n    ).then((response) => {\n      result = response.data || [];\n      const total = response.totalCount || 0;\n      if (result.length >= total) {\n        return result;\n      } else {\n        const param = SliceLength(total, 50);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getInstances(region, item));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return result;\n          })\n          .catch((error) => {\n            return result;\n          });\n      }\n    });\n  }\n\n  getVpcId(region, params: any = {}) {\n    params = { Offset: 0, Limit: 20, ...params };\n    // TODO 等待腾讯云接口查问题\n    params.Offset = String(params.Offset);\n    params.Limit = String(params.Limit);\n    const serviceInfo = GetServiceAPIInfo(region, 'vpc');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcs' }\n    ).then((response) => {\n      return _.map(response.VpcSet || [], (item) => ({ text: item.VpcId, value: item.VpcId }));\n    });\n  }\n\n  getVpcIds(region) {\n    let result: any[] = [];\n    const params: any = { Offset: 0, Limit: 100 };\n    // TODO 等待腾讯云接口查问题\n    params.Offset = String(params.Offset);\n    params.Limit = String(params.Limit);\n    const serviceInfo = GetServiceAPIInfo(region, 'vpc');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeVpcs' }\n    ).then((response) => {\n      result = _.map(response.VpcSet || [], (item) => ({ text: item.VpcId, value: item.VpcId }));\n      const total = response.TotalCount || 0;\n      if (result.length >= total) {\n        return result;\n      } else {\n        const param = SliceLength(total, 100);\n        const promises: any[] = [];\n        _.forEach(param, (item) => {\n          promises.push(this.getVpcId(region, item));\n        });\n        return Promise.all(promises)\n          .then((responses) => {\n            _.forEach(responses, (item) => {\n              result = _.concat(result, item);\n            });\n            return result;\n          })\n          .catch((error) => {\n            return result;\n          });\n      }\n    });\n  }\n\n  /**\n   * 腾讯云 API 2.0 请求接口\n   * @param options\n   * @param service\n   * @param signObj\n   */\n  async doRequestV2(options, service, signObj: any = {}) {\n    options = await GetRequestParamsV2(\n      options,\n      service,\n      signObj,\n      this.secretId,\n      this.instanceSettings.id,\n      this.backendSrv\n    );\n    return this.backendSrv\n      .datasourceRequest(options)\n      .then((response) => {\n        return _.get(response, 'data', {});\n      })\n      .catch((error) => {\n        throw error;\n      });\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { PCXFieldsDescriptor } from './query_def';\n\nexport class PCXQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.PCXFieldsDescriptor = PCXFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        case 'vpcId':\n          return $scope.getVpcIds();\n        default:\n          return [];\n      }\n    };\n\n    $scope.getVpcIds = () => {\n      if (!$scope.region) {\n        return [];\n      }\n      return $scope.datasource.getVpcIds('pcx', $scope.region);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/215/2101\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in PCXFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function pcxQuery() {\n  return {\n    template: template,\n    controller: PCXQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('pcxQuery', pcxQuery);\n","import _ from 'lodash';\nconst namespace = 'QCE/PCX';\n\nconst PCXFields = {\n  limit: 20,\n  offset: 0,\n  peeringConnectionId: '',\n  peeringConnectionName: '',\n  vpcId: '',\n  state: undefined,\n};\n\nconst PCX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'peeringConnectionId',\n  queries: { ...PCXFields },\n};\n\nconst StateTypes = [\n  { text: '申请中', value: 0 },\n  { text: '连接成功', value: 1 },\n  { text: '已过期', value: 2 },\n  { text: '对端已拒绝', value: 3 },\n  { text: '对端已删除', value: 4 },\n];\n\nconst PCXFieldsDescriptor = [\n  {\n    key: 'offset',\n    enDescriptor: 'offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'limit',\n    enDescriptor: 'limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为50',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 50,\n  },\n  {\n    key: 'peeringConnectionId',\n    enDescriptor: 'PeeringConnection Id',\n    cnDescriptor: '私有网络对等连接 ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'peeringConnectionName',\n    enDescriptor: 'PeeringConnection Name',\n    cnDescriptor: '对等连接名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'vpcId',\n    enDescriptor: 'vpcId',\n    cnDescriptor: '发起方私有网络 ID 值',\n    link: 'https://cloud.tencent.com/document/api/215/1372',\n    type: 'dropdown',\n  },\n  {\n    key: 'state',\n    enDescriptor: 'state',\n    cnDescriptor: '连接状态',\n    link: '',\n    type: 'select',\n    list: StateTypes,\n  },\n];\n\nconst PCXInstanceAliasList = ['peeringConnectionId', 'peeringConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'peeringConnectionId',\n};\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.limit = _.get(queries, 'limit', 20) || 20;\n    params.offset = _.get(queries, 'offset', 0) || 0;\n    queries = _.omit(queries, ['offset', 'limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nexport default PCX_STATE;\n\nexport {\n  PCXInstanceAliasList,\n  PCXFieldsDescriptor,\n  templateQueryIdMap,\n  namespace,\n  GetInstanceQueryParams as PCXGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport {\n  POSTGRESInstanceAliasList,\n  PostgreInvalidDemensions,\n  namespace,\n  modifyDimensons,\n  templateQueryIdMap,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class CDBDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = POSTGRESInstanceAliasList;\n  InvalidDimensions = PostgreInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'postgres',\n    action: 'DescribeDBInstances',\n    responseField: 'DBInstanceSet',\n  };\n\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nconst namespace = 'QCE/POSTGRES';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'postgresQuery';\n\nconst PostgresFields = {\n  'db-instance-id': [],\n  'db-instance-name': [],\n};\n\nconst PostgresFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'db-instance-id',\n    enDescriptor: 'DB Instance ID',\n    cnDescriptor: 'DB 实例ID',\n    link: '',\n    type: 'inputMulti',\n    min: 0,\n  },\n  {\n    key: 'db-instance-name',\n    enDescriptor: 'DB Instance Name',\n    cnDescriptor: 'DB 实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/409/16773',\n  namespace,\n  fieldDescriptor: PostgresFieldsDescriptor,\n};\nconst POSTGRESInstanceAliasList = ['DBInstanceId', 'DBInstanceName'];\n\nconst POSTGRES_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'DBInstanceId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    Filters: { ...PostgresFields },\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['resourceId'];\n  });\n  return metricTmp;\n}\nconst PostgreInvalidDemensions = {\n  uid: 'DBInstanceId',\n  resourceId: 'DBInstanceId',\n};\nconst templateQueryIdMap = {\n  instance: 'DBInstanceId',\n};\nexport default POSTGRES_STATE;\n\nexport {\n  PostgresFieldsDescriptor,\n  POSTGRESInstanceAliasList,\n  templateQueryIdMap,\n  modifyDimensons,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  PostgreInvalidDemensions,\n  GetInstanceQueryParams as POSTGRESGetInstanceQueryParams,\n};\n","import { get } from 'lodash';\nimport { QAAPInstanceAliasList, QAAPInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class QAAPDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = QAAPInstanceAliasList;\n  InvalidDimensions = QAAPInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'gaap',\n    action: 'DescribeProxies',\n    responseField: 'ProxySet',\n    interceptor: {\n      // response: (data: unknown[]) =>[\n      //   {\n      //     \"NetDetectId\": \"netd-12345678\",\n      //   },\n      // ],\n    },\n  };\n  // MetricReqConfig = {\n  //   resultFilter: modifyDimensons,\n  // };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter(\n      (item) =>\n        get(item, 'Dimensions.length') === 1 &&\n        get(item, 'Dimensions[0].Dimensions.length') === 1 &&\n        get(item, 'Dimensions[0].Dimensions[0]') === 'channelId'\n    );\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/QAAP';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'qaapQuery';\n\nconst QAAPInvalidDemensions = {\n  channelId: 'InstanceId',\n};\n\nconst QAAPInstanceAliasList = ['InstanceId'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst QAAPFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ProjectId: [],\n  AccessRegion: [],\n  RealServerRegion: [],\n  GroupId: [],\n};\n\nconst QAAPFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'AccessRegion',\n    enDescriptor: 'AccessRegion',\n    cnDescriptor: '接入地域',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'RealServerRegion',\n    enDescriptor: 'RealServerRegion',\n    cnDescriptor: '源站地域',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'GroupId',\n    enDescriptor: 'GroupId',\n    cnDescriptor: '通道组ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/608/36963',\n  namespace,\n  fieldDescriptor: QAAPFilterFieldsDescriptor,\n};\n\nconst QAAP_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: QAAPFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  // metricTmp.Dimensions.forEach((item) => {\n  //   item.Dimensions = ['netDetectId'];\n  // });\n  return metricTmp;\n}\nexport default QAAP_STATE;\nexport {\n  QAAPFilterFieldsDescriptor,\n  templateQueryIdMap,\n  QAAPInstanceAliasList,\n  QAAPInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as QAAPGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { REDISInstanceAliasList, RedisInvalidDemensions, isValidMetric } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class REDISDatasource extends BaseDatasource {\n  Namespace = 'QCE/REDIS';\n  InstanceAliasList = REDISInstanceAliasList;\n  InvalidDimensions = RedisInvalidDemensions;\n  templateQueryIdMap = {\n    instance: 'InstanceId',\n  };\n  InstanceReqConfig = {\n    service: 'redis',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n    interceptor: {\n      request: (params) => ({ ...params, MonitorVersion: '1m' }),\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) => isValidMetric(item));\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { RedisFieldsDescriptor } from './query_def';\n\nexport class RedisQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.RedisFieldsDescriptor = RedisFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in RedisFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function redisQuery() {\n  return {\n    template: template,\n    controller: RedisQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('redisQuery', redisQuery);\n","import _ from 'lodash';\nconst BillingMode = [\n  { text: '按量计费', value: 'postpaid' },\n  { text: '包年包月', value: 'prepaid' },\n];\n\nconst AutoRenew = [\n  { text: '手动续费', value: 0 },\n  { text: '自动续费', value: 1 },\n  { text: '明确不自动续费', value: 2 },\n];\n\nconst Status = [\n  { text: '待初始化', value: 0 },\n  { text: '流程执行中', value: 1 },\n  { text: '运行中', value: 2 },\n  { text: '已隔离', value: -2 },\n  { text: '待删除', value: -3 },\n];\n\nconst TypeVersion = [\n  { text: '单机版', value: 1 },\n  { text: '主从版', value: 2 },\n  { text: '集群版', value: 3 },\n];\n\nconst OrderBy = [\n  { text: 'projectId', value: 'projectId' },\n  { text: 'instancename', value: 'instancename' },\n  { text: 'createtime', value: 'createtime' },\n  { text: 'type', value: 'type' },\n  { text: 'curDeadline', value: 'curDeadline' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\nconst Type = [\n  { text: 'Redis老集群版', value: 1 },\n  { text: 'Redis 2.8主从版', value: 2 },\n  { text: 'CKV主从版', value: 3 },\n  { text: 'CKV集群版', value: 4 },\n  { text: 'Redis 2.8单机版', value: 5 },\n  { text: 'Redis 4.0主从版', value: 6 },\n  { text: 'Redis 4.0集群版', value: 7 },\n  { text: 'Redis5.0主从版', value: 8 },\n  { text: 'Redis5.0集群版', value: 9 },\n];\n\nconst RedisFields = {\n  InstanceId: '',\n  OrderBy: '',\n  OrderType: null,\n  VpcIds: [],\n  SubnetIds: [],\n  ProjectIds: [],\n  SearchKey: '',\n  InstanceName: '',\n  UniqVpcIds: [],\n  UniqSubnetIds: [],\n  Status: [],\n  TypeVersion: null,\n  EngineName: '',\n  AutoRenew: null,\n  BillingMode: '',\n  Type: null,\n};\n\nconst RedisFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstancesId',\n    cnDescriptor: '实例id',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderType',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'VpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：47525',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'SubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：56854',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: '项目ID 组成的数组',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '查找实例的ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'InstanceName',\n    enDescriptor: 'InstanceName',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'UniqVpcIds',\n    enDescriptor: 'UniqVpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：vpc-sad23jfdfk',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'UniqSubnetIds',\n    enDescriptor: 'UniqSubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：subnet-fdj24n34j2',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'TypeVersion',\n    enDescriptor: 'TypeVersion',\n    cnDescriptor: '类型版本',\n    link: '',\n    type: 'select',\n    list: TypeVersion,\n  },\n  {\n    key: 'EngineName',\n    enDescriptor: 'EngineName',\n    cnDescriptor: '引擎信息：Redis-2.8，Redis-4.0，CKV',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenew',\n    enDescriptor: 'AutoRenew',\n    cnDescriptor: '续费模式',\n    multiple: true,\n    type: 'select',\n    list: AutoRenew,\n  },\n  {\n    key: 'BillingMode',\n    enDescriptor: 'BillingMode',\n    cnDescriptor: '计费模式：postpaid-按量计费；prepaid-包年包月',\n    link: '',\n    type: 'select',\n    list: BillingMode,\n  },\n  {\n    key: 'Type',\n    enDescriptor: 'Type',\n    cnDescriptor: '实例类型',\n    link: '',\n    type: 'select',\n    list: Type,\n  },\n];\n\nconst REDIS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...RedisFields },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select 单选\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nfunction isValidMetric(metricObj: any = {}) {\n  const dimension = _.get(metricObj, 'Dimensions[0].Dimensions');\n  return dimension.length === 1 && _.indexOf(dimension, 'instanceid') !== -1;\n}\n\nconst REDISInstanceAliasList = ['InstanceId', 'InstanceName', 'WanIp'];\n\nconst RedisInvalidDemensions = {\n  redis_uuid: 'InstanceId',\n  instanceid: 'InstanceId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\nexport default REDIS_STATE;\nexport {\n  RedisFieldsDescriptor,\n  RedisInvalidDemensions,\n  templateQueryIdMap,\n  REDISInstanceAliasList,\n  isValidMetric,\n  GetInstanceQueryParams as REDISGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport {\n  REDISMEMInstanceAliasList,\n  namespace,\n  RedisMemInvalidDemensions,\n  templateQueryIdMap,\n  NodeType,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\n\nexport default class REDISDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = REDISMEMInstanceAliasList;\n  InvalidDimensions = RedisMemInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  extrasAlias = [RedisMemInvalidDemensions.pnodeid, RedisMemInvalidDemensions.rnodeid];\n  InstanceReqConfig = {\n    service: 'redis',\n    action: 'DescribeInstances',\n    responseField: 'InstanceSet',\n    interceptor: {\n      request: (params) => ({ ...params, MonitorVersion: '5s' }),\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getInstanceNodeInfo(params: any) {\n    const { region, instanceId } = params;\n    const serviceInfo = GetServiceAPIInfo(region, 'redis');\n\n    const res = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action: 'DescribeInstanceNodeInfo' }\n        );\n      },\n      {\n        InstanceId: instanceId,\n      },\n      NodeType\n    );\n\n    return res;\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    if (action === 'DescribeInstanceNodeInfo') {\n      const rs = await this.getInstanceNodeInfo({ region, instanceId: instance[this.templateQueryIdMap.instance] });\n      const { nodetype } = query;\n      const ndoeTypeIndex = NodeType.indexOf(nodetype);\n      return ndoeTypeIndex === -1\n        ? []\n        : _.map(rs[ndoeTypeIndex], (item) => ({ text: item.NodeId, value: item.NodeId }));\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { map } from 'lodash';\nimport { RedisMemFieldsDescriptor, templateQueryIdMap, NodeType, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nexport class RedisMemQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.RedisMemFieldsDescriptor = RedisMemFieldsDescriptor;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.rnodeid = '';\n      $scope.target.pnodeid = '';\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getDropdown = (field) => {\n      switch (field) {\n        default:\n          return [];\n      }\n    };\n\n    $scope.getVariableId = (data, type) => {\n      let variableData = data;\n      const service = GetServiceFromNamespace(namespace);\n\n      variableData = $scope.datasource.getServiceFn(service, 'getVariable')(variableData);\n      if (!variableData) {\n        return '';\n      }\n      try {\n        variableData = JSON.parse(variableData)[templateQueryIdMap[type]];\n      } catch (error) {}\n      return variableData;\n    };\n\n    $scope.getExtraDropdown = async (target, nodetype) => {\n      const { instance } = $scope.target;\n      const service = GetServiceFromNamespace(namespace);\n      const instanceId = $scope.getVariableId(instance, 'instance');\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const rs = await $scope.datasource.getServiceFn(service, 'getInstanceNodeInfo')({ region, instanceId });\n\n      const ndoeTypeIndex = NodeType.indexOf(nodetype);\n      return ndoeTypeIndex === -1 ? [] : map(rs[ndoeTypeIndex], (item) => ({ text: item.NodeId, value: item.NodeId }));\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/240/35769\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in RedisMemFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <gf-form-dropdown\n        ng-if=\"field.type === 'dropdown'\"\n        model=\"target.queries[field.key]\"\n        allow-custom=\"true\"\n        lookup-text=\"true\"\n        get-options=\"getDropdown(field.key)\"\n        on-change=\"onChange()\"\n        css-class=\"min-width-10\"\n      ></gf-form-dropdown>\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n\n<div class=\"gf-form-inline\" ng-if=\"target.instance && dims.rnodeid\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      RedisNode\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.rnodeid\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'Redis')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n<div class=\"gf-form-inline\" ng-if=\"target.instance && dims.pnodeid\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">\n      ProxyNode\n    </label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.pnodeid\" allow-custom=\"true\" lookup-text=\"true\" get-options=\"getExtraDropdown(target, 'Proxy')\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n`;\n\nexport function redisMemQuery() {\n  return {\n    template: template,\n    controller: RedisMemQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\n\ncoreModule.directive('redisMemQuery', redisMemQuery);\n","import _ from 'lodash';\n\nconst namespace = 'QCE/REDIS_MEM';\nconst BillingMode = [\n  { text: '按量计费', value: 'postpaid' },\n  { text: '包年包月', value: 'prepaid' },\n];\n\nconst AutoRenew = [\n  { text: '手动续费', value: 0 },\n  { text: '自动续费', value: 1 },\n  { text: '明确不自动续费', value: 2 },\n];\n\nconst Status = [\n  { text: '待初始化', value: 0 },\n  { text: '流程执行中', value: 1 },\n  { text: '运行中', value: 2 },\n  { text: '已隔离', value: -2 },\n  { text: '待删除', value: -3 },\n];\n\nconst TypeVersion = [\n  { text: '单机版', value: 1 },\n  { text: '主从版', value: 2 },\n  { text: '集群版', value: 3 },\n];\n\nconst OrderBy = [\n  { text: 'projectId', value: 'projectId' },\n  { text: 'instancename', value: 'instancename' },\n  { text: 'createtime', value: 'createtime' },\n  { text: 'type', value: 'type' },\n  { text: 'curDeadline', value: 'curDeadline' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\nconst Type = [\n  { text: 'Redis老集群版', value: 1 },\n  { text: 'Redis 2.8主从版', value: 2 },\n  { text: 'CKV主从版', value: 3 },\n  { text: 'CKV集群版', value: 4 },\n  { text: 'Redis 2.8单机版', value: 5 },\n  { text: 'Redis 4.0主从版', value: 6 },\n  { text: 'Redis 4.0集群版', value: 7 },\n  { text: 'Redis5.0主从版', value: 8 },\n  { text: 'Redis5.0集群版', value: 9 },\n];\n\nconst RedisFields = {\n  InstanceId: '',\n  OrderBy: '',\n  OrderType: null,\n  VpcIds: [],\n  SubnetIds: [],\n  ProjectIds: [],\n  SearchKey: '',\n  InstanceName: '',\n  UniqVpcIds: [],\n  UniqSubnetIds: [],\n  Status: [],\n  TypeVersion: null,\n  EngineName: '',\n  AutoRenew: null,\n  BillingMode: '',\n  Type: null,\n};\n\nconst RedisMemFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'InstanceId',\n    enDescriptor: 'InstancesId',\n    cnDescriptor: '实例id',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderType',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n  {\n    key: 'VpcIds',\n    enDescriptor: 'VpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：47525',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SubnetIds',\n    enDescriptor: 'SubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：56854',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ProjectIds',\n    enDescriptor: 'ProjectIds',\n    cnDescriptor: '项目ID 组成的数组',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '查找实例的ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'InstanceName',\n    enDescriptor: 'InstanceName',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'UniqVpcIds',\n    enDescriptor: 'UniqVpcIds',\n    cnDescriptor: '私有网络ID数组，数组下标从0开始，如果不传则默认选择基础网络，如：vpc-sad23jfdfk',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'UniqSubnetIds',\n    enDescriptor: 'UniqSubnetIds',\n    cnDescriptor: '子网ID数组，数组下标从0开始，如：subnet-fdj24n34j2',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    multiple: true,\n    type: 'select',\n    list: Status,\n  },\n  {\n    key: 'TypeVersion',\n    enDescriptor: 'TypeVersion',\n    cnDescriptor: '类型版本',\n    link: '',\n    type: 'select',\n    list: TypeVersion,\n  },\n  {\n    key: 'EngineName',\n    enDescriptor: 'EngineName',\n    cnDescriptor: '引擎信息：Redis-2.8，Redis-4.0，CKV',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'AutoRenew',\n    enDescriptor: 'AutoRenew',\n    cnDescriptor: '续费模式',\n    multiple: true,\n    type: 'select',\n    list: AutoRenew,\n  },\n  {\n    key: 'BillingMode',\n    enDescriptor: 'BillingMode',\n    cnDescriptor: '计费模式：postpaid-按量计费；prepaid-包年包月',\n    link: '',\n    type: 'select',\n    list: BillingMode,\n  },\n  {\n    key: 'Type',\n    enDescriptor: 'Type',\n    cnDescriptor: '实例类型',\n    link: '',\n    type: 'select',\n    list: Type,\n  },\n];\n\nconst REDISMEM_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: { ...RedisFields },\n  rnodeid: '',\n  pnodeid: '',\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        // select 单选\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst REDISMEMInstanceAliasList = ['InstanceId', 'InstanceName', 'WanIp'];\n\nconst RedisMemInvalidDemensions = {\n  instanceid: 'InstanceId',\n  rnodeid: 'rnodeid',\n  pnodeid: 'pnodeid',\n};\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  rnodeid: 'rnodeid',\n  pnodeid: 'pnodeid',\n};\n\nconst NodeType = ['Redis', 'Proxy'];\n\nexport default REDISMEM_STATE;\nexport {\n  RedisMemFieldsDescriptor,\n  RedisMemInvalidDemensions,\n  REDISMEMInstanceAliasList,\n  templateQueryIdMap,\n  namespace,\n  NodeType,\n  GetInstanceQueryParams as REDISMEMGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { BaseDatasource } from '../_base/datasource';\nimport {\n  SCFInstanceAliasList,\n  SCFInvalidDemensions,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  templateQueryIdMap,\n} from './query_def';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class SCFDatasource extends BaseDatasource {\n  InstanceKey: string;\n  Namespace: string;\n  InstanceAliasList: string[];\n  InvalidDimensions: Record<string, string>;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  InstanceReqConfig: { service?: string | undefined; action: string; responseField: string };\n\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n\n    this.Namespace = 'QCE/SCF_V2';\n    this.InstanceAliasList = SCFInstanceAliasList;\n    this.InvalidDimensions = SCFInvalidDemensions;\n    this.InstanceReqConfig = {\n      service: 'scf',\n      action: 'ListFunctions',\n      responseField: 'Functions',\n    };\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter(\n      (item) =>\n        /* hack：这里多加了筛选条件，是因为后端数据不准确，坑啊！ 只拿取包含functionName的指标 */\n        item.Dimensions?.[0]?.Dimensions?.includes('functionName') &&\n        item.Dimensions?.[0]?.Dimensions?.includes('namespace') &&\n        !item.MetricName.startsWith('Name')\n    );\n  }\n\n  getVersions(region, params) {\n    const serviceInfo = GetServiceAPIInfo(region, 'scf');\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: params,\n      },\n      serviceInfo.service,\n      { region, action: 'ListVersionByFunction' }\n    ).then((response) => {\n      return response.Versions;\n    });\n  }\n\n  async fetchMetricData(action: string, region: string, instance: any) {\n    // console.log({ action, region, instance });\n    if (action === 'ListVersionByFunction') {\n      const rs = await this.getVersions(region, { FunctionName: instance[this.templateQueryIdMap.instance] });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap.version];\n        return {\n          text: o[this.templateQueryIdMap.version],\n          value: o[this.templateQueryIdMap.version],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage.version, rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { SCFQueryDescriptor, templateQueryIdMap } from './query_def';\n\nexport class SCFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.SCFQueryDescriptor = SCFQueryDescriptor;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      instance = $scope.datasource.getServiceFn('scf', 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance).FunctionName;\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n\n    $scope.getVersions = async (target) => {\n      // console.log(2222);\n\n      // return [{ text: 1, value: 1 }];\n      // console.log(target, 'target');\n      // let { instance, region } = target;\n      const FunctionName = $scope.getInstanceId();\n      const region = $scope.datasource.getServiceFn('scf', 'getVariable')(target.region);\n      if (!FunctionName || !region) return [];\n\n      const fetcher = $scope.datasource.getServiceFn('scf', 'getVersions');\n\n      return fetcher(region, { FunctionName }).then((res) => {\n        // console.log(res, 'res');\n        const result = res.map((o) => {\n          o._InstanceAliasValue = o[templateQueryIdMap.version];\n          return {\n            text: o[templateQueryIdMap.version],\n            value: JSON.stringify(o),\n          };\n        });\n        return result;\n      });\n    };\n    // $scope.onChecked = (srcField, dstField) => {\n    //   if ($scope.target.queries[srcField] === true) {\n    //     $scope.target.queries[dstField] = false;\n    //   }\n    //   $scope.onChange();\n    // };\n\n    // $scope.getDropdown = (field) => {\n    //   switch (field) {\n    //     case 'zone':\n    //       return $scope.getZones();\n    //     default:\n    //       return [];\n    //   }\n    // };\n\n    // $scope.getZones = () => {\n    //   if (!$scope.region) {\n    //     return [];\n    //   }\n    //   return $scope.datasource.getZones('cvm', $scope.region);\n    // };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/api/583/18582\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in SCFQueryDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'dropdownmulti'\"\n        type=\"'dropdown'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n        get-options=\"getDropdown(field.key)\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- version部分 -->\n<div class=\"gf-form-inline\" ng-if=\"target.instance\">\n  <div class=\"gf-form\">\n    <label class=\"gf-form-label query-keyword width-9\">Version</label>\n    <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n      <gf-form-dropdown model=\"target.version\" allow-custom=\"false\" get-options=\"getVersions(target)\"\n        on-change=\"onRefresh()\" css-class=\"min-width-10\">\n      </gf-form-dropdown>\n    </div>\n  </div>\n</div>\n\n  </div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: SCFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n    },\n  };\n}\ncoreModule.directive('scfQuery', scfQuery);\n","import _ from 'lodash';\n\nexport const SCFQueryDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'SearchKey',\n    enDescriptor: 'SearchKey',\n    cnDescriptor: '支持FunctionName模糊匹配',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Namespace',\n    enDescriptor: 'Namespace',\n    cnDescriptor: '云函数命名空间',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Description',\n    enDescriptor: 'Description',\n    cnDescriptor: '函数描述，支持模糊搜索',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'AddTime', value: 'AddTime' },\n      { text: 'ModTime', value: 'ModTime' },\n      { text: 'FunctionName', value: 'FunctionName' },\n    ],\n  },\n  {\n    key: 'Order',\n    enDescriptor: 'Order Direction',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'ASC', value: 'ASC' },\n      { text: 'DESC', value: 'DESC' },\n    ],\n  },\n  // {\n  //   key: 'Filters',\n  //   enDescriptor: 'Filters',\n  //   cnDescriptor: '按照标签键值对进行过滤',\n  //   link: '',\n  //   type: 'dropdownmulti',\n  // },\n];\n\nconst SCF_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'FunctionName',\n  version: '',\n  queries: {\n    Offset: 0,\n    Limit: 20,\n    OrderBy: {},\n    Order: {},\n    SearchKey: '',\n    Namespace: '',\n    Description: '',\n    // Filters:  {},\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    queries = _.omit(queries, ['Offset', 'Limit']);\n    _.forEach(queries, (item: any, key) => {\n      if (_.isArray(item)) {\n        item = _.compact(item);\n        if (item.length > 0) {\n          params[key] = _.uniq(item);\n        }\n      } else if (_.isObject(item)) {\n        if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n          params[key] = _.get(item, 'value');\n        }\n      } else if (_.isNumber(item) || !_.isEmpty(item)) {\n        params[key] = item;\n      }\n    });\n  }\n  return params;\n}\n\nconst SCFInstanceAliasList = ['FunctionId', 'FunctionName'];\n\n// 向实例里面塞dimensions对应的值，dimension中的key对应到实例中的key\nconst SCFInvalidDemensions = {\n  functionName: 'FunctionName',\n  namespace: 'Namespace',\n  version: 'Version',\n};\n\nconst templateQueryIdMap = {\n  instance: 'FunctionName',\n  version: 'Version',\n};\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  version: 'version',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  Version: {\n    dim_KeyInStorage: keyInStorage.version,\n    dim_KeyInTarget: 'version',\n    dim_KeyInMap: templateQueryIdMap.version,\n  },\n};\nexport default SCF_STATE;\nexport {\n  SCFInstanceAliasList,\n  SCFInvalidDemensions,\n  queryMonitorExtraConfg,\n  regionSupported,\n  templateQueryIdMap,\n  keyInStorage,\n  GetInstanceQueryParams as SCFGetInstanceQueryParams,\n};\n\n// monitor监控数据默认支持的维度\nexport const SCFDefaultDimensionList = ['functionName', 'namespace', 'version'];\n","import {\n  SQLSERVERInstanceAliasList,\n  SQLSERVERInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = SQLSERVERInstanceAliasList;\n  InvalidDimensions = SQLSERVERInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'sqlserver',\n    action: 'DescribeDBInstances',\n    responseField: 'DBInstances',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(rawSet.map((item) => modifyDimensons(item)));\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  getFilterDropdown({ field, region }) {\n    if (field === 'Zone') {\n      const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        serviceInfo.service,\n        { region, action: 'DescribeZones' }\n      ).then((response) => {\n        return _.filter(\n          _.map(response.ZoneSet || [], (item) => {\n            return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n          }),\n          (item) => item.ZoneState === 'AVAILABLE'\n        );\n      });\n    }\n    return [];\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/SQLSERVER';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'sqlserverQuery';\n\nconst SQLSERVERInvalidDemensions = {\n  resourceId: 'InstanceId',\n};\n\nconst SQLSERVERInstanceAliasList = ['InstanceId', 'Name'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst SQLSERVERNETFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ProjectId: null,\n  Status: {},\n  InstanceIdSet: [],\n  PayMode: {},\n  VpcId: '',\n  SubnetId: '',\n  VipSet: [],\n  InstanceNameSet: [],\n  VersionSet: [],\n  Zone: '',\n};\n\nconst SQLSERVERNETFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'ProjectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'Status',\n    enDescriptor: 'Status',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '申请中', value: 1 },\n      { text: '运行中', value: 2 },\n      { text: '受限运行中 (主备切换中)', value: 3 },\n      { text: '已隔离', value: 4 },\n      { text: '回收中', value: 5 },\n      { text: '已回收', value: 6 },\n      { text: '任务执行中', value: 7 },\n      { text: '已下线', value: 8 },\n      { text: '实例扩容中', value: 9 },\n      { text: '实例迁移中', value: 10 },\n      { text: '只读', value: 11 },\n      { text: '重启中', value: 12 },\n    ],\n  },\n  {\n    key: 'InstanceIdSet',\n    enDescriptor: 'InstanceIdSet',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'PayMode',\n    enDescriptor: 'PayMode',\n    cnDescriptor: '子网实例ID',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '包年包月', value: 1 },\n      { text: '按量计费', value: 0 },\n    ],\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'VpcId',\n    cnDescriptor: '实例所属VPC的唯一字符串ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SubnetId',\n    enDescriptor: 'SubnetId',\n    cnDescriptor: '实例所属子网的唯一字符串ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'VipSet',\n    enDescriptor: 'VipSet',\n    cnDescriptor: '实例内网地址列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'InstanceNameSet',\n    enDescriptor: 'InstanceNameSet',\n    cnDescriptor: '实例名称列表, 模糊查询',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'VersionSet',\n    enDescriptor: 'VersionSet',\n    cnDescriptor: '实例版本代号列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'Zone',\n    enDescriptor: 'Zone',\n    cnDescriptor: '实例可用区',\n    link: '',\n    type: 'dropdown',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/238/19969',\n  namespace,\n  fieldDescriptor: SQLSERVERNETFilterFieldsDescriptor,\n};\n\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-seoul' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-moscow' },\n  { value: 'na-siliconvalley' },\n];\nconst SQLSERVER_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  queries: SQLSERVERNETFilterFields,\n};\n\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['resourceId'];\n  });\n  return metricTmp;\n}\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\nexport default SQLSERVER_STATE;\nexport {\n  SQLSERVERNETFilterFieldsDescriptor,\n  templateQueryIdMap,\n  SQLSERVERInstanceAliasList,\n  SQLSERVERInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regionSupported,\n  modifyDimensons,\n  // 对应产品的service的全大写拼接InstanceQueryParams\n  GetInstanceQueryParams as SQLSERVERGetInstanceQueryParams,\n};\n","import { TCAPLUSInstanceAliasList, TCAPLUSInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TCAPLUSInstanceAliasList;\n  InvalidDimensions = TCAPLUSInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tcaplusdb',\n    action: 'DescribeTables',\n    responseField: 'TableInfos',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // 重写getRegion\n  getRegions() {\n    return this.doRequest(\n      {\n        url: this.url + '/tcaplusdb',\n      },\n      'tcaplusdb',\n      { action: 'DescribeRegions', region: 'ap-guangzhou' }\n    ).then((response) => {\n      return _.map(response.RegionInfos || [], (item) => {\n        return {\n          text: t(item.RegionName),\n          value: item.RegionName,\n        };\n      });\n    });\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/TCAPLUS';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'tcaplusQuery';\n\nconst TCAPLUSInvalidDemensions = {\n  // TableInstanceId: 'TableInstanceId',\n  // ClusterId: 'ClusterId',\n};\n\n// 需和文件名对应\nconst TCAPLUSInstanceAliasList = ['TableInstanceId', 'TableName'];\n\nconst templateQueryIdMap = {\n  instance: 'TableInstanceId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是类型\nconst TCAPLUSFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  ClusterId: '',\n  TableGroupIds: [],\n\n  TableName: '',\n  TableInstanceId: '',\n  TableIdlType: {},\n  TableType: {},\n  ListElementNum: null,\n  ReservedVolume: null,\n  ReservedReadQps: null,\n  ReservedWriteQps: null,\n  Memo: '',\n  FileName: '',\n  FileExtType: '',\n  FileSize: null,\n  FileContent: '',\n};\n\nconst TCAPLUSFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ClusterId',\n    enDescriptor: 'ClusterId',\n    cnDescriptor: '表格所属集群ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableGroupIds',\n    enDescriptor: 'TableGroupIds',\n    cnDescriptor: '表格组ID列表',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'TableName',\n    enDescriptor: 'TableName',\n    cnDescriptor: '表格名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableInstanceId',\n    enDescriptor: 'TableInstanceId',\n    cnDescriptor: '表实例ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'TableIdlType',\n    enDescriptor: 'TableIdlType',\n    cnDescriptor: '表格描述语言类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'PROTO', value: 'PROTO' },\n      { text: 'TDR', value: 'TDR' },\n    ],\n  },\n  {\n    key: 'TableType',\n    enDescriptor: 'TableType',\n    cnDescriptor: '表格数据结构类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'GENERIC', value: 'GENERIC' },\n      { text: 'LIST', value: 'LIST' },\n    ],\n  },\n  {\n    key: 'ListElementNum',\n    enDescriptor: 'ListElementNum',\n    cnDescriptor: 'LIST表元素个数',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedVolume',\n    enDescriptor: 'ReservedVolume',\n    cnDescriptor: '表格预留容量（GB）',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedReadQps',\n    enDescriptor: 'ReservedReadQps',\n    cnDescriptor: '表格预留读CU',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'ReservedWriteQps',\n    enDescriptor: 'ReservedWriteQps',\n    cnDescriptor: '表格预留写CU',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'Memo',\n    enDescriptor: 'Memo',\n    cnDescriptor: '表格备注信息',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileName',\n    enDescriptor: 'FileName',\n    cnDescriptor: 'Key回档文件名，回档专用',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileExtType',\n    enDescriptor: 'FileExtType',\n    cnDescriptor: 'Key回档文件扩展名，回档专用',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'FileSize',\n    enDescriptor: 'FileSize',\n    cnDescriptor: 'Key回档文件大小，回档专用',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'FileContent',\n    enDescriptor: 'FileContent',\n    cnDescriptor: 'Key回档文件内容，回档专用',\n    link: '',\n    type: 'input',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/596/39664',\n  namespace,\n  fieldDescriptor: TCAPLUSFilterFieldsDescriptor,\n};\n\nconst TCAPLUS_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'TableInstanceId',\n  queries: TCAPLUSFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  params.Limit = _.get(queries, 'Limit', 20) || 20;\n  params.Offset = _.get(queries, 'Offset', 0) || 0;\n  params.ClusterId = _.get(queries, 'ClusterId', '') || '';\n  params.TableGroupIds = _.get(queries, 'TableGroupIds', []) || [];\n  queries = _.omit(queries, ['Offset', 'Limit', 'TableGroupIds', 'ClusterId']);\n  const SelectedTables: any[] = [];\n  _.forEach(queries, (item: any, key) => {\n    if (_.isArray(item)) {\n      item = _.compact(item);\n      if (item.length > 0) {\n        SelectedTables[key] = _.uniq(item);\n      }\n    } else if (_.isObject(item)) {\n      if (_.isNumber(_.get(item, 'value', undefined)) || !_.isEmpty(_.get(item, 'value', undefined))) {\n        SelectedTables[key] = _.get(item, 'value');\n      }\n    } else if (_.isNumber(item) || !_.isEmpty(item)) {\n      SelectedTables[key] = item;\n    }\n  });\n  params.SelectedTables = SelectedTables;\n  return params;\n}\n// 和其他产品的展示保持一致\nconst regonsMap = {\n  'ap-beijing': '华北地区(北京)',\n  'ap-guangzhou': '华南地区(广州)',\n  'ap-hongkong': '港澳台地区(中国香港)',\n  'ap-seoul': '亚太东北(首尔)',\n  'ap-shanghai': '华东地区(上海)',\n  'ap-singapore': '亚太东南(新加坡)',\n  'ap-tokyo': '亚太东北(东京)',\n  'eu-frankfurt': '欧洲地区(法兰克福)',\n  'na-ashburn': '美国东部(弗吉尼亚)',\n  'na-siliconvalley': '美国西部(硅谷)',\n};\nexport default TCAPLUS_STATE;\nexport {\n  TCAPLUSFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TCAPLUSInstanceAliasList,\n  TCAPLUSInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  regonsMap,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TCAPLUSGetInstanceQueryParams,\n};\n","import {\n  TDMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  modifyDimensons,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeClusters',\n    responseField: 'ClusterSet',\n  };\n  extraActionMap = {\n    DescribeTopics: {\n      service: 'tdmq',\n      action: 'DescribeTopics',\n      responseField: 'TopicSets',\n      pickKey: 'TopicName',\n    },\n    DescribeEnvironments: {\n      service: 'tdmq',\n      action: 'DescribeEnvironments',\n      responseField: 'EnvironmentSet',\n      pickKey: 'EnvironmentId',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  // getFilterDropdown({ field }) {\n  //   return super.getRegions();\n  // }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return _.compact(rawSet.map((item) => modifyDimensons(item)));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    // console.log({ rs });\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      ClusterId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      if (action === 'DescribeTopics') {\n        payload.EnvironmentId = this.getVariable(query['environmentid']);\n      }\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, queryEditorName, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'environmentId',\n    field: 'environmentId',\n    action: 'DescribeEnvironments',\n  },\n  {\n    label: 'topicName',\n    field: 'topicName',\n    action: 'DescribeTopics',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeTopics: 'topicName',\n  DescribeEnvironments: 'environmentId',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        ClusterId: $scope.getInstanceId(),\n      };\n      if (action === 'DescribeTopics') {\n        let evId = $scope.target.environmentId;\n        try {\n          evId = JSON.parse(evId);\n          evId = evId[templateQueryIdMap.environmentId];\n        } catch (e) {}\n        payload.EnvironmentId = evId;\n      }\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          label: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive(queryEditorName, sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/TDMQ';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'tdmqQuery';\n\nconst TDMQInvalidDemensions = {\n  tenantId: 'ClusterId',\n  tenant: 'ClusterId',\n  topicName: 'TopicName',\n  environmentId: 'EnvironmentId',\n};\n\n// 需和文件名对应\nconst TDMQInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nconst templateQueryIdMap = {\n  instance: 'ClusterId',\n  topicName: 'TopicName',\n  environmentId: 'EnvironmentId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n];\n\nconst CDNPROVINCE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  // 此处key应该是经过TDMQInvalidDemensions处理后的\n  topicName: '',\n  environmentId: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nfunction modifyDimensons(metricItem) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    if (item.Dimensions.indexOf('topicName') !== -1 && item.Dimensions.indexOf('environmentId') === -1) {\n      item.Dimensions.push('environmentId');\n    }\n  });\n  return metricTmp;\n}\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  topicName: 'topicName',\n  environmentId: 'environmentId',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  TopicName: {\n    dim_KeyInStorage: keyInStorage.topicName,\n    dim_KeyInTarget: 'topicName',\n    dim_KeyInMap: templateQueryIdMap.topicName,\n  },\n  EnvironmentId: {\n    dim_KeyInStorage: keyInStorage.environmentId,\n    dim_KeyInTarget: 'environmentId',\n    dim_KeyInMap: templateQueryIdMap.environmentId,\n  },\n};\nexport default CDNPROVINCE_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  modifyDimensons,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TDMQGetInstanceQueryParams,\n};\n","import {\n  TDMQRABBITMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQRABBITMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeRabbitMQVipInstances',\n    responseField: 'Instances',\n  };\n  extraActionMap = {\n    DescribeRabbitMQNodeList: {\n      service: 'tdmq',\n      action: 'DescribeRabbitMQNodeList',\n      responseField: 'NodeList',\n      pickKey: 'node',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      InstanceId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Node',\n    field: 'node',\n    action: 'DescribeRabbitMQNodeList',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeRabbitMQNodeList: 'node',\n};\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.node = '';\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        InstanceId: $scope.getInstanceId(),\n      };\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          label: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'inputNumber'\"\n          style=\"margin-right:2px\"\n          type=\"number\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n          ng-min=\"field.min\"\n          ng-max=\"field.max\"\n        />\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />    \n        <multi-condition\n          ng-if=\"field.type === 'inputNumberMulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputMulti'\"\n          type=\"'input'\"\n          value=\"target.queries[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries[field.key]\"\n          options=\"field.list\"\n          multiple=\"field.multiple || false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\ncoreModule.directive('tdmqRabbitmqQuery', sQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/RABBITMQ';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'tdmqQuery';\n\nconst TDMQInvalidDemensions = {\n  instanceid: 'InstanceId',\n  node: 'NodeName',\n};\n\n// 需和文件名对应\nconst TDMQRABBITMQInstanceAliasList = ['InstanceId', 'InstanceName'];\n\nconst templateQueryIdMap = {\n  instance: 'InstanceId',\n  node: 'NodeName',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n];\n\nconst TDMQ_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'InstanceId',\n  // 此处key应该是经过TDMQInvalidDemensions处理后的\n  node: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  node: 'NodeName',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NodeName: {\n    dim_KeyInStorage: keyInStorage.node,\n    dim_KeyInTarget: 'node',\n    dim_KeyInMap: templateQueryIdMap.node,\n  },\n};\nexport default TDMQ_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQRABBITMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TDMQGetInstanceQueryParams,\n};\n","import {\n  TDMQROCKETMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  regionSupported,\n  queryMonitorExtraConfg,\n  keyInStorage,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { fetchAllFactory } from '../../common/utils';\nimport instanceStorage from '../../common/datasourceStorage';\nimport { t } from '../../../locale';\n\nexport default class TDMQDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = TDMQROCKETMQInstanceAliasList;\n  InvalidDimensions = TDMQInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  queryMonitorExtraConfg = queryMonitorExtraConfg;\n  keyInStorage = keyInStorage;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'tdmq',\n    action: 'DescribeRocketMQClusters',\n    responseField: 'ClusterList',\n    interceptor: {\n      response: (result) =>\n        _.map(result, (item) => ({\n          ...item,\n          ClusterId: _.get(item, 'Info.ClusterId', ''),\n          ClusterName: _.get(item, 'Info.ClusterName', ''),\n        })),\n    },\n  };\n  extraActionMap = {\n    DescribeRocketMQNamespaces: {\n      service: 'tdmq',\n      action: 'DescribeRocketMQNamespaces',\n      responseField: 'Namespaces',\n      pickKey: 'namespace',\n    },\n    DescribeRocketMQGroups: {\n      service: 'tdmq',\n      action: 'DescribeRocketMQGroups',\n      responseField: 'Groups',\n      pickKey: 'group',\n    },\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await super.getMetrics(region);\n    return rawSet.filter((item) => !item.Dimensions?.[0]?.Dimensions?.includes('rmqcluster'));\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n\n  async getConsumerList(params: any) {\n    const { region, action: act, payload } = params;\n    const { service, action, responseField } = this.extraActionMap[act];\n\n    const serviceInfo = GetServiceAPIInfo(region, service);\n\n    // 从分页数据，获取全量数据\n    const rs = await fetchAllFactory(\n      (data) => {\n        return this.doRequest(\n          {\n            url: this.url + serviceInfo.path,\n            data,\n          },\n          serviceInfo.service,\n          { region, action }\n        );\n      },\n      payload,\n      responseField\n    );\n    return rs[0];\n  }\n  async fetchMetricData(action: string, region: string, instance: any, query: any) {\n    const payload: any = {\n      Limit: 100,\n      ClusterId: instance[this.templateQueryIdMap.instance],\n    };\n    if (Object.keys(this.extraActionMap).indexOf(action) !== -1) {\n      if (action === 'DescribeRocketMQGroups') {\n        payload.NamespaceId = this.getVariable(query['clusternamespace']);\n      }\n      const rs = await this.getConsumerList({ region, action, payload });\n      const { pickKey } = this.extraActionMap[action];\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[this.templateQueryIdMap[pickKey]];\n        return {\n          text: o[this.templateQueryIdMap[pickKey]],\n          value: o[this.templateQueryIdMap[pickKey]],\n        };\n      });\n      await instanceStorage.setExtraStorage(this.service, this.keyInStorage[pickKey], rs);\n      return result;\n    }\n    return [];\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { TDMQFilterFieldsDescriptor, namespace, templateQueryIdMap } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields = [\n  {\n    label: 'Namespace',\n    field: 'namespace',\n    action: 'DescribeRocketMQNamespaces',\n  },\n  {\n    label: 'Group',\n    field: 'group',\n    action: 'DescribeRocketMQGroups',\n  },\n];\n\nconst dropdownTextConfig = {\n  DescribeRocketMQNamespaces: 'namespace',\n  DescribeRocketMQGroups: 'group',\n};\nexport class TdmqRocketmqQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TDMQFilterFieldsDescriptor = TDMQFilterFieldsDescriptor;\n      $scope.ExtraFields = ExtraFields;\n      $scope.namespace = namespace;\n    };\n\n    $scope.clearExtrasAlias = () => {\n      $scope.target.namespace = '';\n      $scope.target.group = '';\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.getInstanceId = () => {\n      let { instance } = $scope.target;\n      const service = GetServiceFromNamespace($scope.namespace);\n      instance = $scope.datasource.getServiceFn(service, 'getVariable')(instance);\n      if (!instance) {\n        return '';\n      }\n      try {\n        instance = JSON.parse(instance)[templateQueryIdMap.instance];\n      } catch (error) {\n        // console.log();\n      }\n      return instance;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}) || item.label in ($scope.dims ?? {}));\n    };\n    $scope.getExtraDropdown = async (target, action) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      const region = $scope.datasource.getServiceFn(service, 'getVariable')(target.region);\n      const payload: any = {\n        Limit: 100,\n        ClusterId: $scope.getInstanceId(),\n      };\n      if (action === 'DescribeRocketMQGroups') {\n        let namespace = $scope.target.namespace;\n        try {\n          namespace = JSON.parse(namespace)[templateQueryIdMap.namespace];\n        } catch (e) {}\n        payload.NamespaceId = $scope.datasource.getServiceFn(service, 'getVariable')(namespace);\n      }\n\n      const rs = await $scope.datasource.getServiceFn(service, 'getConsumerList')({ region, action, payload });\n      const result = rs.map((o) => {\n        o._InstanceAliasValue = o[templateQueryIdMap[dropdownTextConfig[action]]];\n        return {\n          text: o[templateQueryIdMap[dropdownTextConfig[action]]],\n          value: JSON.stringify(o),\n        };\n      });\n      return result;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Offset\n          <info-popover mode=\"right-normal\">\n            偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Limit\n          <info-popover mode=\"right-normal\">\n            单次请求返回的数量，默认为20，最小值为1，最大值为100\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          ClusterIdList\n          <info-popover mode=\"right-normal\">\n            实例 ID，每次请求的实例的上限为100，参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n          switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n      <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.ClusterIdList\" on-change=\"onChange()\">\n      </multi-condition>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          Filters\n          <info-popover mode=\"right-normal\">\n            过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n          on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n      <div class=\"gf-form-inline\" ng-repeat=\"field in TDMQFilterFieldsDescriptor\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <multi-condition\n          ng-if=\"field.type === 'dropdownmulti'\"\n          type=\"'dropdown'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          get-options=\"getDropdown(field.key)\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputNumbermulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputmulti'\"\n          type=\"'input'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries.Filters[field.key]\"\n          options=\"field.list\"\n          multiple=\"false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"true\" get-options=\"getExtraDropdown(target, extra.action)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function tdmqRocketmqQuery() {\n  return {\n    template: template,\n    controller: TdmqRocketmqQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n    link: (scope, element, attrs) => {\n      scope.$watch('target.instance', () => {\n        scope.clearExtrasAlias?.();\n      });\n      scope.$watch('target.metricName', () => {\n        scope.clearExtrasAlias?.();\n      });\n    },\n  };\n}\ncoreModule.directive('tdmqRocketmqQuery', tdmqRocketmqQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { FildDescriptorType } from '../_base/types';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/ROCKETMQ';\n\nconst TDMQInvalidDemensions = {\n  tenant: 'ClusterId',\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n\n// 需和文件名对应\nconst TDMQROCKETMQInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nconst templateQueryIdMap = {\n  instance: 'ClusterId',\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst TDMQFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  instanceIdsChecked: false,\n  filtersChecked: true,\n  ClusterIdList: [''],\n  Filters: {\n    includeVip: { text: '是', value: 'true' },\n  },\n};\n\nconst TDMQFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'includeVip',\n    enDescriptor: 'includeVip',\n    cnDescriptor: '包含专享集群',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '是', value: 'true' },\n      { text: '否', value: 'false' },\n    ],\n  },\n];\n\nconst TDMQ_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  // 此处key应该是经过TDMQInvalidDemensions处理后的\n  namespace: '',\n  group: '',\n  queries: TDMQFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.ClusterIdList)) {\n        const ClusterIdList = _.compact(queries.ClusterIdList);\n        if (_.uniq(ClusterIdList).length > 0) {\n          params.ClusterIdList = _.uniq(ClusterIdList).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: [_.get(item, 'value', [])].slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-tokyo' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n  { value: 'ap-bangkok' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\n\n// 需要缓存到storage的内容的key列表\nconst keyInStorage = {\n  namespace: 'NamespaceId',\n  group: 'Name',\n};\n/*\n如果有InstanceId额外的维度，原则上都需要传入此map结构配置\nkey的含义：\n  经过InvalidDemensions处理后的string。topicId =》TopicId。\n  否则认为指标中维度正确，和指标中维度字段保持一致，即topicId\nvalue的含义：\n  1 dim_KeyInStorage 指标中维度dimension对应的storage中的key，获取缓存列表，sourceMapList、\n  2 dim_KeyInTarget  通过getVariable方法获取变量中选中项。比如ListnerId为Lis-xxxx；即：STATE中的key。\n                    默认取通过InvalidDemsion处理后的key\n  3 dim_KeyInMap     保存在模板变量value比如（监听器ID）源自sourceMapList（接口返回内容）的哪个key（ListenerId）。\n                    即：templateQueryIdMap中内容。\n                    联合上面2的内容筛选出原始sourceMap\n*/\nconst queryMonitorExtraConfg = {\n  NamespaceId: {\n    dim_KeyInStorage: keyInStorage.namespace,\n    dim_KeyInTarget: 'namespace',\n    dim_KeyInMap: templateQueryIdMap.namespace,\n  },\n  Name: {\n    dim_KeyInStorage: keyInStorage.group,\n    dim_KeyInTarget: 'group',\n    dim_KeyInMap: templateQueryIdMap.group,\n  },\n};\nexport default TDMQ_STATE;\nexport {\n  TDMQFilterFieldsDescriptor,\n  templateQueryIdMap,\n  TDMQROCKETMQInstanceAliasList,\n  TDMQInvalidDemensions,\n  namespace,\n  queryMonitorExtraConfg,\n  keyInStorage,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as TDMQROCKETMQGetInstanceQueryParams,\n};\n","import { map, flatten, reduce, isEmpty, filter, split, sortBy, findIndex, trim, isArray, isString } from 'lodash';\nimport { GetServiceAPIInfo, ReplaceVariable } from '../../common/constants';\nimport { getTimeShiftInMs } from '../../common/utils';\nimport { BaseDatasource } from '../_base/datasource';\n\nconst variableToArray = (variable) => {\n  if (isEmpty(variable)) {\n    return [];\n  }\n  if (isArray(variable)) {\n    return variable;\n  }\n  if (isString(variable)) {\n    return split(variable, ',').map((item) => trim(item));\n  }\n  return [];\n};\n\nexport default class TKEDatasource extends BaseDatasource {\n  InstanceAliasList = ['ClusterId', 'ClusterName'];\n  templateQueryIdMap = {\n    instance: 'ClusterId',\n  };\n  InvalidDimensions = {\n    tke_cluster_instance_id: 'ClusterId',\n  };\n  InstanceReqConfig = {\n    service: 'tke',\n    action: 'DescribeClusters',\n    responseField: 'Clusters',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getMonitorData(params: any, region: any, instances: any, target: any, options: any) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const timeshift = getTimeShiftInMs(target.timeshift);\n    const conditions = reduce(\n      target.conditions,\n      (prev, item) => {\n        if (isEmpty(item.Key) || isEmpty(item.Operator) || isEmpty(item.Value)) {\n          return prev;\n        }\n        return [\n          ...filter(prev, (e) => e.Key !== item.Key),\n          {\n            Key: ReplaceVariable(this.templateSrv, options.scopedVars, item.Key, false),\n            Operator: ReplaceVariable(this.templateSrv, options.scopedVars, item.Operator, false),\n            Value: variableToArray(ReplaceVariable(this.templateSrv, options.scopedVars, item.Value, true)),\n          },\n        ];\n      },\n      [{ Key: 'tke_cluster_instance_id', Operator: '=', Value: instances.map((item) => item['ClusterId']) }]\n    );\n\n    return this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Period: params.Period,\n          MetricNames: [params.MetricName],\n          Module: 'monitor',\n          Namespace: 'QCE/TKE',\n          EndTime: params.EndTime,\n          StartTime: params.StartTime,\n          Conditions: conditions,\n          GroupBys: variableToArray(ReplaceVariable(this.templateSrv, options.scopedVars, target.groupBys, true)),\n        },\n      },\n      serviceInfo.service,\n      { action: 'DescribeStatisticData', region }\n    ).then((response) => {\n      return flatten(\n        map(response.Data, (data) => {\n          return map(data.Points, (point) => {\n            const dimensionSort = sortBy(point.Dimensions, ['Name']);\n            const dimensionString = [\n              ...dimensionSort.splice(findIndex(dimensionSort, { Name: 'tke_cluster_instance_id' }), 1),\n              ...dimensionSort,\n            ]\n              .map((dimension) => dimension.Value)\n              .join(' - ');\n            const timeshiftString = timeshift > 0 ? `_${target.timeshift}` : '';\n            return {\n              target: `${data.MetricName} - ${dimensionString}${timeshiftString}`,\n              datapoints: map(point.Values, (value) => [value.Value, value.Timestamp * 1000 + timeshift]),\n            };\n          });\n        })\n      );\n    });\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { isEmpty } from 'lodash';\nimport { TKEFilterFieldsDescriptor } from './query_def';\n\nexport class QueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TKEFilterFieldsDescriptor = TKEFilterFieldsDescriptor;\n    };\n\n    $scope.onChecked = (srcField, dstField) => {\n      if ($scope.target.queries[srcField] === true) {\n        $scope.target.queries[dstField] = false;\n      }\n      $scope.onChange();\n    };\n\n    $scope.addCondition = () => {\n      $scope.target.conditions.push({ Key: '', Operator: '=', Value: '' });\n    };\n\n    $scope.deleteCondition = (index) => {\n      const targetCondition = $scope.target.conditions[index];\n      if (isEmpty(targetCondition.Key) || isEmpty(targetCondition.Operator) || isEmpty(targetCondition.Value)) {\n        $scope.target.conditions.splice(index, 1);\n      } else {\n        $scope.target.conditions.splice(index, 1);\n        $scope.onRefresh();\n      }\n    };\n\n    $scope.getOperator = () => {\n      return Promise.resolve([\n        { text: '=', value: '=' },\n        { text: 'in', value: 'in' },\n      ]);\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n  <div class=\"tc-sub-params\" ng-if=\"showDetail\">\n    <label class=\"gf-form-label tc-info-label\">\n      Functions are queried by following params.\n      <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/50388\">Click here to get API doc.</a>\n    </label>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Offset\n          <info-popover mode=\"right-normal\">\n            偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Offset\" class=\"gf-form-input width-10\" ng-min=\"0\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-14\">\n          Limit\n          <info-popover mode=\"right-normal\">\n            单次请求返回的数量，默认为20，最小值为1，最大值为100\n          </info-popover>\n        </label>\n        <input type=\"number\" ng-model=\"target.queries.Limit\" class=\"gf-form-input width-10\" ng-min=\"1\" ng-max=\"100\" ng-change=\"onChange()\">\n      </div>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          ClusterIdList\n          <info-popover mode=\"right-normal\">\n            实例 ID，每次请求的实例的上限为100，参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.instanceIdsChecked\"\n          switch-class=\"max-width-5\" on-change=\"onChecked('instanceIdsChecked', 'filtersChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div class=\"gf-form-inline tc-sub-params\" ng-if=\"target.queries.instanceIdsChecked\">\n      <multi-condition type=\"'input'\" max-cond=\"100\" value=\"target.queries.ClusterIdList\" on-change=\"onChange()\">\n      </multi-condition>\n    </div>\n    <div class=\"gf-form-inline\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label width-9\">\n          Filters\n          <info-popover mode=\"right-normal\">\n            过滤条件，每次请求的 Filters 的上限为10，Filter.Values 的上限为5。参数不支持同时指定 ClusterIdList 和 Filters\n          </info-popover>\n        </label>\n        <gf-form-switch class=\"gf-form tc-switch\" label-class=\"width-7\" checked=\"target.queries.filtersChecked\" switch-class=\"max-width-5\"\n          on-change=\"onChecked('filtersChecked','instanceIdsChecked')\"></gf-form-switch>\n      </div>\n    </div>\n    <div ng-if=\"target.queries.filtersChecked\" class=\"tc-sub-params\">\n      <div class=\"gf-form-inline\" ng-repeat=\"field in TKEFilterFieldsDescriptor\">\n        <label class=\"gf-form-label width-14\">\n          {{ field.key }}\n          <info-popover mode=\"right-normal\">\n            {{ field.cnDescriptor }}\n            <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n          </info-popover>\n        </label>\n        <input\n          ng-if=\"field.type === 'input'\"\n          style=\"margin-right:2px\"\n          type=\"text\"\n          ng-model=\"target.queries[field.key]\"\n          ng-change=\"onChange()\"\n          class=\"gf-form-input width-10\"\n        />   \n        <multi-condition\n          ng-if=\"field.type === 'dropdownmulti'\"\n          type=\"'dropdown'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          get-options=\"getDropdown(field.key)\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputNumbermulti'\"\n          type=\"'inputNumber'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          maxNum=\"field.max\"\n          minNum=\"field.min\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <multi-condition\n          ng-if=\"field.type === 'inputmulti'\"\n          type=\"'input'\"\n          max-cond=\"5\"\n          value=\"target.queries.Filters[field.key]\"\n          on-change=\"onChange()\"\n        ></multi-condition>\n        <custom-select-dropdown\n          ng-if=\"field.type === 'select'\"\n          value=\"target.queries.Filters[field.key]\"\n          options=\"field.list\"\n          multiple=\"false\"\n          on-change=\"onChange()\"\n        ></custom-select-dropdown>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">Conditions</label>\n      <div>\n        <div class=\"gf-form\" ng-repeat=\"condition in target.conditions\">\n          <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"target.conditions[$index].Key\" ng-blur=\"onRefresh()\"></input>\n          <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n            <gf-form-dropdown model=\"target.conditions[$index].Operator\" get-options=\"getOperator()\" on-change=\"onRefresh()\" allow-custom=\"true\" css-class=\"min-width-5\">\n            </gf-form-dropdown>\n          </div>\n          <input class=\"gf-form-input width-10 tc-condition-input\" type=\"text\" ng-model=\"target.conditions[$index].Value\" ng-blur=\"onRefresh()\"></input>\n          <label class=\"gf-form-label pointer\" ng-click=\"deleteCondition($index)\">\n            <i class=\"fa fa-minus\"></i>\n          </label>\n          <label class=\"gf-form-label pointer\" ng-click=\"addCondition()\" ng-if=\"$last\">\n            <i class=\"fa fa-plus\"></i>\n          </label>\n        </div>\n        <div class=\"gf-form\" ng-if=\"target.conditions.length === 0\">\n          <label class=\"gf-form-label pointer\" ng-click=\"addCondition()\">\n            <i class=\"fa fa-plus\"></i>\n          </label>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"gf-form-inline\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label query-keyword width-9\">GroupBy</label>\n      <input class=\"gf-form-input width-15\" type=\"text\" ng-model=\"target.groupBys\" ng-blur=\"onRefresh()\"></input>\n    </div>\n  </div>\n</div>\n`;\n\nexport function sQuery() {\n  return {\n    template: template,\n    controller: QueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('tkeQuery', sQuery);\n","import _ from 'lodash';\n\nconst TKE_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ClusterId',\n  conditions: [],\n  groupBys: '',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    instanceIdsChecked: false,\n    filtersChecked: true,\n    ClusterIds: [''],\n    Filters: {\n      ClusterName: [],\n      ClusterType: [],\n      ClusterStatus: [],\n      'tag-key': [],\n    },\n  },\n};\n\nconst TKEFilterFieldsDescriptor = [\n  {\n    key: 'ClusterName',\n    enDescriptor: 'Cluster Name',\n    cnDescriptor: '集群名',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ClusterType',\n    enDescriptor: 'Cluster Type',\n    cnDescriptor: '集群类型',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ClusterStatus',\n    enDescriptor: 'Cluster Status',\n    cnDescriptor: '集群状态',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'Tags',\n    enDescriptor: 'Tags',\n    cnDescriptor: '标签键值对',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'VPC',\n    cnDescriptor: 'VPC',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'tag-key',\n    enDescriptor: 'Tag Key',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'tag-value',\n    enDescriptor: 'Tag Value',\n    cnDescriptor: '标签值',\n    link: '',\n    type: 'inputmulti',\n  },\n];\n\nconst TKEInstanceAliasList = ['ClusterId', 'ClusterName'];\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  const params: any = {};\n  if (!_.isEmpty(queries)) {\n    params.Limit = _.get(queries, 'Limit', 20) || 20;\n    params.Offset = _.get(queries, 'Offset', 0) || 0;\n    if (queries.instanceIdsChecked) {\n      if (_.isArray(queries.InstanceIds)) {\n        const InstanceIds = _.compact(queries.InstanceIds);\n        if (_.uniq(InstanceIds).length > 0) {\n          params.InstanceIds = _.uniq(InstanceIds).slice(0, 100);\n        }\n      }\n    } else if (queries.filtersChecked) {\n      const Filters: any[] = [];\n      _.forEach(queries.Filters, (item: any, key) => {\n        if (Filters.length > 9) {\n          return;\n        }\n        if (_.isArray(item)) {\n          item = _.compact(item);\n          if (item.length > 0) {\n            Filters.push({ Name: key, Values: _.uniq(item).slice(0, 5) });\n          }\n        } else if (_.isObject(item)) {\n          if (!_.isEmpty(_.get(item, 'value', []))) {\n            Filters.push({ Name: key, Values: _.get(item, 'value', []).slice(0, 5) });\n          }\n        }\n      });\n      if (Filters.length > 0) {\n        params.Filters = Filters;\n      }\n    }\n  }\n  return params;\n}\n\nexport default TKE_STATE;\n\nexport { TKEFilterFieldsDescriptor, TKEInstanceAliasList, GetInstanceQueryParams as TKEGetInstanceQueryParams };\n","import _ from 'lodash';\nimport { TSFInvalidDemensions, TSFInstanceAliasList, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class TSFDatasource extends BaseDatasource {\n  Namespace = 'QCE/TSF';\n  InstanceAliasList = TSFInstanceAliasList;\n  InvalidDimensions = TSFInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    service: 'tsf',\n    action: 'DescribeApplications',\n    responseField: 'Content',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { TSFFieldsDescriptor } from './query_def';\n\nexport class TSFQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.TSFFieldsDescriptor = TSFFieldsDescriptor;\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Instances are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/649/36090\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in TSFFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputnumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />\n      <multi-condition\n        ng-if=\"field.type === 'inputmulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n\n</div>\n`;\n\nexport function tsfQuery() {\n  return {\n    template: template,\n    controller: TSFQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      onChange: '&',\n    },\n  };\n}\n\ncoreModule.directive('tsfQuery', tsfQuery);\n","import { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst ApplicationType = [\n  { text: '所有', value: '' },\n  { text: '容器应用', value: 'C' },\n  { text: '普通应用/虚拟机应用', value: 'V' },\n];\n\nconst MicroserviceType = [\n  { text: '所有', value: '' },\n  { text: '普通应用', value: 'N' },\n  { text: 'Mesh应用', value: 'M' },\n  { text: '微服务网关应用', value: 'G' },\n  { text: '原生应用', value: 'NATIVE' },\n];\n\nconst ApplicationResourceType = [\n  { text: '默认资源类型', value: 'DEF' },\n  { text: '微服务网关资源', value: 'GW' },\n];\n\nconst TSFFieldsDescriptor = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputnumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputnumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'SearchWord',\n    enDescriptor: 'SearchWord',\n    cnDescriptor: '搜索关键字',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'ApplicationIdList',\n    enDescriptor: 'ApplicationIdList',\n    cnDescriptor: '应用ID 组成的数组',\n    link: '',\n    type: 'inputmulti',\n  },\n  {\n    key: 'ApplicationType',\n    enDescriptor: 'ApplicationType',\n    cnDescriptor: '应用类型',\n    link: '',\n    type: 'select',\n    list: ApplicationType,\n  },\n  {\n    key: 'MicroserviceType',\n    enDescriptor: 'MicroserviceType',\n    cnDescriptor: '应用的微服务类型',\n    link: '',\n    type: 'select',\n    list: MicroserviceType,\n  },\n  {\n    key: 'ApplicationResourceTypeList',\n    enDescriptor: 'ApplicationResourceTypeList',\n    cnDescriptor: '应用资源类型数组',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: ApplicationResourceType,\n  },\n];\n\nconst TSF_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'ApplicationId',\n  queries: {\n    Limit: 20,\n    Offset: 0,\n    SearchWord: '',\n    OrderBy: '',\n    OrderType: null,\n    ApplicationType: '',\n    MicroserviceType: '',\n    ApplicationResourceTypeList: [],\n    ApplicationIdList: [],\n  },\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\nconst TSFInstanceAliasList = ['ApplicationId', 'ApplicationName'];\n\nconst TSFInvalidDemensions = {\n  applicationid: 'ApplicationId',\n};\n\nconst templateQueryIdMap = {\n  instance: 'ApplicationId',\n};\n\nexport default TSF_STATE;\nexport {\n  TSFInvalidDemensions,\n  templateQueryIdMap,\n  TSFInstanceAliasList,\n  TSFFieldsDescriptor,\n  GetInstanceQueryParams as TSFGetInstanceQueryParams,\n};\n","import {\n  VCLBInstanceAliasList,\n  VCLBInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  clbNamespaceMap,\n  regionSupported,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport { t } from '../../../locale';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VCLBInstanceAliasList;\n  InvalidDimensions = VCLBInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'clb',\n    action: 'DescribeLoadBalancers',\n    responseField: 'LoadBalancerSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async getAllMetrics(region: string) {\n    const serviceInfo = GetServiceAPIInfo(region, 'monitor');\n    const { MetricSet: public_metrics } = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: clbNamespaceMap.public,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    );\n    const { MetricSet: private_metrics } = await this.doRequest(\n      {\n        url: this.url + serviceInfo.path,\n        data: {\n          Namespace: clbNamespaceMap.private,\n        },\n      },\n      serviceInfo.service,\n      { region, action: 'DescribeBaseMetrics' }\n    );\n    const res = Object.values(_.keyBy(_.concat(private_metrics, public_metrics), 'MetricName'));\n    return res.map((t) => modifyDimensons(t));\n  }\n  async getMetrics(region = 'ap-guangzhou') {\n    const rawSet = await this.getAllMetrics(region);\n    return _.compact(rawSet);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\nimport _ from 'lodash';\n\nconst namespace = 'QCE/V_CLB';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'vClbQuery';\n\nconst VCLBInvalidDemensions = {\n  InstanceId: 'LoadBalancerId',\n  // vip: 'LoadBalancerVips',\n  // loadBalancerPort: 'Port',\n  // protocol: 'Protocol',\n};\n\n// 要和文件名方式一致，ceip_summary=>CEIPSUMMARY\nconst VCLBInstanceAliasList = ['LoadBalancerId', 'LoadBalancerVips', 'LoadBalancerName'];\n\nconst templateQueryIdMap = {\n  instance: 'LoadBalancerId',\n};\nconst ForwardTypes = [\n  { text: '通用的负载均衡', value: 1 },\n  { text: '传统的负载均衡', value: 0 },\n];\n\nconst OrderBy = [\n  { text: 'LoadBalancerName', value: 'LoadBalancerName' },\n  { text: 'CreateTime', value: 'CreateTime' },\n  { text: 'Domain', value: 'Domain' },\n  { text: 'LoadBalancerType', value: 'LoadBalancerType' },\n];\n\nconst OrderType = [\n  { text: '升序', value: 0 },\n  { text: '降序', value: 1 },\n];\n\nconst WithRs = [\n  { text: '没有绑定后端服务', value: 0 },\n  { text: '绑定后端服务', value: 1 },\n  { text: '查询全部', value: -1 },\n];\nconst VCLBFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n  },\n  {\n    key: 'LoadBalancerIds',\n    enDescriptor: 'LoadBalancer ID',\n    cnDescriptor: '实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'LoadBalancerName',\n    enDescriptor: 'LoadBalancer Name',\n    cnDescriptor: '实例名称',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'Forward',\n    enDescriptor: 'Forward',\n    cnDescriptor: '负载均衡实例类型',\n    link: '',\n    type: 'select',\n    list: ForwardTypes,\n  },\n  {\n    key: 'Domain',\n    enDescriptor: 'Domain',\n    cnDescriptor: '域名，腾讯云为负载均衡实例分配的域名，本参数仅对传统型公网负载均衡才有意义',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'LoadBalancerVips',\n    enDescriptor: 'LoadBalancer Vips',\n    cnDescriptor: '负载均衡实例的 VIP 地址',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPrivateIps',\n    enDescriptor: 'BackendPrivate Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的内网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'BackendPublicIps',\n    enDescriptor: 'BackendPublic Ips',\n    cnDescriptor: '负载均衡绑定的后端服务的外网 IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ProjectId',\n    enDescriptor: 'Project ID',\n    cnDescriptor: '负载均衡实例所属的项目 ID',\n    link: '',\n    type: 'inputNumber',\n  },\n  {\n    key: 'VpcId',\n    enDescriptor: 'Vpc ID',\n    cnDescriptor: '负载均衡实例所属私有网络',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'SecurityGroup',\n    enDescriptor: 'Security Group',\n    cnDescriptor: '安全组ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'MasterZone',\n    enDescriptor: 'Master Zone',\n    cnDescriptor: '主可用区ID',\n    link: '',\n    type: 'input',\n  },\n  {\n    key: 'WithRs',\n    enDescriptor: 'WithRs',\n    cnDescriptor: '负载均衡是否绑定后端服务',\n    link: '',\n    type: 'select',\n    list: WithRs,\n  },\n  {\n    key: 'OrderBy',\n    enDescriptor: 'OrderBy',\n    cnDescriptor: '排序字段',\n    link: '',\n    type: 'select',\n    list: OrderBy,\n  },\n  {\n    key: 'OrderType',\n    enDescriptor: 'OrderByType',\n    cnDescriptor: '排序方式',\n    link: '',\n    type: 'select',\n    list: OrderType,\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/214/30685',\n  namespace,\n  fieldDescriptor: VCLBFilterFieldsDescriptor,\n};\nconst LBFields = {\n  LoadBalancerIds: [],\n  Forward: undefined,\n  LoadBalancerName: '',\n  Domain: '',\n  LoadBalancerVips: [],\n  BackendPublicIps: [],\n  BackendPrivateIps: [],\n  Limit: 20,\n  Offset: 0,\n  ProjectId: undefined,\n  WithRs: {},\n  VpcId: '',\n  SecurityGroup: '',\n  MasterZone: '',\n  OrderBy: {},\n  OrderType: {},\n};\n\nconst VCLB_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'LoadBalancerId',\n  Port: '',\n  Protocol: '',\n  listener: '',\n  // listenerAlias: 'ListenerId',\n  queries: LBFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n\n// regions for dropdown\nconst regionSupported = [\n  { value: 'ap-bangkok' },\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-jakarta' },\n  { value: 'ap-mumbai' },\n  { value: 'ap-seoul' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-shenzhen-fsi' },\n  { value: 'ap-singapore' },\n  { value: 'ap-tokyo' },\n  { value: 'eu-frankfurt' },\n  { value: 'eu-moscow' },\n  { value: 'na-ashburn' },\n  { value: 'na-siliconvalley' },\n  { value: 'na-toronto' },\n];\nconst clbNamespaceMap = {\n  public: 'QCE/LB_PUBLIC',\n  private: 'QCE/LB_PRIVATE',\n};\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['InstanceId'];\n  });\n  return metricTmp;\n}\nexport default VCLB_STATE;\nexport {\n  VCLBFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VCLBInstanceAliasList,\n  VCLBInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  clbNamespaceMap,\n  modifyDimensons,\n  regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as BMLBGetInstanceQueryParams,\n};\n","import { VBCInstanceAliasList, VBCInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VBCInstanceAliasList;\n  InvalidDimensions = VBCInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeCcns',\n    responseField: 'CcnSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getFilterDropdown({ field }) {\n    return super.getRegions();\n  }\n}\n","import coreModule from 'grafana/app/core/core_module';\nimport { VBCFilterFieldsDescriptor, namespace } from './query_def';\nimport { GetServiceFromNamespace } from '../../common/constants';\n\nconst ExtraFields: any = [\n  // {\n  //   label: 'SRegion',\n  //   field: 'SRegion',\n  // },\n  // {\n  //   label: 'DRegion',\n  //   field: 'DRegion',\n  // },\n];\n\nexport class VBCQueryCtrl {\n  /** @ngInject */\n  constructor($scope, $rootScope) {\n    $scope.init = () => {\n      $scope.VBCFilterFieldsDescriptor = VBCFilterFieldsDescriptor;\n      $scope.namespace = namespace;\n    };\n    $scope.getExtraFields = () => {\n      return ExtraFields.filter((item) => item.field in ($scope.dims ?? {}));\n    };\n\n    $scope.getExtraDropdown = (field) => {\n      const service = GetServiceFromNamespace($scope.namespace);\n      // return $scope.datasource.getServiceFn(service, 'getFilterDropdown')({ field })\n      return $scope.datasource.getFilterDropdown(service, { field });\n    };\n\n    $scope.init();\n  }\n}\n\nconst template = `\n<div>\n<div class=\"tc-sub-params\" ng-if=\"showDetail\">\n  <label class=\"gf-form-label tc-info-label\">\n    Functions are queried by following params.\n    <a target=\"_blank\" style=\"text-decoration:underline;color:#006eff;font-size:medium\" href=\"https://cloud.tencent.com/document/product/248/45073\">Click here to get API doc.</a>\n  </label>\n  <div class=\"gf-form-inline\" ng-repeat=\"field in VBCFilterFieldsDescriptor\">\n    <div class=\"gf-form\">\n      <label class=\"gf-form-label width-14\">\n        {{ field.key }}\n        <info-popover mode=\"right-normal\">\n          {{ field.cnDescriptor }}\n          <a target=\"_blank\" href=\"{{field.link}}\" ng-if=\"field.link\">Click here for more information.</a>\n        </info-popover>\n      </label>\n      <input\n        ng-if=\"field.type === 'inputNumber'\"\n        style=\"margin-right:2px\"\n        type=\"number\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n        ng-min=\"field.min\"\n        ng-max=\"field.max\"\n      />\n      <input\n        ng-if=\"field.type === 'input'\"\n        style=\"margin-right:2px\"\n        type=\"text\"\n        ng-model=\"target.queries[field.key]\"\n        ng-change=\"onChange()\"\n        class=\"gf-form-input width-10\"\n      />    \n      <multi-condition\n        ng-if=\"field.type === 'inputNumberMulti'\"\n        type=\"'inputNumber'\"\n        max-cond=\"5\"\n        value=\"target.queries.Filters[field.key]\"\n        maxNum=\"field.max\"\n        minNum=\"field.min\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <multi-condition\n        ng-if=\"field.type === 'inputMulti'\"\n        type=\"'input'\"\n        value=\"target.queries[field.key]\"\n        on-change=\"onChange()\"\n      ></multi-condition>\n      <custom-select-dropdown\n        ng-if=\"field.type === 'select'\"\n        value=\"target.queries[field.key]\"\n        options=\"field.list\"\n        multiple=\"field.multiple || false\"\n        on-change=\"onChange()\"\n      ></custom-select-dropdown>\n    </div>\n  </div>\n</div>\n\n<!-- 起始区域 目的区域等 -->\n  <div>\n    <div class=\"gf-form-inline\" ng-repeat=\"extra in getExtraFields()\">\n      <div class=\"gf-form\">\n        <label class=\"gf-form-label query-keyword width-9\">{{extra.label}}</label>\n        <div class=\"gf-form-select-wrapper gf-form-select-wrapper--caret-indent\">\n          <gf-form-dropdown model=\"target[extra.field]\" allow-custom=\"false\" get-options=\"getExtraDropdown(extra.field)\"\n            on-change=\"onRefresh()\" css-class=\"min-width-10\">\n          </gf-form-dropdown>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n`;\n\nexport function scfQuery() {\n  return {\n    template: template,\n    controller: VBCQueryCtrl,\n    restrict: 'E',\n    scope: {\n      target: '=',\n      showDetail: '=',\n      region: '=',\n      datasource: '=',\n      getDropdownOptions: '&',\n      onChange: '&',\n      onRefresh: '&',\n      dims: '=',\n    },\n  };\n}\ncoreModule.directive('vbcQuery', scfQuery);\n","// 产品目录名字和service名字匹配即 lb_private(目录名) => lbPrivate(service)\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VBC';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'vbcQuery';\n\nconst VBCInvalidDemensions = {\n  // CcnId: 'CcnId',\n};\n\n// 需和文件名对应\nconst VBCInstanceAliasList = ['CcnId', 'CcnName'];\n\nconst templateQueryIdMap = {\n  instance: 'CcnId',\n};\n\n// select类型需要注意是{},multi后缀是[],dropdown是''\nconst VBCFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'ccn-id': [],\n  'ccn-name': [],\n  'ccn-description': [],\n  state: {},\n};\n\nconst VBCFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'ccn-id',\n    enDescriptor: 'ccn-id',\n    cnDescriptor: 'CCN实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ccn-name',\n    enDescriptor: 'ccn-name',\n    cnDescriptor: 'CCN名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'ccn-description',\n    enDescriptor: 'ccn-description',\n    cnDescriptor: 'CCN描述',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'state',\n    enDescriptor: 'state',\n    cnDescriptor: '实例状态',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '隔离中', value: 'ISOLATED' },\n      { text: '运行中', value: 'AVAILABLE' },\n    ],\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/19199',\n  namespace,\n  fieldDescriptor: VBCFilterFieldsDescriptor,\n};\n\nconst VBC_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'CcnId',\n  DRegion: '',\n  SRegion: '',\n  queries: VBCFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, false);\n}\n// const regionSupported = [\n//   { text: '华北地区(北京)', value: 'ap-beijing' },\n//   { text: '西南地区(成都)', value: 'ap-chengdu' },\n//   { text: '西南地区(重庆)', value: 'ap-chongqing' },\n//   { text: '华南地区(广州)', value: 'ap-guangzhou' },\n//   { text: '港澳台地区(中国香港)', value: 'ap-hongkong' },\n//   { text: '亚太南部(孟买)', value: 'ap-mumbai' },\n//   { text: '华东地区(南京)', value: 'ap-nanjing' },\n//   { text: '华东地区(上海)', value: 'ap-shanghai' },\n//   { text: '华东地区(上海金融)', value: 'ap-shanghai-fsi' },\n//   { text: '华南地区(深圳金融)', value: 'ap-shenzhen-fsi' },\n//   { text: '亚太东南(新加坡)', value: 'ap-singapore' },\n//   { text: '亚太东北(东京)', value: 'ap-tokyo' },\n//   { text: '欧洲地区(法兰克福)', value: 'eu-frankfurt' },\n//   { text: '美国东部(弗吉尼亚)', value: 'na-ashburn' },\n//   { text: '美国西部(硅谷)', value: 'na-siliconvalley' },\n//   { text: '北美地区(多伦多)', value: 'na-toronto' },\n// ];\nexport default VBC_STATE;\nexport {\n  VBCFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VBCInstanceAliasList,\n  VBCInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  // regionSupported,\n  // 对应产品的service的全大写拼接GetInstanceQueryParams\n  GetInstanceQueryParams as VBCGetInstanceQueryParams,\n};\n","import {\n  VPCNETDETECTInstanceAliasList,\n  VPCNETInvalidDemensions,\n  namespace,\n  templateQueryIdMap,\n  modifyDimensons,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPCNETDETECTInstanceAliasList;\n  InvalidDimensions = VPCNETInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeNetDetects',\n    responseField: 'NetDetectSet',\n    interceptor: {\n      // response: (data: unknown[]) =>[\n      //   {\n      //     \"NetDetectId\": \"netd-12345678\",\n      //   },\n      // ],\n    },\n  };\n  MetricReqConfig = {\n    resultFilter: modifyDimensons,\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPC_NET_DETECT';\n\n// 组件名称。这里名字要和index.ts中的SERVICES对应，后面会根据SERVICES中service字段拼接这个query组件名称\nconst queryEditorName = 'vpcNetDetectQuery';\n\nconst VPCNETInvalidDemensions = {\n  netdetectid: 'NetDetectId',\n  netDetectId: 'NetDetectId',\n};\n\nconst VPCNETDETECTInstanceAliasList = ['NetDetectId', 'NetDetectName'];\n\nconst templateQueryIdMap = {\n  instance: 'NetDetectId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst VPCNETFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'net-detect-id': [],\n  'subnet-id': [],\n  'net-detect-name': [],\n};\n\nconst VPCNETFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPC实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'net-detect-id',\n    enDescriptor: 'net-detect-id',\n    cnDescriptor: '网络探测实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'subnet-id',\n    enDescriptor: 'subnet-id',\n    cnDescriptor: '子网实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'net-detect-name',\n    enDescriptor: 'net-detect-name',\n    cnDescriptor: '网络探测名称',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/38696',\n  namespace,\n  fieldDescriptor: VPCNETFilterFieldsDescriptor,\n};\n\nconst VPCNET_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'NetDetectId',\n  queries: VPCNETFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nfunction modifyDimensons(metricItem: any) {\n  const metricTmp = _.cloneDeep(metricItem);\n  metricTmp.Dimensions.forEach((item) => {\n    item.Dimensions = ['netDetectId'];\n  });\n  return metricTmp;\n}\nexport default VPCNET_STATE;\nexport {\n  VPCNETFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPCNETDETECTInstanceAliasList,\n  VPCNETInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  modifyDimensons,\n  GetInstanceQueryParams as VPCNETDETECTGetInstanceQueryParams,\n};\n","import { VPNGWInstanceAliasList, VPNGWInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { GetServiceAPIInfo } from '../../common/constants';\nimport _ from 'lodash';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPNGWInstanceAliasList;\n  InvalidDimensions = VPNGWInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeVpnGateways',\n    responseField: 'VpnGatewaySet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n\n  getFilterDropdown({ field, region }) {\n    if (field === 'zone') {\n      const serviceInfo = GetServiceAPIInfo(region, 'cvm');\n      return this.doRequest(\n        {\n          url: this.url + serviceInfo.path,\n        },\n        serviceInfo.service,\n        { region, action: 'DescribeZones' }\n      ).then((response) => {\n        return _.filter(\n          _.map(response.ZoneSet || [], (item) => {\n            return { text: item.ZoneName, value: item.Zone, ZoneState: item.ZoneState, Zone: item.Zone };\n          }),\n          (item) => item.ZoneState === 'AVAILABLE'\n        );\n      });\n    }\n    return [];\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPNGW';\nconst queryEditorName = 'vpngwQuery';\n\nconst VPNGWInvalidDemensions = {\n  vpnGwId: 'VpnGatewayId',\n};\n\nconst VPNGWInstanceAliasList = ['VpnGatewayId', 'VpnGatewayName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpnGatewayId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst VPNGWFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'vpn-gateway-id': [],\n  'vpn-gateway-name': [],\n  type: {},\n  'public-ip-address': [],\n  'renew-flag': {},\n  zone: [],\n};\n\nconst VPNGWFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPC实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-id',\n    enDescriptor: 'vpn-gateway-id',\n    cnDescriptor: 'VPN实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-name',\n    enDescriptor: 'vpn-gateway-name',\n    cnDescriptor: 'VPN实例名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'type',\n    enDescriptor: 'type',\n    cnDescriptor: 'VPN网关类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: 'IPSEC', value: 'IPSEC' },\n      { text: 'SSL', value: 'SSL' },\n    ],\n  },\n  {\n    key: 'public-ip-address',\n    enDescriptor: 'public-ip-address',\n    cnDescriptor: '公网IP',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'renew-flag',\n    enDescriptor: 'renew-flag',\n    cnDescriptor: '网关续费类型',\n    link: '',\n    type: 'select',\n    multiple: true,\n    list: [\n      { text: '手动续费', value: 'NOTIFY_AND_MANUAL_RENEW' },\n      { text: '自动续费', value: 'NOTIFY_AND_AUTO_RENEW' },\n    ],\n  },\n  {\n    key: 'zone',\n    enDescriptor: 'zone',\n    cnDescriptor: 'VPN所在可用区',\n    link: '',\n    type: 'dropdownMulti',\n  },\n];\n\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/17514',\n  namespace,\n  fieldDescriptor: VPNGWFilterFieldsDescriptor,\n};\n\nconst VPNGW_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpnGatewayId',\n  queries: VPNGWFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default VPNGW_STATE;\nexport {\n  VPNGWFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPNGWInstanceAliasList,\n  VPNGWInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as VPNGWGetInstanceQueryParams,\n};\n","import { VPNXInstanceAliasList, VPNXInvalidDemensions, namespace, templateQueryIdMap } from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\n\nexport default class DCDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = VPNXInstanceAliasList;\n  InvalidDimensions = VPNXInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  // 此处service是接口的配置参数，需和plugin.json里一致，和constant.ts中SERVICES_API_INFO保持一致\n  InstanceReqConfig = {\n    service: 'vpc',\n    action: 'DescribeVpnConnections',\n    responseField: 'VpnConnectionSet',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/VPNX';\nconst queryEditorName = 'vpnxQuery';\n\nconst VPNXInvalidDemensions = {\n  vpnConnId: 'VpnConnectionId',\n};\n\nconst VPNXInstanceAliasList = ['VpnConnectionId', 'VpnConnectionName'];\n\nconst templateQueryIdMap = {\n  instance: 'VpnConnectionId',\n};\n\n// select类型需要注意是{},multi后缀是[]\nconst VPNXFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  'vpc-id': [],\n  'vpn-gateway-id': [],\n  'customer-gateway-id': [],\n  'vpn-connection-name': [],\n  'vpn-connection-id': [],\n};\n\nconst VPNXFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'vpc-id',\n    enDescriptor: 'vpc-id',\n    cnDescriptor: 'VPC实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-gateway-id',\n    enDescriptor: 'vpn-gateway-id',\n    cnDescriptor: 'VPN实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'customer-gateway-id ',\n    enDescriptor: 'customer-gateway-id ',\n    cnDescriptor: '对端网关实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-connection-name',\n    enDescriptor: 'vpn-connection-name',\n    cnDescriptor: '通道名称',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'vpn-connection-id',\n    enDescriptor: 'vpn-connection-id',\n    cnDescriptor: '通道实例ID',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/215/17515',\n  namespace,\n  fieldDescriptor: VPNXFilterFieldsDescriptor,\n};\n\nconst VPNX_STATE = {\n  region: '',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'VpnConnectionId',\n  queries: VPNXFilterFields,\n};\n\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\nexport default VPNX_STATE;\nexport {\n  VPNXFilterFieldsDescriptor,\n  templateQueryIdMap,\n  VPNXInstanceAliasList,\n  VPNXInvalidDemensions,\n  namespace,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as VPNXGetInstanceQueryParams,\n};\n","import _ from 'lodash';\nimport {\n  WAFInstanceAliasList,\n  WAFInvalidDemensions,\n  templateQueryIdMap,\n  namespace,\n  regionSupported,\n} from './query_def';\nimport { BaseDatasource } from '../_base/datasource';\nimport { t } from '../../../locale';\n\nexport default class CDNDatasource extends BaseDatasource {\n  Namespace = namespace;\n  InstanceAliasList = WAFInstanceAliasList;\n  InvalidDimensions = WAFInvalidDemensions;\n  templateQueryIdMap = templateQueryIdMap;\n  InstanceReqConfig = {\n    // service: 'waf',\n    action: 'DescribeDomains',\n    responseField: 'Domains',\n  };\n  constructor(instanceSettings, backendSrv, templateSrv) {\n    super(instanceSettings, backendSrv, templateSrv);\n  }\n  getRegions() {\n    return Promise.resolve(regionSupported.map(({ value }) => ({ value, text: t(value) })));\n  }\n  async metricFindQuery(query: any, regex?: string) {\n    return super.metricFindQuery({ ...query, ...{ region: 'ap-guangzhou' } }, regex);\n  }\n}\n","import queryFactory from '../_base/query';\nimport { queryEditorConfig, queryEditorName } from './query_def';\nqueryFactory(queryEditorName, queryEditorConfig);\n","import * as _ from 'lodash';\nimport { DetailQueryConfig, FildDescriptorType } from '../_base/types';\nimport { instanceQueryParamsBaseParse } from '../../common/utils';\n\nconst namespace = 'QCE/WAF';\nconst queryEditorName = 'wafQuery';\nconst WAFFilterFields = {\n  Limit: 20,\n  Offset: 0,\n  origin: [],\n  domain: [],\n  resourceId: [],\n  status: {},\n  serviceType: {},\n  projectId: [],\n  domainType: {},\n  fullUrlCache: {},\n  https: {},\n  originPullProtocol: {},\n  tagKey: [],\n};\n\nconst WAFFilterFieldsDescriptor: FildDescriptorType = [\n  {\n    key: 'Offset',\n    enDescriptor: 'Offset',\n    cnDescriptor: '偏移量, 例如Offset=20&Limit=20 返回第 20 到 40 项',\n    link: '',\n    type: 'inputNumber',\n    min: 0,\n  },\n  {\n    key: 'Limit',\n    enDescriptor: 'Limit',\n    cnDescriptor: '单次请求返回的数量，默认为20，最小值为1，最大值为100',\n    link: '',\n    type: 'inputNumber',\n    min: 1,\n    max: 100,\n  },\n  {\n    key: 'origin',\n    enDescriptor: 'origin',\n    cnDescriptor: '主源站',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'domain',\n    enDescriptor: 'domain',\n    cnDescriptor: '域名',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'resourceId',\n    enDescriptor: 'resourceId',\n    cnDescriptor: '域名id',\n    link: '',\n    type: 'inputMulti',\n  },\n  {\n    key: 'status',\n    enDescriptor: 'status',\n    cnDescriptor: '域名状态',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'online', value: 'online' },\n      { text: 'offline', value: 'offline' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'serviceType',\n    enDescriptor: 'serviceType',\n    cnDescriptor: '业务类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'web', value: 'web' },\n      { text: 'download', value: 'download' },\n      { text: 'media', value: 'media' },\n    ],\n  },\n  {\n    key: 'projectId',\n    enDescriptor: 'projectId',\n    cnDescriptor: '项目ID',\n    link: '',\n    type: 'inputNumberMulti',\n  },\n  {\n    key: 'domainType',\n    enDescriptor: 'domainType',\n    cnDescriptor: '主源站类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '自有源', value: 'cname' },\n      { text: 'cos接入', value: 'cos' },\n    ],\n  },\n  {\n    key: 'fullUrlCache',\n    enDescriptor: 'fullUrlCache',\n    cnDescriptor: '全路径缓存',\n    link: '',\n    type: 'select',\n    list: [\n      { text: '打开', value: 'on' },\n      { text: '关闭', value: 'off' },\n    ],\n  },\n  {\n    key: 'https',\n    enDescriptor: 'https',\n    cnDescriptor: '是否配置https',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'on', value: 'on' },\n      { text: 'off', value: 'off' },\n      { text: 'processing', value: 'processing' },\n    ],\n  },\n  {\n    key: 'originPullProtocol',\n    enDescriptor: 'originPullProtocol',\n    cnDescriptor: '回源协议类型',\n    link: '',\n    type: 'select',\n    list: [\n      { text: 'http', value: 'http' },\n      { text: 'follow', value: 'follow' },\n      { text: 'https', value: 'https' },\n    ],\n  },\n  {\n    key: 'tagKey',\n    enDescriptor: 'tagKey',\n    cnDescriptor: '标签键',\n    link: '',\n    type: 'inputMulti',\n  },\n];\n\n// 各产品实例列表detail配置\nconst queryEditorConfig: DetailQueryConfig = {\n  instanceDocUrl: 'https://cloud.tencent.com/document/api/228/41118',\n  namespace,\n  fieldDescriptor: WAFFilterFieldsDescriptor,\n};\nconst WAF_STATE = {\n  region: 'ap-guangzhou',\n  metricName: '',\n  metricUnit: '',\n  period: undefined,\n  dimensionObject: null,\n  instance: '',\n  instanceAlias: 'Domain',\n  queries: WAFFilterFields,\n};\nconst regionSupported = [\n  { value: 'ap-beijing' },\n  { value: 'ap-chengdu' },\n  { value: 'ap-chongqing' },\n  { value: 'ap-guangzhou' },\n  { value: 'ap-hongkong' },\n  { value: 'ap-nanjing' },\n  { value: 'ap-shanghai' },\n  { value: 'ap-shanghai-fsi' },\n  { value: 'ap-seoul' },\n  { value: 'ap-singapore' },\n];\nfunction GetInstanceQueryParams(queries: any = {}) {\n  return instanceQueryParamsBaseParse(queries, true);\n}\n\nconst WAFInstanceAliasList = ['Domain', 'ProjectId'];\n\nconst WAFInvalidDemensions = {\n  projectId: 'ProjectId',\n  domain: 'Domain',\n};\nconst templateQueryIdMap = {\n  instance: 'Domain',\n};\nexport default WAF_STATE;\nexport {\n  WAFFilterFieldsDescriptor,\n  templateQueryIdMap,\n  WAFInstanceAliasList,\n  WAFInvalidDemensions,\n  namespace,\n  regionSupported,\n  queryEditorName,\n  queryEditorConfig,\n  GetInstanceQueryParams as WAFGetInstanceQueryParams,\n};\n","const en_US = {\n  language: 'Language',\n  enable_intranet_API_mode: 'Enable Intranet API Mode',\n  cloud_database: 'Cloud Database',\n  cloud_load_balancer: 'Cloud Load Balancer',\n  virtual_private_cloud: 'Virtual Private Cloud',\n  content_delivery_network: 'Content Delivery Network',\n  message_queue: 'Message Queue',\n  direct_connect: 'Direct Connect',\n  cloud_physical_machine: 'Cloud Physical Machine',\n  elastic_mapReduce: 'Elastic MapReduce',\n  edge_computing_machine: 'Edge Computing Machine',\n  // namespace\n  RUM: 'Real User Monitoring(RUM)',\n  CLS: 'Cloud Log Service(CLS)',\n  CVM: 'Cloud Virtual Machine(CVM)',\n  CDB: 'TencentDB for MySQL(CDB)',\n  CMONGO: 'TencentDB for MongoDB(CMONGO)',\n  POSTGRES: 'TencentDB for PostgreSQL(POSTGRES)',\n  REDIS: 'TencentDB for Redis(REDIS)',\n  REDIS_MEM: 'TencentDB for Redis(Memory Edition, 5-Second)(REDIS_MEM)',\n  SQLSERVER: 'TencentDB for SQL Server(SQLSERVER)',\n  CYNOSDB_MYSQL: 'TencentDB for CYNOSDB_MYSQL(CYNOSDB_MYSQL)',\n  TCAPLUS: 'TencentDB for TcaplusDB(TCAPLUS)',\n  TDMYSQL: 'TDSQL for MySQL(TDMYSQL)',\n  PCX: 'Peering Connection(PCX)',\n  BWP: 'Bandwidth Packet(BWP)',\n  NAT_GATEWAY: 'NAT Gateway(NAT_GATEWAY)',\n  VPNGW: 'VPN Gateway(VPNGW)',\n  VPNX: 'VPN Tunnel(VPNX)',\n  DCG: 'Direct Connect Gateway(DCG)',\n  CEIP_SUMMARY: 'Anycast EIP(CEIP_SUMMARY)',\n  VPC_NET_DETECT: 'Network Detection(VPC_NET_DETECT)',\n  VBC: 'Cloud Connect Network(VBC)',\n  LB: 'Elastic IP(LB)',\n  LB_PUBLIC: 'Public Network CLB(LB_PUBLIC)',\n  LB_PRIVATE: 'Private Network CLB Layer-4 Protocol(LB_PRIVATE)',\n  LOADBALANCE: 'Private Network CLB Layer-7 Protocol(LOADBALANCE)',\n  CDN: 'Chinese Mainland Domain(CDN)',\n  CDN_LOG_DATA: 'Province(CDN_LOG_DATA)',\n  OV_CDN: 'Overseas Domain(OV_CDN)',\n  SCF_V2: 'Serverless Cloud Function(SCF)',\n  CFS: 'Cloud File Storage(CFS)',\n  COS: 'Cloud Object Storage(COS)',\n  CKAFKA: 'Message Queue CKafka(CKAFKA)',\n  CMQ: 'Message Queue for Queue Service(CMQ)',\n  CMQTOPIC: 'Message Queue for Topic Subscription(CMQTOPIC)',\n  TDMQ: 'Tencent Distributed Message Queue for Pulsar(TDMQ)',\n  TDMQ_ROCKETMQ: 'Tencent Distributed Message Queue for RocketMQ(ROCKETMQ)',\n  TDMQ_RABBITMQ: 'Tencent Distributed Message Queue for RabbitMQ(RABBITMQ)',\n  DCX: 'Direct Connect for Dedicated Tunnel(DCX)',\n  DC: 'Direct Connect for Connection(DC)',\n  CPM: 'Cloud Physical Machine(CPM)',\n  BM_PCX: 'Cloud Physical Machine for Peering Connection(BM_PCX)',\n  BM_LB: 'Cloud Physical Machine for Public Network CLB(BM_LB)',\n  BM_INTRA_LB: 'Cloud Physical Machine for Private Network CLB(BM_INTRA_LB)',\n  CES: 'Elasticsearch Service(CES)',\n  BLOCK_STORAGE: 'Cloud Block Storage(BLOCK_STORAGE)',\n  APIGATEWAY: 'API Gateway(APIGATEWAY)',\n  QAAP: 'Global Application Acceleration Platform(GAAP)',\n  ECM: 'Edge Computing Machine for Computation and Networking(ECM)',\n  ECM_BLOCK_STORAGE: 'Edge Computing Machine for Block Storage(ECM_BLOCK_STORAGE)',\n  ECM_LB: 'Edge Computing Machine for Layer-4 CLB(ECM_LB)',\n  GSE: 'Game Server Elastic-scaling(GSE)',\n  TKE: 'Tencent Kubernetes Engine(TKE)',\n  ECDN: 'Enterprise Content Delivery Network(ECDN)',\n  WAF: 'Web Application Firewall(WAF)',\n  // others\n  multi_scene: 'Multi-Scene',\n  lite: 'Lite',\n  cloud_monitor: 'Cloud Monitor',\n  cloud_log_service: 'Cloud Log Service',\n  real_user_monitoring: 'Real User Monitoring',\n  apm_monitoring: 'Application Monitoring',\n  region: 'Region',\n  log_topic: 'Log Topic',\n  syntax_rule: 'Syntax Rule',\n  max_result_num: 'Maximum result number',\n  search_statement: 'Search Statement',\n  time_unit: 'Time unit',\n  seconds: 'seconds',\n  search_description:\n    'Search for instances according to specific query conditions, and pull the first 20 instances by default',\n  // region\n  'ap-guangzhou': 'South China(Guangzhou)',\n  'ap-shenzhen-fsi': 'South China(Shenzhen Finance)',\n  'ap-guangzhou-open': 'South China(Guangzhou OPEN)',\n  'ap-shenzhen': 'South China(Shenzhen)',\n  'ap-qingyuan': 'South China(Qingyuan)',\n  'ap-shanghai': 'East China(Shanghai)',\n  'ap-shanghai-fsi': 'East China(Shanghai Finance)',\n  'ap-jinan-ec': 'East China(Jinan)',\n  'ap-hangzhou-ec': 'East China(Hangzhou)',\n  'ap-nanjing': 'East China(Nanjing)',\n  'ap-fuzhou-ec': 'East China(Fuzhou)',\n  'ap-hefei-ec': 'East China(Hefei)',\n  'ap-beijing': 'North China region(Beijing)',\n  'ap-tianjin': 'North China region(Tianjin)',\n  'ap-beijing-fsi': 'North China region(Beijing Finance)',\n  'ap-shijiazhuang-ec': 'North China region(Shijiazhuang)',\n  'ap-wuhan-ec': 'Central China(Wuhan)',\n  'ap-changsha-ec': 'Central China(Changsha)',\n  'ap-zhengzhou-ec': 'Central China(Zhengzhou)',\n  'ap-chengdu': 'Southwest China(Chengdu)',\n  'ap-chongqing': 'Southwest China(Chongqing)',\n  'ap-xian-ec': \"Northwest region(Xi'an)\",\n  'ap-shenyang-ec': 'Northeast China(Shenyang)',\n  'ap-taipei': 'Hong Kong, Macau and Taiwan (China)(Taipei, China)',\n  'ap-hongkong': 'Hong Kong, Macau and Taiwan (China)(Hong Kong, China)',\n  'ap-seoul': 'Northeast Asia(Seoul)',\n  'ap-tokyo': 'Northeast Asia(Tokyo)',\n  'ap-singapore': 'Southeast Asia(Singapore)',\n  'ap-bangkok': 'Southeast Asia(Bangkok)',\n  'ap-jakarta': 'Southeast Asia(Jakarta)',\n  'na-siliconvalley': 'US West(Silicon Valley)',\n  'eu-frankfurt': 'Europe(Frankfurt)',\n  'eu-moscow': 'Europe(Northeastern Europe)',\n  'ap-mumbai': 'South Asia(Mumbai)',\n  'na-ashburn': 'US East(Virginia)',\n  'sa-saopaulo': 'South America(São Paulo)',\n  'na-toronto': 'North America(Toronto)',\n};\nexport default en_US;\n","import zh_CN from './zh_CN';\nimport en_US from './en_US';\n\nlet locale_language = 'zh-CN';\n\nexport enum Language {\n  Chinese = 'zh-CN',\n  English = 'en-US',\n}\n\nexport const t = (key: string) => {\n  if (locale_language === Language.Chinese) {\n    return zh_CN[key];\n  }\n  return en_US[key];\n};\n\nexport const setLanguage = (language: Language) => {\n  locale_language = language;\n};\n\nexport const getLanguage = () => locale_language;\n","const zh_CN = {\n  language: '语言',\n  enable_intranet_API_mode: '开启内网API模式',\n  cloud_database: '云数据库',\n  cloud_load_balancer: '负载均衡',\n  virtual_private_cloud: '私有网络',\n  content_delivery_network: '内容分发网络',\n  message_queue: '消息队列',\n  direct_connect: '专线接入',\n  cloud_physical_machine: '黑石物理服务器',\n  elastic_mapReduce: '弹性 MapReduce',\n  edge_computing_machine: '边缘计算机器',\n  // namespace\n  RUM: '前端性能监控(RUM)',\n  APM: '应用性能监控(APM)',\n  CLS: '日志服务(CLS)',\n  CVM: '云服务器(CVM)',\n  CDB: '云数据库 MySQL(CDB)',\n  CMONGO: '云数据库 MongoDB(CMONGO)',\n  POSTGRES: '云数据库 PostgreSQL(POSTGRES)',\n  REDIS: '云数据库 Redis(REDIS)',\n  REDIS_MEM: '云数据库 Redis内存版(5s)(REDIS_MEM)',\n  SQLSERVER: '云数据库 SQL Server(SQLSERVER)',\n  CYNOSDB_MYSQL: '云数据库 CYNOSDB_MYSQL(CYNOSDB_MYSQL)',\n  TCAPLUS: '云数据库 TcaplusDB(TCAPLUS)',\n  TDMYSQL: '分布式数据库 TDSQL MySQL(TDMYSQL)',\n  PCX: '私有网络-对等连接(PCX)',\n  BWP: '私有网络-带宽包(BWP)',\n  NAT_GATEWAY: '私有网络-NAT 网关(NAT_GATEWAY)',\n  VPNGW: '私有网络-VPN 网关(VPNGW)',\n  VPNX: '私有网络-VPN 通道(VPNX)',\n  DCG: '私有网络-专线网关(DCG)',\n  CEIP_SUMMARY: '私有网络-Anycast 弹性公网IP(CEIP_SUMMARY)',\n  VPC_NET_DETECT: '私有网络-网络探测(VPC_NET_DETECT)',\n  VBC: '私有网络-云联网(VBC)',\n  LB: '私有网络-弹性公网IP(LB)',\n  LB_PUBLIC: '公网负载均衡监控指标(LB_PUBLIC)',\n  LB_PRIVATE: '内网负载均衡四层协议监控指标(LB_PRIVATE)',\n  LOADBALANCE: '内网负载均衡七层协议监控指标(LOADBALANCE)',\n  CDN: '国内域名(CDN)',\n  CDN_LOG_DATA: '省份域名(CDN_LOG_DATA)',\n  OV_CDN: '国外域名(OV_CDN)',\n  SCF_V2: '云函数(SCF)',\n  CFS: '文件存储(CFS)',\n  COS: '对象存储(COS)',\n  CKAFKA: '消息队列 CKafka(CKAFKA)',\n  CMQ: '消息队列-队列服务监控(CMQ)',\n  CMQTOPIC: '消息队列-主题订阅监控(CMQTOPIC)',\n  TDMQ: '消息队列 Pulsar 版(TDMQ)',\n  TDMQ_ROCKETMQ: '消息队列 RocketMQ 版(ROCKETMQ)',\n  TDMQ_RABBITMQ: '消息队列 RabbitMQ 版(RABBITMQ)',\n  DCX: '专线接入-专用通道(DCX)',\n  DC: '专线接入-物理专线(DC)',\n  CPM: '黑石物理服务器(CPM)',\n  BM_PCX: '黑石对等连接(BM_PCX)',\n  BM_LB: '黑石外网负载均衡(BM_LB)',\n  BM_INTRA_LB: '黑石内网负载均衡(BM_INTRA_LB)',\n  CES: 'Elasticsearch指标(CES)',\n  BLOCK_STORAGE: '云硬盘(BLOCK_STORAGE)',\n  APIGATEWAY: 'API 网关(APIGATEWAY)',\n  QAAP: '全球应用加速(GAAP)',\n  ECM: '边缘计算和网络监控(ECM)',\n  ECM_BLOCK_STORAGE: '边缘计算存储监控(ECM_BLOCK_STORAGE)',\n  ECM_LB: '边缘计算负载均衡(ECM_LB)',\n  GSE: '游戏服务器伸缩(GSE)',\n  TKE: '容器服务(TKE)',\n  ECDN: '全站加速网络(ECDN)',\n  WAF: 'Web 应用防火墙(WAF)',\n  // others\n  multi_scene: '多场景版',\n  lite: '精简版',\n  cloud_monitor: '云监控',\n  cloud_log_service: '日志服务',\n  real_user_monitoring: '前端性能监控',\n  apm_monitoring: '应用性能监控',\n  region: '地域',\n  log_topic: '日志主题',\n  syntax_rule: '语法规则',\n  max_result_num: '最大结果条数',\n  search_statement: '检索语句',\n  time_unit: 'Time unit',\n  seconds: 'seconds',\n  search_description: '按照具体的查询条件搜索实例，默认拉取前 20 条实例',\n  // region\n  'ap-guangzhou': '华南地区(广州)',\n  'ap-shenzhen-fsi': '华南地区(深圳金融)',\n  'ap-guangzhou-open': '华南地区(广州OPEN)',\n  'ap-shenzhen': '华南地区(深圳)',\n  'ap-qingyuan': '华南地区(清远)',\n  'ap-shanghai': '华东地区(上海)',\n  'ap-shanghai-fsi': '华东地区(上海金融)',\n  'ap-jinan-ec': '华东地区(济南)',\n  'ap-hangzhou-ec': '华东地区(杭州)',\n  'ap-nanjing': '华东地区(南京)',\n  'ap-fuzhou-ec': '华东地区(福州)',\n  'ap-hefei-ec': '华东地区(合肥)',\n  'ap-beijing': '华北地区(北京)',\n  'ap-tianjin': '华北地区(天津)',\n  'ap-beijing-fsi': '华北地区(北京金融)',\n  'ap-shijiazhuang-ec': '华北地区(石家庄)',\n  'ap-wuhan-ec': '华中地区(武汉)',\n  'ap-changsha-ec': '华中地区(长沙)',\n  'ap-zhengzhou-ec': '华中地区(郑州)',\n  'ap-chengdu': '西南地区(成都)',\n  'ap-chongqing': '西南地区(重庆)',\n  'ap-xian-ec': '西北地区(西安)',\n  'ap-shenyang-ec': '东北地区(沈阳)',\n  'ap-taipei': '港澳台地区(中国台北)',\n  'ap-hongkong': '港澳台地区(中国香港)',\n  'ap-seoul': '亚太东北(首尔)',\n  'ap-tokyo': '亚太东北(东京)',\n  'ap-singapore': '亚太东南(新加坡)',\n  'ap-bangkok': '亚太东南(曼谷)',\n  'ap-jakarta': '亚太东南(雅加达)',\n  'na-siliconvalley': '美国西部(硅谷)',\n  'eu-frankfurt': '欧洲地区(法兰克福)',\n  'eu-moscow': '欧洲地区(莫斯科)',\n  'ap-mumbai': '亚太南部(孟买)',\n  'na-ashburn': '美国东部(弗吉尼亚)',\n  'sa-saopaulo': '南美地区(圣保罗)',\n  'na-toronto': '北美地区(多伦多)',\n};\nexport default zh_CN;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_data__;","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_runtime__;","module.exports = __WEBPACK_EXTERNAL_MODULE_grafana_app_core_core_module__;","module.exports = __WEBPACK_EXTERNAL_MODULE_lodash__;","module.exports = __WEBPACK_EXTERNAL_MODULE_moment__;"],"sourceRoot":""}